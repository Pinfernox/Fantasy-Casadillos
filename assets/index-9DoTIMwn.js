(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function fS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pm={exports:{}},Oc={},mm={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function pS(){if(g_)return Ke;g_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function L(O,U,oe){this.props=O,this.context=U,this.refs=j,this.updater=oe||A}L.prototype.isReactComponent={},L.prototype.setState=function(O,U){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,U,"setState")},L.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=L.prototype;function q(O,U,oe){this.props=O,this.context=U,this.refs=j,this.updater=oe||A}var Y=q.prototype=new K;Y.constructor=q,D(Y,L.prototype),Y.isPureReactComponent=!0;var ee=Array.isArray,de=Object.prototype.hasOwnProperty,se={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(O,U,oe){var le,fe={},_e=null,je=null;if(U!=null)for(le in U.ref!==void 0&&(je=U.ref),U.key!==void 0&&(_e=""+U.key),U)de.call(U,le)&&!k.hasOwnProperty(le)&&(fe[le]=U[le]);var $e=arguments.length-2;if($e===1)fe.children=oe;else if(1<$e){for(var Ue=Array($e),pt=0;pt<$e;pt++)Ue[pt]=arguments[pt+2];fe.children=Ue}if(O&&O.defaultProps)for(le in $e=O.defaultProps,$e)fe[le]===void 0&&(fe[le]=$e[le]);return{$$typeof:t,type:O,key:_e,ref:je,props:fe,_owner:se.current}}function P(O,U){return{$$typeof:t,type:O.type,key:U,ref:O.ref,props:O.props,_owner:O._owner}}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function M(O){var U={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return U[oe]})}var $=/\/+/g;function R(O,U){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):U.toString(36)}function Le(O,U,oe,le,fe){var _e=typeof O;(_e==="undefined"||_e==="boolean")&&(O=null);var je=!1;if(O===null)je=!0;else switch(_e){case"string":case"number":je=!0;break;case"object":switch(O.$$typeof){case t:case e:je=!0}}if(je)return je=O,fe=fe(je),O=le===""?"."+R(je,0):le,ee(fe)?(oe="",O!=null&&(oe=O.replace($,"$&/")+"/"),Le(fe,U,oe,"",function(pt){return pt})):fe!=null&&(x(fe)&&(fe=P(fe,oe+(!fe.key||je&&je.key===fe.key?"":(""+fe.key).replace($,"$&/")+"/")+O)),U.push(fe)),1;if(je=0,le=le===""?".":le+":",ee(O))for(var $e=0;$e<O.length;$e++){_e=O[$e];var Ue=le+R(_e,$e);je+=Le(_e,U,oe,Ue,fe)}else if(Ue=C(O),typeof Ue=="function")for(O=Ue.call(O),$e=0;!(_e=O.next()).done;)_e=_e.value,Ue=le+R(_e,$e++),je+=Le(_e,U,oe,Ue,fe);else if(_e==="object")throw U=String(O),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return je}function Me(O,U,oe){if(O==null)return O;var le=[],fe=0;return Le(O,le,"","",function(_e){return U.call(oe,_e,fe++)}),le}function We(O){if(O._status===-1){var U=O._result;U=U(),U.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=U)}if(O._status===1)return O._result.default;throw O._result}var ke={current:null},W={transition:null},B={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:W,ReactCurrentOwner:se};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:Me,forEach:function(O,U,oe){Me(O,function(){U.apply(this,arguments)},oe)},count:function(O){var U=0;return Me(O,function(){U++}),U},toArray:function(O){return Me(O,function(U){return U})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ke.Component=L,Ke.Fragment=n,Ke.Profiler=o,Ke.PureComponent=q,Ke.StrictMode=r,Ke.Suspense=f,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Ke.act=Q,Ke.cloneElement=function(O,U,oe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var le=D({},O.props),fe=O.key,_e=O.ref,je=O._owner;if(U!=null){if(U.ref!==void 0&&(_e=U.ref,je=se.current),U.key!==void 0&&(fe=""+U.key),O.type&&O.type.defaultProps)var $e=O.type.defaultProps;for(Ue in U)de.call(U,Ue)&&!k.hasOwnProperty(Ue)&&(le[Ue]=U[Ue]===void 0&&$e!==void 0?$e[Ue]:U[Ue])}var Ue=arguments.length-2;if(Ue===1)le.children=oe;else if(1<Ue){$e=Array(Ue);for(var pt=0;pt<Ue;pt++)$e[pt]=arguments[pt+2];le.children=$e}return{$$typeof:t,type:O.type,key:fe,ref:_e,props:le,_owner:je}},Ke.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},Ke.createElement=S,Ke.createFactory=function(O){var U=S.bind(null,O);return U.type=O,U},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(O){return{$$typeof:h,render:O}},Ke.isValidElement=x,Ke.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:We}},Ke.memo=function(O,U){return{$$typeof:m,type:O,compare:U===void 0?null:U}},Ke.startTransition=function(O){var U=W.transition;W.transition={};try{O()}finally{W.transition=U}},Ke.unstable_act=Q,Ke.useCallback=function(O,U){return ke.current.useCallback(O,U)},Ke.useContext=function(O){return ke.current.useContext(O)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(O){return ke.current.useDeferredValue(O)},Ke.useEffect=function(O,U){return ke.current.useEffect(O,U)},Ke.useId=function(){return ke.current.useId()},Ke.useImperativeHandle=function(O,U,oe){return ke.current.useImperativeHandle(O,U,oe)},Ke.useInsertionEffect=function(O,U){return ke.current.useInsertionEffect(O,U)},Ke.useLayoutEffect=function(O,U){return ke.current.useLayoutEffect(O,U)},Ke.useMemo=function(O,U){return ke.current.useMemo(O,U)},Ke.useReducer=function(O,U,oe){return ke.current.useReducer(O,U,oe)},Ke.useRef=function(O){return ke.current.useRef(O)},Ke.useState=function(O){return ke.current.useState(O)},Ke.useSyncExternalStore=function(O,U,oe){return ke.current.useSyncExternalStore(O,U,oe)},Ke.useTransition=function(){return ke.current.useTransition()},Ke.version="18.3.1",Ke}var y_;function Ng(){return y_||(y_=1,mm.exports=pS()),mm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function mS(){if(w_)return Oc;w_=1;var t=Ng(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var v,b={},C=null,A=null;m!==void 0&&(C=""+m),f.key!==void 0&&(C=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(b[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)b[v]===void 0&&(b[v]=f[v]);return{$$typeof:e,type:h,key:C,ref:A,props:b,_owner:o.current}}return Oc.Fragment=n,Oc.jsx=u,Oc.jsxs=u,Oc}var v_;function gS(){return v_||(v_=1,pm.exports=mS()),pm.exports}var w=gS(),T=Ng();const qe=fS(T);var Fd={},gm={exports:{}},or={},ym={exports:{}},wm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function yS(){return __||(__=1,(function(t){function e(W,B){var Q=W.length;W.push(B);e:for(;0<Q;){var O=Q-1>>>1,U=W[O];if(0<o(U,B))W[O]=B,W[Q]=U,Q=O;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var B=W[0],Q=W.pop();if(Q!==B){W[0]=Q;e:for(var O=0,U=W.length,oe=U>>>1;O<oe;){var le=2*(O+1)-1,fe=W[le],_e=le+1,je=W[_e];if(0>o(fe,Q))_e<U&&0>o(je,fe)?(W[O]=je,W[_e]=Q,O=_e):(W[O]=fe,W[le]=Q,O=le);else if(_e<U&&0>o(je,Q))W[O]=je,W[_e]=Q,O=_e;else break e}}return B}function o(W,B){var Q=W.sortIndex-B.sortIndex;return Q!==0?Q:W.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,b=null,C=3,A=!1,D=!1,j=!1,L=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(W){for(var B=n(m);B!==null;){if(B.callback===null)r(m);else if(B.startTime<=W)r(m),B.sortIndex=B.expirationTime,e(f,B);else break;B=n(m)}}function ee(W){if(j=!1,Y(W),!D)if(n(f)!==null)D=!0,We(de);else{var B=n(m);B!==null&&ke(ee,B.startTime-W)}}function de(W,B){D=!1,j&&(j=!1,K(S),S=-1),A=!0;var Q=C;try{for(Y(B),b=n(f);b!==null&&(!(b.expirationTime>B)||W&&!M());){var O=b.callback;if(typeof O=="function"){b.callback=null,C=b.priorityLevel;var U=O(b.expirationTime<=B);B=t.unstable_now(),typeof U=="function"?b.callback=U:b===n(f)&&r(f),Y(B)}else r(f);b=n(f)}if(b!==null)var oe=!0;else{var le=n(m);le!==null&&ke(ee,le.startTime-B),oe=!1}return oe}finally{b=null,C=Q,A=!1}}var se=!1,k=null,S=-1,P=5,x=-1;function M(){return!(t.unstable_now()-x<P)}function $(){if(k!==null){var W=t.unstable_now();x=W;var B=!0;try{B=k(!0,W)}finally{B?R():(se=!1,k=null)}}else se=!1}var R;if(typeof q=="function")R=function(){q($)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Me=Le.port2;Le.port1.onmessage=$,R=function(){Me.postMessage(null)}}else R=function(){L($,0)};function We(W){k=W,se||(se=!0,R())}function ke(W,B){S=L(function(){W(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){D||A||(D=!0,We(de))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(W){switch(C){case 1:case 2:case 3:var B=3;break;default:B=C}var Q=C;C=B;try{return W()}finally{C=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,B){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Q=C;C=W;try{return B()}finally{C=Q}},t.unstable_scheduleCallback=function(W,B,Q){var O=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?O+Q:O):Q=O,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Q+U,W={id:v++,callback:B,priorityLevel:W,startTime:Q,expirationTime:U,sortIndex:-1},Q>O?(W.sortIndex=Q,e(m,W),n(f)===null&&W===n(m)&&(j?(K(S),S=-1):j=!0,ke(ee,Q-O))):(W.sortIndex=U,e(f,W),D||A||(D=!0,We(de))),W},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(W){var B=C;return function(){var Q=C;C=B;try{return W.apply(this,arguments)}finally{C=Q}}}})(wm)),wm}var E_;function wS(){return E_||(E_=1,ym.exports=yS()),ym.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function vS(){if(b_)return or;b_=1;var t=Ng(),e=wS();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function C(s){return f.call(b,s)?!0:f.call(v,s)?!1:m.test(s)?b[s]=!0:(v[s]=!0,!1)}function A(s,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function D(s,i,l,d){if(i===null||typeof i>"u"||A(s,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(s,i,l,d,p,y,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=E}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){L[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];L[i]=new j(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){L[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){L[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){L[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){L[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){L[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){L[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){L[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(K,q);L[i]=new j(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(K,q);L[i]=new j(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(K,q);L[i]=new j(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){L[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),L.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){L[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function Y(s,i,l,d){var p=L.hasOwnProperty(i)?L[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(D(i,l,p,d)&&(l=null),d||p===null?C(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?s.setAttributeNS(d,i,l):s.setAttribute(i,l))))}var ee=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),se=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),M=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),W=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var Q=Object.assign,O;function U(s){if(O===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+s}var oe=!1;function le(s,i){if(!s||oe)return"";oe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(J){var d=J}Reflect.construct(s,[],i)}else{try{i.call()}catch(J){d=J}s.call(i.prototype)}else{try{throw Error()}catch(J){d=J}s()}}catch(J){if(J&&d&&typeof J.stack=="string"){for(var p=J.stack.split(`
`),y=d.stack.split(`
`),E=p.length-1,N=y.length-1;1<=E&&0<=N&&p[E]!==y[N];)N--;for(;1<=E&&0<=N;E--,N--)if(p[E]!==y[N]){if(E!==1||N!==1)do if(E--,N--,0>N||p[E]!==y[N]){var V=`
`+p[E].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=E&&0<=N);break}}}finally{oe=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?U(s):""}function fe(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=le(s.type,!1),s;case 11:return s=le(s.type.render,!1),s;case 1:return s=le(s.type,!0),s;default:return""}}function _e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case se:return"Portal";case P:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case Le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case x:return(s._context.displayName||"Context")+".Provider";case $:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Me:return i=s.displayName||null,i!==null?i:_e(s.type)||"Memo";case We:i=s._payload,s=s._init;try{return _e(s(i))}catch{}}return null}function je(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function $e(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ue(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pt(s){var i=Ue(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function bt(s){s._valueTracker||(s._valueTracker=pt(s))}function wt(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=Ue(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function xn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Qn(s,i){var l=i.checked;return Q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function De(s,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=$e(i.value!=null?i.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ne(s,i){i=i.checked,i!=null&&Y(s,"checked",i,!1)}function it(s,i){Ne(s,i);var l=$e(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Je(s,i.type,l):i.hasOwnProperty("defaultValue")&&Je(s,i.type,$e(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function be(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function Je(s,i,l){(i!=="number"||xn(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var nt=Array.isArray;function Be(s,i,l,d){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&d&&(s[l].defaultSelected=!0)}else{for(l=""+$e(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function et(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function He(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(nt(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:$e(l)}}function kt(s,i){var l=$e(i.value),d=$e(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function dr(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Bt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Bt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var hr,ko=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,d,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(hr=hr||document.createElement("div"),hr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=hr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function ps(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gs=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(s){gs.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),ms[i]=ms[s]})});function Ro(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ms.hasOwnProperty(s)&&ms[s]?(""+i).trim():i+"px"}function Po(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Ro(l,i[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,p):s[l]=p}}var xi=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ao(s,i){if(i){if(xi[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function No(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ws=null;function Gs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ki=null,$n=null,fr=null;function Rr(s){if(s=vc(s)){if(typeof ki!="function")throw Error(n(280));var i=s.stateNode;i&&(i=ed(i),ki(s.stateNode,s.type,i))}}function Pr(s){$n?fr?fr.push(s):fr=[s]:$n=s}function Do(){if($n){var s=$n,i=fr;if(fr=$n=null,Rr(s),i)for(s=0;s<i.length;s++)Rr(i[s])}}function ys(s,i){return s(i)}function Ri(){}var Ar=!1;function Pi(s,i,l){if(Ar)return s(i,l);Ar=!0;try{return ys(s,i,l)}finally{Ar=!1,($n!==null||fr!==null)&&(Ri(),Do())}}function Rt(s,i){var l=s.stateNode;if(l===null)return null;var d=ed(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Ks=!1;if(h)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{Ks=!1}function ws(s,i,l,d,p,y,E,N,V){var J=Array.prototype.slice.call(arguments,3);try{i.apply(l,J)}catch(ie){this.onError(ie)}}var Qs=!1,Ai=null,Kt=!1,vn=null,Oo={onError:function(s){Qs=!0,Ai=s}};function Js(s,i,l,d,p,y,E,N,V){Qs=!1,Ai=null,ws.apply(Oo,arguments)}function Lo(s,i,l,d,p,y,E,N,V){if(Js.apply(this,arguments),Qs){if(Qs){var J=Ai;Qs=!1,Ai=null}else throw Error(n(198));Kt||(Kt=!0,vn=J)}}function Vt(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Yn(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function pr(s){if(Vt(s)!==s)throw Error(n(188))}function Nr(s){var i=s.alternate;if(!i){if(i=Vt(s),i===null)throw Error(n(188));return i!==s?null:s}for(var l=s,d=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return pr(p),s;if(y===d)return pr(p),i;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=y;else{for(var E=!1,N=p.child;N;){if(N===l){E=!0,l=p,d=y;break}if(N===d){E=!0,d=p,l=y;break}N=N.sibling}if(!E){for(N=y.child;N;){if(N===l){E=!0,l=y,d=p;break}if(N===d){E=!0,d=y,l=p;break}N=N.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:i}function Ni(s){return s=Nr(s),s!==null?Gr(s):null}function Gr(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Gr(s);if(i!==null)return i;s=s.sibling}return null}var Ys=e.unstable_scheduleCallback,Mo=e.unstable_cancelCallback,Da=e.unstable_shouldYield,rc=e.unstable_requestPaint,mt=e.unstable_now,zt=e.unstable_getCurrentPriorityLevel,mr=e.unstable_ImmediatePriority,vs=e.unstable_UserBlockingPriority,Xn=e.unstable_NormalPriority,jo=e.unstable_LowPriority,Oa=e.unstable_IdlePriority,Xs=null,Un=null;function La(s){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Xs,s,void 0,(s.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:ja,Vo=Math.log,Ma=Math.LN2;function ja(s){return s>>>=0,s===0?32:31-(Vo(s)/Ma|0)|0}var Te=64,Ge=4194304;function Pt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function sn(s,i){var l=s.pendingLanes;if(l===0)return 0;var d=0,p=s.suspendedLanes,y=s.pingedLanes,E=l&268435455;if(E!==0){var N=E&~p;N!==0?d=Pt(N):(y&=E,y!==0&&(d=Pt(y)))}else E=l&~p,E!==0?d=Pt(E):y!==0&&(d=Pt(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)l=31-Ft(i),p=1<<l,d|=s[l],i&=~p;return d}function Re(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes;0<y;){var E=31-Ft(y),N=1<<E,V=p[E];V===-1?((N&l)===0||(N&d)!==0)&&(p[E]=Re(N,i)):V<=i&&(s.expiredLanes|=N),y&=~N}}function Qt(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function kn(){var s=Te;return Te<<=1,(Te&4194240)===0&&(Te=64),s}function Di(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Oi(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Ft(i),s[i]=l}function yt(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-Ft(l),y=1<<p;i[p]=0,d[p]=-1,s[p]=-1,l&=~y}}function Li(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-Ft(l),p=1<<d;p&i|s[d]&i&&(s[d]|=i),l&=~p}}var tt=0;function Mi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Du,Va,Ou,Lu,Mu,sc=!1,_s=[],_n=null,Kr=null,Qr=null,ji=new Map,Dr=new Map,Es=[],qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ju(s,i){switch(s){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":ji.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(i.pointerId)}}function Zn(s,i,l,d,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},i!==null&&(i=vc(i),i!==null&&Va(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function Wf(s,i,l,d,p){switch(i){case"focusin":return _n=Zn(_n,s,i,l,d,p),!0;case"dragenter":return Kr=Zn(Kr,s,i,l,d,p),!0;case"mouseover":return Qr=Zn(Qr,s,i,l,d,p),!0;case"pointerover":var y=p.pointerId;return ji.set(y,Zn(ji.get(y)||null,s,i,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Dr.set(y,Zn(Dr.get(y)||null,s,i,l,d,p)),!0}return!1}function Vu(s){var i=zo(s.target);if(i!==null){var l=Vt(i);if(l!==null){if(i=l.tag,i===13){if(i=Yn(l),i!==null){s.blockedOn=i,Mu(s.priority,function(){Ou(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zs(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Fa(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Ws=d,l.target.dispatchEvent(d),Ws=null}else return i=vc(l),i!==null&&Va(i),s.blockedOn=l,!1;i.shift()}return!0}function Fo(s,i,l){Zs(s)&&l.delete(i)}function Fu(){sc=!1,_n!==null&&Zs(_n)&&(_n=null),Kr!==null&&Zs(Kr)&&(Kr=null),Qr!==null&&Zs(Qr)&&(Qr=null),ji.forEach(Fo),Dr.forEach(Fo)}function Jr(s,i){s.blockedOn===i&&(s.blockedOn=null,sc||(sc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fu)))}function Yr(s){function i(p){return Jr(p,s)}if(0<_s.length){Jr(_s[0],s);for(var l=1;l<_s.length;l++){var d=_s[l];d.blockedOn===s&&(d.blockedOn=null)}}for(_n!==null&&Jr(_n,s),Kr!==null&&Jr(Kr,s),Qr!==null&&Jr(Qr,s),ji.forEach(i),Dr.forEach(i),l=0;l<Es.length;l++)d=Es[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<Es.length&&(l=Es[0],l.blockedOn===null);)Vu(l),l.blockedOn===null&&Es.shift()}var ei=ee.ReactCurrentBatchConfig,Vi=!0;function At(s,i,l,d){var p=tt,y=ei.transition;ei.transition=null;try{tt=1,ic(s,i,l,d)}finally{tt=p,ei.transition=y}}function Gf(s,i,l,d){var p=tt,y=ei.transition;ei.transition=null;try{tt=4,ic(s,i,l,d)}finally{tt=p,ei.transition=y}}function ic(s,i,l,d){if(Vi){var p=Fa(s,i,l,d);if(p===null)sp(s,i,d,$o,l),ju(s,d);else if(Wf(p,s,i,l,d))d.stopPropagation();else if(ju(s,d),i&4&&-1<qf.indexOf(s)){for(;p!==null;){var y=vc(p);if(y!==null&&Du(y),y=Fa(s,i,l,d),y===null&&sp(s,i,d,$o,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else sp(s,i,d,null,l)}}var $o=null;function Fa(s,i,l,d){if($o=null,s=Gs(d),s=zo(s),s!==null)if(i=Vt(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Yn(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return $o=s,null}function oc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zt()){case mr:return 1;case vs:return 4;case Xn:case jo:return 16;case Oa:return 536870912;default:return 16}default:return 16}}var yr=null,$a=null,er=null;function ac(){if(er)return er;var s,i=$a,l=i.length,d,p="value"in yr?yr.value:yr.textContent,y=p.length;for(s=0;s<l&&i[s]===p[s];s++);var E=l-s;for(d=1;d<=E&&i[l-d]===p[y-d];d++);return er=p.slice(s,1<d?1-d:void 0)}function Ua(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function bs(){return!0}function lc(){return!1}function En(s){function i(l,d,p,y,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?bs:lc,this.isPropagationStopped=lc,this}return Q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),i}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=En(Xr),Cs=Q({},Xr,{view:0,detail:0}),Kf=En(Cs),za,ti,Fi,Uo=Q({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fi&&(Fi&&s.type==="mousemove"?(za=s.screenX-Fi.screenX,ti=s.screenY-Fi.screenY):ti=za=0,Fi=s),za)},movementY:function(s){return"movementY"in s?s.movementY:ti}}),Ha=En(Uo),cc=Q({},Uo,{dataTransfer:0}),$u=En(cc),qa=Q({},Cs,{relatedTarget:0}),Wa=En(qa),Uu=Q({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),ni=En(Uu),Bu=Q({},Xr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),zu=En(Bu),Hu=Q({},Xr,{data:0}),uc=En(Hu),Ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=qu[s])?!!i[s]:!1}function Ts(){return Wu}var c=Q({},Cs,{key:function(s){if(s.key){var i=Ga[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ua(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Bn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(s){return s.type==="keypress"?Ua(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ua(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=En(c),_=Q({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=En(_),z=Q({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),X=En(z),he=Q({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ft=En(he),on=Q({},Uo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=En(on),hn=[9,13,27,32],Jt=h&&"CompositionEvent"in window,Or=null;h&&"documentMode"in document&&(Or=document.documentMode);var wr=h&&"TextEvent"in window&&!Or,Bo=h&&(!Jt||Or&&8<Or&&11>=Or),Ka=" ",uw=!1;function dw(s,i){switch(s){case"keyup":return hn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Qa=!1;function uI(s,i){switch(s){case"compositionend":return hw(i);case"keypress":return i.which!==32?null:(uw=!0,Ka);case"textInput":return s=i.data,s===Ka&&uw?null:s;default:return null}}function dI(s,i){if(Qa)return s==="compositionend"||!Jt&&dw(s,i)?(s=ac(),er=$a=yr=null,Qa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Bo&&i.locale!=="ko"?null:i.data;default:return null}}var hI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fw(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!hI[s.type]:i==="textarea"}function pw(s,i,l,d){Pr(d),i=Yu(i,"onChange"),0<i.length&&(l=new Ba("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var dc=null,hc=null;function fI(s){Nw(s,0)}function Gu(s){var i=el(s);if(wt(i))return s}function pI(s,i){if(s==="change")return i}var mw=!1;if(h){var Qf;if(h){var Jf="oninput"in document;if(!Jf){var gw=document.createElement("div");gw.setAttribute("oninput","return;"),Jf=typeof gw.oninput=="function"}Qf=Jf}else Qf=!1;mw=Qf&&(!document.documentMode||9<document.documentMode)}function yw(){dc&&(dc.detachEvent("onpropertychange",ww),hc=dc=null)}function ww(s){if(s.propertyName==="value"&&Gu(hc)){var i=[];pw(i,hc,s,Gs(s)),Pi(fI,i)}}function mI(s,i,l){s==="focusin"?(yw(),dc=i,hc=l,dc.attachEvent("onpropertychange",ww)):s==="focusout"&&yw()}function gI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Gu(hc)}function yI(s,i){if(s==="click")return Gu(i)}function wI(s,i){if(s==="input"||s==="change")return Gu(i)}function vI(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Zr=typeof Object.is=="function"?Object.is:vI;function fc(s,i){if(Zr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(i,p)||!Zr(s[p],i[p]))return!1}return!0}function vw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _w(s,i){var l=vw(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=vw(l)}}function Ew(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Ew(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function bw(){for(var s=window,i=xn();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=xn(s.document)}return i}function Yf(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function _I(s){var i=bw(),l=s.focusedElem,d=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Ew(l.ownerDocument.documentElement,l)){if(d!==null&&Yf(l)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!s.extend&&y>d&&(p=d,d=y,y=p),p=_w(l,y);var E=_w(l,d);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),y>d?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var EI=h&&"documentMode"in document&&11>=document.documentMode,Ja=null,Xf=null,pc=null,Zf=!1;function Cw(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zf||Ja==null||Ja!==xn(d)||(d=Ja,"selectionStart"in d&&Yf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),pc&&fc(pc,d)||(pc=d,d=Yu(Xf,"onSelect"),0<d.length&&(i=new Ba("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=Ja)))}function Ku(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Ya={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},ep={},Tw={};h&&(Tw=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Qu(s){if(ep[s])return ep[s];if(!Ya[s])return s;var i=Ya[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Tw)return ep[s]=i[l];return s}var Iw=Qu("animationend"),Sw=Qu("animationiteration"),xw=Qu("animationstart"),kw=Qu("transitionend"),Rw=new Map,Pw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(s,i){Rw.set(s,i),a(i,[s])}for(var tp=0;tp<Pw.length;tp++){var np=Pw[tp],bI=np.toLowerCase(),CI=np[0].toUpperCase()+np.slice(1);$i(bI,"on"+CI)}$i(Iw,"onAnimationEnd"),$i(Sw,"onAnimationIteration"),$i(xw,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(kw,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TI=new Set("cancel close invalid load scroll toggle".split(" ").concat(mc));function Aw(s,i,l){var d=s.type||"unknown-event";s.currentTarget=l,Lo(d,i,void 0,s),s.currentTarget=null}function Nw(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],p=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var E=d.length-1;0<=E;E--){var N=d[E],V=N.instance,J=N.currentTarget;if(N=N.listener,V!==y&&p.isPropagationStopped())break e;Aw(p,N,J),y=V}else for(E=0;E<d.length;E++){if(N=d[E],V=N.instance,J=N.currentTarget,N=N.listener,V!==y&&p.isPropagationStopped())break e;Aw(p,N,J),y=V}}}if(Kt)throw s=vn,Kt=!1,vn=null,s}function Ct(s,i){var l=i[up];l===void 0&&(l=i[up]=new Set);var d=s+"__bubble";l.has(d)||(Dw(i,s,2,!1),l.add(d))}function rp(s,i,l){var d=0;i&&(d|=4),Dw(l,s,d,i)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function gc(s){if(!s[Ju]){s[Ju]=!0,r.forEach(function(l){l!=="selectionchange"&&(TI.has(l)||rp(l,!1,s),rp(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Ju]||(i[Ju]=!0,rp("selectionchange",!1,i))}}function Dw(s,i,l,d){switch(oc(i)){case 1:var p=At;break;case 4:p=Gf;break;default:p=ic}l=p.bind(null,i,l,s),p=void 0,!Ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function sp(s,i,l,d,p){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var N=d.stateNode.containerInfo;if(N===p||N.nodeType===8&&N.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;E=E.return}for(;N!==null;){if(E=zo(N),E===null)return;if(V=E.tag,V===5||V===6){d=y=E;continue e}N=N.parentNode}}d=d.return}Pi(function(){var J=y,ie=Gs(l),ae=[];e:{var re=Rw.get(s);if(re!==void 0){var me=Ba,we=s;switch(s){case"keypress":if(Ua(l)===0)break e;case"keydown":case"keyup":me=g;break;case"focusin":we="focus",me=Wa;break;case"focusout":we="blur",me=Wa;break;case"beforeblur":case"afterblur":me=Wa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=X;break;case Iw:case Sw:case xw:me=ni;break;case kw:me=ft;break;case"scroll":me=Kf;break;case"wheel":me=rt;break;case"copy":case"cut":case"paste":me=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=I}var ve=(i&4)!==0,Ht=!ve&&s==="scroll",H=ve?re!==null?re+"Capture":null:re;ve=[];for(var F=J,G;F!==null;){G=F;var ue=G.stateNode;if(G.tag===5&&ue!==null&&(G=ue,H!==null&&(ue=Rt(F,H),ue!=null&&ve.push(yc(F,ue,G)))),Ht)break;F=F.return}0<ve.length&&(re=new me(re,we,null,l,ie),ae.push({event:re,listeners:ve}))}}if((i&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",re&&l!==Ws&&(we=l.relatedTarget||l.fromElement)&&(zo(we)||we[ri]))break e;if((me||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,me?(we=l.relatedTarget||l.toElement,me=J,we=we?zo(we):null,we!==null&&(Ht=Vt(we),we!==Ht||we.tag!==5&&we.tag!==6)&&(we=null)):(me=null,we=J),me!==we)){if(ve=Ha,ue="onMouseLeave",H="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(ve=I,ue="onPointerLeave",H="onPointerEnter",F="pointer"),Ht=me==null?re:el(me),G=we==null?re:el(we),re=new ve(ue,F+"leave",me,l,ie),re.target=Ht,re.relatedTarget=G,ue=null,zo(ie)===J&&(ve=new ve(H,F+"enter",we,l,ie),ve.target=G,ve.relatedTarget=Ht,ue=ve),Ht=ue,me&&we)t:{for(ve=me,H=we,F=0,G=ve;G;G=Xa(G))F++;for(G=0,ue=H;ue;ue=Xa(ue))G++;for(;0<F-G;)ve=Xa(ve),F--;for(;0<G-F;)H=Xa(H),G--;for(;F--;){if(ve===H||H!==null&&ve===H.alternate)break t;ve=Xa(ve),H=Xa(H)}ve=null}else ve=null;me!==null&&Ow(ae,re,me,ve,!1),we!==null&&Ht!==null&&Ow(ae,Ht,we,ve,!0)}}e:{if(re=J?el(J):window,me=re.nodeName&&re.nodeName.toLowerCase(),me==="select"||me==="input"&&re.type==="file")var Ee=pI;else if(fw(re))if(mw)Ee=wI;else{Ee=gI;var Ie=mI}else(me=re.nodeName)&&me.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ee=yI);if(Ee&&(Ee=Ee(s,J))){pw(ae,Ee,l,ie);break e}Ie&&Ie(s,re,J),s==="focusout"&&(Ie=re._wrapperState)&&Ie.controlled&&re.type==="number"&&Je(re,"number",re.value)}switch(Ie=J?el(J):window,s){case"focusin":(fw(Ie)||Ie.contentEditable==="true")&&(Ja=Ie,Xf=J,pc=null);break;case"focusout":pc=Xf=Ja=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,Cw(ae,l,ie);break;case"selectionchange":if(EI)break;case"keydown":case"keyup":Cw(ae,l,ie)}var Se;if(Jt)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Qa?dw(s,l)&&(Oe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(Bo&&l.locale!=="ko"&&(Qa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Qa&&(Se=ac()):(yr=ie,$a="value"in yr?yr.value:yr.textContent,Qa=!0)),Ie=Yu(J,Oe),0<Ie.length&&(Oe=new uc(Oe,s,null,l,ie),ae.push({event:Oe,listeners:Ie}),Se?Oe.data=Se:(Se=hw(l),Se!==null&&(Oe.data=Se)))),(Se=wr?uI(s,l):dI(s,l))&&(J=Yu(J,"onBeforeInput"),0<J.length&&(ie=new uc("onBeforeInput","beforeinput",null,l,ie),ae.push({event:ie,listeners:J}),ie.data=Se))}Nw(ae,i)})}function yc(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Yu(s,i){for(var l=i+"Capture",d=[];s!==null;){var p=s,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Rt(s,l),y!=null&&d.unshift(yc(s,y,p)),y=Rt(s,i),y!=null&&d.push(yc(s,y,p))),s=s.return}return d}function Xa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ow(s,i,l,d,p){for(var y=i._reactName,E=[];l!==null&&l!==d;){var N=l,V=N.alternate,J=N.stateNode;if(V!==null&&V===d)break;N.tag===5&&J!==null&&(N=J,p?(V=Rt(l,y),V!=null&&E.unshift(yc(l,V,N))):p||(V=Rt(l,y),V!=null&&E.push(yc(l,V,N)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var II=/\r\n?/g,SI=/\u0000|\uFFFD/g;function Lw(s){return(typeof s=="string"?s:""+s).replace(II,`
`).replace(SI,"")}function Xu(s,i,l){if(i=Lw(i),Lw(s)!==i&&l)throw Error(n(425))}function Zu(){}var ip=null,op=null;function ap(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lp=typeof setTimeout=="function"?setTimeout:void 0,xI=typeof clearTimeout=="function"?clearTimeout:void 0,Mw=typeof Promise=="function"?Promise:void 0,kI=typeof queueMicrotask=="function"?queueMicrotask:typeof Mw<"u"?function(s){return Mw.resolve(null).then(s).catch(RI)}:lp;function RI(s){setTimeout(function(){throw s})}function cp(s,i){var l=i,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){s.removeChild(p),Yr(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Yr(i)}function Ui(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function jw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var Za=Math.random().toString(36).slice(2),Is="__reactFiber$"+Za,wc="__reactProps$"+Za,ri="__reactContainer$"+Za,up="__reactEvents$"+Za,PI="__reactListeners$"+Za,AI="__reactHandles$"+Za;function zo(s){var i=s[Is];if(i)return i;for(var l=s.parentNode;l;){if(i=l[ri]||l[Is]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=jw(s);s!==null;){if(l=s[Is])return l;s=jw(s)}return i}s=l,l=s.parentNode}return null}function vc(s){return s=s[Is]||s[ri],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function el(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ed(s){return s[wc]||null}var dp=[],tl=-1;function Bi(s){return{current:s}}function Tt(s){0>tl||(s.current=dp[tl],dp[tl]=null,tl--)}function vt(s,i){tl++,dp[tl]=s.current,s.current=i}var zi={},Rn=Bi(zi),tr=Bi(!1),Ho=zi;function nl(s,i){var l=s.type.contextTypes;if(!l)return zi;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=i[y];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function nr(s){return s=s.childContextTypes,s!=null}function td(){Tt(tr),Tt(Rn)}function Vw(s,i,l){if(Rn.current!==zi)throw Error(n(168));vt(Rn,i),vt(tr,l)}function Fw(s,i,l){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,je(s)||"Unknown",p));return Q({},l,d)}function nd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||zi,Ho=Rn.current,vt(Rn,s),vt(tr,tr.current),!0}function $w(s,i,l){var d=s.stateNode;if(!d)throw Error(n(169));l?(s=Fw(s,i,Ho),d.__reactInternalMemoizedMergedChildContext=s,Tt(tr),Tt(Rn),vt(Rn,s)):Tt(tr),vt(tr,l)}var si=null,rd=!1,hp=!1;function Uw(s){si===null?si=[s]:si.push(s)}function NI(s){rd=!0,Uw(s)}function Hi(){if(!hp&&si!==null){hp=!0;var s=0,i=tt;try{var l=si;for(tt=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}si=null,rd=!1}catch(p){throw si!==null&&(si=si.slice(s+1)),Ys(mr,Hi),p}finally{tt=i,hp=!1}}return null}var rl=[],sl=0,sd=null,id=0,Lr=[],Mr=0,qo=null,ii=1,oi="";function Wo(s,i){rl[sl++]=id,rl[sl++]=sd,sd=s,id=i}function Bw(s,i,l){Lr[Mr++]=ii,Lr[Mr++]=oi,Lr[Mr++]=qo,qo=s;var d=ii;s=oi;var p=32-Ft(d)-1;d&=~(1<<p),l+=1;var y=32-Ft(i)+p;if(30<y){var E=p-p%5;y=(d&(1<<E)-1).toString(32),d>>=E,p-=E,ii=1<<32-Ft(i)+p|l<<p|d,oi=y+s}else ii=1<<y|l<<p|d,oi=s}function fp(s){s.return!==null&&(Wo(s,1),Bw(s,1,0))}function pp(s){for(;s===sd;)sd=rl[--sl],rl[sl]=null,id=rl[--sl],rl[sl]=null;for(;s===qo;)qo=Lr[--Mr],Lr[Mr]=null,oi=Lr[--Mr],Lr[Mr]=null,ii=Lr[--Mr],Lr[Mr]=null}var vr=null,_r=null,Nt=!1,es=null;function zw(s,i){var l=$r(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Hw(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,vr=s,_r=Ui(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,vr=s,_r=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=qo!==null?{id:ii,overflow:oi}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=$r(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,vr=s,_r=null,!0):!1;default:return!1}}function mp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function gp(s){if(Nt){var i=_r;if(i){var l=i;if(!Hw(s,i)){if(mp(s))throw Error(n(418));i=Ui(l.nextSibling);var d=vr;i&&Hw(s,i)?zw(d,l):(s.flags=s.flags&-4097|2,Nt=!1,vr=s)}}else{if(mp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Nt=!1,vr=s}}}function qw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;vr=s}function od(s){if(s!==vr)return!1;if(!Nt)return qw(s),Nt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!ap(s.type,s.memoizedProps)),i&&(i=_r)){if(mp(s))throw Ww(),Error(n(418));for(;i;)zw(s,i),i=Ui(i.nextSibling)}if(qw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){_r=Ui(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}_r=null}}else _r=vr?Ui(s.stateNode.nextSibling):null;return!0}function Ww(){for(var s=_r;s;)s=Ui(s.nextSibling)}function il(){_r=vr=null,Nt=!1}function yp(s){es===null?es=[s]:es.push(s)}var DI=ee.ReactCurrentBatchConfig;function _c(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,s));var p=d,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(E){var N=p.refs;E===null?delete N[y]:N[y]=E},i._stringRef=y,i)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function ad(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Gw(s){var i=s._init;return i(s._payload)}function Kw(s){function i(H,F){if(s){var G=H.deletions;G===null?(H.deletions=[F],H.flags|=16):G.push(F)}}function l(H,F){if(!s)return null;for(;F!==null;)i(H,F),F=F.sibling;return null}function d(H,F){for(H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function p(H,F){return H=Xi(H,F),H.index=0,H.sibling=null,H}function y(H,F,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<F?(H.flags|=2,F):G):(H.flags|=2,F)):(H.flags|=1048576,F)}function E(H){return s&&H.alternate===null&&(H.flags|=2),H}function N(H,F,G,ue){return F===null||F.tag!==6?(F=lm(G,H.mode,ue),F.return=H,F):(F=p(F,G),F.return=H,F)}function V(H,F,G,ue){var Ee=G.type;return Ee===k?ie(H,F,G.props.children,ue,G.key):F!==null&&(F.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===We&&Gw(Ee)===F.type)?(ue=p(F,G.props),ue.ref=_c(H,F,G),ue.return=H,ue):(ue=Ad(G.type,G.key,G.props,null,H.mode,ue),ue.ref=_c(H,F,G),ue.return=H,ue)}function J(H,F,G,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==G.containerInfo||F.stateNode.implementation!==G.implementation?(F=cm(G,H.mode,ue),F.return=H,F):(F=p(F,G.children||[]),F.return=H,F)}function ie(H,F,G,ue,Ee){return F===null||F.tag!==7?(F=ea(G,H.mode,ue,Ee),F.return=H,F):(F=p(F,G),F.return=H,F)}function ae(H,F,G){if(typeof F=="string"&&F!==""||typeof F=="number")return F=lm(""+F,H.mode,G),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case de:return G=Ad(F.type,F.key,F.props,null,H.mode,G),G.ref=_c(H,null,F),G.return=H,G;case se:return F=cm(F,H.mode,G),F.return=H,F;case We:var ue=F._init;return ae(H,ue(F._payload),G)}if(nt(F)||B(F))return F=ea(F,H.mode,G,null),F.return=H,F;ad(H,F)}return null}function re(H,F,G,ue){var Ee=F!==null?F.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Ee!==null?null:N(H,F,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case de:return G.key===Ee?V(H,F,G,ue):null;case se:return G.key===Ee?J(H,F,G,ue):null;case We:return Ee=G._init,re(H,F,Ee(G._payload),ue)}if(nt(G)||B(G))return Ee!==null?null:ie(H,F,G,ue,null);ad(H,G)}return null}function me(H,F,G,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return H=H.get(G)||null,N(F,H,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case de:return H=H.get(ue.key===null?G:ue.key)||null,V(F,H,ue,Ee);case se:return H=H.get(ue.key===null?G:ue.key)||null,J(F,H,ue,Ee);case We:var Ie=ue._init;return me(H,F,G,Ie(ue._payload),Ee)}if(nt(ue)||B(ue))return H=H.get(G)||null,ie(F,H,ue,Ee,null);ad(F,ue)}return null}function we(H,F,G,ue){for(var Ee=null,Ie=null,Se=F,Oe=F=0,mn=null;Se!==null&&Oe<G.length;Oe++){Se.index>Oe?(mn=Se,Se=null):mn=Se.sibling;var at=re(H,Se,G[Oe],ue);if(at===null){Se===null&&(Se=mn);break}s&&Se&&at.alternate===null&&i(H,Se),F=y(at,F,Oe),Ie===null?Ee=at:Ie.sibling=at,Ie=at,Se=mn}if(Oe===G.length)return l(H,Se),Nt&&Wo(H,Oe),Ee;if(Se===null){for(;Oe<G.length;Oe++)Se=ae(H,G[Oe],ue),Se!==null&&(F=y(Se,F,Oe),Ie===null?Ee=Se:Ie.sibling=Se,Ie=Se);return Nt&&Wo(H,Oe),Ee}for(Se=d(H,Se);Oe<G.length;Oe++)mn=me(Se,H,Oe,G[Oe],ue),mn!==null&&(s&&mn.alternate!==null&&Se.delete(mn.key===null?Oe:mn.key),F=y(mn,F,Oe),Ie===null?Ee=mn:Ie.sibling=mn,Ie=mn);return s&&Se.forEach(function(Zi){return i(H,Zi)}),Nt&&Wo(H,Oe),Ee}function ve(H,F,G,ue){var Ee=B(G);if(typeof Ee!="function")throw Error(n(150));if(G=Ee.call(G),G==null)throw Error(n(151));for(var Ie=Ee=null,Se=F,Oe=F=0,mn=null,at=G.next();Se!==null&&!at.done;Oe++,at=G.next()){Se.index>Oe?(mn=Se,Se=null):mn=Se.sibling;var Zi=re(H,Se,at.value,ue);if(Zi===null){Se===null&&(Se=mn);break}s&&Se&&Zi.alternate===null&&i(H,Se),F=y(Zi,F,Oe),Ie===null?Ee=Zi:Ie.sibling=Zi,Ie=Zi,Se=mn}if(at.done)return l(H,Se),Nt&&Wo(H,Oe),Ee;if(Se===null){for(;!at.done;Oe++,at=G.next())at=ae(H,at.value,ue),at!==null&&(F=y(at,F,Oe),Ie===null?Ee=at:Ie.sibling=at,Ie=at);return Nt&&Wo(H,Oe),Ee}for(Se=d(H,Se);!at.done;Oe++,at=G.next())at=me(Se,H,Oe,at.value,ue),at!==null&&(s&&at.alternate!==null&&Se.delete(at.key===null?Oe:at.key),F=y(at,F,Oe),Ie===null?Ee=at:Ie.sibling=at,Ie=at);return s&&Se.forEach(function(hS){return i(H,hS)}),Nt&&Wo(H,Oe),Ee}function Ht(H,F,G,ue){if(typeof G=="object"&&G!==null&&G.type===k&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case de:e:{for(var Ee=G.key,Ie=F;Ie!==null;){if(Ie.key===Ee){if(Ee=G.type,Ee===k){if(Ie.tag===7){l(H,Ie.sibling),F=p(Ie,G.props.children),F.return=H,H=F;break e}}else if(Ie.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===We&&Gw(Ee)===Ie.type){l(H,Ie.sibling),F=p(Ie,G.props),F.ref=_c(H,Ie,G),F.return=H,H=F;break e}l(H,Ie);break}else i(H,Ie);Ie=Ie.sibling}G.type===k?(F=ea(G.props.children,H.mode,ue,G.key),F.return=H,H=F):(ue=Ad(G.type,G.key,G.props,null,H.mode,ue),ue.ref=_c(H,F,G),ue.return=H,H=ue)}return E(H);case se:e:{for(Ie=G.key;F!==null;){if(F.key===Ie)if(F.tag===4&&F.stateNode.containerInfo===G.containerInfo&&F.stateNode.implementation===G.implementation){l(H,F.sibling),F=p(F,G.children||[]),F.return=H,H=F;break e}else{l(H,F);break}else i(H,F);F=F.sibling}F=cm(G,H.mode,ue),F.return=H,H=F}return E(H);case We:return Ie=G._init,Ht(H,F,Ie(G._payload),ue)}if(nt(G))return we(H,F,G,ue);if(B(G))return ve(H,F,G,ue);ad(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,F!==null&&F.tag===6?(l(H,F.sibling),F=p(F,G),F.return=H,H=F):(l(H,F),F=lm(G,H.mode,ue),F.return=H,H=F),E(H)):l(H,F)}return Ht}var ol=Kw(!0),Qw=Kw(!1),ld=Bi(null),cd=null,al=null,wp=null;function vp(){wp=al=cd=null}function _p(s){var i=ld.current;Tt(ld),s._currentValue=i}function Ep(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function ll(s,i){cd=s,wp=al=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(rr=!0),s.firstContext=null)}function jr(s){var i=s._currentValue;if(wp!==s)if(s={context:s,memoizedValue:i,next:null},al===null){if(cd===null)throw Error(n(308));al=s,cd.dependencies={lanes:0,firstContext:s}}else al=al.next=s;return i}var Go=null;function bp(s){Go===null?Go=[s]:Go.push(s)}function Jw(s,i,l,d){var p=i.interleaved;return p===null?(l.next=l,bp(i)):(l.next=p.next,p.next=l),i.interleaved=l,ai(s,d)}function ai(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var qi=!1;function Cp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yw(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function li(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Wi(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(ot&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,ai(s,l)}return p=d.interleaved,p===null?(i.next=i,bp(d)):(i.next=p.next,p.next=i),d.interleaved=i,ai(s,l)}function ud(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Li(s,l)}}function Xw(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function dd(s,i,l,d){var p=s.updateQueue;qi=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var V=N,J=V.next;V.next=null,E===null?y=J:E.next=J,E=V;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,N=ie.lastBaseUpdate,N!==E&&(N===null?ie.firstBaseUpdate=J:N.next=J,ie.lastBaseUpdate=V))}if(y!==null){var ae=p.baseState;E=0,ie=J=V=null,N=y;do{var re=N.lane,me=N.eventTime;if((d&re)===re){ie!==null&&(ie=ie.next={eventTime:me,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var we=s,ve=N;switch(re=i,me=l,ve.tag){case 1:if(we=ve.payload,typeof we=="function"){ae=we.call(me,ae,re);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,re=typeof we=="function"?we.call(me,ae,re):we,re==null)break e;ae=Q({},ae,re);break e;case 2:qi=!0}}N.callback!==null&&N.lane!==0&&(s.flags|=64,re=p.effects,re===null?p.effects=[N]:re.push(N))}else me={eventTime:me,lane:re,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ie===null?(J=ie=me,V=ae):ie=ie.next=me,E|=re;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;re=N,N=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);if(ie===null&&(V=ae),p.baseState=V,p.firstBaseUpdate=J,p.lastBaseUpdate=ie,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);Jo|=E,s.lanes=E,s.memoizedState=ae}}function Zw(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Ec={},Ss=Bi(Ec),bc=Bi(Ec),Cc=Bi(Ec);function Ko(s){if(s===Ec)throw Error(n(174));return s}function Tp(s,i){switch(vt(Cc,i),vt(bc,s),vt(Ss,Ec),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:jt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=jt(i,s)}Tt(Ss),vt(Ss,i)}function cl(){Tt(Ss),Tt(bc),Tt(Cc)}function ev(s){Ko(Cc.current);var i=Ko(Ss.current),l=jt(i,s.type);i!==l&&(vt(bc,s),vt(Ss,l))}function Ip(s){bc.current===s&&(Tt(Ss),Tt(bc))}var Ot=Bi(0);function hd(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Sp=[];function xp(){for(var s=0;s<Sp.length;s++)Sp[s]._workInProgressVersionPrimary=null;Sp.length=0}var fd=ee.ReactCurrentDispatcher,kp=ee.ReactCurrentBatchConfig,Qo=0,Lt=null,an=null,fn=null,pd=!1,Tc=!1,Ic=0,OI=0;function Pn(){throw Error(n(321))}function Rp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Zr(s[l],i[l]))return!1;return!0}function Pp(s,i,l,d,p,y){if(Qo=y,Lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,fd.current=s===null||s.memoizedState===null?VI:FI,s=l(d,p),Tc){y=0;do{if(Tc=!1,Ic=0,25<=y)throw Error(n(301));y+=1,fn=an=null,i.updateQueue=null,fd.current=$I,s=l(d,p)}while(Tc)}if(fd.current=yd,i=an!==null&&an.next!==null,Qo=0,fn=an=Lt=null,pd=!1,i)throw Error(n(300));return s}function Ap(){var s=Ic!==0;return Ic=0,s}function xs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Lt.memoizedState=fn=s:fn=fn.next=s,fn}function Vr(){if(an===null){var s=Lt.alternate;s=s!==null?s.memoizedState:null}else s=an.next;var i=fn===null?Lt.memoizedState:fn.next;if(i!==null)fn=i,an=s;else{if(s===null)throw Error(n(310));an=s,s={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},fn===null?Lt.memoizedState=fn=s:fn=fn.next=s}return fn}function Sc(s,i){return typeof i=="function"?i(s):i}function Np(s){var i=Vr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=an,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var N=E=null,V=null,J=y;do{var ie=J.lane;if((Qo&ie)===ie)V!==null&&(V=V.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),d=J.hasEagerState?J.eagerState:s(d,J.action);else{var ae={lane:ie,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};V===null?(N=V=ae,E=d):V=V.next=ae,Lt.lanes|=ie,Jo|=ie}J=J.next}while(J!==null&&J!==y);V===null?E=d:V.next=N,Zr(d,i.memoizedState)||(rr=!0),i.memoizedState=d,i.baseState=E,i.baseQueue=V,l.lastRenderedState=d}if(s=l.interleaved,s!==null){p=s;do y=p.lane,Lt.lanes|=y,Jo|=y,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Dp(s){var i=Vr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=s(y,E.action),E=E.next;while(E!==p);Zr(y,i.memoizedState)||(rr=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,d]}function tv(){}function nv(s,i){var l=Lt,d=Vr(),p=i(),y=!Zr(d.memoizedState,p);if(y&&(d.memoizedState=p,rr=!0),d=d.queue,Op(iv.bind(null,l,d,s),[s]),d.getSnapshot!==i||y||fn!==null&&fn.memoizedState.tag&1){if(l.flags|=2048,xc(9,sv.bind(null,l,d,p,i),void 0,null),pn===null)throw Error(n(349));(Qo&30)!==0||rv(l,i,p)}return p}function rv(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Lt.updateQueue,i===null?(i={lastEffect:null,stores:null},Lt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function sv(s,i,l,d){i.value=l,i.getSnapshot=d,ov(i)&&av(s)}function iv(s,i,l){return l(function(){ov(i)&&av(s)})}function ov(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Zr(s,l)}catch{return!0}}function av(s){var i=ai(s,1);i!==null&&ss(i,s,1,-1)}function lv(s){var i=xs();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:s},i.queue=s,s=s.dispatch=jI.bind(null,Lt,s),[i.memoizedState,s]}function xc(s,i,l,d){return s={tag:s,create:i,destroy:l,deps:d,next:null},i=Lt.updateQueue,i===null?(i={lastEffect:null,stores:null},Lt.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s)),s}function cv(){return Vr().memoizedState}function md(s,i,l,d){var p=xs();Lt.flags|=s,p.memoizedState=xc(1|i,l,void 0,d===void 0?null:d)}function gd(s,i,l,d){var p=Vr();d=d===void 0?null:d;var y=void 0;if(an!==null){var E=an.memoizedState;if(y=E.destroy,d!==null&&Rp(d,E.deps)){p.memoizedState=xc(i,l,y,d);return}}Lt.flags|=s,p.memoizedState=xc(1|i,l,y,d)}function uv(s,i){return md(8390656,8,s,i)}function Op(s,i){return gd(2048,8,s,i)}function dv(s,i){return gd(4,2,s,i)}function hv(s,i){return gd(4,4,s,i)}function fv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function pv(s,i,l){return l=l!=null?l.concat([s]):null,gd(4,4,fv.bind(null,i,s),l)}function Lp(){}function mv(s,i){var l=Vr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Rp(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function gv(s,i){var l=Vr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Rp(i,d[1])?d[0]:(s=s(),l.memoizedState=[s,i],s)}function yv(s,i,l){return(Qo&21)===0?(s.baseState&&(s.baseState=!1,rr=!0),s.memoizedState=l):(Zr(l,i)||(l=kn(),Lt.lanes|=l,Jo|=l,s.baseState=!0),i)}function LI(s,i){var l=tt;tt=l!==0&&4>l?l:4,s(!0);var d=kp.transition;kp.transition={};try{s(!1),i()}finally{tt=l,kp.transition=d}}function wv(){return Vr().memoizedState}function MI(s,i,l){var d=Ji(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},vv(s))_v(i,l);else if(l=Jw(s,i,l,d),l!==null){var p=Hn();ss(l,s,d,p),Ev(l,i,d)}}function jI(s,i,l){var d=Ji(s),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(vv(s))_v(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,N=y(E,l);if(p.hasEagerState=!0,p.eagerState=N,Zr(N,E)){var V=i.interleaved;V===null?(p.next=p,bp(i)):(p.next=V.next,V.next=p),i.interleaved=p;return}}catch{}finally{}l=Jw(s,i,p,d),l!==null&&(p=Hn(),ss(l,s,d,p),Ev(l,i,d))}}function vv(s){var i=s.alternate;return s===Lt||i!==null&&i===Lt}function _v(s,i){Tc=pd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Ev(s,i,l){if((l&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Li(s,l)}}var yd={readContext:jr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},VI={readContext:jr,useCallback:function(s,i){return xs().memoizedState=[s,i===void 0?null:i],s},useContext:jr,useEffect:uv,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,md(4194308,4,fv.bind(null,i,s),l)},useLayoutEffect:function(s,i){return md(4194308,4,s,i)},useInsertionEffect:function(s,i){return md(4,2,s,i)},useMemo:function(s,i){var l=xs();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var d=xs();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=MI.bind(null,Lt,s),[d.memoizedState,s]},useRef:function(s){var i=xs();return s={current:s},i.memoizedState=s},useState:lv,useDebugValue:Lp,useDeferredValue:function(s){return xs().memoizedState=s},useTransition:function(){var s=lv(!1),i=s[0];return s=LI.bind(null,s[1]),xs().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var d=Lt,p=xs();if(Nt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),pn===null)throw Error(n(349));(Qo&30)!==0||rv(d,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,uv(iv.bind(null,d,y,s),[s]),d.flags|=2048,xc(9,sv.bind(null,d,y,l,i),void 0,null),l},useId:function(){var s=xs(),i=pn.identifierPrefix;if(Nt){var l=oi,d=ii;l=(d&~(1<<32-Ft(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Ic++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=OI++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},FI={readContext:jr,useCallback:mv,useContext:jr,useEffect:Op,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:hv,useMemo:gv,useReducer:Np,useRef:cv,useState:function(){return Np(Sc)},useDebugValue:Lp,useDeferredValue:function(s){var i=Vr();return yv(i,an.memoizedState,s)},useTransition:function(){var s=Np(Sc)[0],i=Vr().memoizedState;return[s,i]},useMutableSource:tv,useSyncExternalStore:nv,useId:wv,unstable_isNewReconciler:!1},$I={readContext:jr,useCallback:mv,useContext:jr,useEffect:Op,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:hv,useMemo:gv,useReducer:Dp,useRef:cv,useState:function(){return Dp(Sc)},useDebugValue:Lp,useDeferredValue:function(s){var i=Vr();return an===null?i.memoizedState=s:yv(i,an.memoizedState,s)},useTransition:function(){var s=Dp(Sc)[0],i=Vr().memoizedState;return[s,i]},useMutableSource:tv,useSyncExternalStore:nv,useId:wv,unstable_isNewReconciler:!1};function ts(s,i){if(s&&s.defaultProps){i=Q({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function Mp(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:Q({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var wd={isMounted:function(s){return(s=s._reactInternals)?Vt(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var d=Hn(),p=Ji(s),y=li(d,p);y.payload=i,l!=null&&(y.callback=l),i=Wi(s,y,p),i!==null&&(ss(i,s,p,d),ud(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=Hn(),p=Ji(s),y=li(d,p);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=Wi(s,y,p),i!==null&&(ss(i,s,p,d),ud(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Hn(),d=Ji(s),p=li(l,d);p.tag=2,i!=null&&(p.callback=i),i=Wi(s,p,d),i!==null&&(ss(i,s,d,l),ud(i,s,d))}};function bv(s,i,l,d,p,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,E):i.prototype&&i.prototype.isPureReactComponent?!fc(l,d)||!fc(p,y):!0}function Cv(s,i,l){var d=!1,p=zi,y=i.contextType;return typeof y=="object"&&y!==null?y=jr(y):(p=nr(i)?Ho:Rn.current,d=i.contextTypes,y=(d=d!=null)?nl(s,p):zi),i=new i(l,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=wd,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=y),i}function Tv(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&wd.enqueueReplaceState(i,i.state,null)}function jp(s,i,l,d){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},Cp(s);var y=i.contextType;typeof y=="object"&&y!==null?p.context=jr(y):(y=nr(i)?Ho:Rn.current,p.context=nl(s,y)),p.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Mp(s,i,y,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&wd.enqueueReplaceState(p,p.state,null),dd(s,l,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function ul(s,i){try{var l="",d=i;do l+=fe(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:p,digest:null}}function Vp(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Fp(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var UI=typeof WeakMap=="function"?WeakMap:Map;function Iv(s,i,l){l=li(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Id||(Id=!0,em=d),Fp(s,i)},l}function Sv(s,i,l){l=li(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){Fp(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Fp(s,i),typeof d!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function xv(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new UI;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),s=tS.bind(null,s,i,l),i.then(s,s))}function kv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Rv(s,i,l,d,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=li(-1,1),i.tag=2,Wi(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var BI=ee.ReactCurrentOwner,rr=!1;function zn(s,i,l,d){i.child=s===null?Qw(i,null,l,d):ol(i,s.child,l,d)}function Pv(s,i,l,d,p){l=l.render;var y=i.ref;return ll(i,p),d=Pp(s,i,l,d,y,p),l=Ap(),s!==null&&!rr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ci(s,i,p)):(Nt&&l&&fp(i),i.flags|=1,zn(s,i,d,p),i.child)}function Av(s,i,l,d,p){if(s===null){var y=l.type;return typeof y=="function"&&!am(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Nv(s,i,y,d,p)):(s=Ad(l.type,null,d,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:fc,l(E,d)&&s.ref===i.ref)return ci(s,i,p)}return i.flags|=1,s=Xi(y,d),s.ref=i.ref,s.return=i,i.child=s}function Nv(s,i,l,d,p){if(s!==null){var y=s.memoizedProps;if(fc(y,d)&&s.ref===i.ref)if(rr=!1,i.pendingProps=d=y,(s.lanes&p)!==0)(s.flags&131072)!==0&&(rr=!0);else return i.lanes=s.lanes,ci(s,i,p)}return $p(s,i,l,d,p)}function Dv(s,i,l){var d=i.pendingProps,p=d.children,y=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(hl,Er),Er|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,vt(hl,Er),Er|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,vt(hl,Er),Er|=d}else y!==null?(d=y.baseLanes|l,i.memoizedState=null):d=l,vt(hl,Er),Er|=d;return zn(s,i,p,l),i.child}function Ov(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function $p(s,i,l,d,p){var y=nr(l)?Ho:Rn.current;return y=nl(i,y),ll(i,p),l=Pp(s,i,l,d,y,p),d=Ap(),s!==null&&!rr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ci(s,i,p)):(Nt&&d&&fp(i),i.flags|=1,zn(s,i,l,p),i.child)}function Lv(s,i,l,d,p){if(nr(l)){var y=!0;nd(i)}else y=!1;if(ll(i,p),i.stateNode===null)_d(s,i),Cv(i,l,d),jp(i,l,d,p),d=!0;else if(s===null){var E=i.stateNode,N=i.memoizedProps;E.props=N;var V=E.context,J=l.contextType;typeof J=="object"&&J!==null?J=jr(J):(J=nr(l)?Ho:Rn.current,J=nl(i,J));var ie=l.getDerivedStateFromProps,ae=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function";ae||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==d||V!==J)&&Tv(i,E,d,J),qi=!1;var re=i.memoizedState;E.state=re,dd(i,d,E,p),V=i.memoizedState,N!==d||re!==V||tr.current||qi?(typeof ie=="function"&&(Mp(i,l,ie,d),V=i.memoizedState),(N=qi||bv(i,l,N,d,re,V,J))?(ae||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=V),E.props=d,E.state=V,E.context=J,d=N):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{E=i.stateNode,Yw(s,i),N=i.memoizedProps,J=i.type===i.elementType?N:ts(i.type,N),E.props=J,ae=i.pendingProps,re=E.context,V=l.contextType,typeof V=="object"&&V!==null?V=jr(V):(V=nr(l)?Ho:Rn.current,V=nl(i,V));var me=l.getDerivedStateFromProps;(ie=typeof me=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==ae||re!==V)&&Tv(i,E,d,V),qi=!1,re=i.memoizedState,E.state=re,dd(i,d,E,p);var we=i.memoizedState;N!==ae||re!==we||tr.current||qi?(typeof me=="function"&&(Mp(i,l,me,d),we=i.memoizedState),(J=qi||bv(i,l,J,d,re,we,V)||!1)?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,we,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,we,V)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||N===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=we),E.props=d,E.state=we,E.context=V,d=J):(typeof E.componentDidUpdate!="function"||N===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),d=!1)}return Up(s,i,l,d,y,p)}function Up(s,i,l,d,p,y){Ov(s,i);var E=(i.flags&128)!==0;if(!d&&!E)return p&&$w(i,l,!1),ci(s,i,y);d=i.stateNode,BI.current=i;var N=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&E?(i.child=ol(i,s.child,null,y),i.child=ol(i,null,N,y)):zn(s,i,N,y),i.memoizedState=d.state,p&&$w(i,l,!0),i.child}function Mv(s){var i=s.stateNode;i.pendingContext?Vw(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Vw(s,i.context,!1),Tp(s,i.containerInfo)}function jv(s,i,l,d,p){return il(),yp(p),i.flags|=256,zn(s,i,l,d),i.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function zp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Vv(s,i,l){var d=i.pendingProps,p=Ot.current,y=!1,E=(i.flags&128)!==0,N;if((N=E)||(N=s!==null&&s.memoizedState===null?!1:(p&2)!==0),N?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),vt(Ot,p&1),s===null)return gp(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=d.children,s=d.fallback,y?(d=i.mode,y=i.child,E={mode:"hidden",children:E},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Nd(E,d,0,null),s=ea(s,d,l,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=zp(l),i.memoizedState=Bp,s):Hp(i,E));if(p=s.memoizedState,p!==null&&(N=p.dehydrated,N!==null))return zI(s,i,E,d,N,p,l);if(y){y=d.fallback,E=i.mode,p=s.child,N=p.sibling;var V={mode:"hidden",children:d.children};return(E&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=V,i.deletions=null):(d=Xi(p,V),d.subtreeFlags=p.subtreeFlags&14680064),N!==null?y=Xi(N,y):(y=ea(y,E,l,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,E=s.child.memoizedState,E=E===null?zp(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=s.childLanes&~l,i.memoizedState=Bp,d}return y=s.child,s=y.sibling,d=Xi(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=d,i.memoizedState=null,d}function Hp(s,i){return i=Nd({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function vd(s,i,l,d){return d!==null&&yp(d),ol(i,s.child,null,l),s=Hp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function zI(s,i,l,d,p,y,E){if(l)return i.flags&256?(i.flags&=-257,d=Vp(Error(n(422))),vd(s,i,E,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=d.fallback,p=i.mode,d=Nd({mode:"visible",children:d.children},p,0,null),y=ea(y,p,E,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&ol(i,s.child,null,E),i.child.memoizedState=zp(E),i.memoizedState=Bp,y);if((i.mode&1)===0)return vd(s,i,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var N=d.dgst;return d=N,y=Error(n(419)),d=Vp(y,d,void 0),vd(s,i,E,d)}if(N=(E&s.childLanes)!==0,rr||N){if(d=pn,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ai(s,p),ss(d,s,p,-1))}return om(),d=Vp(Error(n(421))),vd(s,i,E,d)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=nS.bind(null,s),p._reactRetry=i,null):(s=y.treeContext,_r=Ui(p.nextSibling),vr=i,Nt=!0,es=null,s!==null&&(Lr[Mr++]=ii,Lr[Mr++]=oi,Lr[Mr++]=qo,ii=s.id,oi=s.overflow,qo=i),i=Hp(i,d.children),i.flags|=4096,i)}function Fv(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),Ep(s.return,i,l)}function qp(s,i,l,d,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function $v(s,i,l){var d=i.pendingProps,p=d.revealOrder,y=d.tail;if(zn(s,i,d.children,l),d=Ot.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Fv(s,l,i);else if(s.tag===19)Fv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(vt(Ot,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&hd(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),qp(i,!1,p,l,y);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&hd(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}qp(i,!0,l,null,y);break;case"together":qp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _d(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function ci(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Jo|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,l=Xi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Xi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function HI(s,i,l){switch(i.tag){case 3:Mv(i),il();break;case 5:ev(i);break;case 1:nr(i.type)&&nd(i);break;case 4:Tp(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;vt(ld,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(vt(Ot,Ot.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Vv(s,i,l):(vt(Ot,Ot.current&1),s=ci(s,i,l),s!==null?s.sibling:null);vt(Ot,Ot.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(s.flags&128)!==0){if(d)return $v(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),vt(Ot,Ot.current),d)break;return null;case 22:case 23:return i.lanes=0,Dv(s,i,l)}return ci(s,i,l)}var Uv,Wp,Bv,zv;Uv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Wp=function(){},Bv=function(s,i,l,d){var p=s.memoizedProps;if(p!==d){s=i.stateNode,Ko(Ss.current);var y=null;switch(l){case"input":p=Qn(s,p),d=Qn(s,d),y=[];break;case"select":p=Q({},p,{value:void 0}),d=Q({},d,{value:void 0}),y=[];break;case"textarea":p=et(s,p),d=et(s,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Zu)}Ao(l,d);var E;l=null;for(J in p)if(!d.hasOwnProperty(J)&&p.hasOwnProperty(J)&&p[J]!=null)if(J==="style"){var N=p[J];for(E in N)N.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(o.hasOwnProperty(J)?y||(y=[]):(y=y||[]).push(J,null));for(J in d){var V=d[J];if(N=p?.[J],d.hasOwnProperty(J)&&V!==N&&(V!=null||N!=null))if(J==="style")if(N){for(E in N)!N.hasOwnProperty(E)||V&&V.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in V)V.hasOwnProperty(E)&&N[E]!==V[E]&&(l||(l={}),l[E]=V[E])}else l||(y||(y=[]),y.push(J,l)),l=V;else J==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,N=N?N.__html:void 0,V!=null&&N!==V&&(y=y||[]).push(J,V)):J==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(J,""+V):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(o.hasOwnProperty(J)?(V!=null&&J==="onScroll"&&Ct("scroll",s),y||N===V||(y=[])):(y=y||[]).push(J,V))}l&&(y=y||[]).push("style",l);var J=y;(i.updateQueue=J)&&(i.flags|=4)}},zv=function(s,i,l,d){l!==d&&(i.flags|=4)};function kc(s,i){if(!Nt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function An(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function qI(s,i,l){var d=i.pendingProps;switch(pp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(i),null;case 1:return nr(i.type)&&td(),An(i),null;case 3:return d=i.stateNode,cl(),Tt(tr),Tt(Rn),xp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(od(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,es!==null&&(rm(es),es=null))),Wp(s,i),An(i),null;case 5:Ip(i);var p=Ko(Cc.current);if(l=i.type,s!==null&&i.stateNode!=null)Bv(s,i,l,d,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return An(i),null}if(s=Ko(Ss.current),od(i)){d=i.stateNode,l=i.type;var y=i.memoizedProps;switch(d[Is]=i,d[wc]=y,s=(i.mode&1)!==0,l){case"dialog":Ct("cancel",d),Ct("close",d);break;case"iframe":case"object":case"embed":Ct("load",d);break;case"video":case"audio":for(p=0;p<mc.length;p++)Ct(mc[p],d);break;case"source":Ct("error",d);break;case"img":case"image":case"link":Ct("error",d),Ct("load",d);break;case"details":Ct("toggle",d);break;case"input":De(d,y),Ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ct("invalid",d);break;case"textarea":He(d,y),Ct("invalid",d)}Ao(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var N=y[E];E==="children"?typeof N=="string"?d.textContent!==N&&(y.suppressHydrationWarning!==!0&&Xu(d.textContent,N,s),p=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(y.suppressHydrationWarning!==!0&&Xu(d.textContent,N,s),p=["children",""+N]):o.hasOwnProperty(E)&&N!=null&&E==="onScroll"&&Ct("scroll",d)}switch(l){case"input":bt(d),be(d,y,!0);break;case"textarea":bt(d),dr(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Zu)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Bt(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=E.createElement(l,{is:d.is}):(s=E.createElement(l),l==="select"&&(E=s,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):s=E.createElementNS(s,l),s[Is]=i,s[wc]=d,Uv(s,i,!1,!1),i.stateNode=s;e:{switch(E=No(l,d),l){case"dialog":Ct("cancel",s),Ct("close",s),p=d;break;case"iframe":case"object":case"embed":Ct("load",s),p=d;break;case"video":case"audio":for(p=0;p<mc.length;p++)Ct(mc[p],s);p=d;break;case"source":Ct("error",s),p=d;break;case"img":case"image":case"link":Ct("error",s),Ct("load",s),p=d;break;case"details":Ct("toggle",s),p=d;break;case"input":De(s,d),p=Qn(s,d),Ct("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=Q({},d,{value:void 0}),Ct("invalid",s);break;case"textarea":He(s,d),p=et(s,d),Ct("invalid",s);break;default:p=d}Ao(l,p),N=p;for(y in N)if(N.hasOwnProperty(y)){var V=N[y];y==="style"?Po(s,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&ko(s,V)):y==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&ps(s,V):typeof V=="number"&&ps(s,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?V!=null&&y==="onScroll"&&Ct("scroll",s):V!=null&&Y(s,y,V,E))}switch(l){case"input":bt(s),be(s,d,!1);break;case"textarea":bt(s),dr(s);break;case"option":d.value!=null&&s.setAttribute("value",""+$e(d.value));break;case"select":s.multiple=!!d.multiple,y=d.value,y!=null?Be(s,!!d.multiple,y,!1):d.defaultValue!=null&&Be(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Zu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return An(i),null;case 6:if(s&&i.stateNode!=null)zv(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=Ko(Cc.current),Ko(Ss.current),od(i)){if(d=i.stateNode,l=i.memoizedProps,d[Is]=i,(y=d.nodeValue!==l)&&(s=vr,s!==null))switch(s.tag){case 3:Xu(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Xu(d.nodeValue,l,(s.mode&1)!==0)}y&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Is]=i,i.stateNode=d}return An(i),null;case 13:if(Tt(Ot),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Nt&&_r!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Ww(),il(),i.flags|=98560,y=!1;else if(y=od(i),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Is]=i}else il(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;An(i),y=!1}else es!==null&&(rm(es),es=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Ot.current&1)!==0?ln===0&&(ln=3):om())),i.updateQueue!==null&&(i.flags|=4),An(i),null);case 4:return cl(),Wp(s,i),s===null&&gc(i.stateNode.containerInfo),An(i),null;case 10:return _p(i.type._context),An(i),null;case 17:return nr(i.type)&&td(),An(i),null;case 19:if(Tt(Ot),y=i.memoizedState,y===null)return An(i),null;if(d=(i.flags&128)!==0,E=y.rendering,E===null)if(d)kc(y,!1);else{if(ln!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=hd(s),E!==null){for(i.flags|=128,kc(y,!1),d=E.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)y=l,s=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,s=E.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return vt(Ot,Ot.current&1|2),i.child}s=s.sibling}y.tail!==null&&mt()>fl&&(i.flags|=128,d=!0,kc(y,!1),i.lanes=4194304)}else{if(!d)if(s=hd(E),s!==null){if(i.flags|=128,d=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),kc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Nt)return An(i),null}else 2*mt()-y.renderingStartTime>fl&&l!==1073741824&&(i.flags|=128,d=!0,kc(y,!1),i.lanes=4194304);y.isBackwards?(E.sibling=i.child,i.child=E):(l=y.last,l!==null?l.sibling=E:i.child=E,y.last=E)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=mt(),i.sibling=null,l=Ot.current,vt(Ot,d?l&1|2:l&1),i):(An(i),null);case 22:case 23:return im(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Er&1073741824)!==0&&(An(i),i.subtreeFlags&6&&(i.flags|=8192)):An(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function WI(s,i){switch(pp(i),i.tag){case 1:return nr(i.type)&&td(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return cl(),Tt(tr),Tt(Rn),xp(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Ip(i),null;case 13:if(Tt(Ot),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));il()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Tt(Ot),null;case 4:return cl(),null;case 10:return _p(i.type._context),null;case 22:case 23:return im(),null;case 24:return null;default:return null}}var Ed=!1,Nn=!1,GI=typeof WeakSet=="function"?WeakSet:Set,ye=null;function dl(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){$t(s,i,d)}else l.current=null}function Gp(s,i,l){try{l()}catch(d){$t(s,i,d)}}var Hv=!1;function KI(s,i){if(ip=Vi,s=bw(),Yf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,N=-1,V=-1,J=0,ie=0,ae=s,re=null;t:for(;;){for(var me;ae!==l||p!==0&&ae.nodeType!==3||(N=E+p),ae!==y||d!==0&&ae.nodeType!==3||(V=E+d),ae.nodeType===3&&(E+=ae.nodeValue.length),(me=ae.firstChild)!==null;)re=ae,ae=me;for(;;){if(ae===s)break t;if(re===l&&++J===p&&(N=E),re===y&&++ie===d&&(V=E),(me=ae.nextSibling)!==null)break;ae=re,re=ae.parentNode}ae=me}l=N===-1||V===-1?null:{start:N,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(op={focusedElem:s,selectionRange:l},Vi=!1,ye=i;ye!==null;)if(i=ye,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ye=s;else for(;ye!==null;){i=ye;try{var we=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var ve=we.memoizedProps,Ht=we.memoizedState,H=i.stateNode,F=H.getSnapshotBeforeUpdate(i.elementType===i.type?ve:ts(i.type,ve),Ht);H.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var G=i.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){$t(i,i.return,ue)}if(s=i.sibling,s!==null){s.return=i.return,ye=s;break}ye=i.return}return we=Hv,Hv=!1,we}function Rc(s,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var y=p.destroy;p.destroy=void 0,y!==void 0&&Gp(i,l,y)}p=p.next}while(p!==d)}}function bd(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Kp(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function qv(s){var i=s.alternate;i!==null&&(s.alternate=null,qv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Is],delete i[wc],delete i[up],delete i[PI],delete i[AI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Wv(s){return s.tag===5||s.tag===3||s.tag===4}function Gv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Wv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Qp(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Zu));else if(d!==4&&(s=s.child,s!==null))for(Qp(s,i,l),s=s.sibling;s!==null;)Qp(s,i,l),s=s.sibling}function Jp(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Jp(s,i,l),s=s.sibling;s!==null;)Jp(s,i,l),s=s.sibling}var bn=null,ns=!1;function Gi(s,i,l){for(l=l.child;l!==null;)Kv(s,i,l),l=l.sibling}function Kv(s,i,l){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Xs,l)}catch{}switch(l.tag){case 5:Nn||dl(l,i);case 6:var d=bn,p=ns;bn=null,Gi(s,i,l),bn=d,ns=p,bn!==null&&(ns?(s=bn,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):bn.removeChild(l.stateNode));break;case 18:bn!==null&&(ns?(s=bn,l=l.stateNode,s.nodeType===8?cp(s.parentNode,l):s.nodeType===1&&cp(s,l),Yr(s)):cp(bn,l.stateNode));break;case 4:d=bn,p=ns,bn=l.stateNode.containerInfo,ns=!0,Gi(s,i,l),bn=d,ns=p;break;case 0:case 11:case 14:case 15:if(!Nn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Gp(l,i,E),p=p.next}while(p!==d)}Gi(s,i,l);break;case 1:if(!Nn&&(dl(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(N){$t(l,i,N)}Gi(s,i,l);break;case 21:Gi(s,i,l);break;case 22:l.mode&1?(Nn=(d=Nn)||l.memoizedState!==null,Gi(s,i,l),Nn=d):Gi(s,i,l);break;default:Gi(s,i,l)}}function Qv(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new GI),i.forEach(function(d){var p=rS.bind(null,s,d);l.has(d)||(l.add(d),d.then(p,p))})}}function rs(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=s,E=i,N=E;e:for(;N!==null;){switch(N.tag){case 5:bn=N.stateNode,ns=!1;break e;case 3:bn=N.stateNode.containerInfo,ns=!0;break e;case 4:bn=N.stateNode.containerInfo,ns=!0;break e}N=N.return}if(bn===null)throw Error(n(160));Kv(y,E,p),bn=null,ns=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(J){$t(p,i,J)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Jv(i,s),i=i.sibling}function Jv(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(rs(i,s),ks(s),d&4){try{Rc(3,s,s.return),bd(3,s)}catch(ve){$t(s,s.return,ve)}try{Rc(5,s,s.return)}catch(ve){$t(s,s.return,ve)}}break;case 1:rs(i,s),ks(s),d&512&&l!==null&&dl(l,l.return);break;case 5:if(rs(i,s),ks(s),d&512&&l!==null&&dl(l,l.return),s.flags&32){var p=s.stateNode;try{ps(p,"")}catch(ve){$t(s,s.return,ve)}}if(d&4&&(p=s.stateNode,p!=null)){var y=s.memoizedProps,E=l!==null?l.memoizedProps:y,N=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{N==="input"&&y.type==="radio"&&y.name!=null&&Ne(p,y),No(N,E);var J=No(N,y);for(E=0;E<V.length;E+=2){var ie=V[E],ae=V[E+1];ie==="style"?Po(p,ae):ie==="dangerouslySetInnerHTML"?ko(p,ae):ie==="children"?ps(p,ae):Y(p,ie,ae,J)}switch(N){case"input":it(p,y);break;case"textarea":kt(p,y);break;case"select":var re=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?Be(p,!!y.multiple,me,!1):re!==!!y.multiple&&(y.defaultValue!=null?Be(p,!!y.multiple,y.defaultValue,!0):Be(p,!!y.multiple,y.multiple?[]:"",!1))}p[wc]=y}catch(ve){$t(s,s.return,ve)}}break;case 6:if(rs(i,s),ks(s),d&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,y=s.memoizedProps;try{p.nodeValue=y}catch(ve){$t(s,s.return,ve)}}break;case 3:if(rs(i,s),ks(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Yr(i.containerInfo)}catch(ve){$t(s,s.return,ve)}break;case 4:rs(i,s),ks(s);break;case 13:rs(i,s),ks(s),p=s.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Zp=mt())),d&4&&Qv(s);break;case 22:if(ie=l!==null&&l.memoizedState!==null,s.mode&1?(Nn=(J=Nn)||ie,rs(i,s),Nn=J):rs(i,s),ks(s),d&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!ie&&(s.mode&1)!==0)for(ye=s,ie=s.child;ie!==null;){for(ae=ye=ie;ye!==null;){switch(re=ye,me=re.child,re.tag){case 0:case 11:case 14:case 15:Rc(4,re,re.return);break;case 1:dl(re,re.return);var we=re.stateNode;if(typeof we.componentWillUnmount=="function"){d=re,l=re.return;try{i=d,we.props=i.memoizedProps,we.state=i.memoizedState,we.componentWillUnmount()}catch(ve){$t(d,l,ve)}}break;case 5:dl(re,re.return);break;case 22:if(re.memoizedState!==null){Zv(ae);continue}}me!==null?(me.return=re,ye=me):Zv(ae)}ie=ie.sibling}e:for(ie=null,ae=s;;){if(ae.tag===5){if(ie===null){ie=ae;try{p=ae.stateNode,J?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(N=ae.stateNode,V=ae.memoizedProps.style,E=V!=null&&V.hasOwnProperty("display")?V.display:null,N.style.display=Ro("display",E))}catch(ve){$t(s,s.return,ve)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=J?"":ae.memoizedProps}catch(ve){$t(s,s.return,ve)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:rs(i,s),ks(s),d&4&&Qv(s);break;case 21:break;default:rs(i,s),ks(s)}}function ks(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(Wv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(ps(p,""),d.flags&=-33);var y=Gv(s);Jp(s,y,p);break;case 3:case 4:var E=d.stateNode.containerInfo,N=Gv(s);Qp(s,N,E);break;default:throw Error(n(161))}}catch(V){$t(s,s.return,V)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function QI(s,i,l){ye=s,Yv(s)}function Yv(s,i,l){for(var d=(s.mode&1)!==0;ye!==null;){var p=ye,y=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||Ed;if(!E){var N=p.alternate,V=N!==null&&N.memoizedState!==null||Nn;N=Ed;var J=Nn;if(Ed=E,(Nn=V)&&!J)for(ye=p;ye!==null;)E=ye,V=E.child,E.tag===22&&E.memoizedState!==null?e_(p):V!==null?(V.return=E,ye=V):e_(p);for(;y!==null;)ye=y,Yv(y),y=y.sibling;ye=p,Ed=N,Nn=J}Xv(s)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ye=y):Xv(s)}}function Xv(s){for(;ye!==null;){var i=ye;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Nn||bd(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Nn)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:ts(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Zw(i,y,d);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Zw(i,E,l)}break;case 5:var N=i.stateNode;if(l===null&&i.flags&4){l=N;var V=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var J=i.alternate;if(J!==null){var ie=J.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&Yr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nn||i.flags&512&&Kp(i)}catch(re){$t(i,i.return,re)}}if(i===s){ye=null;break}if(l=i.sibling,l!==null){l.return=i.return,ye=l;break}ye=i.return}}function Zv(s){for(;ye!==null;){var i=ye;if(i===s){ye=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ye=l;break}ye=i.return}}function e_(s){for(;ye!==null;){var i=ye;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{bd(4,i)}catch(V){$t(i,l,V)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(V){$t(i,p,V)}}var y=i.return;try{Kp(i)}catch(V){$t(i,y,V)}break;case 5:var E=i.return;try{Kp(i)}catch(V){$t(i,E,V)}}}catch(V){$t(i,i.return,V)}if(i===s){ye=null;break}var N=i.sibling;if(N!==null){N.return=i.return,ye=N;break}ye=i.return}}var JI=Math.ceil,Cd=ee.ReactCurrentDispatcher,Yp=ee.ReactCurrentOwner,Fr=ee.ReactCurrentBatchConfig,ot=0,pn=null,Yt=null,Cn=0,Er=0,hl=Bi(0),ln=0,Pc=null,Jo=0,Td=0,Xp=0,Ac=null,sr=null,Zp=0,fl=1/0,ui=null,Id=!1,em=null,Ki=null,Sd=!1,Qi=null,xd=0,Nc=0,tm=null,kd=-1,Rd=0;function Hn(){return(ot&6)!==0?mt():kd!==-1?kd:kd=mt()}function Ji(s){return(s.mode&1)===0?1:(ot&2)!==0&&Cn!==0?Cn&-Cn:DI.transition!==null?(Rd===0&&(Rd=kn()),Rd):(s=tt,s!==0||(s=window.event,s=s===void 0?16:oc(s.type)),s)}function ss(s,i,l,d){if(50<Nc)throw Nc=0,tm=null,Error(n(185));Oi(s,l,d),((ot&2)===0||s!==pn)&&(s===pn&&((ot&2)===0&&(Td|=l),ln===4&&Yi(s,Cn)),ir(s,d),l===1&&ot===0&&(i.mode&1)===0&&(fl=mt()+500,rd&&Hi()))}function ir(s,i){var l=s.callbackNode;gr(s,i);var d=sn(s,s===pn?Cn:0);if(d===0)l!==null&&Mo(l),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(l!=null&&Mo(l),i===1)s.tag===0?NI(n_.bind(null,s)):Uw(n_.bind(null,s)),kI(function(){(ot&6)===0&&Hi()}),l=null;else{switch(Mi(d)){case 1:l=mr;break;case 4:l=vs;break;case 16:l=Xn;break;case 536870912:l=Oa;break;default:l=Xn}l=u_(l,t_.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function t_(s,i){if(kd=-1,Rd=0,(ot&6)!==0)throw Error(n(327));var l=s.callbackNode;if(pl()&&s.callbackNode!==l)return null;var d=sn(s,s===pn?Cn:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=Pd(s,d);else{i=d;var p=ot;ot|=2;var y=s_();(pn!==s||Cn!==i)&&(ui=null,fl=mt()+500,Xo(s,i));do try{ZI();break}catch(N){r_(s,N)}while(!0);vp(),Cd.current=y,ot=p,Yt!==null?i=0:(pn=null,Cn=0,i=ln)}if(i!==0){if(i===2&&(p=Qt(s),p!==0&&(d=p,i=nm(s,p))),i===1)throw l=Pc,Xo(s,0),Yi(s,d),ir(s,mt()),l;if(i===6)Yi(s,d);else{if(p=s.current.alternate,(d&30)===0&&!YI(p)&&(i=Pd(s,d),i===2&&(y=Qt(s),y!==0&&(d=y,i=nm(s,y))),i===1))throw l=Pc,Xo(s,0),Yi(s,d),ir(s,mt()),l;switch(s.finishedWork=p,s.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:Zo(s,sr,ui);break;case 3:if(Yi(s,d),(d&130023424)===d&&(i=Zp+500-mt(),10<i)){if(sn(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){Hn(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=lp(Zo.bind(null,s,sr,ui),i);break}Zo(s,sr,ui);break;case 4:if(Yi(s,d),(d&4194240)===d)break;for(i=s.eventTimes,p=-1;0<d;){var E=31-Ft(d);y=1<<E,E=i[E],E>p&&(p=E),d&=~y}if(d=p,d=mt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*JI(d/1960))-d,10<d){s.timeoutHandle=lp(Zo.bind(null,s,sr,ui),d);break}Zo(s,sr,ui);break;case 5:Zo(s,sr,ui);break;default:throw Error(n(329))}}}return ir(s,mt()),s.callbackNode===l?t_.bind(null,s):null}function nm(s,i){var l=Ac;return s.current.memoizedState.isDehydrated&&(Xo(s,i).flags|=256),s=Pd(s,i),s!==2&&(i=sr,sr=l,i!==null&&rm(i)),s}function rm(s){sr===null?sr=s:sr.push.apply(sr,s)}function YI(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!Zr(y(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(s,i){for(i&=~Xp,i&=~Td,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Ft(i),d=1<<l;s[l]=-1,i&=~d}}function n_(s){if((ot&6)!==0)throw Error(n(327));pl();var i=sn(s,0);if((i&1)===0)return ir(s,mt()),null;var l=Pd(s,i);if(s.tag!==0&&l===2){var d=Qt(s);d!==0&&(i=d,l=nm(s,d))}if(l===1)throw l=Pc,Xo(s,0),Yi(s,i),ir(s,mt()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Zo(s,sr,ui),ir(s,mt()),null}function sm(s,i){var l=ot;ot|=1;try{return s(i)}finally{ot=l,ot===0&&(fl=mt()+500,rd&&Hi())}}function Yo(s){Qi!==null&&Qi.tag===0&&(ot&6)===0&&pl();var i=ot;ot|=1;var l=Fr.transition,d=tt;try{if(Fr.transition=null,tt=1,s)return s()}finally{tt=d,Fr.transition=l,ot=i,(ot&6)===0&&Hi()}}function im(){Er=hl.current,Tt(hl)}function Xo(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,xI(l)),Yt!==null)for(l=Yt.return;l!==null;){var d=l;switch(pp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&td();break;case 3:cl(),Tt(tr),Tt(Rn),xp();break;case 5:Ip(d);break;case 4:cl();break;case 13:Tt(Ot);break;case 19:Tt(Ot);break;case 10:_p(d.type._context);break;case 22:case 23:im()}l=l.return}if(pn=s,Yt=s=Xi(s.current,null),Cn=Er=i,ln=0,Pc=null,Xp=Td=Jo=0,sr=Ac=null,Go!==null){for(i=0;i<Go.length;i++)if(l=Go[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,d.next=E}l.pending=d}Go=null}return s}function r_(s,i){do{var l=Yt;try{if(vp(),fd.current=yd,pd){for(var d=Lt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}pd=!1}if(Qo=0,fn=an=Lt=null,Tc=!1,Ic=0,Yp.current=null,l===null||l.return===null){ln=1,Pc=i,Yt=null;break}e:{var y=s,E=l.return,N=l,V=i;if(i=Cn,N.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=V,ie=N,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var me=kv(E);if(me!==null){me.flags&=-257,Rv(me,E,N,y,i),me.mode&1&&xv(y,J,i),i=me,V=J;var we=i.updateQueue;if(we===null){var ve=new Set;ve.add(V),i.updateQueue=ve}else we.add(V);break e}else{if((i&1)===0){xv(y,J,i),om();break e}V=Error(n(426))}}else if(Nt&&N.mode&1){var Ht=kv(E);if(Ht!==null){(Ht.flags&65536)===0&&(Ht.flags|=256),Rv(Ht,E,N,y,i),yp(ul(V,N));break e}}y=V=ul(V,N),ln!==4&&(ln=2),Ac===null?Ac=[y]:Ac.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var H=Iv(y,V,i);Xw(y,H);break e;case 1:N=V;var F=y.type,G=y.stateNode;if((y.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ki===null||!Ki.has(G)))){y.flags|=65536,i&=-i,y.lanes|=i;var ue=Sv(y,N,i);Xw(y,ue);break e}}y=y.return}while(y!==null)}o_(l)}catch(Ee){i=Ee,Yt===l&&l!==null&&(Yt=l=l.return);continue}break}while(!0)}function s_(){var s=Cd.current;return Cd.current=yd,s===null?yd:s}function om(){(ln===0||ln===3||ln===2)&&(ln=4),pn===null||(Jo&268435455)===0&&(Td&268435455)===0||Yi(pn,Cn)}function Pd(s,i){var l=ot;ot|=2;var d=s_();(pn!==s||Cn!==i)&&(ui=null,Xo(s,i));do try{XI();break}catch(p){r_(s,p)}while(!0);if(vp(),ot=l,Cd.current=d,Yt!==null)throw Error(n(261));return pn=null,Cn=0,ln}function XI(){for(;Yt!==null;)i_(Yt)}function ZI(){for(;Yt!==null&&!Da();)i_(Yt)}function i_(s){var i=c_(s.alternate,s,Er);s.memoizedProps=s.pendingProps,i===null?o_(s):Yt=i,Yp.current=null}function o_(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=qI(l,i,Er),l!==null){Yt=l;return}}else{if(l=WI(l,i),l!==null){l.flags&=32767,Yt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ln=6,Yt=null;return}}if(i=i.sibling,i!==null){Yt=i;return}Yt=i=s}while(i!==null);ln===0&&(ln=5)}function Zo(s,i,l){var d=tt,p=Fr.transition;try{Fr.transition=null,tt=1,eS(s,i,l,d)}finally{Fr.transition=p,tt=d}return null}function eS(s,i,l,d){do pl();while(Qi!==null);if((ot&6)!==0)throw Error(n(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(yt(s,y),s===pn&&(Yt=pn=null,Cn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Sd||(Sd=!0,u_(Xn,function(){return pl(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Fr.transition,Fr.transition=null;var E=tt;tt=1;var N=ot;ot|=4,Yp.current=null,KI(s,l),Jv(l,s),_I(op),Vi=!!ip,op=ip=null,s.current=l,QI(l),rc(),ot=N,tt=E,Fr.transition=y}else s.current=l;if(Sd&&(Sd=!1,Qi=s,xd=p),y=s.pendingLanes,y===0&&(Ki=null),La(l.stateNode),ir(s,mt()),i!==null)for(d=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Id)throw Id=!1,s=em,em=null,s;return(xd&1)!==0&&s.tag!==0&&pl(),y=s.pendingLanes,(y&1)!==0?s===tm?Nc++:(Nc=0,tm=s):Nc=0,Hi(),null}function pl(){if(Qi!==null){var s=Mi(xd),i=Fr.transition,l=tt;try{if(Fr.transition=null,tt=16>s?16:s,Qi===null)var d=!1;else{if(s=Qi,Qi=null,xd=0,(ot&6)!==0)throw Error(n(331));var p=ot;for(ot|=4,ye=s.current;ye!==null;){var y=ye,E=y.child;if((ye.flags&16)!==0){var N=y.deletions;if(N!==null){for(var V=0;V<N.length;V++){var J=N[V];for(ye=J;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:Rc(8,ie,y)}var ae=ie.child;if(ae!==null)ae.return=ie,ye=ae;else for(;ye!==null;){ie=ye;var re=ie.sibling,me=ie.return;if(qv(ie),ie===J){ye=null;break}if(re!==null){re.return=me,ye=re;break}ye=me}}}var we=y.alternate;if(we!==null){var ve=we.child;if(ve!==null){we.child=null;do{var Ht=ve.sibling;ve.sibling=null,ve=Ht}while(ve!==null)}}ye=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ye=E;else e:for(;ye!==null;){if(y=ye,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Rc(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,ye=H;break e}ye=y.return}}var F=s.current;for(ye=F;ye!==null;){E=ye;var G=E.child;if((E.subtreeFlags&2064)!==0&&G!==null)G.return=E,ye=G;else e:for(E=F;ye!==null;){if(N=ye,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:bd(9,N)}}catch(Ee){$t(N,N.return,Ee)}if(N===E){ye=null;break e}var ue=N.sibling;if(ue!==null){ue.return=N.return,ye=ue;break e}ye=N.return}}if(ot=p,Hi(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Xs,s)}catch{}d=!0}return d}finally{tt=l,Fr.transition=i}}return!1}function a_(s,i,l){i=ul(l,i),i=Iv(s,i,1),s=Wi(s,i,1),i=Hn(),s!==null&&(Oi(s,1,i),ir(s,i))}function $t(s,i,l){if(s.tag===3)a_(s,s,l);else for(;i!==null;){if(i.tag===3){a_(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ki===null||!Ki.has(d))){s=ul(l,s),s=Sv(i,s,1),i=Wi(i,s,1),s=Hn(),i!==null&&(Oi(i,1,s),ir(i,s));break}}i=i.return}}function tS(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),i=Hn(),s.pingedLanes|=s.suspendedLanes&l,pn===s&&(Cn&l)===l&&(ln===4||ln===3&&(Cn&130023424)===Cn&&500>mt()-Zp?Xo(s,0):Xp|=l),ir(s,i)}function l_(s,i){i===0&&((s.mode&1)===0?i=1:(i=Ge,Ge<<=1,(Ge&130023424)===0&&(Ge=4194304)));var l=Hn();s=ai(s,i),s!==null&&(Oi(s,i,l),ir(s,l))}function nS(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),l_(s,l)}function rS(s,i){var l=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),l_(s,l)}var c_;c_=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||tr.current)rr=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return rr=!1,HI(s,i,l);rr=(s.flags&131072)!==0}else rr=!1,Nt&&(i.flags&1048576)!==0&&Bw(i,id,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;_d(s,i),s=i.pendingProps;var p=nl(i,Rn.current);ll(i,l),p=Pp(null,i,d,s,p,l);var y=Ap();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,nr(d)?(y=!0,nd(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Cp(i),p.updater=wd,i.stateNode=p,p._reactInternals=i,jp(i,d,s,l),i=Up(null,i,d,!0,y,l)):(i.tag=0,Nt&&y&&fp(i),zn(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(_d(s,i),s=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=iS(d),s=ts(d,s),p){case 0:i=$p(null,i,d,s,l);break e;case 1:i=Lv(null,i,d,s,l);break e;case 11:i=Pv(null,i,d,s,l);break e;case 14:i=Av(null,i,d,ts(d.type,s),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ts(d,p),$p(s,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ts(d,p),Lv(s,i,d,p,l);case 3:e:{if(Mv(i),s===null)throw Error(n(387));d=i.pendingProps,y=i.memoizedState,p=y.element,Yw(s,i),dd(i,d,null,l);var E=i.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=ul(Error(n(423)),i),i=jv(s,i,d,l,p);break e}else if(d!==p){p=ul(Error(n(424)),i),i=jv(s,i,d,l,p);break e}else for(_r=Ui(i.stateNode.containerInfo.firstChild),vr=i,Nt=!0,es=null,l=Qw(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(il(),d===p){i=ci(s,i,l);break e}zn(s,i,d,l)}i=i.child}return i;case 5:return ev(i),s===null&&gp(i),d=i.type,p=i.pendingProps,y=s!==null?s.memoizedProps:null,E=p.children,ap(d,p)?E=null:y!==null&&ap(d,y)&&(i.flags|=32),Ov(s,i),zn(s,i,E,l),i.child;case 6:return s===null&&gp(i),null;case 13:return Vv(s,i,l);case 4:return Tp(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=ol(i,null,d,l):zn(s,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ts(d,p),Pv(s,i,d,p,l);case 7:return zn(s,i,i.pendingProps,l),i.child;case 8:return zn(s,i,i.pendingProps.children,l),i.child;case 12:return zn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,y=i.memoizedProps,E=p.value,vt(ld,d._currentValue),d._currentValue=E,y!==null)if(Zr(y.value,E)){if(y.children===p.children&&!tr.current){i=ci(s,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var N=y.dependencies;if(N!==null){E=y.child;for(var V=N.firstContext;V!==null;){if(V.context===d){if(y.tag===1){V=li(-1,l&-l),V.tag=2;var J=y.updateQueue;if(J!==null){J=J.shared;var ie=J.pending;ie===null?V.next=V:(V.next=ie.next,ie.next=V),J.pending=V}}y.lanes|=l,V=y.alternate,V!==null&&(V.lanes|=l),Ep(y.return,l,i),N.lanes|=l;break}V=V.next}}else if(y.tag===10)E=y.type===i.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(n(341));E.lanes|=l,N=E.alternate,N!==null&&(N.lanes|=l),Ep(E,l,i),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===i){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}zn(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,ll(i,l),p=jr(p),d=d(p),i.flags|=1,zn(s,i,d,l),i.child;case 14:return d=i.type,p=ts(d,i.pendingProps),p=ts(d.type,p),Av(s,i,d,p,l);case 15:return Nv(s,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ts(d,p),_d(s,i),i.tag=1,nr(d)?(s=!0,nd(i)):s=!1,ll(i,l),Cv(i,d,p),jp(i,d,p,l),Up(null,i,d,!0,s,l);case 19:return $v(s,i,l);case 22:return Dv(s,i,l)}throw Error(n(156,i.tag))};function u_(s,i){return Ys(s,i)}function sS(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(s,i,l,d){return new sS(s,i,l,d)}function am(s){return s=s.prototype,!(!s||!s.isReactComponent)}function iS(s){if(typeof s=="function")return am(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===Me)return 14}return 2}function Xi(s,i){var l=s.alternate;return l===null?(l=$r(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Ad(s,i,l,d,p,y){var E=2;if(d=s,typeof s=="function")am(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case k:return ea(l.children,p,y,i);case S:E=8,p|=8;break;case P:return s=$r(12,l,i,p|2),s.elementType=P,s.lanes=y,s;case R:return s=$r(13,l,i,p),s.elementType=R,s.lanes=y,s;case Le:return s=$r(19,l,i,p),s.elementType=Le,s.lanes=y,s;case ke:return Nd(l,p,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case x:E=10;break e;case M:E=9;break e;case $:E=11;break e;case Me:E=14;break e;case We:E=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=$r(E,l,i,p),i.elementType=s,i.type=d,i.lanes=y,i}function ea(s,i,l,d){return s=$r(7,s,d,i),s.lanes=l,s}function Nd(s,i,l,d){return s=$r(22,s,d,i),s.elementType=ke,s.lanes=l,s.stateNode={isHidden:!1},s}function lm(s,i,l){return s=$r(6,s,null,i),s.lanes=l,s}function cm(s,i,l){return i=$r(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function oS(s,i,l,d,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function um(s,i,l,d,p,y,E,N,V){return s=new oS(s,i,l,N,V),i===1?(i=1,y===!0&&(i|=8)):i=0,y=$r(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(y),s}function aS(s,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:s,containerInfo:i,implementation:l}}function d_(s){if(!s)return zi;s=s._reactInternals;e:{if(Vt(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(nr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(nr(l))return Fw(s,l,i)}return i}function h_(s,i,l,d,p,y,E,N,V){return s=um(l,d,!0,s,p,y,E,N,V),s.context=d_(null),l=s.current,d=Hn(),p=Ji(l),y=li(d,p),y.callback=i??null,Wi(l,y,p),s.current.lanes=p,Oi(s,p,d),ir(s,d),s}function Dd(s,i,l,d){var p=i.current,y=Hn(),E=Ji(p);return l=d_(l),i.context===null?i.context=l:i.pendingContext=l,i=li(y,E),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=Wi(p,i,E),s!==null&&(ss(s,p,E,y),ud(s,p,E)),E}function Od(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function f_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function dm(s,i){f_(s,i),(s=s.alternate)&&f_(s,i)}function lS(){return null}var p_=typeof reportError=="function"?reportError:function(s){console.error(s)};function hm(s){this._internalRoot=s}Ld.prototype.render=hm.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));Dd(s,i,null,null)},Ld.prototype.unmount=hm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Yo(function(){Dd(null,s,null,null)}),i[ri]=null}};function Ld(s){this._internalRoot=s}Ld.prototype.unstable_scheduleHydration=function(s){if(s){var i=Lu();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Es.length&&i!==0&&i<Es[l].priority;l++);Es.splice(l,0,s),l===0&&Vu(s)}};function fm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Md(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function m_(){}function cS(s,i,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var J=Od(E);y.call(J)}}var E=h_(i,d,s,0,null,!1,!1,"",m_);return s._reactRootContainer=E,s[ri]=E.current,gc(s.nodeType===8?s.parentNode:s),Yo(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var N=d;d=function(){var J=Od(V);N.call(J)}}var V=um(s,0,!1,null,null,!1,!1,"",m_);return s._reactRootContainer=V,s[ri]=V.current,gc(s.nodeType===8?s.parentNode:s),Yo(function(){Dd(i,V,l,d)}),V}function jd(s,i,l,d,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var N=p;p=function(){var V=Od(E);N.call(V)}}Dd(i,E,s,p)}else E=cS(l,i,s,p,d);return Od(E)}Du=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=Pt(i.pendingLanes);l!==0&&(Li(i,l|1),ir(i,mt()),(ot&6)===0&&(fl=mt()+500,Hi()))}break;case 13:Yo(function(){var d=ai(s,1);if(d!==null){var p=Hn();ss(d,s,1,p)}}),dm(s,1)}},Va=function(s){if(s.tag===13){var i=ai(s,134217728);if(i!==null){var l=Hn();ss(i,s,134217728,l)}dm(s,134217728)}},Ou=function(s){if(s.tag===13){var i=Ji(s),l=ai(s,i);if(l!==null){var d=Hn();ss(l,s,i,d)}dm(s,i)}},Lu=function(){return tt},Mu=function(s,i){var l=tt;try{return tt=s,i()}finally{tt=l}},ki=function(s,i,l){switch(i){case"input":if(it(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var p=ed(d);if(!p)throw Error(n(90));wt(d),it(d,p)}}}break;case"textarea":kt(s,l);break;case"select":i=l.value,i!=null&&Be(s,!!l.multiple,i,!1)}},ys=sm,Ri=Yo;var uS={usingClientEntryPoint:!1,Events:[vc,el,ed,Pr,Do,sm]},Dc={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dS={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ni(s),s===null?null:s.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||lS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{Xs=Vd.inject(dS),Un=Vd}catch{}}return or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uS,or.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fm(i))throw Error(n(200));return aS(s,i,null,l)},or.createRoot=function(s,i){if(!fm(s))throw Error(n(299));var l=!1,d="",p=p_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=um(s,1,!1,null,null,l,!1,d,p),s[ri]=i.current,gc(s.nodeType===8?s.parentNode:s),new hm(i)},or.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ni(i),s=s===null?null:s.stateNode,s},or.flushSync=function(s){return Yo(s)},or.hydrate=function(s,i,l){if(!Md(i))throw Error(n(200));return jd(null,s,i,!0,l)},or.hydrateRoot=function(s,i,l){if(!fm(s))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",E=p_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=h_(i,null,s,1,l??null,p,!1,y,E),s[ri]=i.current,gc(s),d)for(s=0;s<d.length;s++)l=d[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new Ld(i)},or.render=function(s,i,l){if(!Md(i))throw Error(n(200));return jd(null,s,i,!1,l)},or.unmountComponentAtNode=function(s){if(!Md(s))throw Error(n(40));return s._reactRootContainer?(Yo(function(){jd(null,null,s,!1,function(){s._reactRootContainer=null,s[ri]=null})}),!0):!1},or.unstable_batchedUpdates=sm,or.unstable_renderSubtreeIntoContainer=function(s,i,l,d){if(!Md(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return jd(s,i,l,!1,d)},or.version="18.3.1-next-f1338f8080-20240426",or}var C_;function _S(){if(C_)return gm.exports;C_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gm.exports=vS(),gm.exports}var T_;function ES(){if(T_)return Fd;T_=1;var t=_S();return Fd.createRoot=t.createRoot,Fd.hydrateRoot=t.hydrateRoot,Fd}var bS=ES();const CS=()=>{};var I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},TS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},XE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,h=u?t[o+1]:0,f=o+2<t.length,m=f?t[o+2]:0,v=a>>2,b=(a&3)<<4|h>>4;let C=(h&15)<<2|m>>6,A=m&63;f||(A=64,u||(C=64)),r.push(n[v],n[b],n[C],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||m==null||b==null)throw new IS;const C=a<<2|h>>4;if(r.push(C),m!==64){const A=h<<4&240|m>>2;if(r.push(A),b!==64){const D=m<<6&192|b;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SS=function(t){const e=YE(t);return XE.encodeByteArray(e,!0)},yh=function(t){return SS(t).replace(/\./g,"")},ZE=function(t){try{return XE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=()=>xS().__FIREBASE_DEFAULTS__,RS=()=>{if(typeof process>"u"||typeof I_>"u")return;const t=I_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZE(t[1]);return e&&JSON.parse(e)},nf=()=>{try{return CS()||kS()||RS()||PS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eb=t=>nf()?.emulatorHosts?.[t],tb=t=>{const e=eb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nb=()=>nf()?.config,rb=t=>nf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[yh(JSON.stringify(n)),yh(JSON.stringify(u)),""].join(".")}const Hc={};function NS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hc))Hc[e]?t.emulator.push(e):t.prod.push(e);return t}function DS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let S_=!1;function Og(t,e){if(typeof window>"u"||typeof document>"u"||!ba(window.location.host)||Hc[t]===e||Hc[t]||S_)return;Hc[t]=e;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",a=NS().prod.length>0;function u(){const C=document.getElementById(r);C&&C.remove()}function h(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function f(C,A){C.setAttribute("width","24"),C.setAttribute("id",A),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function m(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{S_=!0,u()},C}function v(C,A){C.setAttribute("id",A),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=DS(r),A=n("text"),D=document.getElementById(A)||document.createElement("span"),j=n("learnmore"),L=document.getElementById(j)||document.createElement("a"),K=n("preprendIcon"),q=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const Y=C.element;h(Y),v(L,j);const ee=m();f(q,K),Y.append(q,D,L,ee),document.body.appendChild(Y)}a?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function LS(){const t=nf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FS(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $S(){return!LS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function US(){try{return typeof indexedDB=="object"}catch{return!1}}function BS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="FirebaseError";class Hs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zS,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?HS(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Hs(o,h,r)}}function HS(t,e){return t.replace(qS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const qS=/\{\$([^}]+)}/g;function WS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],u=e[o];if(x_(a)&&x_(u)){if(!vi(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function x_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Vc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function GS(t,e){const n=new KS(t,e);return n.subscribe.bind(n)}class KS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=vm),o.error===void 0&&(o.error=vm),o.complete===void 0&&(o.complete=vm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class yo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XS(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YS(t){return t===ra?void 0:t}function XS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const ex={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},tx=Ye.INFO,nx={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},rx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=nx[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lg{constructor(e){this.name=e,this._logLevel=tx,this._logHandler=rx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ex[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const sx=(t,e)=>e.some(n=>t instanceof n);let k_,R_;function ix(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ox(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ib=new WeakMap,qm=new WeakMap,ob=new WeakMap,_m=new WeakMap,Mg=new WeakMap;function ax(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(ho(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&ib.set(n,t)}).catch(()=>{}),Mg.set(e,t),e}function lx(t){if(qm.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});qm.set(t,e)}let Wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ob.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cx(t){Wm=t(Wm)}function ux(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Em(this),e,...n);return ob.set(r,e.sort?e.sort():[e]),ho(r)}:ox().includes(t)?function(...e){return t.apply(Em(this),e),ho(ib.get(this))}:function(...e){return ho(t.apply(Em(this),e))}}function dx(t){return typeof t=="function"?ux(t):(t instanceof IDBTransaction&&lx(t),sx(t,ix())?new Proxy(t,Wm):t)}function ho(t){if(t instanceof IDBRequest)return ax(t);if(_m.has(t))return _m.get(t);const e=dx(t);return e!==t&&(_m.set(t,e),Mg.set(e,t)),e}const Em=t=>Mg.get(t);function hx(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),h=ho(u);return r&&u.addEventListener("upgradeneeded",f=>{r(ho(u.result),f.oldVersion,f.newVersion,ho(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const fx=["get","getKey","getAll","getAllKeys","count"],px=["put","add","delete","clear"],bm=new Map;function P_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=px.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||fx.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&f.done]))[0]};return bm.set(e,a),a}cx(t=>({...t,get:(e,n,r)=>P_(e,n)||t.get(e,n,r),has:(e,n)=>!!P_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gx(t){return t.getComponent()?.type==="VERSION"}const Gm="@firebase/app",A_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Lg("@firebase/app"),yx="@firebase/app-compat",wx="@firebase/analytics-compat",vx="@firebase/analytics",_x="@firebase/app-check-compat",Ex="@firebase/app-check",bx="@firebase/auth",Cx="@firebase/auth-compat",Tx="@firebase/database",Ix="@firebase/data-connect",Sx="@firebase/database-compat",xx="@firebase/functions",kx="@firebase/functions-compat",Rx="@firebase/installations",Px="@firebase/installations-compat",Ax="@firebase/messaging",Nx="@firebase/messaging-compat",Dx="@firebase/performance",Ox="@firebase/performance-compat",Lx="@firebase/remote-config",Mx="@firebase/remote-config-compat",jx="@firebase/storage",Vx="@firebase/storage-compat",Fx="@firebase/firestore",$x="@firebase/ai",Ux="@firebase/firestore-compat",Bx="firebase",zx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",Hx={[Gm]:"fire-core",[yx]:"fire-core-compat",[vx]:"fire-analytics",[wx]:"fire-analytics-compat",[Ex]:"fire-app-check",[_x]:"fire-app-check-compat",[bx]:"fire-auth",[Cx]:"fire-auth-compat",[Tx]:"fire-rtdb",[Ix]:"fire-data-connect",[Sx]:"fire-rtdb-compat",[xx]:"fire-fn",[kx]:"fire-fn-compat",[Rx]:"fire-iid",[Px]:"fire-iid-compat",[Ax]:"fire-fcm",[Nx]:"fire-fcm-compat",[Dx]:"fire-perf",[Ox]:"fire-perf-compat",[Lx]:"fire-rc",[Mx]:"fire-rc-compat",[jx]:"fire-gcs",[Vx]:"fire-gcs-compat",[Fx]:"fire-fst",[Ux]:"fire-fst-compat",[$x]:"fire-vertex","fire-js":"fire-js",[Bx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,qx=new Map,Qm=new Map;function N_(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(Qm.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,t);for(const n of wh.values())N_(n,t);for(const n of qx.values())N_(n,t);return!0}function rf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new hu("app","Firebase",Wx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=zx;function ab(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Km,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw fo.create("bad-app-name",{appName:String(o)});if(n||(n=nb()),!n)throw fo.create("no-options");const a=wh.get(o);if(a){if(vi(n,a.options)&&vi(r,a.config))return a;throw fo.create("duplicate-app",{appName:o})}const u=new ZS(o);for(const f of Qm.values())u.addComponent(f);const h=new Gx(n,r,u);return wh.set(o,h),h}function jg(t=Km){const e=wh.get(t);if(!e&&t===Km&&nb())return ab();if(!e)throw fo.create("no-app",{appName:t});return e}function Ds(t,e,n){let r=Hx[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(u.join(" "));return}fa(new yo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="firebase-heartbeat-database",Qx=1,Zc="firebase-heartbeat-store";let Cm=null;function lb(){return Cm||(Cm=hx(Kx,Qx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw fo.create("idb-open",{originalErrorMessage:t.message})})),Cm}async function Jx(t){try{const n=(await lb()).transaction(Zc),r=await n.objectStore(Zc).get(cb(t));return await n.done,r}catch(e){if(e instanceof Hs)_i.warn(e.message);else{const n=fo.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}}async function D_(t,e){try{const r=(await lb()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,cb(t)),await r.done}catch(n){if(n instanceof Hs)_i.warn(n.message);else{const r=fo.create("idb-set",{originalErrorMessage:n?.message});_i.warn(r.message)}}}function cb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=1024,Xx=30;class Zx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=O_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Xx){const o=nk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=O_(),{heartbeatsToSend:n,unsentEntries:r}=ek(this._heartbeatsCache.heartbeats),o=yh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _i.warn(e),""}}}function O_(){return new Date().toISOString().substring(0,10)}function ek(t,e=Yx){const n=[];let r=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),L_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),L_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return US()?BS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function L_(t){return yh(JSON.stringify({version:2,heartbeats:t})).length}function nk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t){fa(new yo("platform-logger",e=>new mx(e),"PRIVATE")),fa(new yo("heartbeat",e=>new Zx(e),"PRIVATE")),Ds(Gm,A_,t),Ds(Gm,A_,"esm2020"),Ds("fire-js","")}rk("");function ub(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sk=ub,db=new hu("auth","Firebase",ub());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Lg("@firebase/auth");function ik(t,...e){vh.logLevel<=Ye.WARN&&vh.warn(`Auth (${Ca}): ${t}`,...e)}function Zd(t,...e){vh.logLevel<=Ye.ERROR&&vh.error(`Auth (${Ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,...e){throw Fg(t,...e)}function Br(t,...e){return Fg(t,...e)}function Vg(t,e,n){const r={...sk(),[e]:n};return new hu("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return Vg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&zr(t,"argument-error"),Vg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return db.create(t,...e)}function Pe(t,e,...n){if(!t)throw Fg(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zd(e),new Error(e)}function Ei(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){return typeof self<"u"&&self.location?.href||""}function ok(){return M_()==="http:"||M_()==="https:"}function M_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ok()||jS()||"connection"in navigator)?navigator.onLine:!0}function lk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=OS()||VS()}get(){return ak()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dk=new pu(3e4,6e4);function Ii(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function us(t,e,n,r,o={}){return pb(t,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=fu({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:f,...a};return MS()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&ba(t.emulatorConfig.host)&&(m.credentials="include"),fb.fetch()(await mb(t,t.config.apiHost,n,h),m)})}async function pb(t,e,n){t._canInitEmulator=!1;const r={...ck,...e};try{const o=new fk(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw $d(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw $d(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw $d(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw $d(t,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Vg(t,v,m);zr(t,v)}}catch(o){if(o instanceof Hs)throw o;zr(t,"network-request-failed",{message:String(o)})}}async function mu(t,e,n,r,o={}){const a=await us(t,e,n,r,o);return"mfaPendingCredential"in a&&zr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function mb(t,e,n,r){const o=`${e}${n}?${r}`,a=t,u=a.config.emulator?$g(t.config,o):`${t.config.apiScheme}://${o}`;return uk.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function hk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),dk.get())})}}function $d(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Br(t,e,r);return o.customData._tokenResponse=n,o}function j_(t){return t!==void 0&&t.enterprise!==void 0}class pk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mk(t,e){return us(t,"GET","/v2/recaptchaConfig",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(t,e){return us(t,"POST","/v1/accounts:delete",e)}async function _h(t,e){return us(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yk(t,e=!1){const n=xt(t),r=await n.getIdToken(e),o=Ug(r);Pe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:qc(Tm(o.auth_time)),issuedAtTime:qc(Tm(o.iat)),expirationTime:qc(Tm(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Tm(t){return Number(t)*1e3}function Ug(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{const o=ZE(n);return o?JSON.parse(o):(Zd("Failed to decode base64 JWT payload"),null)}catch(o){return Zd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function V_(t){const e=Ug(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hs&&wk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(t){const e=t.auth,n=await t.getIdToken(),r=await pa(t,_h(e,{idToken:n}));Pe(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=o.providerUserInfo?.length?gb(o.providerUserInfo):[],u=Ek(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!u?.length,m=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function _k(t){const e=xt(t);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ek(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function gb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e){const n=await pb(t,{},async()=>{const r=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,u=await mb(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&ba(t.emulatorConfig.host)&&(f.credentials="include"),fb.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ck(t,e){return us(t,"POST","/v2/accounts:revokeToken",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=V_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await bk(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,u=new bl;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Pe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Pe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class is{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new vk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await pa(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yk(this,e)}reload(){return _k(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new is({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await pa(this,gk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,m=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:C,isAnonymous:A,providerData:D,stsTokenManager:j}=n;Pe(b&&j,e,"internal-error");const L=bl.fromJSON(this.name,j);Pe(typeof b=="string",e,"internal-error"),eo(r,e.name),eo(o,e.name),Pe(typeof C=="boolean",e,"internal-error"),Pe(typeof A=="boolean",e,"internal-error"),eo(a,e.name),eo(u,e.name),eo(h,e.name),eo(f,e.name),eo(m,e.name),eo(v,e.name);const K=new is({uid:b,auth:e,email:o,emailVerified:C,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:L,createdAt:m,lastLoginAt:v});return D&&Array.isArray(D)&&(K.providerData=D.map(q=>({...q}))),f&&(K._redirectEventId=f),K}static async _fromIdTokenResponse(e,n,r=!1){const o=new bl;o.updateFromServerResponse(n);const a=new is({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Eh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Pe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?gb(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,h=new bl;h.updateFromIdToken(r);const f=new is({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;function pi(t){Ei(t instanceof Function,"Expected a class definition");let e=F_.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yb.type="NONE";const $_=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t,e,n){return`firebase:${t}:${e}:${n}`}class Cl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,a),this.fullPersistenceKey=eh("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _h(this.auth,{idToken:e}).catch(()=>{});return n?is._fromGetAccountInfoResponse(this.auth,n,e):null}return is._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cl(pi($_),e,r);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||pi($_);const u=eh(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const v=await m._get(u);if(v){let b;if(typeof v=="string"){const C=await _h(e,{idToken:v}).catch(()=>{});if(!C)break;b=await is._fromGetAccountInfoResponse(e,C,v)}else b=is._fromJSON(e,v);m!==a&&(h=b),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Cl(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Cl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Cb(e))return"Blackberry";if(Tb(e))return"Webos";if(vb(e))return"Safari";if((e.includes("chrome/")||_b(e))&&!e.includes("edge/"))return"Chrome";if(bb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wb(t=Vn()){return/firefox\//i.test(t)}function vb(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _b(t=Vn()){return/crios\//i.test(t)}function Eb(t=Vn()){return/iemobile/i.test(t)}function bb(t=Vn()){return/android/i.test(t)}function Cb(t=Vn()){return/blackberry/i.test(t)}function Tb(t=Vn()){return/webos/i.test(t)}function Bg(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Tk(t=Vn()){return Bg(t)&&!!window.navigator?.standalone}function Ik(){return FS()&&document.documentMode===10}function Ib(t=Vn()){return Bg(t)||bb(t)||Tb(t)||Cb(t)||/windows phone/i.test(t)||Eb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t,e=[]){let n;switch(t){case"Browser":n=U_(Vn());break;case"Worker":n=`${U_(Vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(t,e={}){return us(t,"GET","/v2/passwordPolicy",Ii(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=6;class Rk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new Sk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _h(this,{idToken:e}),r=await is._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(mi(this));const n=e?xt(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xk(this),n=new Rk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ck(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ik(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Si(t){return xt(t)}class B_{constructor(e){this.auth=e,this.observer=null,this.addObserver=GS(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ak(t){sf=t}function xb(t){return sf.loadJS(t)}function Nk(){return sf.recaptchaEnterpriseScript}function Dk(){return sf.gapiScript}function Ok(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Lk{constructor(){this.enterprise=new Mk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Mk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jk="recaptcha-enterprise",kb="NO_RECAPTCHA";class Vk{constructor(e){this.type=jk,this.auth=Si(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{mk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new pk(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;j_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(kb)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Lk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!n&&j_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Nk();f.length!==0&&(f+=h),xb(f).then(()=>{o(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function z_(t,e,n,r=!1,o=!1){const a=new Vk(t);let u;if(o)u=kb;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function bh(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await z_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await z_(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t,e){const n=rf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(vi(a,e??{}))return o;zr(o,"already-initialized")}return n.initialize({options:e})}function $k(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Uk(t,e,n){const r=Si(t);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=Rb(e),{host:u,port:h}=Bk(e),f=h===null?"":`:${h}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(vi(m,r.config.emulator)&&vi(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ba(u)?(Dg(`${a}//${u}${f}`),Og("Auth",!0)):zk()}function Rb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Bk(t){const e=Rb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:H_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:H_(u)}}}function H_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function Hk(t,e){return us(t,"POST","/v1/accounts:update",e)}async function qk(t,e){return us(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(t,e){return mu(t,"POST","/v1/accounts:signInWithPassword",Ii(t,e))}async function Gk(t,e){return us(t,"POST","/v1/accounts:sendOobCode",Ii(t,e))}async function Kk(t,e){return Gk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}async function Jk(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends zg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(e,n,"signInWithPassword",Wk);case"emailLink":return Qk(e,{email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(e,r,"signUpPassword",qk);case"emailLink":return Jk(e,{idToken:n,email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t,e){return mu(t,"POST","/v1/accounts:signInWithIdp",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="http://localhost";class ma extends zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=n;if(!r||!o)return null;const u=new ma(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Tl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tl(e,n)}buildRequest(){const e={requestUri:Yk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zk(t){const e=jc(Vc(t)).link,n=e?jc(Vc(e)).deep_link_id:null,r=jc(Vc(t)).deep_link_id;return(r?jc(Vc(r)).link:null)||r||n||e||t}class Hg{constructor(e){const n=jc(Vc(e)),r=n.apiKey??null,o=n.oobCode??null,a=Xk(n.mode??null);Pe(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Zk(e);try{return new Hg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hg.parseLink(n);return Pe(r,"argument-error"),eu._fromEmailAndCode(e,r.code,r.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends of{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends gu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends gu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends gu{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return io.credential(n,r)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t,e){return mu(t,"POST","/v1/accounts:signUp",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await is._fromIdTokenResponse(e,r,o),u=q_(r);return new ga({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=q_(r);return new ga({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function q_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends Hs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Ch(e,n,r,o)}}function Pb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(t,a,e,r):a})}async function tR(t,e,n=!1){const r=await pa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ga._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(t,e,n=!1){const{auth:r}=t;if(qn(r.app))return Promise.reject(mi(r));const o="reauthenticate";try{const a=await pa(t,Pb(r,o,e,t),n);Pe(a.idToken,r,"internal-error");const u=Ug(a.idToken);Pe(u,r,"internal-error");const{sub:h}=u;return Pe(t.uid===h,r,"user-mismatch"),ga._forOperation(t,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&zr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(t,e,n=!1){if(qn(t.app))return Promise.reject(mi(t));const r="signIn",o=await Pb(t,r,e),a=await ga._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function nR(t,e){return Nb(Si(t),e)}async function rR(t,e){return Ab(xt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(t){const e=Si(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ob(t,e,n){const r=Si(t);await bh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Kk)}async function sR(t,e,n){if(qn(t.app))return Promise.reject(mi(t));const r=Si(t),u=await bh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Db(t),f}),h=await ga._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function iR(t,e,n){return qn(t.app)?Promise.reject(mi(t)):nR(xt(t),Ta.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Db(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(t,e){return us(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=xt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await pa(r,oR(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function aR(t,e){return lR(xt(t),null,e)}async function lR(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const u=await pa(t,Hk(r,a));await t._updateTokensIfNecessary(u,!0)}function cR(t,e,n,r){return xt(t).onIdTokenChanged(e,n,r)}function uR(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function dR(t,e,n,r){return xt(t).onAuthStateChanged(e,n,r)}function af(t){return xt(t).signOut()}async function hR(t){return xt(t).delete()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=1e3,pR=10;class jb extends Mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ib(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Ik()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jb.type="LOCAL";const mR=jb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends Mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Vb.type="SESSION";const Fb=Vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new lf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async m=>m(n.origin,a)),f=await gR(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=qg("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(b){const C=b;if(C.data.eventId===m)switch(C.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(C.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return window}function wR(t){Os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function vR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _R(){return navigator?.serviceWorker?.controller||null}function ER(){return $b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="firebaseLocalStorageDb",bR=1,Ih="firebaseLocalStorage",Bb="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(t,e){return t.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function CR(){const t=indexedDB.deleteDatabase(Ub);return new yu(t).toPromise()}function Xm(){const t=indexedDB.open(Ub,bR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ih,{keyPath:Bb})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ih)?e(r):(r.close(),await CR(),e(await Xm()))})})}async function W_(t,e,n){const r=cf(t,!0).put({[Bb]:e,value:n});return new yu(r).toPromise()}async function TR(t,e){const n=cf(t,!1).get(e),r=await new yu(n).toPromise();return r===void 0?null:r.value}function G_(t,e){const n=cf(t,!0).delete(e);return new yu(n).toPromise()}const IR=800,SR=3;class zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(ER()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vR(),!this.activeServiceWorker)return;this.sender=new yR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_R()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await W_(e,Th,"1"),await G_(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>W_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=cf(o,!1).getAll();return new yu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zb.type="LOCAL";const xR=zb;new pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t,e){return e?pi(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg extends zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kR(t){return Nb(t.auth,new Gg(t),t.bypassAuthState)}function RR(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Ab(n,new Gg(t),t.bypassAuthState)}async function PR(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),tR(n,new Gg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kR;case"linkViaPopup":case"linkViaRedirect":return PR;case"reauthViaPopup":case"reauthViaRedirect":return RR;default:zr(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new pu(2e3,1e4);async function NR(t,e,n){if(qn(t.app))return Promise.reject(Br(t,"operation-not-supported-in-this-environment"));const r=Si(t);hb(t,e,of);const o=Wg(r,n);return new ao(r,"signInViaPopup",e,o).executeNotNull()}async function DR(t,e,n){const r=xt(t);if(qn(r.auth.app))return Promise.reject(Br(r.auth,"operation-not-supported-in-this-environment"));hb(r.auth,e,of);const o=Wg(r.auth,n);return new ao(r.auth,"reauthViaPopup",e,o,r).executeNotNull()}class ao extends Hb{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AR.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="pendingRedirect",th=new Map;class LR extends Hb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const r=await MR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MR(t,e){const n=FR(e),r=VR(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function jR(t,e){th.set(t._key(),e)}function VR(t){return pi(t._redirectPersistence)}function FR(t){return eh(OR,t.config.apiKey,t.name)}async function $R(t,e,n=!1){if(qn(t.app))return Promise.reject(mi(t));const r=Si(t),o=Wg(r,e),u=await new LR(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=600*1e3;class BR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!qb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Br(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UR&&this.cachedEventUids.clear(),this.cachedEventUids.has(K_(e))}saveEventToCache(e){this.cachedEventUids.add(K_(e)),this.lastProcessedEventTime=Date.now()}}function K_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function zR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(t,e={}){return us(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WR=/^https?/;async function GR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HR(t);for(const n of e)try{if(KR(n))return}catch{}zr(t,"unauthorized-domain")}function KR(t){const e=Jm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!WR.test(n))return!1;if(qR.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new pu(3e4,6e4);function Q_(){const t=Os().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JR(t){return new Promise((e,n)=>{function r(){Q_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q_(),n(Br(t,"network-request-failed"))},timeout:QR.get()})}if(Os().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Os().gapi?.load)r();else{const o=Ok("iframefcb");return Os()[o]=()=>{gapi.load?r():n(Br(t,"network-request-failed"))},xb(`${Dk()}?onload=${o}`).catch(a=>n(a))}}).catch(e=>{throw nh=null,e})}let nh=null;function YR(t){return nh=nh||JR(t),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new pu(5e3,15e3),ZR="__/auth/iframe",eP="emulator/auth/iframe",tP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rP(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$g(e,eP):`https://${t.config.authDomain}/${ZR}`,r={apiKey:e.apiKey,appName:t.name,v:Ca},o=nP.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${fu(r).slice(1)}`}async function sP(t){const e=await YR(t),n=Os().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:rP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tP,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Br(t,"network-request-failed"),h=Os().setTimeout(()=>{a(u)},XR.get());function f(){Os().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oP=500,aP=600,lP="_blank",cP="http://localhost";class J_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uP(t,e,n,r=oP,o=aP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...iP,width:r.toString(),height:o.toString(),top:a,left:u},m=Vn().toLowerCase();n&&(h=_b(m)?lP:n),wb(m)&&(e=e||cP,f.scrollbars="yes");const v=Object.entries(f).reduce((C,[A,D])=>`${C}${A}=${D},`,"");if(Tk(m)&&h!=="_self")return dP(e||"",h),new J_(null);const b=window.open(e||"",h,v);Pe(b,t,"popup-blocked");try{b.focus()}catch{}return new J_(b)}function dP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="__/auth/handler",fP="emulator/auth/handler",pP=encodeURIComponent("fac");async function Y_(t,e,n,r,o,a){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ca,eventId:o};if(e instanceof of){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",WS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof gu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await t._getAppCheckToken(),m=f?`#${pP}=${encodeURIComponent(f)}`:"";return`${mP(t)}?${fu(h).slice(1)}${m}`}function mP({config:t}){return t.emulator?$g(t,fP):`https://${t.authDomain}/${hP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class gP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fb,this._completeRedirectFn=$R,this._overrideRedirectResult=jR}async _openPopup(e,n,r,o){Ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Y_(e,n,r,Jm(),o);return uP(e,a,qg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await Y_(e,n,r,Jm(),o);return wR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(Ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sP(e),r=new BR(e);return n.register("authEvent",o=>(Pe(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},o=>{const a=o?.[0]?.[Im];a!==void 0&&n(!!a),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ib()||vb()||Bg()}}const yP=gP;var X_="@firebase/auth",Z_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _P(t){fa(new yo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Pe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sb(t)},m=new Pk(r,o,a,f);return $k(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fa(new yo("auth-internal",e=>{const n=Si(e.getProvider("auth").getImmediate());return(r=>new wP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(X_,Z_,vP(t)),Ds(X_,Z_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=300,bP=rb("authIdTokenMaxAge")||EP;let e0=null;const CP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bP)return;const o=n?.token;e0!==o&&(e0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ds(t=jg()){const e=rf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Fk(t,{popupRedirectResolver:yP,persistence:[xR,mR,Fb]}),r=rb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=CP(a.toString());uR(n,u,()=>u(n.currentUser)),cR(n,h=>u(h))}}const o=eb("auth");return o&&Uk(n,`http://${o}`),n}function TP(){return document.getElementsByTagName("head")?.[0]??document}Ak({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=Br("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",TP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_P("Browser");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var po,Wb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function P(){}P.prototype=S.prototype,k.D=S.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(x,M,$){for(var R=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)R[Le-2]=arguments[Le];return S.prototype[M].apply(x,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,P){P||(P=0);var x=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)x[M]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(M=0;16>M;++M)x[M]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=k.g[0],P=k.g[1],M=k.g[2];var $=k.g[3],R=S+($^P&(M^$))+x[0]+3614090360&4294967295;S=P+(R<<7&4294967295|R>>>25),R=$+(M^S&(P^M))+x[1]+3905402710&4294967295,$=S+(R<<12&4294967295|R>>>20),R=M+(P^$&(S^P))+x[2]+606105819&4294967295,M=$+(R<<17&4294967295|R>>>15),R=P+(S^M&($^S))+x[3]+3250441966&4294967295,P=M+(R<<22&4294967295|R>>>10),R=S+($^P&(M^$))+x[4]+4118548399&4294967295,S=P+(R<<7&4294967295|R>>>25),R=$+(M^S&(P^M))+x[5]+1200080426&4294967295,$=S+(R<<12&4294967295|R>>>20),R=M+(P^$&(S^P))+x[6]+2821735955&4294967295,M=$+(R<<17&4294967295|R>>>15),R=P+(S^M&($^S))+x[7]+4249261313&4294967295,P=M+(R<<22&4294967295|R>>>10),R=S+($^P&(M^$))+x[8]+1770035416&4294967295,S=P+(R<<7&4294967295|R>>>25),R=$+(M^S&(P^M))+x[9]+2336552879&4294967295,$=S+(R<<12&4294967295|R>>>20),R=M+(P^$&(S^P))+x[10]+4294925233&4294967295,M=$+(R<<17&4294967295|R>>>15),R=P+(S^M&($^S))+x[11]+2304563134&4294967295,P=M+(R<<22&4294967295|R>>>10),R=S+($^P&(M^$))+x[12]+1804603682&4294967295,S=P+(R<<7&4294967295|R>>>25),R=$+(M^S&(P^M))+x[13]+4254626195&4294967295,$=S+(R<<12&4294967295|R>>>20),R=M+(P^$&(S^P))+x[14]+2792965006&4294967295,M=$+(R<<17&4294967295|R>>>15),R=P+(S^M&($^S))+x[15]+1236535329&4294967295,P=M+(R<<22&4294967295|R>>>10),R=S+(M^$&(P^M))+x[1]+4129170786&4294967295,S=P+(R<<5&4294967295|R>>>27),R=$+(P^M&(S^P))+x[6]+3225465664&4294967295,$=S+(R<<9&4294967295|R>>>23),R=M+(S^P&($^S))+x[11]+643717713&4294967295,M=$+(R<<14&4294967295|R>>>18),R=P+($^S&(M^$))+x[0]+3921069994&4294967295,P=M+(R<<20&4294967295|R>>>12),R=S+(M^$&(P^M))+x[5]+3593408605&4294967295,S=P+(R<<5&4294967295|R>>>27),R=$+(P^M&(S^P))+x[10]+38016083&4294967295,$=S+(R<<9&4294967295|R>>>23),R=M+(S^P&($^S))+x[15]+3634488961&4294967295,M=$+(R<<14&4294967295|R>>>18),R=P+($^S&(M^$))+x[4]+3889429448&4294967295,P=M+(R<<20&4294967295|R>>>12),R=S+(M^$&(P^M))+x[9]+568446438&4294967295,S=P+(R<<5&4294967295|R>>>27),R=$+(P^M&(S^P))+x[14]+3275163606&4294967295,$=S+(R<<9&4294967295|R>>>23),R=M+(S^P&($^S))+x[3]+4107603335&4294967295,M=$+(R<<14&4294967295|R>>>18),R=P+($^S&(M^$))+x[8]+1163531501&4294967295,P=M+(R<<20&4294967295|R>>>12),R=S+(M^$&(P^M))+x[13]+2850285829&4294967295,S=P+(R<<5&4294967295|R>>>27),R=$+(P^M&(S^P))+x[2]+4243563512&4294967295,$=S+(R<<9&4294967295|R>>>23),R=M+(S^P&($^S))+x[7]+1735328473&4294967295,M=$+(R<<14&4294967295|R>>>18),R=P+($^S&(M^$))+x[12]+2368359562&4294967295,P=M+(R<<20&4294967295|R>>>12),R=S+(P^M^$)+x[5]+4294588738&4294967295,S=P+(R<<4&4294967295|R>>>28),R=$+(S^P^M)+x[8]+2272392833&4294967295,$=S+(R<<11&4294967295|R>>>21),R=M+($^S^P)+x[11]+1839030562&4294967295,M=$+(R<<16&4294967295|R>>>16),R=P+(M^$^S)+x[14]+4259657740&4294967295,P=M+(R<<23&4294967295|R>>>9),R=S+(P^M^$)+x[1]+2763975236&4294967295,S=P+(R<<4&4294967295|R>>>28),R=$+(S^P^M)+x[4]+1272893353&4294967295,$=S+(R<<11&4294967295|R>>>21),R=M+($^S^P)+x[7]+4139469664&4294967295,M=$+(R<<16&4294967295|R>>>16),R=P+(M^$^S)+x[10]+3200236656&4294967295,P=M+(R<<23&4294967295|R>>>9),R=S+(P^M^$)+x[13]+681279174&4294967295,S=P+(R<<4&4294967295|R>>>28),R=$+(S^P^M)+x[0]+3936430074&4294967295,$=S+(R<<11&4294967295|R>>>21),R=M+($^S^P)+x[3]+3572445317&4294967295,M=$+(R<<16&4294967295|R>>>16),R=P+(M^$^S)+x[6]+76029189&4294967295,P=M+(R<<23&4294967295|R>>>9),R=S+(P^M^$)+x[9]+3654602809&4294967295,S=P+(R<<4&4294967295|R>>>28),R=$+(S^P^M)+x[12]+3873151461&4294967295,$=S+(R<<11&4294967295|R>>>21),R=M+($^S^P)+x[15]+530742520&4294967295,M=$+(R<<16&4294967295|R>>>16),R=P+(M^$^S)+x[2]+3299628645&4294967295,P=M+(R<<23&4294967295|R>>>9),R=S+(M^(P|~$))+x[0]+4096336452&4294967295,S=P+(R<<6&4294967295|R>>>26),R=$+(P^(S|~M))+x[7]+1126891415&4294967295,$=S+(R<<10&4294967295|R>>>22),R=M+(S^($|~P))+x[14]+2878612391&4294967295,M=$+(R<<15&4294967295|R>>>17),R=P+($^(M|~S))+x[5]+4237533241&4294967295,P=M+(R<<21&4294967295|R>>>11),R=S+(M^(P|~$))+x[12]+1700485571&4294967295,S=P+(R<<6&4294967295|R>>>26),R=$+(P^(S|~M))+x[3]+2399980690&4294967295,$=S+(R<<10&4294967295|R>>>22),R=M+(S^($|~P))+x[10]+4293915773&4294967295,M=$+(R<<15&4294967295|R>>>17),R=P+($^(M|~S))+x[1]+2240044497&4294967295,P=M+(R<<21&4294967295|R>>>11),R=S+(M^(P|~$))+x[8]+1873313359&4294967295,S=P+(R<<6&4294967295|R>>>26),R=$+(P^(S|~M))+x[15]+4264355552&4294967295,$=S+(R<<10&4294967295|R>>>22),R=M+(S^($|~P))+x[6]+2734768916&4294967295,M=$+(R<<15&4294967295|R>>>17),R=P+($^(M|~S))+x[13]+1309151649&4294967295,P=M+(R<<21&4294967295|R>>>11),R=S+(M^(P|~$))+x[4]+4149444226&4294967295,S=P+(R<<6&4294967295|R>>>26),R=$+(P^(S|~M))+x[11]+3174756917&4294967295,$=S+(R<<10&4294967295|R>>>22),R=M+(S^($|~P))+x[2]+718787259&4294967295,M=$+(R<<15&4294967295|R>>>17),R=P+($^(M|~S))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+$&4294967295}r.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var P=S-this.blockSize,x=this.B,M=this.h,$=0;$<S;){if(M==0)for(;$<=P;)o(this,k,$),$+=this.blockSize;if(typeof k=="string"){for(;$<S;)if(x[M++]=k.charCodeAt($++),M==this.blockSize){o(this,x),M=0;break}}else for(;$<S;)if(x[M++]=k[$++],M==this.blockSize){o(this,x),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var P=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=P&255,P/=256;for(this.u(k),k=Array(16),S=P=0;4>S;++S)for(var x=0;32>x;x+=8)k[P++]=this.g[S]>>>x&255;return k};function a(k,S){var P=h;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=S(k)}function u(k,S){this.h=S;for(var P=[],x=!0,M=k.length-1;0<=M;M--){var $=k[M]|0;x&&$==S||(P[M]=$,x=!1)}this.g=P}var h={};function f(k){return-128<=k&&128>k?a(k,function(S){return new u([S|0],0>S?-1:0)}):new u([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return L(m(-k));for(var S=[],P=1,x=0;k>=P;x++)S[x]=k/P|0,P*=4294967296;return new u(S,0)}function v(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return L(v(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(S,8)),x=b,M=0;M<k.length;M+=8){var $=Math.min(8,k.length-M),R=parseInt(k.substring(M,M+$),S);8>$?($=m(Math.pow(S,$)),x=x.j($).add(m(R))):(x=x.j(P),x=x.add(m(R)))}return x}var b=f(0),C=f(1),A=f(16777216);t=u.prototype,t.m=function(){if(j(this))return-L(this).m();for(var k=0,S=1,P=0;P<this.g.length;P++){var x=this.i(P);k+=(0<=x?x:4294967296+x)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(j(this))return"-"+L(this).toString(k);for(var S=m(Math.pow(k,6)),P=this,x="";;){var M=ee(P,S).g;P=K(P,M.j(S));var $=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=M,D(P))return $+x;for(;6>$.length;)$="0"+$;x=$+x}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function j(k){return k.h==-1}t.l=function(k){return k=K(this,k),j(k)?-1:D(k)?0:1};function L(k){for(var S=k.g.length,P=[],x=0;x<S;x++)P[x]=~k.g[x];return new u(P,~k.h).add(C)}t.abs=function(){return j(this)?L(this):this},t.add=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],x=0,M=0;M<=S;M++){var $=x+(this.i(M)&65535)+(k.i(M)&65535),R=($>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);x=R>>>16,$&=65535,R&=65535,P[M]=R<<16|$}return new u(P,P[P.length-1]&-2147483648?-1:0)};function K(k,S){return k.add(L(S))}t.j=function(k){if(D(this)||D(k))return b;if(j(this))return j(k)?L(this).j(L(k)):L(L(this).j(k));if(j(k))return L(this.j(L(k)));if(0>this.l(A)&&0>k.l(A))return m(this.m()*k.m());for(var S=this.g.length+k.g.length,P=[],x=0;x<2*S;x++)P[x]=0;for(x=0;x<this.g.length;x++)for(var M=0;M<k.g.length;M++){var $=this.i(x)>>>16,R=this.i(x)&65535,Le=k.i(M)>>>16,Me=k.i(M)&65535;P[2*x+2*M]+=R*Me,q(P,2*x+2*M),P[2*x+2*M+1]+=$*Me,q(P,2*x+2*M+1),P[2*x+2*M+1]+=R*Le,q(P,2*x+2*M+1),P[2*x+2*M+2]+=$*Le,q(P,2*x+2*M+2)}for(x=0;x<S;x++)P[x]=P[2*x+1]<<16|P[2*x];for(x=S;x<2*S;x++)P[x]=0;return new u(P,0)};function q(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function Y(k,S){this.g=k,this.h=S}function ee(k,S){if(D(S))throw Error("division by zero");if(D(k))return new Y(b,b);if(j(k))return S=ee(L(k),S),new Y(L(S.g),L(S.h));if(j(S))return S=ee(k,L(S)),new Y(L(S.g),S.h);if(30<k.g.length){if(j(k)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var P=C,x=S;0>=x.l(k);)P=de(P),x=de(x);var M=se(P,1),$=se(x,1);for(x=se(x,2),P=se(P,2);!D(x);){var R=$.add(x);0>=R.l(k)&&(M=M.add(P),$=R),x=se(x,1),P=se(P,1)}return S=K(k,M.j(S)),new Y(M,S)}for(M=b;0<=k.l(S);){for(P=Math.max(1,Math.floor(k.m()/S.m())),x=Math.ceil(Math.log(P)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),$=m(P),R=$.j(S);j(R)||0<R.l(k);)P-=x,$=m(P),R=$.j(S);D($)&&($=C),M=M.add($),k=K(k,R)}return new Y(M,k)}t.A=function(k){return ee(this,k).h},t.and=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],x=0;x<S;x++)P[x]=this.i(x)&k.i(x);return new u(P,this.h&k.h)},t.or=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],x=0;x<S;x++)P[x]=this.i(x)|k.i(x);return new u(P,this.h|k.h)},t.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],x=0;x<S;x++)P[x]=this.i(x)^k.i(x);return new u(P,this.h^k.h)};function de(k){for(var S=k.g.length+1,P=[],x=0;x<S;x++)P[x]=k.i(x)<<1|k.i(x-1)>>>31;return new u(P,k.h)}function se(k,S){var P=S>>5;S%=32;for(var x=k.g.length-P,M=[],$=0;$<x;$++)M[$]=0<S?k.i($+P)>>>S|k.i($+P+1)<<32-S:k.i($+P);return new u(M,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Wb=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,po=u}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gb,Fc,Kb,rh,Zm,Qb,Jb,Yb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var z=c[I];if(!(z in _))break e;_=_[z]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,z={next:function(){if(!I&&_<c.length){var X=_++;return{value:g(X,c[X]),done:!1}}return I=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,I),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function C(c,g,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,C.apply(null,arguments)}function A(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function D(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,z,X){for(var he=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)he[ft-2]=arguments[ft];return g.prototype[z].apply(I,he)}}function j(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function L(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const z=c.length||0,X=I.length||0;c.length=z+X;for(let he=0;he<X;he++)c[z+he]=I[he]}else c.push(I)}}class K{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function q(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var de=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function se(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function k(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,g){let _,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(_ in I)c[_]=I[_];for(let X=0;X<P.length;X++)_=P[X],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function $(c){h.setTimeout(()=>{throw c},0)}function R(){var c=B;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Le{constructor(){this.h=this.g=null}add(g,_){const I=Me.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var Me=new K(()=>new We,c=>c.reset());class We{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,W=!1,B=new Le,Q=()=>{const c=h.Promise.resolve(void 0);ke=()=>{c.then(O)}};var O=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){$(_)}var g=Me;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}W=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c})();function fe(c,g){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(de){e:{try{ee(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fe.aa.h.call(this)}}D(fe,oe);var _e={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Ue(c,g,_,I,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=z,this.key=++$e,this.da=this.fa=!1}function pt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bt(c){this.src=c,this.g={},this.h=0}bt.prototype.add=function(c,g,_,I,z){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var he=xn(c,g,I,z);return-1<he?(g=c[he],_||(g.fa=!1)):(g=new Ue(g,this.src,X,!!I,z),g.fa=_,c.push(g)),g};function wt(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],z=Array.prototype.indexOf.call(I,g,void 0),X;(X=0<=z)&&Array.prototype.splice.call(I,z,1),X&&(pt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function xn(c,g,_,I){for(var z=0;z<c.length;++z){var X=c[z];if(!X.da&&X.listener==g&&X.capture==!!_&&X.ha==I)return z}return-1}var Qn="closure_lm_"+(1e6*Math.random()|0),De={};function Ne(c,g,_,I,z){if(Array.isArray(g)){for(var X=0;X<g.length;X++)Ne(c,g[X],_,I,z);return null}return _=dr(_),c&&c[je]?c.K(g,_,m(I)?!!I.capture:!1,z):it(c,g,_,!1,I,z)}function it(c,g,_,I,z,X){if(!g)throw Error("Invalid event type");var he=m(z)?!!z.capture:!!z,ft=He(c);if(ft||(c[Qn]=ft=new bt(c)),_=ft.add(g,_,I,he,X),_.proxy)return _;if(I=be(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)le||(z=he),z===void 0&&(z=!1),c.addEventListener(g.toString(),I,z);else if(c.attachEvent)c.attachEvent(Be(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function be(){function c(_){return g.call(c.src,c.listener,_)}const g=et;return c}function Je(c,g,_,I,z){if(Array.isArray(g))for(var X=0;X<g.length;X++)Je(c,g[X],_,I,z);else I=m(I)?!!I.capture:!!I,_=dr(_),c&&c[je]?(c=c.i,g=String(g).toString(),g in c.g&&(X=c.g[g],_=xn(X,_,I,z),-1<_&&(pt(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[g],c.h--)))):c&&(c=He(c))&&(g=c.g[g.toString()],c=-1,g&&(c=xn(g,_,I,z)),(_=-1<c?g[c]:null)&&nt(_))}function nt(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[je])wt(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(Be(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=He(g))?(wt(_,c),_.h==0&&(_.src=null,g[Qn]=null)):pt(c)}}}function Be(c){return c in De?De[c]:De[c]="on"+c}function et(c,g){if(c.da)c=!0;else{g=new fe(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&nt(c),c=_.call(I,g)}return c}function He(c){return c=c[Qn],c instanceof bt?c:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function dr(c){return typeof c=="function"?c:(c[kt]||(c[kt]=function(g){return c.handleEvent(g)}),c[kt])}function Bt(){U.call(this),this.i=new bt(this),this.M=this,this.F=null}D(Bt,U),Bt.prototype[je]=!0,Bt.prototype.removeEventListener=function(c,g,_,I){Je(this,c,g,_,I)};function jt(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new oe(g,c);else if(g instanceof oe)g.target=g.target||c;else{var z=g;g=new oe(I,c),x(g,z)}if(z=!0,_)for(var X=_.length-1;0<=X;X--){var he=g.g=_[X];z=hr(he,I,!0,g)&&z}if(he=g.g=c,z=hr(he,I,!0,g)&&z,z=hr(he,I,!1,g)&&z,_)for(X=0;X<_.length;X++)he=g.g=_[X],z=hr(he,I,!1,g)&&z}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)pt(_[I]);delete c.g[g],c.h--}}this.F=null},Bt.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},Bt.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function hr(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,X=0;X<g.length;++X){var he=g[X];if(he&&!he.da&&he.capture==_){var ft=he.listener,on=he.ha||he.src;he.fa&&wt(c.i,he),z=ft.call(on,I)!==!1&&z}}return z&&!I.defaultPrevented}function ko(c,g,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function ps(c){c.g=ko(()=>{c.g=null,c.i&&(c.i=!1,ps(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ms extends U{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ps(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){U.call(this),this.h=c,this.g={}}D(gs,U);var Ro=[];function Po(c){se(c.g,function(g,_){this.g.hasOwnProperty(_)&&nt(g)},c),c.g={}}gs.prototype.N=function(){gs.aa.N.call(this),Po(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xi=h.JSON.stringify,Ao=h.JSON.parse,No=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ws(){}Ws.prototype.h=null;function Gs(c){return c.h||(c.h=c.i())}function ki(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fr(){oe.call(this,"d")}D(fr,oe);function Rr(){oe.call(this,"c")}D(Rr,oe);var Pr={},Do=null;function ys(){return Do=Do||new Bt}Pr.La="serverreachability";function Ri(c){oe.call(this,Pr.La,c)}D(Ri,oe);function Ar(c){const g=ys();jt(g,new Ri(g))}Pr.STAT_EVENT="statevent";function Pi(c,g){oe.call(this,Pr.STAT_EVENT,c),this.stat=g}D(Pi,oe);function Rt(c){const g=ys();jt(g,new Pi(g,c))}Pr.Ma="timingevent";function Ks(c,g){oe.call(this,Pr.Ma,c),this.size=g}D(Ks,oe);function Jn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function Qs(c,g,_,I,z,X){c.info(function(){if(c.g)if(X)for(var he="",ft=X.split("&"),on=0;on<ft.length;on++){var rt=ft[on].split("=");if(1<rt.length){var hn=rt[0];rt=rt[1];var Jt=hn.split("_");he=2<=Jt.length&&Jt[1]=="type"?he+(hn+"="+rt+"&"):he+(hn+"=redacted&")}}else he=null;else he=X;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+g+`
`+_+`
`+he})}function Ai(c,g,_,I,z,X,he){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+g+`
`+_+`
`+X+" "+he})}function Kt(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Oo(c,_)+(I?" "+I:"")})}function vn(c,g){c.info(function(){return"TIMEOUT: "+g})}ws.prototype.info=function(){};function Oo(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var z=I[1];if(Array.isArray(z)&&!(1>z.length)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(var he=1;he<z.length;he++)z[he]=""}}}}return xi(_)}catch{return g}}var Js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vt;function Yn(){}D(Yn,Ws),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Vt=new Yn;function pr(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nr}function Nr(){this.i=null,this.g="",this.h=!1}var Ni={},Gr={};function Ys(c,g,_){c.L=1,c.v=Li(Qt(g)),c.m=_,c.P=!0,Mo(c,null)}function Mo(c,g){c.F=Date.now(),mt(c),c.A=Qt(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),ji(_.i,"t",I),c.C=0,_=c.j.J,c.h=new Nr,c.g=Hu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new ms(C(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ro[0]=z.toString()),z=Ro);for(var X=0;X<z.length;X++){var he=Ne(_,z[X],I||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ar(),Qs(c.i,c.u,c.A,c.l,c.R,c.m)}pr.prototype.ca=function(c){c=c.target;const g=this.M;g&&er(c)==3?g.j():this.Y(c)},pr.prototype.Y=function(c){try{if(c==this.g)e:{const Jt=er(this.g);var g=this.g.Ba();const Or=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||ac(this.g)))){this.J||Jt!=4||g==7||(g==8||0>=Or?Ar(3):Ar(2)),mr(this);var _=this.g.Z();this.X=_;t:if(Da(this)){var I=ac(this.g);c="";var z=I.length,X=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xn(this),vs(this);var he="";break t}this.h.i=new h.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(X&&g==z-1)});I.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,Ai(this.i,this.u,this.A,this.l,this.R,Jt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,on=this.g;if((ft=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ft)){var rt=ft;break t}}rt=null}if(_=rt)Kt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jo(this,_);else{this.o=!1,this.s=3,Rt(12),Xn(this),vs(this);break e}}if(this.P){_=!0;let wr;for(;!this.J&&this.C<he.length;)if(wr=rc(this,he),wr==Gr){Jt==4&&(this.s=4,Rt(14),_=!1),Kt(this.i,this.l,null,"[Incomplete Response]");break}else if(wr==Ni){this.s=4,Rt(15),Kt(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else Kt(this.i,this.l,wr,null),jo(this,wr);if(Da(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||he.length!=0||this.h.h||(this.s=1,Rt(16),_=!1),this.o=this.o&&_,!_)Kt(this.i,this.l,he,"[Invalid Chunked Response]"),Xn(this),vs(this);else if(0<he.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),cc(hn),hn.M=!0,Rt(11))}}else Kt(this.i,this.l,he,null),jo(this,he);Jt==4&&Xn(this),this.o&&!this.J&&(Jt==4?Wa(this.j,this):(this.o=!1,mt(this)))}else Ua(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Xn(this),vs(this)}}}catch{}finally{}};function Da(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function rc(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?Gr:(_=Number(g.substring(_,I)),isNaN(_)?Ni:(I+=1,I+_>g.length?Gr:(g=g.slice(I,I+_),c.C=I+_,g)))}pr.prototype.cancel=function(){this.J=!0,Xn(this)};function mt(c){c.S=Date.now()+c.I,zt(c,c.I)}function zt(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Jn(C(c.ba,c),g)}function mr(c){c.B&&(h.clearTimeout(c.B),c.B=null)}pr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(vn(this.i,this.A),this.L!=2&&(Ar(),Rt(17)),Xn(this),this.s=2,vs(this)):zt(this,this.S-c)};function vs(c){c.j.G==0||c.J||Wa(c.j,c)}function Xn(c){mr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Po(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function jo(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Ft(_.h,c))){if(!c.K&&Ft(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)qa(_),Xr(_);else break e;Ha(_),Rt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Jn(C(_.Za,_),6e3));if(1>=La(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ni(_,11)}else if((c.K||_.g==c)&&qa(_),!q(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let rt=z[g];if(_.T=rt[0],rt=rt[1],_.G==2)if(rt[0]=="c"){_.K=rt[1],_.ia=rt[2];const hn=rt[3];hn!=null&&(_.la=hn,_.j.info("VER="+_.la));const Jt=rt[4];Jt!=null&&(_.Aa=Jt,_.j.info("SVER="+_.Aa));const Or=rt[5];Or!=null&&typeof Or=="number"&&0<Or&&(I=1.5*Or,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const wr=c.g;if(wr){const Bo=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var X=I.h;X.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Vo(X,X.h),X.h=null))}if(I.D){const Ka=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(I.ya=Ka,yt(I.I,I.D,Ka))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var he=c;if(I.qa=zu(I,I.J?I.ia:null,I.W),he.K){Ma(I.h,he);var ft=he,on=I.L;on&&(ft.I=on),ft.B&&(mr(ft),mt(ft)),I.g=he}else Uo(I);0<_.i.length&&Cs(_)}else rt[0]!="stop"&&rt[0]!="close"||ni(_,7);else _.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?ni(_,7):En(_):rt[0]!="noop"&&_.l&&_.l.ta(rt),_.v=0)}}Ar(4)}catch{}}var Oa=class{constructor(c,g){this.g=c,this.map=g}};function Xs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Un(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function La(c){return c.h?1:c.g?c.g.size:0}function Ft(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Vo(c,g){c.g?c.g.add(g):c.h=g}function Ma(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Xs.prototype.cancel=function(){if(this.i=ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ja(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return j(c.i)}function Te(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function Ge(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function Pt(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ge(c),I=Te(c),z=I.length,X=0;X<z;X++)g.call(void 0,I[X],_&&_[X],c)}var sn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Re(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),z=null;if(0<=I){var X=c[_].substring(0,I);z=c[_].substring(I+1)}else X=c[_];g(X,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function gr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gr){this.h=c.h,kn(this,c.j),this.o=c.o,this.g=c.g,Di(this,c.s),this.l=c.l;var g=c.i,_=new _s;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Oi(this,_),this.m=c.m}else c&&(g=String(c).match(sn))?(this.h=!1,kn(this,g[1]||"",!0),this.o=tt(g[2]||""),this.g=tt(g[3]||"",!0),Di(this,g[4]),this.l=tt(g[5]||"",!0),Oi(this,g[6]||"",!0),this.m=tt(g[7]||"")):(this.h=!1,this.i=new _s(null,this.h))}gr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Mi(g,Va,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Mi(g,Va,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Mi(_,_.charAt(0)=="/"?Lu:Ou,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Mi(_,sc)),c.join("")};function Qt(c){return new gr(c)}function kn(c,g,_){c.j=_?tt(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Di(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Oi(c,g,_){g instanceof _s?(c.i=g,Es(c.i,c.h)):(_||(g=Mi(g,Mu)),c.i=new _s(g,c.h))}function yt(c,g,_){c.i.set(g,_)}function Li(c){return yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function tt(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Mi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Du),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Va=/[#\/\?@]/g,Ou=/[#\?:]/g,Lu=/[#\?]/g,Mu=/[#\?@]/g,sc=/#/g;function _s(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&Re(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=_s.prototype,t.add=function(c,g){_n(this),this.i=null,c=Dr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Kr(c,g){_n(c),g=Dr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Qr(c,g){return _n(c),g=Dr(c,g),c.g.has(g)}t.forEach=function(c,g){_n(this),this.g.forEach(function(_,I){_.forEach(function(z){c.call(g,z,I,this)},this)},this)},t.na=function(){_n(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const z=c[I];for(let X=0;X<z.length;X++)_.push(g[I])}return _},t.V=function(c){_n(this);let g=[];if(typeof c=="string")Qr(this,c)&&(g=g.concat(this.g.get(Dr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},t.set=function(c,g){return _n(this),this.i=null,c=Dr(this,c),Qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ji(c,g,_){Kr(c,g),0<_.length&&(c.i=null,c.g.set(Dr(c,g),j(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const X=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var z=X;he[I]!==""&&(z+="="+encodeURIComponent(String(he[I]))),c.push(z)}}return this.i=c.join("&")};function Dr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Es(c,g){g&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(_,I){var z=I.toLowerCase();I!=z&&(Kr(this,I),ji(this,z,_))},c)),c.j=g}function qf(c,g){const _=new ws;if(h.Image){const I=new Image;I.onload=A(Zn,_,"TestLoadImage: loaded",!0,g,I),I.onerror=A(Zn,_,"TestLoadImage: error",!1,g,I),I.onabort=A(Zn,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=A(Zn,_,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function ju(c,g){const _=new ws,I=new AbortController,z=setTimeout(()=>{I.abort(),Zn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(X=>{clearTimeout(z),X.ok?Zn(_,"TestPingServer: ok",!0,g):Zn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Zn(_,"TestPingServer: error",!1,g)})}function Zn(c,g,_,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(_)}catch{}}function Wf(){this.g=new No}function Vu(c,g,_){const I=_||"";try{Pt(c,function(z,X){let he=z;m(z)&&(he=xi(z)),g.push(I+X+"="+encodeURIComponent(he))})}catch(z){throw g.push(I+"type="+encodeURIComponent("_badmap")),z}}function Zs(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Zs,Ws),Zs.prototype.g=function(){return new Fo(this.l,this.j)},Zs.prototype.i=(function(c){return function(){return c}})({});function Fo(c,g){Bt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Fo,Bt),t=Fo.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Yr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Jr(this):Yr(this),this.readyState==3&&Fu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Jr(this))},t.Qa=function(c){this.g&&(this.response=c,Jr(this))},t.ga=function(){this.g&&Jr(this)};function Jr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yr(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Yr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ei(c){let g="";return se(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function Vi(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=ei(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):yt(c,g,_))}function At(c){Bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(At,Bt);var Gf=/^https?$/i,ic=["POST","PUT"];t=At.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vt.g(),this.v=this.o?Gs(this.o):Gs(Vt),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(X){$o(this,X);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)_.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())_.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ic,g,void 0))||I||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of _)this.g.setRequestHeader(X,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$a(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){$o(this,X)}};function $o(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Fa(c),yr(c)}function Fa(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),yr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),At.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?oc(this):this.bb())},t.bb=function(){oc(this)};function oc(c){if(c.h&&typeof u<"u"&&(!c.v[1]||er(c)!=4||c.Z()!=2)){if(c.u&&er(c)==4)ko(c.Ea,0,c);else if(jt(c,"readystatechange"),er(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=he===0){var z=String(c.D).match(sn)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),I=!Gf.test(z?z.toLowerCase():"")}_=I}if(_)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var X=2<er(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Fa(c)}}finally{yr(c)}}}}function yr(c,g){if(c.g){$a(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||jt(c,"ready");try{_.onreadystatechange=I}catch{}}}function $a(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ao(g)}};function ac(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ua(c){const g={};c=(c.g&&2<=er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(q(c[I]))continue;var _=M(c[I]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=g[z]||[];g[z]=X,X.push(_)}k(g,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function lc(c){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,c),this.cb=bs("retryDelaySeedMs",1e4,c),this.Wa=bs("forwardChannelMaxRetries",2,c),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Xs(c&&c.concurrentRequestLimit),this.Da=new Wf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lc.prototype,t.la=8,t.G=1,t.connect=function(c,g,_,I){Rt(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=zu(this,null,this.W),Cs(this)};function En(c){if(Ba(c),c.G==3){var g=c.U++,_=Qt(c.I);if(yt(_,"SID",c.K),yt(_,"RID",g),yt(_,"TYPE","terminate"),ti(c,_),g=new pr(c,c.j,g),g.L=2,g.v=Li(Qt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=Hu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),mt(g)}Bu(c)}function Xr(c){c.g&&(cc(c),c.g.cancel(),c.g=null)}function Ba(c){Xr(c),c.u&&(h.clearTimeout(c.u),c.u=null),qa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Cs(c){if(!Un(c.h)&&!c.s){c.s=!0;var g=c.Ga;ke||Q(),W||(ke(),W=!0),B.add(g,c),c.B=0}}function Kf(c,g){return La(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Jn(C(c.Ga,c,g),Uu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new pr(this,this.j,c);let X=this.o;if(this.S&&(X?(X=S(X),x(X,this.S)):X=this.S),this.m!==null||this.O||(z.H=X,X=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Fi(this,z,g),_=Qt(this.I),yt(_,"RID",c),yt(_,"CVER",22),this.D&&yt(_,"X-HTTP-Session-Id",this.D),ti(this,_),X&&(this.O?g="headers="+encodeURIComponent(String(ei(X)))+"&"+g:this.m&&Vi(_,this.m,X)),Vo(this.h,z),this.Ua&&yt(_,"TYPE","init"),this.P?(yt(_,"$req",g),yt(_,"SID","null"),z.T=!0,Ys(z,_,null)):Ys(z,_,g),this.G=2}}else this.G==3&&(c?za(this,c):this.i.length==0||Un(this.h)||za(this))};function za(c,g){var _;g?_=g.l:_=c.U++;const I=Qt(c.I);yt(I,"SID",c.K),yt(I,"RID",_),yt(I,"AID",c.T),ti(c,I),c.m&&c.o&&Vi(I,c.m,c.o),_=new pr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Fi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vo(c.h,_),Ys(_,I,g)}function ti(c,g){c.H&&se(c.H,function(_,I){yt(g,I,_)}),c.l&&Pt({},function(_,I){yt(g,I,_)})}function Fi(c,g,_){_=Math.min(c.i.length,_);var I=c.l?C(c.l.Na,c.l,c):null;e:{var z=c.i;let X=-1;for(;;){const he=["count="+_];X==-1?0<_?(X=z[0].g,he.push("ofs="+X)):X=0:he.push("ofs="+X);let ft=!0;for(let on=0;on<_;on++){let rt=z[on].g;const hn=z[on].map;if(rt-=X,0>rt)X=Math.max(0,z[on].g-100),ft=!1;else try{Vu(hn,he,"req"+rt+"_")}catch{I&&I(hn)}}if(ft){I=he.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function Uo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ke||Q(),W||(ke(),W=!0),B.add(g,c),c.v=0}}function Ha(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Jn(C(c.Fa,c),Uu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Jn(C(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),Xr(this),$u(this))};function cc(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function $u(c){c.g=new pr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Qt(c.qa);yt(g,"RID","rpc"),yt(g,"SID",c.K),yt(g,"AID",c.T),yt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&yt(g,"TO",c.ja),yt(g,"TYPE","xmlhttp"),ti(c,g),c.m&&c.o&&Vi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Li(Qt(g)),_.m=null,_.P=!0,Mo(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Xr(this),Ha(this),Rt(19))};function qa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Wa(c,g){var _=null;if(c.g==g){qa(c),cc(c),c.g=null;var I=2}else if(Ft(c.h,g))_=g.D,Ma(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;I=ys(),jt(I,new Ks(I,_)),Cs(c)}else Uo(c);else if(z=g.s,z==3||z==0&&0<g.X||!(I==1&&Kf(c,g)||I==2&&Ha(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:ni(c,5);break;case 4:ni(c,10);break;case 3:ni(c,6);break;default:ni(c,2)}}}function Uu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function ni(c,g){if(c.j.info("Error code "+g),g==2){var _=C(c.fb,c),I=c.Xa;const z=!I;I=new gr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||kn(I,"https"),Li(I),z?qf(I.toString(),_):ju(I.toString(),_)}else Rt(2);c.G=0,c.l&&c.l.sa(g),Bu(c),Ba(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Bu(c){if(c.G=0,c.ka=[],c.l){const g=ja(c.h);(g.length!=0||c.i.length!=0)&&(L(c.ka,g),L(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function zu(c,g,_){var I=_ instanceof gr?Qt(_):new gr(_);if(I.g!="")g&&(I.g=g+"."+I.g),Di(I,I.s);else{var z=h.location;I=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var X=new gr(null);I&&kn(X,I),g&&(X.g=g),z&&Di(X,z),_&&(X.l=_),I=X}return _=c.D,g=c.ya,_&&g&&yt(I,_,g),yt(I,"VER",c.la),ti(c,I),I}function Hu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new At(new Zs({eb:_})):new At(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}t=uc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ga(){}Ga.prototype.g=function(c,g){return new Bn(c,g)};function Bn(c,g){Bt.call(this),this.g=new lc(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ts(this)}D(Bn,Bt),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){En(this.g)},Bn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=xi(c),c=_);g.i.push(new Oa(g.Ya++,c)),g.G==3&&Cs(g)},Bn.prototype.N=function(){this.g.l=null,delete this.j,En(this.g),delete this.g,Bn.aa.N.call(this)};function qu(c){fr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}D(qu,fr);function Wu(){Rr.call(this),this.status=1}D(Wu,Rr);function Ts(c){this.g=c}D(Ts,uc),Ts.prototype.ua=function(){jt(this.g,"a")},Ts.prototype.ta=function(c){jt(this.g,new qu(c))},Ts.prototype.sa=function(c){jt(this.g,new Wu)},Ts.prototype.ra=function(){jt(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,Yb=function(){return new Ga},Jb=function(){return ys()},Qb=Pr,Zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,rh=Js,Lo.COMPLETE="complete",Kb=Lo,ki.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,Fc=ki,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,Gb=At}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});const n0="@firebase/firestore",r0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Lg("@firebase/firestore");function yl(){return ya.logLevel}function ge(t,...e){if(ya.logLevel<=Ye.DEBUG){const n=e.map(Kg);ya.debug(`Firestore (${ql}): ${t}`,...n)}}function bi(t,...e){if(ya.logLevel<=Ye.ERROR){const n=e.map(Kg);ya.error(`Firestore (${ql}): ${t}`,...n)}}function kl(t,...e){if(ya.logLevel<=Ye.WARN){const n=e.map(Kg);ya.warn(`Firestore (${ql}): ${t}`,...n)}}function Kg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Xb(t,r,n)}function Xb(t,e,n){let r=`FIRESTORE (${ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bi(r),new Error(r)}function ht(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||Xb(e,o,r)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(On.UNAUTHENTICATED)))}shutdown(){}}class SP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class xP{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gi,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new Zb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class kP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(On.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new s0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=AP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function eg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),a=e.charAt(r);if(o!==a)return Sm(o)===Sm(a)?Xe(o,a):Sm(o)?1:-1}return Xe(t.length,e.length)}const NP=55296,DP=57343;function Sm(t){const e=t.charCodeAt(0);return e>=NP&&e<=DP}function Rl(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="__name__";class Rs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=Rs.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Xe(e.length,n.length)}static compareSegments(e,n){const r=Rs.isNumericId(e),o=Rs.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Rs.extractNumericId(e).compare(Rs.extractNumericId(n)):eg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return po.fromString(e.substring(4,e.length-2))}}class _t extends Rs{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const OP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Rs{construct(e,n,r){return new In(e,n,r)}static isValidIdentifier(e){return OP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i0}static keyField(){return new In([i0])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(_t.fromString(e))}static fromName(e){return new Ce(_t.fromString(e).popFirst(5))}static empty(){return new Ce(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t,e,n){if(!n)throw new pe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LP(t,e,n,r){if(e===!0&&r===!0)throw new pe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function o0(t){if(!Ce.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a0(t){if(Ce.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function t1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function uf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uf(t);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function wu(t,e){if(!t1(t))throw new pe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(o&&typeof u!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new pe(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=-62135596800,c0=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*c0);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l0)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:rn("string",St._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new St(0,0))}static max(){return new Ve(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function MP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new wo(o,Ce.empty(),e)}function jP(t){return new wo(t.readTime,t.key,tu)}class wo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wo(Ve.min(),Ce.empty(),tu)}static max(){return new wo(Ve.max(),Ce.empty(),tu)}}function VP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $P{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==FP)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let o=0,a=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++a,u&&a===o&&n()}),(f=>r(f)))})),u=!0,a===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((o=>o?ne.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,a)=>{r.push(n.call(this,o,a))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;n(e[m]).next((v=>{u[m]=v,++h,h===a&&r(u)}),(v=>o(v)))}}))}static doWhile(e,n){return new ne(((r,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):r()};a()}))}}function UP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}df.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=-1;function hf(t){return t==null}function Sh(t){return t===0&&1/t==-1/0}function BP(t){return typeof t=="number"&&Number.isInteger(t)&&!Sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="";function zP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=u0(e)),e=HP(t.get(n),e);return u0(e)}function HP(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case n1:n+="";break;default:n+=a}}return n}function u0(t){return t+n1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function r1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bd(this.root,e,this.comparator,!0)}}class Bd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=o??Tn.EMPTY,this.right=a??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new Tn(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(e){return new h0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class h0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new Cr([])}unionWith(e){let n=new un(In.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new s1("Invalid base64 string: "+a):a}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const qP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=qP.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wt(t.seconds),nanos:Wt(t.nanos)}}function Wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _o(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="server_timestamp",o1="__type__",a1="__previous_value__",l1="__local_write_time__";function Yg(t){return(t?.mapValue?.fields||{})[o1]?.stringValue===i1}function ff(t){const e=t.mapValue.fields[a1];return Yg(e)?ff(e):e}function nu(t){const e=vo(t.mapValue.fields[l1].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r,o,a,u,h,f,m,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const xh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="__type__",GP="__max__",zd={mapValue:{}},u1="__vector__",kh="value";function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yg(t)?4:QP(t)?9007199254740991:KP(t)?10:11:Ae(28295,{value:t})}function Fs(t,e){if(t===e)return!0;const n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nu(t).isEqual(nu(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=vo(o.timestampValue),h=vo(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return _o(o.bytesValue).isEqual(_o(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Wt(o.geoPointValue.latitude)===Wt(a.geoPointValue.latitude)&&Wt(o.geoPointValue.longitude)===Wt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Wt(o.integerValue)===Wt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Wt(o.doubleValue),h=Wt(a.doubleValue);return u===h?Sh(u)===Sh(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Rl(t.arrayValue.values||[],e.arrayValue.values||[],Fs);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(d0(u)!==d0(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Fs(u[f],h[f])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function su(t,e){return(t.values||[]).find((n=>Fs(n,e)))!==void 0}function Pl(t,e){if(t===e)return 0;const n=Eo(t),r=Eo(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=Wt(a.integerValue||a.doubleValue),f=Wt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return f0(t.timestampValue,e.timestampValue);case 4:return f0(nu(t),nu(e));case 5:return eg(t.stringValue,e.stringValue);case 6:return(function(a,u){const h=_o(a),f=_o(u);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=Xe(h[m],f[m]);if(v!==0)return v}return Xe(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Xe(Wt(a.latitude),Wt(u.latitude));return h!==0?h:Xe(Wt(a.longitude),Wt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return p0(t.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},m=h[kh]?.arrayValue,v=f[kh]?.arrayValue,b=Xe(m?.values?.length||0,v?.values?.length||0);return b!==0?b:p0(m,v)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===zd.mapValue&&u===zd.mapValue)return 0;if(a===zd.mapValue)return 1;if(u===zd.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const C=eg(f[b],v[b]);if(C!==0)return C;const A=Pl(h[f[b]],m[v[b]]);if(A!==0)return A}return Xe(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function f0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=vo(t),r=vo(e),o=Xe(n.seconds,r.seconds);return o!==0?o:Xe(n.nanos,r.nanos)}function p0(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=Pl(n[o],r[o]);if(a)return a}return Xe(n.length,r.length)}function Al(t){return tg(t)}function tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=vo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return _o(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=tg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${tg(n.fields[u])}`;return o+"}"})(t.mapValue):Ae(61005,{value:t})}function sh(t){switch(Eo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ff(t);return e?16+sh(e):16;case 5:return 2*t.stringValue.length;case 6:return _o(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+sh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return Io(r.fields,((a,u)=>{o+=a.length+sh(u)})),o})(t.mapValue);default:throw Ae(13486,{value:t})}}function m0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ng(t){return!!t&&"integerValue"in t}function Xg(t){return!!t&&"arrayValue"in t}function g0(t){return!!t&&"nullValue"in t}function y0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ih(t){return!!t&&"mapValue"in t}function KP(t){return(t?.mapValue?.fields||{})[c1]?.stringValue===u1}function Wc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Io(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Wc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wc(t.arrayValue.values[n]);return e}return{...t}}function QP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===GP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(n)}setAll(e){let n=In.emptyPath(),r={},o=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,o),r={},o=[],n=h.popLast()}u?r[h.lastSegment()]=Wc(u):o.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Io(n,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new lr(Wc(this.value))}}function d1(t){const e=[];return Io(t.fields,((n,r)=>{const o=new In([n]);if(ih(r)){const a=d1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r,o,a,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Ln(e,0,Ve.min(),Ve.min(),Ve.min(),lr.empty(),0)}static newFoundDocument(e,n,r,o){return new Ln(e,1,n,Ve.min(),r,o,0)}static newNoDocument(e,n){return new Ln(e,2,n,Ve.min(),Ve.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,Ve.min(),Ve.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.position=e,this.inclusive=n}}function w0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?r=Ce.comparator(Ce.fromName(u.referenceValue),n.key):r=Pl(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function JP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{}class tn extends h1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XP(e,n,r):n==="array-contains"?new tA(e,r):n==="in"?new nA(e,r):n==="not-in"?new rA(e,r):n==="array-contains-any"?new sA(e,r):new tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZP(e,r):new eA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pl(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(Pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cs extends h1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cs(e,n)}matches(e){return f1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f1(t){return t.op==="and"}function p1(t){return YP(t)&&f1(t)}function YP(t){for(const e of t.filters)if(e instanceof cs)return!1;return!0}function rg(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Al(t.value);if(p1(t))return t.filters.map((e=>rg(e))).join(",");{const e=t.filters.map((n=>rg(n))).join(",");return`${t.op}(${e})`}}function m1(t,e){return t instanceof tn?(function(r,o){return o instanceof tn&&r.op===o.op&&r.field.isEqual(o.field)&&Fs(r.value,o.value)})(t,e):t instanceof cs?(function(r,o){return o instanceof cs&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,h)=>a&&m1(u,o.filters[h])),!0):!1})(t,e):void Ae(19439)}function g1(t){return t instanceof tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Al(n.value)}`})(t):t instanceof cs?(function(n){return n.op.toString()+" {"+n.getFilters().map(g1).join(" ,")+"}"})(t):"Filter"}class XP extends tn{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZP extends tn{constructor(e,n){super(e,"in",n),this.keys=y1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class eA extends tn{constructor(e,n){super(e,"not-in",n),this.keys=y1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function y1(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class tA extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xg(n)&&su(n.arrayValue,this.value)}}class nA extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class rA extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class sA extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>su(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function _0(t,e=null,n=[],r=[],o=null,a=null,u=null){return new iA(t,e,n,r,o,a,u)}function Zg(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>rg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),hf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Al(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Al(r))).join(",")),e.Te=n}return e.Te}function ey(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v0(t.startAt,e.startAt)&&v0(t.endAt,e.endAt)}function sg(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n=null,r=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oA(t,e,n,r,o,a,u,h){return new vu(t,e,n,r,o,a,u,h)}function pf(t){return new vu(t)}function E0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w1(t){return t.collectionGroup!==null}function Gc(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new un(In.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ph(a,r))})),n.has(In.keyField().canonicalString())||e.Ie.push(new Ph(In.keyField(),r))}return e.Ie}function Ls(t){const e=Fe(t);return e.Ee||(e.Ee=aA(e,Gc(t))),e.Ee}function aA(t,e){if(t.limitType==="F")return _0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Ph(o.field,a)}));const n=t.endAt?new Rh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rh(t.startAt.position,t.startAt.inclusive):null;return _0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ig(t,e){const n=t.filters.concat([e]);return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function og(t,e,n){return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mf(t,e){return ey(Ls(t),Ls(e))&&t.limitType===e.limitType}function v1(t){return`${Zg(Ls(t))}|lt:${t.limitType}`}function wl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>g1(o))).join(", ")}]`),hf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Al(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Al(o))).join(",")),`Target(${r})`})(Ls(t))}; limitType=${t.limitType})`}function gf(t,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ce.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,o){for(const a of Gc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(u,h,f){const m=w0(u,h,f);return u.inclusive?m<=0:m<0})(r.startAt,Gc(r),o)||r.endAt&&!(function(u,h,f){const m=w0(u,h,f);return u.inclusive?m>=0:m>0})(r.endAt,Gc(r),o))})(t,e)}function lA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _1(t){return(e,n)=>{let r=!1;for(const o of Gc(t)){const a=cA(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function cA(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?Pl(f,m):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,((n,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return r1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=new Mt(Ce.comparator);function Ci(){return uA}const E1=new Mt(Ce.comparator);function $c(...t){let e=E1;for(const n of t)e=e.insert(n.key,n);return e}function b1(t){let e=E1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function oa(){return Kc()}function C1(){return Kc()}function Kc(){return new Ia((t=>t.toString()),((t,e)=>t.isEqual(e)))}const dA=new Mt(Ce.comparator),hA=new un(Ce.comparator);function Ze(...t){let e=hA;for(const n of t)e=e.add(n);return e}const fA=new un(Xe);function pA(){return fA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function T1(t){return{integerValue:""+t}}function I1(t,e){return BP(e)?T1(e):ty(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function mA(t,e,n){return t instanceof iu?(function(o,a){const u={fields:{[o1]:{stringValue:i1},[l1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Yg(a)&&(a=ff(a)),a&&(u.fields[a1]=a),{mapValue:u}})(n,e):t instanceof Nl?x1(t,e):t instanceof Dl?k1(t,e):(function(o,a){const u=S1(o,a),h=b0(u)+b0(o.Ae);return ng(u)&&ng(o.Ae)?T1(h):ty(o.serializer,h)})(t,e)}function gA(t,e,n){return t instanceof Nl?x1(t,e):t instanceof Dl?k1(t,e):n}function S1(t,e){return t instanceof ou?(function(r){return ng(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class iu extends yf{}class Nl extends yf{constructor(e){super(),this.elements=e}}function x1(t,e){const n=R1(e);for(const r of t.elements)n.some((o=>Fs(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Dl extends yf{constructor(e){super(),this.elements=e}}function k1(t,e){let n=R1(e);for(const r of t.elements)n=n.filter((o=>!Fs(o,r)));return{arrayValue:{values:n}}}class ou extends yf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function b0(t){return Wt(t.integerValue||t.doubleValue)}function R1(t){return Xg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.field=e,this.transform=n}}function yA(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Nl&&o instanceof Nl||r instanceof Dl&&o instanceof Dl?Rl(r.elements,o.elements,Fs):r instanceof ou&&o instanceof ou?Fs(r.Ae,o.Ae):r instanceof iu&&o instanceof iu})(t.transform,e.transform)}class wA{constructor(e,n){this.version=e,this.transformResults=n}}class as{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vf{}function P1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ny(t.key,as.none()):new _u(t.key,t.data,as.none());{const n=t.data,r=lr.empty();let o=new un(In.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new So(t.key,r,new Cr(o.toArray()),as.none())}}function vA(t,e,n){t instanceof _u?(function(o,a,u){const h=o.value.clone(),f=T0(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof So?(function(o,a,u){if(!oh(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=T0(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(A1(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Qc(t,e,n,r){return t instanceof _u?(function(a,u,h,f){if(!oh(a.precondition,u))return h;const m=a.value.clone(),v=I0(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof So?(function(a,u,h,f){if(!oh(a.precondition,u))return h;const m=I0(a.fieldTransforms,f,u),v=u.data;return v.setAll(A1(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(a,u,h){return oh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function _A(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=S1(r.transform,o||null);a!=null&&(n===null&&(n=lr.empty()),n.set(r.field,a))}return n||null}function C0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Rl(r,o,((a,u)=>yA(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends vf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class So extends vf{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function A1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function T0(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,gA(u,h,n[o]))}return r}function I0(t,e,n){const r=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);r.set(o.field,mA(a,u,e))}return r}class ny extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EA extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&vA(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=C1();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(o.key)?null:h;const f=P1(u,h);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,((n,r)=>C0(n,r)))&&Rl(this.baseMutations,e.baseMutations,((n,r)=>C0(n,r)))}}class ry{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return dA})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new ry(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,st;function IA(t){switch(t){case te.OK:return Ae(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function N1(t){if(t===void 0)return bi("GRPC error has no .code"),te.UNKNOWN;switch(t){case Xt.OK:return te.OK;case Xt.CANCELLED:return te.CANCELLED;case Xt.UNKNOWN:return te.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return te.INTERNAL;case Xt.UNAVAILABLE:return te.UNAVAILABLE;case Xt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Xt.NOT_FOUND:return te.NOT_FOUND;case Xt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Xt.ABORTED:return te.ABORTED;case Xt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Xt.DATA_LOSS:return te.DATA_LOSS;default:return Ae(39323,{code:t})}}(st=Xt||(Xt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new po([4294967295,4294967295],0);function S0(t){const e=SA().encode(t),n=new Wb;return n.update(e),new Uint8Array(n.digest())}function x0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new po([n,r],0),new po([o,a],0)]}class sy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uc(`Invalid padding: ${n}`);if(r<0)throw new Uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=po.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(po.fromNumber(r)));return o.compare(xA)===1&&(o=new po([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=S0(e),[r,o]=x0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new sy(a,o,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=S0(e),[r,o]=x0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(Ve.min(),o,new Mt(Xe),Ci(),Ze())}}class Eu{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eu(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class D1{constructor(e,n){this.targetId=e,this.Ce=n}}class O1{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class k0{constructor(){this.ve=0,this.Fe=R0(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),n=Ze(),r=Ze();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ae(38017,{changeType:a})}})),new Eu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=R0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ci(),this.Je=Hd(),this.He=Hd(),this.Ye=new Mt(Xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(sg(a))if(r===0){const u=new Ce(a.path);this.et(n,u,Ln.newNoDocument(u,Ve.min()))}else ht(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let u,h;try{u=_o(r).toUint8Array()}catch(f){if(f instanceof s1)return kl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new sy(u,o,a)}catch(f){return kl(f instanceof Uc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&sg(h.target)){const f=new Ce(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Ln.newNoDocument(f,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let r=Ze();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new _f(e,n,this.Ye,this.je,r);return this.je=Ci(),this.Je=Hd(),this.He=Hd(),this.Ye=new Mt(Xe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new k0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(Xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(Xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new k0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hd(){return new Mt(Ce.comparator)}function R0(){return new Mt(Ce.comparator)}const RA={asc:"ASCENDING",desc:"DESCENDING"},PA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AA={and:"AND",or:"OR"};class NA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ag(t,e){return t.useProto3Json||hf(e)?e:{value:e}}function Ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DA(t,e){return Ah(t,e.toTimestamp())}function Ms(t){return ht(!!t,49232),Ve.fromTimestamp((function(n){const r=vo(n);return new St(r.seconds,r.nanos)})(t))}function iy(t,e){return lg(t,e).canonicalString()}function lg(t,e){const n=(function(o){return new _t(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function M1(t){const e=_t.fromString(t);return ht(U1(e),10190,{key:e.toString()}),e}function cg(t,e){return iy(t.databaseId,e.path)}function xm(t,e){const n=M1(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(V1(n))}function j1(t,e){return iy(t.databaseId,e)}function OA(t){const e=M1(t);return e.length===4?_t.emptyPath():V1(e)}function ug(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V1(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function P0(t,e,n){return{name:cg(t,e),fields:n.value.mapValue.fields}}function LA(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ae(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,v){return m.useProto3Json?(ht(v===void 0||typeof v=="string",58123),Sn.fromBase64String(v||"")):(ht(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Sn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const v=m.code===void 0?te.UNKNOWN:N1(m.code);return new pe(v,m.message||"")})(u);n=new O1(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=xm(t,r.document.name),a=Ms(r.document.updateTime),u=r.document.createTime?Ms(r.document.createTime):Ve.min(),h=new lr({mapValue:{fields:r.document.fields}}),f=Ln.newFoundDocument(o,a,u,h),m=r.targetIds||[],v=r.removedTargetIds||[];n=new ah(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=xm(t,r.document),a=r.readTime?Ms(r.readTime):Ve.min(),u=Ln.newNoDocument(o,a),h=r.removedTargetIds||[];n=new ah([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=xm(t,r.document),a=r.removedTargetIds||[];n=new ah([],a,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new TA(o,a),h=r.targetId;n=new D1(h,u)}}return n}function MA(t,e){let n;if(e instanceof _u)n={update:P0(t,e.key,e.value)};else if(e instanceof ny)n={delete:cg(t,e.key)};else if(e instanceof So)n={update:P0(t,e.key,e.data),updateMask:qA(e.fieldMask)};else{if(!(e instanceof EA))return Ae(16599,{Vt:e.type});n={verify:cg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof iu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Nl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Dl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ou)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ae(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:DA(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae(27497)})(t,e.precondition)),n}function jA(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?Ms(o.updateTime):Ms(a);return u.isEqual(Ve.min())&&(u=Ms(a)),new wA(u,o.transformResults||[])})(n,e)))):[]}function VA(t,e){return{documents:[j1(t,e.path)]}}function FA(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=j1(t,o);const a=(function(m){if(m.length!==0)return $1(cs.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((v=>(function(C){return{field:vl(C.field),direction:BA(C.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=ag(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function $A(t){let e=OA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ht(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=(function(b){const C=F1(b);return C instanceof cs&&p1(C)?C.getFilters():[C]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((C=>(function(D){return new Ph(_l(D.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(C)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let C;return C=typeof b=="object"?b.value:b,hf(C)?null:C})(n.limit));let f=null;n.startAt&&(f=(function(b){const C=!!b.before,A=b.values||[];return new Rh(A,C)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const C=!b.before,A=b.values||[];return new Rh(A,C)})(n.endAt)),oA(e,o,u,a,h,"F",f,m)}function UA(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function F1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_l(n.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=_l(n.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_l(n.unaryFilter.field);return tn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=_l(n.unaryFilter.field);return tn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tn.create(_l(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return cs.create(n.compositeFilter.filters.map((r=>F1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function BA(t){return RA[t]}function zA(t){return PA[t]}function HA(t){return AA[t]}function vl(t){return{fieldPath:t.canonicalString()}}function _l(t){return In.fromServerFormat(t.fieldPath)}function $1(t){return t instanceof tn?(function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NAN"}};if(g0(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NAN"}};if(g0(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(n.field),op:zA(n.op),value:n.value}}})(t):t instanceof cs?(function(n){const r=n.getFilters().map((o=>$1(o)));return r.length===1?r[0]:{compositeFilter:{op:HA(n.op),filters:r}}})(t):Ae(54877,{filter:t})}function qA(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function U1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r,o,a=Ve.min(),u=Ve.min(),h=Sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.yt=e}}function GA(t){const e=$A({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.Cn=new QA}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(wo.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class QA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new un(_t.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new un(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B1=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(B1,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ol(0)}static cr(){return new Ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="LruGarbageCollector",JA=1048576;function D0([t,e],[n,r]){const o=Xe(t,n);return o===0?Xe(e,r):o}class YA{constructor(e){this.Ir=e,this.buffer=new un(D0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();D0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(N0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gl(n)?ge(N0,"Ignoring IndexedDB error during garbage collection: ",n):await Wl(n)}await this.Vr(3e5)}))}}class ZA{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(df.ce);const r=new YA(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(A0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,a,u,h,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,n)))).next((b=>(a=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(m=Date.now(),yl()<=Ye.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:b}))))}}function e2(t,e){return new ZA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.changes=new Ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Qc(r.mutation,o,Cr.empty(),St.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ze()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((a=>{let u=$c();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=oa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ze())))}populateOverlays(e,n,r){const o=[];return r.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,o){let a=Ci();const u=Kc(),h=(function(){return Kc()})();return n.forEach(((f,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof So)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Qc(v.mutation,m,v.mutation.getFieldMask(),St.now())):u.set(m.key,Cr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,v)=>u.set(m,v))),n.forEach(((m,v)=>h.set(m,new n2(v,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Kc();let o=new Mt(((u,h)=>u-h)),a=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let v=r.get(f)||Cr.empty();v=h.applyToLocalView(m,v),r.set(f,v);const b=(o.get(h.batchId)||Ze()).add(f);o=o.insert(h.batchId,b)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,b=C1();v.forEach((C=>{if(!a.has(C)){const A=P1(n.get(C),r.get(C));A!==null&&b.set(C,A),a=a.add(C)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,b))}return ne.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):ne.resolve(oa());let h=tu,f=a;return u.next((m=>ne.forEach(m,((v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),a.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next((C=>{f=f.insert(v,C)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,Ze()))).next((v=>({batchId:h,changes:b1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((r=>{let o=$c();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let u=$c();return this.indexManager.getCollectionParents(e,a).next((h=>ne.forEach(h,(f=>{const m=(function(b,C){return new vu(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((v=>{v.forEach(((b,C)=>{u=u.insert(b,C)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o)))).next((u=>{a.forEach(((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Ln.newInvalidDocument(v)))}));let h=$c();return u.forEach(((f,m)=>{const v=a.get(f);v!==void 0&&Qc(v.mutation,m,Cr.empty(),St.now()),gf(n,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ms(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:GA(o.bundledQuery),readTime:Ms(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.overlays=new Mt(Ce.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oa();return ne.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,a)=>{this.St(e,n,a)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const o=oa(),a=n.length+1,u=new Ce(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new Mt(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=oa(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=oa(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=o)););return ne.resolve(h)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new CA(n,r));let a=this.qr.get(n);a===void 0&&(a=Ze(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.Qr=new un(gn.$r),this.Ur=new un(gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new gn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new gn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ce(new _t([])),r=new gn(n,e),o=new gn(n,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new _t([])),r=new gn(n,e),o=new gn(n,e+1);let a=Ze();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new gn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||Xe(e.Yr,n.Yr)}static Kr(e,n){return Xe(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(gn.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new bA(a,n,r,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new gn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Jg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gn(n,0),o=new gn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const h=this.Xr(u.Yr);a.push(h)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(Xe);return n.forEach((o=>{const a=new gn(o,0),u=new gn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{r=r.add(h.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;Ce.isDocumentKey(a)||(a=a.child(""));const u=new gn(new Ce(a),0);let h=new un(Xe);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.Yr)),!0)}),u),ne.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,(o=>{const a=new gn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new gn(n,0),o=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.ri=e,this.docs=(function(){return new Mt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Ln.newInvalidDocument(o))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=Ci();const u=n.path,h=new Ce(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||VP(jP(v),r)<=0||(o.has(v.key)||gf(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,n,r,o){Ae(9500)}ii(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new c2(this)}getSize(e){return ne.resolve(this.size)}}class c2 extends t2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.persistence=e,this.si=new Ia((n=>Zg(n)),ey),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new oy,this.targetCount=0,this.ai=Ol.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ol(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ne.waitFor(a).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n){this.ui={},this.overlays={},this.ci=new df(0),this.li=!1,this.li=!0,this.hi=new o2,this.referenceDelegate=e(this),this.Pi=new u2(this),this.indexManager=new KA,this.remoteDocumentCache=(function(o){return new l2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new WA(n),this.Ii=new s2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new i2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new a2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const o=new d2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class d2 extends $P{constructor(e){super(),this.currentSequenceNumber=e}}class ay{constructor(e){this.persistence=e,this.Ri=new oy,this.Vi=null}static mi(e){return new ay(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const o=Ce.fromPath(r);return this.gi(e,o).next((a=>{a||n.removeEntry(o,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nh{constructor(e,n){this.persistence=e,this.pi=new Ia((r=>zP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=e2(this,n)}static mi(e,n){return new Nh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?ne.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,a.removeEntry(u,Ve.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Ze(),o=Ze();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ly(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $S()?8:UP(Vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new h2;return this.Ss(e,n,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>a.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(yl()<=Ye.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(yl()<=Ye.DEBUG&&ge("QueryEngine","Query:",wl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(yl()<=Ye.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ls(n))):ne.resolve())}ys(e,n){if(E0(n))return ne.resolve(null);let r=Ls(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=og(n,null,"F"),r=Ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Ze(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.Ds(n,h);return this.Cs(n,m,u,f.readTime)?this.ys(e,og(n,null,"F")):this.vs(e,m,n,f)}))))})))))}ws(e,n,r,o){return E0(n)||o.isEqual(Ve.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,r,o)?ne.resolve(null):(yl()<=Ye.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wl(n)),this.vs(e,u,n,MP(o,tu)).next((h=>h)))}))}Ds(e,n){let r=new un(_1(e));return n.forEach(((o,a)=>{gf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return yl()<=Ye.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",wl(n)),this.ps.getDocumentsMatchingQuery(e,n,wo.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="LocalStore",p2=3e8;class m2{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Mt(Xe),this.xs=new Ia((a=>Zg(a)),ey),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function g2(t,e,n,r){return new m2(t,e,n,r)}async function H1(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let f=Ze();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(r,f).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function y2(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,v){const b=m.batch,C=b.keys();let A=ne.resolve();return C.forEach((D=>{A=A.next((()=>v.getEntry(f,D))).next((j=>{const L=m.docVersions.get(D);ht(L!==null,48541),j.version.compareTo(L)<0&&(b.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),v.addEntry(j)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Ze();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function q1(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function w2(t,e){const n=Fe(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const h=[];e.targetChanges.forEach(((v,b)=>{const C=o.get(b);if(!C)return;h.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(a,v.addedDocuments,b))));let A=C.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(Sn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),o=o.insert(b,A),(function(j,L,K){return j.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=p2?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(C,A,v)&&h.push(n.Pi.updateTargetData(a,A))}));let f=Ci(),m=Ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(v2(a,u,e.documentUpdates).next((v=>{f=v.ks,m=v.qs}))),!r.isEqual(Ve.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next((b=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(v)}return ne.waitFor(h).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(n.Ms=o,a)))}function v2(t,e,n){let r=Ze(),o=Ze();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let u=Ci();return n.forEach(((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ge(cy,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function _2(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Jg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function E2(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((a=>a?(o=a,ne.resolve(o)):n.Pi.allocateTargetId(r).next((u=>(o=new lo(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function dg(t,e,n){const r=Fe(t),o=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Gl(u))throw u;ge(cy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function O0(t,e,n){const r=Fe(t);let o=Ve.min(),a=Ze();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,v){const b=Fe(f),C=b.xs.get(v);return C!==void 0?ne.resolve(b.Ms.get(C)):b.Pi.getTargetData(m,v)})(r,u,Ls(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?o:Ve.min(),n?a:Ze()))).next((h=>(b2(r,lA(e),h),{documents:h,Qs:a})))))}function b2(t,e,n){let r=t.Os.get(e)||Ve.min();n.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class L0{constructor(){this.activeTargetIds=pA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C2{constructor(){this.Mo=new L0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new L0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="ConnectivityMonitor";class j0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(M0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(M0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd=null;function hg(){return qd===null?qd=(function(){return 268435456+Math.round(2147483648*Math.random())})():qd++,"0x"+qd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",I2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===xh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,a){const u=hg(),h=this.zo(e,n.toUriEncodedString());ge(km,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(h),v=ba(m);return this.Jo(e,h,f,r,v).then((b=>(ge(km,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw kl(km,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",r),b}))}Ho(e,n,r,o,a,u){return this.Go(e,n,r,o,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ql})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const r=I2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class k2 extends S2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const u=hg();return new Promise(((h,f)=>{const m=new Gb;m.setWithCredentials(!0),m.listenOnce(Kb.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case rh.NO_ERROR:const b=m.getResponseJson();ge(Dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case rh.TIMEOUT:ge(Dn,`RPC '${e}' ${u} timed out`),f(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const C=m.getStatus();if(ge(Dn,`RPC '${e}' ${u} failed with status:`,C,"response text:",m.getResponseText()),C>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const j=(function(K){const q=K.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(q)>=0?q:te.UNKNOWN})(D.status);f(new pe(j,D.message))}else f(new pe(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new pe(te.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ge(Dn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);ge(Dn,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",v,r,15)}))}T_(e,n,r){const o=hg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Yb(),h=Jb(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const v=a.join("");ge(Dn,`Creating RPC '${e}' stream ${o}: ${v}`,f);const b=u.createWebChannel(v,f);this.I_(b);let C=!1,A=!1;const D=new x2({Yo:L=>{A?ge(Dn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(C||(ge(Dn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),C=!0),ge(Dn,`RPC '${e}' stream ${o} sending:`,L),b.send(L))},Zo:()=>b.close()}),j=(L,K,q)=>{L.listen(K,(Y=>{try{q(Y)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return j(b,Fc.EventType.OPEN,(()=>{A||(ge(Dn,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),j(b,Fc.EventType.CLOSE,(()=>{A||(A=!0,ge(Dn,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(b))})),j(b,Fc.EventType.ERROR,(L=>{A||(A=!0,kl(Dn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),D.a_(new pe(te.UNAVAILABLE,"The operation could not be completed")))})),j(b,Fc.EventType.MESSAGE,(L=>{if(!A){const K=L.data[0];ht(!!K,16349);const q=K,Y=q?.error||q[0]?.error;if(Y){ge(Dn,`RPC '${e}' stream ${o} received error:`,Y);const ee=Y.status;let de=(function(S){const P=Xt[S];if(P!==void 0)return N1(P)})(ee),se=Y.message;de===void 0&&(de=te.INTERNAL,se="Unknown error status: "+ee+" with message "+Y.message),A=!0,D.a_(new pe(de,se)),b.close()}else ge(Dn,`RPC '${e}' stream ${o} received:`,K),D.u_(K)}})),j(h,Qb.STAT_EVENT,(L=>{L.stat===Zm.PROXY?ge(Dn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Zm.NOPROXY&&ge(Dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return new NA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="PersistentStream";class G1{constructor(e,n,r,o,a,u,h,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new W1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(V0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(V0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R2 extends G1{constructor(e,n,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LA(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ve.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?Ms(u.readTime):Ve.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ug(this.serializer),n.addTarget=(function(a,u){let h;const f=u.target;if(h=sg(f)?{documents:VA(a,f)}:{query:FA(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=L1(a,u.resumeToken);const m=ag(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ve.min())>0){h.readTime=Ah(a,u.snapshotVersion.toTimestamp());const m=ag(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=UA(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ug(this.serializer),n.removeTarget=e,this.q_(n)}}class P2 extends G1{constructor(e,n,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jA(e.writeResults,e.commitTime),r=Ms(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ug(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>MA(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{}class N2 extends A2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,lg(n,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(te.UNKNOWN,a.toString())}))}Ho(e,n,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,lg(n,r),o,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class D2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class O2{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Sa(this)&&(ge(wa,"Restarting streams for network reachability change."),await(async function(f){const m=Fe(f);m.Ea.add(4),await bu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await bf(m)})(this))}))})),this.Ra=new D2(r,o)}}async function bf(t){if(Sa(t))for(const e of t.da)await e(!0)}async function bu(t){for(const e of t.da)await e(!1)}function K1(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fy(n)?hy(n):Kl(n).O_()&&dy(n,e))}function uy(t,e){const n=Fe(t),r=Kl(n);n.Ia.delete(e),r.O_()&&Q1(n,e),n.Ia.size===0&&(r.O_()?r.L_():Sa(n)&&n.Ra.set("Unknown"))}function dy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kl(t).Y_(e)}function Q1(t,e){t.Va.Ue(e),Kl(t).Z_(e)}function hy(t){t.Va=new kA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Kl(t).start(),t.Ra.ua()}function fy(t){return Sa(t)&&!Kl(t).x_()&&t.Ia.size>0}function Sa(t){return Fe(t).Ea.size===0}function J1(t){t.Va=void 0}async function L2(t){t.Ra.set("Online")}async function M2(t){t.Ia.forEach(((e,n)=>{dy(t,e)}))}async function j2(t,e){J1(t),fy(t)?(t.Ra.ha(e),hy(t)):t.Ra.set("Unknown")}async function V2(t,e,n){if(t.Ra.set("Online"),e instanceof O1&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))})(t,e)}catch(r){ge(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(t,r)}else if(e instanceof ah?t.Va.Ze(e):e instanceof D1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const r=await q1(t.localStore);n.compareTo(r)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(m);v&&a.Ia.set(m,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,m)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(Sn.EMPTY_BYTE_STRING,v.snapshotVersion)),Q1(a,f);const b=new lo(v.target,f,m,v.sequenceNumber);dy(a,b)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ge(wa,"Failed to raise snapshot:",r),await Dh(t,r)}}async function Dh(t,e,n){if(!Gl(e))throw e;t.Ea.add(1),await bu(t),t.Ra.set("Offline"),n||(n=()=>q1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(wa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bf(t)}))}function Y1(t,e){return e().catch((n=>Dh(t,n,e)))}async function Cf(t){const e=Fe(t),n=bo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jg;for(;F2(e);)try{const o=await _2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,$2(e,o)}catch(o){await Dh(e,o)}X1(e)&&Z1(e)}function F2(t){return Sa(t)&&t.Ta.length<10}function $2(t,e){t.Ta.push(e);const n=bo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function X1(t){return Sa(t)&&!bo(t).x_()&&t.Ta.length>0}function Z1(t){bo(t).start()}async function U2(t){bo(t).ra()}async function B2(t){const e=bo(t);for(const n of t.Ta)e.ea(n.mutations)}async function z2(t,e,n){const r=t.Ta.shift(),o=ry.from(r,e,n);await Y1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Cf(t)}async function H2(t,e){e&&bo(t).X_&&await(async function(r,o){if((function(u){return IA(u)&&u!==te.ABORTED})(o.code)){const a=r.Ta.shift();bo(r).B_(),await Y1(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Cf(r)}})(t,e),X1(t)&&Z1(t)}async function F0(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),ge(wa,"RemoteStore received new credentials");const r=Sa(n);n.Ea.add(3),await bu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bf(n)}async function q2(t,e){const n=Fe(t);e?(n.Ea.delete(2),await bf(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function Kl(t){return t.ma||(t.ma=(function(n,r,o){const a=Fe(n);return a.sa(),new R2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:L2.bind(null,t),t_:M2.bind(null,t),r_:j2.bind(null,t),H_:V2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),fy(t)?hy(t):t.Ra.set("Unknown")):(await t.ma.stop(),J1(t))}))),t.ma}function bo(t){return t.fa||(t.fa=(function(n,r,o){const a=Fe(n);return a.sa(),new P2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:U2.bind(null,t),r_:H2.bind(null,t),ta:B2.bind(null,t),na:z2.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Cf(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(wa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const u=Date.now()+r,h=new py(e,n,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function my(t,e){if(bi("AsyncQueue",`${e}: ${t}`),Gl(t))return new pe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{static emptySet(e){return new Il(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=$c(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Il)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Il;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.ga=new Mt(Ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ll{constructor(e,n,r,o,a,u,h,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,a){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Ll(e,n,Il.emptySet(n),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class G2{constructor(){this.queries=U0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Fe(n),a=o.queries;o.queries=U0(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function U0(){return new Ia((t=>v1(t)),mf)}async function gy(t,e){const n=Fe(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new W2,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=my(u,`Initialization of query '${wl(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&wy(n)}async function yy(t,e){const n=Fe(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function K2(t,e){const n=Fe(t);let r=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const h of u.Sa)h.Fa(o)&&(r=!0);u.wa=o}}r&&wy(n)}function Q2(t,e,n){const r=Fe(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function wy(t){t.Ca.forEach((e=>{e.next()}))}var fg,B0;(B0=fg||(fg={})).Ma="default",B0.Cache="cache";class vy{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.key=e}}class tC{constructor(e){this.key=e}}class J2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=_1(e),this.tu=new Il(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $0,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const C=o.get(v),A=gf(this.query,b)?b:null,D=!!C&&this.mutatedKeys.has(C.key),j=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;C&&A?C.data.isEqual(A.data)?D!==j&&(r.track({type:3,doc:A}),L=!0):this.su(C,A)||(r.track({type:2,doc:A}),L=!0,(f&&this.eu(A,f)>0||m&&this.eu(A,m)<0)&&(h=!0)):!C&&A?(r.track({type:0,doc:A}),L=!0):C&&!A&&(r.track({type:1,doc:C}),L=!0,(f||m)&&(h=!0)),L&&(A?(u=u.add(A),a=j?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(A,D){const j=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:L})}};return j(A)-j(D)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const h=n&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new Ll(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new tC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new eC(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _y="SyncEngine";class Y2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class X2{constructor(e){this.key=e,this.hu=!1}}class Z2{constructor(e,n,r,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ia((h=>v1(h)),mf),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(Ce.comparator),this.Au=new Map,this.Ru=new oy,this.Vu={},this.mu=new Map,this.fu=Ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eN(t,e,n=!0){const r=aC(t);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await nC(r,e,n,!0),o}async function tN(t,e){const n=aC(t);await nC(n,e,!0,!1)}async function nC(t,e,n,r){const o=await E2(t.localStore,Ls(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await nN(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&K1(t.remoteStore,o),h}async function nN(t,e,n,r,o){t.pu=(b,C,A)=>(async function(j,L,K,q){let Y=L.view.ru(K);Y.Cs&&(Y=await O0(j.localStore,L.query,!1).then((({documents:k})=>L.view.ru(k,Y))));const ee=q&&q.targetChanges.get(L.targetId),de=q&&q.targetMismatches.get(L.targetId)!=null,se=L.view.applyChanges(Y,j.isPrimaryClient,ee,de);return H0(j,L.targetId,se.au),se.snapshot})(t,b,C,A);const a=await O0(t.localStore,e,!0),u=new J2(e,a.Qs),h=u.ru(a.documents),f=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),m=u.applyChanges(h,t.isPrimaryClient,f);H0(t,n,m.au);const v=new Y2(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function rN(t,e,n){const r=Fe(t),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!mf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await dg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&uy(r.remoteStore,o.targetId),pg(r,o.targetId)})).catch(Wl)):(pg(r,o.targetId),await dg(r.localStore,o.targetId,!0))}async function sN(t,e){const n=Fe(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uy(n.remoteStore,r.targetId))}async function iN(t,e,n){const r=hN(t);try{const o=await(function(u,h){const f=Fe(u),m=St.now(),v=h.reduce(((A,D)=>A.add(D.key)),Ze());let b,C;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=Ci(),j=Ze();return f.Ns.getEntries(A,v).next((L=>{D=L,D.forEach(((K,q)=>{q.isValidDocument()||(j=j.add(K))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,D))).next((L=>{b=L;const K=[];for(const q of h){const Y=_A(q,b.get(q.key).overlayedDocument);Y!=null&&K.push(new So(q.key,Y,d1(Y.value.mapValue),as.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,K,h)})).next((L=>{C=L;const K=L.applyToLocalDocumentSet(b,j);return f.documentOverlayCache.saveOverlays(A,L.batchId,K)}))})).then((()=>({batchId:C.batchId,changes:b1(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,h,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new Mt(Xe)),m=m.insert(h,f),u.Vu[u.currentUser.toKey()]=m})(r,o.batchId,n),await Cu(r,o.changes),await Cf(r.remoteStore)}catch(o){const a=my(o,"Failed to persist write");n.reject(a)}}async function rC(t,e){const n=Fe(t);try{const r=await w2(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?ht(u.hu,14607):o.removedDocuments.size>0&&(ht(u.hu,42227),u.hu=!1))})),await Cu(n,r,e)}catch(r){await Wl(r)}}function z0(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const f=Fe(u);f.onlineState=h;let m=!1;f.queries.forEach(((v,b)=>{for(const C of b.Sa)C.va(h)&&(m=!0)})),m&&wy(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oN(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new Mt(Ce.comparator);u=u.insert(a,Ln.newNoDocument(a,Ve.min()));const h=Ze().add(a),f=new _f(Ve.min(),new Map,new Mt(Xe),u,h);await rC(r,f),r.du=r.du.remove(a),r.Au.delete(e),Ey(r)}else await dg(r.localStore,e,!1).then((()=>pg(r,e,n))).catch(Wl)}async function aN(t,e){const n=Fe(t),r=e.batch.batchId;try{const o=await y2(n.localStore,e);iC(n,r,null),sC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(n,o)}catch(o){await Wl(o)}}async function lN(t,e,n){const r=Fe(t);try{const o=await(function(u,h){const f=Fe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next((b=>(ht(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(m,b)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(r.localStore,e);iC(r,e,n),sC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cu(r,o)}catch(o){await Wl(o)}}function sC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function iC(t,e,n){const r=Fe(t);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function pg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||oC(t,r)}))}function oC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(uy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ey(t))}function H0(t,e,n){for(const r of n)r instanceof eC?(t.Ru.addReference(r.key,e),cN(t,r)):r instanceof tC?(ge(_y,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||oC(t,r.key)):Ae(19791,{wu:r})}function cN(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ge(_y,"New document in limbo: "+n),t.Eu.add(r),Ey(t))}function Ey(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(_t.fromString(e)),r=t.fu.next();t.Au.set(r,new X2(n)),t.du=t.du.insert(n,r),K1(t.remoteStore,new lo(Ls(pf(n.path)),r,"TargetPurposeLimboResolution",df.ce))}}async function Cu(t,e,n){const r=Fe(t),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const v=m?!m.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){o.push(m);const v=ly.As(f.targetId,m);a.push(v)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(f,m){const v=Fe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(m,(C=>ne.forEach(C.Es,(A=>v.persistence.referenceDelegate.addReference(b,C.targetId,A))).next((()=>ne.forEach(C.ds,(A=>v.persistence.referenceDelegate.removeReference(b,C.targetId,A)))))))))}catch(b){if(!Gl(b))throw b;ge(cy,"Failed to update sequence numbers: "+b)}for(const b of m){const C=b.targetId;if(!b.fromCache){const A=v.Ms.get(C),D=A.snapshotVersion,j=A.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(C,j)}}})(r.localStore,a))}async function uN(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){ge(_y,"User change. New user:",e.toKey());const r=await H1(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new pe(te.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cu(n,r.Ls)}}function dN(t,e){const n=Fe(t),r=n.Au.get(e);if(r&&r.hu)return Ze().add(r.key);{let o=Ze();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const h=n.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function aC(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oN.bind(null,e),e.Pu.H_=K2.bind(null,e.eventManager),e.Pu.yu=Q2.bind(null,e.eventManager),e}function hN(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lN.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return g2(this.persistence,new f2,e.initialUser,this.serializer)}Cu(e){return new z1(ay.mi,this.serializer)}Du(e){return new C2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class fN extends Oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ht(this.persistence.referenceDelegate instanceof Nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XA(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new z1((r=>Nh.mi(r,n)),this.serializer)}}class mg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uN.bind(null,this.syncEngine),await q2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new G2})()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),r=(function(a){return new k2(a)})(e.databaseInfo);return(function(a,u,h,f){return new N2(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,a,u,h){return new O2(r,o,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>z0(this.syncEngine,n,0)),(function(){return j0.v()?new j0:new T2})())}createSyncEngine(e,n){return(function(o,a,u,h,f,m,v){const b=new Z2(o,a,u,h,f,m);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Fe(n);ge(wa,"RemoteStore shutting down."),r.Ea.add(5),await bu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mg.provider={build:()=>new mg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="FirestoreClient";class pN{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=On.UNAUTHENTICATED,this.clientId=Qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ge(Co,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ge(Co,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=my(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pm(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Co,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await H1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function q0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mN(t);ge(Co,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>F0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>F0(e.remoteStore,o))),t._onlineComponents=e}async function mN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Co,"Using user provided OfflineComponentProvider");try{await Pm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;kl("Error using user provided cache. Falling back to memory cache: "+n),await Pm(t,new Oh)}}else ge(Co,"Using default OfflineComponentProvider"),await Pm(t,new fN(void 0));return t._offlineComponents}async function lC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Co,"Using user provided OnlineComponentProvider"),await q0(t,t._uninitializedComponentsProvider._online)):(ge(Co,"Using default OnlineComponentProvider"),await q0(t,new mg))),t._onlineComponents}function gN(t){return lC(t).then((e=>e.syncEngine))}async function Lh(t){const e=await lC(t),n=e.eventManager;return n.onListen=eN.bind(null,e.syncEngine),n.onUnlisten=rN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sN.bind(null,e.syncEngine),n}function yN(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,m){const v=new by({next:C=>{v.Nu(),u.enqueueAndForget((()=>yy(a,b)));const A=C.docs.has(h);!A&&C.fromCache?m.reject(new pe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&C.fromCache&&f&&f.source==="server"?m.reject(new pe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(C)},error:C=>m.reject(C)}),b=new vy(pf(h.path),v,{includeMetadataChanges:!0,qa:!0});return gy(a,b)})(await Lh(t),t.asyncQueue,e,n,r))),r.promise}function wN(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,m){const v=new by({next:C=>{v.Nu(),u.enqueueAndForget((()=>yy(a,b))),C.fromCache&&f.source==="server"?m.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(C)},error:C=>m.reject(C)}),b=new vy(h,v,{includeMetadataChanges:!0,qa:!0});return gy(a,b)})(await Lh(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firestore.googleapis.com",G0=!0;class K0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uC,this.ssl=G0}else this.host=e.host,this.ssl=e.ssl??G0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=B1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JA)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IP;switch(r.type){case"firstParty":return new RP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=W0.get(n);r&&(ge("ComponentProvider","Removing Datastore"),W0.delete(n),r.terminate())})(this),Promise.resolve()}}function vN(t,e,n,r={}){t=Ir(t,Tf);const o=ba(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(Dg(`https://${h}`),Og("Firestore",!0)),a.host!==uC&&a.host!==h&&kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:o,emulatorOptions:r};if(!vi(f,u)&&(t._setSettings(f),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=On.MOCK_USER;else{m=sb(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new On(b)}t._authCredentials=new SP(new Zb(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xa(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wu(n,Ut._jsonSchema))return new Ut(e,r||null,new Ce(_t.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:rn("string",Ut._jsonSchemaVersion),referencePath:rn("string")};class mo extends xa{constructor(e,n,r){super(e,n,pf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new Ce(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function $s(t,e,...n){if(t=xt(t),e1("collection","path",e),t instanceof Tf){const r=_t.fromString(e,...n);return a0(r),new mo(t,null,r)}{if(!(t instanceof Ut||t instanceof mo))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return a0(r),new mo(t.firestore,null,r)}}function gt(t,e,...n){if(t=xt(t),arguments.length===1&&(e=Qg.newId()),e1("doc","path",e),t instanceof Tf){const r=_t.fromString(e,...n);return o0(r),new Ut(t,null,new Ce(r))}{if(!(t instanceof Ut||t instanceof mo))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return o0(r),new Ut(t.firestore,t instanceof mo?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="AsyncQueue";class J0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W1(this,"async_queue_retry"),this._c=()=>{const r=Rm();r&&ge(Q0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gl(e))throw e;ge(Q0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",Y0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=py.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:Y0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Y0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(t,["next","error","complete"])}class To extends Tf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new J0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J0(e),this._firestoreClient=void 0,await e}}}function ur(t,e){const n=typeof t=="object"?t:jg(),r=typeof t=="string"?t:xh,o=rf(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=tb("firestore");a&&vN(o,...a)}return o}function If(t){if(t._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_N(t),t._firestoreClient}function _N(t){const e=t._freezeSettings(),n=(function(o,a,u,h){return new WP(o,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,cC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new pN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ur(Sn.fromBase64String(e))}catch(n){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ur(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,Ur._jsonSchema))return Ur.fromBase64String(e.bytes)}}Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:rn("string",Ur._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:js._jsonSchemaVersion}}static fromJSON(e){if(wu(e,js._jsonSchema))return new js(e.latitude,e.longitude)}}js._jsonSchemaVersion="firestore/geoPoint/1.0",js._jsonSchema={type:rn("string",js._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,Vs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vs(e.vectorValues);throw new pe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vs._jsonSchemaVersion="firestore/vectorValue/1.0",Vs._jsonSchema={type:rn("string",Vs._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=/^__.*__$/;class bN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new So(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class dC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new So(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class xf{constructor(e,n,r,o,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hC(this.Ac)&&EN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ef(e)}Cc(e,n,r,o=!1){return new xf({Ac:e,methodName:n,Dc:r,path:In.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cy(t){const e=t._freezeSettings(),n=Ef(t._databaseId);return new CN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TN(t,e,n,r,o,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);ky("Data must be an object, but it was:",u,r);const h=pC(r,u);let f,m;if(a.merge)f=new Cr(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const b of a.mergeFields){const C=gg(e,b,n);if(!u.contains(C))throw new pe(te.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);gC(v,C)||v.push(C)}f=new Cr(v),m=u.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,m=u.fieldTransforms;return new bN(new lr(h),f,m)}class kf extends ka{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kf}}function fC(t,e,n){return new xf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ty extends ka{_toFieldTransform(e){return new wf(e.path,new iu)}isEqual(e){return e instanceof Ty}}class Iy extends ka{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=fC(this,e,!0),r=this.vc.map((a=>Ra(a,n))),o=new Nl(r);return new wf(e.path,o)}isEqual(e){return e instanceof Iy&&vi(this.vc,e.vc)}}class Sy extends ka{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=fC(this,e,!0),r=this.vc.map((a=>Ra(a,n))),o=new Dl(r);return new wf(e.path,o)}isEqual(e){return e instanceof Sy&&vi(this.vc,e.vc)}}class xy extends ka{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new ou(e.serializer,I1(e.serializer,this.Fc));return new wf(e.path,n)}isEqual(e){return e instanceof xy&&this.Fc===e.Fc}}function IN(t,e,n,r){const o=t.Cc(1,e,n);ky("Data must be an object, but it was:",o,r);const a=[],u=lr.empty();Io(r,((f,m)=>{const v=Ry(e,f,n);m=xt(m);const b=o.yc(v);if(m instanceof kf)a.push(v);else{const C=Ra(m,b);C!=null&&(a.push(v),u.set(v,C))}}));const h=new Cr(a);return new dC(u,h,o.fieldTransforms)}function SN(t,e,n,r,o,a){const u=t.Cc(1,e,n),h=[gg(e,r,n)],f=[o];if(a.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<a.length;C+=2)h.push(gg(e,a[C])),f.push(a[C+1]);const m=[],v=lr.empty();for(let C=h.length-1;C>=0;--C)if(!gC(m,h[C])){const A=h[C];let D=f[C];D=xt(D);const j=u.yc(A);if(D instanceof kf)m.push(A);else{const L=Ra(D,j);L!=null&&(m.push(A),v.set(A,L))}}const b=new Cr(m);return new dC(v,b,u.fieldTransforms)}function xN(t,e,n,r=!1){return Ra(n,t.Cc(r?4:3,e))}function Ra(t,e){if(mC(t=xt(t)))return ky("Unsupported field value:",e,t),pC(t,e);if(t instanceof ka)return(function(r,o){if(!hC(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const h of r){let f=Ra(h,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(r,o){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return I1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=St.fromDate(r);return{timestampValue:Ah(o.serializer,a)}}if(r instanceof St){const a=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,a)}}if(r instanceof js)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:L1(o.serializer,r._byteString)};if(r instanceof Ut){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:iy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Vs)return(function(u,h){return{mapValue:{fields:{[c1]:{stringValue:u1},[kh]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return ty(h.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${uf(r)}`)})(t,e)}function pC(t,e){const n={};return r1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(t,((r,o)=>{const a=Ra(o,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function mC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof js||t instanceof Ur||t instanceof Ut||t instanceof ka||t instanceof Vs)}function ky(t,e,n){if(!mC(n)||!t1(n)){const r=uf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function gg(t,e,n){if((e=xt(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return Ry(t,e);throw Mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const kN=new RegExp("[~\\*/\\[\\]]");function Ry(t,e,n){if(e.search(kN)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sf(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mh(t,e,n,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new pe(te.INVALID_ARGUMENT,h+t+f)}function gC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Py("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RN extends yC{data(){return super.data()}}function Py(t,e){return typeof e=="string"?Ry(t,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ay{}class PN extends Ay{}function Rf(t,e,...n){let r=[];e instanceof Ay&&r.push(e),r=r.concat(n),(function(a){const u=a.filter((f=>f instanceof Ny)).length,h=a.filter((f=>f instanceof Pf)).length;if(u>1||u>0&&h>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Pf extends PN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pf(e,n,r)}_apply(e){const n=this._parse(e);return vC(e._query,n),new xa(e.firestore,e.converter,ig(e._query,n))}_parse(e){const n=Cy(e.firestore);return(function(a,u,h,f,m,v,b){let C;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){eE(b,v);const D=[];for(const j of b)D.push(Z0(f,a,j));C={arrayValue:{values:D}}}else C=Z0(f,a,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||eE(b,v),C=xN(h,u,b,v==="in"||v==="not-in");return tn.create(m,v,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Af(t,e,n){const r=e,o=Py("where",t);return Pf._create(o,r,n)}class Ny extends Ay{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ny(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:cs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)vC(u,f),u=ig(u,f)})(e._query,n),new xa(e.firestore,e.converter,ig(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Z0(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w1(e)&&n.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!Ce.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m0(t,new Ce(r))}if(n instanceof Ut)return m0(t,n._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(n)}.`)}function eE(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vC(t,e){const n=(function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AN{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Io(e,((o,a)=>{r[o]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[kh].arrayValue?.values?.map((r=>Wt(r.doubleValue)));return new Vs(n)}convertGeoPoint(e){return new js(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ff(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=vo(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);ht(U1(r),9688,{name:e});const o=new ru(r.get(1),r.get(3)),a=new Ce(r.popFirst(5));return o.isEqual(n)||bi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends yC{constructor(e,n,r,o,a,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Py("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:rn("string",la._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class lh extends la{data(e={}){return super.data(e)}}class ca{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new lh(this._firestore,this._userDataWriter,r.key,r,new Bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const f=new lh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Bc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new lh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Bc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:DN(h.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t){t=Ir(t,Ut);const e=Ir(t.firestore,To);return yN(If(e),t._key).then((n=>EC(e,t,n)))}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:rn("string",ca._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class Dy extends AN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function Us(t){t=Ir(t,xa);const e=Ir(t.firestore,To),n=If(e),r=new Dy(e);return wC(t._query),wN(n,t._query).then((o=>new ca(e,r,t,o)))}function tE(t,e,n){t=Ir(t,Ut);const r=Ir(t.firestore,To),o=NN(t.converter,e,n);return Oy(r,[TN(Cy(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,as.none())])}function Mn(t,e,n,...r){t=Ir(t,Ut);const o=Ir(t.firestore,To),a=Cy(o);let u;return u=typeof(e=xt(e))=="string"||e instanceof Sf?SN(a,"updateDoc",t._key,e,n,r):IN(a,"updateDoc",t._key,e),Oy(o,[u.toMutation(t._key,as.exists(!0))])}function _C(t){return Oy(Ir(t.firestore,To),[new ny(t._key,as.none())])}function ON(t,...e){t=xt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||X0(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(X0(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,u,h;if(t instanceof Ut)u=Ir(t.firestore,To),h=pf(t._key.path),a={next:f=>{e[r]&&e[r](EC(u,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Ir(t,xa);u=Ir(f.firestore,To),h=f._query;const m=new Dy(u);a={next:v=>{e[r]&&e[r](new ca(u,m,f,v))},error:e[r+1],complete:e[r+2]},wC(t._query)}return(function(m,v,b,C){const A=new by(C),D=new vy(v,A,b);return m.asyncQueue.enqueueAndForget((async()=>gy(await Lh(m),D))),()=>{A.Nu(),m.asyncQueue.enqueueAndForget((async()=>yy(await Lh(m),D)))}})(If(u),h,o,a)}function Oy(t,e){return(function(r,o){const a=new gi;return r.asyncQueue.enqueueAndForget((async()=>iN(await gN(r),o,a))),a.promise})(If(t),e)}function EC(t,e,n){const r=n.docs.get(e._key),o=new Dy(t);return new la(t,o,e._key,r,new Bc(n.hasPendingWrites,n.fromCache),e.converter)}function LN(){return new Ty("serverTimestamp")}function bC(...t){return new Iy("arrayUnion",t)}function Ly(...t){return new Sy("arrayRemove",t)}function au(t){return new xy("increment",t)}(function(e,n=!0){(function(o){ql=o})(Ca),fa(new yo("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new To(new xP(r.getProvider("auth-internal")),new PP(u,r.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(m.options.projectId,v)})(u,o),u);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Ds(n0,r0,e),Ds(n0,r0,"esm2020")})();var MN="firebase",jN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(MN,jN,"app");const VN={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},Gn=ab(VN);ur(Gn);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nE="popstate";function FN(t={}){function e(o,a){let{pathname:u="/",search:h="",hash:f=""}=Pa(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),yg("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=o.location.href,m=f.indexOf("#");h=m===-1?f:f.slice(0,m)}return h+"#"+(typeof a=="string"?a:lu(a))}function r(o,a){Hr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return UN(e,n,r,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $N(){return Math.random().toString(36).substring(2,10)}function rE(t,e){return{usr:t.state,key:t.key,idx:e}}function yg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pa(e):e,state:n,key:e&&e.key||r||$N()}}function lu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function UN(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function b(){h="POP";let L=v(),K=L==null?null:L-m;m=L,f&&f({action:h,location:j.location,delta:K})}function C(L,K){h="PUSH";let q=yg(j.location,L,K);n&&n(q,L),m=v()+1;let Y=rE(q,m),ee=j.createHref(q);try{u.pushState(Y,"",ee)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ee)}a&&f&&f({action:h,location:j.location,delta:1})}function A(L,K){h="REPLACE";let q=yg(j.location,L,K);n&&n(q,L),m=v();let Y=rE(q,m),ee=j.createHref(q);u.replaceState(Y,"",ee),a&&f&&f({action:h,location:j.location,delta:0})}function D(L){return BN(L)}let j={get action(){return h},get location(){return t(o,u)},listen(L){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(nE,b),f=L,()=>{o.removeEventListener(nE,b),f=null}},createHref(L){return e(o,L)},createURL:D,encodeLocation(L){let K=D(L);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:C,replace:A,go(L){return u.go(L)}};return j}function BN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:lu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function CC(t,e,n="/"){return zN(t,e,n,!1)}function zN(t,e,n,r){let o=typeof e=="string"?Pa(e):e,a=Ti(o.pathname||"/",n);if(a==null)return null;let u=TC(t);HN(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=tD(a);h=ZN(u[f],m,r)}return h}function TC(t,e=[],n=[],r="",o=!1){let a=(u,h,f=o,m)=>{let v={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;Dt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let b=yi([r,v.relativePath]),C=n.concat(v);u.children&&u.children.length>0&&(Dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),TC(u.children,e,C,b,f)),!(u.path==null&&!u.index)&&e.push({path:b,score:YN(b,u.index),routesMeta:C})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))a(u,h);else for(let f of IC(u.path))a(u,h,!0,f)}),e}function IC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=IC(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function HN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qN=/^:[\w-]+$/,WN=3,GN=2,KN=1,QN=10,JN=-2,sE=t=>t==="*";function YN(t,e){let n=t.split("/"),r=n.length;return n.some(sE)&&(r+=JN),e&&(r+=GN),n.filter(o=>!sE(o)).reduce((o,a)=>o+(qN.test(a)?WN:a===""?KN:QN),r)}function XN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function ZN(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",b=jh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),C=f.route;if(!b&&m&&n&&!r[r.length-1].route.index&&(b=jh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:yi([a,b.pathname]),pathnameBase:iD(yi([a,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(a=yi([a,b.pathnameBase]))}return u}function jh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eD(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:b},C)=>{if(v==="*"){let D=h[C]||"";u=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const A=h[C];return b&&!A?m[v]=void 0:m[v]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:t}}function eD(t,e=!1,n=!0){Hr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function tD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nD(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Pa(t):t;return{pathname:n?n.startsWith("/")?n:rD(n,e):e,search:oD(r),hash:aD(o)}}function rD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function My(t){let e=sD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jy(t,e,n,r=!1){let o;typeof t=="string"?o=Pa(t):(o={...t},Dt(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),Dt(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),Dt(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),b-=1;o.pathname=C.join("/")}h=b>=0?e[b]:"/"}let f=nD(o,h),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var yi=t=>t.join("/").replace(/\/\/+/g,"/"),iD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var SC=["POST","PUT","PATCH","DELETE"];new Set(SC);var cD=["GET",...SC];new Set(cD);var Ql=T.createContext(null);Ql.displayName="DataRouter";var Nf=T.createContext(null);Nf.displayName="DataRouterState";T.createContext(!1);var xC=T.createContext({isTransitioning:!1});xC.displayName="ViewTransition";var uD=T.createContext(new Map);uD.displayName="Fetchers";var dD=T.createContext(null);dD.displayName="Await";var hs=T.createContext(null);hs.displayName="Navigation";var Tu=T.createContext(null);Tu.displayName="Location";var fs=T.createContext({outlet:null,matches:[],isDataRoute:!1});fs.displayName="Route";var Vy=T.createContext(null);Vy.displayName="RouteError";function hD(t,{relative:e}={}){Dt(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(hs),{hash:o,pathname:a,search:u}=Iu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:yi([n,a])),r.createHref({pathname:h,search:u,hash:o})}function Jl(){return T.useContext(Tu)!=null}function xo(){return Dt(Jl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Tu).location}var kC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RC(t){T.useContext(hs).static||T.useLayoutEffect(t)}function Fy(){let{isDataRoute:t}=T.useContext(fs);return t?SD():fD()}function fD(){Dt(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Ql),{basename:e,navigator:n}=T.useContext(hs),{matches:r}=T.useContext(fs),{pathname:o}=xo(),a=JSON.stringify(My(r)),u=T.useRef(!1);return RC(()=>{u.current=!0}),T.useCallback((f,m={})=>{if(Hr(u.current,kC),!u.current)return;if(typeof f=="number"){n.go(f);return}let v=jy(f,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:yi([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,a,o,t])}T.createContext(null);function pD(){let{matches:t}=T.useContext(fs),e=t[t.length-1];return e?e.params:{}}function Iu(t,{relative:e}={}){let{matches:n}=T.useContext(fs),{pathname:r}=xo(),o=JSON.stringify(My(n));return T.useMemo(()=>jy(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function mD(t,e){return PC(t,e)}function PC(t,e,n,r,o){Dt(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(hs),{matches:u}=T.useContext(fs),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let q=b&&b.path||"";AC(m,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let C=xo(),A;if(e){let q=typeof e=="string"?Pa(e):e;Dt(v==="/"||q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=C;let D=A.pathname||"/",j=D;if(v!=="/"){let q=v.replace(/^\//,"").split("/");j="/"+D.replace(/^\//,"").split("/").slice(q.length).join("/")}let L=CC(t,{pathname:j});Hr(b||L!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Hr(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=_D(L&&L.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:yi([v,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:yi([v,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),u,n,r,o);return e&&K?T.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},K):K}function gD(){let t=ID(),e=lD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:o},n):null,u)}var yD=T.createElement(gD,null),wD=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(fs.Provider,{value:this.props.routeContext},T.createElement(Vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vD({routeContext:t,match:e,children:n}){let r=T.useContext(Ql);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(fs.Provider,{value:t},n)}function _D(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n?.errors;if(u!=null){let m=a.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let h=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let v=a[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=m),v.route.id){let{loaderData:b,errors:C}=n,A=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||A){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,v,b)=>{let C,A=!1,D=null,j=null;n&&(C=u&&v.route.id?u[v.route.id]:void 0,D=v.route.errorElement||yD,h&&(f<0&&b===0?(AC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,j=null):f===b&&(A=!0,j=v.route.hydrateFallbackElement||null)));let L=e.concat(a.slice(0,b+1)),K=()=>{let q;return C?q=D:A?q=j:v.route.Component?q=T.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=m,T.createElement(vD,{match:v,routeContext:{outlet:m,matches:L,isDataRoute:n!=null},children:q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?T.createElement(wD,{location:n.location,revalidation:n.revalidation,component:D,error:C,children:K(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:r}):K()},null)}function $y(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ED(t){let e=T.useContext(Ql);return Dt(e,$y(t)),e}function bD(t){let e=T.useContext(Nf);return Dt(e,$y(t)),e}function CD(t){let e=T.useContext(fs);return Dt(e,$y(t)),e}function Uy(t){let e=CD(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function TD(){return Uy("useRouteId")}function ID(){let t=T.useContext(Vy),e=bD("useRouteError"),n=Uy("useRouteError");return t!==void 0?t:e.errors?.[n]}function SD(){let{router:t}=ED("useNavigate"),e=Uy("useNavigate"),n=T.useRef(!1);return RC(()=>{n.current=!0}),T.useCallback(async(o,a={})=>{Hr(n.current,kC),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var iE={};function AC(t,e,n){!e&&!iE[t]&&(iE[t]=!0,Hr(!1,n))}T.memo(xD);function xD({routes:t,future:e,state:n,unstable_onError:r}){return PC(t,void 0,n,r,e)}function ml({to:t,replace:e,state:n,relative:r}){Dt(Jl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=T.useContext(hs);Hr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(fs),{pathname:u}=xo(),h=Fy(),f=jy(t,My(a),u,r==="path"),m=JSON.stringify(f);return T.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function sa(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){Dt(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=T.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=Pa(n));let{pathname:f="/",search:m="",hash:v="",state:b=null,key:C="default"}=n,A=T.useMemo(()=>{let D=Ti(f,u);return D==null?null:{location:{pathname:D,search:m,hash:v,state:b,key:C},navigationType:r}},[u,f,m,v,b,C,r]);return Hr(A!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:T.createElement(hs.Provider,{value:h},T.createElement(Tu.Provider,{children:e,value:A}))}function RD({children:t,location:e}){return mD(wg(t),e)}function wg(t,e=[]){let n=[];return T.Children.forEach(t,(r,o)=>{if(!T.isValidElement(r))return;let a=[...e,o];if(r.type===T.Fragment){n.push.apply(n,wg(r.props.children,a));return}Dt(r.type===sa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=wg(r.props.children,a)),n.push(u)}),n}var ch="get",uh="application/x-www-form-urlencoded";function Df(t){return t!=null&&typeof t.tagName=="string"}function PD(t){return Df(t)&&t.tagName.toLowerCase()==="button"}function AD(t){return Df(t)&&t.tagName.toLowerCase()==="form"}function ND(t){return Df(t)&&t.tagName.toLowerCase()==="input"}function DD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OD(t,e){return t.button===0&&(!e||e==="_self")&&!DD(t)}var Wd=null;function LD(){if(Wd===null)try{new FormData(document.createElement("form"),0),Wd=!1}catch{Wd=!0}return Wd}var MD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(t){return t!=null&&!MD.has(t)?(Hr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):t}function jD(t,e){let n,r,o,a,u;if(AD(t)){let h=t.getAttribute("action");r=h?Ti(h,e):null,n=t.getAttribute("method")||ch,o=Nm(t.getAttribute("enctype"))||uh,a=new FormData(t)}else if(PD(t)||ND(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ti(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||ch,o=Nm(t.getAttribute("formenctype"))||Nm(h.getAttribute("enctype"))||uh,a=new FormData(h,t),!LD()){let{name:m,type:v,value:b}=t;if(v==="image"){let C=m?`${m}.`:"";a.append(`${C}x`,"0"),a.append(`${C}y`,"0")}else m&&a.append(m,b)}}else{if(Df(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,r=null,o=uh,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function By(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ti(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function FD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $D(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function UD(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await FD(a,n);return u.links?u.links():[]}return[]}));return qD(r.flat(1).filter($D).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function oE(t,e,n,r,o,a){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,h=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):a==="data"?e.filter((f,m)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function BD(t,e,{includeHydrateFallback:n}={}){return zD(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function zD(t){return[...new Set(t)]}function HD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function qD(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(HD(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function NC(){let t=T.useContext(Ql);return By(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function WD(){let t=T.useContext(Nf);return By(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zy=T.createContext(void 0);zy.displayName="FrameworkContext";function DC(){let t=T.useContext(zy);return By(t,"You must render this element inside a <HydratedRouter> element"),t}function GD(t,e){let n=T.useContext(zy),[r,o]=T.useState(!1),[a,u]=T.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=e,C=T.useRef(null);T.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=K=>{K.forEach(q=>{u(q.isIntersecting)})},L=new IntersectionObserver(j,{threshold:.5});return C.current&&L.observe(C.current),()=>{L.disconnect()}}},[t]),T.useEffect(()=>{if(r){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[r]);let A=()=>{o(!0)},D=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,C,{}]:[a,C,{onFocus:Lc(h,A),onBlur:Lc(f,D),onMouseEnter:Lc(m,A),onMouseLeave:Lc(v,D),onTouchStart:Lc(b,A)}]:[!1,C,{}]}function Lc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function KD({page:t,...e}){let{router:n}=NC(),r=T.useMemo(()=>CC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(JD,{page:t,matches:r,...e}):null}function QD(t){let{manifest:e,routeModules:n}=DC(),[r,o]=T.useState([]);return T.useEffect(()=>{let a=!1;return UD(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),r}function JD({page:t,matches:e,...n}){let r=xo(),{manifest:o,routeModules:a}=DC(),{basename:u}=NC(),{loaderData:h,matches:f}=WD(),m=T.useMemo(()=>oE(t,e,f,o,r,"data"),[t,e,f,o,r]),v=T.useMemo(()=>oE(t,e,f,o,r,"assets"),[t,e,f,o,r]),b=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,j=!1;if(e.forEach(K=>{let q=o.routes[K.route.id];!q||!q.hasLoader||(!m.some(Y=>Y.route.id===K.route.id)&&K.route.id in h&&a[K.route.id]?.shouldRevalidate||q.hasClientLoader?j=!0:D.add(K.route.id))}),D.size===0)return[];let L=VD(t,u,"data");return j&&D.size>0&&L.searchParams.set("_routes",e.filter(K=>D.has(K.route.id)).map(K=>K.route.id).join(",")),[L.pathname+L.search]},[u,h,r,o,m,e,t,a]),C=T.useMemo(()=>BD(v,o),[v,o]),A=QD(v);return T.createElement(T.Fragment,null,b.map(D=>T.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),C.map(D=>T.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),A.map(({key:D,link:j})=>T.createElement("link",{key:D,nonce:n.nonce,...j})))}function YD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OC&&(window.__reactRouterVersion="7.8.2")}catch{}function XD({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=FN({window:n,v5Compat:!0}));let o=r.current,[a,u]=T.useState({action:o.action,location:o.location}),h=T.useCallback(f=>{T.startTransition(()=>u(f))},[u]);return T.useLayoutEffect(()=>o.listen(h),[o,h]),T.createElement(kD,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var LC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:v,viewTransition:b,...C},A){let{basename:D}=T.useContext(hs),j=typeof m=="string"&&LC.test(m),L,K=!1;if(typeof m=="string"&&j&&(L=m,OC))try{let P=new URL(window.location.href),x=m.startsWith("//")?new URL(P.protocol+m):new URL(m),M=Ti(x.pathname,D);x.origin===P.origin&&M!=null?m=M+x.search+x.hash:K=!0}catch{Hr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=hD(m,{relative:o}),[Y,ee,de]=GD(r,C),se=nO(m,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:b});function k(P){e&&e(P),P.defaultPrevented||se(P)}let S=T.createElement("a",{...C,...de,href:L||q,onClick:K||a?e:k,ref:YD(A,ee),target:f,"data-discover":!j&&n==="render"?"true":void 0});return Y&&!j?T.createElement(T.Fragment,null,S,T.createElement(KD,{page:q})):S});Zt.displayName="Link";var ZD=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...m},v){let b=Iu(u,{relative:m.relative}),C=xo(),A=T.useContext(Nf),{navigator:D,basename:j}=T.useContext(hs),L=A!=null&&aO(b)&&h===!0,K=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,q=C.pathname,Y=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(q=q.toLowerCase(),Y=Y?Y.toLowerCase():null,K=K.toLowerCase()),Y&&j&&(Y=Ti(Y,j)||Y);const ee=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let de=q===K||!o&&q.startsWith(K)&&q.charAt(ee)==="/",se=Y!=null&&(Y===K||!o&&Y.startsWith(K)&&Y.charAt(K.length)==="/"),k={isActive:de,isPending:se,isTransitioning:L},S=de?e:void 0,P;typeof r=="function"?P=r(k):P=[r,de?"active":null,se?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let x=typeof a=="function"?a(k):a;return T.createElement(Zt,{...m,"aria-current":S,className:P,ref:v,style:x,to:u,viewTransition:h},typeof f=="function"?f(k):f)});ZD.displayName="NavLink";var eO=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:u=ch,action:h,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:b,...C},A)=>{let D=iO(),j=oO(h,{relative:m}),L=u.toLowerCase()==="get"?"get":"post",K=typeof h=="string"&&LC.test(h),q=Y=>{if(f&&f(Y),Y.defaultPrevented)return;Y.preventDefault();let ee=Y.nativeEvent.submitter,de=ee?.getAttribute("formmethod")||u;D(ee||Y.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:b})};return T.createElement("form",{ref:A,method:L,action:j,onSubmit:r?f:q,...C,"data-discover":!K&&t==="render"?"true":void 0})});eO.displayName="Form";function tO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MC(t){let e=T.useContext(Ql);return Dt(e,tO(t)),e}function nO(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=Fy(),f=xo(),m=Iu(t,{relative:a});return T.useCallback(v=>{if(OD(v,e)){v.preventDefault();let b=n!==void 0?n:lu(f)===lu(m);h(t,{replace:b,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,m,n,r,e,t,o,a,u])}var rO=0,sO=()=>`__${String(++rO)}__`;function iO(){let{router:t}=MC("useSubmit"),{basename:e}=T.useContext(hs),n=TD();return T.useCallback(async(r,o={})=>{let{action:a,method:u,encType:h,formData:f,body:m}=jD(r,e);if(o.navigate===!1){let v=o.fetcherKey||sO();await t.fetch(v,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function oO(t,{relative:e}={}){let{basename:n}=T.useContext(hs),r=T.useContext(fs);Dt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Iu(t||".",{relative:e})},u=xo();if(t==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:yi([n,a.pathname])),lu(a)}function aO(t,{relative:e}={}){let n=T.useContext(xC);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=MC("useViewTransitionState"),o=Iu(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ti(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ti(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jh(o.pathname,u)!=null||jh(o.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function jC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function lO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function aE(t,e){return t.get(jC(t,e))}function cO(t,e,n){lO(t,e),e.set(t,n)}function uO(t,e,n){return t.set(jC(t,e),n),n}const dO=100,xe={},hO=()=>{xe.previousActiveElement instanceof HTMLElement?(xe.previousActiveElement.focus(),xe.previousActiveElement=null):document.body&&document.body.focus()},fO=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;xe.restoreFocusTimeout=setTimeout(()=>{hO(),e()},dO),window.scrollTo(n,r)}),VC="swal2-",pO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Z=pO.reduce((t,e)=>(t[e]=VC+e,t),{}),mO=["success","warning","info","question","error"],Vh=mO.reduce((t,e)=>(t[e]=VC+e,t),{}),FC="SweetAlert2:",Hy=t=>t.charAt(0).toUpperCase()+t.slice(1),Wn=t=>{console.warn(`${FC} ${typeof t=="object"?t.join(" "):t}`)},Aa=t=>{console.error(`${FC} ${t}`)},lE=[],gO=t=>{lE.includes(t)||(lE.push(t),Wn(t))},$C=(t,e=null)=>{gO(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Of=t=>typeof t=="function"?t():t,qy=t=>t&&typeof t.toPromise=="function",Su=t=>qy(t)?t.toPromise():Promise.resolve(t),Wy=t=>t&&Promise.resolve(t)===t,Kn=()=>document.body.querySelector(`.${Z.container}`),xu=t=>{const e=Kn();return e?e.querySelector(t):null},xr=t=>xu(`.${t}`),lt=()=>xr(Z.popup),Yl=()=>xr(Z.icon),yO=()=>xr(Z["icon-content"]),UC=()=>xr(Z.title),Gy=()=>xr(Z["html-container"]),BC=()=>xr(Z.image),Ky=()=>xr(Z["progress-steps"]),Lf=()=>xr(Z["validation-message"]),Bs=()=>xu(`.${Z.actions} .${Z.confirm}`),Xl=()=>xu(`.${Z.actions} .${Z.cancel}`),Na=()=>xu(`.${Z.actions} .${Z.deny}`),wO=()=>xr(Z["input-label"]),Zl=()=>xu(`.${Z.loader}`),ku=()=>xr(Z.actions),zC=()=>xr(Z.footer),Mf=()=>xr(Z["timer-progress-bar"]),Qy=()=>xr(Z.close),vO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Jy=()=>{const t=lt();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,u)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(u.getAttribute("tabindex")||"0");return h>f?1:h<f?-1:0}),r=t.querySelectorAll(vO),o=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>cr(a))},Yy=()=>wi(document.body,Z.shown)&&!wi(document.body,Z["toast-shown"])&&!wi(document.body,Z["no-backdrop"]),jf=()=>{const t=lt();return t?wi(t,Z.toast):!1},_O=()=>{const t=lt();return t?t.hasAttribute("data-loading"):!1},kr=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(u=>{t.appendChild(u)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?t.appendChild(u.cloneNode(!0)):t.appendChild(u)})}},wi=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},EO=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Z).includes(n)&&!Object.values(Vh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Sr=(t,e,n)=>{if(EO(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Wn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}ut(t,r)}},Vf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Z.popup} > .${Z[e]}`);case"checkbox":return t.querySelector(`.${Z.popup} > .${Z.checkbox} input`);case"radio":return t.querySelector(`.${Z.popup} > .${Z.radio} input:checked`)||t.querySelector(`.${Z.popup} > .${Z.radio} input:first-child`);case"range":return t.querySelector(`.${Z.popup} > .${Z.range} input`);default:return t.querySelector(`.${Z.popup} > .${Z.input}`)}},HC=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},qC=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(r):o.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},ut=(t,e)=>{qC(t,e,!0)},qr=(t,e)=>{qC(t,e,!1)},co=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const o=n[r];if(o instanceof HTMLElement&&wi(o,e))return o}},ua=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},wn=(t,e="flex")=>{t&&(t.style.display=e)},Fn=t=>{t&&(t.style.display="none")},Xy=(t,e="block")=>{t&&new MutationObserver(()=>{Ru(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},cE=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},Ru=(t,e,n="flex")=>{e?wn(t,n):Fn(t)},cr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),bO=()=>!cr(Bs())&&!cr(Na())&&!cr(Xl()),vg=t=>t.scrollHeight>t.clientHeight,CO=(t,e)=>{let n=t;for(;n&&n!==e;){if(vg(n))return!0;n=n.parentElement}return!1},WC=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},Zy=(t,e=!1)=>{const n=Mf();n&&cr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},TO=()=>{const t=Mf();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},IO=()=>typeof window>"u"||typeof document>"u",SO=`
 <div aria-labelledby="${Z.title}" aria-describedby="${Z["html-container"]}" class="${Z.popup}" tabindex="-1">
   <button type="button" class="${Z.close}"></button>
   <ul class="${Z["progress-steps"]}"></ul>
   <div class="${Z.icon}"></div>
   <img class="${Z.image}" />
   <h2 class="${Z.title}" id="${Z.title}"></h2>
   <div class="${Z["html-container"]}" id="${Z["html-container"]}"></div>
   <input class="${Z.input}" id="${Z.input}" />
   <input type="file" class="${Z.file}" />
   <div class="${Z.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Z.select}" id="${Z.select}"></select>
   <div class="${Z.radio}"></div>
   <label class="${Z.checkbox}">
     <input type="checkbox" id="${Z.checkbox}" />
     <span class="${Z.label}"></span>
   </label>
   <textarea class="${Z.textarea}" id="${Z.textarea}"></textarea>
   <div class="${Z["validation-message"]}" id="${Z["validation-message"]}"></div>
   <div class="${Z.actions}">
     <div class="${Z.loader}"></div>
     <button type="button" class="${Z.confirm}"></button>
     <button type="button" class="${Z.deny}"></button>
     <button type="button" class="${Z.cancel}"></button>
   </div>
   <div class="${Z.footer}"></div>
   <div class="${Z["timer-progress-bar-container"]}">
     <div class="${Z["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),xO=()=>{const t=Kn();return t?(t.remove(),qr([document.documentElement,document.body],[Z["no-backdrop"],Z["toast-shown"],Z["has-column"]]),!0):!1},ta=()=>{xe.currentInstance.resetValidationMessage()},kO=()=>{const t=lt(),e=co(t,Z.input),n=co(t,Z.file),r=t.querySelector(`.${Z.range} input`),o=t.querySelector(`.${Z.range} output`),a=co(t,Z.select),u=t.querySelector(`.${Z.checkbox} input`),h=co(t,Z.textarea);e.oninput=ta,n.onchange=ta,a.onchange=ta,u.onchange=ta,h.oninput=ta,r.oninput=()=>{ta(),o.value=r.value},r.onchange=()=>{ta(),o.value=r.value}},RO=t=>typeof t=="string"?document.querySelector(t):t,PO=t=>{const e=lt();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},AO=t=>{window.getComputedStyle(t).direction==="rtl"&&ut(Kn(),Z.rtl)},NO=t=>{const e=xO();if(IO()){Aa("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Z.container,e&&ut(n,Z["no-transition"]),kr(n,SO),n.dataset.swal2Theme=t.theme;const r=RO(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),PO(t),AO(r),kO()},ew=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?DO(t,e):t&&kr(e,t)},DO=(t,e)=>{t.jquery?OO(e,t):kr(e,t.toString())},OO=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},LO=(t,e)=>{const n=ku(),r=Zl();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Fn(n):wn(n),Sr(n,e,"actions"),MO(n,r,e),kr(r,e.loaderHtml||""),Sr(r,e,"loader"))};function MO(t,e,n){const r=Bs(),o=Na(),a=Xl();!r||!o||!a||(Om(r,"confirm",n),Om(o,"deny",n),Om(a,"cancel",n),jO(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}function jO(t,e,n,r){if(!r.buttonsStyling){qr([t,e,n],Z.styled);return}ut([t,e,n],Z.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Dm(t),Dm(e),Dm(n)}function Dm(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Om(t,e,n){const r=Hy(e);Ru(t,n[`show${r}Button`],"inline-block"),kr(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Z[e],Sr(t,n,`${e}Button`)}const VO=(t,e)=>{const n=Qy();n&&(kr(n,e.closeButtonHtml||""),Sr(n,e,"closeButton"),Ru(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},FO=(t,e)=>{const n=Kn();n&&($O(n,e.backdrop),UO(n,e.position),BO(n,e.grow),Sr(n,e,"container"))};function $O(t,e){typeof e=="string"?t.style.background=e:e||ut([document.documentElement,document.body],Z["no-backdrop"])}function UO(t,e){e&&(e in Z?ut(t,Z[e]):(Wn('The "position" parameter is not valid, defaulting to "center"'),ut(t,Z.center)))}function BO(t,e){e&&ut(t,Z[`grow-${e}`])}var Et={innerParams:new WeakMap,domCache:new WeakMap};const zO=["input","file","range","select","radio","checkbox","textarea"],HO=(t,e)=>{const n=lt();if(!n)return;const r=Et.innerParams.get(t),o=!r||e.input!==r.input;zO.forEach(a=>{const u=co(n,Z[a]);u&&(GO(a,e.inputAttributes),u.className=Z[a],o&&Fn(u))}),e.input&&(o&&qO(e),KO(e))},qO=t=>{if(!t.input)return;if(!qt[t.input]){Aa(`Unexpected type of input! Expected ${Object.keys(qt).join(" | ")}, got "${t.input}"`);return}const e=GC(t.input);if(!e)return;const n=qt[t.input](e,t);wn(e),t.inputAutoFocus&&setTimeout(()=>{HC(n)})},WO=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},GO=(t,e)=>{const n=lt();if(!n)return;const r=Vf(n,t);if(r){WO(r);for(const o in e)r.setAttribute(o,e[o])}},KO=t=>{if(!t.input)return;const e=GC(t.input);e&&Sr(e,t,"input")},tw=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Pu=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=Z["input-label"];r.setAttribute("for",t.id),r.className=o,typeof n.customClass=="object"&&ut(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},GC=t=>{const e=lt();if(e)return co(e,Z[t]||Z.input)},Fh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Wy(e)||Wn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},qt={};qt.text=qt.email=qt.password=qt.number=qt.tel=qt.url=qt.search=qt.date=qt["datetime-local"]=qt.time=qt.week=qt.month=(t,e)=>(Fh(t,e.inputValue),Pu(t,t,e),tw(t,e),t.type=e.input,t);qt.file=(t,e)=>(Pu(t,t,e),tw(t,e),t);qt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Fh(n,e.inputValue),n.type=e.input,Fh(r,e.inputValue),Pu(n,t,e),t};qt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");kr(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Pu(t,t,e),t};qt.radio=t=>(t.textContent="",t);qt.checkbox=(t,e)=>{const n=Vf(lt(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return kr(r,e.inputPlaceholder||e.inputLabel),n};qt.textarea=(t,e)=>{Fh(t,e.inputValue),tw(t,e),Pu(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(lt()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?lt().style.width=`${a}px`:ua(lt(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const QO=(t,e)=>{const n=Gy();n&&(Xy(n),Sr(n,e,"htmlContainer"),e.html?(ew(e.html,n),wn(n,"block")):e.text?(n.textContent=e.text,wn(n,"block")):Fn(n),HO(t,e))},JO=(t,e)=>{const n=zC();n&&(Xy(n),Ru(n,e.footer,"block"),e.footer&&ew(e.footer,n),Sr(n,e,"footer"))},YO=(t,e)=>{const n=Et.innerParams.get(t),r=Yl();if(!r)return;if(n&&e.icon===n.icon){dE(r,e),uE(r,e);return}if(!e.icon&&!e.iconHtml){Fn(r);return}if(e.icon&&Object.keys(Vh).indexOf(e.icon)===-1){Aa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Fn(r);return}wn(r),dE(r,e),uE(r,e),ut(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",KC)},uE=(t,e)=>{for(const[n,r]of Object.entries(Vh))e.icon!==n&&qr(t,r);ut(t,e.icon&&Vh[e.icon]),eL(t,e),KC(),Sr(t,e,"icon")},KC=()=>{const t=lt();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},XO=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,ZO=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,dE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=hE(e.iconHtml):e.icon==="success"?(r=XO(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=ZO:e.icon&&(r=hE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&kr(t,r)},eL=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])cE(t,n,"background-color",e.iconColor);cE(t,".swal2-success-ring","border-color",e.iconColor)}},hE=t=>`<div class="${Z["icon-content"]}">${t}</div>`,tL=(t,e)=>{const n=BC();if(n){if(!e.imageUrl){Fn(n);return}wn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),ua(n,"width",e.imageWidth),ua(n,"height",e.imageHeight),n.className=Z.image,Sr(n,e,"image")}};let nw=!1,QC=0,JC=0,YC=0,XC=0;const nL=t=>{t.addEventListener("mousedown",$h),document.body.addEventListener("mousemove",Uh),t.addEventListener("mouseup",Bh),t.addEventListener("touchstart",$h),document.body.addEventListener("touchmove",Uh),t.addEventListener("touchend",Bh)},rL=t=>{t.removeEventListener("mousedown",$h),document.body.removeEventListener("mousemove",Uh),t.removeEventListener("mouseup",Bh),t.removeEventListener("touchstart",$h),document.body.removeEventListener("touchmove",Uh),t.removeEventListener("touchend",Bh)},$h=t=>{const e=lt();if(t.target===e||Yl().contains(t.target)){nw=!0;const n=ZC(t);QC=n.clientX,JC=n.clientY,YC=parseInt(e.style.insetInlineStart)||0,XC=parseInt(e.style.insetBlockStart)||0,ut(e,"swal2-dragging")}},Uh=t=>{const e=lt();if(nw){let{clientX:n,clientY:r}=ZC(t);e.style.insetInlineStart=`${YC+(n-QC)}px`,e.style.insetBlockStart=`${XC+(r-JC)}px`}},Bh=()=>{const t=lt();nw=!1,qr(t,"swal2-dragging")},ZC=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},sL=(t,e)=>{const n=Kn(),r=lt();if(!(!n||!r)){if(e.toast){ua(n,"width",e.width),r.style.width="100%";const o=Zl();o&&r.insertBefore(o,Yl())}else ua(r,"width",e.width);ua(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Fn(Lf()),iL(r,e),e.draggable&&!e.toast?(ut(r,Z.draggable),nL(r)):(qr(r,Z.draggable),rL(r))}},iL=(t,e)=>{const n=e.showClass||{};t.className=`${Z.popup} ${cr(t)?n.popup:""}`,e.toast?(ut([document.documentElement,document.body],Z["toast-shown"]),ut(t,Z.toast)):ut(t,Z.modal),Sr(t,e,"popup"),typeof e.customClass=="string"&&ut(t,e.customClass),e.icon&&ut(t,Z[`icon-${e.icon}`])},oL=(t,e)=>{const n=Ky();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){Fn(n);return}wn(n),n.textContent="",o>=r.length&&Wn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,u)=>{const h=aL(a);if(n.appendChild(h),u===o&&ut(h,Z["active-progress-step"]),u!==r.length-1){const f=lL(e);n.appendChild(f)}})},aL=t=>{const e=document.createElement("li");return ut(e,Z["progress-step"]),kr(e,t),e},lL=t=>{const e=document.createElement("li");return ut(e,Z["progress-step-line"]),t.progressStepsDistance&&ua(e,"width",t.progressStepsDistance),e},cL=(t,e)=>{const n=UC();n&&(Xy(n),Ru(n,e.title||e.titleText,"block"),e.title&&ew(e.title,n),e.titleText&&(n.innerText=e.titleText),Sr(n,e,"title"))},eT=(t,e)=>{sL(t,e),FO(t,e),oL(t,e),YO(t,e),tL(t,e),cL(t,e),VO(t,e),QO(t,e),LO(t,e),JO(t,e);const n=lt();typeof e.didRender=="function"&&n&&e.didRender(n),xe.eventEmitter.emit("didRender",n)},uL=()=>cr(lt()),tT=()=>{var t;return(t=Bs())===null||t===void 0?void 0:t.click()},dL=()=>{var t;return(t=Na())===null||t===void 0?void 0:t.click()},hL=()=>{var t;return(t=Xl())===null||t===void 0?void 0:t.click()},ec=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),nT=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},fL=(t,e,n)=>{nT(t),e.toast||(t.keydownHandler=r=>mL(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:lt(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},_g=(t,e)=>{var n;const r=Jy();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=lt())===null||n===void 0||n.focus()},rT=["ArrowRight","ArrowDown"],pL=["ArrowLeft","ArrowUp"],mL=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?gL(e,t):e.key==="Tab"?yL(e):[...rT,...pL].includes(e.key)?wL(e.key):e.key==="Escape"&&vL(e,t,n)))},gL=(t,e)=>{if(!Of(e.allowEnterKey))return;const n=Vf(lt(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;tT(),t.preventDefault()}},yL=t=>{const e=t.target,n=Jy();let r=-1;for(let o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?_g(r,-1):_g(r,1),t.stopPropagation(),t.preventDefault()},wL=t=>{const e=ku(),n=Bs(),r=Na(),o=Xl();if(!e||!n||!r||!o)return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const u=rT.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let f=0;f<e.children.length;f++){if(h=h[u],!h)return;if(h instanceof HTMLButtonElement&&cr(h))break}h instanceof HTMLButtonElement&&h.focus()}},vL=(t,e,n)=>{t.preventDefault(),Of(e.allowEscapeKey)&&n(ec.esc)};var Ml={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const _L=()=>{const t=Kn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},sT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},iT=typeof window<"u"&&!!window.GestureEvent,EL=()=>{if(iT&&!wi(document.body,Z.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,ut(document.body,Z.iosfix),bL()}},bL=()=>{const t=Kn();if(!t)return;let e;t.ontouchstart=n=>{e=CL(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},CL=t=>{const e=t.target,n=Kn(),r=Gy();return!n||!r||TL(t)||IL(t)?!1:e===n||!vg(n)&&e instanceof HTMLElement&&!CO(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(vg(r)&&r.contains(e))},TL=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",IL=t=>t.touches&&t.touches.length>1,SL=()=>{if(wi(document.body,Z.iosfix)){const t=parseInt(document.body.style.top,10);qr(document.body,Z.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},xL=()=>{const t=document.createElement("div");t.className=Z["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Sl=null;const kL=t=>{Sl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Sl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Sl+xL()}px`)},RL=()=>{Sl!==null&&(document.body.style.paddingRight=`${Sl}px`,Sl=null)};function oT(t,e,n,r){jf()?fE(t,r):(fO(n).then(()=>fE(t,r)),nT(xe)),iT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Yy()&&(RL(),SL(),sT()),PL()}function PL(){qr([document.documentElement,document.body],[Z.shown,Z["height-auto"],Z["no-backdrop"],Z["toast-shown"]])}function uo(t){t=NL(t);const e=Ml.swalPromiseResolve.get(this),n=AL(this);this.isAwaitingPromise?t.isDismissed||(Au(this),e(t)):n&&e(t)}const AL=t=>{const e=lt();if(!e)return!1;const n=Et.innerParams.get(t);if(!n||wi(e,n.hideClass.popup))return!1;qr(e,n.showClass.popup),ut(e,n.hideClass.popup);const r=Kn();return qr(r,n.showClass.backdrop),ut(r,n.hideClass.backdrop),DL(t,e,n),!0};function aT(t){const e=Ml.swalPromiseReject.get(this);Au(this),e&&e(t)}const Au=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Et.innerParams.get(t)||t._destroy())},NL=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),DL=(t,e,n)=>{var r;const o=Kn(),a=WC(e);typeof n.willClose=="function"&&n.willClose(e),(r=xe.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?OL(t,e,o,n.returnFocus,n.didClose):oT(t,o,n.returnFocus,n.didClose)},OL=(t,e,n,r,o)=>{xe.swalCloseEventFinishedCallback=oT.bind(null,t,n,r,o);const a=function(u){if(u.target===e){var h;(h=xe.swalCloseEventFinishedCallback)===null||h===void 0||h.call(xe),delete xe.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},fE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=xe.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},jl=t=>{let e=lt();if(e||new ct,e=lt(),!e)return;const n=Zl();jf()?Fn(Yl()):LL(e,t),wn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},LL=(t,e)=>{const n=ku(),r=Zl();!n||!r||(!e&&cr(Bs())&&(e=Bs()),wn(n),e&&(Fn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),ut([t,n],Z.loading))},ML=(t,e)=>{e.input==="select"||e.input==="radio"?UL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(qy(e.inputValue)||Wy(e.inputValue))&&(jl(Bs()),BL(t,e))},jL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return VL(n);case"radio":return FL(n);case"file":return $L(n);default:return e.inputAutoTrim?n.value.trim():n.value}},VL=t=>t.checked?1:0,FL=t=>t.checked?t.value:null,$L=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,UL=(t,e)=>{const n=lt();if(!n)return;const r=o=>{e.input==="select"?zL(n,zh(o),e):e.input==="radio"&&HL(n,zh(o),e)};qy(e.inputOptions)||Wy(e.inputOptions)?(jl(Bs()),Su(e.inputOptions).then(o=>{t.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):Aa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},BL=(t,e)=>{const n=t.getInput();n&&(Fn(n),Su(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,wn(n),n.focus(),t.hideLoading()}).catch(r=>{Aa(`Error in inputValue promise: ${r}`),n.value="",wn(n),n.focus(),t.hideLoading()}))};function zL(t,e,n){const r=co(t,Z.select);if(!r)return;const o=(a,u,h)=>{const f=document.createElement("option");f.value=h,kr(f,u),f.selected=lT(h,n.inputValue),a.appendChild(f)};e.forEach(a=>{const u=a[0],h=a[1];if(Array.isArray(h)){const f=document.createElement("optgroup");f.label=u,f.disabled=!1,r.appendChild(f),h.forEach(m=>o(f,m[1],m[0]))}else o(r,h,u)}),r.focus()}function HL(t,e,n){const r=co(t,Z.radio);if(!r)return;e.forEach(a=>{const u=a[0],h=a[1],f=document.createElement("input"),m=document.createElement("label");f.type="radio",f.name=Z.radio,f.value=u,lT(u,n.inputValue)&&(f.checked=!0);const v=document.createElement("span");kr(v,h),v.className=Z.label,m.appendChild(f),m.appendChild(v),r.appendChild(m)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const zh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let o=n;typeof o=="object"&&(o=zh(o)),e.push([r,o])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=zh(r)),e.push([n,r])}),e},lT=(t,e)=>!!e&&e.toString()===t.toString(),qL=t=>{const e=Et.innerParams.get(t);t.disableButtons(),e.input?cT(t,"confirm"):sw(t,!0)},WL=t=>{const e=Et.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?cT(t,"deny"):rw(t,!1)},GL=(t,e)=>{t.disableButtons(),e(ec.cancel)},cT=(t,e)=>{const n=Et.innerParams.get(t);if(!n.input){Aa(`The "input" parameter is needed to be set when using returnInputValueOn${Hy(e)}`);return}const r=t.getInput(),o=jL(t,n);n.inputValidator?KL(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?rw(t,o):sw(t,o)},KL=(t,e,n)=>{const r=Et.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Su(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?rw(t,e):sw(t,e)})},rw=(t,e)=>{const n=Et.innerParams.get(t||void 0);n.showLoaderOnDeny&&jl(Na()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Su(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),Au(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>uT(t||void 0,o))):t.close({isDenied:!0,value:e})},pE=(t,e)=>{t.close({isConfirmed:!0,value:e})},uT=(t,e)=>{t.rejectPromise(e)},sw=(t,e)=>{const n=Et.innerParams.get(t||void 0);n.showLoaderOnConfirm&&jl(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Su(n.preConfirm(e,n.validationMessage))).then(o=>{cr(Lf())||o===!1?(t.hideLoading(),Au(t)):pE(t,typeof o>"u"?e:o)}).catch(o=>uT(t||void 0,o))):pE(t,e)};function Hh(){const t=Et.innerParams.get(this);if(!t)return;const e=Et.domCache.get(this);Fn(e.loader),jf()?t.icon&&wn(Yl()):QL(e),qr([e.popup,e.actions],Z.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const QL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?wn(e[0],"inline-block"):bO()&&Fn(t.actions)};function dT(){const t=Et.innerParams.get(this),e=Et.domCache.get(this);return e?Vf(e.popup,t.input):null}function hT(t,e,n){const r=Et.domCache.get(t);e.forEach(o=>{r[o].disabled=n})}function fT(t,e){const n=lt();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Z.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else t.disabled=e}function pT(){hT(this,["confirmButton","denyButton","cancelButton"],!1)}function mT(){hT(this,["confirmButton","denyButton","cancelButton"],!0)}function gT(){fT(this.getInput(),!1)}function yT(){fT(this.getInput(),!0)}function wT(t){const e=Et.domCache.get(this),n=Et.innerParams.get(this);kr(e.validationMessage,t),e.validationMessage.className=Z["validation-message"],n.customClass&&n.customClass.validationMessage&&ut(e.validationMessage,n.customClass.validationMessage),wn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Z["validation-message"]),HC(r),ut(r,Z.inputerror))}function vT(){const t=Et.domCache.get(this);t.validationMessage&&Fn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),qr(e,Z.inputerror))}const xl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},JL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],YL={allowEnterKey:void 0},XL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],_T=t=>Object.prototype.hasOwnProperty.call(xl,t),ET=t=>JL.indexOf(t)!==-1,bT=t=>YL[t],ZL=t=>{_T(t)||Wn(`Unknown parameter "${t}"`)},eM=t=>{XL.includes(t)&&Wn(`The parameter "${t}" is incompatible with toasts`)},tM=t=>{const e=bT(t);e&&$C(t,e)},CT=t=>{t.backdrop===!1&&t.allowOutsideClick&&Wn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Wn(`Invalid theme "${t.theme}"`);for(const e in t)ZL(e),t.toast&&eM(e),tM(e)};function TT(t){const e=Kn(),n=lt(),r=Et.innerParams.get(this);if(!n||wi(n,r.hideClass.popup)){Wn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=nM(t),a=Object.assign({},r,o);CT(a),e.dataset.swal2Theme=a.theme,eT(this,a),Et.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const nM=t=>{const e={};return Object.keys(t).forEach(n=>{ET(n)?e[n]=t[n]:Wn(`Invalid parameter to update: ${n}`)}),e};function IT(){const t=Et.domCache.get(this),e=Et.innerParams.get(this);if(!e){ST(this);return}t.popup&&xe.swalCloseEventFinishedCallback&&(xe.swalCloseEventFinishedCallback(),delete xe.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),xe.eventEmitter.emit("didDestroy"),rM(this)}const rM=t=>{ST(t),delete t.params,delete xe.keydownHandler,delete xe.keydownTarget,delete xe.currentInstance},ST=t=>{t.isAwaitingPromise?(Lm(Et,t),t.isAwaitingPromise=!0):(Lm(Ml,t),Lm(Et,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Lm=(t,e)=>{for(const n in t)t[n].delete(e)};var sM=Object.freeze({__proto__:null,_destroy:IT,close:uo,closeModal:uo,closePopup:uo,closeToast:uo,disableButtons:mT,disableInput:yT,disableLoading:Hh,enableButtons:pT,enableInput:gT,getInput:dT,handleAwaitingPromise:Au,hideLoading:Hh,rejectPromise:aT,resetValidationMessage:vT,showValidationMessage:wT,update:TT});const iM=(t,e,n)=>{t.toast?oM(t,e,n):(lM(e),cM(e),uM(t,e,n))},oM=(t,e,n)=>{e.popup.onclick=()=>{t&&(aM(t)||t.timer||t.input)||n(ec.close)}},aM=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let qh=!1;const lM=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(qh=!0)}}},cM=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(qh=!0)}}},uM=(t,e,n)=>{e.container.onclick=r=>{if(qh){qh=!1;return}r.target===e.container&&Of(t.allowOutsideClick)&&n(ec.backdrop)}},dM=t=>typeof t=="object"&&t.jquery,mE=t=>t instanceof Element||dM(t),hM=t=>{const e={};return typeof t[0]=="object"&&!mE(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const o=t[r];typeof o=="string"||mE(o)?e[n]=o:o!==void 0&&Aa(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function fM(...t){return new this(...t)}function pM(t){class e extends this{_main(r,o){return super._main(r,Object.assign({},t,o))}}return e}const mM=()=>xe.timeout&&xe.timeout.getTimerLeft(),xT=()=>{if(xe.timeout)return TO(),xe.timeout.stop()},kT=()=>{if(xe.timeout){const t=xe.timeout.start();return Zy(t),t}},gM=()=>{const t=xe.timeout;return t&&(t.running?xT():kT())},yM=t=>{if(xe.timeout){const e=xe.timeout.increase(t);return Zy(e,!0),e}},wM=()=>!!(xe.timeout&&xe.timeout.isRunning());let gE=!1;const Eg={};function vM(t="data-swal-template"){Eg[t]=this,gE||(document.body.addEventListener("click",_M),gE=!0)}const _M=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Eg){const r=e.getAttribute(n);if(r){Eg[n].fire({template:r});return}}};class EM{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...o)=>{this.removeListener(e,r),n.apply(this,o)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}xe.eventEmitter=new EM;const bM=(t,e)=>{xe.eventEmitter.on(t,e)},CM=(t,e)=>{xe.eventEmitter.once(t,e)},TM=(t,e)=>{if(!t){xe.eventEmitter.reset();return}e?xe.eventEmitter.removeListener(t,e):xe.eventEmitter.removeAllListeners(t)};var IM=Object.freeze({__proto__:null,argsToParams:hM,bindClickHandler:vM,clickCancel:hL,clickConfirm:tT,clickDeny:dL,enableLoading:jl,fire:fM,getActions:ku,getCancelButton:Xl,getCloseButton:Qy,getConfirmButton:Bs,getContainer:Kn,getDenyButton:Na,getFocusableElements:Jy,getFooter:zC,getHtmlContainer:Gy,getIcon:Yl,getIconContent:yO,getImage:BC,getInputLabel:wO,getLoader:Zl,getPopup:lt,getProgressSteps:Ky,getTimerLeft:mM,getTimerProgressBar:Mf,getTitle:UC,getValidationMessage:Lf,increaseTimer:yM,isDeprecatedParameter:bT,isLoading:_O,isTimerRunning:wM,isUpdatableParameter:ET,isValidParameter:_T,isVisible:uL,mixin:pM,off:TM,on:bM,once:CM,resumeTimer:kT,showLoading:jl,stopTimer:xT,toggleTimer:gM});class SM{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const RT=["swal-title","swal-html","swal-footer"],xM=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return LM(n),Object.assign(kM(n),RM(n),PM(n),AM(n),NM(n),DM(n),OM(n,RT))},kM=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{va(r,["name","value"]);const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(typeof xl[o]=="boolean"?e[o]=a!=="false":typeof xl[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},RM=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},PM=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{va(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${Hy(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},AM=t=>{const e={},n=t.querySelector("swal-image");return n&&(va(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},NM=t=>{const e={},n=t.querySelector("swal-icon");return n&&(va(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},DM=t=>{const e={},n=t.querySelector("swal-input");n&&(va(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{va(o,["value"]);const a=o.getAttribute("value");if(!a)return;const u=o.innerHTML;e.inputOptions[a]=u})),e},OM=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(va(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},LM=t=>{const e=RT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Wn(`Unrecognized element <${r}>`)})},va=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Wn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},PT=10,MM=t=>{const e=Kn(),n=lt();typeof t.willOpen=="function"&&t.willOpen(n),xe.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;FM(e,n,t),setTimeout(()=>{jM(e,n)},PT),Yy()&&(VM(e,t.scrollbarPadding,o),_L()),!jf()&&!xe.previousActiveElement&&(xe.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),xe.eventEmitter.emit("didOpen",n),qr(e,Z["no-transition"])},Wh=t=>{const e=lt();if(t.target!==e)return;const n=Kn();e.removeEventListener("animationend",Wh),e.removeEventListener("transitionend",Wh),n.style.overflowY="auto"},jM=(t,e)=>{WC(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Wh),e.addEventListener("transitionend",Wh)):t.style.overflowY="auto"},VM=(t,e,n)=>{EL(),e&&n!=="hidden"&&kL(n),setTimeout(()=>{t.scrollTop=0})},FM=(t,e,n)=>{ut(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),wn(e,"grid"),setTimeout(()=>{ut(e,n.showClass.popup),e.style.removeProperty("opacity")},PT)):wn(e,"grid"),ut([document.documentElement,document.body],Z.shown),n.heightAuto&&n.backdrop&&!n.toast&&ut([document.documentElement,document.body],Z["height-auto"])};var yE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function $M(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=yE.email),t.input==="url"&&(t.inputValidator=yE.url))}function UM(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Wn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function BM(t){$M(t),t.showLoaderOnConfirm&&!t.preConfirm&&Wn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),UM(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),NO(t)}let Ps;var Gd=new WeakMap;class Gt{constructor(...e){if(cO(this,Gd,void 0),typeof window>"u")return;Ps=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,uO(Gd,this,this._main(Ps.params))}_main(e,n={}){if(CT(Object.assign({},n,e)),xe.currentInstance){const a=Ml.swalPromiseResolve.get(xe.currentInstance),{isAwaitingPromise:u}=xe.currentInstance;xe.currentInstance._destroy(),u||a({isDismissed:!0}),Yy()&&sT()}xe.currentInstance=Ps;const r=HM(e,n);BM(r),Object.freeze(r),xe.timeout&&(xe.timeout.stop(),delete xe.timeout),clearTimeout(xe.restoreFocusTimeout);const o=qM(Ps);return eT(Ps,r),Et.innerParams.set(Ps,r),zM(Ps,o,r)}then(e){return aE(Gd,this).then(e)}finally(e){return aE(Gd,this).finally(e)}}const zM=(t,e,n)=>new Promise((r,o)=>{const a=u=>{t.close({isDismissed:!0,dismiss:u})};Ml.swalPromiseResolve.set(t,r),Ml.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{qL(t)},e.denyButton.onclick=()=>{WL(t)},e.cancelButton.onclick=()=>{GL(t,a)},e.closeButton.onclick=()=>{a(ec.close)},iM(n,e,a),fL(xe,n,a),ML(t,n),MM(n),WM(xe,n,a),GM(e,n),setTimeout(()=>{e.container.scrollTop=0})}),HM=(t,e)=>{const n=xM(t),r=Object.assign({},xl,e,n,t);return r.showClass=Object.assign({},xl.showClass,r.showClass),r.hideClass=Object.assign({},xl.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},qM=t=>{const e={popup:lt(),container:Kn(),actions:ku(),confirmButton:Bs(),denyButton:Na(),cancelButton:Xl(),loader:Zl(),closeButton:Qy(),validationMessage:Lf(),progressSteps:Ky()};return Et.domCache.set(t,e),e},WM=(t,e,n)=>{const r=Mf();Fn(r),e.timer&&(t.timeout=new SM(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(wn(r),Sr(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Zy(e.timer)})))},GM=(t,e)=>{if(!e.toast){if(!Of(e.allowEnterKey)){$C("allowEnterKey"),JM();return}KM(t)||QM(t,e)||_g(-1,1)}},KM=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&cr(n))return n.focus(),!0;return!1},QM=(t,e)=>e.focusDeny&&cr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&cr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&cr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,JM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Gt.prototype.disableButtons=mT;Gt.prototype.enableButtons=pT;Gt.prototype.getInput=dT;Gt.prototype.disableInput=yT;Gt.prototype.enableInput=gT;Gt.prototype.hideLoading=Hh;Gt.prototype.disableLoading=Hh;Gt.prototype.showValidationMessage=wT;Gt.prototype.resetValidationMessage=vT;Gt.prototype.close=uo;Gt.prototype.closePopup=uo;Gt.prototype.closeModal=uo;Gt.prototype.closeToast=uo;Gt.prototype.rejectPromise=aT;Gt.prototype.update=TT;Gt.prototype._destroy=IT;Object.assign(Gt,IM);Object.keys(sM).forEach(t=>{Gt[t]=function(...e){return Ps&&Ps[t]?Ps[t](...e):null}});Gt.DismissReason=ec;Gt.version="11.23.0";const ct=Gt;ct.default=ct;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Vl="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",nn="/Fantasy-Casadillos/SinPerfil.jpg",YM="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",XM="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",ZM="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",ej="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",Mc=ds(Gn),wE=ur(Gn),tj=new Ns,nj=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),[o,a]=T.useState(YM),u=Fy();T.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async v=>{v.preventDefault();const b=new FormData(v.currentTarget),C=b.get("email"),A=b.get("password");if(n)try{const{user:D}=await sR(Mc,C,A),j=b.get("nick");await Lb(Mc.currentUser,{displayName:j});const L={nick:j,correo:C,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await tE(gt(wE,"usuarios",D.uid),L,{merge:!0})}catch(D){console.error("Error registrando usuario:",D);let j="No se pudo crear la cuenta. Revisa los datos.";D.code==="auth/email-already-in-use"?j="Ya existe una cuenta con este correo.":D.code==="auth/weak-password"?j="La contraseña debe tener al menos 6 caracteres.":D.code==="auth/invalid-email"?j="El correo electrónico no es válido.":j=`Error desconocido: ${D.code}`,ct.fire({icon:"error",title:"Error",text:j})}else try{await iR(Mc,C,A),console.log("Inicio de sesión exitoso"),u("/home")}catch(D){console.error("Error iniciando sesión:",D);let j="Error al iniciar sesión.";(D.code==="auth/invalid-credential"||D.code==="auth/wrong-password"||D.code==="auth/user-not-found")&&(j="Correo o contraseña incorrectos."),ct.fire({icon:"error",title:"Error al iniciar sesión",text:j})}},f=async()=>{const{value:v}=await ct.fire({title:"Recuperar contraseña",input:"email",inputLabel:"Introduce tu correo electrónico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:b=>{if(!b)return"El correo es obligatorio"}});if(v)try{await Ob(Mc,v),ct.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(b){ct.fire("Error",b.message,"error")}},m=async()=>{try{const v=await NR(Mc,tj);if(!v?.user)throw new Error("No se obtuvo el usuario de Google.");const b=v.user,C=gt(wE,"usuarios",b.uid);(await Tr(C)).exists()||await tE(C,{nick:b.displayName||"",correo:b.email,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(v){if(v.code==="auth/popup-closed-by-user"||v.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",v),ct.fire({icon:"error",title:"Error",text:v.message||"No se pudo iniciar sesión con Google"})}};return w.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${Vl})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),w.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[w.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),w.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:w.jsx("label",{style:{cursor:"default",display:"inline-block"},children:w.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),w.jsxs("form",{onSubmit:h,children:[w.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&w.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),w.jsxs("div",{className:"cajaContainerContraseña",children:[w.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contraseña",className:"cajacontraseña",required:!0}),w.jsx("img",{src:t?ZM:ej,alt:"Mostrar contraseña",className:"toggle-password-icon",onClick:()=>e(v=>!v)})]}),!n&&w.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:w.jsx("button",{type:"button",onClick:f,className:"link-style",children:"¿Has olvidado la contraseña?"})}),n?w.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):w.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[w.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesión"}),w.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),w.jsxs("button",{type:"button",onClick:m,className:"btn-google",style:{width:"auto"},children:[w.jsx("img",{src:XM,alt:"Google"}),"Google"]})]})]}),w.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",w.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesión":"Regístrate"})]})]})]})},bg={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firebasestorage.googleapis.com",rj="storageBucket",sj=120*1e3,ij=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Hs{constructor(e,n,r=0){super(Mm(e),`Firebase Storage: ${n} (${Mm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zs||(zs={}));function Mm(t){return"storage/"+t}function oj(){const t="An unknown error occurred, please check the error payload for server response.";return new qs(zs.UNKNOWN,t)}function aj(){return new qs(zs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lj(){return new qs(zs.CANCELED,"User canceled the upload/download.")}function cj(t){return new qs(zs.INVALID_URL,"Invalid URL '"+t+"'.")}function uj(t){return new qs(zs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function vE(t){return new qs(zs.INVALID_ARGUMENT,t)}function NT(){return new qs(zs.APP_DELETED,"The Firebase app was deleted.")}function dj(t){return new qs(zs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=os.makeFromUrl(e,n)}catch{return new os(e,"")}if(r.path==="")return r;throw uj(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function m(ee){ee.path_=decodeURIComponent(ee.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",A=new RegExp(`^https?://${b}/${v}/b/${o}/o${C}`,"i"),D={bucket:1,path:3},j=n===AT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",K=new RegExp(`^https?://${j}/${o}/${L}`,"i"),Y=[{regex:h,indices:f,postModify:a},{regex:A,indices:D,postModify:m},{regex:K,indices:{bucket:1,path:2},postModify:m}];for(let ee=0;ee<Y.length;ee++){const de=Y[ee],se=de.regex.exec(e);if(se){const k=se[de.indices.bucket];let S=se[de.indices.path];S||(S=""),r=new os(k,S),de.postModify(r);break}}if(r==null)throw cj(e);return r}}class hj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t,e,n){let r=1,o=null,a=null,u=!1,h=0;function f(){return h===2}let m=!1;function v(...L){m||(m=!0,e.apply(null,L))}function b(L){o=setTimeout(()=>{o=null,t(A,f())},L)}function C(){a&&clearTimeout(a)}function A(L,...K){if(m){C();return}if(L){C(),v.call(null,L,...K);return}if(f()||u){C(),v.call(null,L,...K);return}r<64&&(r*=2);let Y;h===1?(h=2,Y=0):Y=(r+Math.random())*1e3,b(Y)}let D=!1;function j(L){D||(D=!0,C(),!m&&(o!==null?(L||(h=2),clearTimeout(o),b(0)):L||(h=1)))}return b(0),a=setTimeout(()=>{u=!0,j(!0)},n),j}function pj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){return t!==void 0}function _E(t,e,n,r){if(r<e)throw vE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw vE(`Invalid value for '${t}'. Expected ${n} or less.`)}function gj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Gh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gh||(Gh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n,r,o,a,u,h,f,m,v,b,C=!0,A=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=b,this.retry=C,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,j)=>{this.resolve_=D,this.reject_=j,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Kd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===Gh.NO_ERROR,f=a.getStatus();if(!h||yj(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Gh.ABORT;r(!1,new Kd(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Kd(m,a))})},n=(r,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());mj(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=oj();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(o.canceled){const f=this.appDelete_?NT():lj();u(f)}else{const f=aj();u(f)}};this.canceled_?n(!1,new Kd(!1,null,!0)):this.backoffId_=fj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function vj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _j(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ej(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Cj(t,e,n,r,o,a,u=!0,h=!1){const f=gj(t.urlParams),m=t.url+f,v=Object.assign({},t.headers);return Ej(v,e),vj(v,n),_j(v,a),bj(v,r),new wj(m,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Ij(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this._service=e,n instanceof os?this._location=n:this._location=os.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kh(e,n)}get root(){const e=new os(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ij(this._location.path)}get storage(){return this._service}get parent(){const e=Tj(this._location.path);if(e===null)return null;const n=new os(this._location.bucket,e);return new Kh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw dj(e)}}function EE(t,e){const n=e?.[rj];return n==null?null:os.makeFromBucketSpec(n,t)}function Sj(t,e,n,r={}){t.host=`${e}:${n}`;const o=ba(e);o&&(Dg(`https://${t.host}/b`),Og("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:sb(a,t.app.options.projectId))}class xj{constructor(e,n,r,o,a,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=AT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sj,this._maxUploadRetryTime=ij,this._requests=new Set,o!=null?this._bucket=os.makeFromBucketSpec(o,this._host):this._bucket=EE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=os.makeFromBucketSpec(this._url,e):this._bucket=EE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kh(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new hj(NT());{const u=Cj(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const bE="@firebase/storage",CE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="storage";function Nu(t=jg(),e){t=xt(t);const r=rf(t,DT).getImmediate({identifier:e}),o=tb("storage");return o&&kj(r,...o),r}function kj(t,e,n,r={}){Sj(t,e,n,r)}function Rj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new xj(n,r,o,e,Ca)}function Pj(){fa(new yo(DT,Rj,"PUBLIC").setMultipleInstances(!0)),Ds(bE,CE,""),Ds(bE,CE,"esm2020")}Pj();function cu({usuario:t,openModal:e,setOpenModal:n}){const r=ds(),o=ur();Nu();const a=t?.fotoPerfil||nn,[u,h]=T.useState(!1),[f,m]=T.useState(!1),[v,b]=T.useState(a),[C,A]=T.useState(null),[D,j]=T.useState(t.nick),[L,K]=T.useState(t.correo),[q,Y]=T.useState(""),[ee,de]=T.useState(!1),[se,k]=T.useState(""),[S,P]=T.useState(""),x=T.useRef();T.useEffect(()=>{e&&(b(t.fotoPerfil),A(null),j(t.nick),K(t.correo),Y(""),k(t.nick),P(t.correo))},[e,t]),T.useEffect(()=>{const W=D!==se||L!==S||q.length>0||C!==null;m(W)},[D,L,q,C,se,S]);const M=async()=>{const W=r.currentUser?.email;if(!W){ct.fire("Error","No se encontró un correo asociado al usuario","error");return}try{await Ob(r,W),await ct.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(B){ct.fire("Error",B.message,"error")}},$=W=>W.toLocaleString("es-ES")+"€",R=W=>{W.target===x.current&&n(!1)},Le=W=>{const B=W.target.files[0];if(!B)return;A(B);const Q=new FileReader;Q.onloadend=()=>b(Q.result),Q.readAsDataURL(B)},Me=async()=>{try{de(!0);const W=r.currentUser;let B=t.fotoPerfil;if(C){if(C.size>1*1024*1024){await ct.fire({icon:"error",title:"Error",text:"La imagen es demasiado grande (máx. 1 MB)."});return}const O=new FormData;O.append("file",C),O.append("upload_preset","perfil_preset");const fe=await(await fetch("https://api.cloudinary.com/v1_1/drmoefeeq/image/upload",{method:"POST",body:O})).json();if(fe.secure_url)B=fe.secure_url;else{ct.fire({icon:"error",title:"Error",text:"Error subiendo a Cloudinary"});return}}D!==t.nick&&await Lb(W,{displayName:D}),q&&await aR(W,q);const Q=gt(o,"usuarios",W.uid);await Mn(Q,{fotoPerfil:B,nick:D}),await ct.fire("Datos actualizados","Se han guardado sus modificaciones correctamente.","success")}catch(W){console.error("Error guardando perfil:",W),alert("No se pudo guardar los cambios: "+W.message)}finally{de(!1),window.location.reload()}},We=async()=>{const W=r.currentUser;if(!W)throw new Error("No hay usuario autenticado.");const B=W.uid;if(W.providerData[0].providerId==="password"){const{value:le}=await ct.fire({title:"Confirma tu contraseña",input:"password",inputLabel:"Introduce tu contraseña para continuar",inputPlaceholder:"Tu contraseña",inputAttributes:{autocapitalize:"off",autocorrect:"off"},showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"});if(!le)throw new Error("Se canceló la reautenticación");const fe=Ta.credential(W.email,le);await rR(W,fe)}else if(W.providerData[0].providerId==="google.com"){const le=new Ns;await DR(W,le)}else throw new Error("Proveedor no soportado para reautenticación.");const Q=Rf($s(o,"jugadores"),Af("dueños","array-contains",B)),U=(await Us(Q)).docs.map(async le=>{const fe=le.ref;await Mn(fe,{stockLibre:au(1),dueños:Ly(B)})});await Promise.all(U);const oe=gt(o,"usuarios",B);await _C(oe),await hR(W)},ke=async()=>{if((await ct.fire({title:"¿Estás seguro?",text:"Esta acción eliminará tu cuenta permanentemente. No podrás deshacerlo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, borrar cuenta",cancelButtonText:"Cancelar"})).isConfirmed)try{de(!0),await We(),await ct.fire("Cuenta eliminada","Tu cuenta ha sido borrada exitosamente.","success")}catch(B){console.error("Error al borrar la cuenta:",B),ct.fire("Error","No se pudo borrar la cuenta: "+B.message,"error")}finally{de(!1)}};return e?w.jsx("div",{className:"modal-overlay",ref:x,onClick:R,children:w.jsxs("div",{className:"modal-perfil",children:[w.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),w.jsxs("div",{className:"modal-header",children:[w.jsxs("label",{className:"modal-avatar",children:[w.jsx("img",{src:v,alt:"Perfil"}),w.jsx("input",{type:"file",accept:"image/*",onChange:Le}),w.jsx("span",{className:"modal-avatar-overlay",children:"Editar"})]}),w.jsxs("div",{className:"modal-userinfo",children:[w.jsx("h2",{children:t.nick}),w.jsx("small",{children:t.correo}),w.jsxs("small",{children:["Dinero: ",w.jsx("span",{className:"dinero-verde",children:$(t.dinero)})]}),w.jsx("div",{className:"ultimas-jornadas",children:t.puntuaciones&&t.puntuaciones.length>0?t.puntuaciones.slice(-5).map((W,B,Q)=>{const O=W??"-",U=Q.length<5?B+1:t.puntuaciones.length-5+B+1;let oe="";return typeof W=="number"&&(W>=36?oe="verde":W<28?oe="rojo":oe="naranja"),w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",U]}),w.jsx("div",{className:`jornada-cuadro ${oe}`,children:O})]},B)}):[...Array(5)].map((W,B)=>w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",B+1]}),w.jsx("div",{className:"jornada-cuadro",children:"-"})]},B))})]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"modal-body",children:[w.jsxs("div",{className:"field-group",children:[w.jsxs("label",{children:["Nick ",w.jsx("small",{children:"(Recomendado máximo 12 caracteres)"})]}),w.jsxs("div",{className:"field-with-icon",children:[w.jsx("input",{type:"text",value:D,onChange:W=>j(W.target.value),disabled:!u}),w.jsx("button",{className:"icon-pencil",onClick:()=>h(!u),title:"Editar nick",children:"✎"})]})]}),w.jsx("div",{style:{textAlign:"left"},children:w.jsx("button",{type:"button",onClick:M,className:"link-style",children:"Cambiar contraseña"})})]}),w.jsxs("div",{className:"modal-footer",children:[f&&w.jsx("button",{className:"modal-save-btn",onClick:Me,disabled:ee,children:ee?"Guardando…":"Guardar cambios"}),w.jsx("button",{className:"modal-delete-btn",onClick:ke,disabled:ee,children:"Borrar cuenta"})]})]})}):null}function Aj({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,user:o}){ds();const a=ur();Nu();const u=t?.foto||nn,[h,f]=T.useState(null),m=D=>{switch(D){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return D||"Sin posición"}},v=T.useRef();T.useEffect(()=>{(async()=>{if(!o)return;const j=gt(a,"usuarios",o.uid),L=await Tr(j);if(L.exists()){const K=L.data();f(K.equipo?.capitan||null)}})()},[o,a,n]);const b=async D=>{try{const j=gt(a,"usuarios",o.uid);await Mn(j,{"equipo.capitan":D}),f(D),await ct.fire({icon:"success",title:"¡Capitán asignado!",text:`${t.nombre} ahora es tu capitán.`,confirmButtonColor:"#28a745"})}catch(j){console.error("Error al asignar capitán:",j),ct.fire({icon:"error",title:"Error",text:"No se pudo asignar el capitán, inténtalo de nuevo."})}finally{window.location.reload()}},C=D=>{D.target===v.current&&r(!1)},A=D=>D.toLocaleString("es-ES")+"€";return n?w.jsx("div",{className:"modal-overlay",ref:v,onClick:C,children:w.jsxs("div",{className:"modal-perfil",children:[w.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),w.jsxs("div",{className:"modal-header",children:[w.jsx("label",{className:"modal-avatar",children:w.jsx("img",{src:u,alt:"Jugador"})}),w.jsxs("div",{className:"modal-jugadorinfo",children:[w.jsx("h2",{children:t.nombre}),w.jsxs("div",{className:"posicion-precio",children:[w.jsx("div",{className:`posicion-texto ${t.posicion}`,children:w.jsx("small",{children:m(t.posicion)})}),w.jsxs("div",{className:"precio-container",children:[w.jsx("div",{className:"precio",children:w.jsxs("small",{children:[w.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",A(t.precio)]})}),w.jsx("div",{className:"diferencia-precio",children:(()=>{const D=t.historialPrecios||[];if(D.length===0)return w.jsx("small",{children:"(±0€)"});const j=D[D.length-1].precio||0,L=t.precio-j,K=L>0?"+":L<0?"-":"±";return w.jsxs("small",{className:L>0?"subida":L<0?"bajada":"igual",children:["(",K,A(Math.abs(L)),")"]})})()})]}),w.jsx("div",{className:"precio-clausula",children:w.jsxs("small",{children:[w.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",A(e)]})})]}),w.jsx("div",{className:"estadisticas-extra",children:w.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((D,j,L)=>{const K=D??"-",q=L.length<5?j+1:t.puntosPorJornada.length-5+j+1;let Y="";return typeof D=="number"&&(D>=9?Y="verde":D<7?Y="rojo":Y="naranja"),w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",q]}),w.jsx("div",{className:`jornada-cuadro ${Y}`,children:K})]},j)}):[...Array(5)].map((D,j)=>w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",j+1]}),w.jsx("div",{className:"jornada-cuadro",children:"-"})]},j))})})]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"modal-jugadorbody",children:[w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.valoracion}),w.jsx("small",{children:"Valoración"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.nota}),w.jsx("small",{children:"Nota Media"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.puntosTotales}),w.jsx("small",{children:"Puntos"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.partidos}),w.jsx("small",{children:"Partidos"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.goles}),w.jsx("small",{children:"Goles"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.asistencias}),w.jsx("small",{children:"Asistencias"})]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"modal-footer",children:[w.jsx("button",{className:"btn-accion",disabled:t.stock<=0,onClick:()=>{const D=t.precio*.6;ct.fire({title:"¿Cómo quieres vender?",showDenyButton:!0,confirmButtonText:"💰 Poner en el Mercado",denyButtonText:`Venta Directa
(<span style="color:#2ecc71">+${D.toLocaleString("es-ES")}€</span>)`,confirmButtonColor:"#28a745",denyButtonColor:"#4878a4ff",background:"#1e1e1e",color:"#fff"}).then(j=>{j.isConfirmed?console.log("Venta en mercado"):j.isDenied&&console.log("Venta directa por",D)})},children:"Vender"}),w.jsx("button",{className:"btn-capitan",disabled:h===t.id,onClick:()=>b(t.id),children:h===t.id?"Ya es capitán":"Nombrar capitán"})]})]})}):null}const oo=ur(Gn),Nj=async()=>{try{const t=gt(oo,"mercado","actual"),e=await Tr(t);if(e.exists()){const f=e.data();for(const m of f.jugadores)if(m.stock>0){const v=gt(oo,"jugadores",m.idJugador);await Mn(v,{stockLibre:au(m.stock),dueños:Ly("mercado")})}}const o=(await Us($s(oo,"jugadores"))).docs.map(f=>({idJugador:f.id,...f.data()})).filter(f=>f.stockLibre>0).sort(()=>.5-Math.random()).slice(0,15);for(const f of o){const m=gt(oo,"jugadores",f.idJugador);await Mn(m,{stockLibre:au(-1),dueños:bC("mercado")})}await Mn(t,{jugadores:o.map(f=>({idJugador:f.idJugador,nombre:f.nombre,precio:f.precio,precioClausula:f.precioClausula,goles:f.goles,asistencias:f.asistencias,valoracion:f.valoracion,nota:f.nota,puntos:f.puntosTotales,partidos:f.partidos,foto:f.foto,posicion:f.posicion,vendedor:"Fantasy Casadillos",stock:1,historialPrecios:f.historialPrecios||[],puntosPorJornada:f.puntosPorJornada||[]})),ultimaActualizacion:LN()});const a=$s(oo,"mercado/actual/usuarios"),h=(await Us(a)).docs.map(f=>({idVenta:f.id,...f.data(),vendedor:f.data().vendedorNick||"Usuario"}));return[...o,...h]}catch(t){throw console.error("Error al refrescar mercado:",t),t}},Dj=async()=>{try{const t=gt(oo,"mercado","actual"),e=await Tr(t);if(!e.exists())return;const n=e.data();for(const a of n.jugadores||[])if(a.vendedor==="Fantasy Casadillos"){const u=gt(oo,"jugadores",a.idJugador);await Mn(u,{stockLibre:au(a.stock||1),dueños:Ly("mercado")})}const r=$s(oo,"mercado/actual/usuarios"),o=await Us(r);for(const a of o.docs)await _C(a.ref);return await Mn(t,{jugadores:[],ultimaActualizacion:null}),!0}catch(t){throw console.error("Error al resetear mercado:",t),t}};function Qh({user:t,openModal:e,setOpenModal:n}){ds(),ur(),Nu();const r=T.useRef(),[o,a]=T.useState(!1),[u,h]=T.useState(!1),f=m=>{m.target===r.current&&n(!1)};return e?w.jsx("div",{className:"modal-overlay",ref:r,onClick:f,children:w.jsxs("div",{className:"modal-perfil",children:[w.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),w.jsxs("div",{className:"modal-footer-grid",children:[w.jsx("button",{type:"button",className:"modal-admin-btn",disabled:o,onClick:async()=>{a(!0);try{await Nj(),(await ct.fire({title:"Mercado actualizado",text:"Se ha refrescado el mercado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch(m){console.error(m),await ct.fire({title:"Error",text:"No se pudo actualizar el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{a(!1)}},children:o?"⏳ Cargando...":"🔄 Actualizar mercado"}),w.jsx("button",{type:"button",className:"modal-admin-btn",disabled:u,onClick:async()=>{h(!0);try{await Dj(),(await ct.fire({title:"Éxito",text:"El mercado se ha reseteado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch{await ct.fire({title:"Error",text:"No se pudo resetear el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{h(!1)}},children:u?"⏳ Reseteando...":"♻️ Resetear mercado"}),w.jsx("button",{type:"button",className:"modal-admin-btn",onClick:()=>ct.fire("Aviso","Funcionalidad aún no implementada","info"),children:"📊 Repartir puntos"}),w.jsx("button",{type:"button",className:"modal-admin-btn",onClick:()=>ct.fire("Aviso","Funcionalidad aún no implementada","info"),children:"⏱️ Empezar jornada"})]})]})}):null}const na=ur(Gn),TE=ds(Gn),Oj={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function IE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=Oj[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function Lj({usuario:t}){const[e,n]=T.useState(!1),[r,o]=T.useState(null),[a,u]=T.useState(!1),h=t?.fotoPerfil||nn,f=t?.equipo?.titulares||[],m=t?.equipo?.banquillo||[],[v,b]=T.useState(f),[C,A]=T.useState(m),[D,j]=T.useState([]),[L,K]=T.useState(null),q=t?.equipo?.capitan||"",Y=Object.keys(bg),[ee,de]=T.useState(t?.equipo?.formacion||"2-1-1"),[se,k]=T.useState(ee),[S,P]=T.useState(!1),[x,M]=T.useState(!1),[$,R]=T.useState(t?.equipocreado),[Le,Me]=T.useState(!1),[We,ke]=T.useState(!1),[W,B]=T.useState(!1),[Q,O]=T.useState(!1),U=T.useRef(null),oe=()=>af(TE),[le,fe]=T.useState(!1),[_e,je]=T.useState(null),$e=()=>{fe(!le),je(null)},Ue=(De,Ne,it)=>{if(le)if(it==="titulares"?[...v]:[...C],!_e)je({jugadorId:De,index:Ne,tipo:it});else{const{index:be,tipo:Je}=_e,nt=Je==="titulares"?v[be]:C[be],Be=it==="titulares"?v[Ne]:C[Ne];if(nt===null&&Be===null){je(null);return}if(Je==="titulares"&&it==="titulares"){const et=[...v];[et[be],et[Ne]]=[et[Ne],et[be]],b(et)}else if(Je==="banquillo"&&it==="banquillo"){const et=[...C];[et[be],et[Ne]]=[et[Ne],et[be]],A(et)}else{const et=[...v],He=[...C];Je==="titulares"?[et[be],He[Ne]]=[He[Ne],et[be]]:[He[be],et[Ne]]=[et[Ne],He[be]],b(et),A(He)}M(!0),je(null)}};T.useEffect(()=>{const De=Ne=>{U.current&&!U.current.contains(Ne.target)&&O(!1)};return document.addEventListener("mousedown",De),()=>{document.removeEventListener("mousedown",De)}},[]);const pt=De=>{k(De.target.value)},bt=async()=>{try{P(!0);const De=gt(na,"usuarios",t.uid);await Mn(De,{"equipo.formacion":se,"equipo.titulares":v,"equipo.banquillo":C}),de(se),M(!1)}catch(De){console.error("Error al guardar formación:",De)}finally{P(!1),fe(!1)}},wt=()=>{u(!a)},xn=De=>De.toLocaleString("es-ES")+"€",Qn=async()=>{try{P(!0);const De=await Us($s(na,"jugadores"));let Ne=[];if(De.forEach(He=>{const kt=He.data();kt.stockLibre>0&&Ne.push({id:He.id,...kt})}),Ne.length<4){await ct.fire({icon:"warning",title:"No hay suficientes jugadores disponibles",text:"Se necesitan al menos 4 jugadores con stock para crear un equipo.",confirmButtonText:"Entendido"}),P(!1);return}const it=Ne.filter(He=>He.precio>15e6&&He.precio<=4e7),be=Ne.filter(He=>He.precio<=15e6);let Je=[],nt=0;if(it.length>=1&&be.length>=3){const He=Math.floor(Math.random()*it.length);Je.push(it[He]);for(let kt=0;kt<3;kt++){const dr=Math.floor(Math.random()*be.length);Je.push(be[dr]),be.splice(dr,1)}}else{const He=Ne.filter(kt=>kt.precio<=4e7);if(He.length<4){await ct.fire({icon:"error",title:"No hay jugadores válidos",text:"No hay suficiente stock para crear un equipo bajo las condiciones establecidas.",confirmButtonText:"Ok"}),P(!1);return}for(let kt=0;kt<4;kt++){const dr=Math.floor(Math.random()*He.length);Je.push(He[dr]),He.splice(dr,1)}Je.every(kt=>kt.precio<15e6)&&(nt=1e7)}const Be=Je.map(async He=>{const kt=gt(na,"jugadores",He.id);return Mn(kt,{stockLibre:He.stockLibre-1,dueños:bC(t.uid)})});await Promise.all(Be);const et=gt(na,"usuarios",t.uid);await Mn(et,{"equipo.titulares":Je.map(He=>({jugadorId:He.id,clausulaPersonal:He.clausulaInicial??He.precio})),"equipo.banquillo":[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],equipocreado:!0,...nt>0&&{dinero:increment(nt)}}),R(!0)}catch(De){console.error("Error al crear equipo:",De),await ct.fire({icon:"error",title:"Error al crear el equipo",text:"Inténtalo de nuevo más tarde."})}finally{P(!1),window.location.reload()}};return T.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const Ne=setTimeout(async()=>{try{const it=gt(na,"usuarios",TE.currentUser.uid);await Mn(it,{onboarding:!0}),window.location.reload()}catch(it){console.error("Error actualizando onboarding:",it)}},500);return()=>clearTimeout(Ne)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const Ne=gt(na,"usuarios",t.uid);Tr(Ne).then(it=>{it.exists()&&o(it.data().dinero)})}(async()=>{const Ne=[...f?.map(Be=>Be?.jugadorId)||[],...m?.map(Be=>Be?.jugadorId)||[]].filter(Boolean);if(Ne.length===0)return;const it=$s(na,"jugadores"),be=[];for(let Be=0;Be<Ne.length;Be+=10){const et=Ne.slice(Be,Be+10),He=Rf(it,Af("__name__","in",et));be.push(Us(He))}const nt=(await Promise.all(be)).flatMap(Be=>Be.docs.map(et=>({id:et.id,...et.data()})));j(nt)})()},[t],[f,m]),$?w.jsxs("div",{children:[w.jsxs("header",{className:"Cabecera",children:[w.jsxs("div",{className:"container-profile",children:[w.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[w.jsx("img",{src:h,onError:De=>{De.currentTarget.onerror=null,De.currentTarget.src=nn},alt:"Foto de perfil",onClick:()=>O(!Q),onMouseEnter:()=>O(!0)}),Q&&w.jsxs("div",{className:"perfil-bocadillo",ref:U,onMouseLeave:()=>O(!1),children:[w.jsx("div",{className:"triangulo"}),w.jsx("button",{className:"btn-perfil",onClick:()=>{Me(!0),O(!1)},children:"👤 Perfil"}),w.jsx("button",{className:"btn-logout",onClick:oe,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&w.jsx("button",{className:"btn-admin",onClick:()=>{B(!0),O(!1)},children:"⚙️ Admin"})]})]}),w.jsxs("div",{className:"info-profile",children:[w.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&w.jsxs("p",{className:"dinero-usuario",children:["💰",w.jsx("strong",{children:xn(r)})]})]})]}),w.jsx("button",{onClick:wt,className:"Cabecera-button",children:w.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:w.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),w.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:w.jsxs("ul",{className:"Cabecera-ul",children:[w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),w.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Vl})`},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Le&&w.jsx(cu,{usuario:t,openModal:Le,setOpenModal:Me}),W&&w.jsx(Qh,{usuario:t,openModal:W,setOpenModal:B}),We&&L&&w.jsx(Aj,{jugador:L,clausulaPersonal:t?.equipo?.titulares?.find(De=>De.jugadorId===L.id)?.clausulaPersonal??t?.equipo?.banquillo?.find(De=>De.jugadorId===L.id)?.clausulaPersonal,openModal:We,setOpenModal:ke,user:t}),w.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[w.jsxs("div",{className:"formacion-selector",children:[w.jsx("label",{htmlFor:"formacion-select",children:"Formación:"}),w.jsx("select",{id:"formacion-select",value:se,onChange:pt,children:Y.map(De=>w.jsx("option",{value:De,children:De},De))}),(se!==ee||x)&&w.jsx("button",{onClick:bt,disabled:S,children:S?"Guardando...":"Guardar"})]}),w.jsx("div",{className:"modo-edicion-buttons",children:w.jsx("button",{onClick:$e,children:le?"Desactivar modo edición":"Activar modo edición"})}),w.jsx("div",{className:"campo",children:bg[se]?.map((De,Ne)=>{const it=v[Ne],be=it?.jugadorId||null;it?.clausulaPersonal;const Je=D.find(Be=>Be.id===be),nt=_e?.index===Ne&&_e?.tipo==="titulares";return w.jsxs("div",{className:`jugador ${le?"modo-edicion":""} ${nt?"seleccionado":""}`,style:{position:"absolute",top:De.top,left:De.left,transform:"translate(-50%, -50%)"},onClick:()=>{le?Ue(Je?.id||null,Ne,"titulares"):Je&&(ke(!0),K(Je))},children:[w.jsxs("div",{className:"jugador-wrapper",children:[w.jsx("img",{src:Je?.foto||nn,alt:Je?.nombre||"Vacío",className:"jugador-img",style:IE(Je,Ne,se).style}),(()=>{const{status:Be}=IE(Je,Ne,se);if(!Be)return null;if(Be==="green")return w.jsx("div",{className:"status-badge green",children:"✓"});if(Be==="orange")return w.jsx("div",{className:"status-badge orange",children:"!"});if(Be==="red")return w.jsx("div",{className:"status-badge red",children:"✕"})})(),q===Je?.id&&w.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!Je?.puntosPorJornada?.length)return w.jsx("div",{className:"puntos-badge gray",children:"-"});const Be=Je.puntosPorJornada[Je.puntosPorJornada.length-1];if(Be==null)return null;let et=Be==="-"?"gray":Be<7?"red":Be<9?"orange":"green";return w.jsx("div",{className:`puntos-badge ${et}`,children:Be})})()]}),w.jsx("p",{className:"jugador-nombre",children:Je?.nombre||"Vacío"})]},Je?.id||Ne)})}),w.jsxs("div",{className:"banquillo-section",children:[w.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),w.jsx("div",{className:"banquillo-container",children:C.map((De,Ne)=>{const it=De?.jugadorId||null,be=D.find(nt=>nt.id===it),Je=_e?.index===Ne&&_e?.tipo==="banquillo";return w.jsx("div",{className:`banquillo-slot ${le?"modo-edicion":""} ${Je?"seleccionado":""}`,onClick:()=>{le?Ue(be?.id||null,Ne,"banquillo"):be&&(ke(!0),K(be))},children:be?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"jugador-wrapper",children:[w.jsx("img",{src:be?.foto||nn,alt:be?.nombre||"Vacío",className:"jugador-img"}),q===be?.id&&w.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!be?.puntosPorJornada?.length)return w.jsx("div",{className:"puntos-badge gray",children:"-"});const nt=be.puntosPorJornada[be.puntosPorJornada.length-1];if(nt==null)return null;let Be=nt==="-"?"gray":nt<7?"red":nt<9?"orange":"green";return w.jsx("div",{className:`puntos-badge ${Be}`,children:nt})})()]}),w.jsx("p",{className:"jugador-nombre-banquillo",children:be?.nombre})]}):w.jsx(Zt,{to:le?"#":"/mercado",className:`banquillo-add ${le?"disabled":""}`,onClick:nt=>{le&&nt.preventDefault()},children:"+"})},be?.id||Ne)})})]})]})]}),e&&w.jsx("div",{className:"onboarding-overlay",children:w.jsx("div",{className:"loader",children:"Cargando..."})})]}):w.jsxs("div",{children:[w.jsxs("header",{className:"Cabecera",children:[w.jsxs("div",{className:"container-profile",children:[w.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[w.jsx("img",{src:h,onError:De=>{De.currentTarget.onerror=null,De.currentTarget.src=nn},alt:"Foto de perfil",onClick:()=>O(!Q),onMouseEnter:()=>O(!0)}),Q&&w.jsxs("div",{className:"perfil-bocadillo",ref:U,onMouseLeave:()=>O(!1),children:[w.jsx("div",{className:"triangulo"}),w.jsx("button",{className:"btn-perfil",onClick:()=>{Me(!0),O(!1)},children:"👤 Perfil"}),w.jsx("button",{className:"btn-logout",onClick:oe,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&w.jsx("button",{className:"btn-admin",onClick:()=>{B(!0),O(!1)},children:"⚙️ Admin"})]})]}),w.jsxs("div",{className:"info-profile",children:[w.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&w.jsxs("p",{className:"dinero-usuario",children:["💰",w.jsx("strong",{children:xn(r)})]})]})]}),w.jsx("button",{onClick:wt,className:"Cabecera-button",children:w.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:w.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),w.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:w.jsxs("ul",{className:"Cabecera-ul",children:[w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),w.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Vl})`},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Le&&w.jsx(cu,{usuario:t,openModal:Le,setOpenModal:Me}),W&&w.jsx(Qh,{usuario:t,openModal:W,setOpenModal:B}),w.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:w.jsx("div",{className:"campo",children:w.jsx("button",{className:"crear-equipo-btn",onClick:Qn,disabled:S,children:S?"Creando equipo...":"Crear equipo"})})})]}),e&&w.jsx("div",{className:"onboarding-overlay",children:w.jsx("div",{className:"loader",children:"Cargando..."})})]})}function Mj({jugador:t,openModal:e,setOpenModal:n}){ds(),ur(),Nu();const r=t?.foto||nn,o=f=>{switch(f){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return f||"Sin posición"}},a=T.useRef(),u=f=>{f.target===a.current&&n(!1)},h=f=>typeof f!="number"||isNaN(f)?"—":f.toLocaleString("es-ES")+"€";return e?(console.log("DEBUG jugador en modal:",t),w.jsx("div",{className:"modal-overlay",ref:a,onClick:u,children:w.jsxs("div",{className:"modal-perfil",children:[w.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),w.jsxs("div",{className:"modal-header",children:[w.jsx("label",{className:"modal-avatar",children:w.jsx("img",{src:r,alt:"Jugador"})}),w.jsxs("div",{className:"modal-jugadorinfo",children:[w.jsx("h2",{children:t.nombre}),w.jsxs("div",{className:"posicion-precio",children:[w.jsx("div",{className:`posicion-texto ${t.posicion}`,children:w.jsx("small",{children:o(t.posicion)})}),w.jsxs("div",{className:"precio-container",children:[w.jsx("div",{className:"precio",children:w.jsxs("small",{children:[w.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",h(t.precio)]})}),w.jsx("div",{className:"diferencia-precio",children:(()=>{const f=t.historialPrecios||[];if(f.length===0)return w.jsx("small",{children:"(±0€)"});const m=f[f.length-1].precio||0,v=t.precio-m,b=v>0?"+":v<0?"-":"±";return w.jsxs("small",{className:v>0?"subida":v<0?"bajada":"igual",children:["(",b,h(Math.abs(v)),")"]})})()})]}),w.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",w.jsx("span",{className:"vendedor",children:t?.vendedor})]})]}),w.jsx("div",{className:"estadisticas-extra",children:w.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((f,m,v)=>{const b=f??"-",C=v.length<5?m+1:t.puntosPorJornada.length-5+m+1;let A="";return typeof f=="number"&&(f>=9?A="verde":f<7?A="rojo":A="naranja"),w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",C]}),w.jsx("div",{className:`jornada-cuadro ${A}`,children:b})]},m)}):[...Array(5)].map((f,m)=>w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",m+1]}),w.jsx("div",{className:"jornada-cuadro",children:"-"})]},m))})})]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"modal-jugadorbody",children:[w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.valoracion}),w.jsx("small",{children:"Valoración"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.nota}),w.jsx("small",{children:"Nota Media"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.puntosTotales}),w.jsx("small",{children:"Puntos"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.partidos}),w.jsx("small",{children:"Partidos"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.goles}),w.jsx("small",{children:"Goles"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.asistencias}),w.jsx("small",{children:"Asistencias"})]})]})]})})):null}const di=ur(Gn),jm=ds(Gn);function jj({usuario:t}){const[e,n]=T.useState(!1),[r,o]=T.useState(null),[a,u]=T.useState(!1),h=t?.fotoPerfil||nn,f=t?.equipo?.titulares||[],[m,v]=T.useState(!1);t?.equipo?.banquillo;const[b,C]=T.useState([]),[A,D]=T.useState([]),[j,L]=T.useState(!1),[K,q]=T.useState(!1),[Y,ee]=T.useState(!1),[de,se]=T.useState(!1),[k,S]=T.useState(null),[P,x]=T.useState(!1),M=T.useRef(null),[$,R]=T.useState("mercado"),Le=()=>af(jm);T.useEffect(()=>{const B=Q=>{M.current&&!M.current.contains(Q.target)&&x(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]),T.useEffect(()=>{(async()=>{const Q=gt(di,"mercado","actual"),O=await Tr(Q);if(O.exists()){const oe=(O.data().jugadores||[]).map(le=>({...le,vendedor:le.vendedor||"Fantasy Casadillos"}));C(oe)}else C([])})()},[]),T.useEffect(()=>{(async()=>{const Q=gt(di,"mercado","actual"),O=await Tr(Q);let U=[];O.exists()&&(U=O.data().jugadores||[]);const oe=$s(di,"mercado/actual/usuarios"),fe=(await Us(oe)).docs.map(_e=>({idVenta:_e.id,..._e.data(),vendedor:_e.data().vendedorNick||"Usuario"}));C([...U,...fe])})()},[]),T.useEffect(()=>{(async()=>{if(!f||f.length===0)return;const Q=$s(di,"jugadores"),O=Rf(Q,Af("__name__","in",f)),oe=(await Us(O)).docs.map(le=>({id:le.id,...le.data()}));D(oe)})()},[f]),T.useEffect(()=>{const B=ur(Gn),Q=gt(B,"mercado","actual"),O=ON(Q,U=>{if(U.exists()){const le=(U.data().jugadores||[]).map(fe=>({...fe,vendedor:fe.vendedor||"Fantasy Casadillos"}));C(le)}else C([])});return()=>O()},[]);const Me=async B=>{if(B.stock<=0){alert("Ya no queda stock de este jugador");return}const Q=gt(di,"mercado","actual"),O=await Tr(Q);if(!O.exists())return;const oe=O.data().jugadores.map(fe=>fe.idJugador===B.idJugador?{...fe,stock:fe.stock-1}:fe);await Mn(Q,{jugadores:oe}),await Mn(gt(di,"jugadores",B.idJugador),{stockTotal:au(-1)});const le=gt(di,"usuarios",jm.currentUser.uid);await Mn(le,{"equipo.banquillo":[...t.equipo?.banquillo||[],B.idJugador]}),C(oe),alert(`Has comprado a ${B.nombre}`)},We=()=>{u(!a)},ke=B=>{switch(B){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return B||"Sin posición"}},W=B=>typeof B!="number"||isNaN(B)?"—":B.toLocaleString("es-ES")+"€";return T.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const B=setTimeout(async()=>{try{const Q=gt(di,"usuarios",jm.currentUser.uid);await Mn(Q,{onboarding:!0}),window.location.reload()}catch(Q){console.error("Error actualizando onboarding:",Q)}},500);return()=>clearTimeout(B)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const B=gt(di,"usuarios",t.uid);Tr(B).then(Q=>{Q.exists()&&o(Q.data().dinero)})}},[t],[f]),w.jsxs("div",{children:[w.jsxs("header",{className:"Cabecera",children:[w.jsxs("div",{className:"container-profile",children:[w.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[w.jsx("img",{src:h,onError:B=>{B.currentTarget.onerror=null,B.currentTarget.src=nn},alt:"Foto de perfil",onClick:()=>x(!P),onMouseEnter:()=>x(!0)}),P&&w.jsxs("div",{className:"perfil-bocadillo",ref:M,onMouseLeave:()=>x(!1),children:[w.jsx("div",{className:"triangulo"}),w.jsx("button",{className:"btn-perfil",onClick:()=>{q(!0),x(!1)},children:"👤 Perfil"}),w.jsx("button",{className:"btn-logout",onClick:Le,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&w.jsx("button",{className:"btn-admin",onClick:()=>{se(!0),x(!1)},children:"⚙️ Admin"})]})]}),w.jsxs("div",{className:"info-profile",children:[w.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&w.jsxs("p",{className:"dinero-usuario",children:["💰",w.jsx("strong",{children:W(r)})]})]})]}),w.jsx("button",{onClick:We,className:"Cabecera-button",children:w.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:w.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),w.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:w.jsxs("ul",{className:"Cabecera-ul",children:[w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),w.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Vl})`},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),K&&w.jsx(cu,{usuario:t,openModal:K,setOpenModal:q}),de&&w.jsx(Qh,{usuario:t,openModal:de,setOpenModal:se}),Y&&k&&w.jsx(Mj,{jugador:k,openModal:Y,setOpenModal:ee}),w.jsxs("div",{className:"tabs-wrapper",children:[w.jsxs("div",{className:"tabs-container",style:{},children:[w.jsx("button",{className:`tab-btn ${$==="mercado"?"active":""}`,onClick:()=>R("mercado"),children:"Mercado"}),w.jsx("button",{className:`tab-btn ${$==="operaciones"?"active":""}`,onClick:()=>R("operaciones"),children:"Mis operaciones"})]}),$==="mercado"&&w.jsx("div",{className:"mercado-jugadores",children:b.length===0?w.jsx("div",{className:"sin-mercado",children:w.jsx("p",{children:"No hay mercado disponible"})}):w.jsx("ul",{className:"lista-jugadores",children:b.map(B=>w.jsx("li",{className:"jugador-card",onClick:()=>{S(B),ee(!0)},children:w.jsxs("div",{className:"jugador-perfil",children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("label",{className:"modal-avatar",children:w.jsx("img",{src:B.foto||nn,alt:B.nombre,onError:Q=>{Q.currentTarget.onerror=null,Q.currentTarget.src=nn}})}),w.jsxs("div",{className:"modal-jugadorinfo",children:[w.jsx("h2",{children:(window.innerWidth<450,B.nombre)}),w.jsxs("div",{className:"posicion-precio",children:[w.jsx("div",{className:`posicion-texto ${B.posicion}`,children:w.jsx("small",{children:ke(B.posicion)})}),w.jsxs("div",{className:"precio-container",children:[w.jsx("div",{className:"precio",children:w.jsxs("small",{children:[w.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",W(B.precio)]})}),w.jsx("div",{className:"diferencia-precio",children:(()=>{const Q=B.historialPrecios||[];if(Q.length===0)return w.jsx("small",{children:"(±0€)"});const O=Q[Q.length-1].precio||0,U=B.precio-O,oe=U>0?"+":U<0?"-":"±";return w.jsxs("small",{className:U>0?"subida":U<0?"bajada":"igual",children:["(",oe,W(Math.abs(U)),")"]})})()})]}),w.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",w.jsx("span",{className:"vendedor",children:B.vendedor})]})]}),w.jsx("div",{className:"estadisticas-extra",children:w.jsx("div",{className:"ultimas-jornadas",children:B.puntosPorJornada&&B.puntosPorJornada.length>0?B.puntosPorJornada.slice(-5).map((Q,O)=>{const U=Q??"-",le=B.puntosPorJornada.length-5+O+1;let fe="";return typeof Q=="number"&&(Q>=9?fe="verde":Q<7&&(fe="rojo")),w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",le]}),w.jsx("div",{className:`jornada-cuadro ${fe}`,children:U})]},O)}):[...Array(5)].map((Q,O)=>w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",O+1]}),w.jsx("div",{className:"jornada-cuadro",children:"-"})]},O))})})]})]}),w.jsx("hr",{}),w.jsx("div",{className:"modal-footer",children:w.jsx("button",{className:"btn-comprar",disabled:B.stock<=0,onClick:Q=>{Q.stopPropagation(),Me(B)},children:"Pujar por el jugador"})})]})},B.idJugador))})}),$==="operaciones"&&w.jsx("div",{className:"operaciones-container",children:w.jsxs("div",{className:"operaciones-animacion",children:[w.jsx("h2",{children:"Mis operaciones pendientes"}),t?.operaciones&&t.operaciones.length>0?w.jsx("ul",{children:t.operaciones.map((B,Q)=>w.jsxs("li",{children:[B.tipo," - ",B.jugador," - ",W(B.cantidad)]},Q))}):w.jsx("p",{children:"No tienes operaciones pendientes"})]})})]})]}),e&&w.jsx("div",{className:"onboarding-overlay",children:w.jsx("div",{className:"loader",children:"Cargando..."})})]})}var jn=function(){return jn=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jn.apply(this,arguments)};function Jh(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var It="-ms-",Jc="-moz-",dt="-webkit-",OT="comm",Ff="rule",iw="decl",Vj="@import",LT="@keyframes",Fj="@layer",MT=Math.abs,ow=String.fromCharCode,Cg=Object.assign;function $j(t,e){return yn(t,0)^45?(((e<<2^yn(t,0))<<2^yn(t,1))<<2^yn(t,2))<<2^yn(t,3):0}function jT(t){return t.trim()}function hi(t,e){return(t=e.exec(t))?t[0]:t}function ze(t,e,n){return t.replace(e,n)}function dh(t,e,n){return t.indexOf(e,n)}function yn(t,e){return t.charCodeAt(e)|0}function Fl(t,e,n){return t.slice(e,n)}function As(t){return t.length}function VT(t){return t.length}function zc(t,e){return e.push(t),t}function Uj(t,e){return t.map(e).join("")}function SE(t,e){return t.filter(function(n){return!hi(n,e)})}var $f=1,$l=1,FT=0,Wr=0,en=0,tc="";function Uf(t,e,n,r,o,a,u,h){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:$f,column:$l,length:u,return:"",siblings:h}}function to(t,e){return Cg(Uf("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function gl(t){for(;t.root;)t=to(t.root,{children:[t]});zc(t,t.siblings)}function Bj(){return en}function zj(){return en=Wr>0?yn(tc,--Wr):0,$l--,en===10&&($l=1,$f--),en}function ls(){return en=Wr<FT?yn(tc,Wr++):0,$l++,en===10&&($l=1,$f++),en}function da(){return yn(tc,Wr)}function hh(){return Wr}function Bf(t,e){return Fl(tc,t,e)}function Tg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Hj(t){return $f=$l=1,FT=As(tc=t),Wr=0,[]}function qj(t){return tc="",t}function Vm(t){return jT(Bf(Wr-1,Ig(t===91?t+2:t===40?t+1:t)))}function Wj(t){for(;(en=da())&&en<33;)ls();return Tg(t)>2||Tg(en)>3?"":" "}function Gj(t,e){for(;--e&&ls()&&!(en<48||en>102||en>57&&en<65||en>70&&en<97););return Bf(t,hh()+(e<6&&da()==32&&ls()==32))}function Ig(t){for(;ls();)switch(en){case t:return Wr;case 34:case 39:t!==34&&t!==39&&Ig(en);break;case 40:t===41&&Ig(t);break;case 92:ls();break}return Wr}function Kj(t,e){for(;ls()&&t+en!==57;)if(t+en===84&&da()===47)break;return"/*"+Bf(e,Wr-1)+"*"+ow(t===47?t:ls())}function Qj(t){for(;!Tg(da());)ls();return Bf(t,Wr)}function Jj(t){return qj(fh("",null,null,null,[""],t=Hj(t),0,[0],t))}function fh(t,e,n,r,o,a,u,h,f){for(var m=0,v=0,b=u,C=0,A=0,D=0,j=1,L=1,K=1,q=0,Y="",ee=o,de=a,se=r,k=Y;L;)switch(D=q,q=ls()){case 40:if(D!=108&&yn(k,b-1)==58){dh(k+=ze(Vm(q),"&","&\f"),"&\f",MT(m?h[m-1]:0))!=-1&&(K=-1);break}case 34:case 39:case 91:k+=Vm(q);break;case 9:case 10:case 13:case 32:k+=Wj(D);break;case 92:k+=Gj(hh()-1,7);continue;case 47:switch(da()){case 42:case 47:zc(Yj(Kj(ls(),hh()),e,n,f),f);break;default:k+="/"}break;case 123*j:h[m++]=As(k)*K;case 125*j:case 59:case 0:switch(q){case 0:case 125:L=0;case 59+v:K==-1&&(k=ze(k,/\f/g,"")),A>0&&As(k)-b&&zc(A>32?kE(k+";",r,n,b-1,f):kE(ze(k," ","")+";",r,n,b-2,f),f);break;case 59:k+=";";default:if(zc(se=xE(k,e,n,m,v,o,h,Y,ee=[],de=[],b,a),a),q===123)if(v===0)fh(k,e,se,se,ee,a,b,h,de);else switch(C===99&&yn(k,3)===110?100:C){case 100:case 108:case 109:case 115:fh(t,se,se,r&&zc(xE(t,se,se,0,0,o,h,Y,o,ee=[],b,de),de),o,de,b,h,r?ee:de);break;default:fh(k,se,se,se,[""],de,0,h,de)}}m=v=A=0,j=K=1,Y=k="",b=u;break;case 58:b=1+As(k),A=D;default:if(j<1){if(q==123)--j;else if(q==125&&j++==0&&zj()==125)continue}switch(k+=ow(q),q*j){case 38:K=v>0?1:(k+="\f",-1);break;case 44:h[m++]=(As(k)-1)*K,K=1;break;case 64:da()===45&&(k+=Vm(ls())),C=da(),v=b=As(Y=k+=Qj(hh())),q++;break;case 45:D===45&&As(k)==2&&(j=0)}}return a}function xE(t,e,n,r,o,a,u,h,f,m,v,b){for(var C=o-1,A=o===0?a:[""],D=VT(A),j=0,L=0,K=0;j<r;++j)for(var q=0,Y=Fl(t,C+1,C=MT(L=u[j])),ee=t;q<D;++q)(ee=jT(L>0?A[q]+" "+Y:ze(Y,/&\f/g,A[q])))&&(f[K++]=ee);return Uf(t,e,n,o===0?Ff:h,f,m,v,b)}function Yj(t,e,n,r){return Uf(t,e,n,OT,ow(Bj()),Fl(t,2,-2),0,r)}function kE(t,e,n,r,o){return Uf(t,e,n,iw,Fl(t,0,r),Fl(t,r+1,-1),r,o)}function $T(t,e,n){switch($j(t,e)){case 5103:return dt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dt+t+t;case 4789:return Jc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return dt+t+Jc+t+It+t+t;case 5936:switch(yn(t,e+11)){case 114:return dt+t+It+ze(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return dt+t+It+ze(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return dt+t+It+ze(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return dt+t+It+t+t;case 6165:return dt+t+It+"flex-"+t+t;case 5187:return dt+t+ze(t,/(\w+).+(:[^]+)/,dt+"box-$1$2"+It+"flex-$1$2")+t;case 5443:return dt+t+It+"flex-item-"+ze(t,/flex-|-self/g,"")+(hi(t,/flex-|baseline/)?"":It+"grid-row-"+ze(t,/flex-|-self/g,""))+t;case 4675:return dt+t+It+"flex-line-pack"+ze(t,/align-content|flex-|-self/g,"")+t;case 5548:return dt+t+It+ze(t,"shrink","negative")+t;case 5292:return dt+t+It+ze(t,"basis","preferred-size")+t;case 6060:return dt+"box-"+ze(t,"-grow","")+dt+t+It+ze(t,"grow","positive")+t;case 4554:return dt+ze(t,/([^-])(transform)/g,"$1"+dt+"$2")+t;case 6187:return ze(ze(ze(t,/(zoom-|grab)/,dt+"$1"),/(image-set)/,dt+"$1"),t,"")+t;case 5495:case 3959:return ze(t,/(image-set\([^]*)/,dt+"$1$`$1");case 4968:return ze(ze(t,/(.+:)(flex-)?(.*)/,dt+"box-pack:$3"+It+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dt+t+t;case 4200:if(!hi(t,/flex-|baseline/))return It+"grid-column-align"+Fl(t,e)+t;break;case 2592:case 3360:return It+ze(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,hi(r.props,/grid-\w+-end/)})?~dh(t+(n=n[e].value),"span",0)?t:It+ze(t,"-start","")+t+It+"grid-row-span:"+(~dh(n,"span",0)?hi(n,/\d+/):+hi(n,/\d+/)-+hi(t,/\d+/))+";":It+ze(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return hi(r.props,/grid-\w+-start/)})?t:It+ze(ze(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ze(t,/(.+)-inline(.+)/,dt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(As(t)-1-e>6)switch(yn(t,e+1)){case 109:if(yn(t,e+4)!==45)break;case 102:return ze(t,/(.+:)(.+)-([^]+)/,"$1"+dt+"$2-$3$1"+Jc+(yn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~dh(t,"stretch",0)?$T(ze(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ze(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,a,u,h,f,m){return It+o+":"+a+m+(u?It+o+"-span:"+(h?f:+f-+a)+m:"")+t});case 4949:if(yn(t,e+6)===121)return ze(t,":",":"+dt)+t;break;case 6444:switch(yn(t,yn(t,14)===45?18:11)){case 120:return ze(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+dt+(yn(t,14)===45?"inline-":"")+"box$3$1"+dt+"$2$3$1"+It+"$2box$3")+t;case 100:return ze(t,":",":"+It)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ze(t,"scroll-","scroll-snap-")+t}return t}function Yh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Xj(t,e,n,r){switch(t.type){case Fj:if(t.children.length)break;case Vj:case iw:return t.return=t.return||t.value;case OT:return"";case LT:return t.return=t.value+"{"+Yh(t.children,r)+"}";case Ff:if(!As(t.value=t.props.join(",")))return""}return As(n=Yh(t.children,r))?t.return=t.value+"{"+n+"}":""}function Zj(t){var e=VT(t);return function(n,r,o,a){for(var u="",h=0;h<e;h++)u+=t[h](n,r,o,a)||"";return u}}function e5(t){return function(e){e.root||(e=e.return)&&t(e)}}function t5(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case iw:t.return=$T(t.value,t.length,n);return;case LT:return Yh([to(t,{value:ze(t.value,"@","@"+dt)})],r);case Ff:if(t.length)return Uj(n=t.props,function(o){switch(hi(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":gl(to(t,{props:[ze(o,/:(read-\w+)/,":"+Jc+"$1")]})),gl(to(t,{props:[o]})),Cg(t,{props:SE(n,r)});break;case"::placeholder":gl(to(t,{props:[ze(o,/:(plac\w+)/,":"+dt+"input-$1")]})),gl(to(t,{props:[ze(o,/:(plac\w+)/,":"+Jc+"$1")]})),gl(to(t,{props:[ze(o,/:(plac\w+)/,It+"input-$1")]})),gl(to(t,{props:[o]})),Cg(t,{props:SE(n,r)});break}return""})}}var n5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},br={},Ul=typeof process<"u"&&br!==void 0&&(br.REACT_APP_SC_ATTR||br.SC_ATTR)||"data-styled",UT="active",BT="data-styled-version",zf="6.1.19",aw=`/*!sc*/
`,Xh=typeof window<"u"&&typeof document<"u",r5=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&br!==void 0&&br.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&br.REACT_APP_SC_DISABLE_SPEEDY!==""?br.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&br.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&br!==void 0&&br.SC_DISABLE_SPEEDY!==void 0&&br.SC_DISABLE_SPEEDY!==""&&br.SC_DISABLE_SPEEDY!=="false"&&br.SC_DISABLE_SPEEDY),Hf=Object.freeze([]),Bl=Object.freeze({});function s5(t,e,n){return n===void 0&&(n=Bl),t.theme!==n.theme&&t.theme||e||n.theme}var zT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),i5=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,o5=/(^-|-$)/g;function RE(t){return t.replace(i5,"-").replace(o5,"")}var a5=/(a)(d)/gi,Qd=52,PE=function(t){return String.fromCharCode(t+(t>25?39:97))};function Sg(t){var e,n="";for(e=Math.abs(t);e>Qd;e=e/Qd|0)n=PE(e%Qd)+n;return(PE(e%Qd)+n).replace(a5,"$1-$2")}var Fm,HT=5381,El=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},qT=function(t){return El(HT,t)};function l5(t){return Sg(qT(t)>>>0)}function c5(t){return t.displayName||t.name||"Component"}function $m(t){return typeof t=="string"&&!0}var WT=typeof Symbol=="function"&&Symbol.for,GT=WT?Symbol.for("react.memo"):60115,u5=WT?Symbol.for("react.forward_ref"):60112,d5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},h5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},KT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},f5=((Fm={})[u5]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Fm[GT]=KT,Fm);function AE(t){return("type"in(e=t)&&e.type.$$typeof)===GT?KT:"$$typeof"in t?f5[t.$$typeof]:d5;var e}var p5=Object.defineProperty,m5=Object.getOwnPropertyNames,NE=Object.getOwnPropertySymbols,g5=Object.getOwnPropertyDescriptor,y5=Object.getPrototypeOf,DE=Object.prototype;function QT(t,e,n){if(typeof e!="string"){if(DE){var r=y5(e);r&&r!==DE&&QT(t,r,n)}var o=m5(e);NE&&(o=o.concat(NE(e)));for(var a=AE(t),u=AE(e),h=0;h<o.length;++h){var f=o[h];if(!(f in h5||n&&n[f]||u&&f in u||a&&f in a)){var m=g5(e,f);try{p5(t,f,m)}catch{}}}}return t}function _a(t){return typeof t=="function"}function lw(t){return typeof t=="object"&&"styledComponentId"in t}function aa(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function OE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function uu(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function xg(t,e,n){if(n===void 0&&(n=!1),!n&&!uu(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=xg(t[r],e[r]);else if(uu(e))for(var r in e)t[r]=xg(t[r],e[r]);return t}function cw(t,e){Object.defineProperty(t,"toString",{value:e})}function Ea(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var w5=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,a=o;e>=a;)if((a<<=1)<0)throw Ea(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var u=o;u<a;u++)this.groupSizes[u]=0}for(var h=this.indexOfGroup(e+1),f=(u=0,n.length);u<f;u++)this.tag.insertRule(h,n[u])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var a=r;a<o;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),a=o+r,u=o;u<a;u++)n+="".concat(this.tag.getRule(u)).concat(aw);return n},t})(),ph=new Map,Zh=new Map,mh=1,Jd=function(t){if(ph.has(t))return ph.get(t);for(;Zh.has(mh);)mh++;var e=mh++;return ph.set(t,e),Zh.set(e,t),e},v5=function(t,e){mh=e+1,ph.set(t,e),Zh.set(e,t)},_5="style[".concat(Ul,"][").concat(BT,'="').concat(zf,'"]'),E5=new RegExp("^".concat(Ul,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),b5=function(t,e,n){for(var r,o=n.split(","),a=0,u=o.length;a<u;a++)(r=o[a])&&t.registerName(e,r)},C5=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(aw),o=[],a=0,u=r.length;a<u;a++){var h=r[a].trim();if(h){var f=h.match(E5);if(f){var m=0|parseInt(f[1],10),v=f[2];m!==0&&(v5(v,m),b5(t,v,f[3]),t.getTag().insertRules(m,o)),o.length=0}else o.push(h)}}},LE=function(t){for(var e=document.querySelectorAll(_5),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute(Ul)!==UT&&(C5(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function T5(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var JT=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=(function(h){var f=Array.from(h.querySelectorAll("style[".concat(Ul,"]")));return f[f.length-1]})(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(Ul,UT),r.setAttribute(BT,zf);var u=T5();return u&&r.setAttribute("nonce",u),n.insertBefore(r,a),r},I5=(function(){function t(e){this.element=JT(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,a=r.length;o<a;o++){var u=r[o];if(u.ownerNode===n)return u}throw Ea(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),S5=(function(){function t(e){this.element=JT(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),x5=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),ME=Xh,k5={isServer:!Xh,useCSSOMInjection:!r5},YT=(function(){function t(e,n,r){e===void 0&&(e=Bl),n===void 0&&(n={});var o=this;this.options=jn(jn({},k5),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Xh&&ME&&(ME=!1,LE(this)),cw(this,function(){return(function(a){for(var u=a.getTag(),h=u.length,f="",m=function(b){var C=(function(K){return Zh.get(K)})(b);if(C===void 0)return"continue";var A=a.names.get(C),D=u.getGroup(b);if(A===void 0||!A.size||D.length===0)return"continue";var j="".concat(Ul,".g").concat(b,'[id="').concat(C,'"]'),L="";A!==void 0&&A.forEach(function(K){K.length>0&&(L+="".concat(K,","))}),f+="".concat(D).concat(j,'{content:"').concat(L,'"}').concat(aw)},v=0;v<h;v++)m(v);return f})(o)})}return t.registerId=function(e){return Jd(e)},t.prototype.rehydrate=function(){!this.server&&Xh&&LE(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(jn(jn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new x5(o):r?new I5(o):new S5(o)})(this.options),new w5(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Jd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Jd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Jd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),R5=/&/g,P5=/^\s*\/\/.*$/gm;function XT(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=XT(n.children,e)),n})}function A5(t){var e,n,r,o=Bl,a=o.options,u=a===void 0?Bl:a,h=o.plugins,f=h===void 0?Hf:h,m=function(C,A,D){return D.startsWith(n)&&D.endsWith(n)&&D.replaceAll(n,"").length>0?".".concat(e):C},v=f.slice();v.push(function(C){C.type===Ff&&C.value.includes("&")&&(C.props[0]=C.props[0].replace(R5,n).replace(r,m))}),u.prefix&&v.push(t5),v.push(Xj);var b=function(C,A,D,j){A===void 0&&(A=""),D===void 0&&(D=""),j===void 0&&(j="&"),e=j,n=A,r=new RegExp("\\".concat(n,"\\b"),"g");var L=C.replace(P5,""),K=Jj(D||A?"".concat(D," ").concat(A," { ").concat(L," }"):L);u.namespace&&(K=XT(K,u.namespace));var q=[];return Yh(K,Zj(v.concat(e5(function(Y){return q.push(Y)})))),q};return b.hash=f.length?f.reduce(function(C,A){return A.name||Ea(15),El(C,A.name)},HT).toString():"",b}var N5=new YT,kg=A5(),ZT=qe.createContext({shouldForwardProp:void 0,styleSheet:N5,stylis:kg});ZT.Consumer;qe.createContext(void 0);function jE(){return T.useContext(ZT)}var D5=(function(){function t(e,n){var r=this;this.inject=function(o,a){a===void 0&&(a=kg);var u=r.name+a.hash;o.hasNameForId(r.id,u)||o.insertRules(r.id,u,a(r.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,cw(this,function(){throw Ea(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=kg),this.name+e.hash},t})(),O5=function(t){return t>="A"&&t<="Z"};function VE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;O5(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var eI=function(t){return t==null||t===!1||t===""},tI=function(t){var e,n,r=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!eI(a)&&(Array.isArray(a)&&a.isCss||_a(a)?r.push("".concat(VE(o),":"),a,";"):uu(a)?r.push.apply(r,Jh(Jh(["".concat(o," {")],tI(a),!1),["}"],!1)):r.push("".concat(VE(o),": ").concat((e=o,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in n5||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ha(t,e,n,r){if(eI(t))return[];if(lw(t))return[".".concat(t.styledComponentId)];if(_a(t)){if(!_a(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var o=t(e);return ha(o,e,n,r)}var a;return t instanceof D5?n?(t.inject(n,r),[t.getName(r)]):[t]:uu(t)?tI(t):Array.isArray(t)?Array.prototype.concat.apply(Hf,t.map(function(u){return ha(u,e,n,r)})):[t.toString()]}function L5(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(_a(n)&&!lw(n))return!1}return!0}var M5=qT(zf),j5=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&L5(e),this.componentId=n,this.baseHash=El(M5,n),this.baseStyle=r,YT.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=aa(o,this.staticRulesId);else{var a=OE(ha(this.rules,e,n,r)),u=Sg(El(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,u)){var h=r(a,".".concat(u),void 0,this.componentId);n.insertRules(this.componentId,u,h)}o=aa(o,u),this.staticRulesId=u}else{for(var f=El(this.baseHash,r.hash),m="",v=0;v<this.rules.length;v++){var b=this.rules[v];if(typeof b=="string")m+=b;else if(b){var C=OE(ha(b,e,n,r));f=El(f,C+v),m+=C}}if(m){var A=Sg(f>>>0);n.hasNameForId(this.componentId,A)||n.insertRules(this.componentId,A,r(m,".".concat(A),void 0,this.componentId)),o=aa(o,A)}}return o},t})(),ef=qe.createContext(void 0);ef.Consumer;function V5(t){var e=qe.useContext(ef),n=T.useMemo(function(){return(function(r,o){if(!r)throw Ea(14);if(_a(r)){var a=r(o);return a}if(Array.isArray(r)||typeof r!="object")throw Ea(8);return o?jn(jn({},o),r):r})(t.theme,e)},[t.theme,e]);return t.children?qe.createElement(ef.Provider,{value:n},t.children):null}var Um={};function F5(t,e,n){var r=lw(t),o=t,a=!$m(t),u=e.attrs,h=u===void 0?Hf:u,f=e.componentId,m=f===void 0?(function(ee,de){var se=typeof ee!="string"?"sc":RE(ee);Um[se]=(Um[se]||0)+1;var k="".concat(se,"-").concat(l5(zf+se+Um[se]));return de?"".concat(de,"-").concat(k):k})(e.displayName,e.parentComponentId):f,v=e.displayName,b=v===void 0?(function(ee){return $m(ee)?"styled.".concat(ee):"Styled(".concat(c5(ee),")")})(t):v,C=e.displayName&&e.componentId?"".concat(RE(e.displayName),"-").concat(e.componentId):e.componentId||m,A=r&&o.attrs?o.attrs.concat(h).filter(Boolean):h,D=e.shouldForwardProp;if(r&&o.shouldForwardProp){var j=o.shouldForwardProp;if(e.shouldForwardProp){var L=e.shouldForwardProp;D=function(ee,de){return j(ee,de)&&L(ee,de)}}else D=j}var K=new j5(n,C,r?o.componentStyle:void 0);function q(ee,de){return(function(se,k,S){var P=se.attrs,x=se.componentStyle,M=se.defaultProps,$=se.foldedComponentIds,R=se.styledComponentId,Le=se.target,Me=qe.useContext(ef),We=jE(),ke=se.shouldForwardProp||We.shouldForwardProp,W=s5(k,Me,M)||Bl,B=(function(fe,_e,je){for(var $e,Ue=jn(jn({},_e),{className:void 0,theme:je}),pt=0;pt<fe.length;pt+=1){var bt=_a($e=fe[pt])?$e(Ue):$e;for(var wt in bt)Ue[wt]=wt==="className"?aa(Ue[wt],bt[wt]):wt==="style"?jn(jn({},Ue[wt]),bt[wt]):bt[wt]}return _e.className&&(Ue.className=aa(Ue.className,_e.className)),Ue})(P,k,W),Q=B.as||Le,O={};for(var U in B)B[U]===void 0||U[0]==="$"||U==="as"||U==="theme"&&B.theme===W||(U==="forwardedAs"?O.as=B.forwardedAs:ke&&!ke(U,Q)||(O[U]=B[U]));var oe=(function(fe,_e){var je=jE(),$e=fe.generateAndInjectStyles(_e,je.styleSheet,je.stylis);return $e})(x,B),le=aa($,R);return oe&&(le+=" "+oe),B.className&&(le+=" "+B.className),O[$m(Q)&&!zT.has(Q)?"class":"className"]=le,S&&(O.ref=S),T.createElement(Q,O)})(Y,ee,de)}q.displayName=b;var Y=qe.forwardRef(q);return Y.attrs=A,Y.componentStyle=K,Y.displayName=b,Y.shouldForwardProp=D,Y.foldedComponentIds=r?aa(o.foldedComponentIds,o.styledComponentId):"",Y.styledComponentId=C,Y.target=r?o.target:t,Object.defineProperty(Y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ee){this._foldedDefaultProps=r?(function(de){for(var se=[],k=1;k<arguments.length;k++)se[k-1]=arguments[k];for(var S=0,P=se;S<P.length;S++)xg(de,P[S],!0);return de})({},o.defaultProps,ee):ee}}),cw(Y,function(){return".".concat(Y.styledComponentId)}),a&&QT(Y,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Y}function FE(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var $E=function(t){return Object.assign(t,{isCss:!0})};function dn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_a(t)||uu(t))return $E(ha(FE(Hf,Jh([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ha(r):$E(ha(FE(r,e)))}function Rg(t,e,n){if(n===void 0&&(n=Bl),!e)throw Ea(1,e);var r=function(o){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];return t(e,n,dn.apply(void 0,Jh([o],a,!1)))};return r.attrs=function(o){return Rg(t,e,jn(jn({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Rg(t,e,jn(jn({},n),o))},r}var nI=function(t){return Rg(F5,t)},Qe=nI;zT.forEach(function(t){Qe[t]=nI(t)});var go;function zl(t,e){return t[e]}function $5(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function U5(t=[],e,n="id"){const r=t.slice(),o=zl(e,n);return o?r.splice(r.findIndex((a=>zl(a,n)===o)),1):r.splice(r.findIndex((a=>a===e)),1),r}function UE(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function Yc(t,e){return Math.ceil(t/e)}function Bm(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(go||(go={}));const cn=()=>null;function rI(t,e=[],n=[]){let r={},o=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(o=[...o,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:o.join(" ")}}function gh(t,e=[],n="id"){const r=zl(t,n);return r?e.some((o=>zl(o,n)===r)):e.some((o=>o===t))}function Yd(t,e){return e?t.findIndex((n=>Xc(n.id,e))):-1}function Xc(t,e){return t==e}function B5(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:o,rowCount:a,mergeSelections:u}=e,h=!t.allSelected,f=!t.toggleOnSelectedRowsChange;if(u){const m=h?[...t.selectedRows,...o.filter((v=>!gh(v,t.selectedRows,r)))]:t.selectedRows.filter((v=>!gh(v,o,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:m.length,selectedRows:m,toggleOnSelectedRowsChange:f})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?o:[],toggleOnSelectedRowsChange:f})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:o,isSelected:a,rowCount:u,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[o],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:U5(t.selectedRows,o,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===u,selectedRows:$5(t.selectedRows,o),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:o,totalRows:a,mergeSelections:u}=e;if(u){const h=[...t.selectedRows,...o.filter((f=>!gh(f,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:o.length,allSelected:o.length===a,selectedRows:o,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:o,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:o,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:o,visibleOnly:a,persistSelectedOnPageChange:u}=e,h=o&&u,f=o&&!u||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),f&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:o}=e;return Object.assign(Object.assign({},t),{currentPage:o,rowsPerPage:r})}}}const z5=dn`
	pointer-events: none;
	opacity: 0.4;
`,H5=Qe.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&z5};
	${({theme:t})=>t.table.style};
`,q5=dn`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,W5=Qe.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&q5};
	${({theme:t})=>t.head.style};
`,G5=Qe.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,sI=(t,...e)=>dn`
		@media screen and (max-width: ${599}px) {
			${dn(t,...e)}
		}
	`,K5=(t,...e)=>dn`
		@media screen and (max-width: ${959}px) {
			${dn(t,...e)}
		}
	`,Q5=(t,...e)=>dn`
		@media screen and (max-width: ${1280}px) {
			${dn(t,...e)}
		}
	`,J5=t=>(e,...n)=>dn`
			@media screen and (max-width: ${t}px) {
				${dn(e,...n)}
			}
		`,nc=Qe.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,iI=Qe(nc)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&dn`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&sI`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&K5`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&Q5`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&J5(t)`
    display: none;
  `};
`,Y5=dn`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,X5=Qe(iI).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&Y5};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var Z5=T.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:o,isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:m,onDragLeave:v}){const{conditionalStyle:b,classNames:C}=rI(n,e.conditionalCellStyles,["rdt_TableCell"]);return T.createElement(X5,{id:t,"data-column-id":e.id,role:"cell",className:C,"data-tag":o,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:b,$isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:m,onDragLeave:v},!e.cell&&T.createElement("div",{"data-tag":o},(function(A,D,j,L){return D?j&&typeof j=="function"?j(A,L):D(A,L):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const BE="input";var oI=T.memo((function({name:t,component:e=BE,componentOptions:n={style:{}},indeterminate:r=!1,checked:o=!1,disabled:a=!1,onClick:u=cn}){const h=e,f=h!==BE?n.style:(v=>Object.assign(Object.assign({fontSize:"18px"},!v&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),m=T.useMemo((()=>(function(v,...b){let C;return Object.keys(v).map((A=>v[A])).forEach(((A,D)=>{typeof A=="function"&&(C=Object.assign(Object.assign({},v),{[Object.keys(v)[D]]:A(...b)}))})),C||v})(n,r)),[n,r]);return T.createElement(h,Object.assign({type:"checkbox",ref:v=>{v&&(v.indeterminate=r)},style:f,onClick:a?cn:u,name:t,"aria-label":t,checked:o,disabled:a},m,{onChange:cn}))}));const eV=Qe(nc)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function tV({name:t,keyField:e,row:n,rowCount:r,selected:o,selectableRowsComponent:a,selectableRowsComponentProps:u,selectableRowsSingle:h,selectableRowDisabled:f,onSelectedRow:m}){const v=!(!f||!f(n));return T.createElement(eV,{onClick:b=>b.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},T.createElement(oI,{name:t,component:a,componentOptions:u,checked:o,"aria-checked":o,onClick:()=>{m({type:"SELECT_SINGLE_ROW",row:n,isSelected:o,keyField:e,rowCount:r,singleSelect:h})},disabled:v}))}const nV=Qe.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function rV({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:o,onToggled:a}){const u=e?n.expanded:n.collapsed;return T.createElement(nV,{"aria-disabled":t,onClick:()=>a&&a(o),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},u)}const sV=Qe(nc)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function iV({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:o,disabled:a=!1}){return T.createElement(sV,{onClick:u=>u.stopPropagation(),$noPadding:!0},T.createElement(rV,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:o}))}const oV=Qe.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var aV=T.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:o}){const a=["rdt_ExpanderRow",...o.split(" ").filter((u=>u!=="rdt_TableRow"))].join(" ");return T.createElement(oV,{className:a,$extendedRowStyle:r},T.createElement(e,Object.assign({data:t},n)))}));const zm="allowRowEvents";var tf,Pg,zE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(tf||(tf={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(Pg||(Pg={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(zE||(zE={}));const lV=dn`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,cV=dn`
	&:hover {
		cursor: pointer;
	}
`,uV=Qe.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&lV};
	${({$pointerOnHover:t})=>t&&cV};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function dV({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:o=!1,expandableIcon:a,expandableRows:u=!1,expandableRowsComponent:h,expandableRowsComponentProps:f,expandableRowsHideExpander:m,expandOnRowClicked:v=!1,expandOnRowDoubleClicked:b=!1,highlightOnHover:C=!1,id:A,expandableInheritConditionalStyles:D,keyField:j,onRowClicked:L=cn,onRowDoubleClicked:K=cn,onRowMouseEnter:q=cn,onRowMouseLeave:Y=cn,onRowExpandToggled:ee=cn,onSelectedRow:de=cn,pointerOnHover:se=!1,row:k,rowCount:S,rowIndex:P,selectableRowDisabled:x=null,selectableRows:M=!1,selectableRowsComponent:$,selectableRowsComponentProps:R,selectableRowsHighlight:Le=!1,selectableRowsSingle:Me=!1,selected:We,striped:ke=!1,draggingColumnId:W,onDragStart:B,onDragOver:Q,onDragEnd:O,onDragEnter:U,onDragLeave:oe}){const[le,fe]=T.useState(n);T.useEffect((()=>{fe(n)}),[n]);const _e=T.useCallback((()=>{fe(!le),ee(!le,k)}),[le,ee,k]),je=se||u&&(v||b),$e=T.useCallback((be=>{be.target.getAttribute("data-tag")===zm&&(L(k,be),!r&&u&&v&&_e())}),[r,v,u,_e,L,k]),Ue=T.useCallback((be=>{be.target.getAttribute("data-tag")===zm&&(K(k,be),!r&&u&&b&&_e())}),[r,b,u,_e,K,k]),pt=T.useCallback((be=>{q(k,be)}),[q,k]),bt=T.useCallback((be=>{Y(k,be)}),[Y,k]),wt=zl(k,j),{conditionalStyle:xn,classNames:Qn}=rI(k,e,["rdt_TableRow"]),De=Le&&We,Ne=D?xn:{},it=ke&&P%2==0;return T.createElement(T.Fragment,null,T.createElement(uV,{id:`row-${A}`,role:"row",$striped:it,$highlightOnHover:C,$pointerOnHover:!r&&je,$dense:o,onClick:$e,onDoubleClick:Ue,onMouseEnter:pt,onMouseLeave:bt,className:Qn,$selected:De,$conditionalStyle:xn},M&&T.createElement(tV,{name:`select-row-${wt}`,keyField:j,row:k,rowCount:S,selected:We,selectableRowsComponent:$,selectableRowsComponentProps:R,selectableRowDisabled:x,selectableRowsSingle:Me,onSelectedRow:de}),u&&!m&&T.createElement(iV,{id:wt,expandableIcon:a,expanded:le,row:k,onToggled:_e,disabled:r}),t.map((be=>be.omit?null:T.createElement(Z5,{id:`cell-${be.id}-${wt}`,key:`cell-${be.id}-${wt}`,dataTag:be.ignoreRowClick||be.button?null:zm,column:be,row:k,rowIndex:P,isDragging:Xc(W,be.id),onDragStart:B,onDragOver:Q,onDragEnd:O,onDragEnter:U,onDragLeave:oe})))),u&&le&&T.createElement(aV,{key:`expander-${wt}`,data:k,extendedRowStyle:Ne,extendedClassNames:Qn,ExpanderComponent:h,expanderComponentProps:f}))}const hV=Qe.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,fV=({sortActive:t,sortDirection:e})=>qe.createElement(hV,{$sortActive:t,$sortDirection:e},"▲"),pV=Qe(iI)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,mV=dn`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&dn`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,gV=Qe.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&mV};
`,yV=Qe.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var wV=T.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:o,sortIcon:a,sortServer:u,pagination:h,paginationServer:f,persistSelectedOnSort:m,selectableRowsVisibleOnly:v,onSort:b,onDragStart:C,onDragOver:A,onDragEnd:D,onDragEnter:j,onDragLeave:L}){T.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[K,q]=T.useState(!1),Y=T.useRef(null);if(T.useEffect((()=>{Y.current&&q(Y.current.scrollWidth>Y.current.clientWidth)}),[K]),t.omit)return null;const ee=()=>{if(!t.sortable&&!t.selector)return;let R=o;Xc(r.id,t.id)&&(R=o===go.ASC?go.DESC:go.ASC),b({type:"SORT_CHANGE",sortDirection:R,selectedColumn:t,clearSelectedOnSort:h&&f&&!m||u||v})},de=R=>T.createElement(fV,{sortActive:R,sortDirection:o}),se=()=>T.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},a),k=!(!t.sortable||!Xc(r.id,t.id)),S=!t.sortable||e,P=t.sortable&&!a&&!t.right,x=t.sortable&&!a&&t.right,M=t.sortable&&a&&!t.right,$=t.sortable&&a&&t.right;return T.createElement(pV,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Xc(t.id,n),onDragStart:C,onDragOver:A,onDragEnd:D,onDragEnter:j,onDragLeave:L},t.name&&T.createElement(gV,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:S?void 0:ee,onKeyPress:S?void 0:R=>{R.key==="Enter"&&ee()},$sortActive:!S&&k,disabled:S},!S&&$&&se(),!S&&x&&de(k),typeof t.name=="string"?T.createElement(yV,{title:K?t.name:void 0,ref:Y,"data-column-id":t.id},t.name):t.name,!S&&M&&se(),!S&&P&&de(k)))}));const vV=Qe(nc)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function _V({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:o,selectedRows:a,selectableRowsComponent:u,selectableRowsComponentProps:h,selectableRowDisabled:f,onSelectAllRows:m}){const v=a.length>0&&!r,b=f?e.filter((D=>!f(D))):e,C=b.length===0,A=Math.min(e.length,b.length);return T.createElement(vV,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},T.createElement(oI,{name:"select-all-rows",component:u,componentOptions:h,onClick:()=>{m({type:"SELECT_ALL_ROWS",rows:b,rowCount:A,mergeSelections:o,keyField:n})},checked:r,indeterminate:v,disabled:C}))}function aI(t=tf.AUTO){const e=typeof window=="object",[n,r]=T.useState(!1);return T.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const o=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],u=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||u.dir==="rtl";r(o&&h)}}),[t,e]),n}const EV=Qe.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,bV=Qe.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,HE=Qe.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function CV({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:o}){const a=aI(o),u=r>0;return n?T.createElement(HE,{$visible:u},T.cloneElement(n,{selectedCount:r})):T.createElement(HE,{$visible:u,$rtl:a},T.createElement(EV,null,((h,f,m)=>{if(f===0)return null;const v=f===1?h.singular:h.plural;return m?`${f} ${h.message||""} ${v}`:`${f} ${v} ${h.message||""}`})(t,r,a)),T.createElement(bV,null,e))}const TV=Qe.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,IV=Qe.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,SV=Qe.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,xV=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:o,selectedCount:a,direction:u,showMenu:h=!0})=>T.createElement(TV,{className:"rdt_TableHeader",role:"heading","aria-level":1},T.createElement(IV,null,t),e&&T.createElement(SV,null,e),h&&T.createElement(CV,{contextMessage:n,contextActions:r,contextComponent:o,direction:u,selectedCount:a}));function lI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const kV={left:"flex-start",right:"flex-end",center:"center"},RV=Qe.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>kV[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,PV=t=>{var{align:e="right",wrapContent:n=!0}=t,r=lI(t,["align","wrapContent"]);return T.createElement(RV,Object.assign({align:e,$wrapContent:n},r))},AV=Qe.div`
	display: flex;
	flex-direction: column;
`,NV=Qe.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&dn`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&dn`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,qE=Qe.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,DV=Qe.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,OV=Qe(nc)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,LV=Qe.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,MV=()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},qe.createElement("path",{d:"M7 10l5 5 5-5z"}),qe.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),jV=Qe.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,VV=Qe.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,FV=t=>{var{defaultValue:e,onChange:n}=t,r=lI(t,["defaultValue","onChange"]);return T.createElement(VV,null,T.createElement(jV,Object.assign({onChange:n,defaultValue:e},r)),T.createElement(MV,null))},ce={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return qe.createElement("div",null,"To add an expander pass in a component instance via ",qe.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:qe.createElement((()=>qe.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},qe.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),qe.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:qe.createElement((()=>qe.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},qe.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),qe.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:qe.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:qe.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Pg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:qe.createElement((()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},qe.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),qe.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:qe.createElement((()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},qe.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),qe.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:qe.createElement((()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},qe.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),qe.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:qe.createElement((()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},qe.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),qe.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:tf.AUTO,onChangePage:cn,onChangeRowsPerPage:cn,onRowClicked:cn,onRowDoubleClicked:cn,onRowMouseEnter:cn,onRowMouseLeave:cn,onRowExpandToggled:cn,onSelectedRowsChange:cn,onSort:cn,onColumnOrderChange:cn},$V={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},UV=Qe.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,Xd=Qe.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,BV=Qe.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${sI`
    width: 100%;
    justify-content: space-around;
  `};
`,cI=Qe.span`
	flex-shrink: 1;
	user-select: none;
`,zV=Qe(cI)`
	margin: 0 24px;
`,HV=Qe(cI)`
	margin: 0 4px;
`;var qV=T.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=ce.direction,paginationRowsPerPageOptions:o=ce.paginationRowsPerPageOptions,paginationIconLastPage:a=ce.paginationIconLastPage,paginationIconFirstPage:u=ce.paginationIconFirstPage,paginationIconNext:h=ce.paginationIconNext,paginationIconPrevious:f=ce.paginationIconPrevious,paginationComponentOptions:m=ce.paginationComponentOptions,onChangeRowsPerPage:v=ce.onChangeRowsPerPage,onChangePage:b=ce.onChangePage}){const C=(()=>{const R=typeof window=="object";function Le(){return{width:R?window.innerWidth:void 0,height:R?window.innerHeight:void 0}}const[Me,We]=T.useState(Le);return T.useEffect((()=>{if(!R)return()=>null;function ke(){We(Le())}return window.addEventListener("resize",ke),()=>window.removeEventListener("resize",ke)}),[]),Me})(),A=aI(r),D=C.width&&C.width>599,j=Yc(e,t),L=n*t,K=L-t+1,q=n===1,Y=n===j,ee=Object.assign(Object.assign({},$V),m),de=n===j?`${K}-${e} ${ee.rangeSeparatorText} ${e}`:`${K}-${L} ${ee.rangeSeparatorText} ${e}`,se=T.useCallback((()=>b(n-1)),[n,b]),k=T.useCallback((()=>b(n+1)),[n,b]),S=T.useCallback((()=>b(1)),[b]),P=T.useCallback((()=>b(Yc(e,t))),[b,e,t]),x=T.useCallback((R=>v(Number(R.target.value),n)),[n,v]),M=o.map((R=>T.createElement("option",{key:R,value:R},R)));ee.selectAllRowsItem&&M.push(T.createElement("option",{key:-1,value:e},ee.selectAllRowsItemText));const $=T.createElement(FV,{onChange:x,defaultValue:t,"aria-label":ee.rowsPerPageText},M);return T.createElement(UV,{className:"rdt_Pagination"},!ee.noRowsPerPage&&D&&T.createElement(T.Fragment,null,T.createElement(HV,null,ee.rowsPerPageText),$),D&&T.createElement(zV,null,de),T.createElement(BV,null,T.createElement(Xd,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":q,onClick:S,disabled:q,$isRTL:A},u),T.createElement(Xd,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":q,onClick:se,disabled:q,$isRTL:A},f),!ee.noRowsPerPage&&!D&&$,T.createElement(Xd,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":Y,onClick:k,disabled:Y,$isRTL:A},h),T.createElement(Xd,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":Y,onClick:P,disabled:Y,$isRTL:A},a)))}));const ia=(t,e)=>{const n=T.useRef(!0);T.useEffect((()=>{n.current?n.current=!1:t()}),e)};function WV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GV=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===KV})(e)})(t)},KV=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function du(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Hl((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function QV(t,e,n){return t.concat(e).map((function(r){return du(r,n)}))}function WE(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function GE(t,e){try{return e in t}catch{return!1}}function JV(t,e,n){var r={};return n.isMergeableObject(t)&&WE(t).forEach((function(o){r[o]=du(t[o],n)})),WE(e).forEach((function(o){(function(a,u){return GE(a,u)&&!(Object.hasOwnProperty.call(a,u)&&Object.propertyIsEnumerable.call(a,u))})(t,o)||(GE(t,o)&&n.isMergeableObject(e[o])?r[o]=(function(a,u){if(!u.customMerge)return Hl;var h=u.customMerge(a);return typeof h=="function"?h:Hl})(o,n)(t[o],e[o],n):r[o]=du(e[o],n))})),r}function Hl(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||QV,n.isMergeableObject=n.isMergeableObject||GV,n.cloneUnlessOtherwiseSpecified=du;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):JV(t,e,n):du(e,n)}Hl.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return Hl(n,r,e)}),{})};var Ag=WV(Hl);const KE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},no={default:KE,light:KE,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function YV(t="default",e,n="default"){return no[t]||(no[t]=Ag(no[n],e||{})),no[t]=Ag(no[t],e||{}),no[t]}function XV(t,e,n,r){const[o,a]=T.useState((()=>UE(t))),[u,h]=T.useState(""),f=T.useRef("");ia((()=>{a(UE(t))}),[t]);const m=T.useCallback((L=>{var K,q,Y;const{attributes:ee}=L.target,de=(K=ee.getNamedItem("data-column-id"))===null||K===void 0?void 0:K.value;de&&(f.current=((Y=(q=o[Yd(o,de)])===null||q===void 0?void 0:q.id)===null||Y===void 0?void 0:Y.toString())||"",h(f.current))}),[o]),v=T.useCallback((L=>{var K;const{attributes:q}=L.target,Y=(K=q.getNamedItem("data-column-id"))===null||K===void 0?void 0:K.value;if(Y&&f.current&&Y!==f.current){const ee=Yd(o,f.current),de=Yd(o,Y),se=[...o];se[ee]=o[de],se[de]=o[ee],a(se),e(se)}}),[e,o]),b=T.useCallback((L=>{L.preventDefault()}),[]),C=T.useCallback((L=>{L.preventDefault()}),[]),A=T.useCallback((L=>{L.preventDefault(),f.current="",h("")}),[]),D=(function(L=!1){return L?go.ASC:go.DESC})(r),j=T.useMemo((()=>o[Yd(o,n?.toString())]||{}),[n,o]);return{tableColumns:o,draggingColumnId:u,handleDragStart:m,handleDragEnter:v,handleDragOver:b,handleDragLeave:C,handleDragEnd:A,defaultSortDirection:D,defaultSortColumn:j}}var ZV=T.memo((function(t){const{data:e=ce.data,columns:n=ce.columns,title:r=ce.title,actions:o=ce.actions,keyField:a=ce.keyField,striped:u=ce.striped,highlightOnHover:h=ce.highlightOnHover,pointerOnHover:f=ce.pointerOnHover,dense:m=ce.dense,selectableRows:v=ce.selectableRows,selectableRowsSingle:b=ce.selectableRowsSingle,selectableRowsHighlight:C=ce.selectableRowsHighlight,selectableRowsNoSelectAll:A=ce.selectableRowsNoSelectAll,selectableRowsVisibleOnly:D=ce.selectableRowsVisibleOnly,selectableRowSelected:j=ce.selectableRowSelected,selectableRowDisabled:L=ce.selectableRowDisabled,selectableRowsComponent:K=ce.selectableRowsComponent,selectableRowsComponentProps:q=ce.selectableRowsComponentProps,onRowExpandToggled:Y=ce.onRowExpandToggled,onSelectedRowsChange:ee=ce.onSelectedRowsChange,expandableIcon:de=ce.expandableIcon,onChangeRowsPerPage:se=ce.onChangeRowsPerPage,onChangePage:k=ce.onChangePage,paginationServer:S=ce.paginationServer,paginationServerOptions:P=ce.paginationServerOptions,paginationTotalRows:x=ce.paginationTotalRows,paginationDefaultPage:M=ce.paginationDefaultPage,paginationResetDefaultPage:$=ce.paginationResetDefaultPage,paginationPerPage:R=ce.paginationPerPage,paginationRowsPerPageOptions:Le=ce.paginationRowsPerPageOptions,paginationIconLastPage:Me=ce.paginationIconLastPage,paginationIconFirstPage:We=ce.paginationIconFirstPage,paginationIconNext:ke=ce.paginationIconNext,paginationIconPrevious:W=ce.paginationIconPrevious,paginationComponent:B=ce.paginationComponent,paginationComponentOptions:Q=ce.paginationComponentOptions,responsive:O=ce.responsive,progressPending:U=ce.progressPending,progressComponent:oe=ce.progressComponent,persistTableHead:le=ce.persistTableHead,noDataComponent:fe=ce.noDataComponent,disabled:_e=ce.disabled,noTableHead:je=ce.noTableHead,noHeader:$e=ce.noHeader,fixedHeader:Ue=ce.fixedHeader,fixedHeaderScrollHeight:pt=ce.fixedHeaderScrollHeight,pagination:bt=ce.pagination,subHeader:wt=ce.subHeader,subHeaderAlign:xn=ce.subHeaderAlign,subHeaderWrap:Qn=ce.subHeaderWrap,subHeaderComponent:De=ce.subHeaderComponent,noContextMenu:Ne=ce.noContextMenu,contextMessage:it=ce.contextMessage,contextActions:be=ce.contextActions,contextComponent:Je=ce.contextComponent,expandableRows:nt=ce.expandableRows,onRowClicked:Be=ce.onRowClicked,onRowDoubleClicked:et=ce.onRowDoubleClicked,onRowMouseEnter:He=ce.onRowMouseEnter,onRowMouseLeave:kt=ce.onRowMouseLeave,sortIcon:dr=ce.sortIcon,onSort:Bt=ce.onSort,sortFunction:jt=ce.sortFunction,sortServer:hr=ce.sortServer,expandableRowsComponent:ko=ce.expandableRowsComponent,expandableRowsComponentProps:ps=ce.expandableRowsComponentProps,expandableRowDisabled:ms=ce.expandableRowDisabled,expandableRowsHideExpander:gs=ce.expandableRowsHideExpander,expandOnRowClicked:Ro=ce.expandOnRowClicked,expandOnRowDoubleClicked:Po=ce.expandOnRowDoubleClicked,expandableRowExpanded:xi=ce.expandableRowExpanded,expandableInheritConditionalStyles:Ao=ce.expandableInheritConditionalStyles,defaultSortFieldId:No=ce.defaultSortFieldId,defaultSortAsc:Ws=ce.defaultSortAsc,clearSelectedRows:Gs=ce.clearSelectedRows,conditionalRowStyles:ki=ce.conditionalRowStyles,theme:$n=ce.theme,customStyles:fr=ce.customStyles,direction:Rr=ce.direction,onColumnOrderChange:Pr=ce.onColumnOrderChange,className:Do,ariaLabel:ys}=t,{tableColumns:Ri,draggingColumnId:Ar,handleDragStart:Pi,handleDragEnter:Rt,handleDragOver:Ks,handleDragLeave:Jn,handleDragEnd:ws,defaultSortDirection:Qs,defaultSortColumn:Ai}=XV(n,Pr,No,Ws),[{rowsPerPage:Kt,currentPage:vn,selectedRows:Oo,allSelected:Js,selectedCount:Lo,selectedColumn:Vt,sortDirection:Yn,toggleOnSelectedRowsChange:pr},Nr]=T.useReducer(B5,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Ai,toggleOnSelectedRowsChange:!1,sortDirection:Qs,currentPage:M,rowsPerPage:R,selectedRowsFlag:!1,contextMessage:ce.contextMessage}),{persistSelectedOnSort:Ni=!1,persistSelectedOnPageChange:Gr=!1}=P,Ys=!(!S||!Gr&&!Ni),Mo=bt&&!U&&e.length>0,Da=B||qV,rc=T.useMemo((()=>((Te={},Ge="default",Pt="default")=>{const sn=no[Ge]?Ge:Pt;return Ag({table:{style:{color:(Re=no[sn]).text.primary,backgroundColor:Re.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:Re.text.primary,backgroundColor:Re.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:Re.background.default,minHeight:"52px"}},head:{style:{color:Re.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:Re.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:Re.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:Re.context.background,fontSize:"18px",fontWeight:400,color:Re.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:Re.text.primary,backgroundColor:Re.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:Re.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:Re.selected.text,backgroundColor:Re.selected.default,borderBottomColor:Re.background.default}},highlightOnHoverStyle:{color:Re.highlightOnHover.text,backgroundColor:Re.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:Re.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:Re.background.default},stripedStyle:{color:Re.striped.text,backgroundColor:Re.striped.default}},expanderRow:{style:{color:Re.text.primary,backgroundColor:Re.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:Re.button.default,fill:Re.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:Re.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:Re.button.hover},"&:focus":{outline:"none",backgroundColor:Re.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:Re.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:Re.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:Re.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:Re.button.default,fill:Re.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:Re.button.disabled,fill:Re.button.disabled},"&:hover:not(:disabled)":{backgroundColor:Re.button.hover},"&:focus":{outline:"none",backgroundColor:Re.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Re.text.primary,backgroundColor:Re.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Re.text.primary,backgroundColor:Re.background.default}}},Te);var Re})(fr,$n)),[fr,$n]),mt=T.useMemo((()=>Object.assign({},Rr!=="auto"&&{dir:Rr})),[Rr]),zt=T.useMemo((()=>{if(hr)return e;if(Vt?.sortFunction&&typeof Vt.sortFunction=="function"){const Te=Vt.sortFunction,Ge=Yn===go.ASC?Te:(Pt,sn)=>-1*Te(Pt,sn);return[...e].sort(Ge)}return(function(Te,Ge,Pt,sn){return Ge?sn&&typeof sn=="function"?sn(Te.slice(0),Ge,Pt):Te.slice(0).sort(((Re,gr)=>{const Qt=Ge(Re),kn=Ge(gr);if(Pt==="asc"){if(Qt<kn)return-1;if(Qt>kn)return 1}if(Pt==="desc"){if(Qt>kn)return-1;if(Qt<kn)return 1}return 0})):Te})(e,Vt?.selector,Yn,jt)}),[hr,Vt,Yn,e,jt]),mr=T.useMemo((()=>{if(bt&&!S){const Te=vn*Kt,Ge=Te-Kt;return zt.slice(Ge,Te)}return zt}),[vn,bt,S,Kt,zt]),vs=T.useCallback((Te=>{Nr(Te)}),[]),Xn=T.useCallback((Te=>{Nr(Te)}),[]),jo=T.useCallback((Te=>{Nr(Te)}),[]),Oa=T.useCallback(((Te,Ge)=>Be(Te,Ge)),[Be]),Xs=T.useCallback(((Te,Ge)=>et(Te,Ge)),[et]),Un=T.useCallback(((Te,Ge)=>He(Te,Ge)),[He]),La=T.useCallback(((Te,Ge)=>kt(Te,Ge)),[kt]),Ft=T.useCallback((Te=>Nr({type:"CHANGE_PAGE",page:Te,paginationServer:S,visibleOnly:D,persistSelectedOnPageChange:Gr})),[S,Gr,D]),Vo=T.useCallback((Te=>{const Ge=Yc(x||mr.length,Te),Pt=Bm(vn,Ge);S||Ft(Pt),Nr({type:"CHANGE_ROWS_PER_PAGE",page:Pt,rowsPerPage:Te})}),[vn,Ft,S,x,mr.length]);if(bt&&!S&&zt.length>0&&mr.length===0){const Te=Yc(zt.length,Kt),Ge=Bm(vn,Te);Ft(Ge)}ia((()=>{ee({allSelected:Js,selectedCount:Lo,selectedRows:Oo.slice(0)})}),[pr]),ia((()=>{Bt(Vt,Yn,zt.slice(0))}),[Vt,Yn]),ia((()=>{k(vn,x||zt.length)}),[vn]),ia((()=>{se(Kt,vn)}),[Kt]),ia((()=>{Ft(M)}),[M,$]),ia((()=>{if(bt&&S&&x>0){const Te=Yc(x,Kt),Ge=Bm(vn,Te);vn!==Ge&&Ft(Ge)}}),[x]),T.useEffect((()=>{Nr({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Gs})}),[b,Gs]),T.useEffect((()=>{if(!j)return;const Te=zt.filter((Pt=>j(Pt))),Ge=b?Te.slice(0,1):Te;Nr({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:Ge,totalRows:zt.length,mergeSelections:Ys})}),[e,j]);const Ma=D?mr:zt,ja=Gr||b||A;return T.createElement(V5,{theme:rc},!$e&&(!!r||!!o)&&T.createElement(xV,{title:r,actions:o,showMenu:!Ne,selectedCount:Lo,direction:Rr,contextActions:be,contextComponent:Je,contextMessage:it}),wt&&T.createElement(PV,{align:xn,wrapContent:Qn},De),T.createElement(NV,Object.assign({$responsive:O,$fixedHeader:Ue,$fixedHeaderScrollHeight:pt,className:Do},mt),T.createElement(DV,null,U&&!le&&T.createElement(qE,null,oe),T.createElement(H5,Object.assign({disabled:_e,className:"rdt_Table",role:"table"},ys&&{"aria-label":ys}),!je&&(!!le||zt.length>0&&!U)&&T.createElement(W5,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:Ue},T.createElement(G5,{className:"rdt_TableHeadRow",role:"row",$dense:m},v&&(ja?T.createElement(nc,{style:{flex:"0 0 48px"}}):T.createElement(_V,{allSelected:Js,selectedRows:Oo,selectableRowsComponent:K,selectableRowsComponentProps:q,selectableRowDisabled:L,rowData:Ma,keyField:a,mergeSelections:Ys,onSelectAllRows:Xn})),nt&&!gs&&T.createElement(OV,null),Ri.map((Te=>T.createElement(wV,{key:Te.id,column:Te,selectedColumn:Vt,disabled:U||zt.length===0,pagination:bt,paginationServer:S,persistSelectedOnSort:Ni,selectableRowsVisibleOnly:D,sortDirection:Yn,sortIcon:dr,sortServer:hr,onSort:vs,onDragStart:Pi,onDragOver:Ks,onDragEnd:ws,onDragEnter:Rt,onDragLeave:Jn,draggingColumnId:Ar}))))),!zt.length&&!U&&T.createElement(LV,null,fe),U&&le&&T.createElement(qE,null,oe),!U&&zt.length>0&&T.createElement(AV,{className:"rdt_TableBody",role:"rowgroup"},mr.map(((Te,Ge)=>{const Pt=zl(Te,a),sn=(function(kn=""){return typeof kn!="number"&&(!kn||kn.length===0)})(Pt)?Ge:Pt,Re=gh(Te,Oo,a),gr=!!(nt&&xi&&xi(Te)),Qt=!!(nt&&ms&&ms(Te));return T.createElement(dV,{id:sn,key:sn,keyField:a,"data-row-id":sn,columns:Ri,row:Te,rowCount:zt.length,rowIndex:Ge,selectableRows:v,expandableRows:nt,expandableIcon:de,highlightOnHover:h,pointerOnHover:f,dense:m,expandOnRowClicked:Ro,expandOnRowDoubleClicked:Po,expandableRowsComponent:ko,expandableRowsComponentProps:ps,expandableRowsHideExpander:gs,defaultExpanderDisabled:Qt,defaultExpanded:gr,expandableInheritConditionalStyles:Ao,conditionalRowStyles:ki,selected:Re,selectableRowsHighlight:C,selectableRowsComponent:K,selectableRowsComponentProps:q,selectableRowDisabled:L,selectableRowsSingle:b,striped:u,onRowExpandToggled:Y,onRowClicked:Oa,onRowDoubleClicked:Xs,onRowMouseEnter:Un,onRowMouseLeave:La,onSelectedRow:jo,draggingColumnId:Ar,onDragStart:Pi,onDragOver:Ks,onDragEnd:ws,onDragEnter:Rt,onDragLeave:Jn})})))))),Mo&&T.createElement("div",null,T.createElement(Da,{onChangePage:Ft,onChangeRowsPerPage:Vo,rowCount:x||zt.length,currentPage:vn,rowsPerPage:Kt,direction:Rr,paginationRowsPerPageOptions:Le,paginationIconLastPage:Me,paginationIconFirstPage:We,paginationIconNext:ke,paginationIconPrevious:W,paginationComponentOptions:Q})))}));const QE=ur(Gn),e4=ds(Gn);YV("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function t4({usuario:t}){const[e,n]=T.useState(!1),[r,o]=T.useState(null),[a,u]=T.useState(!1),[h,f]=T.useState(!1),[m,v]=T.useState(!1),[b,C]=T.useState(!1),A=T.useRef(null),D=()=>af(e4);T.useEffect(()=>{const x=M=>{A.current&&!A.current.contains(M.target)&&C(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]);const j=x=>parseInt(x),L=t?.fotoPerfil||nn,K=[{when:x=>x.pos==="1º",style:{background:"linear-gradient(135deg, rgb(255, 215, 0), rgb(218, 165, 32))",boxShadow:"0 0 8px rgba(255, 215, 0, 0.7), inset 0 0 4px rgba(255, 255, 255, 0.6)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:x=>x.pos==="2º",style:{background:"linear-gradient(135deg, rgb(192,192,192), rgb(169,169,169))",boxShadow:"0 0 8px rgba(192,192,192, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.5)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:x=>x.pos==="3º",style:{background:"linear-gradient(135deg, rgb(205, 127, 50), rgb(139, 69, 19))",boxShadow:"0 0 8px rgba(205, 127, 50, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.4)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:x=>j(x.pos)>3&&j(x.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:x=>j(x.pos)>3&&j(x.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],q=[{name:"Pos.",selector:x=>x.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:x=>x.jugador,cell:x=>w.jsxs(Zt,{to:x.id===t.uid?"/home":`/equipo/${x.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit",cursor:"pointer"},children:[w.jsx("img",{src:x.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"1px solid black"}}),w.jsx("span",{children:x.jugador})]})},{name:"Puntos",selector:x=>x.puntos,width:"5.5rem",center:!0}],Y=()=>{u(!a)},ee=x=>x>=1e6?(x/1e6).toFixed(2)+"M":x>=1e3?(x/1e3).toFixed(2)+"K":x.toFixed(2);T.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const x=gt(QE,"usuarios",t.uid);Tr(x).then(M=>{M.exists()&&o(M.data().dinero)})}},[t]);const[de,se]=T.useState([]),[k,S]=T.useState(!1);T.useEffect(()=>{(async()=>{S(!0);try{const M=$s(QE,"usuarios");let Le=(await Us(M)).docs.map(Me=>({id:Me.id,...Me.data()})).sort((Me,We)=>(We.puntos||0)-(Me.puntos||0)).map((Me,We)=>({id:Me.id,pos:`${We+1}º`,jugador:Me.nick||"Sin nombre",puntos:Me.puntos||0,fotoPerfil:Me.fotoPerfil||nn}));se(Le)}catch(M){console.error("Error al cargar usuarios:",M)}finally{S(!1)}})()},[]);const P={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return w.jsxs("div",{children:[w.jsxs("header",{className:"Cabecera",children:[w.jsxs("div",{className:"container-profile",children:[w.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[w.jsx("img",{src:L,onError:x=>{x.currentTarget.onerror=null,x.currentTarget.src=nn},alt:"Foto de perfil",onClick:()=>C(!b),onMouseEnter:()=>C(!0)}),b&&w.jsxs("div",{className:"perfil-bocadillo",ref:A,onMouseLeave:()=>C(!1),children:[w.jsx("div",{className:"triangulo"}),w.jsx("button",{className:"btn-perfil",onClick:()=>{f(!0),C(!1)},children:"👤 Perfil"}),w.jsx("button",{className:"btn-logout",onClick:D,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&w.jsx("button",{className:"btn-admin",onClick:()=>{v(!0),C(!1)},children:"⚙️ Admin"})]})]}),w.jsxs("div",{className:"info-profile",children:[w.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&w.jsxs("p",{className:"dinero-usuario",children:["💰",w.jsx("strong",{children:ee(r)})]})]})]}),w.jsx("button",{onClick:Y,className:"Cabecera-button",children:w.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:w.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),w.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:w.jsxs("ul",{className:"Cabecera-ul",children:[w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),w.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Vl})`},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&w.jsx(cu,{usuario:t,openModal:h,setOpenModal:f}),m&&w.jsx(Qh,{usuario:t,openModal:m,setOpenModal:v}),w.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:w.jsx(ZV,{title:"CLASIFICACIÓN",columns:q,data:de,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:k,progressComponent:w.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:K,customStyles:P,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:w.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}function n4({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r}){ds(),ur(),Nu();const o=t?.foto||nn,a=m=>{switch(m){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return m||"Sin posición"}},u=T.useRef(),h=m=>{m.target===u.current&&r(!1)},f=m=>m.toLocaleString("es-ES")+"€";return n?(console.log("DEBUG jugador en modal:",t),w.jsx("div",{className:"modal-overlay",ref:u,onClick:h,children:w.jsxs("div",{className:"modal-perfil",children:[w.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),w.jsxs("div",{className:"modal-header",children:[w.jsx("label",{className:"modal-avatar",children:w.jsx("img",{src:o,alt:"Jugador"})}),w.jsxs("div",{className:"modal-jugadorinfo",children:[w.jsx("h2",{children:t.nombre}),w.jsxs("div",{className:"posicion-precio",children:[w.jsx("div",{className:`posicion-texto ${t.posicion}`,children:w.jsx("small",{children:a(t.posicion)})}),w.jsxs("div",{className:"precio-container",children:[w.jsx("div",{className:"precio",children:w.jsxs("small",{children:[w.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",f(t.precio)]})}),w.jsx("div",{className:"diferencia-precio",children:(()=>{const m=t.historialPrecios||[];if(m.length===0)return w.jsx("small",{children:"(±0€)"});const v=m[m.length-1].precio||0,b=t.precio-v,C=b>0?"+":b<0?"-":"±";return w.jsxs("small",{className:b>0?"subida":b<0?"bajada":"igual",children:["(",C,f(Math.abs(b)),")"]})})()})]}),w.jsx("div",{className:"precio-clausula",children:w.jsxs("small",{children:[w.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",f(e)]})})]}),w.jsx("div",{className:"estadisticas-extra",children:w.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((m,v,b)=>{const C=m??"-",A=b.length<5?v+1:t.puntosPorJornada.length-5+v+1;let D="";return typeof m=="number"&&(m>=9?D="verde":m<7?D="rojo":D="naranja"),w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",A]}),w.jsx("div",{className:`jornada-cuadro ${D}`,children:C})]},v)}):[...Array(5)].map((m,v)=>w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",v+1]}),w.jsx("div",{className:"jornada-cuadro",children:"-"})]},v))})})]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"modal-jugadorbody",children:[w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.valoracion}),w.jsx("small",{children:"Valoración"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.nota}),w.jsx("small",{children:"Nota Media"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.puntosTotales}),w.jsx("small",{children:"Puntos"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.partidos}),w.jsx("small",{children:"Partidos"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.goles}),w.jsx("small",{children:"Goles"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.asistencias}),w.jsx("small",{children:"Asistencias"})]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"modal-footer",children:[w.jsxs("button",{className:"btn-accion",disabled:t.stock<=0,onClick:m=>{m.stopPropagation()},children:["Pagar Claúsula",w.jsx("br",{}),w.jsxs("small",{className:"precio-compra",children:["(-",f(t.precioClausula),")"]})]}),w.jsx("button",{className:"btn-accion",disabled:t.stock<=0,onClick:m=>{m.stopPropagation()},children:"Hacer oferta"})]})]})})):null}const Hm=ur(Gn),r4=ds(Gn),s4={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function JE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=s4[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function i4({usuario:t}){const{jugadorId:e}=pD(),[n,r]=T.useState(!0),[o,a]=T.useState(null),[u,h]=T.useState(!1),[f,m]=T.useState(!1),[v,b]=T.useState(null),C=t?.fotoPerfil||nn,A=o?.equipo?.titulares||[],D=o?.equipo?.banquillo||[],[j,L]=T.useState([]),K=o?.equipo?.capitan||"",[q,Y]=T.useState(o?.equipo?.formacion||"2-1-1"),[ee,de]=T.useState(q);T.useEffect(()=>{o?.equipo?.formacion&&(Y(o.equipo.formacion),de(o.equipo.formacion))},[o]);const[se,k]=T.useState(!1),[S,P]=T.useState(!1),[x,M]=T.useState(null),[$,R]=T.useState(!1),Le=T.useRef(null),Me=()=>af(r4);T.useEffect(()=>{const W=B=>{Le.current&&!Le.current.contains(B.target)&&R(!1)};return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[]),T.useEffect(()=>{if(window.particlesJS&&document.getElementById("particles-js")&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const W=gt(Hm,"usuarios",t.uid);Tr(W).then(B=>{B.exists()&&b(B.data().dinero)})}},[t]),T.useEffect(()=>{(async()=>{if(e){r(!0);try{const B=await Tr(gt(Hm,"usuarios",e));B.exists()?a({id:B.id,...B.data()}):a(null)}catch(B){console.error("Error fetching jugador:",B)}finally{r(!1)}}})()},[e]),T.useEffect(()=>{(async()=>{if(o?.equipo)try{const B=[...(o.equipo.titulares||[]).map(le=>le?.jugadorId).filter(Boolean),...(o.equipo.banquillo||[]).map(le=>le?.jugadorId).filter(Boolean)];if(B.length===0){L([]);return}const Q=$s(Hm,"jugadores"),O=Rf(Q,Af("__name__","in",B)),oe=(await Us(O)).docs.map(le=>({id:le.id,...le.data()}));L(oe)}catch(B){console.error("Error cargando jugadores:",B)}})()},[o]);const We=()=>{h(!u)},ke=W=>W.toLocaleString("es-ES")+"€";return w.jsxs("div",{children:[w.jsxs("header",{className:"Cabecera",children:[w.jsxs("div",{className:"container-profile",children:[w.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[w.jsx("img",{src:C,onError:W=>{W.currentTarget.onerror=null,W.currentTarget.src=nn},alt:"Foto de perfil",onClick:()=>R(!$),onMouseEnter:()=>R(!0)}),$&&w.jsxs("div",{className:"perfil-bocadillo",ref:Le,onMouseLeave:()=>R(!1),children:[w.jsx("div",{className:"triangulo"}),w.jsx("button",{className:"btn-perfil",onClick:()=>{k(!0),R(!1)},children:"👤 Perfil"}),w.jsx("button",{className:"btn-logout",onClick:Me,children:"➜] Cerrar sesión"})]})]}),w.jsxs("div",{className:"info-profile",children:[w.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),v!==null&&w.jsxs("p",{className:"dinero-usuario",children:["💰",w.jsx("strong",{children:ke(v)})]})]})]}),w.jsx("button",{onClick:We,className:"Cabecera-button",children:w.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:w.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),w.jsx("nav",{className:`Cabecera-nav ${u?"isActive":""}`,children:w.jsxs("ul",{className:"Cabecera-ul",children:[w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(Zt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),w.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Vl})`},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),se&&w.jsx(cu,{usuario:t,openModal:se,setOpenModal:k}),S&&x&&w.jsx(n4,{jugador:x,clausulaPersonal:o?.equipo?.titulares?.find(W=>W.jugadorId===x.id)?.clausulaPersonal??o?.equipo?.banquillo?.find(W=>W.jugadorId===x.id)?.clausulaPersonal,openModal:S,setOpenModal:P}),w.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1,marginTop:"0rem"},children:[w.jsxs("div",{className:"datos-equipo",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Formación:"})," ",w.jsx("small",{children:ee})," "]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Dinero:"})," ",w.jsx("small",{children:w.jsx("span",{className:"verde",children:ke(o?.dinero||0)})})]})]}),w.jsx("div",{className:"ultimas-jornadas-equipo-jugador",children:o?.puntuaciones&&o?.puntuaciones.length>0?o?.puntuaciones.slice(-5).map((W,B,Q)=>{const O=W??"-",U=Q.length<5?B+1:o?.puntuaciones.length-5+B+1;let oe="";return typeof W=="number"&&(W>=36?oe="verde":W<28?oe="rojo":oe="naranja"),w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",U]}),w.jsx("div",{className:`jornada-cuadro ${oe}`,children:O})]},B)}):[...Array(5)].map((W,B)=>w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",B+1]}),w.jsx("div",{className:"jornada-cuadro",children:"-"})]},B))}),w.jsx("div",{className:"campo",children:bg[ee]?.map((W,B)=>{const Q=A[B],O=j.find(U=>U.id===Q?.jugadorId);return w.jsxs("div",{className:"jugador",style:{position:"absolute",top:W.top,left:W.left,transform:"translate(-50%, -50%)"},children:[w.jsxs("div",{className:"jugador-wrapper",children:[w.jsx("img",{src:O?.foto||nn,alt:O?.nombre||"Vacío",className:"jugador-img",style:JE(O,B,ee).style,onClick:()=>{P(!0),M(O)}}),(()=>{const{status:U}=JE(O,B,ee);return console.log(U),U?U==="green"?w.jsx("div",{className:"status-badge green",children:"✓"}):U==="orange"?w.jsx("div",{className:"status-badge orange",children:"!"}):U==="red"?w.jsx("div",{className:"status-badge red",children:"✕"}):null:null})(),K===O?.id&&w.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(O?.puntosPorJornada.length===0)return w.jsx("div",{className:"puntos-badge gray",children:"-"});const U=O?.puntosPorJornada?.length?O?.puntosPorJornada[O?.puntosPorJornada.length-1]:null;if(U==null)return null;let oe=U==="-"?"gray":U<7?"red":U<9?"orange":"green";return w.jsx("div",{className:`puntos-badge ${oe}`,children:U})})()]}),w.jsx("p",{className:"jugador-nombre",children:O?.nombre||"Vacío"})]},O?.id||B)})}),w.jsxs("div",{className:"banquillo-section",children:[w.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),w.jsx("div",{className:"banquillo-container",children:D.map((W,B)=>{const Q=j.find(O=>O.id===W?.jugadorId);return w.jsx("div",{className:"banquillo-slot",children:Q?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"jugador-wrapper",children:[w.jsx("img",{src:Q?.foto||nn,alt:Q?.nombre||"Vacío",className:"jugador-img",onClick:()=>{P(!0),M(Q)}}),(()=>{if(Q?.puntosPorJornada?.length===0)return w.jsx("div",{className:"puntos-badge gray",children:"-"});const O=Q?.puntosPorJornada?.length?Q?.puntosPorJornada[Q?.puntosPorJornada.length-1]:null;if(O==null)return null;let U=O==="-"?"gray":O<7?"red":O<9?"orange":"green";return w.jsx("div",{className:`puntos-badge ${U}`,children:O})})()]}),w.jsx("p",{className:"jugador-nombre-banquillo",children:Q?.nombre})]}):w.jsx(Zt,{className:"banquillo-add",children:"+"})})})})]})]})]}),f&&w.jsx("div",{className:"onboarding-overlay",children:w.jsx("div",{className:"loader",children:"Cargando..."})})]})}const o4=ds(Gn),a4=ur(Gn);function l4(){const[t,e]=T.useState(null),[n,r]=T.useState(!0);return T.useEffect(()=>{const o=dR(o4,async a=>{if(a)try{const u=await Tr(gt(a4,"usuarios",a.uid));u.exists()?e({uid:a.uid,...u.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(u){console.error("Error obteniendo datos de usuario:",u),e(null)}else e(null);r(!1)});return()=>o()},[]),n?w.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):w.jsx(XD,{children:w.jsxs(RD,{children:[w.jsx(sa,{path:"/",element:t?w.jsx(ml,{to:"/home",replace:!0}):w.jsx(nj,{})}),w.jsx(sa,{path:"/home",element:t?w.jsx(Lj,{usuario:t}):w.jsx(ml,{to:"/",replace:!0})}),w.jsx(sa,{path:"/mercado",element:t?w.jsx(jj,{usuario:t}):w.jsx(ml,{to:"/",replace:!0})}),w.jsx(sa,{path:"/clasificacion",element:t?w.jsx(t4,{usuario:t}):w.jsx(ml,{to:"/",replace:!0})}),w.jsx(sa,{path:"/equipo/:jugadorId",element:t?w.jsx(i4,{usuario:t}):w.jsx(ml,{to:"/",replace:!0})}),w.jsx(sa,{path:"*",element:w.jsx(ml,{to:t?"/home":"/",replace:!0})})]})})}bS.createRoot(document.getElementById("root")).render(w.jsx(T.StrictMode,{children:w.jsx(l4,{})}));
