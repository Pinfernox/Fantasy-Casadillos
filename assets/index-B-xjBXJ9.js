(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function dS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fm={exports:{}},Dc={},pm={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function hS(){if(p_)return Je;p_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,V={};function D(O,B,ae){this.props=O,this.context=B,this.refs=V,this.updater=ae||P}D.prototype.isReactComponent={},D.prototype.setState=function(O,B){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,B,"setState")},D.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function G(){}G.prototype=D.prototype;function q(O,B,ae){this.props=O,this.context=B,this.refs=V,this.updater=ae||P}var J=q.prototype=new G;J.constructor=q,N(J,D.prototype),J.isPureReactComponent=!0;var ee=Array.isArray,de=Object.prototype.hasOwnProperty,se={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function T(O,B,ae){var fe,_e={},ke=null,Ve=null;if(B!=null)for(fe in B.ref!==void 0&&(Ve=B.ref),B.key!==void 0&&(ke=""+B.key),B)de.call(B,fe)&&!R.hasOwnProperty(fe)&&(_e[fe]=B[fe]);var Fe=arguments.length-2;if(Fe===1)_e.children=ae;else if(1<Fe){for(var Be=Array(Fe),ht=0;ht<Fe;ht++)Be[ht]=arguments[ht+2];_e.children=Be}if(O&&O.defaultProps)for(fe in Fe=O.defaultProps,Fe)_e[fe]===void 0&&(_e[fe]=Fe[fe]);return{$$typeof:t,type:O,key:ke,ref:Ve,props:_e,_owner:se.current}}function k(O,B){return{$$typeof:t,type:O.type,key:B,ref:O.ref,props:O.props,_owner:O._owner}}function L(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function M(O){var B={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return B[ae]})}var U=/\/+/g;function x(O,B){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):B.toString(36)}function Oe(O,B,ae,fe,_e){var ke=typeof O;(ke==="undefined"||ke==="boolean")&&(O=null);var Ve=!1;if(O===null)Ve=!0;else switch(ke){case"string":case"number":Ve=!0;break;case"object":switch(O.$$typeof){case t:case e:Ve=!0}}if(Ve)return Ve=O,_e=_e(Ve),O=fe===""?"."+x(Ve,0):fe,ee(_e)?(ae="",O!=null&&(ae=O.replace(U,"$&/")+"/"),Oe(_e,B,ae,"",function(ht){return ht})):_e!=null&&(L(_e)&&(_e=k(_e,ae+(!_e.key||Ve&&Ve.key===_e.key?"":(""+_e.key).replace(U,"$&/")+"/")+O)),B.push(_e)),1;if(Ve=0,fe=fe===""?".":fe+":",ee(O))for(var Fe=0;Fe<O.length;Fe++){ke=O[Fe];var Be=fe+x(ke,Fe);Ve+=Oe(ke,B,ae,Be,_e)}else if(Be=C(O),typeof Be=="function")for(O=Be.call(O),Fe=0;!(ke=O.next()).done;)ke=ke.value,Be=fe+x(ke,Fe++),Ve+=Oe(ke,B,ae,Be,_e);else if(ke==="object")throw B=String(O),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ve}function nt(O,B,ae){if(O==null)return O;var fe=[],_e=0;return Oe(O,fe,"","",function(ke){return B.call(ae,ke,_e++)}),fe}function We(O){if(O._status===-1){var B=O._result;B=B(),B.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=B)}if(O._status===1)return O._result.default;throw O._result}var ie={current:null},F={transition:null},K={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:F,ReactCurrentOwner:se};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:nt,forEach:function(O,B,ae){nt(O,function(){B.apply(this,arguments)},ae)},count:function(O){var B=0;return nt(O,function(){B++}),B},toArray:function(O){return nt(O,function(B){return B})||[]},only:function(O){if(!L(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Je.Component=D,Je.Fragment=n,Je.Profiler=o,Je.PureComponent=q,Je.StrictMode=r,Je.Suspense=f,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Je.act=Z,Je.cloneElement=function(O,B,ae){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var fe=N({},O.props),_e=O.key,ke=O.ref,Ve=O._owner;if(B!=null){if(B.ref!==void 0&&(ke=B.ref,Ve=se.current),B.key!==void 0&&(_e=""+B.key),O.type&&O.type.defaultProps)var Fe=O.type.defaultProps;for(Be in B)de.call(B,Be)&&!R.hasOwnProperty(Be)&&(fe[Be]=B[Be]===void 0&&Fe!==void 0?Fe[Be]:B[Be])}var Be=arguments.length-2;if(Be===1)fe.children=ae;else if(1<Be){Fe=Array(Be);for(var ht=0;ht<Be;ht++)Fe[ht]=arguments[ht+2];fe.children=Fe}return{$$typeof:t,type:O.type,key:_e,ref:ke,props:fe,_owner:Ve}},Je.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},Je.createElement=T,Je.createFactory=function(O){var B=T.bind(null,O);return B.type=O,B},Je.createRef=function(){return{current:null}},Je.forwardRef=function(O){return{$$typeof:h,render:O}},Je.isValidElement=L,Je.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:We}},Je.memo=function(O,B){return{$$typeof:m,type:O,compare:B===void 0?null:B}},Je.startTransition=function(O){var B=F.transition;F.transition={};try{O()}finally{F.transition=B}},Je.unstable_act=Z,Je.useCallback=function(O,B){return ie.current.useCallback(O,B)},Je.useContext=function(O){return ie.current.useContext(O)},Je.useDebugValue=function(){},Je.useDeferredValue=function(O){return ie.current.useDeferredValue(O)},Je.useEffect=function(O,B){return ie.current.useEffect(O,B)},Je.useId=function(){return ie.current.useId()},Je.useImperativeHandle=function(O,B,ae){return ie.current.useImperativeHandle(O,B,ae)},Je.useInsertionEffect=function(O,B){return ie.current.useInsertionEffect(O,B)},Je.useLayoutEffect=function(O,B){return ie.current.useLayoutEffect(O,B)},Je.useMemo=function(O,B){return ie.current.useMemo(O,B)},Je.useReducer=function(O,B,ae){return ie.current.useReducer(O,B,ae)},Je.useRef=function(O){return ie.current.useRef(O)},Je.useState=function(O){return ie.current.useState(O)},Je.useSyncExternalStore=function(O,B,ae){return ie.current.useSyncExternalStore(O,B,ae)},Je.useTransition=function(){return ie.current.useTransition()},Je.version="18.3.1",Je}var m_;function Ag(){return m_||(m_=1,pm.exports=hS()),pm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function fS(){if(g_)return Dc;g_=1;var t=Ag(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var w,b={},C=null,P=null;m!==void 0&&(C=""+m),f.key!==void 0&&(C=""+f.key),f.ref!==void 0&&(P=f.ref);for(w in f)r.call(f,w)&&!a.hasOwnProperty(w)&&(b[w]=f[w]);if(h&&h.defaultProps)for(w in f=h.defaultProps,f)b[w]===void 0&&(b[w]=f[w]);return{$$typeof:e,type:h,key:C,ref:P,props:b,_owner:o.current}}return Dc.Fragment=n,Dc.jsx=u,Dc.jsxs=u,Dc}var y_;function pS(){return y_||(y_=1,fm.exports=fS()),fm.exports}var v=pS(),I=Ag();const qe=dS(I);var Md={},mm={exports:{}},sr={},gm={exports:{}},ym={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function mS(){return w_||(w_=1,(function(t){function e(F,K){var Z=F.length;F.push(K);e:for(;0<Z;){var O=Z-1>>>1,B=F[O];if(0<o(B,K))F[O]=K,F[Z]=B,Z=O;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var K=F[0],Z=F.pop();if(Z!==K){F[0]=Z;e:for(var O=0,B=F.length,ae=B>>>1;O<ae;){var fe=2*(O+1)-1,_e=F[fe],ke=fe+1,Ve=F[ke];if(0>o(_e,Z))ke<B&&0>o(Ve,_e)?(F[O]=Ve,F[ke]=Z,O=ke):(F[O]=_e,F[fe]=Z,O=fe);else if(ke<B&&0>o(Ve,Z))F[O]=Ve,F[ke]=Z,O=ke;else break e}}return K}function o(F,K){var Z=F.sortIndex-K.sortIndex;return Z!==0?Z:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],m=[],w=1,b=null,C=3,P=!1,N=!1,V=!1,D=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(F){for(var K=n(m);K!==null;){if(K.callback===null)r(m);else if(K.startTime<=F)r(m),K.sortIndex=K.expirationTime,e(f,K);else break;K=n(m)}}function ee(F){if(V=!1,J(F),!N)if(n(f)!==null)N=!0,We(de);else{var K=n(m);K!==null&&ie(ee,K.startTime-F)}}function de(F,K){N=!1,V&&(V=!1,G(T),T=-1),P=!0;var Z=C;try{for(J(K),b=n(f);b!==null&&(!(b.expirationTime>K)||F&&!M());){var O=b.callback;if(typeof O=="function"){b.callback=null,C=b.priorityLevel;var B=O(b.expirationTime<=K);K=t.unstable_now(),typeof B=="function"?b.callback=B:b===n(f)&&r(f),J(K)}else r(f);b=n(f)}if(b!==null)var ae=!0;else{var fe=n(m);fe!==null&&ie(ee,fe.startTime-K),ae=!1}return ae}finally{b=null,C=Z,P=!1}}var se=!1,R=null,T=-1,k=5,L=-1;function M(){return!(t.unstable_now()-L<k)}function U(){if(R!==null){var F=t.unstable_now();L=F;var K=!0;try{K=R(!0,F)}finally{K?x():(se=!1,R=null)}}else se=!1}var x;if(typeof q=="function")x=function(){q(U)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,nt=Oe.port2;Oe.port1.onmessage=U,x=function(){nt.postMessage(null)}}else x=function(){D(U,0)};function We(F){R=F,se||(se=!0,x())}function ie(F,K){T=D(function(){F(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){N||P||(N=!0,We(de))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(F){switch(C){case 1:case 2:case 3:var K=3;break;default:K=C}var Z=C;C=K;try{return F()}finally{C=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Z=C;C=F;try{return K()}finally{C=Z}},t.unstable_scheduleCallback=function(F,K,Z){var O=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?O+Z:O):Z=O,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Z+B,F={id:w++,callback:K,priorityLevel:F,startTime:Z,expirationTime:B,sortIndex:-1},Z>O?(F.sortIndex=Z,e(m,F),n(f)===null&&F===n(m)&&(V?(G(T),T=-1):V=!0,ie(ee,Z-O))):(F.sortIndex=B,e(f,F),N||P||(N=!0,We(de))),F},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(F){var K=C;return function(){var Z=C;C=K;try{return F.apply(this,arguments)}finally{C=Z}}}})(ym)),ym}var v_;function gS(){return v_||(v_=1,gm.exports=mS()),gm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function yS(){if(__)return sr;__=1;var t=Ag(),e=gS();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},b={};function C(s){return f.call(b,s)?!0:f.call(w,s)?!1:m.test(s)?b[s]=!0:(w[s]=!0,!1)}function P(s,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,i,l,d){if(i===null||typeof i>"u"||P(s,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function V(s,i,l,d,p,y,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=E}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){D[s]=new V(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];D[i]=new V(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){D[s]=new V(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){D[s]=new V(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){D[s]=new V(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){D[s]=new V(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){D[s]=new V(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){D[s]=new V(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){D[s]=new V(s,5,!1,s.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(G,q);D[i]=new V(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(G,q);D[i]=new V(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(G,q);D[i]=new V(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){D[s]=new V(s,1,!1,s.toLowerCase(),null,!1,!1)}),D.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){D[s]=new V(s,1,!1,s.toLowerCase(),null,!0,!0)});function J(s,i,l,d){var p=D.hasOwnProperty(i)?D[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(N(i,l,p,d)&&(l=null),d||p===null?C(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?s.setAttributeNS(d,i,l):s.setAttribute(i,l))))}var ee=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),se=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),F=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Object.assign,O;function B(s){if(O===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+s}var ae=!1;function fe(s,i){if(!s||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Q){var d=Q}Reflect.construct(s,[],i)}else{try{i.call()}catch(Q){d=Q}s.call(i.prototype)}else{try{throw Error()}catch(Q){d=Q}s()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var p=Q.stack.split(`
`),y=d.stack.split(`
`),E=p.length-1,A=y.length-1;1<=E&&0<=A&&p[E]!==y[A];)A--;for(;1<=E&&0<=A;E--,A--)if(p[E]!==y[A]){if(E!==1||A!==1)do if(E--,A--,0>A||p[E]!==y[A]){var j=`
`+p[E].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=E&&0<=A);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?B(s):""}function _e(s){switch(s.tag){case 5:return B(s.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return s=fe(s.type,!1),s;case 11:return s=fe(s.type.render,!1),s;case 1:return s=fe(s.type,!0),s;default:return""}}function ke(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case se:return"Portal";case k:return"Profiler";case T:return"StrictMode";case x:return"Suspense";case Oe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case U:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case nt:return i=s.displayName||null,i!==null?i:ke(s.type)||"Memo";case We:i=s._payload,s=s._init;try{return ke(s(i))}catch{}}return null}function Ve(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Be(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ht(s){var i=Be(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function yt(s){s._valueTracker||(s._valueTracker=ht(s))}function bt(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=Be(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function Re(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xe(s,i){var l=i.checked;return Z({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function rt(s,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=Fe(i.value!=null?i.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function $e(s,i){i=i.checked,i!=null&&J(s,"checked",i,!1)}function Ge(s,i){$e(s,i);var l=Fe(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Ke(s,i.type,l):i.hasOwnProperty("defaultValue")&&Ke(s,i.type,Fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Me(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function Ke(s,i,l){(i!=="number"||Re(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var ze=Array.isArray;function Ue(s,i,l,d){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&d&&(s[l].defaultSelected=!0)}else{for(l=""+Fe(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Dt(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Vn(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(ze(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:Fe(l)}}function Bs(s,i){var l=Fe(i.value),d=Fe(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function So(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Bt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Bt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var cr,xo=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,d,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=cr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function ds(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(s){fs.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),hs[i]=hs[s]})});function ko(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||hs.hasOwnProperty(s)&&hs[s]?(""+i).trim():i+"px"}function Ro(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=ko(l,i[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,p):s[l]=p}}var Si=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Po(s,i){if(i){if(Si[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Ao(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=null;function Hs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var xi=null,Fn=null,ur=null;function Sr(s){if(s=wc(s)){if(typeof xi!="function")throw Error(n(280));var i=s.stateNode;i&&(i=Yu(i),xi(s.stateNode,s.type,i))}}function xr(s){Fn?ur?ur.push(s):ur=[s]:Fn=s}function No(){if(Fn){var s=Fn,i=ur;if(ur=Fn=null,Sr(s),i)for(s=0;s<i.length;s++)Sr(i[s])}}function ps(s,i){return s(i)}function ki(){}var kr=!1;function Ri(s,i,l){if(kr)return s(i,l);kr=!0;try{return ps(s,i,l)}finally{kr=!1,(Fn!==null||ur!==null)&&(ki(),No())}}function kt(s,i){var l=s.stateNode;if(l===null)return null;var d=Yu(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var qs=!1;if(h)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{qs=!1}function ms(s,i,l,d,p,y,E,A,j){var Q=Array.prototype.slice.call(arguments,3);try{i.apply(l,Q)}catch(oe){this.onError(oe)}}var Ws=!1,Pi=null,Kt=!1,vn=null,Do={onError:function(s){Ws=!0,Pi=s}};function Gs(s,i,l,d,p,y,E,A,j){Ws=!1,Pi=null,ms.apply(Do,arguments)}function Oo(s,i,l,d,p,y,E,A,j){if(Gs.apply(this,arguments),Ws){if(Ws){var Q=Pi;Ws=!1,Pi=null}else throw Error(n(198));Kt||(Kt=!0,vn=Q)}}function Vt(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Qn(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function dr(s){if(Vt(s)!==s)throw Error(n(188))}function Rr(s){var i=s.alternate;if(!i){if(i=Vt(s),i===null)throw Error(n(188));return i!==s?null:s}for(var l=s,d=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return dr(p),s;if(y===d)return dr(p),i;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=y;else{for(var E=!1,A=p.child;A;){if(A===l){E=!0,l=p,d=y;break}if(A===d){E=!0,d=p,l=y;break}A=A.sibling}if(!E){for(A=y.child;A;){if(A===l){E=!0,l=y,d=p;break}if(A===d){E=!0,d=y,l=p;break}A=A.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:i}function Ai(s){return s=Rr(s),s!==null?qr(s):null}function qr(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=qr(s);if(i!==null)return i;s=s.sibling}return null}var Ks=e.unstable_scheduleCallback,Lo=e.unstable_cancelCallback,Na=e.unstable_shouldYield,nc=e.unstable_requestPaint,pt=e.unstable_now,zt=e.unstable_getCurrentPriorityLevel,hr=e.unstable_ImmediatePriority,gs=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,Mo=e.unstable_LowPriority,Da=e.unstable_IdlePriority,Qs=null,$n=null;function Oa(s){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Qs,s,void 0,(s.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Ma,jo=Math.log,La=Math.LN2;function Ma(s){return s>>>=0,s===0?32:31-(jo(s)/La|0)|0}var Ce=64,Qe=4194304;function Rt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function sn(s,i){var l=s.pendingLanes;if(l===0)return 0;var d=0,p=s.suspendedLanes,y=s.pingedLanes,E=l&268435455;if(E!==0){var A=E&~p;A!==0?d=Rt(A):(y&=E,y!==0&&(d=Rt(y)))}else E=l&~p,E!==0?d=Rt(E):y!==0&&(d=Rt(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)l=31-Ft(i),p=1<<l,d|=s[l],i&=~p;return d}function Pe(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes;0<y;){var E=31-Ft(y),A=1<<E,j=p[E];j===-1?((A&l)===0||(A&d)!==0)&&(p[E]=Pe(A,i)):j<=i&&(s.expiredLanes|=A),y&=~A}}function Qt(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function xn(){var s=Ce;return Ce<<=1,(Ce&4194240)===0&&(Ce=64),s}function Ni(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Di(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Ft(i),s[i]=l}function mt(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-Ft(l),y=1<<p;i[p]=0,d[p]=-1,s[p]=-1,l&=~y}}function Oi(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-Ft(l),p=1<<d;p&i|s[d]&i&&(s[d]|=i),l&=~p}}var tt=0;function Li(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Pu,ja,Au,Nu,Du,rc=!1,ys=[],_n=null,Wr=null,Gr=null,Mi=new Map,Pr=new Map,ws=[],Hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(s,i){switch(s){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Mi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(i.pointerId)}}function Yn(s,i,l,d,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},i!==null&&(i=wc(i),i!==null&&ja(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function qf(s,i,l,d,p){switch(i){case"focusin":return _n=Yn(_n,s,i,l,d,p),!0;case"dragenter":return Wr=Yn(Wr,s,i,l,d,p),!0;case"mouseover":return Gr=Yn(Gr,s,i,l,d,p),!0;case"pointerover":var y=p.pointerId;return Mi.set(y,Yn(Mi.get(y)||null,s,i,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Pr.set(y,Yn(Pr.get(y)||null,s,i,l,d,p)),!0}return!1}function Lu(s){var i=Bo(s.target);if(i!==null){var l=Vt(i);if(l!==null){if(i=l.tag,i===13){if(i=Qn(l),i!==null){s.blockedOn=i,Du(s.priority,function(){Au(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Js(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Va(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);zs=d,l.target.dispatchEvent(d),zs=null}else return i=wc(l),i!==null&&ja(i),s.blockedOn=l,!1;i.shift()}return!0}function Vo(s,i,l){Js(s)&&l.delete(i)}function Mu(){rc=!1,_n!==null&&Js(_n)&&(_n=null),Wr!==null&&Js(Wr)&&(Wr=null),Gr!==null&&Js(Gr)&&(Gr=null),Mi.forEach(Vo),Pr.forEach(Vo)}function Kr(s,i){s.blockedOn===i&&(s.blockedOn=null,rc||(rc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Mu)))}function Qr(s){function i(p){return Kr(p,s)}if(0<ys.length){Kr(ys[0],s);for(var l=1;l<ys.length;l++){var d=ys[l];d.blockedOn===s&&(d.blockedOn=null)}}for(_n!==null&&Kr(_n,s),Wr!==null&&Kr(Wr,s),Gr!==null&&Kr(Gr,s),Mi.forEach(i),Pr.forEach(i),l=0;l<ws.length;l++)d=ws[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<ws.length&&(l=ws[0],l.blockedOn===null);)Lu(l),l.blockedOn===null&&ws.shift()}var Ys=ee.ReactCurrentBatchConfig,ji=!0;function Pt(s,i,l,d){var p=tt,y=Ys.transition;Ys.transition=null;try{tt=1,sc(s,i,l,d)}finally{tt=p,Ys.transition=y}}function Wf(s,i,l,d){var p=tt,y=Ys.transition;Ys.transition=null;try{tt=4,sc(s,i,l,d)}finally{tt=p,Ys.transition=y}}function sc(s,i,l,d){if(ji){var p=Va(s,i,l,d);if(p===null)rp(s,i,d,Fo,l),Ou(s,d);else if(qf(p,s,i,l,d))d.stopPropagation();else if(Ou(s,d),i&4&&-1<Hf.indexOf(s)){for(;p!==null;){var y=wc(p);if(y!==null&&Pu(y),y=Va(s,i,l,d),y===null&&rp(s,i,d,Fo,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else rp(s,i,d,null,l)}}var Fo=null;function Va(s,i,l,d){if(Fo=null,s=Hs(d),s=Bo(s),s!==null)if(i=Vt(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Qn(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Fo=s,null}function ic(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zt()){case hr:return 1;case gs:return 4;case Jn:case Mo:return 16;case Da:return 536870912;default:return 16}default:return 16}}var pr=null,Fa=null,Xn=null;function oc(){if(Xn)return Xn;var s,i=Fa,l=i.length,d,p="value"in pr?pr.value:pr.textContent,y=p.length;for(s=0;s<l&&i[s]===p[s];s++);var E=l-s;for(d=1;d<=E&&i[l-d]===p[y-d];d++);return Xn=p.slice(s,1<d?1-d:void 0)}function $a(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function vs(){return!0}function ac(){return!1}function En(s){function i(l,d,p,y,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(l=s[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vs:ac,this.isPropagationStopped=ac,this}return Z(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),i}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=En(Jr),_s=Z({},Jr,{view:0,detail:0}),Gf=En(_s),Ba,Xs,Vi,$o=Z({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Vi&&(Vi&&s.type==="mousemove"?(Ba=s.screenX-Vi.screenX,Xs=s.screenY-Vi.screenY):Xs=Ba=0,Vi=s),Ba)},movementY:function(s){return"movementY"in s?s.movementY:Xs}}),za=En($o),lc=Z({},$o,{dataTransfer:0}),ju=En(lc),Ha=Z({},_s,{relatedTarget:0}),qa=En(Ha),Vu=Z({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=En(Vu),Fu=Z({},Jr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$u=En(Fu),Uu=Z({},Jr,{data:0}),cc=En(Uu),Wa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Bu[s])?!!i[s]:!1}function Es(){return zu}var c=Z({},_s,{key:function(s){if(s.key){var i=Wa[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=$a(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Un[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(s){return s.type==="keypress"?$a(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$a(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=En(c),_=Z({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=En(_),z=Z({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),Y=En(z),he=Z({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ft=En(he),on=Z({},$o,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),st=En(on),hn=[9,13,27,32],Jt=h&&"CompositionEvent"in window,Ar=null;h&&"documentMode"in document&&(Ar=document.documentMode);var mr=h&&"TextEvent"in window&&!Ar,Uo=h&&(!Jt||Ar&&8<Ar&&11>=Ar),Ga=" ",lw=!1;function cw(s,i){switch(s){case"keyup":return hn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ka=!1;function lI(s,i){switch(s){case"compositionend":return uw(i);case"keypress":return i.which!==32?null:(lw=!0,Ga);case"textInput":return s=i.data,s===Ga&&lw?null:s;default:return null}}function cI(s,i){if(Ka)return s==="compositionend"||!Jt&&cw(s,i)?(s=oc(),Xn=Fa=pr=null,Ka=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Uo&&i.locale!=="ko"?null:i.data;default:return null}}var uI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dw(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!uI[s.type]:i==="textarea"}function hw(s,i,l,d){xr(d),i=Ku(i,"onChange"),0<i.length&&(l=new Ua("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var uc=null,dc=null;function dI(s){Pw(s,0)}function Hu(s){var i=Za(s);if(bt(i))return s}function hI(s,i){if(s==="change")return i}var fw=!1;if(h){var Kf;if(h){var Qf="oninput"in document;if(!Qf){var pw=document.createElement("div");pw.setAttribute("oninput","return;"),Qf=typeof pw.oninput=="function"}Kf=Qf}else Kf=!1;fw=Kf&&(!document.documentMode||9<document.documentMode)}function mw(){uc&&(uc.detachEvent("onpropertychange",gw),dc=uc=null)}function gw(s){if(s.propertyName==="value"&&Hu(dc)){var i=[];hw(i,dc,s,Hs(s)),Ri(dI,i)}}function fI(s,i,l){s==="focusin"?(mw(),uc=i,dc=l,uc.attachEvent("onpropertychange",gw)):s==="focusout"&&mw()}function pI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hu(dc)}function mI(s,i){if(s==="click")return Hu(i)}function gI(s,i){if(s==="input"||s==="change")return Hu(i)}function yI(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Yr=typeof Object.is=="function"?Object.is:yI;function hc(s,i){if(Yr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(i,p)||!Yr(s[p],i[p]))return!1}return!0}function yw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ww(s,i){var l=yw(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=yw(l)}}function vw(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?vw(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function _w(){for(var s=window,i=Re();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Re(s.document)}return i}function Jf(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function wI(s){var i=_w(),l=s.focusedElem,d=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&vw(l.ownerDocument.documentElement,l)){if(d!==null&&Jf(l)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!s.extend&&y>d&&(p=d,d=y,y=p),p=ww(l,y);var E=ww(l,d);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),y>d?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var vI=h&&"documentMode"in document&&11>=document.documentMode,Qa=null,Yf=null,fc=null,Xf=!1;function Ew(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xf||Qa==null||Qa!==Re(d)||(d=Qa,"selectionStart"in d&&Jf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fc&&hc(fc,d)||(fc=d,d=Ku(Yf,"onSelect"),0<d.length&&(i=new Ua("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=Qa)))}function qu(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Ja={animationend:qu("Animation","AnimationEnd"),animationiteration:qu("Animation","AnimationIteration"),animationstart:qu("Animation","AnimationStart"),transitionend:qu("Transition","TransitionEnd")},Zf={},bw={};h&&(bw=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Wu(s){if(Zf[s])return Zf[s];if(!Ja[s])return s;var i=Ja[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in bw)return Zf[s]=i[l];return s}var Cw=Wu("animationend"),Tw=Wu("animationiteration"),Iw=Wu("animationstart"),Sw=Wu("transitionend"),xw=new Map,kw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(s,i){xw.set(s,i),a(i,[s])}for(var ep=0;ep<kw.length;ep++){var tp=kw[ep],_I=tp.toLowerCase(),EI=tp[0].toUpperCase()+tp.slice(1);Fi(_I,"on"+EI)}Fi(Cw,"onAnimationEnd"),Fi(Tw,"onAnimationIteration"),Fi(Iw,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(Sw,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bI=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function Rw(s,i,l){var d=s.type||"unknown-event";s.currentTarget=l,Oo(d,i,void 0,s),s.currentTarget=null}function Pw(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],p=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var E=d.length-1;0<=E;E--){var A=d[E],j=A.instance,Q=A.currentTarget;if(A=A.listener,j!==y&&p.isPropagationStopped())break e;Rw(p,A,Q),y=j}else for(E=0;E<d.length;E++){if(A=d[E],j=A.instance,Q=A.currentTarget,A=A.listener,j!==y&&p.isPropagationStopped())break e;Rw(p,A,Q),y=j}}}if(Kt)throw s=vn,Kt=!1,vn=null,s}function Ct(s,i){var l=i[cp];l===void 0&&(l=i[cp]=new Set);var d=s+"__bubble";l.has(d)||(Aw(i,s,2,!1),l.add(d))}function np(s,i,l){var d=0;i&&(d|=4),Aw(l,s,d,i)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function mc(s){if(!s[Gu]){s[Gu]=!0,r.forEach(function(l){l!=="selectionchange"&&(bI.has(l)||np(l,!1,s),np(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Gu]||(i[Gu]=!0,np("selectionchange",!1,i))}}function Aw(s,i,l,d){switch(ic(i)){case 1:var p=Pt;break;case 4:p=Wf;break;default:p=sc}l=p.bind(null,i,l,s),p=void 0,!qs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function rp(s,i,l,d,p){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var A=d.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var j=E.tag;if((j===3||j===4)&&(j=E.stateNode.containerInfo,j===p||j.nodeType===8&&j.parentNode===p))return;E=E.return}for(;A!==null;){if(E=Bo(A),E===null)return;if(j=E.tag,j===5||j===6){d=y=E;continue e}A=A.parentNode}}d=d.return}Ri(function(){var Q=y,oe=Hs(l),le=[];e:{var re=xw.get(s);if(re!==void 0){var me=Ua,we=s;switch(s){case"keypress":if($a(l)===0)break e;case"keydown":case"keyup":me=g;break;case"focusin":we="focus",me=qa;break;case"focusout":we="blur",me=qa;break;case"beforeblur":case"afterblur":me=qa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Y;break;case Cw:case Tw:case Iw:me=Zs;break;case Sw:me=ft;break;case"scroll":me=Gf;break;case"wheel":me=st;break;case"copy":case"cut":case"paste":me=$u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=S}var ve=(i&4)!==0,Ht=!ve&&s==="scroll",H=ve?re!==null?re+"Capture":null:re;ve=[];for(var $=Q,W;$!==null;){W=$;var ue=W.stateNode;if(W.tag===5&&ue!==null&&(W=ue,H!==null&&(ue=kt($,H),ue!=null&&ve.push(gc($,ue,W)))),Ht)break;$=$.return}0<ve.length&&(re=new me(re,we,null,l,oe),le.push({event:re,listeners:ve}))}}if((i&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",re&&l!==zs&&(we=l.relatedTarget||l.fromElement)&&(Bo(we)||we[ei]))break e;if((me||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,me?(we=l.relatedTarget||l.toElement,me=Q,we=we?Bo(we):null,we!==null&&(Ht=Vt(we),we!==Ht||we.tag!==5&&we.tag!==6)&&(we=null)):(me=null,we=Q),me!==we)){if(ve=za,ue="onMouseLeave",H="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(ve=S,ue="onPointerLeave",H="onPointerEnter",$="pointer"),Ht=me==null?re:Za(me),W=we==null?re:Za(we),re=new ve(ue,$+"leave",me,l,oe),re.target=Ht,re.relatedTarget=W,ue=null,Bo(oe)===Q&&(ve=new ve(H,$+"enter",we,l,oe),ve.target=W,ve.relatedTarget=Ht,ue=ve),Ht=ue,me&&we)t:{for(ve=me,H=we,$=0,W=ve;W;W=Ya(W))$++;for(W=0,ue=H;ue;ue=Ya(ue))W++;for(;0<$-W;)ve=Ya(ve),$--;for(;0<W-$;)H=Ya(H),W--;for(;$--;){if(ve===H||H!==null&&ve===H.alternate)break t;ve=Ya(ve),H=Ya(H)}ve=null}else ve=null;me!==null&&Nw(le,re,me,ve,!1),we!==null&&Ht!==null&&Nw(le,Ht,we,ve,!0)}}e:{if(re=Q?Za(Q):window,me=re.nodeName&&re.nodeName.toLowerCase(),me==="select"||me==="input"&&re.type==="file")var Ee=hI;else if(dw(re))if(fw)Ee=gI;else{Ee=pI;var Te=fI}else(me=re.nodeName)&&me.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ee=mI);if(Ee&&(Ee=Ee(s,Q))){hw(le,Ee,l,oe);break e}Te&&Te(s,re,Q),s==="focusout"&&(Te=re._wrapperState)&&Te.controlled&&re.type==="number"&&Ke(re,"number",re.value)}switch(Te=Q?Za(Q):window,s){case"focusin":(dw(Te)||Te.contentEditable==="true")&&(Qa=Te,Yf=Q,fc=null);break;case"focusout":fc=Yf=Qa=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,Ew(le,l,oe);break;case"selectionchange":if(vI)break;case"keydown":case"keyup":Ew(le,l,oe)}var Ie;if(Jt)e:{switch(s){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ka?cw(s,l)&&(De="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(Uo&&l.locale!=="ko"&&(Ka||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ka&&(Ie=oc()):(pr=oe,Fa="value"in pr?pr.value:pr.textContent,Ka=!0)),Te=Ku(Q,De),0<Te.length&&(De=new cc(De,s,null,l,oe),le.push({event:De,listeners:Te}),Ie?De.data=Ie:(Ie=uw(l),Ie!==null&&(De.data=Ie)))),(Ie=mr?lI(s,l):cI(s,l))&&(Q=Ku(Q,"onBeforeInput"),0<Q.length&&(oe=new cc("onBeforeInput","beforeinput",null,l,oe),le.push({event:oe,listeners:Q}),oe.data=Ie))}Pw(le,i)})}function gc(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Ku(s,i){for(var l=i+"Capture",d=[];s!==null;){var p=s,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=kt(s,l),y!=null&&d.unshift(gc(s,y,p)),y=kt(s,i),y!=null&&d.push(gc(s,y,p))),s=s.return}return d}function Ya(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Nw(s,i,l,d,p){for(var y=i._reactName,E=[];l!==null&&l!==d;){var A=l,j=A.alternate,Q=A.stateNode;if(j!==null&&j===d)break;A.tag===5&&Q!==null&&(A=Q,p?(j=kt(l,y),j!=null&&E.unshift(gc(l,j,A))):p||(j=kt(l,y),j!=null&&E.push(gc(l,j,A)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var CI=/\r\n?/g,TI=/\u0000|\uFFFD/g;function Dw(s){return(typeof s=="string"?s:""+s).replace(CI,`
`).replace(TI,"")}function Qu(s,i,l){if(i=Dw(i),Dw(s)!==i&&l)throw Error(n(425))}function Ju(){}var sp=null,ip=null;function op(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ap=typeof setTimeout=="function"?setTimeout:void 0,II=typeof clearTimeout=="function"?clearTimeout:void 0,Ow=typeof Promise=="function"?Promise:void 0,SI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ow<"u"?function(s){return Ow.resolve(null).then(s).catch(xI)}:ap;function xI(s){setTimeout(function(){throw s})}function lp(s,i){var l=i,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){s.removeChild(p),Qr(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Qr(i)}function $i(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Lw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),bs="__reactFiber$"+Xa,yc="__reactProps$"+Xa,ei="__reactContainer$"+Xa,cp="__reactEvents$"+Xa,kI="__reactListeners$"+Xa,RI="__reactHandles$"+Xa;function Bo(s){var i=s[bs];if(i)return i;for(var l=s.parentNode;l;){if(i=l[ei]||l[bs]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=Lw(s);s!==null;){if(l=s[bs])return l;s=Lw(s)}return i}s=l,l=s.parentNode}return null}function wc(s){return s=s[bs]||s[ei],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Za(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Yu(s){return s[yc]||null}var up=[],el=-1;function Ui(s){return{current:s}}function Tt(s){0>el||(s.current=up[el],up[el]=null,el--)}function wt(s,i){el++,up[el]=s.current,s.current=i}var Bi={},kn=Ui(Bi),Zn=Ui(!1),zo=Bi;function tl(s,i){var l=s.type.contextTypes;if(!l)return Bi;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=i[y];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function er(s){return s=s.childContextTypes,s!=null}function Xu(){Tt(Zn),Tt(kn)}function Mw(s,i,l){if(kn.current!==Bi)throw Error(n(168));wt(kn,i),wt(Zn,l)}function jw(s,i,l){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,Ve(s)||"Unknown",p));return Z({},l,d)}function Zu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Bi,zo=kn.current,wt(kn,s),wt(Zn,Zn.current),!0}function Vw(s,i,l){var d=s.stateNode;if(!d)throw Error(n(169));l?(s=jw(s,i,zo),d.__reactInternalMemoizedMergedChildContext=s,Tt(Zn),Tt(kn),wt(kn,s)):Tt(Zn),wt(Zn,l)}var ti=null,ed=!1,dp=!1;function Fw(s){ti===null?ti=[s]:ti.push(s)}function PI(s){ed=!0,Fw(s)}function zi(){if(!dp&&ti!==null){dp=!0;var s=0,i=tt;try{var l=ti;for(tt=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}ti=null,ed=!1}catch(p){throw ti!==null&&(ti=ti.slice(s+1)),Ks(hr,zi),p}finally{tt=i,dp=!1}}return null}var nl=[],rl=0,td=null,nd=0,Nr=[],Dr=0,Ho=null,ni=1,ri="";function qo(s,i){nl[rl++]=nd,nl[rl++]=td,td=s,nd=i}function $w(s,i,l){Nr[Dr++]=ni,Nr[Dr++]=ri,Nr[Dr++]=Ho,Ho=s;var d=ni;s=ri;var p=32-Ft(d)-1;d&=~(1<<p),l+=1;var y=32-Ft(i)+p;if(30<y){var E=p-p%5;y=(d&(1<<E)-1).toString(32),d>>=E,p-=E,ni=1<<32-Ft(i)+p|l<<p|d,ri=y+s}else ni=1<<y|l<<p|d,ri=s}function hp(s){s.return!==null&&(qo(s,1),$w(s,1,0))}function fp(s){for(;s===td;)td=nl[--rl],nl[rl]=null,nd=nl[--rl],nl[rl]=null;for(;s===Ho;)Ho=Nr[--Dr],Nr[Dr]=null,ri=Nr[--Dr],Nr[Dr]=null,ni=Nr[--Dr],Nr[Dr]=null}var gr=null,yr=null,At=!1,Xr=null;function Uw(s,i){var l=jr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Bw(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,gr=s,yr=$i(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,gr=s,yr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Ho!==null?{id:ni,overflow:ri}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=jr(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,gr=s,yr=null,!0):!1;default:return!1}}function pp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function mp(s){if(At){var i=yr;if(i){var l=i;if(!Bw(s,i)){if(pp(s))throw Error(n(418));i=$i(l.nextSibling);var d=gr;i&&Bw(s,i)?Uw(d,l):(s.flags=s.flags&-4097|2,At=!1,gr=s)}}else{if(pp(s))throw Error(n(418));s.flags=s.flags&-4097|2,At=!1,gr=s}}}function zw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;gr=s}function rd(s){if(s!==gr)return!1;if(!At)return zw(s),At=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!op(s.type,s.memoizedProps)),i&&(i=yr)){if(pp(s))throw Hw(),Error(n(418));for(;i;)Uw(s,i),i=$i(i.nextSibling)}if(zw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){yr=$i(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}yr=null}}else yr=gr?$i(s.stateNode.nextSibling):null;return!0}function Hw(){for(var s=yr;s;)s=$i(s.nextSibling)}function sl(){yr=gr=null,At=!1}function gp(s){Xr===null?Xr=[s]:Xr.push(s)}var AI=ee.ReactCurrentBatchConfig;function vc(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,s));var p=d,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(E){var A=p.refs;E===null?delete A[y]:A[y]=E},i._stringRef=y,i)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function sd(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function qw(s){var i=s._init;return i(s._payload)}function Ww(s){function i(H,$){if(s){var W=H.deletions;W===null?(H.deletions=[$],H.flags|=16):W.push($)}}function l(H,$){if(!s)return null;for(;$!==null;)i(H,$),$=$.sibling;return null}function d(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function p(H,$){return H=Yi(H,$),H.index=0,H.sibling=null,H}function y(H,$,W){return H.index=W,s?(W=H.alternate,W!==null?(W=W.index,W<$?(H.flags|=2,$):W):(H.flags|=2,$)):(H.flags|=1048576,$)}function E(H){return s&&H.alternate===null&&(H.flags|=2),H}function A(H,$,W,ue){return $===null||$.tag!==6?($=am(W,H.mode,ue),$.return=H,$):($=p($,W),$.return=H,$)}function j(H,$,W,ue){var Ee=W.type;return Ee===R?oe(H,$,W.props.children,ue,W.key):$!==null&&($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===We&&qw(Ee)===$.type)?(ue=p($,W.props),ue.ref=vc(H,$,W),ue.return=H,ue):(ue=kd(W.type,W.key,W.props,null,H.mode,ue),ue.ref=vc(H,$,W),ue.return=H,ue)}function Q(H,$,W,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=lm(W,H.mode,ue),$.return=H,$):($=p($,W.children||[]),$.return=H,$)}function oe(H,$,W,ue,Ee){return $===null||$.tag!==7?($=Zo(W,H.mode,ue,Ee),$.return=H,$):($=p($,W),$.return=H,$)}function le(H,$,W){if(typeof $=="string"&&$!==""||typeof $=="number")return $=am(""+$,H.mode,W),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case de:return W=kd($.type,$.key,$.props,null,H.mode,W),W.ref=vc(H,null,$),W.return=H,W;case se:return $=lm($,H.mode,W),$.return=H,$;case We:var ue=$._init;return le(H,ue($._payload),W)}if(ze($)||K($))return $=Zo($,H.mode,W,null),$.return=H,$;sd(H,$)}return null}function re(H,$,W,ue){var Ee=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Ee!==null?null:A(H,$,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case de:return W.key===Ee?j(H,$,W,ue):null;case se:return W.key===Ee?Q(H,$,W,ue):null;case We:return Ee=W._init,re(H,$,Ee(W._payload),ue)}if(ze(W)||K(W))return Ee!==null?null:oe(H,$,W,ue,null);sd(H,W)}return null}function me(H,$,W,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return H=H.get(W)||null,A($,H,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case de:return H=H.get(ue.key===null?W:ue.key)||null,j($,H,ue,Ee);case se:return H=H.get(ue.key===null?W:ue.key)||null,Q($,H,ue,Ee);case We:var Te=ue._init;return me(H,$,W,Te(ue._payload),Ee)}if(ze(ue)||K(ue))return H=H.get(W)||null,oe($,H,ue,Ee,null);sd($,ue)}return null}function we(H,$,W,ue){for(var Ee=null,Te=null,Ie=$,De=$=0,mn=null;Ie!==null&&De<W.length;De++){Ie.index>De?(mn=Ie,Ie=null):mn=Ie.sibling;var at=re(H,Ie,W[De],ue);if(at===null){Ie===null&&(Ie=mn);break}s&&Ie&&at.alternate===null&&i(H,Ie),$=y(at,$,De),Te===null?Ee=at:Te.sibling=at,Te=at,Ie=mn}if(De===W.length)return l(H,Ie),At&&qo(H,De),Ee;if(Ie===null){for(;De<W.length;De++)Ie=le(H,W[De],ue),Ie!==null&&($=y(Ie,$,De),Te===null?Ee=Ie:Te.sibling=Ie,Te=Ie);return At&&qo(H,De),Ee}for(Ie=d(H,Ie);De<W.length;De++)mn=me(Ie,H,De,W[De],ue),mn!==null&&(s&&mn.alternate!==null&&Ie.delete(mn.key===null?De:mn.key),$=y(mn,$,De),Te===null?Ee=mn:Te.sibling=mn,Te=mn);return s&&Ie.forEach(function(Xi){return i(H,Xi)}),At&&qo(H,De),Ee}function ve(H,$,W,ue){var Ee=K(W);if(typeof Ee!="function")throw Error(n(150));if(W=Ee.call(W),W==null)throw Error(n(151));for(var Te=Ee=null,Ie=$,De=$=0,mn=null,at=W.next();Ie!==null&&!at.done;De++,at=W.next()){Ie.index>De?(mn=Ie,Ie=null):mn=Ie.sibling;var Xi=re(H,Ie,at.value,ue);if(Xi===null){Ie===null&&(Ie=mn);break}s&&Ie&&Xi.alternate===null&&i(H,Ie),$=y(Xi,$,De),Te===null?Ee=Xi:Te.sibling=Xi,Te=Xi,Ie=mn}if(at.done)return l(H,Ie),At&&qo(H,De),Ee;if(Ie===null){for(;!at.done;De++,at=W.next())at=le(H,at.value,ue),at!==null&&($=y(at,$,De),Te===null?Ee=at:Te.sibling=at,Te=at);return At&&qo(H,De),Ee}for(Ie=d(H,Ie);!at.done;De++,at=W.next())at=me(Ie,H,De,at.value,ue),at!==null&&(s&&at.alternate!==null&&Ie.delete(at.key===null?De:at.key),$=y(at,$,De),Te===null?Ee=at:Te.sibling=at,Te=at);return s&&Ie.forEach(function(uS){return i(H,uS)}),At&&qo(H,De),Ee}function Ht(H,$,W,ue){if(typeof W=="object"&&W!==null&&W.type===R&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case de:e:{for(var Ee=W.key,Te=$;Te!==null;){if(Te.key===Ee){if(Ee=W.type,Ee===R){if(Te.tag===7){l(H,Te.sibling),$=p(Te,W.props.children),$.return=H,H=$;break e}}else if(Te.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===We&&qw(Ee)===Te.type){l(H,Te.sibling),$=p(Te,W.props),$.ref=vc(H,Te,W),$.return=H,H=$;break e}l(H,Te);break}else i(H,Te);Te=Te.sibling}W.type===R?($=Zo(W.props.children,H.mode,ue,W.key),$.return=H,H=$):(ue=kd(W.type,W.key,W.props,null,H.mode,ue),ue.ref=vc(H,$,W),ue.return=H,H=ue)}return E(H);case se:e:{for(Te=W.key;$!==null;){if($.key===Te)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){l(H,$.sibling),$=p($,W.children||[]),$.return=H,H=$;break e}else{l(H,$);break}else i(H,$);$=$.sibling}$=lm(W,H.mode,ue),$.return=H,H=$}return E(H);case We:return Te=W._init,Ht(H,$,Te(W._payload),ue)}if(ze(W))return we(H,$,W,ue);if(K(W))return ve(H,$,W,ue);sd(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,$!==null&&$.tag===6?(l(H,$.sibling),$=p($,W),$.return=H,H=$):(l(H,$),$=am(W,H.mode,ue),$.return=H,H=$),E(H)):l(H,$)}return Ht}var il=Ww(!0),Gw=Ww(!1),id=Ui(null),od=null,ol=null,yp=null;function wp(){yp=ol=od=null}function vp(s){var i=id.current;Tt(id),s._currentValue=i}function _p(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function al(s,i){od=s,yp=ol=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(tr=!0),s.firstContext=null)}function Or(s){var i=s._currentValue;if(yp!==s)if(s={context:s,memoizedValue:i,next:null},ol===null){if(od===null)throw Error(n(308));ol=s,od.dependencies={lanes:0,firstContext:s}}else ol=ol.next=s;return i}var Wo=null;function Ep(s){Wo===null?Wo=[s]:Wo.push(s)}function Kw(s,i,l,d){var p=i.interleaved;return p===null?(l.next=l,Ep(i)):(l.next=p.next,p.next=l),i.interleaved=l,si(s,d)}function si(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Hi=!1;function bp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qw(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ii(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function qi(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(ot&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,si(s,l)}return p=d.interleaved,p===null?(i.next=i,Ep(d)):(i.next=p.next,p.next=i),d.interleaved=i,si(s,l)}function ad(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Oi(s,l)}}function Jw(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function ld(s,i,l,d){var p=s.updateQueue;Hi=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var j=A,Q=j.next;j.next=null,E===null?y=Q:E.next=Q,E=j;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,A=oe.lastBaseUpdate,A!==E&&(A===null?oe.firstBaseUpdate=Q:A.next=Q,oe.lastBaseUpdate=j))}if(y!==null){var le=p.baseState;E=0,oe=Q=j=null,A=y;do{var re=A.lane,me=A.eventTime;if((d&re)===re){oe!==null&&(oe=oe.next={eventTime:me,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var we=s,ve=A;switch(re=i,me=l,ve.tag){case 1:if(we=ve.payload,typeof we=="function"){le=we.call(me,le,re);break e}le=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,re=typeof we=="function"?we.call(me,le,re):we,re==null)break e;le=Z({},le,re);break e;case 2:Hi=!0}}A.callback!==null&&A.lane!==0&&(s.flags|=64,re=p.effects,re===null?p.effects=[A]:re.push(A))}else me={eventTime:me,lane:re,tag:A.tag,payload:A.payload,callback:A.callback,next:null},oe===null?(Q=oe=me,j=le):oe=oe.next=me,E|=re;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;re=A,A=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);if(oe===null&&(j=le),p.baseState=j,p.firstBaseUpdate=Q,p.lastBaseUpdate=oe,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);Qo|=E,s.lanes=E,s.memoizedState=le}}function Yw(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var _c={},Cs=Ui(_c),Ec=Ui(_c),bc=Ui(_c);function Go(s){if(s===_c)throw Error(n(174));return s}function Cp(s,i){switch(wt(bc,i),wt(Ec,s),wt(Cs,_c),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:jt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=jt(i,s)}Tt(Cs),wt(Cs,i)}function ll(){Tt(Cs),Tt(Ec),Tt(bc)}function Xw(s){Go(bc.current);var i=Go(Cs.current),l=jt(i,s.type);i!==l&&(wt(Ec,s),wt(Cs,l))}function Tp(s){Ec.current===s&&(Tt(Cs),Tt(Ec))}var Ot=Ui(0);function cd(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ip=[];function Sp(){for(var s=0;s<Ip.length;s++)Ip[s]._workInProgressVersionPrimary=null;Ip.length=0}var ud=ee.ReactCurrentDispatcher,xp=ee.ReactCurrentBatchConfig,Ko=0,Lt=null,an=null,fn=null,dd=!1,Cc=!1,Tc=0,NI=0;function Rn(){throw Error(n(321))}function kp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Yr(s[l],i[l]))return!1;return!0}function Rp(s,i,l,d,p,y){if(Ko=y,Lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ud.current=s===null||s.memoizedState===null?MI:jI,s=l(d,p),Cc){y=0;do{if(Cc=!1,Tc=0,25<=y)throw Error(n(301));y+=1,fn=an=null,i.updateQueue=null,ud.current=VI,s=l(d,p)}while(Cc)}if(ud.current=pd,i=an!==null&&an.next!==null,Ko=0,fn=an=Lt=null,dd=!1,i)throw Error(n(300));return s}function Pp(){var s=Tc!==0;return Tc=0,s}function Ts(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Lt.memoizedState=fn=s:fn=fn.next=s,fn}function Lr(){if(an===null){var s=Lt.alternate;s=s!==null?s.memoizedState:null}else s=an.next;var i=fn===null?Lt.memoizedState:fn.next;if(i!==null)fn=i,an=s;else{if(s===null)throw Error(n(310));an=s,s={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},fn===null?Lt.memoizedState=fn=s:fn=fn.next=s}return fn}function Ic(s,i){return typeof i=="function"?i(s):i}function Ap(s){var i=Lr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=an,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var A=E=null,j=null,Q=y;do{var oe=Q.lane;if((Ko&oe)===oe)j!==null&&(j=j.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:s(d,Q.action);else{var le={lane:oe,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};j===null?(A=j=le,E=d):j=j.next=le,Lt.lanes|=oe,Qo|=oe}Q=Q.next}while(Q!==null&&Q!==y);j===null?E=d:j.next=A,Yr(d,i.memoizedState)||(tr=!0),i.memoizedState=d,i.baseState=E,i.baseQueue=j,l.lastRenderedState=d}if(s=l.interleaved,s!==null){p=s;do y=p.lane,Lt.lanes|=y,Qo|=y,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Np(s){var i=Lr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=s(y,E.action),E=E.next;while(E!==p);Yr(y,i.memoizedState)||(tr=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,d]}function Zw(){}function ev(s,i){var l=Lt,d=Lr(),p=i(),y=!Yr(d.memoizedState,p);if(y&&(d.memoizedState=p,tr=!0),d=d.queue,Dp(rv.bind(null,l,d,s),[s]),d.getSnapshot!==i||y||fn!==null&&fn.memoizedState.tag&1){if(l.flags|=2048,Sc(9,nv.bind(null,l,d,p,i),void 0,null),pn===null)throw Error(n(349));(Ko&30)!==0||tv(l,i,p)}return p}function tv(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Lt.updateQueue,i===null?(i={lastEffect:null,stores:null},Lt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function nv(s,i,l,d){i.value=l,i.getSnapshot=d,sv(i)&&iv(s)}function rv(s,i,l){return l(function(){sv(i)&&iv(s)})}function sv(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Yr(s,l)}catch{return!0}}function iv(s){var i=si(s,1);i!==null&&ns(i,s,1,-1)}function ov(s){var i=Ts();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:s},i.queue=s,s=s.dispatch=LI.bind(null,Lt,s),[i.memoizedState,s]}function Sc(s,i,l,d){return s={tag:s,create:i,destroy:l,deps:d,next:null},i=Lt.updateQueue,i===null?(i={lastEffect:null,stores:null},Lt.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s)),s}function av(){return Lr().memoizedState}function hd(s,i,l,d){var p=Ts();Lt.flags|=s,p.memoizedState=Sc(1|i,l,void 0,d===void 0?null:d)}function fd(s,i,l,d){var p=Lr();d=d===void 0?null:d;var y=void 0;if(an!==null){var E=an.memoizedState;if(y=E.destroy,d!==null&&kp(d,E.deps)){p.memoizedState=Sc(i,l,y,d);return}}Lt.flags|=s,p.memoizedState=Sc(1|i,l,y,d)}function lv(s,i){return hd(8390656,8,s,i)}function Dp(s,i){return fd(2048,8,s,i)}function cv(s,i){return fd(4,2,s,i)}function uv(s,i){return fd(4,4,s,i)}function dv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function hv(s,i,l){return l=l!=null?l.concat([s]):null,fd(4,4,dv.bind(null,i,s),l)}function Op(){}function fv(s,i){var l=Lr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&kp(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function pv(s,i){var l=Lr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&kp(i,d[1])?d[0]:(s=s(),l.memoizedState=[s,i],s)}function mv(s,i,l){return(Ko&21)===0?(s.baseState&&(s.baseState=!1,tr=!0),s.memoizedState=l):(Yr(l,i)||(l=xn(),Lt.lanes|=l,Qo|=l,s.baseState=!0),i)}function DI(s,i){var l=tt;tt=l!==0&&4>l?l:4,s(!0);var d=xp.transition;xp.transition={};try{s(!1),i()}finally{tt=l,xp.transition=d}}function gv(){return Lr().memoizedState}function OI(s,i,l){var d=Qi(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},yv(s))wv(i,l);else if(l=Kw(s,i,l,d),l!==null){var p=zn();ns(l,s,d,p),vv(l,i,d)}}function LI(s,i,l){var d=Qi(s),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(yv(s))wv(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,A=y(E,l);if(p.hasEagerState=!0,p.eagerState=A,Yr(A,E)){var j=i.interleaved;j===null?(p.next=p,Ep(i)):(p.next=j.next,j.next=p),i.interleaved=p;return}}catch{}finally{}l=Kw(s,i,p,d),l!==null&&(p=zn(),ns(l,s,d,p),vv(l,i,d))}}function yv(s){var i=s.alternate;return s===Lt||i!==null&&i===Lt}function wv(s,i){Cc=dd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function vv(s,i,l){if((l&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Oi(s,l)}}var pd={readContext:Or,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},MI={readContext:Or,useCallback:function(s,i){return Ts().memoizedState=[s,i===void 0?null:i],s},useContext:Or,useEffect:lv,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,hd(4194308,4,dv.bind(null,i,s),l)},useLayoutEffect:function(s,i){return hd(4194308,4,s,i)},useInsertionEffect:function(s,i){return hd(4,2,s,i)},useMemo:function(s,i){var l=Ts();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var d=Ts();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=OI.bind(null,Lt,s),[d.memoizedState,s]},useRef:function(s){var i=Ts();return s={current:s},i.memoizedState=s},useState:ov,useDebugValue:Op,useDeferredValue:function(s){return Ts().memoizedState=s},useTransition:function(){var s=ov(!1),i=s[0];return s=DI.bind(null,s[1]),Ts().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var d=Lt,p=Ts();if(At){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),pn===null)throw Error(n(349));(Ko&30)!==0||tv(d,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,lv(rv.bind(null,d,y,s),[s]),d.flags|=2048,Sc(9,nv.bind(null,d,y,l,i),void 0,null),l},useId:function(){var s=Ts(),i=pn.identifierPrefix;if(At){var l=ri,d=ni;l=(d&~(1<<32-Ft(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Tc++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=NI++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},jI={readContext:Or,useCallback:fv,useContext:Or,useEffect:Dp,useImperativeHandle:hv,useInsertionEffect:cv,useLayoutEffect:uv,useMemo:pv,useReducer:Ap,useRef:av,useState:function(){return Ap(Ic)},useDebugValue:Op,useDeferredValue:function(s){var i=Lr();return mv(i,an.memoizedState,s)},useTransition:function(){var s=Ap(Ic)[0],i=Lr().memoizedState;return[s,i]},useMutableSource:Zw,useSyncExternalStore:ev,useId:gv,unstable_isNewReconciler:!1},VI={readContext:Or,useCallback:fv,useContext:Or,useEffect:Dp,useImperativeHandle:hv,useInsertionEffect:cv,useLayoutEffect:uv,useMemo:pv,useReducer:Np,useRef:av,useState:function(){return Np(Ic)},useDebugValue:Op,useDeferredValue:function(s){var i=Lr();return an===null?i.memoizedState=s:mv(i,an.memoizedState,s)},useTransition:function(){var s=Np(Ic)[0],i=Lr().memoizedState;return[s,i]},useMutableSource:Zw,useSyncExternalStore:ev,useId:gv,unstable_isNewReconciler:!1};function Zr(s,i){if(s&&s.defaultProps){i=Z({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function Lp(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:Z({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var md={isMounted:function(s){return(s=s._reactInternals)?Vt(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var d=zn(),p=Qi(s),y=ii(d,p);y.payload=i,l!=null&&(y.callback=l),i=qi(s,y,p),i!==null&&(ns(i,s,p,d),ad(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=zn(),p=Qi(s),y=ii(d,p);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=qi(s,y,p),i!==null&&(ns(i,s,p,d),ad(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=zn(),d=Qi(s),p=ii(l,d);p.tag=2,i!=null&&(p.callback=i),i=qi(s,p,d),i!==null&&(ns(i,s,d,l),ad(i,s,d))}};function _v(s,i,l,d,p,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,E):i.prototype&&i.prototype.isPureReactComponent?!hc(l,d)||!hc(p,y):!0}function Ev(s,i,l){var d=!1,p=Bi,y=i.contextType;return typeof y=="object"&&y!==null?y=Or(y):(p=er(i)?zo:kn.current,d=i.contextTypes,y=(d=d!=null)?tl(s,p):Bi),i=new i(l,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=md,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=y),i}function bv(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&md.enqueueReplaceState(i,i.state,null)}function Mp(s,i,l,d){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},bp(s);var y=i.contextType;typeof y=="object"&&y!==null?p.context=Or(y):(y=er(i)?zo:kn.current,p.context=tl(s,y)),p.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Lp(s,i,y,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&md.enqueueReplaceState(p,p.state,null),ld(s,l,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function cl(s,i){try{var l="",d=i;do l+=_e(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:p,digest:null}}function jp(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Vp(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var FI=typeof WeakMap=="function"?WeakMap:Map;function Cv(s,i,l){l=ii(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){bd||(bd=!0,Zp=d),Vp(s,i)},l}function Tv(s,i,l){l=ii(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){Vp(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Vp(s,i),typeof d!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function Iv(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new FI;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),s=ZI.bind(null,s,i,l),i.then(s,s))}function Sv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function xv(s,i,l,d,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=ii(-1,1),i.tag=2,qi(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var $I=ee.ReactCurrentOwner,tr=!1;function Bn(s,i,l,d){i.child=s===null?Gw(i,null,l,d):il(i,s.child,l,d)}function kv(s,i,l,d,p){l=l.render;var y=i.ref;return al(i,p),d=Rp(s,i,l,d,y,p),l=Pp(),s!==null&&!tr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,oi(s,i,p)):(At&&l&&hp(i),i.flags|=1,Bn(s,i,d,p),i.child)}function Rv(s,i,l,d,p){if(s===null){var y=l.type;return typeof y=="function"&&!om(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Pv(s,i,y,d,p)):(s=kd(l.type,null,d,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:hc,l(E,d)&&s.ref===i.ref)return oi(s,i,p)}return i.flags|=1,s=Yi(y,d),s.ref=i.ref,s.return=i,i.child=s}function Pv(s,i,l,d,p){if(s!==null){var y=s.memoizedProps;if(hc(y,d)&&s.ref===i.ref)if(tr=!1,i.pendingProps=d=y,(s.lanes&p)!==0)(s.flags&131072)!==0&&(tr=!0);else return i.lanes=s.lanes,oi(s,i,p)}return Fp(s,i,l,d,p)}function Av(s,i,l){var d=i.pendingProps,p=d.children,y=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(dl,wr),wr|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,wt(dl,wr),wr|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,wt(dl,wr),wr|=d}else y!==null?(d=y.baseLanes|l,i.memoizedState=null):d=l,wt(dl,wr),wr|=d;return Bn(s,i,p,l),i.child}function Nv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Fp(s,i,l,d,p){var y=er(l)?zo:kn.current;return y=tl(i,y),al(i,p),l=Rp(s,i,l,d,y,p),d=Pp(),s!==null&&!tr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,oi(s,i,p)):(At&&d&&hp(i),i.flags|=1,Bn(s,i,l,p),i.child)}function Dv(s,i,l,d,p){if(er(l)){var y=!0;Zu(i)}else y=!1;if(al(i,p),i.stateNode===null)yd(s,i),Ev(i,l,d),Mp(i,l,d,p),d=!0;else if(s===null){var E=i.stateNode,A=i.memoizedProps;E.props=A;var j=E.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Or(Q):(Q=er(l)?zo:kn.current,Q=tl(i,Q));var oe=l.getDerivedStateFromProps,le=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function";le||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==d||j!==Q)&&bv(i,E,d,Q),Hi=!1;var re=i.memoizedState;E.state=re,ld(i,d,E,p),j=i.memoizedState,A!==d||re!==j||Zn.current||Hi?(typeof oe=="function"&&(Lp(i,l,oe,d),j=i.memoizedState),(A=Hi||_v(i,l,A,d,re,j,Q))?(le||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=j),E.props=d,E.state=j,E.context=Q,d=A):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{E=i.stateNode,Qw(s,i),A=i.memoizedProps,Q=i.type===i.elementType?A:Zr(i.type,A),E.props=Q,le=i.pendingProps,re=E.context,j=l.contextType,typeof j=="object"&&j!==null?j=Or(j):(j=er(l)?zo:kn.current,j=tl(i,j));var me=l.getDerivedStateFromProps;(oe=typeof me=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==le||re!==j)&&bv(i,E,d,j),Hi=!1,re=i.memoizedState,E.state=re,ld(i,d,E,p);var we=i.memoizedState;A!==le||re!==we||Zn.current||Hi?(typeof me=="function"&&(Lp(i,l,me,d),we=i.memoizedState),(Q=Hi||_v(i,l,Q,d,re,we,j)||!1)?(oe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,we,j),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,we,j)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=we),E.props=d,E.state=we,E.context=j,d=Q):(typeof E.componentDidUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),d=!1)}return $p(s,i,l,d,y,p)}function $p(s,i,l,d,p,y){Nv(s,i);var E=(i.flags&128)!==0;if(!d&&!E)return p&&Vw(i,l,!1),oi(s,i,y);d=i.stateNode,$I.current=i;var A=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&E?(i.child=il(i,s.child,null,y),i.child=il(i,null,A,y)):Bn(s,i,A,y),i.memoizedState=d.state,p&&Vw(i,l,!0),i.child}function Ov(s){var i=s.stateNode;i.pendingContext?Mw(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Mw(s,i.context,!1),Cp(s,i.containerInfo)}function Lv(s,i,l,d,p){return sl(),gp(p),i.flags|=256,Bn(s,i,l,d),i.child}var Up={dehydrated:null,treeContext:null,retryLane:0};function Bp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Mv(s,i,l){var d=i.pendingProps,p=Ot.current,y=!1,E=(i.flags&128)!==0,A;if((A=E)||(A=s!==null&&s.memoizedState===null?!1:(p&2)!==0),A?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),wt(Ot,p&1),s===null)return mp(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=d.children,s=d.fallback,y?(d=i.mode,y=i.child,E={mode:"hidden",children:E},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Rd(E,d,0,null),s=Zo(s,d,l,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=Bp(l),i.memoizedState=Up,s):zp(i,E));if(p=s.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return UI(s,i,E,d,A,p,l);if(y){y=d.fallback,E=i.mode,p=s.child,A=p.sibling;var j={mode:"hidden",children:d.children};return(E&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=j,i.deletions=null):(d=Yi(p,j),d.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=Yi(A,y):(y=Zo(y,E,l,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,E=s.child.memoizedState,E=E===null?Bp(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=s.childLanes&~l,i.memoizedState=Up,d}return y=s.child,s=y.sibling,d=Yi(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=d,i.memoizedState=null,d}function zp(s,i){return i=Rd({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function gd(s,i,l,d){return d!==null&&gp(d),il(i,s.child,null,l),s=zp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function UI(s,i,l,d,p,y,E){if(l)return i.flags&256?(i.flags&=-257,d=jp(Error(n(422))),gd(s,i,E,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=d.fallback,p=i.mode,d=Rd({mode:"visible",children:d.children},p,0,null),y=Zo(y,p,E,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&il(i,s.child,null,E),i.child.memoizedState=Bp(E),i.memoizedState=Up,y);if((i.mode&1)===0)return gd(s,i,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var A=d.dgst;return d=A,y=Error(n(419)),d=jp(y,d,void 0),gd(s,i,E,d)}if(A=(E&s.childLanes)!==0,tr||A){if(d=pn,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,si(s,p),ns(d,s,p,-1))}return im(),d=jp(Error(n(421))),gd(s,i,E,d)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=eS.bind(null,s),p._reactRetry=i,null):(s=y.treeContext,yr=$i(p.nextSibling),gr=i,At=!0,Xr=null,s!==null&&(Nr[Dr++]=ni,Nr[Dr++]=ri,Nr[Dr++]=Ho,ni=s.id,ri=s.overflow,Ho=i),i=zp(i,d.children),i.flags|=4096,i)}function jv(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),_p(s.return,i,l)}function Hp(s,i,l,d,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function Vv(s,i,l){var d=i.pendingProps,p=d.revealOrder,y=d.tail;if(Bn(s,i,d.children,l),d=Ot.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&jv(s,l,i);else if(s.tag===19)jv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(wt(Ot,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&cd(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Hp(i,!1,p,l,y);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&cd(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Hp(i,!0,l,null,y);break;case"together":Hp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function yd(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function oi(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Qo|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,l=Yi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Yi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function BI(s,i,l){switch(i.tag){case 3:Ov(i),sl();break;case 5:Xw(i);break;case 1:er(i.type)&&Zu(i);break;case 4:Cp(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;wt(id,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(wt(Ot,Ot.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Mv(s,i,l):(wt(Ot,Ot.current&1),s=oi(s,i,l),s!==null?s.sibling:null);wt(Ot,Ot.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(s.flags&128)!==0){if(d)return Vv(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),wt(Ot,Ot.current),d)break;return null;case 22:case 23:return i.lanes=0,Av(s,i,l)}return oi(s,i,l)}var Fv,qp,$v,Uv;Fv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},qp=function(){},$v=function(s,i,l,d){var p=s.memoizedProps;if(p!==d){s=i.stateNode,Go(Cs.current);var y=null;switch(l){case"input":p=xe(s,p),d=xe(s,d),y=[];break;case"select":p=Z({},p,{value:void 0}),d=Z({},d,{value:void 0}),y=[];break;case"textarea":p=Dt(s,p),d=Dt(s,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Ju)}Po(l,d);var E;l=null;for(Q in p)if(!d.hasOwnProperty(Q)&&p.hasOwnProperty(Q)&&p[Q]!=null)if(Q==="style"){var A=p[Q];for(E in A)A.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?y||(y=[]):(y=y||[]).push(Q,null));for(Q in d){var j=d[Q];if(A=p?.[Q],d.hasOwnProperty(Q)&&j!==A&&(j!=null||A!=null))if(Q==="style")if(A){for(E in A)!A.hasOwnProperty(E)||j&&j.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in j)j.hasOwnProperty(E)&&A[E]!==j[E]&&(l||(l={}),l[E]=j[E])}else l||(y||(y=[]),y.push(Q,l)),l=j;else Q==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,A=A?A.__html:void 0,j!=null&&A!==j&&(y=y||[]).push(Q,j)):Q==="children"?typeof j!="string"&&typeof j!="number"||(y=y||[]).push(Q,""+j):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(j!=null&&Q==="onScroll"&&Ct("scroll",s),y||A===j||(y=[])):(y=y||[]).push(Q,j))}l&&(y=y||[]).push("style",l);var Q=y;(i.updateQueue=Q)&&(i.flags|=4)}},Uv=function(s,i,l,d){l!==d&&(i.flags|=4)};function xc(s,i){if(!At)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Pn(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function zI(s,i,l){var d=i.pendingProps;switch(fp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(i),null;case 1:return er(i.type)&&Xu(),Pn(i),null;case 3:return d=i.stateNode,ll(),Tt(Zn),Tt(kn),Sp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(rd(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xr!==null&&(nm(Xr),Xr=null))),qp(s,i),Pn(i),null;case 5:Tp(i);var p=Go(bc.current);if(l=i.type,s!==null&&i.stateNode!=null)$v(s,i,l,d,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Pn(i),null}if(s=Go(Cs.current),rd(i)){d=i.stateNode,l=i.type;var y=i.memoizedProps;switch(d[bs]=i,d[yc]=y,s=(i.mode&1)!==0,l){case"dialog":Ct("cancel",d),Ct("close",d);break;case"iframe":case"object":case"embed":Ct("load",d);break;case"video":case"audio":for(p=0;p<pc.length;p++)Ct(pc[p],d);break;case"source":Ct("error",d);break;case"img":case"image":case"link":Ct("error",d),Ct("load",d);break;case"details":Ct("toggle",d);break;case"input":rt(d,y),Ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ct("invalid",d);break;case"textarea":Vn(d,y),Ct("invalid",d)}Po(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var A=y[E];E==="children"?typeof A=="string"?d.textContent!==A&&(y.suppressHydrationWarning!==!0&&Qu(d.textContent,A,s),p=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&Qu(d.textContent,A,s),p=["children",""+A]):o.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&Ct("scroll",d)}switch(l){case"input":yt(d),Me(d,y,!0);break;case"textarea":yt(d),So(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Ju)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Bt(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=E.createElement(l,{is:d.is}):(s=E.createElement(l),l==="select"&&(E=s,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):s=E.createElementNS(s,l),s[bs]=i,s[yc]=d,Fv(s,i,!1,!1),i.stateNode=s;e:{switch(E=Ao(l,d),l){case"dialog":Ct("cancel",s),Ct("close",s),p=d;break;case"iframe":case"object":case"embed":Ct("load",s),p=d;break;case"video":case"audio":for(p=0;p<pc.length;p++)Ct(pc[p],s);p=d;break;case"source":Ct("error",s),p=d;break;case"img":case"image":case"link":Ct("error",s),Ct("load",s),p=d;break;case"details":Ct("toggle",s),p=d;break;case"input":rt(s,d),p=xe(s,d),Ct("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=Z({},d,{value:void 0}),Ct("invalid",s);break;case"textarea":Vn(s,d),p=Dt(s,d),Ct("invalid",s);break;default:p=d}Po(l,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var j=A[y];y==="style"?Ro(s,j):y==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&xo(s,j)):y==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&ds(s,j):typeof j=="number"&&ds(s,""+j):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?j!=null&&y==="onScroll"&&Ct("scroll",s):j!=null&&J(s,y,j,E))}switch(l){case"input":yt(s),Me(s,d,!1);break;case"textarea":yt(s),So(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Fe(d.value));break;case"select":s.multiple=!!d.multiple,y=d.value,y!=null?Ue(s,!!d.multiple,y,!1):d.defaultValue!=null&&Ue(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Ju)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Pn(i),null;case 6:if(s&&i.stateNode!=null)Uv(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=Go(bc.current),Go(Cs.current),rd(i)){if(d=i.stateNode,l=i.memoizedProps,d[bs]=i,(y=d.nodeValue!==l)&&(s=gr,s!==null))switch(s.tag){case 3:Qu(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Qu(d.nodeValue,l,(s.mode&1)!==0)}y&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[bs]=i,i.stateNode=d}return Pn(i),null;case 13:if(Tt(Ot),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(At&&yr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Hw(),sl(),i.flags|=98560,y=!1;else if(y=rd(i),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[bs]=i}else sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pn(i),y=!1}else Xr!==null&&(nm(Xr),Xr=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Ot.current&1)!==0?ln===0&&(ln=3):im())),i.updateQueue!==null&&(i.flags|=4),Pn(i),null);case 4:return ll(),qp(s,i),s===null&&mc(i.stateNode.containerInfo),Pn(i),null;case 10:return vp(i.type._context),Pn(i),null;case 17:return er(i.type)&&Xu(),Pn(i),null;case 19:if(Tt(Ot),y=i.memoizedState,y===null)return Pn(i),null;if(d=(i.flags&128)!==0,E=y.rendering,E===null)if(d)xc(y,!1);else{if(ln!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=cd(s),E!==null){for(i.flags|=128,xc(y,!1),d=E.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)y=l,s=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,s=E.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return wt(Ot,Ot.current&1|2),i.child}s=s.sibling}y.tail!==null&&pt()>hl&&(i.flags|=128,d=!0,xc(y,!1),i.lanes=4194304)}else{if(!d)if(s=cd(E),s!==null){if(i.flags|=128,d=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),xc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!At)return Pn(i),null}else 2*pt()-y.renderingStartTime>hl&&l!==1073741824&&(i.flags|=128,d=!0,xc(y,!1),i.lanes=4194304);y.isBackwards?(E.sibling=i.child,i.child=E):(l=y.last,l!==null?l.sibling=E:i.child=E,y.last=E)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=pt(),i.sibling=null,l=Ot.current,wt(Ot,d?l&1|2:l&1),i):(Pn(i),null);case 22:case 23:return sm(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(wr&1073741824)!==0&&(Pn(i),i.subtreeFlags&6&&(i.flags|=8192)):Pn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function HI(s,i){switch(fp(i),i.tag){case 1:return er(i.type)&&Xu(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return ll(),Tt(Zn),Tt(kn),Sp(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Tp(i),null;case 13:if(Tt(Ot),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));sl()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Tt(Ot),null;case 4:return ll(),null;case 10:return vp(i.type._context),null;case 22:case 23:return sm(),null;case 24:return null;default:return null}}var wd=!1,An=!1,qI=typeof WeakSet=="function"?WeakSet:Set,ye=null;function ul(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){$t(s,i,d)}else l.current=null}function Wp(s,i,l){try{l()}catch(d){$t(s,i,d)}}var Bv=!1;function WI(s,i){if(sp=ji,s=_w(),Jf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,A=-1,j=-1,Q=0,oe=0,le=s,re=null;t:for(;;){for(var me;le!==l||p!==0&&le.nodeType!==3||(A=E+p),le!==y||d!==0&&le.nodeType!==3||(j=E+d),le.nodeType===3&&(E+=le.nodeValue.length),(me=le.firstChild)!==null;)re=le,le=me;for(;;){if(le===s)break t;if(re===l&&++Q===p&&(A=E),re===y&&++oe===d&&(j=E),(me=le.nextSibling)!==null)break;le=re,re=le.parentNode}le=me}l=A===-1||j===-1?null:{start:A,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(ip={focusedElem:s,selectionRange:l},ji=!1,ye=i;ye!==null;)if(i=ye,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ye=s;else for(;ye!==null;){i=ye;try{var we=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var ve=we.memoizedProps,Ht=we.memoizedState,H=i.stateNode,$=H.getSnapshotBeforeUpdate(i.elementType===i.type?ve:Zr(i.type,ve),Ht);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var W=i.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){$t(i,i.return,ue)}if(s=i.sibling,s!==null){s.return=i.return,ye=s;break}ye=i.return}return we=Bv,Bv=!1,we}function kc(s,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var y=p.destroy;p.destroy=void 0,y!==void 0&&Wp(i,l,y)}p=p.next}while(p!==d)}}function vd(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Gp(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function zv(s){var i=s.alternate;i!==null&&(s.alternate=null,zv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[bs],delete i[yc],delete i[cp],delete i[kI],delete i[RI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Hv(s){return s.tag===5||s.tag===3||s.tag===4}function qv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Hv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Kp(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ju));else if(d!==4&&(s=s.child,s!==null))for(Kp(s,i,l),s=s.sibling;s!==null;)Kp(s,i,l),s=s.sibling}function Qp(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Qp(s,i,l),s=s.sibling;s!==null;)Qp(s,i,l),s=s.sibling}var bn=null,es=!1;function Wi(s,i,l){for(l=l.child;l!==null;)Wv(s,i,l),l=l.sibling}function Wv(s,i,l){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Qs,l)}catch{}switch(l.tag){case 5:An||ul(l,i);case 6:var d=bn,p=es;bn=null,Wi(s,i,l),bn=d,es=p,bn!==null&&(es?(s=bn,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):bn.removeChild(l.stateNode));break;case 18:bn!==null&&(es?(s=bn,l=l.stateNode,s.nodeType===8?lp(s.parentNode,l):s.nodeType===1&&lp(s,l),Qr(s)):lp(bn,l.stateNode));break;case 4:d=bn,p=es,bn=l.stateNode.containerInfo,es=!0,Wi(s,i,l),bn=d,es=p;break;case 0:case 11:case 14:case 15:if(!An&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Wp(l,i,E),p=p.next}while(p!==d)}Wi(s,i,l);break;case 1:if(!An&&(ul(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){$t(l,i,A)}Wi(s,i,l);break;case 21:Wi(s,i,l);break;case 22:l.mode&1?(An=(d=An)||l.memoizedState!==null,Wi(s,i,l),An=d):Wi(s,i,l);break;default:Wi(s,i,l)}}function Gv(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new qI),i.forEach(function(d){var p=tS.bind(null,s,d);l.has(d)||(l.add(d),d.then(p,p))})}}function ts(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=s,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 5:bn=A.stateNode,es=!1;break e;case 3:bn=A.stateNode.containerInfo,es=!0;break e;case 4:bn=A.stateNode.containerInfo,es=!0;break e}A=A.return}if(bn===null)throw Error(n(160));Wv(y,E,p),bn=null,es=!1;var j=p.alternate;j!==null&&(j.return=null),p.return=null}catch(Q){$t(p,i,Q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Kv(i,s),i=i.sibling}function Kv(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ts(i,s),Is(s),d&4){try{kc(3,s,s.return),vd(3,s)}catch(ve){$t(s,s.return,ve)}try{kc(5,s,s.return)}catch(ve){$t(s,s.return,ve)}}break;case 1:ts(i,s),Is(s),d&512&&l!==null&&ul(l,l.return);break;case 5:if(ts(i,s),Is(s),d&512&&l!==null&&ul(l,l.return),s.flags&32){var p=s.stateNode;try{ds(p,"")}catch(ve){$t(s,s.return,ve)}}if(d&4&&(p=s.stateNode,p!=null)){var y=s.memoizedProps,E=l!==null?l.memoizedProps:y,A=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&$e(p,y),Ao(A,E);var Q=Ao(A,y);for(E=0;E<j.length;E+=2){var oe=j[E],le=j[E+1];oe==="style"?Ro(p,le):oe==="dangerouslySetInnerHTML"?xo(p,le):oe==="children"?ds(p,le):J(p,oe,le,Q)}switch(A){case"input":Ge(p,y);break;case"textarea":Bs(p,y);break;case"select":var re=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?Ue(p,!!y.multiple,me,!1):re!==!!y.multiple&&(y.defaultValue!=null?Ue(p,!!y.multiple,y.defaultValue,!0):Ue(p,!!y.multiple,y.multiple?[]:"",!1))}p[yc]=y}catch(ve){$t(s,s.return,ve)}}break;case 6:if(ts(i,s),Is(s),d&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,y=s.memoizedProps;try{p.nodeValue=y}catch(ve){$t(s,s.return,ve)}}break;case 3:if(ts(i,s),Is(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Qr(i.containerInfo)}catch(ve){$t(s,s.return,ve)}break;case 4:ts(i,s),Is(s);break;case 13:ts(i,s),Is(s),p=s.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Xp=pt())),d&4&&Gv(s);break;case 22:if(oe=l!==null&&l.memoizedState!==null,s.mode&1?(An=(Q=An)||oe,ts(i,s),An=Q):ts(i,s),Is(s),d&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!oe&&(s.mode&1)!==0)for(ye=s,oe=s.child;oe!==null;){for(le=ye=oe;ye!==null;){switch(re=ye,me=re.child,re.tag){case 0:case 11:case 14:case 15:kc(4,re,re.return);break;case 1:ul(re,re.return);var we=re.stateNode;if(typeof we.componentWillUnmount=="function"){d=re,l=re.return;try{i=d,we.props=i.memoizedProps,we.state=i.memoizedState,we.componentWillUnmount()}catch(ve){$t(d,l,ve)}}break;case 5:ul(re,re.return);break;case 22:if(re.memoizedState!==null){Yv(le);continue}}me!==null?(me.return=re,ye=me):Yv(le)}oe=oe.sibling}e:for(oe=null,le=s;;){if(le.tag===5){if(oe===null){oe=le;try{p=le.stateNode,Q?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=le.stateNode,j=le.memoizedProps.style,E=j!=null&&j.hasOwnProperty("display")?j.display:null,A.style.display=ko("display",E))}catch(ve){$t(s,s.return,ve)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=Q?"":le.memoizedProps}catch(ve){$t(s,s.return,ve)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===s)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===s)break e;for(;le.sibling===null;){if(le.return===null||le.return===s)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:ts(i,s),Is(s),d&4&&Gv(s);break;case 21:break;default:ts(i,s),Is(s)}}function Is(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(Hv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(ds(p,""),d.flags&=-33);var y=qv(s);Qp(s,y,p);break;case 3:case 4:var E=d.stateNode.containerInfo,A=qv(s);Kp(s,A,E);break;default:throw Error(n(161))}}catch(j){$t(s,s.return,j)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function GI(s,i,l){ye=s,Qv(s)}function Qv(s,i,l){for(var d=(s.mode&1)!==0;ye!==null;){var p=ye,y=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||wd;if(!E){var A=p.alternate,j=A!==null&&A.memoizedState!==null||An;A=wd;var Q=An;if(wd=E,(An=j)&&!Q)for(ye=p;ye!==null;)E=ye,j=E.child,E.tag===22&&E.memoizedState!==null?Xv(p):j!==null?(j.return=E,ye=j):Xv(p);for(;y!==null;)ye=y,Qv(y),y=y.sibling;ye=p,wd=A,An=Q}Jv(s)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ye=y):Jv(s)}}function Jv(s){for(;ye!==null;){var i=ye;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:An||vd(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!An)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:Zr(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Yw(i,y,d);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Yw(i,E,l)}break;case 5:var A=i.stateNode;if(l===null&&i.flags&4){l=A;var j=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Q=i.alternate;if(Q!==null){var oe=Q.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&Qr(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}An||i.flags&512&&Gp(i)}catch(re){$t(i,i.return,re)}}if(i===s){ye=null;break}if(l=i.sibling,l!==null){l.return=i.return,ye=l;break}ye=i.return}}function Yv(s){for(;ye!==null;){var i=ye;if(i===s){ye=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ye=l;break}ye=i.return}}function Xv(s){for(;ye!==null;){var i=ye;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{vd(4,i)}catch(j){$t(i,l,j)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(j){$t(i,p,j)}}var y=i.return;try{Gp(i)}catch(j){$t(i,y,j)}break;case 5:var E=i.return;try{Gp(i)}catch(j){$t(i,E,j)}}}catch(j){$t(i,i.return,j)}if(i===s){ye=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ye=A;break}ye=i.return}}var KI=Math.ceil,_d=ee.ReactCurrentDispatcher,Jp=ee.ReactCurrentOwner,Mr=ee.ReactCurrentBatchConfig,ot=0,pn=null,Yt=null,Cn=0,wr=0,dl=Ui(0),ln=0,Rc=null,Qo=0,Ed=0,Yp=0,Pc=null,nr=null,Xp=0,hl=1/0,ai=null,bd=!1,Zp=null,Gi=null,Cd=!1,Ki=null,Td=0,Ac=0,em=null,Id=-1,Sd=0;function zn(){return(ot&6)!==0?pt():Id!==-1?Id:Id=pt()}function Qi(s){return(s.mode&1)===0?1:(ot&2)!==0&&Cn!==0?Cn&-Cn:AI.transition!==null?(Sd===0&&(Sd=xn()),Sd):(s=tt,s!==0||(s=window.event,s=s===void 0?16:ic(s.type)),s)}function ns(s,i,l,d){if(50<Ac)throw Ac=0,em=null,Error(n(185));Di(s,l,d),((ot&2)===0||s!==pn)&&(s===pn&&((ot&2)===0&&(Ed|=l),ln===4&&Ji(s,Cn)),rr(s,d),l===1&&ot===0&&(i.mode&1)===0&&(hl=pt()+500,ed&&zi()))}function rr(s,i){var l=s.callbackNode;fr(s,i);var d=sn(s,s===pn?Cn:0);if(d===0)l!==null&&Lo(l),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(l!=null&&Lo(l),i===1)s.tag===0?PI(e_.bind(null,s)):Fw(e_.bind(null,s)),SI(function(){(ot&6)===0&&zi()}),l=null;else{switch(Li(d)){case 1:l=hr;break;case 4:l=gs;break;case 16:l=Jn;break;case 536870912:l=Da;break;default:l=Jn}l=l_(l,Zv.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function Zv(s,i){if(Id=-1,Sd=0,(ot&6)!==0)throw Error(n(327));var l=s.callbackNode;if(fl()&&s.callbackNode!==l)return null;var d=sn(s,s===pn?Cn:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=xd(s,d);else{i=d;var p=ot;ot|=2;var y=n_();(pn!==s||Cn!==i)&&(ai=null,hl=pt()+500,Yo(s,i));do try{YI();break}catch(A){t_(s,A)}while(!0);wp(),_d.current=y,ot=p,Yt!==null?i=0:(pn=null,Cn=0,i=ln)}if(i!==0){if(i===2&&(p=Qt(s),p!==0&&(d=p,i=tm(s,p))),i===1)throw l=Rc,Yo(s,0),Ji(s,d),rr(s,pt()),l;if(i===6)Ji(s,d);else{if(p=s.current.alternate,(d&30)===0&&!QI(p)&&(i=xd(s,d),i===2&&(y=Qt(s),y!==0&&(d=y,i=tm(s,y))),i===1))throw l=Rc,Yo(s,0),Ji(s,d),rr(s,pt()),l;switch(s.finishedWork=p,s.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:Xo(s,nr,ai);break;case 3:if(Ji(s,d),(d&130023424)===d&&(i=Xp+500-pt(),10<i)){if(sn(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){zn(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=ap(Xo.bind(null,s,nr,ai),i);break}Xo(s,nr,ai);break;case 4:if(Ji(s,d),(d&4194240)===d)break;for(i=s.eventTimes,p=-1;0<d;){var E=31-Ft(d);y=1<<E,E=i[E],E>p&&(p=E),d&=~y}if(d=p,d=pt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*KI(d/1960))-d,10<d){s.timeoutHandle=ap(Xo.bind(null,s,nr,ai),d);break}Xo(s,nr,ai);break;case 5:Xo(s,nr,ai);break;default:throw Error(n(329))}}}return rr(s,pt()),s.callbackNode===l?Zv.bind(null,s):null}function tm(s,i){var l=Pc;return s.current.memoizedState.isDehydrated&&(Yo(s,i).flags|=256),s=xd(s,i),s!==2&&(i=nr,nr=l,i!==null&&nm(i)),s}function nm(s){nr===null?nr=s:nr.push.apply(nr,s)}function QI(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!Yr(y(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ji(s,i){for(i&=~Yp,i&=~Ed,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Ft(i),d=1<<l;s[l]=-1,i&=~d}}function e_(s){if((ot&6)!==0)throw Error(n(327));fl();var i=sn(s,0);if((i&1)===0)return rr(s,pt()),null;var l=xd(s,i);if(s.tag!==0&&l===2){var d=Qt(s);d!==0&&(i=d,l=tm(s,d))}if(l===1)throw l=Rc,Yo(s,0),Ji(s,i),rr(s,pt()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Xo(s,nr,ai),rr(s,pt()),null}function rm(s,i){var l=ot;ot|=1;try{return s(i)}finally{ot=l,ot===0&&(hl=pt()+500,ed&&zi())}}function Jo(s){Ki!==null&&Ki.tag===0&&(ot&6)===0&&fl();var i=ot;ot|=1;var l=Mr.transition,d=tt;try{if(Mr.transition=null,tt=1,s)return s()}finally{tt=d,Mr.transition=l,ot=i,(ot&6)===0&&zi()}}function sm(){wr=dl.current,Tt(dl)}function Yo(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,II(l)),Yt!==null)for(l=Yt.return;l!==null;){var d=l;switch(fp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Xu();break;case 3:ll(),Tt(Zn),Tt(kn),Sp();break;case 5:Tp(d);break;case 4:ll();break;case 13:Tt(Ot);break;case 19:Tt(Ot);break;case 10:vp(d.type._context);break;case 22:case 23:sm()}l=l.return}if(pn=s,Yt=s=Yi(s.current,null),Cn=wr=i,ln=0,Rc=null,Yp=Ed=Qo=0,nr=Pc=null,Wo!==null){for(i=0;i<Wo.length;i++)if(l=Wo[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,d.next=E}l.pending=d}Wo=null}return s}function t_(s,i){do{var l=Yt;try{if(wp(),ud.current=pd,dd){for(var d=Lt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}dd=!1}if(Ko=0,fn=an=Lt=null,Cc=!1,Tc=0,Jp.current=null,l===null||l.return===null){ln=1,Rc=i,Yt=null;break}e:{var y=s,E=l.return,A=l,j=i;if(i=Cn,A.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var Q=j,oe=A,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var re=oe.alternate;re?(oe.updateQueue=re.updateQueue,oe.memoizedState=re.memoizedState,oe.lanes=re.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var me=Sv(E);if(me!==null){me.flags&=-257,xv(me,E,A,y,i),me.mode&1&&Iv(y,Q,i),i=me,j=Q;var we=i.updateQueue;if(we===null){var ve=new Set;ve.add(j),i.updateQueue=ve}else we.add(j);break e}else{if((i&1)===0){Iv(y,Q,i),im();break e}j=Error(n(426))}}else if(At&&A.mode&1){var Ht=Sv(E);if(Ht!==null){(Ht.flags&65536)===0&&(Ht.flags|=256),xv(Ht,E,A,y,i),gp(cl(j,A));break e}}y=j=cl(j,A),ln!==4&&(ln=2),Pc===null?Pc=[y]:Pc.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var H=Cv(y,j,i);Jw(y,H);break e;case 1:A=j;var $=y.type,W=y.stateNode;if((y.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Gi===null||!Gi.has(W)))){y.flags|=65536,i&=-i,y.lanes|=i;var ue=Tv(y,A,i);Jw(y,ue);break e}}y=y.return}while(y!==null)}s_(l)}catch(Ee){i=Ee,Yt===l&&l!==null&&(Yt=l=l.return);continue}break}while(!0)}function n_(){var s=_d.current;return _d.current=pd,s===null?pd:s}function im(){(ln===0||ln===3||ln===2)&&(ln=4),pn===null||(Qo&268435455)===0&&(Ed&268435455)===0||Ji(pn,Cn)}function xd(s,i){var l=ot;ot|=2;var d=n_();(pn!==s||Cn!==i)&&(ai=null,Yo(s,i));do try{JI();break}catch(p){t_(s,p)}while(!0);if(wp(),ot=l,_d.current=d,Yt!==null)throw Error(n(261));return pn=null,Cn=0,ln}function JI(){for(;Yt!==null;)r_(Yt)}function YI(){for(;Yt!==null&&!Na();)r_(Yt)}function r_(s){var i=a_(s.alternate,s,wr);s.memoizedProps=s.pendingProps,i===null?s_(s):Yt=i,Jp.current=null}function s_(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=zI(l,i,wr),l!==null){Yt=l;return}}else{if(l=HI(l,i),l!==null){l.flags&=32767,Yt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ln=6,Yt=null;return}}if(i=i.sibling,i!==null){Yt=i;return}Yt=i=s}while(i!==null);ln===0&&(ln=5)}function Xo(s,i,l){var d=tt,p=Mr.transition;try{Mr.transition=null,tt=1,XI(s,i,l,d)}finally{Mr.transition=p,tt=d}return null}function XI(s,i,l,d){do fl();while(Ki!==null);if((ot&6)!==0)throw Error(n(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(mt(s,y),s===pn&&(Yt=pn=null,Cn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Cd||(Cd=!0,l_(Jn,function(){return fl(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Mr.transition,Mr.transition=null;var E=tt;tt=1;var A=ot;ot|=4,Jp.current=null,WI(s,l),Kv(l,s),wI(ip),ji=!!sp,ip=sp=null,s.current=l,GI(l),nc(),ot=A,tt=E,Mr.transition=y}else s.current=l;if(Cd&&(Cd=!1,Ki=s,Td=p),y=s.pendingLanes,y===0&&(Gi=null),Oa(l.stateNode),rr(s,pt()),i!==null)for(d=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(bd)throw bd=!1,s=Zp,Zp=null,s;return(Td&1)!==0&&s.tag!==0&&fl(),y=s.pendingLanes,(y&1)!==0?s===em?Ac++:(Ac=0,em=s):Ac=0,zi(),null}function fl(){if(Ki!==null){var s=Li(Td),i=Mr.transition,l=tt;try{if(Mr.transition=null,tt=16>s?16:s,Ki===null)var d=!1;else{if(s=Ki,Ki=null,Td=0,(ot&6)!==0)throw Error(n(331));var p=ot;for(ot|=4,ye=s.current;ye!==null;){var y=ye,E=y.child;if((ye.flags&16)!==0){var A=y.deletions;if(A!==null){for(var j=0;j<A.length;j++){var Q=A[j];for(ye=Q;ye!==null;){var oe=ye;switch(oe.tag){case 0:case 11:case 15:kc(8,oe,y)}var le=oe.child;if(le!==null)le.return=oe,ye=le;else for(;ye!==null;){oe=ye;var re=oe.sibling,me=oe.return;if(zv(oe),oe===Q){ye=null;break}if(re!==null){re.return=me,ye=re;break}ye=me}}}var we=y.alternate;if(we!==null){var ve=we.child;if(ve!==null){we.child=null;do{var Ht=ve.sibling;ve.sibling=null,ve=Ht}while(ve!==null)}}ye=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ye=E;else e:for(;ye!==null;){if(y=ye,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:kc(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,ye=H;break e}ye=y.return}}var $=s.current;for(ye=$;ye!==null;){E=ye;var W=E.child;if((E.subtreeFlags&2064)!==0&&W!==null)W.return=E,ye=W;else e:for(E=$;ye!==null;){if(A=ye,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:vd(9,A)}}catch(Ee){$t(A,A.return,Ee)}if(A===E){ye=null;break e}var ue=A.sibling;if(ue!==null){ue.return=A.return,ye=ue;break e}ye=A.return}}if(ot=p,zi(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Qs,s)}catch{}d=!0}return d}finally{tt=l,Mr.transition=i}}return!1}function i_(s,i,l){i=cl(l,i),i=Cv(s,i,1),s=qi(s,i,1),i=zn(),s!==null&&(Di(s,1,i),rr(s,i))}function $t(s,i,l){if(s.tag===3)i_(s,s,l);else for(;i!==null;){if(i.tag===3){i_(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Gi===null||!Gi.has(d))){s=cl(l,s),s=Tv(i,s,1),i=qi(i,s,1),s=zn(),i!==null&&(Di(i,1,s),rr(i,s));break}}i=i.return}}function ZI(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),i=zn(),s.pingedLanes|=s.suspendedLanes&l,pn===s&&(Cn&l)===l&&(ln===4||ln===3&&(Cn&130023424)===Cn&&500>pt()-Xp?Yo(s,0):Yp|=l),rr(s,i)}function o_(s,i){i===0&&((s.mode&1)===0?i=1:(i=Qe,Qe<<=1,(Qe&130023424)===0&&(Qe=4194304)));var l=zn();s=si(s,i),s!==null&&(Di(s,i,l),rr(s,l))}function eS(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),o_(s,l)}function tS(s,i){var l=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),o_(s,l)}var a_;a_=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||Zn.current)tr=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return tr=!1,BI(s,i,l);tr=(s.flags&131072)!==0}else tr=!1,At&&(i.flags&1048576)!==0&&$w(i,nd,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;yd(s,i),s=i.pendingProps;var p=tl(i,kn.current);al(i,l),p=Rp(null,i,d,s,p,l);var y=Pp();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,er(d)?(y=!0,Zu(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,bp(i),p.updater=md,i.stateNode=p,p._reactInternals=i,Mp(i,d,s,l),i=$p(null,i,d,!0,y,l)):(i.tag=0,At&&y&&hp(i),Bn(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(yd(s,i),s=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=rS(d),s=Zr(d,s),p){case 0:i=Fp(null,i,d,s,l);break e;case 1:i=Dv(null,i,d,s,l);break e;case 11:i=kv(null,i,d,s,l);break e;case 14:i=Rv(null,i,d,Zr(d.type,s),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Zr(d,p),Fp(s,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Zr(d,p),Dv(s,i,d,p,l);case 3:e:{if(Ov(i),s===null)throw Error(n(387));d=i.pendingProps,y=i.memoizedState,p=y.element,Qw(s,i),ld(i,d,null,l);var E=i.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=cl(Error(n(423)),i),i=Lv(s,i,d,l,p);break e}else if(d!==p){p=cl(Error(n(424)),i),i=Lv(s,i,d,l,p);break e}else for(yr=$i(i.stateNode.containerInfo.firstChild),gr=i,At=!0,Xr=null,l=Gw(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(sl(),d===p){i=oi(s,i,l);break e}Bn(s,i,d,l)}i=i.child}return i;case 5:return Xw(i),s===null&&mp(i),d=i.type,p=i.pendingProps,y=s!==null?s.memoizedProps:null,E=p.children,op(d,p)?E=null:y!==null&&op(d,y)&&(i.flags|=32),Nv(s,i),Bn(s,i,E,l),i.child;case 6:return s===null&&mp(i),null;case 13:return Mv(s,i,l);case 4:return Cp(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=il(i,null,d,l):Bn(s,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Zr(d,p),kv(s,i,d,p,l);case 7:return Bn(s,i,i.pendingProps,l),i.child;case 8:return Bn(s,i,i.pendingProps.children,l),i.child;case 12:return Bn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,y=i.memoizedProps,E=p.value,wt(id,d._currentValue),d._currentValue=E,y!==null)if(Yr(y.value,E)){if(y.children===p.children&&!Zn.current){i=oi(s,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var A=y.dependencies;if(A!==null){E=y.child;for(var j=A.firstContext;j!==null;){if(j.context===d){if(y.tag===1){j=ii(-1,l&-l),j.tag=2;var Q=y.updateQueue;if(Q!==null){Q=Q.shared;var oe=Q.pending;oe===null?j.next=j:(j.next=oe.next,oe.next=j),Q.pending=j}}y.lanes|=l,j=y.alternate,j!==null&&(j.lanes|=l),_p(y.return,l,i),A.lanes|=l;break}j=j.next}}else if(y.tag===10)E=y.type===i.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(n(341));E.lanes|=l,A=E.alternate,A!==null&&(A.lanes|=l),_p(E,l,i),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===i){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Bn(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,al(i,l),p=Or(p),d=d(p),i.flags|=1,Bn(s,i,d,l),i.child;case 14:return d=i.type,p=Zr(d,i.pendingProps),p=Zr(d.type,p),Rv(s,i,d,p,l);case 15:return Pv(s,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Zr(d,p),yd(s,i),i.tag=1,er(d)?(s=!0,Zu(i)):s=!1,al(i,l),Ev(i,d,p),Mp(i,d,p,l),$p(null,i,d,!0,s,l);case 19:return Vv(s,i,l);case 22:return Av(s,i,l)}throw Error(n(156,i.tag))};function l_(s,i){return Ks(s,i)}function nS(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(s,i,l,d){return new nS(s,i,l,d)}function om(s){return s=s.prototype,!(!s||!s.isReactComponent)}function rS(s){if(typeof s=="function")return om(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===nt)return 14}return 2}function Yi(s,i){var l=s.alternate;return l===null?(l=jr(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function kd(s,i,l,d,p,y){var E=2;if(d=s,typeof s=="function")om(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case R:return Zo(l.children,p,y,i);case T:E=8,p|=8;break;case k:return s=jr(12,l,i,p|2),s.elementType=k,s.lanes=y,s;case x:return s=jr(13,l,i,p),s.elementType=x,s.lanes=y,s;case Oe:return s=jr(19,l,i,p),s.elementType=Oe,s.lanes=y,s;case ie:return Rd(l,p,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:E=10;break e;case M:E=9;break e;case U:E=11;break e;case nt:E=14;break e;case We:E=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=jr(E,l,i,p),i.elementType=s,i.type=d,i.lanes=y,i}function Zo(s,i,l,d){return s=jr(7,s,d,i),s.lanes=l,s}function Rd(s,i,l,d){return s=jr(22,s,d,i),s.elementType=ie,s.lanes=l,s.stateNode={isHidden:!1},s}function am(s,i,l){return s=jr(6,s,null,i),s.lanes=l,s}function lm(s,i,l){return i=jr(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function sS(s,i,l,d,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ni(0),this.expirationTimes=Ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function cm(s,i,l,d,p,y,E,A,j){return s=new sS(s,i,l,A,j),i===1?(i=1,y===!0&&(i|=8)):i=0,y=jr(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},bp(y),s}function iS(s,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:s,containerInfo:i,implementation:l}}function c_(s){if(!s)return Bi;s=s._reactInternals;e:{if(Vt(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(er(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(er(l))return jw(s,l,i)}return i}function u_(s,i,l,d,p,y,E,A,j){return s=cm(l,d,!0,s,p,y,E,A,j),s.context=c_(null),l=s.current,d=zn(),p=Qi(l),y=ii(d,p),y.callback=i??null,qi(l,y,p),s.current.lanes=p,Di(s,p,d),rr(s,d),s}function Pd(s,i,l,d){var p=i.current,y=zn(),E=Qi(p);return l=c_(l),i.context===null?i.context=l:i.pendingContext=l,i=ii(y,E),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=qi(p,i,E),s!==null&&(ns(s,p,E,y),ad(s,p,E)),E}function Ad(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function d_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function um(s,i){d_(s,i),(s=s.alternate)&&d_(s,i)}function oS(){return null}var h_=typeof reportError=="function"?reportError:function(s){console.error(s)};function dm(s){this._internalRoot=s}Nd.prototype.render=dm.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));Pd(s,i,null,null)},Nd.prototype.unmount=dm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Jo(function(){Pd(null,s,null,null)}),i[ei]=null}};function Nd(s){this._internalRoot=s}Nd.prototype.unstable_scheduleHydration=function(s){if(s){var i=Nu();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ws.length&&i!==0&&i<ws[l].priority;l++);ws.splice(l,0,s),l===0&&Lu(s)}};function hm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Dd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function f_(){}function aS(s,i,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var Q=Ad(E);y.call(Q)}}var E=u_(i,d,s,0,null,!1,!1,"",f_);return s._reactRootContainer=E,s[ei]=E.current,mc(s.nodeType===8?s.parentNode:s),Jo(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var A=d;d=function(){var Q=Ad(j);A.call(Q)}}var j=cm(s,0,!1,null,null,!1,!1,"",f_);return s._reactRootContainer=j,s[ei]=j.current,mc(s.nodeType===8?s.parentNode:s),Jo(function(){Pd(i,j,l,d)}),j}function Od(s,i,l,d,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var A=p;p=function(){var j=Ad(E);A.call(j)}}Pd(i,E,s,p)}else E=aS(l,i,s,p,d);return Ad(E)}Pu=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=Rt(i.pendingLanes);l!==0&&(Oi(i,l|1),rr(i,pt()),(ot&6)===0&&(hl=pt()+500,zi()))}break;case 13:Jo(function(){var d=si(s,1);if(d!==null){var p=zn();ns(d,s,1,p)}}),um(s,1)}},ja=function(s){if(s.tag===13){var i=si(s,134217728);if(i!==null){var l=zn();ns(i,s,134217728,l)}um(s,134217728)}},Au=function(s){if(s.tag===13){var i=Qi(s),l=si(s,i);if(l!==null){var d=zn();ns(l,s,i,d)}um(s,i)}},Nu=function(){return tt},Du=function(s,i){var l=tt;try{return tt=s,i()}finally{tt=l}},xi=function(s,i,l){switch(i){case"input":if(Ge(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var p=Yu(d);if(!p)throw Error(n(90));bt(d),Ge(d,p)}}}break;case"textarea":Bs(s,l);break;case"select":i=l.value,i!=null&&Ue(s,!!l.multiple,i,!1)}},ps=rm,ki=Jo;var lS={usingClientEntryPoint:!1,Events:[wc,Za,Yu,xr,No,rm]},Nc={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cS={bundleType:Nc.bundleType,version:Nc.version,rendererPackageName:Nc.rendererPackageName,rendererConfig:Nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ai(s),s===null?null:s.stateNode},findFiberByHostInstance:Nc.findFiberByHostInstance||oS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{Qs=Ld.inject(cS),$n=Ld}catch{}}return sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lS,sr.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hm(i))throw Error(n(200));return iS(s,i,null,l)},sr.createRoot=function(s,i){if(!hm(s))throw Error(n(299));var l=!1,d="",p=h_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=cm(s,1,!1,null,null,l,!1,d,p),s[ei]=i.current,mc(s.nodeType===8?s.parentNode:s),new dm(i)},sr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ai(i),s=s===null?null:s.stateNode,s},sr.flushSync=function(s){return Jo(s)},sr.hydrate=function(s,i,l){if(!Dd(i))throw Error(n(200));return Od(null,s,i,!0,l)},sr.hydrateRoot=function(s,i,l){if(!hm(s))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",E=h_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=u_(i,null,s,1,l??null,p,!1,y,E),s[ei]=i.current,mc(s),d)for(s=0;s<d.length;s++)l=d[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new Nd(i)},sr.render=function(s,i,l){if(!Dd(i))throw Error(n(200));return Od(null,s,i,!1,l)},sr.unmountComponentAtNode=function(s){if(!Dd(s))throw Error(n(40));return s._reactRootContainer?(Jo(function(){Od(null,null,s,!1,function(){s._reactRootContainer=null,s[ei]=null})}),!0):!1},sr.unstable_batchedUpdates=rm,sr.unstable_renderSubtreeIntoContainer=function(s,i,l,d){if(!Dd(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Od(s,i,l,!1,d)},sr.version="18.3.1-next-f1338f8080-20240426",sr}var E_;function wS(){if(E_)return mm.exports;E_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mm.exports=yS(),mm.exports}var b_;function vS(){if(b_)return Md;b_=1;var t=wS();return Md.createRoot=t.createRoot,Md.hydrateRoot=t.hydrateRoot,Md}var _S=vS();const ES=()=>{};var C_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},bS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},JE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,h=u?t[o+1]:0,f=o+2<t.length,m=f?t[o+2]:0,w=a>>2,b=(a&3)<<4|h>>4;let C=(h&15)<<2|m>>6,P=m&63;f||(P=64,u||(C=64)),r.push(n[w],n[b],n[C],n[P])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||m==null||b==null)throw new CS;const C=a<<2|h>>4;if(r.push(C),m!==64){const P=h<<4&240|m>>2;if(r.push(P),b!==64){const N=m<<6&192|b;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TS=function(t){const e=QE(t);return JE.encodeByteArray(e,!0)},ph=function(t){return TS(t).replace(/\./g,"")},YE=function(t){try{return JE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=()=>IS().__FIREBASE_DEFAULTS__,xS=()=>{if(typeof process>"u"||typeof C_>"u")return;const t=C_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YE(t[1]);return e&&JSON.parse(e)},Zh=()=>{try{return ES()||SS()||xS()||kS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XE=t=>Zh()?.emulatorHosts?.[t],ZE=t=>{const e=XE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eb=()=>Zh()?.config,tb=t=>Zh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ng(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ph(JSON.stringify(n)),ph(JSON.stringify(u)),""].join(".")}const Hc={};function PS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hc))Hc[e]?t.emulator.push(e):t.prod.push(e);return t}function AS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let T_=!1;function Dg(t,e){if(typeof window>"u"||typeof document>"u"||!Ea(window.location.host)||Hc[t]===e||Hc[t]||T_)return;Hc[t]=e;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",a=PS().prod.length>0;function u(){const C=document.getElementById(r);C&&C.remove()}function h(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function f(C,P){C.setAttribute("width","24"),C.setAttribute("id",P),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function m(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{T_=!0,u()},C}function w(C,P){C.setAttribute("id",P),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=AS(r),P=n("text"),N=document.getElementById(P)||document.createElement("span"),V=n("learnmore"),D=document.getElementById(V)||document.createElement("a"),G=n("preprendIcon"),q=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const J=C.element;h(J),w(D,V);const ee=m();f(q,G),J.append(q,N,D,ee),document.body.appendChild(J)}a?(N.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function DS(){const t=Zh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jS(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VS(){return!DS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="FirebaseError";class Fs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=US,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?BS(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Fs(o,h,r)}}function BS(t,e){return t.replace(zS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const zS=/\{\$([^}]+)}/g;function HS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],u=e[o];if(I_(a)&&I_(u)){if(!gi(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function I_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Vc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qS(t,e){const n=new WS(t,e);return n.subscribe.bind(n)}class WS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class mo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JS(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QS(t){return t===na?void 0:t}function JS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const XS={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},ZS=Xe.INFO,ex={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},tx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=ex[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Og{constructor(e){this.name=e,this._logLevel=ZS,this._logHandler=tx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const nx=(t,e)=>e.some(n=>t instanceof n);let S_,x_;function rx(){return S_||(S_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sx(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rb=new WeakMap,Hm=new WeakMap,sb=new WeakMap,vm=new WeakMap,Lg=new WeakMap;function ix(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(co(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&rb.set(n,t)}).catch(()=>{}),Lg.set(e,t),e}function ox(t){if(Hm.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Hm.set(t,e)}let qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ax(t){qm=t(qm)}function lx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_m(this),e,...n);return sb.set(r,e.sort?e.sort():[e]),co(r)}:sx().includes(t)?function(...e){return t.apply(_m(this),e),co(rb.get(this))}:function(...e){return co(t.apply(_m(this),e))}}function cx(t){return typeof t=="function"?lx(t):(t instanceof IDBTransaction&&ox(t),nx(t,rx())?new Proxy(t,qm):t)}function co(t){if(t instanceof IDBRequest)return ix(t);if(vm.has(t))return vm.get(t);const e=cx(t);return e!==t&&(vm.set(t,e),Lg.set(e,t)),e}const _m=t=>Lg.get(t);function ux(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),h=co(u);return r&&u.addEventListener("upgradeneeded",f=>{r(co(u.result),f.oldVersion,f.newVersion,co(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const dx=["get","getKey","getAll","getAllKeys","count"],hx=["put","add","delete","clear"],Em=new Map;function k_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=hx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||dx.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&f.done]))[0]};return Em.set(e,a),a}ax(t=>({...t,get:(e,n,r)=>k_(e,n)||t.get(e,n,r),has:(e,n)=>!!k_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(px(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function px(t){return t.getComponent()?.type==="VERSION"}const Wm="@firebase/app",R_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Og("@firebase/app"),mx="@firebase/app-compat",gx="@firebase/analytics-compat",yx="@firebase/analytics",wx="@firebase/app-check-compat",vx="@firebase/app-check",_x="@firebase/auth",Ex="@firebase/auth-compat",bx="@firebase/database",Cx="@firebase/data-connect",Tx="@firebase/database-compat",Ix="@firebase/functions",Sx="@firebase/functions-compat",xx="@firebase/installations",kx="@firebase/installations-compat",Rx="@firebase/messaging",Px="@firebase/messaging-compat",Ax="@firebase/performance",Nx="@firebase/performance-compat",Dx="@firebase/remote-config",Ox="@firebase/remote-config-compat",Lx="@firebase/storage",Mx="@firebase/storage-compat",jx="@firebase/firestore",Vx="@firebase/ai",Fx="@firebase/firestore-compat",$x="firebase",Ux="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",Bx={[Wm]:"fire-core",[mx]:"fire-core-compat",[yx]:"fire-analytics",[gx]:"fire-analytics-compat",[vx]:"fire-app-check",[wx]:"fire-app-check-compat",[_x]:"fire-auth",[Ex]:"fire-auth-compat",[bx]:"fire-rtdb",[Cx]:"fire-data-connect",[Tx]:"fire-rtdb-compat",[Ix]:"fire-fn",[Sx]:"fire-fn-compat",[xx]:"fire-iid",[kx]:"fire-iid-compat",[Rx]:"fire-fcm",[Px]:"fire-fcm-compat",[Ax]:"fire-perf",[Nx]:"fire-perf-compat",[Dx]:"fire-rc",[Ox]:"fire-rc-compat",[Lx]:"fire-gcs",[Mx]:"fire-gcs-compat",[jx]:"fire-fst",[Fx]:"fire-fst-compat",[Vx]:"fire-vertex","fire-js":"fire-js",[$x]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,zx=new Map,Km=new Map;function P_(t,e){try{t.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ha(t){const e=t.name;if(Km.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,t);for(const n of mh.values())P_(n,t);for(const n of zx.values())P_(n,t);return!0}function ef(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new uu("app","Firebase",Hx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=Ux;function ib(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Gm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw uo.create("bad-app-name",{appName:String(o)});if(n||(n=eb()),!n)throw uo.create("no-options");const a=mh.get(o);if(a){if(gi(n,a.options)&&gi(r,a.config))return a;throw uo.create("duplicate-app",{appName:o})}const u=new YS(o);for(const f of Km.values())u.addComponent(f);const h=new qx(n,r,u);return mh.set(o,h),h}function Mg(t=Gm){const e=mh.get(t);if(!e&&t===Gm&&eb())return ib();if(!e)throw uo.create("no-app",{appName:t});return e}function Ps(t,e,n){let r=Bx[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(u.join(" "));return}ha(new mo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="firebase-heartbeat-database",Gx=1,Zc="firebase-heartbeat-store";let bm=null;function ob(){return bm||(bm=ux(Wx,Gx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw uo.create("idb-open",{originalErrorMessage:t.message})})),bm}async function Kx(t){try{const n=(await ob()).transaction(Zc),r=await n.objectStore(Zc).get(ab(t));return await n.done,r}catch(e){if(e instanceof Fs)yi.warn(e.message);else{const n=uo.create("idb-get",{originalErrorMessage:e?.message});yi.warn(n.message)}}}async function A_(t,e){try{const r=(await ob()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,ab(t)),await r.done}catch(n){if(n instanceof Fs)yi.warn(n.message);else{const r=uo.create("idb-set",{originalErrorMessage:n?.message});yi.warn(r.message)}}}function ab(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=1024,Jx=30;class Yx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=N_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Jx){const o=ek(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N_(),{heartbeatsToSend:n,unsentEntries:r}=Xx(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return yi.warn(e),""}}}function N_(){return new Date().toISOString().substring(0,10)}function Xx(t,e=Qx){const n=[];let r=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),D_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),D_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return A_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return A_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function D_(t){return ph(JSON.stringify({version:2,heartbeats:t})).length}function ek(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t){ha(new mo("platform-logger",e=>new fx(e),"PRIVATE")),ha(new mo("heartbeat",e=>new Yx(e),"PRIVATE")),Ps(Wm,R_,t),Ps(Wm,R_,"esm2020"),Ps("fire-js","")}tk("");function lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nk=lb,cb=new uu("auth","Firebase",lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Og("@firebase/auth");function rk(t,...e){gh.logLevel<=Xe.WARN&&gh.warn(`Auth (${ba}): ${t}`,...e)}function Jd(t,...e){gh.logLevel<=Xe.ERROR&&gh.error(`Auth (${ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t,...e){throw Vg(t,...e)}function $r(t,...e){return Vg(t,...e)}function jg(t,e,n){const r={...nk(),[e]:n};return new uu("auth","Firebase",r).create(e,{appName:t.name})}function hi(t){return jg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ub(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ur(t,"argument-error"),jg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cb.create(t,...e)}function Ae(t,e,...n){if(!t)throw Vg(e,...n)}function ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jd(e),new Error(e)}function wi(t,e){t||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){return typeof self<"u"&&self.location?.href||""}function sk(){return O_()==="http:"||O_()==="https:"}function O_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sk()||LS()||"connection"in navigator)?navigator.onLine:!0}function ok(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=NS()||MS()}get(){return ik()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ck=new hu(3e4,6e4);function Ti(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ls(t,e,n,r,o={}){return hb(t,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=du({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:f,...a};return OS()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Ea(t.emulatorConfig.host)&&(m.credentials="include"),db.fetch()(await fb(t,t.config.apiHost,n,h),m)})}async function hb(t,e,n){t._canInitEmulator=!1;const r={...ak,...e};try{const o=new dk(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw jd(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw jd(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw jd(t,"user-disabled",u);const w=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw jg(t,w,m);Ur(t,w)}}catch(o){if(o instanceof Fs)throw o;Ur(t,"network-request-failed",{message:String(o)})}}async function fu(t,e,n,r,o={}){const a=await ls(t,e,n,r,o);return"mfaPendingCredential"in a&&Ur(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function fb(t,e,n,r){const o=`${e}${n}?${r}`,a=t,u=a.config.emulator?Fg(t.config,o):`${t.config.apiScheme}://${o}`;return lk.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function uk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),ck.get())})}}function jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=$r(t,e,r);return o.customData._tokenResponse=n,o}function L_(t){return t!==void 0&&t.enterprise!==void 0}class hk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fk(t,e){return ls(t,"GET","/v2/recaptchaConfig",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(t,e){return ls(t,"POST","/v1/accounts:delete",e)}async function yh(t,e){return ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mk(t,e=!1){const n=xt(t),r=await n.getIdToken(e),o=$g(r);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:qc(Cm(o.auth_time)),issuedAtTime:qc(Cm(o.iat)),expirationTime:qc(Cm(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Cm(t){return Number(t)*1e3}function $g(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{const o=YE(n);return o?JSON.parse(o):(Jd("Failed to decode base64 JWT payload"),null)}catch(o){return Jd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function M_(t){const e=$g(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fs&&gk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t){const e=t.auth,n=await t.getIdToken(),r=await fa(t,yh(e,{idToken:n}));Ae(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=o.providerUserInfo?.length?pb(o.providerUserInfo):[],u=vk(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!u?.length,m=h?f:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,w)}async function wk(t){const e=xt(t);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vk(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function pb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(t,e){const n=await hb(t,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,u=await fb(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&Ea(t.emulatorConfig.host)&&(f.credentials="include"),db.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ek(t,e){return ls(t,"POST","/v2/accounts:revokeToken",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=M_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await _k(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,u=new El;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ae(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ae(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rs{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new yk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fa(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mk(this,e)}reload(){return wk(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await fa(this,pk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,m=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:b,emailVerified:C,isAnonymous:P,providerData:N,stsTokenManager:V}=n;Ae(b&&V,e,"internal-error");const D=El.fromJSON(this.name,V);Ae(typeof b=="string",e,"internal-error"),Zi(r,e.name),Zi(o,e.name),Ae(typeof C=="boolean",e,"internal-error"),Ae(typeof P=="boolean",e,"internal-error"),Zi(a,e.name),Zi(u,e.name),Zi(h,e.name),Zi(f,e.name),Zi(m,e.name),Zi(w,e.name);const G=new rs({uid:b,auth:e,email:o,emailVerified:C,displayName:r,isAnonymous:P,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:D,createdAt:m,lastLoginAt:w});return N&&Array.isArray(N)&&(G.providerData=N.map(q=>({...q}))),f&&(G._redirectEventId=f),G}static async _fromIdTokenResponse(e,n,r=!1){const o=new El;o.updateFromServerResponse(n);const a=new rs({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await wh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?pb(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,h=new El;h.updateFromIdToken(r);const f=new rs({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;function di(t){wi(t instanceof Function,"Expected a class definition");let e=j_.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,j_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mb.type="NONE";const V_=mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Yd(this.userKey,o.apiKey,a),this.fullPersistenceKey=Yd("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?rs._fromGetAccountInfoResponse(this.auth,n,e):null}return rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bl(di(V_),e,r);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||di(V_);const u=Yd(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const w=await m._get(u);if(w){let b;if(typeof w=="string"){const C=await yh(e,{idToken:w}).catch(()=>{});if(!C)break;b=await rs._fromGetAccountInfoResponse(e,C,w)}else b=rs._fromJSON(e,w);m!==a&&(h=b),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new bl(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new bl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Eb(e))return"Blackberry";if(bb(e))return"Webos";if(yb(e))return"Safari";if((e.includes("chrome/")||wb(e))&&!e.includes("edge/"))return"Chrome";if(_b(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function gb(t=Mn()){return/firefox\//i.test(t)}function yb(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wb(t=Mn()){return/crios\//i.test(t)}function vb(t=Mn()){return/iemobile/i.test(t)}function _b(t=Mn()){return/android/i.test(t)}function Eb(t=Mn()){return/blackberry/i.test(t)}function bb(t=Mn()){return/webos/i.test(t)}function Ug(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bk(t=Mn()){return Ug(t)&&!!window.navigator?.standalone}function Ck(){return jS()&&document.documentMode===10}function Cb(t=Mn()){return Ug(t)||_b(t)||bb(t)||Eb(t)||/windows phone/i.test(t)||vb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e=[]){let n;switch(t){case"Browser":n=F_(Mn());break;case"Worker":n=`${F_(Mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(t,e={}){return ls(t,"GET","/v2/passwordPolicy",Ti(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=6;class xk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Sk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new Tk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),r=await rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ok()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(hi(this));const n=e?xt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ik(this),n=new xk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ek(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ii(t){return xt(t)}class $_{constructor(e){this.auth=e,this.observer=null,this.addObserver=qS(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rk(t){tf=t}function Ib(t){return tf.loadJS(t)}function Pk(){return tf.recaptchaEnterpriseScript}function Ak(){return tf.gapiScript}function Nk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Dk{constructor(){this.enterprise=new Ok}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Ok{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Lk="recaptcha-enterprise",Sb="NO_RECAPTCHA";class Mk{constructor(e){this.type=Lk,this.auth=Ii(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{fk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new hk(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;L_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(Sb)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Dk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!n&&L_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Pk();f.length!==0&&(f+=h),Ib(f).then(()=>{o(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function U_(t,e,n,r=!1,o=!1){const a=new Mk(t);let u;if(o)u=Sb;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function vh(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await U_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await U_(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t,e){const n=ef(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(gi(a,e??{}))return o;Ur(o,"already-initialized")}return n.initialize({options:e})}function Vk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(di);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Fk(t,e,n){const r=Ii(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=xb(e),{host:u,port:h}=$k(e),f=h===null?"":`:${h}`,m={url:`${a}//${u}${f}/`},w=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(gi(m,r.config.emulator)&&gi(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,Ea(u)?(Ng(`${a}//${u}${f}`),Dg("Auth",!0)):Uk()}function xb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $k(t){const e=xb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:B_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:B_(u)}}}function B_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Uk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function Bk(t,e){return ls(t,"POST","/v1/accounts:update",e)}async function zk(t,e){return ls(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(t,e){return fu(t,"POST","/v1/accounts:signInWithPassword",Ti(t,e))}async function qk(t,e){return ls(t,"POST","/v1/accounts:sendOobCode",Ti(t,e))}async function Wk(t,e){return qk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e){return fu(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))}async function Kk(t,e){return fu(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Bg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vh(e,n,"signInWithPassword",Hk);case"emailLink":return Gk(e,{email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vh(e,r,"signUpPassword",zk);case"emailLink":return Kk(e,{idToken:n,email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e){return fu(t,"POST","/v1/accounts:signInWithIdp",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="http://localhost";class pa extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=n;if(!r||!o)return null;const u=new pa(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Cl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Cl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cl(e,n)}buildRequest(){const e={requestUri:Qk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yk(t){const e=jc(Vc(t)).link,n=e?jc(Vc(e)).deep_link_id:null,r=jc(Vc(t)).deep_link_id;return(r?jc(Vc(r)).link:null)||r||n||e||t}class zg{constructor(e){const n=jc(Vc(e)),r=n.apiKey??null,o=n.oobCode??null,a=Jk(n.mode??null);Ae(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Yk(e);try{return new zg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.providerId=Ca.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zg.parseLink(n);return Ae(r,"argument-error"),eu._fromEmailAndCode(e,r.code,r.tenantId)}}Ca.PROVIDER_ID="password";Ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends nf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends pu{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rs.credential(n,r)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends pu{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends pu{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return so.credential(n,r)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e){return fu(t,"POST","/v1/accounts:signUp",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await rs._fromIdTokenResponse(e,r,o),u=z_(r);return new ma({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=z_(r);return new ma({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function z_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Fs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new _h(e,n,r,o)}}function kb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(t,a,e,r):a})}async function Zk(t,e,n=!1){const r=await fa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ma._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(hi(r));const o="reauthenticate";try{const a=await fa(t,kb(r,o,e,t),n);Ae(a.idToken,r,"internal-error");const u=$g(a.idToken);Ae(u,r,"internal-error");const{sub:h}=u;return Ae(t.uid===h,r,"user-mismatch"),ma._forOperation(t,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ur(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(t,e,n=!1){if(Hn(t.app))return Promise.reject(hi(t));const r="signIn",o=await kb(t,r,e),a=await ma._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function eR(t,e){return Pb(Ii(t),e)}async function tR(t,e){return Rb(xt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(t){const e=Ii(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Nb(t,e,n){const r=Ii(t);await vh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Wk)}async function nR(t,e,n){if(Hn(t.app))return Promise.reject(hi(t));const r=Ii(t),u=await vh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Ab(t),f}),h=await ma._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function rR(t,e,n){return Hn(t.app)?Promise.reject(hi(t)):eR(xt(t),Ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ab(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(t,e){return ls(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=xt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await fa(r,sR(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function iR(t,e){return oR(xt(t),null,e)}async function oR(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const u=await fa(t,Bk(r,a));await t._updateTokensIfNecessary(u,!0)}function aR(t,e,n,r){return xt(t).onIdTokenChanged(e,n,r)}function lR(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function cR(t,e,n,r){return xt(t).onAuthStateChanged(e,n,r)}function rf(t){return xt(t).signOut()}async function uR(t){return xt(t).delete()}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=1e3,hR=10;class Lb extends Ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Ck()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lb.type="LOCAL";const fR=Lb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb extends Ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Mb.type="SESSION";const jb=Mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async m=>m(n.origin,a)),f=await pR(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=Hg("",20);o.port1.start();const w=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(b){const C=b;if(C.data.eventId===m)switch(C.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(C.data.response);break;default:clearTimeout(w),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return window}function gR(t){As().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function yR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wR(){return navigator?.serviceWorker?.controller||null}function vR(){return Vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebaseLocalStorageDb",_R=1,bh="firebaseLocalStorage",$b="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(t,e){return t.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function ER(){const t=indexedDB.deleteDatabase(Fb);return new mu(t).toPromise()}function Ym(){const t=indexedDB.open(Fb,_R);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bh,{keyPath:$b})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bh)?e(r):(r.close(),await ER(),e(await Ym()))})})}async function H_(t,e,n){const r=of(t,!0).put({[$b]:e,value:n});return new mu(r).toPromise()}async function bR(t,e){const n=of(t,!1).get(e),r=await new mu(n).toPromise();return r===void 0?null:r.value}function q_(t,e){const n=of(t,!0).delete(e);return new mu(n).toPromise()}const CR=800,TR=3;class Ub{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>TR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(vR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yR(),!this.activeServiceWorker)return;this.sender=new mR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await H_(e,Eh,"1"),await q_(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>H_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>bR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=of(o,!1).getAll();return new mu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ub.type="LOCAL";const IR=Ub;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e){return e?di(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SR(t){return Pb(t.auth,new Wg(t),t.bypassAuthState)}function xR(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),Rb(n,new Wg(t),t.bypassAuthState)}async function kR(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),Zk(n,new Wg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SR;case"linkViaPopup":case"linkViaRedirect":return kR;case"reauthViaPopup":case"reauthViaRedirect":return xR;default:Ur(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new hu(2e3,1e4);async function PR(t,e,n){if(Hn(t.app))return Promise.reject($r(t,"operation-not-supported-in-this-environment"));const r=Ii(t);ub(t,e,nf);const o=qg(r,n);return new io(r,"signInViaPopup",e,o).executeNotNull()}async function AR(t,e,n){const r=xt(t);if(Hn(r.auth.app))return Promise.reject($r(r.auth,"operation-not-supported-in-this-environment"));ub(r.auth,e,nf);const o=qg(r.auth,n);return new io(r.auth,"reauthViaPopup",e,o,r).executeNotNull()}class io extends Bb{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=Hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RR.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="pendingRedirect",Xd=new Map;class DR extends Bb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xd.get(this.auth._key());if(!e){try{const r=await OR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xd.set(this.auth._key(),e)}return this.bypassAuthState||Xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OR(t,e){const n=jR(e),r=MR(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function LR(t,e){Xd.set(t._key(),e)}function MR(t){return di(t._redirectPersistence)}function jR(t){return Yd(NR,t.config.apiKey,t.name)}async function VR(t,e,n=!1){if(Hn(t.app))return Promise.reject(hi(t));const r=Ii(t),o=qg(r,e),u=await new DR(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=600*1e3;class $R{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError($r(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FR&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(e))}saveEventToCache(e){this.cachedEventUids.add(W_(e)),this.lastProcessedEventTime=Date.now()}}function W_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function UR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t,e={}){return ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HR=/^https?/;async function qR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BR(t);for(const n of e)try{if(WR(n))return}catch{}Ur(t,"unauthorized-domain")}function WR(t){const e=Qm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!HR.test(n))return!1;if(zR.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new hu(3e4,6e4);function G_(){const t=As().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KR(t){return new Promise((e,n)=>{function r(){G_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G_(),n($r(t,"network-request-failed"))},timeout:GR.get()})}if(As().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(As().gapi?.load)r();else{const o=Nk("iframefcb");return As()[o]=()=>{gapi.load?r():n($r(t,"network-request-failed"))},Ib(`${Ak()}?onload=${o}`).catch(a=>n(a))}}).catch(e=>{throw Zd=null,e})}let Zd=null;function QR(t){return Zd=Zd||KR(t),Zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new hu(5e3,15e3),YR="__/auth/iframe",XR="emulator/auth/iframe",ZR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tP(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fg(e,XR):`https://${t.config.authDomain}/${YR}`,r={apiKey:e.apiKey,appName:t.name,v:ba},o=eP.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${du(r).slice(1)}`}async function nP(t){const e=await QR(t),n=As().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:tP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZR,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=$r(t,"network-request-failed"),h=As().setTimeout(()=>{a(u)},JR.get());function f(){As().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sP=500,iP=600,oP="_blank",aP="http://localhost";class K_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lP(t,e,n,r=sP,o=iP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...rP,width:r.toString(),height:o.toString(),top:a,left:u},m=Mn().toLowerCase();n&&(h=wb(m)?oP:n),gb(m)&&(e=e||aP,f.scrollbars="yes");const w=Object.entries(f).reduce((C,[P,N])=>`${C}${P}=${N},`,"");if(bk(m)&&h!=="_self")return cP(e||"",h),new K_(null);const b=window.open(e||"",h,w);Ae(b,t,"popup-blocked");try{b.focus()}catch{}return new K_(b)}function cP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="__/auth/handler",dP="emulator/auth/handler",hP=encodeURIComponent("fac");async function Q_(t,e,n,r,o,a){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ba,eventId:o};if(e instanceof nf){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",HS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,b]of Object.entries({}))u[w]=b}if(e instanceof pu){const w=e.getScopes().filter(b=>b!=="");w.length>0&&(u.scopes=w.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const f=await t._getAppCheckToken(),m=f?`#${hP}=${encodeURIComponent(f)}`:"";return`${fP(t)}?${du(h).slice(1)}${m}`}function fP({config:t}){return t.emulator?Fg(t,dP):`https://${t.authDomain}/${uP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class pP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=VR,this._overrideRedirectResult=LR}async _openPopup(e,n,r,o){wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Q_(e,n,r,Qm(),o);return lP(e,a,Hg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await Q_(e,n,r,Qm(),o);return gR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(wi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nP(e),r=new $R(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{const a=o?.[0]?.[Tm];a!==void 0&&n(!!a),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cb()||yb()||Ug()}}const mP=pP;var J_="@firebase/auth",Y_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wP(t){ha(new mo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tb(t)},m=new kk(r,o,a,f);return Vk(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ha(new mo("auth-internal",e=>{const n=Ii(e.getProvider("auth").getImmediate());return(r=>new gP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(J_,Y_,yP(t)),Ps(J_,Y_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=300,_P=tb("authIdTokenMaxAge")||vP;let X_=null;const EP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_P)return;const o=n?.token;X_!==o&&(X_=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $s(t=Mg()){const e=ef(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jk(t,{popupRedirectResolver:mP,persistence:[IR,fR,jb]}),r=tb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=EP(a.toString());lR(n,u,()=>u(n.currentUser)),aR(n,h=>u(h))}}const o=XE("auth");return o&&Fk(n,`http://${o}`),n}function bP(){return document.getElementsByTagName("head")?.[0]??document}Rk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=$r("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",bP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wP("Browser");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ho,Hb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,T){function k(){}k.prototype=T.prototype,R.D=T.prototype,R.prototype=new k,R.prototype.constructor=R,R.C=function(L,M,U){for(var x=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)x[Oe-2]=arguments[Oe];return T.prototype[M].apply(L,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,T,k){k||(k=0);var L=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)L[M]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(M=0;16>M;++M)L[M]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=R.g[0],k=R.g[1],M=R.g[2];var U=R.g[3],x=T+(U^k&(M^U))+L[0]+3614090360&4294967295;T=k+(x<<7&4294967295|x>>>25),x=U+(M^T&(k^M))+L[1]+3905402710&4294967295,U=T+(x<<12&4294967295|x>>>20),x=M+(k^U&(T^k))+L[2]+606105819&4294967295,M=U+(x<<17&4294967295|x>>>15),x=k+(T^M&(U^T))+L[3]+3250441966&4294967295,k=M+(x<<22&4294967295|x>>>10),x=T+(U^k&(M^U))+L[4]+4118548399&4294967295,T=k+(x<<7&4294967295|x>>>25),x=U+(M^T&(k^M))+L[5]+1200080426&4294967295,U=T+(x<<12&4294967295|x>>>20),x=M+(k^U&(T^k))+L[6]+2821735955&4294967295,M=U+(x<<17&4294967295|x>>>15),x=k+(T^M&(U^T))+L[7]+4249261313&4294967295,k=M+(x<<22&4294967295|x>>>10),x=T+(U^k&(M^U))+L[8]+1770035416&4294967295,T=k+(x<<7&4294967295|x>>>25),x=U+(M^T&(k^M))+L[9]+2336552879&4294967295,U=T+(x<<12&4294967295|x>>>20),x=M+(k^U&(T^k))+L[10]+4294925233&4294967295,M=U+(x<<17&4294967295|x>>>15),x=k+(T^M&(U^T))+L[11]+2304563134&4294967295,k=M+(x<<22&4294967295|x>>>10),x=T+(U^k&(M^U))+L[12]+1804603682&4294967295,T=k+(x<<7&4294967295|x>>>25),x=U+(M^T&(k^M))+L[13]+4254626195&4294967295,U=T+(x<<12&4294967295|x>>>20),x=M+(k^U&(T^k))+L[14]+2792965006&4294967295,M=U+(x<<17&4294967295|x>>>15),x=k+(T^M&(U^T))+L[15]+1236535329&4294967295,k=M+(x<<22&4294967295|x>>>10),x=T+(M^U&(k^M))+L[1]+4129170786&4294967295,T=k+(x<<5&4294967295|x>>>27),x=U+(k^M&(T^k))+L[6]+3225465664&4294967295,U=T+(x<<9&4294967295|x>>>23),x=M+(T^k&(U^T))+L[11]+643717713&4294967295,M=U+(x<<14&4294967295|x>>>18),x=k+(U^T&(M^U))+L[0]+3921069994&4294967295,k=M+(x<<20&4294967295|x>>>12),x=T+(M^U&(k^M))+L[5]+3593408605&4294967295,T=k+(x<<5&4294967295|x>>>27),x=U+(k^M&(T^k))+L[10]+38016083&4294967295,U=T+(x<<9&4294967295|x>>>23),x=M+(T^k&(U^T))+L[15]+3634488961&4294967295,M=U+(x<<14&4294967295|x>>>18),x=k+(U^T&(M^U))+L[4]+3889429448&4294967295,k=M+(x<<20&4294967295|x>>>12),x=T+(M^U&(k^M))+L[9]+568446438&4294967295,T=k+(x<<5&4294967295|x>>>27),x=U+(k^M&(T^k))+L[14]+3275163606&4294967295,U=T+(x<<9&4294967295|x>>>23),x=M+(T^k&(U^T))+L[3]+4107603335&4294967295,M=U+(x<<14&4294967295|x>>>18),x=k+(U^T&(M^U))+L[8]+1163531501&4294967295,k=M+(x<<20&4294967295|x>>>12),x=T+(M^U&(k^M))+L[13]+2850285829&4294967295,T=k+(x<<5&4294967295|x>>>27),x=U+(k^M&(T^k))+L[2]+4243563512&4294967295,U=T+(x<<9&4294967295|x>>>23),x=M+(T^k&(U^T))+L[7]+1735328473&4294967295,M=U+(x<<14&4294967295|x>>>18),x=k+(U^T&(M^U))+L[12]+2368359562&4294967295,k=M+(x<<20&4294967295|x>>>12),x=T+(k^M^U)+L[5]+4294588738&4294967295,T=k+(x<<4&4294967295|x>>>28),x=U+(T^k^M)+L[8]+2272392833&4294967295,U=T+(x<<11&4294967295|x>>>21),x=M+(U^T^k)+L[11]+1839030562&4294967295,M=U+(x<<16&4294967295|x>>>16),x=k+(M^U^T)+L[14]+4259657740&4294967295,k=M+(x<<23&4294967295|x>>>9),x=T+(k^M^U)+L[1]+2763975236&4294967295,T=k+(x<<4&4294967295|x>>>28),x=U+(T^k^M)+L[4]+1272893353&4294967295,U=T+(x<<11&4294967295|x>>>21),x=M+(U^T^k)+L[7]+4139469664&4294967295,M=U+(x<<16&4294967295|x>>>16),x=k+(M^U^T)+L[10]+3200236656&4294967295,k=M+(x<<23&4294967295|x>>>9),x=T+(k^M^U)+L[13]+681279174&4294967295,T=k+(x<<4&4294967295|x>>>28),x=U+(T^k^M)+L[0]+3936430074&4294967295,U=T+(x<<11&4294967295|x>>>21),x=M+(U^T^k)+L[3]+3572445317&4294967295,M=U+(x<<16&4294967295|x>>>16),x=k+(M^U^T)+L[6]+76029189&4294967295,k=M+(x<<23&4294967295|x>>>9),x=T+(k^M^U)+L[9]+3654602809&4294967295,T=k+(x<<4&4294967295|x>>>28),x=U+(T^k^M)+L[12]+3873151461&4294967295,U=T+(x<<11&4294967295|x>>>21),x=M+(U^T^k)+L[15]+530742520&4294967295,M=U+(x<<16&4294967295|x>>>16),x=k+(M^U^T)+L[2]+3299628645&4294967295,k=M+(x<<23&4294967295|x>>>9),x=T+(M^(k|~U))+L[0]+4096336452&4294967295,T=k+(x<<6&4294967295|x>>>26),x=U+(k^(T|~M))+L[7]+1126891415&4294967295,U=T+(x<<10&4294967295|x>>>22),x=M+(T^(U|~k))+L[14]+2878612391&4294967295,M=U+(x<<15&4294967295|x>>>17),x=k+(U^(M|~T))+L[5]+4237533241&4294967295,k=M+(x<<21&4294967295|x>>>11),x=T+(M^(k|~U))+L[12]+1700485571&4294967295,T=k+(x<<6&4294967295|x>>>26),x=U+(k^(T|~M))+L[3]+2399980690&4294967295,U=T+(x<<10&4294967295|x>>>22),x=M+(T^(U|~k))+L[10]+4293915773&4294967295,M=U+(x<<15&4294967295|x>>>17),x=k+(U^(M|~T))+L[1]+2240044497&4294967295,k=M+(x<<21&4294967295|x>>>11),x=T+(M^(k|~U))+L[8]+1873313359&4294967295,T=k+(x<<6&4294967295|x>>>26),x=U+(k^(T|~M))+L[15]+4264355552&4294967295,U=T+(x<<10&4294967295|x>>>22),x=M+(T^(U|~k))+L[6]+2734768916&4294967295,M=U+(x<<15&4294967295|x>>>17),x=k+(U^(M|~T))+L[13]+1309151649&4294967295,k=M+(x<<21&4294967295|x>>>11),x=T+(M^(k|~U))+L[4]+4149444226&4294967295,T=k+(x<<6&4294967295|x>>>26),x=U+(k^(T|~M))+L[11]+3174756917&4294967295,U=T+(x<<10&4294967295|x>>>22),x=M+(T^(U|~k))+L[2]+718787259&4294967295,M=U+(x<<15&4294967295|x>>>17),x=k+(U^(M|~T))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.u=function(R,T){T===void 0&&(T=R.length);for(var k=T-this.blockSize,L=this.B,M=this.h,U=0;U<T;){if(M==0)for(;U<=k;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<T;)if(L[M++]=R.charCodeAt(U++),M==this.blockSize){o(this,L),M=0;break}}else for(;U<T;)if(L[M++]=R[U++],M==this.blockSize){o(this,L),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;var k=8*this.o;for(T=R.length-8;T<R.length;++T)R[T]=k&255,k/=256;for(this.u(R),R=Array(16),T=k=0;4>T;++T)for(var L=0;32>L;L+=8)R[k++]=this.g[T]>>>L&255;return R};function a(R,T){var k=h;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=T(R)}function u(R,T){this.h=T;for(var k=[],L=!0,M=R.length-1;0<=M;M--){var U=R[M]|0;L&&U==T||(k[M]=U,L=!1)}this.g=k}var h={};function f(R){return-128<=R&&128>R?a(R,function(T){return new u([T|0],0>T?-1:0)}):new u([R|0],0>R?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return b;if(0>R)return D(m(-R));for(var T=[],k=1,L=0;R>=k;L++)T[L]=R/k|0,k*=4294967296;return new u(T,0)}function w(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return D(w(R.substring(1),T));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(T,8)),L=b,M=0;M<R.length;M+=8){var U=Math.min(8,R.length-M),x=parseInt(R.substring(M,M+U),T);8>U?(U=m(Math.pow(T,U)),L=L.j(U).add(m(x))):(L=L.j(k),L=L.add(m(x)))}return L}var b=f(0),C=f(1),P=f(16777216);t=u.prototype,t.m=function(){if(V(this))return-D(this).m();for(var R=0,T=1,k=0;k<this.g.length;k++){var L=this.i(k);R+=(0<=L?L:4294967296+L)*T,T*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(V(this))return"-"+D(this).toString(R);for(var T=m(Math.pow(R,6)),k=this,L="";;){var M=ee(k,T).g;k=G(k,M.j(T));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(R);if(k=M,N(k))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(var T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function V(R){return R.h==-1}t.l=function(R){return R=G(this,R),V(R)?-1:N(R)?0:1};function D(R){for(var T=R.g.length,k=[],L=0;L<T;L++)k[L]=~R.g[L];return new u(k,~R.h).add(C)}t.abs=function(){return V(this)?D(this):this},t.add=function(R){for(var T=Math.max(this.g.length,R.g.length),k=[],L=0,M=0;M<=T;M++){var U=L+(this.i(M)&65535)+(R.i(M)&65535),x=(U>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);L=x>>>16,U&=65535,x&=65535,k[M]=x<<16|U}return new u(k,k[k.length-1]&-2147483648?-1:0)};function G(R,T){return R.add(D(T))}t.j=function(R){if(N(this)||N(R))return b;if(V(this))return V(R)?D(this).j(D(R)):D(D(this).j(R));if(V(R))return D(this.j(D(R)));if(0>this.l(P)&&0>R.l(P))return m(this.m()*R.m());for(var T=this.g.length+R.g.length,k=[],L=0;L<2*T;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<R.g.length;M++){var U=this.i(L)>>>16,x=this.i(L)&65535,Oe=R.i(M)>>>16,nt=R.i(M)&65535;k[2*L+2*M]+=x*nt,q(k,2*L+2*M),k[2*L+2*M+1]+=U*nt,q(k,2*L+2*M+1),k[2*L+2*M+1]+=x*Oe,q(k,2*L+2*M+1),k[2*L+2*M+2]+=U*Oe,q(k,2*L+2*M+2)}for(L=0;L<T;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=T;L<2*T;L++)k[L]=0;return new u(k,0)};function q(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function J(R,T){this.g=R,this.h=T}function ee(R,T){if(N(T))throw Error("division by zero");if(N(R))return new J(b,b);if(V(R))return T=ee(D(R),T),new J(D(T.g),D(T.h));if(V(T))return T=ee(R,D(T)),new J(D(T.g),T.h);if(30<R.g.length){if(V(R)||V(T))throw Error("slowDivide_ only works with positive integers.");for(var k=C,L=T;0>=L.l(R);)k=de(k),L=de(L);var M=se(k,1),U=se(L,1);for(L=se(L,2),k=se(k,2);!N(L);){var x=U.add(L);0>=x.l(R)&&(M=M.add(k),U=x),L=se(L,1),k=se(k,1)}return T=G(R,M.j(T)),new J(M,T)}for(M=b;0<=R.l(T);){for(k=Math.max(1,Math.floor(R.m()/T.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=m(k),x=U.j(T);V(x)||0<x.l(R);)k-=L,U=m(k),x=U.j(T);N(U)&&(U=C),M=M.add(U),R=G(R,x)}return new J(M,R)}t.A=function(R){return ee(this,R).h},t.and=function(R){for(var T=Math.max(this.g.length,R.g.length),k=[],L=0;L<T;L++)k[L]=this.i(L)&R.i(L);return new u(k,this.h&R.h)},t.or=function(R){for(var T=Math.max(this.g.length,R.g.length),k=[],L=0;L<T;L++)k[L]=this.i(L)|R.i(L);return new u(k,this.h|R.h)},t.xor=function(R){for(var T=Math.max(this.g.length,R.g.length),k=[],L=0;L<T;L++)k[L]=this.i(L)^R.i(L);return new u(k,this.h^R.h)};function de(R){for(var T=R.g.length+1,k=[],L=0;L<T;L++)k[L]=R.i(L)<<1|R.i(L-1)>>>31;return new u(k,R.h)}function se(R,T){var k=T>>5;T%=32;for(var L=R.g.length-k,M=[],U=0;U<L;U++)M[U]=0<T?R.i(U+k)>>>T|R.i(U+k+1)<<32-T:R.i(U+k);return new u(M,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Hb=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=w,ho=u}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var Vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qb,Fc,Wb,eh,Xm,Gb,Kb,Qb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vd=="object"&&Vd];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in _))break e;_=_[z]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,S=!1,z={next:function(){if(!S&&_<c.length){var Y=_++;return{value:g(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function w(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function C(c,g,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:b,C.apply(null,arguments)}function P(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,z,Y){for(var he=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)he[ft-2]=arguments[ft];return g.prototype[z].apply(S,he)}}function V(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function D(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const z=c.length||0,Y=S.length||0;c.length=z+Y;for(let he=0;he<Y;he++)c[z+he]=S[he]}else c.push(S)}}class G{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function q(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var de=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function se(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function R(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function T(c){const g={};for(const _ in c)g[_]=c[_];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,g){let _,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(_ in S)c[_]=S[_];for(let Y=0;Y<k.length;Y++)_=k[Y],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){h.setTimeout(()=>{throw c},0)}function x(){var c=K;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Oe{constructor(){this.h=this.g=null}add(g,_){const S=nt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var nt=new G(()=>new We,c=>c.reset());class We{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,F=!1,K=new Oe,Z=()=>{const c=h.Promise.resolve(void 0);ie=()=>{c.then(O)}};var O=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){U(_)}var g=nt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}F=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var fe=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c})();function _e(c,g){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(de){e:{try{ee(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ke[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_e.aa.h.call(this)}}N(_e,ae);var ke={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(c,g,_,S,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=z,this.key=++Fe,this.da=this.fa=!1}function ht(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yt(c){this.src=c,this.g={},this.h=0}yt.prototype.add=function(c,g,_,S,z){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var he=Re(c,g,S,z);return-1<he?(g=c[he],_||(g.fa=!1)):(g=new Be(g,this.src,Y,!!S,z),g.fa=_,c.push(g)),g};function bt(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],z=Array.prototype.indexOf.call(S,g,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(S,z,1),Y&&(ht(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Re(c,g,_,S){for(var z=0;z<c.length;++z){var Y=c[z];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==S)return z}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),rt={};function $e(c,g,_,S,z){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)$e(c,g[Y],_,S,z);return null}return _=So(_),c&&c[Ve]?c.K(g,_,m(S)?!!S.capture:!1,z):Ge(c,g,_,!1,S,z)}function Ge(c,g,_,S,z,Y){if(!g)throw Error("Invalid event type");var he=m(z)?!!z.capture:!!z,ft=Vn(c);if(ft||(c[xe]=ft=new yt(c)),_=ft.add(g,_,S,he,Y),_.proxy)return _;if(S=Me(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)fe||(z=he),z===void 0&&(z=!1),c.addEventListener(g.toString(),S,z);else if(c.attachEvent)c.attachEvent(Ue(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Me(){function c(_){return g.call(c.src,c.listener,_)}const g=Dt;return c}function Ke(c,g,_,S,z){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)Ke(c,g[Y],_,S,z);else S=m(S)?!!S.capture:!!S,_=So(_),c&&c[Ve]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],_=Re(Y,_,S,z),-1<_&&(ht(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=Vn(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Re(g,_,S,z)),(_=-1<c?g[c]:null)&&ze(_))}function ze(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ve])bt(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(Ue(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Vn(g))?(bt(_,c),_.h==0&&(_.src=null,g[xe]=null)):ht(c)}}}function Ue(c){return c in rt?rt[c]:rt[c]="on"+c}function Dt(c,g){if(c.da)c=!0;else{g=new _e(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&ze(c),c=_.call(S,g)}return c}function Vn(c){return c=c[xe],c instanceof yt?c:null}var Bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function So(c){return typeof c=="function"?c:(c[Bs]||(c[Bs]=function(g){return c.handleEvent(g)}),c[Bs])}function Bt(){B.call(this),this.i=new yt(this),this.M=this,this.F=null}N(Bt,B),Bt.prototype[Ve]=!0,Bt.prototype.removeEventListener=function(c,g,_,S){Ke(this,c,g,_,S)};function jt(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new ae(g,c);else if(g instanceof ae)g.target=g.target||c;else{var z=g;g=new ae(S,c),L(g,z)}if(z=!0,_)for(var Y=_.length-1;0<=Y;Y--){var he=g.g=_[Y];z=cr(he,S,!0,g)&&z}if(he=g.g=c,z=cr(he,S,!0,g)&&z,z=cr(he,S,!1,g)&&z,_)for(Y=0;Y<_.length;Y++)he=g.g=_[Y],z=cr(he,S,!1,g)&&z}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)ht(_[S]);delete c.g[g],c.h--}}this.F=null},Bt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},Bt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function cr(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,Y=0;Y<g.length;++Y){var he=g[Y];if(he&&!he.da&&he.capture==_){var ft=he.listener,on=he.ha||he.src;he.fa&&bt(c.i,he),z=ft.call(on,S)!==!1&&z}}return z&&!S.defaultPrevented}function xo(c,g,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function ds(c){c.g=xo(()=>{c.g=null,c.i&&(c.i=!1,ds(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class hs extends B{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ds(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){B.call(this),this.h=c,this.g={}}N(fs,B);var ko=[];function Ro(c){se(c.g,function(g,_){this.g.hasOwnProperty(_)&&ze(g)},c),c.g={}}fs.prototype.N=function(){fs.aa.N.call(this),Ro(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=h.JSON.stringify,Po=h.JSON.parse,Ao=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function zs(){}zs.prototype.h=null;function Hs(c){return c.h||(c.h=c.i())}function xi(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){ae.call(this,"d")}N(ur,ae);function Sr(){ae.call(this,"c")}N(Sr,ae);var xr={},No=null;function ps(){return No=No||new Bt}xr.La="serverreachability";function ki(c){ae.call(this,xr.La,c)}N(ki,ae);function kr(c){const g=ps();jt(g,new ki(g))}xr.STAT_EVENT="statevent";function Ri(c,g){ae.call(this,xr.STAT_EVENT,c),this.stat=g}N(Ri,ae);function kt(c){const g=ps();jt(g,new Ri(g,c))}xr.Ma="timingevent";function qs(c,g){ae.call(this,xr.Ma,c),this.size=g}N(qs,ae);function Kn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function Ws(c,g,_,S,z,Y){c.info(function(){if(c.g)if(Y)for(var he="",ft=Y.split("&"),on=0;on<ft.length;on++){var st=ft[on].split("=");if(1<st.length){var hn=st[0];st=st[1];var Jt=hn.split("_");he=2<=Jt.length&&Jt[1]=="type"?he+(hn+"="+st+"&"):he+(hn+"=redacted&")}}else he=null;else he=Y;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+g+`
`+_+`
`+he})}function Pi(c,g,_,S,z,Y,he){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+g+`
`+_+`
`+Y+" "+he})}function Kt(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Do(c,_)+(S?" "+S:"")})}function vn(c,g){c.info(function(){return"TIMEOUT: "+g})}ms.prototype.info=function(){};function Do(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var he=1;he<z.length;he++)z[he]=""}}}}return Si(_)}catch{return g}}var Gs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vt;function Qn(){}N(Qn,zs),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Vt=new Qn;function dr(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rr}function Rr(){this.i=null,this.g="",this.h=!1}var Ai={},qr={};function Ks(c,g,_){c.L=1,c.v=Oi(Qt(g)),c.m=_,c.P=!0,Lo(c,null)}function Lo(c,g){c.F=Date.now(),pt(c),c.A=Qt(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Mi(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Rr,c.g=Uu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new hs(C(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ko[0]=z.toString()),z=ko);for(var Y=0;Y<z.length;Y++){var he=$e(_,z[Y],S||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),kr(),Ws(c.i,c.u,c.A,c.l,c.R,c.m)}dr.prototype.ca=function(c){c=c.target;const g=this.M;g&&Xn(c)==3?g.j():this.Y(c)},dr.prototype.Y=function(c){try{if(c==this.g)e:{const Jt=Xn(this.g);var g=this.g.Ba();const Ar=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||Jt!=4||g==7||(g==8||0>=Ar?kr(3):kr(2)),hr(this);var _=this.g.Z();this.X=_;t:if(Na(this)){var S=oc(this.g);c="";var z=S.length,Y=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),gs(this);var he="";break t}this.h.i=new h.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(Y&&g==z-1)});S.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,Pi(this.i,this.u,this.A,this.l,this.R,Jt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,on=this.g;if((ft=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ft)){var st=ft;break t}}st=null}if(_=st)Kt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mo(this,_);else{this.o=!1,this.s=3,kt(12),Jn(this),gs(this);break e}}if(this.P){_=!0;let mr;for(;!this.J&&this.C<he.length;)if(mr=nc(this,he),mr==qr){Jt==4&&(this.s=4,kt(14),_=!1),Kt(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==Ai){this.s=4,kt(15),Kt(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else Kt(this.i,this.l,mr,null),Mo(this,mr);if(Na(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||he.length!=0||this.h.h||(this.s=1,kt(16),_=!1),this.o=this.o&&_,!_)Kt(this.i,this.l,he,"[Invalid Chunked Response]"),Jn(this),gs(this);else if(0<he.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),lc(hn),hn.M=!0,kt(11))}}else Kt(this.i,this.l,he,null),Mo(this,he);Jt==4&&Jn(this),this.o&&!this.J&&(Jt==4?qa(this.j,this):(this.o=!1,pt(this)))}else $a(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Jn(this),gs(this)}}}catch{}finally{}};function Na(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nc(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?qr:(_=Number(g.substring(_,S)),isNaN(_)?Ai:(S+=1,S+_>g.length?qr:(g=g.slice(S,S+_),c.C=S+_,g)))}dr.prototype.cancel=function(){this.J=!0,Jn(this)};function pt(c){c.S=Date.now()+c.I,zt(c,c.I)}function zt(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Kn(C(c.ba,c),g)}function hr(c){c.B&&(h.clearTimeout(c.B),c.B=null)}dr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(vn(this.i,this.A),this.L!=2&&(kr(),kt(17)),Jn(this),this.s=2,gs(this)):zt(this,this.S-c)};function gs(c){c.j.G==0||c.J||qa(c.j,c)}function Jn(c){hr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ro(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Mo(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Ft(_.h,c))){if(!c.K&&Ft(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ha(_),Jr(_);else break e;za(_),kt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Kn(C(_.Za,_),6e3));if(1>=Oa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zs(_,11)}else if((c.K||_.g==c)&&Ha(_),!q(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let st=z[g];if(_.T=st[0],st=st[1],_.G==2)if(st[0]=="c"){_.K=st[1],_.ia=st[2];const hn=st[3];hn!=null&&(_.la=hn,_.j.info("VER="+_.la));const Jt=st[4];Jt!=null&&(_.Aa=Jt,_.j.info("SVER="+_.Aa));const Ar=st[5];Ar!=null&&typeof Ar=="number"&&0<Ar&&(S=1.5*Ar,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const mr=c.g;if(mr){const Uo=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uo){var Y=S.h;Y.g||Uo.indexOf("spdy")==-1&&Uo.indexOf("quic")==-1&&Uo.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(jo(Y,Y.h),Y.h=null))}if(S.D){const Ga=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(S.ya=Ga,mt(S.I,S.D,Ga))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var he=c;if(S.qa=$u(S,S.J?S.ia:null,S.W),he.K){La(S.h,he);var ft=he,on=S.L;on&&(ft.I=on),ft.B&&(hr(ft),pt(ft)),S.g=he}else $o(S);0<_.i.length&&_s(_)}else st[0]!="stop"&&st[0]!="close"||Zs(_,7);else _.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Zs(_,7):En(_):st[0]!="noop"&&_.l&&_.l.ta(st),_.v=0)}}kr(4)}catch{}}var Da=class{constructor(c,g){this.g=c,this.map=g}};function Qs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $n(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Oa(c){return c.h?1:c.g?c.g.size:0}function Ft(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function jo(c,g){c.g?c.g.add(g):c.h=g}function La(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Qs.prototype.cancel=function(){if(this.i=Ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ma(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return V(c.i)}function Ce(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function Qe(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function Rt(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Qe(c),S=Ce(c),z=S.length,Y=0;Y<z;Y++)g.call(void 0,S[Y],_&&_[Y],c)}var sn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pe(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),z=null;if(0<=S){var Y=c[_].substring(0,S);z=c[_].substring(S+1)}else Y=c[_];g(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function fr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fr){this.h=c.h,xn(this,c.j),this.o=c.o,this.g=c.g,Ni(this,c.s),this.l=c.l;var g=c.i,_=new ys;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Di(this,_),this.m=c.m}else c&&(g=String(c).match(sn))?(this.h=!1,xn(this,g[1]||"",!0),this.o=tt(g[2]||""),this.g=tt(g[3]||"",!0),Ni(this,g[4]),this.l=tt(g[5]||"",!0),Di(this,g[6]||"",!0),this.m=tt(g[7]||"")):(this.h=!1,this.i=new ys(null,this.h))}fr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Li(g,ja,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Li(g,ja,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Li(_,_.charAt(0)=="/"?Nu:Au,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Li(_,rc)),c.join("")};function Qt(c){return new fr(c)}function xn(c,g,_){c.j=_?tt(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ni(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Di(c,g,_){g instanceof ys?(c.i=g,ws(c.i,c.h)):(_||(g=Li(g,Du)),c.i=new ys(g,c.h))}function mt(c,g,_){c.i.set(g,_)}function Oi(c){return mt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function tt(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Li(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Pu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ja=/[#\/\?@]/g,Au=/[#\?:]/g,Nu=/[#\?]/g,Du=/[#\?@]/g,rc=/#/g;function ys(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&Pe(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=ys.prototype,t.add=function(c,g){_n(this),this.i=null,c=Pr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Wr(c,g){_n(c),g=Pr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Gr(c,g){return _n(c),g=Pr(c,g),c.g.has(g)}t.forEach=function(c,g){_n(this),this.g.forEach(function(_,S){_.forEach(function(z){c.call(g,z,S,this)},this)},this)},t.na=function(){_n(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const z=c[S];for(let Y=0;Y<z.length;Y++)_.push(g[S])}return _},t.V=function(c){_n(this);let g=[];if(typeof c=="string")Gr(this,c)&&(g=g.concat(this.g.get(Pr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},t.set=function(c,g){return _n(this),this.i=null,c=Pr(this,c),Gr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Mi(c,g,_){Wr(c,g),0<_.length&&(c.i=null,c.g.set(Pr(c,g),V(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const Y=encodeURIComponent(String(S)),he=this.V(S);for(S=0;S<he.length;S++){var z=Y;he[S]!==""&&(z+="="+encodeURIComponent(String(he[S]))),c.push(z)}}return this.i=c.join("&")};function Pr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ws(c,g){g&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(_,S){var z=S.toLowerCase();S!=z&&(Wr(this,S),Mi(this,z,_))},c)),c.j=g}function Hf(c,g){const _=new ms;if(h.Image){const S=new Image;S.onload=P(Yn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=P(Yn,_,"TestLoadImage: error",!1,g,S),S.onabort=P(Yn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=P(Yn,_,"TestLoadImage: timeout",!1,g,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Ou(c,g){const _=new ms,S=new AbortController,z=setTimeout(()=>{S.abort(),Yn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(z),Y.ok?Yn(_,"TestPingServer: ok",!0,g):Yn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Yn(_,"TestPingServer: error",!1,g)})}function Yn(c,g,_,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(_)}catch{}}function qf(){this.g=new Ao}function Lu(c,g,_){const S=_||"";try{Rt(c,function(z,Y){let he=z;m(z)&&(he=Si(z)),g.push(S+Y+"="+encodeURIComponent(he))})}catch(z){throw g.push(S+"type="+encodeURIComponent("_badmap")),z}}function Js(c){this.l=c.Ub||null,this.j=c.eb||!1}N(Js,zs),Js.prototype.g=function(){return new Vo(this.l,this.j)},Js.prototype.i=(function(c){return function(){return c}})({});function Vo(c,g){Bt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Vo,Bt),t=Vo.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Qr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Kr(this):Qr(this),this.readyState==3&&Mu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Kr(this))},t.Qa=function(c){this.g&&(this.response=c,Kr(this))},t.ga=function(){this.g&&Kr(this)};function Kr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Qr(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Qr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ys(c){let g="";return se(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function ji(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ys(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):mt(c,g,_))}function Pt(c){Bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Pt,Bt);var Wf=/^https?$/i,sc=["POST","PUT"];t=Pt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vt.g(),this.v=this.o?Hs(this.o):Hs(Vt),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){Fo(this,Y);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)_.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())_.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(sc,g,void 0))||S||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,he]of _)this.g.setRequestHeader(Y,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Fo(this,Y)}};function Fo(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Va(c),pr(c)}function Va(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),pr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pr(this,!0)),Pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ic(this):this.bb())},t.bb=function(){ic(this)};function ic(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Xn(c)!=4||c.Z()!=2)){if(c.u&&Xn(c)==4)xo(c.Ea,0,c);else if(jt(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=he===0){var z=String(c.D).match(sn)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),S=!Wf.test(z?z.toLowerCase():"")}_=S}if(_)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var Y=2<Xn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Va(c)}}finally{pr(c)}}}}function pr(c,g){if(c.g){Fa(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||jt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Fa(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Po(g)}};function oc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $a(c){const g={};c=(c.g&&2<=Xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(q(c[S]))continue;var _=M(c[S]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[z]||[];g[z]=Y,Y.push(_)}R(g,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ac(c){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,c),this.cb=vs("retryDelaySeedMs",1e4,c),this.Wa=vs("forwardChannelMaxRetries",2,c),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qs(c&&c.concurrentRequestLimit),this.Da=new qf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ac.prototype,t.la=8,t.G=1,t.connect=function(c,g,_,S){kt(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=$u(this,null,this.W),_s(this)};function En(c){if(Ua(c),c.G==3){var g=c.U++,_=Qt(c.I);if(mt(_,"SID",c.K),mt(_,"RID",g),mt(_,"TYPE","terminate"),Xs(c,_),g=new dr(c,c.j,g),g.L=2,g.v=Oi(Qt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=Uu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),pt(g)}Fu(c)}function Jr(c){c.g&&(lc(c),c.g.cancel(),c.g=null)}function Ua(c){Jr(c),c.u&&(h.clearTimeout(c.u),c.u=null),Ha(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function _s(c){if(!$n(c.h)&&!c.s){c.s=!0;var g=c.Ga;ie||Z(),F||(ie(),F=!0),K.add(g,c),c.B=0}}function Gf(c,g){return Oa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Kn(C(c.Ga,c,g),Vu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new dr(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=T(Y),L(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Vi(this,z,g),_=Qt(this.I),mt(_,"RID",c),mt(_,"CVER",22),this.D&&mt(_,"X-HTTP-Session-Id",this.D),Xs(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(Ys(Y)))+"&"+g:this.m&&ji(_,this.m,Y)),jo(this.h,z),this.Ua&&mt(_,"TYPE","init"),this.P?(mt(_,"$req",g),mt(_,"SID","null"),z.T=!0,Ks(z,_,null)):Ks(z,_,g),this.G=2}}else this.G==3&&(c?Ba(this,c):this.i.length==0||$n(this.h)||Ba(this))};function Ba(c,g){var _;g?_=g.l:_=c.U++;const S=Qt(c.I);mt(S,"SID",c.K),mt(S,"RID",_),mt(S,"AID",c.T),Xs(c,S),c.m&&c.o&&ji(S,c.m,c.o),_=new dr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Vi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),jo(c.h,_),Ks(_,S,g)}function Xs(c,g){c.H&&se(c.H,function(_,S){mt(g,S,_)}),c.l&&Rt({},function(_,S){mt(g,S,_)})}function Vi(c,g,_){_=Math.min(c.i.length,_);var S=c.l?C(c.l.Na,c.l,c):null;e:{var z=c.i;let Y=-1;for(;;){const he=["count="+_];Y==-1?0<_?(Y=z[0].g,he.push("ofs="+Y)):Y=0:he.push("ofs="+Y);let ft=!0;for(let on=0;on<_;on++){let st=z[on].g;const hn=z[on].map;if(st-=Y,0>st)Y=Math.max(0,z[on].g-100),ft=!1;else try{Lu(hn,he,"req"+st+"_")}catch{S&&S(hn)}}if(ft){S=he.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function $o(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ie||Z(),F||(ie(),F=!0),K.add(g,c),c.v=0}}function za(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Kn(C(c.Fa,c),Vu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Kn(C(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Jr(this),ju(this))};function lc(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function ju(c){c.g=new dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Qt(c.qa);mt(g,"RID","rpc"),mt(g,"SID",c.K),mt(g,"AID",c.T),mt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&mt(g,"TO",c.ja),mt(g,"TYPE","xmlhttp"),Xs(c,g),c.m&&c.o&&ji(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Oi(Qt(g)),_.m=null,_.P=!0,Lo(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Jr(this),za(this),kt(19))};function Ha(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function qa(c,g){var _=null;if(c.g==g){Ha(c),lc(c),c.g=null;var S=2}else if(Ft(c.h,g))_=g.D,La(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;S=ps(),jt(S,new qs(S,_)),_s(c)}else $o(c);else if(z=g.s,z==3||z==0&&0<g.X||!(S==1&&Gf(c,g)||S==2&&za(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:Zs(c,5);break;case 4:Zs(c,10);break;case 3:Zs(c,6);break;default:Zs(c,2)}}}function Vu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Zs(c,g){if(c.j.info("Error code "+g),g==2){var _=C(c.fb,c),S=c.Xa;const z=!S;S=new fr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||xn(S,"https"),Oi(S),z?Hf(S.toString(),_):Ou(S.toString(),_)}else kt(2);c.G=0,c.l&&c.l.sa(g),Fu(c),Ua(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Fu(c){if(c.G=0,c.ka=[],c.l){const g=Ma(c.h);(g.length!=0||c.i.length!=0)&&(D(c.ka,g),D(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function $u(c,g,_){var S=_ instanceof fr?Qt(_):new fr(_);if(S.g!="")g&&(S.g=g+"."+S.g),Ni(S,S.s);else{var z=h.location;S=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var Y=new fr(null);S&&xn(Y,S),g&&(Y.g=g),z&&Ni(Y,z),_&&(Y.l=_),S=Y}return _=c.D,g=c.ya,_&&g&&mt(S,_,g),mt(S,"VER",c.la),Xs(c,S),S}function Uu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Pt(new Js({eb:_})):new Pt(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}t=cc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wa(){}Wa.prototype.g=function(c,g){return new Un(c,g)};function Un(c,g){Bt.call(this),this.g=new ac(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Es(this)}N(Un,Bt),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){En(this.g)},Un.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Si(c),c=_);g.i.push(new Da(g.Ya++,c)),g.G==3&&_s(g)},Un.prototype.N=function(){this.g.l=null,delete this.j,En(this.g),delete this.g,Un.aa.N.call(this)};function Bu(c){ur.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}N(Bu,ur);function zu(){Sr.call(this),this.status=1}N(zu,Sr);function Es(c){this.g=c}N(Es,cc),Es.prototype.ua=function(){jt(this.g,"a")},Es.prototype.ta=function(c){jt(this.g,new Bu(c))},Es.prototype.sa=function(c){jt(this.g,new zu)},Es.prototype.ra=function(){jt(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,Qb=function(){return new Wa},Kb=function(){return ps()},Gb=xr,Xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,eh=Gs,Oo.COMPLETE="complete",Wb=Oo,xi.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,Fc=xi,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,qb=Pt}).apply(typeof Vd<"u"?Vd:typeof self<"u"?self:typeof window<"u"?window:{});const e0="@firebase/firestore",t0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Og("@firebase/firestore");function gl(){return ga.logLevel}function ge(t,...e){if(ga.logLevel<=Xe.DEBUG){const n=e.map(Gg);ga.debug(`Firestore (${Hl}): ${t}`,...n)}}function vi(t,...e){if(ga.logLevel<=Xe.ERROR){const n=e.map(Gg);ga.error(`Firestore (${Hl}): ${t}`,...n)}}function xl(t,...e){if(ga.logLevel<=Xe.WARN){const n=e.map(Gg);ga.warn(`Firestore (${Hl}): ${t}`,...n)}}function Gg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Jb(t,r,n)}function Jb(t,e,n){let r=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vi(r),new Error(r)}function dt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||Jb(e,o,r)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Fs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class TP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class IP{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new fi,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new Yb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class SP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=RP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function Zm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),a=e.charAt(r);if(o!==a)return Im(o)===Im(a)?Ze(o,a):Im(o)?1:-1}return Ze(t.length,e.length)}const PP=55296,AP=57343;function Im(t){const e=t.charCodeAt(0);return e>=PP&&e<=AP}function kl(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="__name__";class Ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=Ss.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Ze(e.length,n.length)}static compareSegments(e,n){const r=Ss.isNumericId(e),o=Ss.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ss.extractNumericId(e).compare(Ss.extractNumericId(n)):Zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class _t extends Ss{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const NP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Ss{construct(e,n,r){return new In(e,n,r)}static isValidIdentifier(e){return NP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r0}static keyField(){return new In([r0])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(_t.fromString(e))}static fromName(e){return new be(_t.fromString(e).popFirst(5))}static empty(){return new be(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t,e,n){if(!n)throw new pe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DP(t,e,n,r){if(e===!0&&r===!0)throw new pe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function s0(t){if(!be.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i0(t){if(be.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=af(t);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function gu(t,e){if(!Zb(t))throw new pe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(o&&typeof u!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new pe(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=-62135596800,a0=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*a0);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<o0)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a0}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:rn("string",St._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new St(0,0))}static max(){return new Le(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function OP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new go(o,be.empty(),e)}function LP(t){return new go(t.readTime,t.key,tu)}class go{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new go(Le.min(),be.empty(),tu)}static max(){return new go(Le.max(),be.empty(),tu)}}function MP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==jP)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let o=0,a=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++a,u&&a===o&&n()}),(f=>r(f)))})),u=!0,a===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((o=>o?ne.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,a)=>{r.push(n.call(this,o,a))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;n(e[m]).next((w=>{u[m]=w,++h,h===a&&r(u)}),(w=>o(w)))}}))}static doWhile(e,n){return new ne(((r,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):r()};a()}))}}function FP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=-1;function cf(t){return t==null}function Ch(t){return t===0&&1/t==-1/0}function $P(t){return typeof t=="number"&&Number.isInteger(t)&&!Ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="";function UP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=l0(e)),e=BP(t.get(n),e);return l0(e)}function BP(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case e1:n+="";break;default:n+=a}}return n}function l0(t){return t+e1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function t1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fd(this.root,e,this.comparator,!0)}}class Fd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=o??Tn.EMPTY,this.right=a??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new Tn(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new u0(this.data.getIterator())}getIteratorFrom(e){return new u0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class u0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new _r([])}unionWith(e){let n=new un(In.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new n1("Invalid base64 string: "+a):a}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const zP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=zP.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wt(t.seconds),nanos:Wt(t.nanos)}}function Wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wo(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="server_timestamp",s1="__type__",i1="__previous_value__",o1="__local_write_time__";function Jg(t){return(t?.mapValue?.fields||{})[s1]?.stringValue===r1}function uf(t){const e=t.mapValue.fields[i1];return Jg(e)?uf(e):e}function nu(t){const e=yo(t.mapValue.fields[o1].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,r,o,a,u,h,f,m,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=w}}const Th="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||Th}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="__type__",qP="__max__",$d={mapValue:{}},l1="__vector__",Ih="value";function vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jg(t)?4:GP(t)?9007199254740991:WP(t)?10:11:Ne(28295,{value:t})}function Ms(t,e){if(t===e)return!0;const n=vo(t);if(n!==vo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nu(t).isEqual(nu(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=yo(o.timestampValue),h=yo(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return wo(o.bytesValue).isEqual(wo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Wt(o.geoPointValue.latitude)===Wt(a.geoPointValue.latitude)&&Wt(o.geoPointValue.longitude)===Wt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Wt(o.integerValue)===Wt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Wt(o.doubleValue),h=Wt(a.doubleValue);return u===h?Ch(u)===Ch(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return kl(t.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(c0(u)!==c0(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ms(u[f],h[f])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function su(t,e){return(t.values||[]).find((n=>Ms(n,e)))!==void 0}function Rl(t,e){if(t===e)return 0;const n=vo(t),r=vo(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=Wt(a.integerValue||a.doubleValue),f=Wt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return d0(t.timestampValue,e.timestampValue);case 4:return d0(nu(t),nu(e));case 5:return Zm(t.stringValue,e.stringValue);case 6:return(function(a,u){const h=wo(a),f=wo(u);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const w=Ze(h[m],f[m]);if(w!==0)return w}return Ze(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Ze(Wt(a.latitude),Wt(u.latitude));return h!==0?h:Ze(Wt(a.longitude),Wt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return h0(t.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},m=h[Ih]?.arrayValue,w=f[Ih]?.arrayValue,b=Ze(m?.values?.length||0,w?.values?.length||0);return b!==0?b:h0(m,w)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===$d.mapValue&&u===$d.mapValue)return 0;if(a===$d.mapValue)return 1;if(u===$d.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},w=Object.keys(m);f.sort(),w.sort();for(let b=0;b<f.length&&b<w.length;++b){const C=Zm(f[b],w[b]);if(C!==0)return C;const P=Rl(h[f[b]],m[w[b]]);if(P!==0)return P}return Ze(f.length,w.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function d0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=yo(t),r=yo(e),o=Ze(n.seconds,r.seconds);return o!==0?o:Ze(n.nanos,r.nanos)}function h0(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=Rl(n[o],r[o]);if(a)return a}return Ze(n.length,r.length)}function Pl(t){return eg(t)}function eg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=yo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return wo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=eg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${eg(n.fields[u])}`;return o+"}"})(t.mapValue):Ne(61005,{value:t})}function th(t){switch(vo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(t);return e?16+th(e):16;case 5:return 2*t.stringValue.length;case 6:return wo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+th(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return Co(r.fields,((a,u)=>{o+=a.length+th(u)})),o})(t.mapValue);default:throw Ne(13486,{value:t})}}function f0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tg(t){return!!t&&"integerValue"in t}function Yg(t){return!!t&&"arrayValue"in t}function p0(t){return!!t&&"nullValue"in t}function m0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nh(t){return!!t&&"mapValue"in t}function WP(t){return(t?.mapValue?.fields||{})[a1]?.stringValue===l1}function Wc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Co(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Wc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wc(t.arrayValue.values[n]);return e}return{...t}}function GP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(n)}setAll(e){let n=In.emptyPath(),r={},o=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,o),r={},o=[],n=h.popLast()}u?r[h.lastSegment()]=Wc(u):o.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Co(n,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new or(Wc(this.value))}}function c1(t){const e=[];return Co(t.fields,((n,r)=>{const o=new In([n]);if(nh(r)){const a=c1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new _r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r,o,a,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new On(e,0,Le.min(),Le.min(),Le.min(),or.empty(),0)}static newFoundDocument(e,n,r,o){return new On(e,1,n,Le.min(),r,o,0)}static newNoDocument(e,n){return new On(e,2,n,Le.min(),Le.min(),or.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,Le.min(),Le.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function g0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?r=be.comparator(be.fromName(u.referenceValue),n.key):r=Rl(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function y0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ms(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function KP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{}class tn extends u1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JP(e,n,r):n==="array-contains"?new ZP(e,r):n==="in"?new eA(e,r):n==="not-in"?new tA(e,r):n==="array-contains-any"?new nA(e,r):new tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YP(e,r):new XP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rl(n,this.value)):n!==null&&vo(this.value)===vo(n)&&this.matchesComparison(Rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class as extends u1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new as(e,n)}matches(e){return d1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d1(t){return t.op==="and"}function h1(t){return QP(t)&&d1(t)}function QP(t){for(const e of t.filters)if(e instanceof as)return!1;return!0}function ng(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Pl(t.value);if(h1(t))return t.filters.map((e=>ng(e))).join(",");{const e=t.filters.map((n=>ng(n))).join(",");return`${t.op}(${e})`}}function f1(t,e){return t instanceof tn?(function(r,o){return o instanceof tn&&r.op===o.op&&r.field.isEqual(o.field)&&Ms(r.value,o.value)})(t,e):t instanceof as?(function(r,o){return o instanceof as&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,h)=>a&&f1(u,o.filters[h])),!0):!1})(t,e):void Ne(19439)}function p1(t){return t instanceof tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Pl(n.value)}`})(t):t instanceof as?(function(n){return n.op.toString()+" {"+n.getFilters().map(p1).join(" ,")+"}"})(t):"Filter"}class JP extends tn{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class YP extends tn{constructor(e,n){super(e,"in",n),this.keys=m1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class XP extends tn{constructor(e,n){super(e,"not-in",n),this.keys=m1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function m1(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class ZP extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yg(n)&&su(n.arrayValue,this.value)}}class eA extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class tA extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class nA extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>su(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function w0(t,e=null,n=[],r=[],o=null,a=null,u=null){return new rA(t,e,n,r,o,a,u)}function Xg(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ng(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Pl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Pl(r))).join(",")),e.Te=n}return e.Te}function Zg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!f1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!y0(t.startAt,e.startAt)&&y0(t.endAt,e.endAt)}function rg(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,r=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sA(t,e,n,r,o,a,u,h){return new yu(t,e,n,r,o,a,u,h)}function df(t){return new yu(t)}function v0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function g1(t){return t.collectionGroup!==null}function Gc(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new un(In.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new xh(a,r))})),n.has(In.keyField().canonicalString())||e.Ie.push(new xh(In.keyField(),r))}return e.Ie}function Ns(t){const e=je(t);return e.Ee||(e.Ee=iA(e,Gc(t))),e.Ee}function iA(t,e){if(t.limitType==="F")return w0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new xh(o.field,a)}));const n=t.endAt?new Sh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sh(t.startAt.position,t.startAt.inclusive):null;return w0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sg(t,e){const n=t.filters.concat([e]);return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ig(t,e,n){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hf(t,e){return Zg(Ns(t),Ns(e))&&t.limitType===e.limitType}function y1(t){return`${Xg(Ns(t))}|lt:${t.limitType}`}function yl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>p1(o))).join(", ")}]`),cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Pl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Pl(o))).join(",")),`Target(${r})`})(Ns(t))}; limitType=${t.limitType})`}function ff(t,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,o){for(const a of Gc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(u,h,f){const m=g0(u,h,f);return u.inclusive?m<=0:m<0})(r.startAt,Gc(r),o)||r.endAt&&!(function(u,h,f){const m=g0(u,h,f);return u.inclusive?m>=0:m>0})(r.endAt,Gc(r),o))})(t,e)}function oA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function w1(t){return(e,n)=>{let r=!1;for(const o of Gc(t)){const a=aA(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function aA(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):(function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?Rl(f,m):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,((n,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return t1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new Mt(be.comparator);function _i(){return lA}const v1=new Mt(be.comparator);function $c(...t){let e=v1;for(const n of t)e=e.insert(n.key,n);return e}function _1(t){let e=v1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ia(){return Kc()}function E1(){return Kc()}function Kc(){return new Ta((t=>t.toString()),((t,e)=>t.isEqual(e)))}const cA=new Mt(be.comparator),uA=new un(be.comparator);function et(...t){let e=uA;for(const n of t)e=e.add(n);return e}const dA=new un(Ze);function hA(){return dA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function b1(t){return{integerValue:""+t}}function C1(t,e){return $P(e)?b1(e):ey(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this._=void 0}}function fA(t,e,n){return t instanceof iu?(function(o,a){const u={fields:{[s1]:{stringValue:r1},[o1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Jg(a)&&(a=uf(a)),a&&(u.fields[i1]=a),{mapValue:u}})(n,e):t instanceof Al?I1(t,e):t instanceof Nl?S1(t,e):(function(o,a){const u=T1(o,a),h=_0(u)+_0(o.Ae);return tg(u)&&tg(o.Ae)?b1(h):ey(o.serializer,h)})(t,e)}function pA(t,e,n){return t instanceof Al?I1(t,e):t instanceof Nl?S1(t,e):n}function T1(t,e){return t instanceof ou?(function(r){return tg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class iu extends pf{}class Al extends pf{constructor(e){super(),this.elements=e}}function I1(t,e){const n=x1(e);for(const r of t.elements)n.some((o=>Ms(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Nl extends pf{constructor(e){super(),this.elements=e}}function S1(t,e){let n=x1(e);for(const r of t.elements)n=n.filter((o=>!Ms(o,r)));return{arrayValue:{values:n}}}class ou extends pf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _0(t){return Wt(t.integerValue||t.doubleValue)}function x1(t){return Yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.field=e,this.transform=n}}function mA(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Al&&o instanceof Al||r instanceof Nl&&o instanceof Nl?kl(r.elements,o.elements,Ms):r instanceof ou&&o instanceof ou?Ms(r.Ae,o.Ae):r instanceof iu&&o instanceof iu})(t.transform,e.transform)}class gA{constructor(e,n){this.version=e,this.transformResults=n}}class is{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gf{}function k1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ty(t.key,is.none()):new wu(t.key,t.data,is.none());{const n=t.data,r=or.empty();let o=new un(In.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new To(t.key,r,new _r(o.toArray()),is.none())}}function yA(t,e,n){t instanceof wu?(function(o,a,u){const h=o.value.clone(),f=b0(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof To?(function(o,a,u){if(!rh(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=b0(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(R1(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Qc(t,e,n,r){return t instanceof wu?(function(a,u,h,f){if(!rh(a.precondition,u))return h;const m=a.value.clone(),w=C0(a.fieldTransforms,f,u);return m.setAll(w),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof To?(function(a,u,h,f){if(!rh(a.precondition,u))return h;const m=C0(a.fieldTransforms,f,u),w=u.data;return w.setAll(R1(a)),w.setAll(m),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(a,u,h){return rh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function wA(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=T1(r.transform,o||null);a!=null&&(n===null&&(n=or.empty()),n.set(r.field,a))}return n||null}function E0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&kl(r,o,((a,u)=>mA(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wu extends gf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class To extends gf{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function R1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function b0(t,e,n){const r=new Map;dt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,pA(u,h,n[o]))}return r}function C0(t,e,n){const r=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);r.set(o.field,fA(a,u,e))}return r}class ty extends gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vA extends gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&yA(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E1();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(o.key)?null:h;const f=k1(u,h);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,((n,r)=>E0(n,r)))&&kl(this.baseMutations,e.baseMutations,((n,r)=>E0(n,r)))}}class ny{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){dt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return cA})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new ny(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,it;function CA(t){switch(t){case te.OK:return Ne(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function P1(t){if(t===void 0)return vi("GRPC error has no .code"),te.UNKNOWN;switch(t){case Xt.OK:return te.OK;case Xt.CANCELLED:return te.CANCELLED;case Xt.UNKNOWN:return te.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return te.INTERNAL;case Xt.UNAVAILABLE:return te.UNAVAILABLE;case Xt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Xt.NOT_FOUND:return te.NOT_FOUND;case Xt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Xt.ABORTED:return te.ABORTED;case Xt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Xt.DATA_LOSS:return te.DATA_LOSS;default:return Ne(39323,{code:t})}}(it=Xt||(Xt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new ho([4294967295,4294967295],0);function T0(t){const e=TA().encode(t),n=new Hb;return n.update(e),new Uint8Array(n.digest())}function I0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ho([n,r],0),new ho([o,a],0)]}class ry{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uc(`Invalid padding: ${n}`);if(r<0)throw new Uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ho.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(ho.fromNumber(r)));return o.compare(IA)===1&&(o=new ho([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=T0(e),[r,o]=I0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new ry(a,o,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=T0(e),[r,o]=I0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yf(Le.min(),o,new Mt(Ze),_i(),et())}}class vu{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vu(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class A1{constructor(e,n){this.targetId=e,this.Ce=n}}class N1{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class S0{constructor(){this.ve=0,this.Fe=x0(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),r=et();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ne(38017,{changeType:a})}})),new vu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=x0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SA{constructor(e){this.Ge=e,this.ze=new Map,this.je=_i(),this.Je=Ud(),this.He=Ud(),this.Ye=new Mt(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(rg(a))if(r===0){const u=new be(a.path);this.et(n,u,On.newNoDocument(u,Le.min()))}else dt(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let u,h;try{u=wo(r).toUint8Array()}catch(f){if(f instanceof n1)return xl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new ry(u,o,a)}catch(f){return xl(f instanceof Uc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&rg(h.target)){const f=new be(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,On.newNoDocument(f,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let r=et();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new yf(e,n,this.Ye,this.je,r);return this.je=_i(),this.Je=Ud(),this.He=Ud(),this.Ye=new Mt(Ze),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new S0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new S0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ud(){return new Mt(be.comparator)}function x0(){return new Mt(be.comparator)}const xA={asc:"ASCENDING",desc:"DESCENDING"},kA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RA={and:"AND",or:"OR"};class PA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function og(t,e){return t.useProto3Json||cf(e)?e:{value:e}}function kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AA(t,e){return kh(t,e.toTimestamp())}function Ds(t){return dt(!!t,49232),Le.fromTimestamp((function(n){const r=yo(n);return new St(r.seconds,r.nanos)})(t))}function sy(t,e){return ag(t,e).canonicalString()}function ag(t,e){const n=(function(o){return new _t(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function O1(t){const e=_t.fromString(t);return dt(F1(e),10190,{key:e.toString()}),e}function lg(t,e){return sy(t.databaseId,e.path)}function Sm(t,e){const n=O1(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(M1(n))}function L1(t,e){return sy(t.databaseId,e)}function NA(t){const e=O1(t);return e.length===4?_t.emptyPath():M1(e)}function cg(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function M1(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function k0(t,e,n){return{name:lg(t,e),fields:n.value.mapValue.fields}}function DA(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,w){return m.useProto3Json?(dt(w===void 0||typeof w=="string",58123),Sn.fromBase64String(w||"")):(dt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Sn.fromUint8Array(w||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const w=m.code===void 0?te.UNKNOWN:P1(m.code);return new pe(w,m.message||"")})(u);n=new N1(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Sm(t,r.document.name),a=Ds(r.document.updateTime),u=r.document.createTime?Ds(r.document.createTime):Le.min(),h=new or({mapValue:{fields:r.document.fields}}),f=On.newFoundDocument(o,a,u,h),m=r.targetIds||[],w=r.removedTargetIds||[];n=new sh(m,w,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Sm(t,r.document),a=r.readTime?Ds(r.readTime):Le.min(),u=On.newNoDocument(o,a),h=r.removedTargetIds||[];n=new sh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Sm(t,r.document),a=r.removedTargetIds||[];n=new sh([],a,o,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new bA(o,a),h=r.targetId;n=new A1(h,u)}}return n}function OA(t,e){let n;if(e instanceof wu)n={update:k0(t,e.key,e.value)};else if(e instanceof ty)n={delete:lg(t,e.key)};else if(e instanceof To)n={update:k0(t,e.key,e.data),updateMask:zA(e.fieldMask)};else{if(!(e instanceof vA))return Ne(16599,{Vt:e.type});n={verify:lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof iu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Al)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Nl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ou)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ne(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:AA(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne(27497)})(t,e.precondition)),n}function LA(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?Ds(o.updateTime):Ds(a);return u.isEqual(Le.min())&&(u=Ds(a)),new gA(u,o.transformResults||[])})(n,e)))):[]}function MA(t,e){return{documents:[L1(t,e.path)]}}function jA(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L1(t,o);const a=(function(m){if(m.length!==0)return V1(as.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((w=>(function(C){return{field:wl(C.field),direction:$A(C.dir)}})(w)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=og(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function VA(t){let e=NA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){dt(r===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];n.where&&(a=(function(b){const C=j1(b);return C instanceof as&&h1(C)?C.getFilters():[C]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((C=>(function(N){return new xh(vl(N.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(C)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let C;return C=typeof b=="object"?b.value:b,cf(C)?null:C})(n.limit));let f=null;n.startAt&&(f=(function(b){const C=!!b.before,P=b.values||[];return new Sh(P,C)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const C=!b.before,P=b.values||[];return new Sh(P,C)})(n.endAt)),sA(e,o,u,a,h,"F",f,m)}function FA(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vl(n.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=vl(n.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=vl(n.unaryFilter.field);return tn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=vl(n.unaryFilter.field);return tn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tn.create(vl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return as.create(n.compositeFilter.filters.map((r=>j1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function $A(t){return xA[t]}function UA(t){return kA[t]}function BA(t){return RA[t]}function wl(t){return{fieldPath:t.canonicalString()}}function vl(t){return In.fromServerFormat(t.fieldPath)}function V1(t){return t instanceof tn?(function(n){if(n.op==="=="){if(m0(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NAN"}};if(p0(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m0(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NAN"}};if(p0(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(n.field),op:UA(n.op),value:n.value}}})(t):t instanceof as?(function(n){const r=n.getFilters().map((o=>V1(o)));return r.length===1?r[0]:{compositeFilter:{op:BA(n.op),filters:r}}})(t):Ne(54877,{filter:t})}function zA(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function F1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r,o,a=Le.min(),u=Le.min(),h=Sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.yt=e}}function qA(t){const e=VA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.Cn=new GA}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(go.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(go.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class GA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new un(_t.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new un(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$1=41943040;class ir{static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir($1,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dl(0)}static cr(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="LruGarbageCollector",KA=1048576;function A0([t,e],[n,r]){const o=Ze(t,n);return o===0?Ze(e,r):o}class QA{constructor(e){this.Ir=e,this.buffer=new un(A0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();A0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(P0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wl(n)?ge(P0,"Ignoring IndexedDB error during garbage collection: ",n):await ql(n)}await this.Vr(3e5)}))}}class YA{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(lf.ce);const r=new QA(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(R0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,a,u,h,f,m;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,n)))).next((b=>(a=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(m=Date.now(),gl()<=Xe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-w}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(m-f)+`ms
Total Duration: ${m-w}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:b}))))}}function XA(t,e){return new YA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.changes=new Ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Qc(r.mutation,o,_r.empty(),St.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=et()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((a=>{let u=$c();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=ia();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,et())))}populateOverlays(e,n,r){const o=[];return r.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,o){let a=_i();const u=Kc(),h=(function(){return Kc()})();return n.forEach(((f,m)=>{const w=r.get(m.key);o.has(m.key)&&(w===void 0||w.mutation instanceof To)?a=a.insert(m.key,m):w!==void 0?(u.set(m.key,w.mutation.getFieldMask()),Qc(w.mutation,m,w.mutation.getFieldMask(),St.now())):u.set(m.key,_r.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,w)=>u.set(m,w))),n.forEach(((m,w)=>h.set(m,new e2(w,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Kc();let o=new Mt(((u,h)=>u-h)),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let w=r.get(f)||_r.empty();w=h.applyToLocalView(m,w),r.set(f,w);const b=(o.get(h.batchId)||et()).add(f);o=o.insert(h.batchId,b)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,w=f.value,b=E1();w.forEach((C=>{if(!a.has(C)){const P=k1(n.get(C),r.get(C));P!==null&&b.set(C,P),a=a.add(C)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,b))}return ne.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(u){return be.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):ne.resolve(ia());let h=tu,f=a;return u.next((m=>ne.forEach(m,((w,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),a.get(w)?ne.resolve():this.remoteDocumentCache.getEntry(e,w).next((C=>{f=f.insert(w,C)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,et()))).next((w=>({batchId:h,changes:_1(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let o=$c();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let u=$c();return this.indexManager.getCollectionParents(e,a).next((h=>ne.forEach(h,(f=>{const m=(function(b,C){return new yu(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((w=>{w.forEach(((b,C)=>{u=u.insert(b,C)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o)))).next((u=>{a.forEach(((f,m)=>{const w=m.getKey();u.get(w)===null&&(u=u.insert(w,On.newInvalidDocument(w)))}));let h=$c();return u.forEach(((f,m)=>{const w=a.get(f);w!==void 0&&Qc(w.mutation,m,_r.empty(),St.now()),ff(n,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ds(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:qA(o.bundledQuery),readTime:Ds(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.overlays=new Mt(be.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ia();return ne.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,a)=>{this.St(e,n,a)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const o=ia(),a=n.length+1,u=new be(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new Mt(((m,w)=>m-w));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let w=a.get(m.largestBatchId);w===null&&(w=ia(),a=a.insert(m.largestBatchId,w)),w.set(m.getKey(),m)}}const h=ia(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,w)=>h.set(m,w))),!(h.size()>=o)););return ne.resolve(h)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new EA(n,r));let a=this.qr.get(n);a===void 0&&(a=et(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.Qr=new un(gn.$r),this.Ur=new un(gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new gn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new gn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new be(new _t([])),r=new gn(n,e),o=new gn(n,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new _t([])),r=new gn(n,e),o=new gn(n,e+1);let a=et();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new gn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(gn.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new _A(a,n,r,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new gn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Qg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gn(n,0),o=new gn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const h=this.Xr(u.Yr);a.push(h)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(Ze);return n.forEach((o=>{const a=new gn(o,0),u=new gn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{r=r.add(h.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;be.isDocumentKey(a)||(a=a.child(""));const u=new gn(new be(a),0);let h=new un(Ze);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.Yr)),!0)}),u),ne.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,(o=>{const a=new gn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new gn(n,0),o=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.ri=e,this.docs=(function(){return new Mt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=_i();return n.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():On.newInvalidDocument(o))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=_i();const u=n.path,h=new be(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:w}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||MP(LP(w),r)<=0||(o.has(w.key)||ff(n,w))&&(a=a.insert(w.key,w.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,n,r,o){Ne(9500)}ii(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new a2(this)}getSize(e){return ne.resolve(this.size)}}class a2 extends ZA{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.persistence=e,this.si=new Ta((n=>Xg(n)),Zg),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new iy,this.targetCount=0,this.ai=Dl.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ne.waitFor(a).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new s2,this.referenceDelegate=e(this),this.Pi=new l2(this),this.indexManager=new WA,this.remoteDocumentCache=(function(o){return new o2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new HA(n),this.Ii=new n2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new i2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const o=new c2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class c2 extends VP{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Ri=new iy,this.Vi=null}static mi(e){return new oy(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const o=be.fromPath(r);return this.gi(e,o).next((a=>{a||n.removeEntry(o,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new Ta((r=>UP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=XA(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?ne.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,a.removeEntry(u,Le.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=et(),o=et();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ay(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return VS()?8:FP(Mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new u2;return this.Ss(e,n,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>a.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(gl()<=Xe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(gl()<=Xe.DEBUG&&ge("QueryEngine","Query:",yl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(gl()<=Xe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(n))):ne.resolve())}ys(e,n){if(v0(n))return ne.resolve(null);let r=Ns(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ig(n,null,"F"),r=Ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=et(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.Ds(n,h);return this.Cs(n,m,u,f.readTime)?this.ys(e,ig(n,null,"F")):this.vs(e,m,n,f)}))))})))))}ws(e,n,r,o){return v0(n)||o.isEqual(Le.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,r,o)?ne.resolve(null):(gl()<=Xe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yl(n)),this.vs(e,u,n,OP(o,tu)).next((h=>h)))}))}Ds(e,n){let r=new un(w1(e));return n.forEach(((o,a)=>{ff(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return gl()<=Xe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",yl(n)),this.ps.getDocumentsMatchingQuery(e,n,go.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="LocalStore",h2=3e8;class f2{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Mt(Ze),this.xs=new Ta((a=>Xg(a)),Zg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function p2(t,e,n,r){return new f2(t,e,n,r)}async function B1(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let f=et();for(const m of o){u.push(m.batchId);for(const w of m.mutations)f=f.add(w.key)}for(const m of a){h.push(m.batchId);for(const w of m.mutations)f=f.add(w.key)}return n.localDocuments.getDocuments(r,f).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function m2(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,w){const b=m.batch,C=b.keys();let P=ne.resolve();return C.forEach((N=>{P=P.next((()=>w.getEntry(f,N))).next((V=>{const D=m.docVersions.get(N);dt(D!==null,48541),V.version.compareTo(D)<0&&(b.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),w.addEntry(V)))}))})),P.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=et();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function z1(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function g2(t,e){const n=je(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const h=[];e.targetChanges.forEach(((w,b)=>{const C=o.get(b);if(!C)return;h.push(n.Pi.removeMatchingKeys(a,w.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(a,w.addedDocuments,b))));let P=C.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(Sn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):w.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(w.resumeToken,r)),o=o.insert(b,P),(function(V,D,G){return V.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=h2?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(C,P,w)&&h.push(n.Pi.updateTargetData(a,P))}));let f=_i(),m=et();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,w))})),h.push(y2(a,u,e.documentUpdates).next((w=>{f=w.ks,m=w.qs}))),!r.isEqual(Le.min())){const w=n.Pi.getLastRemoteSnapshotVersion(a).next((b=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(w)}return ne.waitFor(h).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(n.Ms=o,a)))}function y2(t,e,n){let r=et(),o=et();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let u=_i();return n.forEach(((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Le.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ge(ly,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function w2(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Qg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function v2(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((a=>a?(o=a,ne.resolve(o)):n.Pi.allocateTargetId(r).next((u=>(o=new oo(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ug(t,e,n){const r=je(t),o=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Wl(u))throw u;ge(ly,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function N0(t,e,n){const r=je(t);let o=Le.min(),a=et();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,w){const b=je(f),C=b.xs.get(w);return C!==void 0?ne.resolve(b.Ms.get(C)):b.Pi.getTargetData(m,w)})(r,u,Ns(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?o:Le.min(),n?a:et()))).next((h=>(_2(r,oA(e),h),{documents:h,Qs:a})))))}function _2(t,e,n){let r=t.Os.get(e)||Le.min();n.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class D0{constructor(){this.activeTargetIds=hA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E2{constructor(){this.Mo=new D0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new D0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="ConnectivityMonitor";class L0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(O0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(O0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd=null;function dg(){return Bd===null?Bd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bd++,"0x"+Bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="RestConnection",C2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Th?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,a){const u=dg(),h=this.zo(e,n.toUriEncodedString());ge(xm,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(h),w=Ea(m);return this.Jo(e,h,f,r,w).then((b=>(ge(xm,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw xl(xm,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",r),b}))}Ho(e,n,r,o,a,u){return this.Go(e,n,r,o,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const r=C2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class S2 extends T2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const u=dg();return new Promise(((h,f)=>{const m=new qb;m.setWithCredentials(!0),m.listenOnce(Wb.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case eh.NO_ERROR:const b=m.getResponseJson();ge(Nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case eh.TIMEOUT:ge(Nn,`RPC '${e}' ${u} timed out`),f(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const C=m.getStatus();if(ge(Nn,`RPC '${e}' ${u} failed with status:`,C,"response text:",m.getResponseText()),C>0){let P=m.getResponseJson();Array.isArray(P)&&(P=P[0]);const N=P?.error;if(N&&N.status&&N.message){const V=(function(G){const q=G.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(q)>=0?q:te.UNKNOWN})(N.status);f(new pe(V,N.message))}else f(new pe(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new pe(te.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ge(Nn,`RPC '${e}' ${u} completed.`)}}));const w=JSON.stringify(o);ge(Nn,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",w,r,15)}))}T_(e,n,r){const o=dg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Qb(),h=Kb(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const w=a.join("");ge(Nn,`Creating RPC '${e}' stream ${o}: ${w}`,f);const b=u.createWebChannel(w,f);this.I_(b);let C=!1,P=!1;const N=new I2({Yo:D=>{P?ge(Nn,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(C||(ge(Nn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),C=!0),ge(Nn,`RPC '${e}' stream ${o} sending:`,D),b.send(D))},Zo:()=>b.close()}),V=(D,G,q)=>{D.listen(G,(J=>{try{q(J)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return V(b,Fc.EventType.OPEN,(()=>{P||(ge(Nn,`RPC '${e}' stream ${o} transport opened.`),N.o_())})),V(b,Fc.EventType.CLOSE,(()=>{P||(P=!0,ge(Nn,`RPC '${e}' stream ${o} transport closed`),N.a_(),this.E_(b))})),V(b,Fc.EventType.ERROR,(D=>{P||(P=!0,xl(Nn,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),N.a_(new pe(te.UNAVAILABLE,"The operation could not be completed")))})),V(b,Fc.EventType.MESSAGE,(D=>{if(!P){const G=D.data[0];dt(!!G,16349);const q=G,J=q?.error||q[0]?.error;if(J){ge(Nn,`RPC '${e}' stream ${o} received error:`,J);const ee=J.status;let de=(function(T){const k=Xt[T];if(k!==void 0)return P1(k)})(ee),se=J.message;de===void 0&&(de=te.INTERNAL,se="Unknown error status: "+ee+" with message "+J.message),P=!0,N.a_(new pe(de,se)),b.close()}else ge(Nn,`RPC '${e}' stream ${o} received:`,G),N.u_(G)}})),V(h,Gb.STAT_EVENT,(D=>{D.stat===Xm.PROXY?ge(Nn,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===Xm.NOPROXY&&ge(Nn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){return new PA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="PersistentStream";class q1{constructor(e,n,r,o,a,u,h,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new H1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(M0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(M0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class x2 extends q1{constructor(e,n,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DA(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Le.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Le.min():u.readTime?Ds(u.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cg(this.serializer),n.addTarget=(function(a,u){let h;const f=u.target;if(h=rg(f)?{documents:MA(a,f)}:{query:jA(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=D1(a,u.resumeToken);const m=og(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Le.min())>0){h.readTime=kh(a,u.snapshotVersion.toTimestamp());const m=og(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=FA(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cg(this.serializer),n.removeTarget=e,this.q_(n)}}class k2 extends q1{constructor(e,n,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LA(e.writeResults,e.commitTime),r=Ds(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=cg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>OA(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{}class P2 extends R2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,ag(n,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(te.UNKNOWN,a.toString())}))}Ho(e,n,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,ag(n,r),o,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class A2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vi(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class N2{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Ia(this)&&(ge(ya,"Restarting streams for network reachability change."),await(async function(f){const m=je(f);m.Ea.add(4),await _u(m),m.Ra.set("Unknown"),m.Ea.delete(4),await vf(m)})(this))}))})),this.Ra=new A2(r,o)}}async function vf(t){if(Ia(t))for(const e of t.da)await e(!0)}async function _u(t){for(const e of t.da)await e(!1)}function W1(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hy(n)?dy(n):Gl(n).O_()&&uy(n,e))}function cy(t,e){const n=je(t),r=Gl(n);n.Ia.delete(e),r.O_()&&G1(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ia(n)&&n.Ra.set("Unknown"))}function uy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gl(t).Y_(e)}function G1(t,e){t.Va.Ue(e),Gl(t).Z_(e)}function dy(t){t.Va=new SA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gl(t).start(),t.Ra.ua()}function hy(t){return Ia(t)&&!Gl(t).x_()&&t.Ia.size>0}function Ia(t){return je(t).Ea.size===0}function K1(t){t.Va=void 0}async function D2(t){t.Ra.set("Online")}async function O2(t){t.Ia.forEach(((e,n)=>{uy(t,e)}))}async function L2(t,e){K1(t),hy(t)?(t.Ra.ha(e),dy(t)):t.Ra.set("Unknown")}async function M2(t,e,n){if(t.Ra.set("Online"),e instanceof N1&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))})(t,e)}catch(r){ge(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ph(t,r)}else if(e instanceof sh?t.Va.Ze(e):e instanceof A1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const r=await z1(t.localStore);n.compareTo(r)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const w=a.Ia.get(m);w&&a.Ia.set(m,w.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,m)=>{const w=a.Ia.get(f);if(!w)return;a.Ia.set(f,w.withResumeToken(Sn.EMPTY_BYTE_STRING,w.snapshotVersion)),G1(a,f);const b=new oo(w.target,f,m,w.sequenceNumber);uy(a,b)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ge(ya,"Failed to raise snapshot:",r),await Ph(t,r)}}async function Ph(t,e,n){if(!Wl(e))throw e;t.Ea.add(1),await _u(t),t.Ra.set("Offline"),n||(n=()=>z1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(ya,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vf(t)}))}function Q1(t,e){return e().catch((n=>Ph(t,n,e)))}async function _f(t){const e=je(t),n=_o(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qg;for(;j2(e);)try{const o=await w2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,V2(e,o)}catch(o){await Ph(e,o)}J1(e)&&Y1(e)}function j2(t){return Ia(t)&&t.Ta.length<10}function V2(t,e){t.Ta.push(e);const n=_o(t);n.O_()&&n.X_&&n.ea(e.mutations)}function J1(t){return Ia(t)&&!_o(t).x_()&&t.Ta.length>0}function Y1(t){_o(t).start()}async function F2(t){_o(t).ra()}async function $2(t){const e=_o(t);for(const n of t.Ta)e.ea(n.mutations)}async function U2(t,e,n){const r=t.Ta.shift(),o=ny.from(r,e,n);await Q1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await _f(t)}async function B2(t,e){e&&_o(t).X_&&await(async function(r,o){if((function(u){return CA(u)&&u!==te.ABORTED})(o.code)){const a=r.Ta.shift();_o(r).B_(),await Q1(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await _f(r)}})(t,e),J1(t)&&Y1(t)}async function j0(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),ge(ya,"RemoteStore received new credentials");const r=Ia(n);n.Ea.add(3),await _u(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vf(n)}async function z2(t,e){const n=je(t);e?(n.Ea.delete(2),await vf(n)):e||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}function Gl(t){return t.ma||(t.ma=(function(n,r,o){const a=je(n);return a.sa(),new x2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:D2.bind(null,t),t_:O2.bind(null,t),r_:L2.bind(null,t),H_:M2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),hy(t)?dy(t):t.Ra.set("Unknown")):(await t.ma.stop(),K1(t))}))),t.ma}function _o(t){return t.fa||(t.fa=(function(n,r,o){const a=je(n);return a.sa(),new k2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:F2.bind(null,t),r_:B2.bind(null,t),ta:$2.bind(null,t),na:U2.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await _f(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(ya,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const u=Date.now()+r,h=new fy(e,n,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(t,e){if(vi("AsyncQueue",`${e}: ${t}`),Wl(t))return new pe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=$c(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.ga=new Mt(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ol{constructor(e,n,r,o,a,u,h,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,a){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Ol(e,n,Tl.emptySet(n),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class q2{constructor(){this.queries=F0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=je(n),a=o.queries;o.queries=F0(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function F0(){return new Ta((t=>y1(t)),hf)}async function my(t,e){const n=je(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new H2,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=py(u,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&yy(n)}async function gy(t,e){const n=je(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function W2(t,e){const n=je(t);let r=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const h of u.Sa)h.Fa(o)&&(r=!0);u.wa=o}}r&&yy(n)}function G2(t,e,n){const r=je(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function yy(t){t.Ca.forEach((e=>{e.next()}))}var hg,$0;($0=hg||(hg={})).Ma="default",$0.Cache="cache";class wy{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ol(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.key=e}}class Z1{constructor(e){this.key=e}}class K2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=w1(e),this.tu=new Tl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new V0,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,b)=>{const C=o.get(w),P=ff(this.query,b)?b:null,N=!!C&&this.mutatedKeys.has(C.key),V=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let D=!1;C&&P?C.data.isEqual(P.data)?N!==V&&(r.track({type:3,doc:P}),D=!0):this.su(C,P)||(r.track({type:2,doc:P}),D=!0,(f&&this.eu(P,f)>0||m&&this.eu(P,m)<0)&&(h=!0)):!C&&P?(r.track({type:0,doc:P}),D=!0):C&&!P&&(r.track({type:1,doc:C}),D=!0,(f||m)&&(h=!0)),D&&(P?(u=u.add(P),a=V?a.add(w):a.delete(w)):(u=u.delete(w),a=a.delete(w)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const w=this.query.limitType==="F"?u.last():u.first();u=u.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((w,b)=>(function(P,N){const V=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:D})}};return V(P)-V(N)})(w.type,b.type)||this.eu(w.doc,b.doc))),this.ou(r),o=o??!1;const h=n&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new Ol(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Z1(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new X1(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vy="SyncEngine";class Q2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class J2{constructor(e){this.key=e,this.hu=!1}}class Y2{constructor(e,n,r,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ta((h=>y1(h)),hf),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(be.comparator),this.Au=new Map,this.Ru=new iy,this.Vu={},this.mu=new Map,this.fu=Dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function X2(t,e,n=!0){const r=iC(t);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await eC(r,e,n,!0),o}async function Z2(t,e){const n=iC(t);await eC(n,e,!0,!1)}async function eC(t,e,n,r){const o=await v2(t.localStore,Ns(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await eN(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&W1(t.remoteStore,o),h}async function eN(t,e,n,r,o){t.pu=(b,C,P)=>(async function(V,D,G,q){let J=D.view.ru(G);J.Cs&&(J=await N0(V.localStore,D.query,!1).then((({documents:R})=>D.view.ru(R,J))));const ee=q&&q.targetChanges.get(D.targetId),de=q&&q.targetMismatches.get(D.targetId)!=null,se=D.view.applyChanges(J,V.isPrimaryClient,ee,de);return B0(V,D.targetId,se.au),se.snapshot})(t,b,C,P);const a=await N0(t.localStore,e,!0),u=new K2(e,a.Qs),h=u.ru(a.documents),f=vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),m=u.applyChanges(h,t.isPrimaryClient,f);B0(t,n,m.au);const w=new Q2(e,n,u);return t.Tu.set(e,w),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function tN(t,e,n){const r=je(t),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!hf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ug(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&cy(r.remoteStore,o.targetId),fg(r,o.targetId)})).catch(ql)):(fg(r,o.targetId),await ug(r.localStore,o.targetId,!0))}async function nN(t,e){const n=je(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cy(n.remoteStore,r.targetId))}async function rN(t,e,n){const r=uN(t);try{const o=await(function(u,h){const f=je(u),m=St.now(),w=h.reduce(((P,N)=>P.add(N.key)),et());let b,C;return f.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let N=_i(),V=et();return f.Ns.getEntries(P,w).next((D=>{N=D,N.forEach(((G,q)=>{q.isValidDocument()||(V=V.add(G))}))})).next((()=>f.localDocuments.getOverlayedDocuments(P,N))).next((D=>{b=D;const G=[];for(const q of h){const J=wA(q,b.get(q.key).overlayedDocument);J!=null&&G.push(new To(q.key,J,c1(J.value.mapValue),is.exists(!0)))}return f.mutationQueue.addMutationBatch(P,m,G,h)})).next((D=>{C=D;const G=D.applyToLocalDocumentSet(b,V);return f.documentOverlayCache.saveOverlays(P,D.batchId,G)}))})).then((()=>({batchId:C.batchId,changes:_1(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,h,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new Mt(Ze)),m=m.insert(h,f),u.Vu[u.currentUser.toKey()]=m})(r,o.batchId,n),await Eu(r,o.changes),await _f(r.remoteStore)}catch(o){const a=py(o,"Failed to persist write");n.reject(a)}}async function tC(t,e){const n=je(t);try{const r=await g2(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?dt(u.hu,14607):o.removedDocuments.size>0&&(dt(u.hu,42227),u.hu=!1))})),await Eu(n,r,e)}catch(r){await ql(r)}}function U0(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const f=je(u);f.onlineState=h;let m=!1;f.queries.forEach(((w,b)=>{for(const C of b.Sa)C.va(h)&&(m=!0)})),m&&yy(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sN(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new Mt(be.comparator);u=u.insert(a,On.newNoDocument(a,Le.min()));const h=et().add(a),f=new yf(Le.min(),new Map,new Mt(Ze),u,h);await tC(r,f),r.du=r.du.remove(a),r.Au.delete(e),_y(r)}else await ug(r.localStore,e,!1).then((()=>fg(r,e,n))).catch(ql)}async function iN(t,e){const n=je(t),r=e.batch.batchId;try{const o=await m2(n.localStore,e);rC(n,r,null),nC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Eu(n,o)}catch(o){await ql(o)}}async function oN(t,e,n){const r=je(t);try{const o=await(function(u,h){const f=je(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let w;return f.mutationQueue.lookupMutationBatch(m,h).next((b=>(dt(b!==null,37113),w=b.keys(),f.mutationQueue.removeMutationBatch(m,b)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,w,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,w))).next((()=>f.localDocuments.getDocuments(m,w)))}))})(r.localStore,e);rC(r,e,n),nC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Eu(r,o)}catch(o){await ql(o)}}function nC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function rC(t,e,n){const r=je(t);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function fg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||sC(t,r)}))}function sC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(cy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),_y(t))}function B0(t,e,n){for(const r of n)r instanceof X1?(t.Ru.addReference(r.key,e),aN(t,r)):r instanceof Z1?(ge(vy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||sC(t,r.key)):Ne(19791,{wu:r})}function aN(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ge(vy,"New document in limbo: "+n),t.Eu.add(r),_y(t))}function _y(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(_t.fromString(e)),r=t.fu.next();t.Au.set(r,new J2(n)),t.du=t.du.insert(n,r),W1(t.remoteStore,new oo(Ns(df(n.path)),r,"TargetPurposeLimboResolution",lf.ce))}}async function Eu(t,e,n){const r=je(t),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const w=m?!m.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){o.push(m);const w=ay.As(f.targetId,m);a.push(w)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(f,m){const w=je(f);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(m,(C=>ne.forEach(C.Es,(P=>w.persistence.referenceDelegate.addReference(b,C.targetId,P))).next((()=>ne.forEach(C.ds,(P=>w.persistence.referenceDelegate.removeReference(b,C.targetId,P)))))))))}catch(b){if(!Wl(b))throw b;ge(ly,"Failed to update sequence numbers: "+b)}for(const b of m){const C=b.targetId;if(!b.fromCache){const P=w.Ms.get(C),N=P.snapshotVersion,V=P.withLastLimboFreeSnapshotVersion(N);w.Ms=w.Ms.insert(C,V)}}})(r.localStore,a))}async function lN(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){ge(vy,"User change. New user:",e.toKey());const r=await B1(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new pe(te.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eu(n,r.Ls)}}function cN(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return et().add(r.key);{let o=et();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const h=n.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function iC(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sN.bind(null,e),e.Pu.H_=W2.bind(null,e.eventManager),e.Pu.yu=G2.bind(null,e.eventManager),e}function uN(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oN.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return p2(this.persistence,new d2,e.initialUser,this.serializer)}Cu(e){return new U1(oy.mi,this.serializer)}Du(e){return new E2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class dN extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dt(this.persistence.referenceDelegate instanceof Rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JA(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new U1((r=>Rh.mi(r,n)),this.serializer)}}class pg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lN.bind(null,this.syncEngine),await z2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new q2})()}createDatastore(e){const n=wf(e.databaseInfo.databaseId),r=(function(a){return new S2(a)})(e.databaseInfo);return(function(a,u,h,f){return new P2(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,a,u,h){return new N2(r,o,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>U0(this.syncEngine,n,0)),(function(){return L0.v()?new L0:new b2})())}createSyncEngine(e,n){return(function(o,a,u,h,f,m,w){const b=new Y2(o,a,u,h,f,m);return w&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=je(n);ge(ya,"RemoteStore shutting down."),r.Ea.add(5),await _u(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pg.provider={build:()=>new pg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="FirestoreClient";class hN{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Dn.UNAUTHENTICATED,this.clientId=Kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ge(Eo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ge(Eo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=py(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Rm(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await B1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function z0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fN(t);ge(Eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>j0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>j0(e.remoteStore,o))),t._onlineComponents=e}async function fN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Eo,"Using user provided OfflineComponentProvider");try{await Rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await Rm(t,new Ah)}}else ge(Eo,"Using default OfflineComponentProvider"),await Rm(t,new dN(void 0));return t._offlineComponents}async function oC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Eo,"Using user provided OnlineComponentProvider"),await z0(t,t._uninitializedComponentsProvider._online)):(ge(Eo,"Using default OnlineComponentProvider"),await z0(t,new pg))),t._onlineComponents}function pN(t){return oC(t).then((e=>e.syncEngine))}async function Nh(t){const e=await oC(t),n=e.eventManager;return n.onListen=X2.bind(null,e.syncEngine),n.onUnlisten=tN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Z2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nN.bind(null,e.syncEngine),n}function mN(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,m){const w=new Ey({next:C=>{w.Nu(),u.enqueueAndForget((()=>gy(a,b)));const P=C.docs.has(h);!P&&C.fromCache?m.reject(new pe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&C.fromCache&&f&&f.source==="server"?m.reject(new pe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(C)},error:C=>m.reject(C)}),b=new wy(df(h.path),w,{includeMetadataChanges:!0,qa:!0});return my(a,b)})(await Nh(t),t.asyncQueue,e,n,r))),r.promise}function gN(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,m){const w=new Ey({next:C=>{w.Nu(),u.enqueueAndForget((()=>gy(a,b))),C.fromCache&&f.source==="server"?m.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(C)},error:C=>m.reject(C)}),b=new wy(h,w,{includeMetadataChanges:!0,qa:!0});return my(a,b)})(await Nh(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firestore.googleapis.com",q0=!0;class W0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lC,this.ssl=q0}else this.host=e.host,this.ssl=e.ssl??q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KA)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new CP;switch(r.type){case"firstParty":return new xP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=H0.get(n);r&&(ge("ComponentProvider","Removing Datastore"),H0.delete(n),r.terminate())})(this),Promise.resolve()}}function yN(t,e,n,r={}){t=Er(t,Ef);const o=Ea(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(Ng(`https://${h}`),Dg("Firestore",!0)),a.host!==lC&&a.host!==h&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:o,emulatorOptions:r};if(!gi(f,u)&&(t._setSettings(f),r.mockUserToken)){let m,w;if(typeof r.mockUserToken=="string")m=r.mockUserToken,w=Dn.MOCK_USER;else{m=nb(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Dn(b)}t._authCredentials=new TP(new Yb(m,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gu(n,Ut._jsonSchema))return new Ut(e,r||null,new be(_t.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:rn("string",Ut._jsonSchemaVersion),referencePath:rn("string")};class fo extends Sa{constructor(e,n,r){super(e,n,df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new be(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function Ei(t,e,...n){if(t=xt(t),Xb("collection","path",e),t instanceof Ef){const r=_t.fromString(e,...n);return i0(r),new fo(t,null,r)}{if(!(t instanceof Ut||t instanceof fo))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return i0(r),new fo(t.firestore,null,r)}}function vt(t,e,...n){if(t=xt(t),arguments.length===1&&(e=Kg.newId()),Xb("doc","path",e),t instanceof Ef){const r=_t.fromString(e,...n);return s0(r),new Ut(t,null,new be(r))}{if(!(t instanceof Ut||t instanceof fo))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return s0(r),new Ut(t.firestore,t instanceof fo?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="AsyncQueue";class K0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new H1(this,"async_queue_retry"),this._c=()=>{const r=km();r&&ge(G0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wl(e))throw e;ge(G0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,vi("INTERNAL UNHANDLED ERROR: ",Q0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=fy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:Q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Q0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(t,["next","error","complete"])}class bo extends Ef{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new K0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K0(e),this._firestoreClient=void 0,await e}}}function Cr(t,e){const n=typeof t=="object"?t:Mg(),r=typeof t=="string"?t:Th,o=ef(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=ZE("firestore");a&&yN(o,...a)}return o}function bf(t){if(t._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wN(t),t._firestoreClient}function wN(t){const e=t._freezeSettings(),n=(function(o,a,u,h){return new HP(o,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vr(Sn.fromBase64String(e))}catch(n){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vr(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Vr._jsonSchema))return Vr.fromBase64String(e.bytes)}}Vr._jsonSchemaVersion="firestore/bytes/1.0",Vr._jsonSchema={type:rn("string",Vr._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:rn("string",Os._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,Ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ls(e.vectorValues);throw new pe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ls._jsonSchemaVersion="firestore/vectorValue/1.0",Ls._jsonSchema={type:rn("string",Ls._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^__.*__$/;class _N{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class cC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new To(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class Tf{constructor(e,n,r,o,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uC(this.Ac)&&vN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wf(e)}Cc(e,n,r,o=!1){return new Tf({Ac:e,methodName:n,Dc:r,path:In.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function by(t){const e=t._freezeSettings(),n=wf(t._databaseId);return new EN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bN(t,e,n,r,o,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);xy("Data must be an object, but it was:",u,r);const h=hC(r,u);let f,m;if(a.merge)f=new _r(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const w=[];for(const b of a.mergeFields){const C=mg(e,b,n);if(!u.contains(C))throw new pe(te.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);pC(w,C)||w.push(C)}f=new _r(w),m=u.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,m=u.fieldTransforms;return new _N(new or(h),f,m)}class If extends xa{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof If}}function dC(t,e,n){return new Tf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Cy extends xa{_toFieldTransform(e){return new mf(e.path,new iu)}isEqual(e){return e instanceof Cy}}class Ty extends xa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=dC(this,e,!0),r=this.vc.map((a=>ka(a,n))),o=new Al(r);return new mf(e.path,o)}isEqual(e){return e instanceof Ty&&gi(this.vc,e.vc)}}class Iy extends xa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=dC(this,e,!0),r=this.vc.map((a=>ka(a,n))),o=new Nl(r);return new mf(e.path,o)}isEqual(e){return e instanceof Iy&&gi(this.vc,e.vc)}}class Sy extends xa{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new ou(e.serializer,C1(e.serializer,this.Fc));return new mf(e.path,n)}isEqual(e){return e instanceof Sy&&this.Fc===e.Fc}}function CN(t,e,n,r){const o=t.Cc(1,e,n);xy("Data must be an object, but it was:",o,r);const a=[],u=or.empty();Co(r,((f,m)=>{const w=ky(e,f,n);m=xt(m);const b=o.yc(w);if(m instanceof If)a.push(w);else{const C=ka(m,b);C!=null&&(a.push(w),u.set(w,C))}}));const h=new _r(a);return new cC(u,h,o.fieldTransforms)}function TN(t,e,n,r,o,a){const u=t.Cc(1,e,n),h=[mg(e,r,n)],f=[o];if(a.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<a.length;C+=2)h.push(mg(e,a[C])),f.push(a[C+1]);const m=[],w=or.empty();for(let C=h.length-1;C>=0;--C)if(!pC(m,h[C])){const P=h[C];let N=f[C];N=xt(N);const V=u.yc(P);if(N instanceof If)m.push(P);else{const D=ka(N,V);D!=null&&(m.push(P),w.set(P,D))}}const b=new _r(m);return new cC(w,b,u.fieldTransforms)}function IN(t,e,n,r=!1){return ka(n,t.Cc(r?4:3,e))}function ka(t,e){if(fC(t=xt(t)))return xy("Unsupported field value:",e,t),hC(t,e);if(t instanceof xa)return(function(r,o){if(!uC(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const h of r){let f=ka(h,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(r,o){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=St.fromDate(r);return{timestampValue:kh(o.serializer,a)}}if(r instanceof St){const a=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(o.serializer,a)}}if(r instanceof Os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vr)return{bytesValue:D1(o.serializer,r._byteString)};if(r instanceof Ut){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:sy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ls)return(function(u,h){return{mapValue:{fields:{[a1]:{stringValue:l1},[Ih]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return ey(h.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${af(r)}`)})(t,e)}function hC(t,e){const n={};return t1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,((r,o)=>{const a=ka(o,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function fC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof Os||t instanceof Vr||t instanceof Ut||t instanceof xa||t instanceof Ls)}function xy(t,e,n){if(!fC(n)||!Zb(n)){const r=af(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function mg(t,e,n){if((e=xt(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return ky(t,e);throw Dh("Field path arguments must be of type string or ",t,!1,void 0,n)}const SN=new RegExp("[~\\*/\\[\\]]");function ky(t,e,n){if(e.search(SN)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cf(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dh(t,e,n,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new pe(te.INVALID_ARGUMENT,h+t+f)}function pC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ry("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xN extends mC{data(){return super.data()}}function Ry(t,e){return typeof e=="string"?ky(t,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Py{}class kN extends Py{}function Sf(t,e,...n){let r=[];e instanceof Py&&r.push(e),r=r.concat(n),(function(a){const u=a.filter((f=>f instanceof Ay)).length,h=a.filter((f=>f instanceof xf)).length;if(u>1||u>0&&h>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class xf extends kN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xf(e,n,r)}_apply(e){const n=this._parse(e);return yC(e._query,n),new Sa(e.firestore,e.converter,sg(e._query,n))}_parse(e){const n=by(e.firestore);return(function(a,u,h,f,m,w,b){let C;if(m.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){X0(b,w);const N=[];for(const V of b)N.push(Y0(f,a,V));C={arrayValue:{values:N}}}else C=Y0(f,a,b)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||X0(b,w),C=IN(h,u,b,w==="in"||w==="not-in");return tn.create(m,w,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kf(t,e,n){const r=e,o=Ry("where",t);return xf._create(o,r,n)}class Ay extends Py{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ay(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:as.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)yC(u,f),u=sg(u,f)})(e._query,n),new Sa(e.firestore,e.converter,sg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Y0(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g1(e)&&n.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!be.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return f0(t,new be(r))}if(n instanceof Ut)return f0(t,n._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(n)}.`)}function X0(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yC(t,e){const n=(function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RN{convertValue(e,n="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Co(e,((o,a)=>{r[o]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Ih].arrayValue?.values?.map((r=>Wt(r.doubleValue)));return new Ls(n)}convertGeoPoint(e){return new Os(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=yo(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);dt(F1(r),9688,{name:e});const o=new ru(r.get(1),r.get(3)),a=new be(r.popFirst(5));return o.isEqual(n)||vi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends mC{constructor(e,n,r,o,a,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ry("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:rn("string",aa._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class ih extends aa{data(e={}){return super.data(e)}}class la{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ih(this._firestore,this._userDataWriter,r.key,r,new Bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const f=new ih(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Bc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new ih(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Bc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,w=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),w=u.indexOf(h.doc.key)),{type:AN(h.type),doc:f,oldIndex:m,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t){t=Er(t,Ut);const e=Er(t.firestore,bo);return mN(bf(e),t._key).then((n=>wC(e,t,n)))}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:rn("string",la._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class Ny extends RN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function bi(t){t=Er(t,Sa);const e=Er(t.firestore,bo),n=bf(e),r=new Ny(e);return gC(t._query),gN(n,t._query).then((o=>new la(e,r,t,o)))}function Z0(t,e,n){t=Er(t,Ut);const r=Er(t.firestore,bo),o=PN(t.converter,e,n);return Dy(r,[bN(by(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,is.none())])}function ar(t,e,n,...r){t=Er(t,Ut);const o=Er(t.firestore,bo),a=by(o);let u;return u=typeof(e=xt(e))=="string"||e instanceof Cf?TN(a,"updateDoc",t._key,e,n,r):CN(a,"updateDoc",t._key,e),Dy(o,[u.toMutation(t._key,is.exists(!0))])}function NN(t){return Dy(Er(t.firestore,bo),[new ty(t._key,is.none())])}function DN(t,...e){t=xt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||J0(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(J0(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,u,h;if(t instanceof Ut)u=Er(t.firestore,bo),h=df(t._key.path),a={next:f=>{e[r]&&e[r](wC(u,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Er(t,Sa);u=Er(f.firestore,bo),h=f._query;const m=new Ny(u);a={next:w=>{e[r]&&e[r](new la(u,m,f,w))},error:e[r+1],complete:e[r+2]},gC(t._query)}return(function(m,w,b,C){const P=new Ey(C),N=new wy(w,P,b);return m.asyncQueue.enqueueAndForget((async()=>my(await Nh(m),N))),()=>{P.Nu(),m.asyncQueue.enqueueAndForget((async()=>gy(await Nh(m),N)))}})(bf(u),h,o,a)}function Dy(t,e){return(function(r,o){const a=new fi;return r.asyncQueue.enqueueAndForget((async()=>rN(await pN(r),o,a))),a.promise})(bf(t),e)}function wC(t,e,n){const r=n.docs.get(e._key),o=new Ny(t);return new aa(t,o,e._key,r,new Bc(n.hasPendingWrites,n.fromCache),e.converter)}function ON(){return new Cy("serverTimestamp")}function vC(...t){return new Ty("arrayUnion",t)}function _C(...t){return new Iy("arrayRemove",t)}function Oh(t){return new Sy("increment",t)}(function(e,n=!0){(function(o){Hl=o})(ba),ha(new mo("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new bo(new IP(r.getProvider("auth-internal")),new kP(u,r.getProvider("app-check-internal")),(function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(m.options.projectId,w)})(u,o),u);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Ps(e0,t0,e),Ps(e0,t0,"esm2020")})();var LN="firebase",MN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(LN,MN,"app");const jN={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},Wn=ib(jN);Cr(Wn);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eE="popstate";function VN(t={}){function e(o,a){let{pathname:u="/",search:h="",hash:f=""}=Ra(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),gg("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=o.location.href,m=f.indexOf("#");h=m===-1?f:f.slice(0,m)}return h+"#"+(typeof a=="string"?a:au(a))}function r(o,a){Br(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return $N(e,n,r,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FN(){return Math.random().toString(36).substring(2,10)}function tE(t,e){return{usr:t.state,key:t.key,idx:e}}function gg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ra(e):e,state:n,key:e&&e.key||r||FN()}}function au({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ra(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function $N(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h="POP",f=null,m=w();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function w(){return(u.state||{idx:null}).idx}function b(){h="POP";let D=w(),G=D==null?null:D-m;m=D,f&&f({action:h,location:V.location,delta:G})}function C(D,G){h="PUSH";let q=gg(V.location,D,G);n&&n(q,D),m=w()+1;let J=tE(q,m),ee=V.createHref(q);try{u.pushState(J,"",ee)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ee)}a&&f&&f({action:h,location:V.location,delta:1})}function P(D,G){h="REPLACE";let q=gg(V.location,D,G);n&&n(q,D),m=w();let J=tE(q,m),ee=V.createHref(q);u.replaceState(J,"",ee),a&&f&&f({action:h,location:V.location,delta:0})}function N(D){return UN(D)}let V={get action(){return h},get location(){return t(o,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(eE,b),f=D,()=>{o.removeEventListener(eE,b),f=null}},createHref(D){return e(o,D)},createURL:N,encodeLocation(D){let G=N(D);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:C,replace:P,go(D){return u.go(D)}};return V}function UN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:au(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function EC(t,e,n="/"){return BN(t,e,n,!1)}function BN(t,e,n,r){let o=typeof e=="string"?Ra(e):e,a=Ci(o.pathname||"/",n);if(a==null)return null;let u=bC(t);zN(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=eD(a);h=XN(u[f],m,r)}return h}function bC(t,e=[],n=[],r="",o=!1){let a=(u,h,f=o,m)=>{let w={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(r)&&f)return;Nt(w.relativePath.startsWith(r),`Absolute route path "${w.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(r.length)}let b=pi([r,w.relativePath]),C=n.concat(w);u.children&&u.children.length>0&&(Nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),bC(u.children,e,C,b,f)),!(u.path==null&&!u.index)&&e.push({path:b,score:JN(b,u.index),routesMeta:C})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))a(u,h);else for(let f of CC(u.path))a(u,h,!0,f)}),e}function CC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=CC(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function zN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var HN=/^:[\w-]+$/,qN=3,WN=2,GN=1,KN=10,QN=-2,nE=t=>t==="*";function JN(t,e){let n=t.split("/"),r=n.length;return n.some(nE)&&(r+=QN),e&&(r+=WN),n.filter(o=>!nE(o)).reduce((o,a)=>o+(HN.test(a)?qN:a===""?GN:KN),r)}function YN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function XN(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,w=a==="/"?e:e.slice(a.length)||"/",b=Lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},w),C=f.route;if(!b&&m&&n&&!r[r.length-1].route.index&&(b=Lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},w)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:pi([a,b.pathname]),pathnameBase:sD(pi([a,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(a=pi([a,b.pathnameBase]))}return u}function Lh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZN(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,{paramName:w,isOptional:b},C)=>{if(w==="*"){let N=h[C]||"";u=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const P=h[C];return b&&!P?m[w]=void 0:m[w]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:t}}function ZN(t,e=!1,n=!0){Br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function eD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ci(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function tD(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ra(t):t;return{pathname:n?n.startsWith("/")?n:nD(n,e):e,search:iD(r),hash:oD(o)}}function nD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Oy(t){let e=rD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ly(t,e,n,r=!1){let o;typeof t=="string"?o=Ra(t):(o={...t},Nt(!o.pathname||!o.pathname.includes("?"),Pm("?","pathname","search",o)),Nt(!o.pathname||!o.pathname.includes("#"),Pm("#","pathname","hash",o)),Nt(!o.search||!o.search.includes("#"),Pm("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),b-=1;o.pathname=C.join("/")}h=b>=0?e[b]:"/"}let f=tD(o,h),m=u&&u!=="/"&&u.endsWith("/"),w=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||w)&&(f.pathname+="/"),f}var pi=t=>t.join("/").replace(/\/\/+/g,"/"),sD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var TC=["POST","PUT","PATCH","DELETE"];new Set(TC);var lD=["GET",...TC];new Set(lD);var Kl=I.createContext(null);Kl.displayName="DataRouter";var Rf=I.createContext(null);Rf.displayName="DataRouterState";I.createContext(!1);var IC=I.createContext({isTransitioning:!1});IC.displayName="ViewTransition";var cD=I.createContext(new Map);cD.displayName="Fetchers";var uD=I.createContext(null);uD.displayName="Await";var cs=I.createContext(null);cs.displayName="Navigation";var bu=I.createContext(null);bu.displayName="Location";var us=I.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var My=I.createContext(null);My.displayName="RouteError";function dD(t,{relative:e}={}){Nt(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(cs),{hash:o,pathname:a,search:u}=Cu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:pi([n,a])),r.createHref({pathname:h,search:u,hash:o})}function Ql(){return I.useContext(bu)!=null}function Io(){return Nt(Ql(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(bu).location}var SC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xC(t){I.useContext(cs).static||I.useLayoutEffect(t)}function jy(){let{isDataRoute:t}=I.useContext(us);return t?ID():hD()}function hD(){Nt(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Kl),{basename:e,navigator:n}=I.useContext(cs),{matches:r}=I.useContext(us),{pathname:o}=Io(),a=JSON.stringify(Oy(r)),u=I.useRef(!1);return xC(()=>{u.current=!0}),I.useCallback((f,m={})=>{if(Br(u.current,SC),!u.current)return;if(typeof f=="number"){n.go(f);return}let w=Ly(f,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:pi([e,w.pathname])),(m.replace?n.replace:n.push)(w,m.state,m)},[e,n,a,o,t])}I.createContext(null);function fD(){let{matches:t}=I.useContext(us),e=t[t.length-1];return e?e.params:{}}function Cu(t,{relative:e}={}){let{matches:n}=I.useContext(us),{pathname:r}=Io(),o=JSON.stringify(Oy(n));return I.useMemo(()=>Ly(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function pD(t,e){return kC(t,e)}function kC(t,e,n,r,o){Nt(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=I.useContext(cs),{matches:u}=I.useContext(us),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",w=h?h.pathnameBase:"/",b=h&&h.route;{let q=b&&b.path||"";RC(m,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let C=Io(),P;if(e){let q=typeof e=="string"?Ra(e):e;Nt(w==="/"||q.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${q.pathname}" was given in the \`location\` prop.`),P=q}else P=C;let N=P.pathname||"/",V=N;if(w!=="/"){let q=w.replace(/^\//,"").split("/");V="/"+N.replace(/^\//,"").split("/").slice(q.length).join("/")}let D=EC(t,{pathname:V});Br(b||D!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Br(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=vD(D&&D.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:pi([w,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?w:pi([w,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),u,n,r,o);return e&&G?I.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},G):G}function mD(){let t=TD(),e=aD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:a},"ErrorBoundary")," or"," ",I.createElement("code",{style:a},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:o},n):null,u)}var gD=I.createElement(mD,null),yD=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?I.createElement(us.Provider,{value:this.props.routeContext},I.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wD({routeContext:t,match:e,children:n}){let r=I.useContext(Kl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(us.Provider,{value:t},n)}function vD(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n?.errors;if(u!=null){let m=a.findIndex(w=>w.route.id&&u?.[w.route.id]!==void 0);Nt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let h=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let w=a[m];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=m),w.route.id){let{loaderData:b,errors:C}=n,P=w.route.loader&&!b.hasOwnProperty(w.route.id)&&(!C||C[w.route.id]===void 0);if(w.route.lazy||P){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,w,b)=>{let C,P=!1,N=null,V=null;n&&(C=u&&w.route.id?u[w.route.id]:void 0,N=w.route.errorElement||gD,h&&(f<0&&b===0?(RC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,V=null):f===b&&(P=!0,V=w.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,b+1)),G=()=>{let q;return C?q=N:P?q=V:w.route.Component?q=I.createElement(w.route.Component,null):w.route.element?q=w.route.element:q=m,I.createElement(wD,{match:w,routeContext:{outlet:m,matches:D,isDataRoute:n!=null},children:q})};return n&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?I.createElement(yD,{location:n.location,revalidation:n.revalidation,component:N,error:C,children:G(),routeContext:{outlet:null,matches:D,isDataRoute:!0},unstable_onError:r}):G()},null)}function Vy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _D(t){let e=I.useContext(Kl);return Nt(e,Vy(t)),e}function ED(t){let e=I.useContext(Rf);return Nt(e,Vy(t)),e}function bD(t){let e=I.useContext(us);return Nt(e,Vy(t)),e}function Fy(t){let e=bD(t),n=e.matches[e.matches.length-1];return Nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function CD(){return Fy("useRouteId")}function TD(){let t=I.useContext(My),e=ED("useRouteError"),n=Fy("useRouteError");return t!==void 0?t:e.errors?.[n]}function ID(){let{router:t}=_D("useNavigate"),e=Fy("useNavigate"),n=I.useRef(!1);return xC(()=>{n.current=!0}),I.useCallback(async(o,a={})=>{Br(n.current,SC),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var rE={};function RC(t,e,n){!e&&!rE[t]&&(rE[t]=!0,Br(!1,n))}I.memo(SD);function SD({routes:t,future:e,state:n,unstable_onError:r}){return kC(t,void 0,n,r,e)}function pl({to:t,replace:e,state:n,relative:r}){Nt(Ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=I.useContext(cs);Br(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=I.useContext(us),{pathname:u}=Io(),h=jy(),f=Ly(t,Oy(a),u,r==="path"),m=JSON.stringify(f);return I.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function ra(t){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){Nt(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=Ra(n));let{pathname:f="/",search:m="",hash:w="",state:b=null,key:C="default"}=n,P=I.useMemo(()=>{let N=Ci(f,u);return N==null?null:{location:{pathname:N,search:m,hash:w,state:b,key:C},navigationType:r}},[u,f,m,w,b,C,r]);return Br(P!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${w}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:I.createElement(cs.Provider,{value:h},I.createElement(bu.Provider,{children:e,value:P}))}function kD({children:t,location:e}){return pD(yg(t),e)}function yg(t,e=[]){let n=[];return I.Children.forEach(t,(r,o)=>{if(!I.isValidElement(r))return;let a=[...e,o];if(r.type===I.Fragment){n.push.apply(n,yg(r.props.children,a));return}Nt(r.type===ra,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=yg(r.props.children,a)),n.push(u)}),n}var oh="get",ah="application/x-www-form-urlencoded";function Pf(t){return t!=null&&typeof t.tagName=="string"}function RD(t){return Pf(t)&&t.tagName.toLowerCase()==="button"}function PD(t){return Pf(t)&&t.tagName.toLowerCase()==="form"}function AD(t){return Pf(t)&&t.tagName.toLowerCase()==="input"}function ND(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function DD(t,e){return t.button===0&&(!e||e==="_self")&&!ND(t)}var zd=null;function OD(){if(zd===null)try{new FormData(document.createElement("form"),0),zd=!1}catch{zd=!0}return zd}var LD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(t){return t!=null&&!LD.has(t)?(Br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):t}function MD(t,e){let n,r,o,a,u;if(PD(t)){let h=t.getAttribute("action");r=h?Ci(h,e):null,n=t.getAttribute("method")||oh,o=Am(t.getAttribute("enctype"))||ah,a=new FormData(t)}else if(RD(t)||AD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ci(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||oh,o=Am(t.getAttribute("formenctype"))||Am(h.getAttribute("enctype"))||ah,a=new FormData(h,t),!OD()){let{name:m,type:w,value:b}=t;if(w==="image"){let C=m?`${m}.`:"";a.append(`${C}x`,"0"),a.append(`${C}y`,"0")}else m&&a.append(m,b)}}else{if(Pf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,r=null,o=ah,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $y(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ci(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function VD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $D(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await VD(a,n);return u.links?u.links():[]}return[]}));return HD(r.flat(1).filter(FD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function sE(t,e,n,r,o,a){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,h=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):a==="data"?e.filter((f,m)=>{let w=r.routes[f.route.id];if(!w||!w.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function UD(t,e,{includeHydrateFallback:n}={}){return BD(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function BD(t){return[...new Set(t)]}function zD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function HD(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(zD(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function PC(){let t=I.useContext(Kl);return $y(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qD(){let t=I.useContext(Rf);return $y(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Uy=I.createContext(void 0);Uy.displayName="FrameworkContext";function AC(){let t=I.useContext(Uy);return $y(t,"You must render this element inside a <HydratedRouter> element"),t}function WD(t,e){let n=I.useContext(Uy),[r,o]=I.useState(!1),[a,u]=I.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:w,onTouchStart:b}=e,C=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let V=G=>{G.forEach(q=>{u(q.isIntersecting)})},D=new IntersectionObserver(V,{threshold:.5});return C.current&&D.observe(C.current),()=>{D.disconnect()}}},[t]),I.useEffect(()=>{if(r){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[r]);let P=()=>{o(!0)},N=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,C,{}]:[a,C,{onFocus:Oc(h,P),onBlur:Oc(f,N),onMouseEnter:Oc(m,P),onMouseLeave:Oc(w,N),onTouchStart:Oc(b,P)}]:[!1,C,{}]}function Oc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function GD({page:t,...e}){let{router:n}=PC(),r=I.useMemo(()=>EC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?I.createElement(QD,{page:t,matches:r,...e}):null}function KD(t){let{manifest:e,routeModules:n}=AC(),[r,o]=I.useState([]);return I.useEffect(()=>{let a=!1;return $D(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),r}function QD({page:t,matches:e,...n}){let r=Io(),{manifest:o,routeModules:a}=AC(),{basename:u}=PC(),{loaderData:h,matches:f}=qD(),m=I.useMemo(()=>sE(t,e,f,o,r,"data"),[t,e,f,o,r]),w=I.useMemo(()=>sE(t,e,f,o,r,"assets"),[t,e,f,o,r]),b=I.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,V=!1;if(e.forEach(G=>{let q=o.routes[G.route.id];!q||!q.hasLoader||(!m.some(J=>J.route.id===G.route.id)&&G.route.id in h&&a[G.route.id]?.shouldRevalidate||q.hasClientLoader?V=!0:N.add(G.route.id))}),N.size===0)return[];let D=jD(t,u,"data");return V&&N.size>0&&D.searchParams.set("_routes",e.filter(G=>N.has(G.route.id)).map(G=>G.route.id).join(",")),[D.pathname+D.search]},[u,h,r,o,m,e,t,a]),C=I.useMemo(()=>UD(w,o),[w,o]),P=KD(w);return I.createElement(I.Fragment,null,b.map(N=>I.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),C.map(N=>I.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),P.map(({key:N,link:V})=>I.createElement("link",{key:N,nonce:n.nonce,...V})))}function JD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var NC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NC&&(window.__reactRouterVersion="7.8.2")}catch{}function YD({basename:t,children:e,window:n}){let r=I.useRef();r.current==null&&(r.current=VN({window:n,v5Compat:!0}));let o=r.current,[a,u]=I.useState({action:o.action,location:o.location}),h=I.useCallback(f=>{I.startTransition(()=>u(f))},[u]);return I.useLayoutEffect(()=>o.listen(h),[o,h]),I.createElement(xD,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var DC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:w,viewTransition:b,...C},P){let{basename:N}=I.useContext(cs),V=typeof m=="string"&&DC.test(m),D,G=!1;if(typeof m=="string"&&V&&(D=m,NC))try{let k=new URL(window.location.href),L=m.startsWith("//")?new URL(k.protocol+m):new URL(m),M=Ci(L.pathname,N);L.origin===k.origin&&M!=null?m=M+L.search+L.hash:G=!0}catch{Br(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=dD(m,{relative:o}),[J,ee,de]=WD(r,C),se=tO(m,{replace:u,state:h,target:f,preventScrollReset:w,relative:o,viewTransition:b});function R(k){e&&e(k),k.defaultPrevented||se(k)}let T=I.createElement("a",{...C,...de,href:D||q,onClick:G||a?e:R,ref:JD(P,ee),target:f,"data-discover":!V&&n==="render"?"true":void 0});return J&&!V?I.createElement(I.Fragment,null,T,I.createElement(GD,{page:q})):T});Zt.displayName="Link";var XD=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...m},w){let b=Cu(u,{relative:m.relative}),C=Io(),P=I.useContext(Rf),{navigator:N,basename:V}=I.useContext(cs),D=P!=null&&oO(b)&&h===!0,G=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,q=C.pathname,J=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(q=q.toLowerCase(),J=J?J.toLowerCase():null,G=G.toLowerCase()),J&&V&&(J=Ci(J,V)||J);const ee=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let de=q===G||!o&&q.startsWith(G)&&q.charAt(ee)==="/",se=J!=null&&(J===G||!o&&J.startsWith(G)&&J.charAt(G.length)==="/"),R={isActive:de,isPending:se,isTransitioning:D},T=de?e:void 0,k;typeof r=="function"?k=r(R):k=[r,de?"active":null,se?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(R):a;return I.createElement(Zt,{...m,"aria-current":T,className:k,ref:w,style:L,to:u,viewTransition:h},typeof f=="function"?f(R):f)});XD.displayName="NavLink";var ZD=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:u=oh,action:h,onSubmit:f,relative:m,preventScrollReset:w,viewTransition:b,...C},P)=>{let N=sO(),V=iO(h,{relative:m}),D=u.toLowerCase()==="get"?"get":"post",G=typeof h=="string"&&DC.test(h),q=J=>{if(f&&f(J),J.defaultPrevented)return;J.preventDefault();let ee=J.nativeEvent.submitter,de=ee?.getAttribute("formmethod")||u;N(ee||J.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:a,relative:m,preventScrollReset:w,viewTransition:b})};return I.createElement("form",{ref:P,method:D,action:V,onSubmit:r?f:q,...C,"data-discover":!G&&t==="render"?"true":void 0})});ZD.displayName="Form";function eO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OC(t){let e=I.useContext(Kl);return Nt(e,eO(t)),e}function tO(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=jy(),f=Io(),m=Cu(t,{relative:a});return I.useCallback(w=>{if(DD(w,e)){w.preventDefault();let b=n!==void 0?n:au(f)===au(m);h(t,{replace:b,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,m,n,r,e,t,o,a,u])}var nO=0,rO=()=>`__${String(++nO)}__`;function sO(){let{router:t}=OC("useSubmit"),{basename:e}=I.useContext(cs),n=CD();return I.useCallback(async(r,o={})=>{let{action:a,method:u,encType:h,formData:f,body:m}=MD(r,e);if(o.navigate===!1){let w=o.fetcherKey||rO();await t.fetch(w,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function iO(t,{relative:e}={}){let{basename:n}=I.useContext(cs),r=I.useContext(us);Nt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Cu(t||".",{relative:e})},u=Io();if(t==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(w=>w==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let w=h.toString();a.search=w?`?${w}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:pi([n,a.pathname])),au(a)}function oO(t,{relative:e}={}){let n=I.useContext(IC);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=OC("useViewTransitionState"),o=Cu(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ci(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ci(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lh(o.pathname,u)!=null||Lh(o.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function LC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function aO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iE(t,e){return t.get(LC(t,e))}function lO(t,e,n){aO(t,e),e.set(t,n)}function cO(t,e,n){return t.set(LC(t,e),n),n}const uO=100,Se={},dO=()=>{Se.previousActiveElement instanceof HTMLElement?(Se.previousActiveElement.focus(),Se.previousActiveElement=null):document.body&&document.body.focus()},hO=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;Se.restoreFocusTimeout=setTimeout(()=>{dO(),e()},uO),window.scrollTo(n,r)}),MC="swal2-",fO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],X=fO.reduce((t,e)=>(t[e]=MC+e,t),{}),pO=["success","warning","info","question","error"],Mh=pO.reduce((t,e)=>(t[e]=MC+e,t),{}),jC="SweetAlert2:",By=t=>t.charAt(0).toUpperCase()+t.slice(1),qn=t=>{console.warn(`${jC} ${typeof t=="object"?t.join(" "):t}`)},Pa=t=>{console.error(`${jC} ${t}`)},oE=[],mO=t=>{oE.includes(t)||(oE.push(t),qn(t))},VC=(t,e=null)=>{mO(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Af=t=>typeof t=="function"?t():t,zy=t=>t&&typeof t.toPromise=="function",Tu=t=>zy(t)?t.toPromise():Promise.resolve(t),Hy=t=>t&&Promise.resolve(t)===t,Gn=()=>document.body.querySelector(`.${X.container}`),Iu=t=>{const e=Gn();return e?e.querySelector(t):null},Tr=t=>Iu(`.${t}`),lt=()=>Tr(X.popup),Jl=()=>Tr(X.icon),gO=()=>Tr(X["icon-content"]),FC=()=>Tr(X.title),qy=()=>Tr(X["html-container"]),$C=()=>Tr(X.image),Wy=()=>Tr(X["progress-steps"]),Nf=()=>Tr(X["validation-message"]),js=()=>Iu(`.${X.actions} .${X.confirm}`),Yl=()=>Iu(`.${X.actions} .${X.cancel}`),Aa=()=>Iu(`.${X.actions} .${X.deny}`),yO=()=>Tr(X["input-label"]),Xl=()=>Iu(`.${X.loader}`),Su=()=>Tr(X.actions),UC=()=>Tr(X.footer),Df=()=>Tr(X["timer-progress-bar"]),Gy=()=>Tr(X.close),wO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ky=()=>{const t=lt();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,u)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(u.getAttribute("tabindex")||"0");return h>f?1:h<f?-1:0}),r=t.querySelectorAll(wO),o=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>lr(a))},Qy=()=>mi(document.body,X.shown)&&!mi(document.body,X["toast-shown"])&&!mi(document.body,X["no-backdrop"]),Of=()=>{const t=lt();return t?mi(t,X.toast):!1},vO=()=>{const t=lt();return t?t.hasAttribute("data-loading"):!1},Ir=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(u=>{t.appendChild(u)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?t.appendChild(u.cloneNode(!0)):t.appendChild(u)})}},mi=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},_O=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(X).includes(n)&&!Object.values(Mh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},br=(t,e,n)=>{if(_O(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){qn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}ct(t,r)}},Lf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${X.popup} > .${X[e]}`);case"checkbox":return t.querySelector(`.${X.popup} > .${X.checkbox} input`);case"radio":return t.querySelector(`.${X.popup} > .${X.radio} input:checked`)||t.querySelector(`.${X.popup} > .${X.radio} input:first-child`);case"range":return t.querySelector(`.${X.popup} > .${X.range} input`);default:return t.querySelector(`.${X.popup} > .${X.input}`)}},BC=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},zC=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(r):o.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},ct=(t,e)=>{zC(t,e,!0)},zr=(t,e)=>{zC(t,e,!1)},ao=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const o=n[r];if(o instanceof HTMLElement&&mi(o,e))return o}},ca=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},wn=(t,e="flex")=>{t&&(t.style.display=e)},jn=t=>{t&&(t.style.display="none")},Jy=(t,e="block")=>{t&&new MutationObserver(()=>{xu(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},aE=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},xu=(t,e,n="flex")=>{e?wn(t,n):jn(t)},lr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),EO=()=>!lr(js())&&!lr(Aa())&&!lr(Yl()),wg=t=>t.scrollHeight>t.clientHeight,bO=(t,e)=>{let n=t;for(;n&&n!==e;){if(wg(n))return!0;n=n.parentElement}return!1},HC=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},Yy=(t,e=!1)=>{const n=Df();n&&lr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},CO=()=>{const t=Df();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},TO=()=>typeof window>"u"||typeof document>"u",IO=`
 <div aria-labelledby="${X.title}" aria-describedby="${X["html-container"]}" class="${X.popup}" tabindex="-1">
   <button type="button" class="${X.close}"></button>
   <ul class="${X["progress-steps"]}"></ul>
   <div class="${X.icon}"></div>
   <img class="${X.image}" />
   <h2 class="${X.title}" id="${X.title}"></h2>
   <div class="${X["html-container"]}" id="${X["html-container"]}"></div>
   <input class="${X.input}" id="${X.input}" />
   <input type="file" class="${X.file}" />
   <div class="${X.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${X.select}" id="${X.select}"></select>
   <div class="${X.radio}"></div>
   <label class="${X.checkbox}">
     <input type="checkbox" id="${X.checkbox}" />
     <span class="${X.label}"></span>
   </label>
   <textarea class="${X.textarea}" id="${X.textarea}"></textarea>
   <div class="${X["validation-message"]}" id="${X["validation-message"]}"></div>
   <div class="${X.actions}">
     <div class="${X.loader}"></div>
     <button type="button" class="${X.confirm}"></button>
     <button type="button" class="${X.deny}"></button>
     <button type="button" class="${X.cancel}"></button>
   </div>
   <div class="${X.footer}"></div>
   <div class="${X["timer-progress-bar-container"]}">
     <div class="${X["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),SO=()=>{const t=Gn();return t?(t.remove(),zr([document.documentElement,document.body],[X["no-backdrop"],X["toast-shown"],X["has-column"]]),!0):!1},ea=()=>{Se.currentInstance.resetValidationMessage()},xO=()=>{const t=lt(),e=ao(t,X.input),n=ao(t,X.file),r=t.querySelector(`.${X.range} input`),o=t.querySelector(`.${X.range} output`),a=ao(t,X.select),u=t.querySelector(`.${X.checkbox} input`),h=ao(t,X.textarea);e.oninput=ea,n.onchange=ea,a.onchange=ea,u.onchange=ea,h.oninput=ea,r.oninput=()=>{ea(),o.value=r.value},r.onchange=()=>{ea(),o.value=r.value}},kO=t=>typeof t=="string"?document.querySelector(t):t,RO=t=>{const e=lt();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},PO=t=>{window.getComputedStyle(t).direction==="rtl"&&ct(Gn(),X.rtl)},AO=t=>{const e=SO();if(TO()){Pa("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=X.container,e&&ct(n,X["no-transition"]),Ir(n,IO),n.dataset.swal2Theme=t.theme;const r=kO(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),RO(t),PO(r),xO()},Xy=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?NO(t,e):t&&Ir(e,t)},NO=(t,e)=>{t.jquery?DO(e,t):Ir(e,t.toString())},DO=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},OO=(t,e)=>{const n=Su(),r=Xl();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?jn(n):wn(n),br(n,e,"actions"),LO(n,r,e),Ir(r,e.loaderHtml||""),br(r,e,"loader"))};function LO(t,e,n){const r=js(),o=Aa(),a=Yl();!r||!o||!a||(Dm(r,"confirm",n),Dm(o,"deny",n),Dm(a,"cancel",n),MO(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}function MO(t,e,n,r){if(!r.buttonsStyling){zr([t,e,n],X.styled);return}ct([t,e,n],X.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Nm(t),Nm(e),Nm(n)}function Nm(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Dm(t,e,n){const r=By(e);xu(t,n[`show${r}Button`],"inline-block"),Ir(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=X[e],br(t,n,`${e}Button`)}const jO=(t,e)=>{const n=Gy();n&&(Ir(n,e.closeButtonHtml||""),br(n,e,"closeButton"),xu(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},VO=(t,e)=>{const n=Gn();n&&(FO(n,e.backdrop),$O(n,e.position),UO(n,e.grow),br(n,e,"container"))};function FO(t,e){typeof e=="string"?t.style.background=e:e||ct([document.documentElement,document.body],X["no-backdrop"])}function $O(t,e){e&&(e in X?ct(t,X[e]):(qn('The "position" parameter is not valid, defaulting to "center"'),ct(t,X.center)))}function UO(t,e){e&&ct(t,X[`grow-${e}`])}var Et={innerParams:new WeakMap,domCache:new WeakMap};const BO=["input","file","range","select","radio","checkbox","textarea"],zO=(t,e)=>{const n=lt();if(!n)return;const r=Et.innerParams.get(t),o=!r||e.input!==r.input;BO.forEach(a=>{const u=ao(n,X[a]);u&&(WO(a,e.inputAttributes),u.className=X[a],o&&jn(u))}),e.input&&(o&&HO(e),GO(e))},HO=t=>{if(!t.input)return;if(!qt[t.input]){Pa(`Unexpected type of input! Expected ${Object.keys(qt).join(" | ")}, got "${t.input}"`);return}const e=qC(t.input);if(!e)return;const n=qt[t.input](e,t);wn(e),t.inputAutoFocus&&setTimeout(()=>{BC(n)})},qO=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},WO=(t,e)=>{const n=lt();if(!n)return;const r=Lf(n,t);if(r){qO(r);for(const o in e)r.setAttribute(o,e[o])}},GO=t=>{if(!t.input)return;const e=qC(t.input);e&&br(e,t,"input")},Zy=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},ku=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=X["input-label"];r.setAttribute("for",t.id),r.className=o,typeof n.customClass=="object"&&ct(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},qC=t=>{const e=lt();if(e)return ao(e,X[t]||X.input)},jh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Hy(e)||qn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},qt={};qt.text=qt.email=qt.password=qt.number=qt.tel=qt.url=qt.search=qt.date=qt["datetime-local"]=qt.time=qt.week=qt.month=(t,e)=>(jh(t,e.inputValue),ku(t,t,e),Zy(t,e),t.type=e.input,t);qt.file=(t,e)=>(ku(t,t,e),Zy(t,e),t);qt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return jh(n,e.inputValue),n.type=e.input,jh(r,e.inputValue),ku(n,t,e),t};qt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Ir(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return ku(t,t,e),t};qt.radio=t=>(t.textContent="",t);qt.checkbox=(t,e)=>{const n=Lf(lt(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return Ir(r,e.inputPlaceholder||e.inputLabel),n};qt.textarea=(t,e)=>{jh(t,e.inputValue),Zy(t,e),ku(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(lt()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?lt().style.width=`${a}px`:ca(lt(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const KO=(t,e)=>{const n=qy();n&&(Jy(n),br(n,e,"htmlContainer"),e.html?(Xy(e.html,n),wn(n,"block")):e.text?(n.textContent=e.text,wn(n,"block")):jn(n),zO(t,e))},QO=(t,e)=>{const n=UC();n&&(Jy(n),xu(n,e.footer,"block"),e.footer&&Xy(e.footer,n),br(n,e,"footer"))},JO=(t,e)=>{const n=Et.innerParams.get(t),r=Jl();if(!r)return;if(n&&e.icon===n.icon){cE(r,e),lE(r,e);return}if(!e.icon&&!e.iconHtml){jn(r);return}if(e.icon&&Object.keys(Mh).indexOf(e.icon)===-1){Pa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),jn(r);return}wn(r),cE(r,e),lE(r,e),ct(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",WC)},lE=(t,e)=>{for(const[n,r]of Object.entries(Mh))e.icon!==n&&zr(t,r);ct(t,e.icon&&Mh[e.icon]),ZO(t,e),WC(),br(t,e,"icon")},WC=()=>{const t=lt();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},YO=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,XO=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,cE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=uE(e.iconHtml):e.icon==="success"?(r=YO(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=XO:e.icon&&(r=uE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&Ir(t,r)},ZO=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])aE(t,n,"background-color",e.iconColor);aE(t,".swal2-success-ring","border-color",e.iconColor)}},uE=t=>`<div class="${X["icon-content"]}">${t}</div>`,eL=(t,e)=>{const n=$C();if(n){if(!e.imageUrl){jn(n);return}wn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),ca(n,"width",e.imageWidth),ca(n,"height",e.imageHeight),n.className=X.image,br(n,e,"image")}};let ew=!1,GC=0,KC=0,QC=0,JC=0;const tL=t=>{t.addEventListener("mousedown",Vh),document.body.addEventListener("mousemove",Fh),t.addEventListener("mouseup",$h),t.addEventListener("touchstart",Vh),document.body.addEventListener("touchmove",Fh),t.addEventListener("touchend",$h)},nL=t=>{t.removeEventListener("mousedown",Vh),document.body.removeEventListener("mousemove",Fh),t.removeEventListener("mouseup",$h),t.removeEventListener("touchstart",Vh),document.body.removeEventListener("touchmove",Fh),t.removeEventListener("touchend",$h)},Vh=t=>{const e=lt();if(t.target===e||Jl().contains(t.target)){ew=!0;const n=YC(t);GC=n.clientX,KC=n.clientY,QC=parseInt(e.style.insetInlineStart)||0,JC=parseInt(e.style.insetBlockStart)||0,ct(e,"swal2-dragging")}},Fh=t=>{const e=lt();if(ew){let{clientX:n,clientY:r}=YC(t);e.style.insetInlineStart=`${QC+(n-GC)}px`,e.style.insetBlockStart=`${JC+(r-KC)}px`}},$h=()=>{const t=lt();ew=!1,zr(t,"swal2-dragging")},YC=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},rL=(t,e)=>{const n=Gn(),r=lt();if(!(!n||!r)){if(e.toast){ca(n,"width",e.width),r.style.width="100%";const o=Xl();o&&r.insertBefore(o,Jl())}else ca(r,"width",e.width);ca(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),jn(Nf()),sL(r,e),e.draggable&&!e.toast?(ct(r,X.draggable),tL(r)):(zr(r,X.draggable),nL(r))}},sL=(t,e)=>{const n=e.showClass||{};t.className=`${X.popup} ${lr(t)?n.popup:""}`,e.toast?(ct([document.documentElement,document.body],X["toast-shown"]),ct(t,X.toast)):ct(t,X.modal),br(t,e,"popup"),typeof e.customClass=="string"&&ct(t,e.customClass),e.icon&&ct(t,X[`icon-${e.icon}`])},iL=(t,e)=>{const n=Wy();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){jn(n);return}wn(n),n.textContent="",o>=r.length&&qn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,u)=>{const h=oL(a);if(n.appendChild(h),u===o&&ct(h,X["active-progress-step"]),u!==r.length-1){const f=aL(e);n.appendChild(f)}})},oL=t=>{const e=document.createElement("li");return ct(e,X["progress-step"]),Ir(e,t),e},aL=t=>{const e=document.createElement("li");return ct(e,X["progress-step-line"]),t.progressStepsDistance&&ca(e,"width",t.progressStepsDistance),e},lL=(t,e)=>{const n=FC();n&&(Jy(n),xu(n,e.title||e.titleText,"block"),e.title&&Xy(e.title,n),e.titleText&&(n.innerText=e.titleText),br(n,e,"title"))},XC=(t,e)=>{rL(t,e),VO(t,e),iL(t,e),JO(t,e),eL(t,e),lL(t,e),jO(t,e),KO(t,e),OO(t,e),QO(t,e);const n=lt();typeof e.didRender=="function"&&n&&e.didRender(n),Se.eventEmitter.emit("didRender",n)},cL=()=>lr(lt()),ZC=()=>{var t;return(t=js())===null||t===void 0?void 0:t.click()},uL=()=>{var t;return(t=Aa())===null||t===void 0?void 0:t.click()},dL=()=>{var t;return(t=Yl())===null||t===void 0?void 0:t.click()},Zl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),eT=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},hL=(t,e,n)=>{eT(t),e.toast||(t.keydownHandler=r=>pL(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:lt(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},vg=(t,e)=>{var n;const r=Ky();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=lt())===null||n===void 0||n.focus()},tT=["ArrowRight","ArrowDown"],fL=["ArrowLeft","ArrowUp"],pL=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?mL(e,t):e.key==="Tab"?gL(e):[...tT,...fL].includes(e.key)?yL(e.key):e.key==="Escape"&&wL(e,t,n)))},mL=(t,e)=>{if(!Af(e.allowEnterKey))return;const n=Lf(lt(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;ZC(),t.preventDefault()}},gL=t=>{const e=t.target,n=Ky();let r=-1;for(let o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?vg(r,-1):vg(r,1),t.stopPropagation(),t.preventDefault()},yL=t=>{const e=Su(),n=js(),r=Aa(),o=Yl();if(!e||!n||!r||!o)return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const u=tT.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let f=0;f<e.children.length;f++){if(h=h[u],!h)return;if(h instanceof HTMLButtonElement&&lr(h))break}h instanceof HTMLButtonElement&&h.focus()}},wL=(t,e,n)=>{t.preventDefault(),Af(e.allowEscapeKey)&&n(Zl.esc)};var Ll={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const vL=()=>{const t=Gn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},nT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},rT=typeof window<"u"&&!!window.GestureEvent,_L=()=>{if(rT&&!mi(document.body,X.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,ct(document.body,X.iosfix),EL()}},EL=()=>{const t=Gn();if(!t)return;let e;t.ontouchstart=n=>{e=bL(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},bL=t=>{const e=t.target,n=Gn(),r=qy();return!n||!r||CL(t)||TL(t)?!1:e===n||!wg(n)&&e instanceof HTMLElement&&!bO(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(wg(r)&&r.contains(e))},CL=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",TL=t=>t.touches&&t.touches.length>1,IL=()=>{if(mi(document.body,X.iosfix)){const t=parseInt(document.body.style.top,10);zr(document.body,X.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},SL=()=>{const t=document.createElement("div");t.className=X["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Il=null;const xL=t=>{Il===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Il=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Il+SL()}px`)},kL=()=>{Il!==null&&(document.body.style.paddingRight=`${Il}px`,Il=null)};function sT(t,e,n,r){Of()?dE(t,r):(hO(n).then(()=>dE(t,r)),eT(Se)),rT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Qy()&&(kL(),IL(),nT()),RL()}function RL(){zr([document.documentElement,document.body],[X.shown,X["height-auto"],X["no-backdrop"],X["toast-shown"]])}function lo(t){t=AL(t);const e=Ll.swalPromiseResolve.get(this),n=PL(this);this.isAwaitingPromise?t.isDismissed||(Ru(this),e(t)):n&&e(t)}const PL=t=>{const e=lt();if(!e)return!1;const n=Et.innerParams.get(t);if(!n||mi(e,n.hideClass.popup))return!1;zr(e,n.showClass.popup),ct(e,n.hideClass.popup);const r=Gn();return zr(r,n.showClass.backdrop),ct(r,n.hideClass.backdrop),NL(t,e,n),!0};function iT(t){const e=Ll.swalPromiseReject.get(this);Ru(this),e&&e(t)}const Ru=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Et.innerParams.get(t)||t._destroy())},AL=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),NL=(t,e,n)=>{var r;const o=Gn(),a=HC(e);typeof n.willClose=="function"&&n.willClose(e),(r=Se.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?DL(t,e,o,n.returnFocus,n.didClose):sT(t,o,n.returnFocus,n.didClose)},DL=(t,e,n,r,o)=>{Se.swalCloseEventFinishedCallback=sT.bind(null,t,n,r,o);const a=function(u){if(u.target===e){var h;(h=Se.swalCloseEventFinishedCallback)===null||h===void 0||h.call(Se),delete Se.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},dE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Se.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Ml=t=>{let e=lt();if(e||new gt,e=lt(),!e)return;const n=Xl();Of()?jn(Jl()):OL(e,t),wn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},OL=(t,e)=>{const n=Su(),r=Xl();!n||!r||(!e&&lr(js())&&(e=js()),wn(n),e&&(jn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),ct([t,n],X.loading))},LL=(t,e)=>{e.input==="select"||e.input==="radio"?$L(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(zy(e.inputValue)||Hy(e.inputValue))&&(Ml(js()),UL(t,e))},ML=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return jL(n);case"radio":return VL(n);case"file":return FL(n);default:return e.inputAutoTrim?n.value.trim():n.value}},jL=t=>t.checked?1:0,VL=t=>t.checked?t.value:null,FL=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,$L=(t,e)=>{const n=lt();if(!n)return;const r=o=>{e.input==="select"?BL(n,Uh(o),e):e.input==="radio"&&zL(n,Uh(o),e)};zy(e.inputOptions)||Hy(e.inputOptions)?(Ml(js()),Tu(e.inputOptions).then(o=>{t.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):Pa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},UL=(t,e)=>{const n=t.getInput();n&&(jn(n),Tu(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,wn(n),n.focus(),t.hideLoading()}).catch(r=>{Pa(`Error in inputValue promise: ${r}`),n.value="",wn(n),n.focus(),t.hideLoading()}))};function BL(t,e,n){const r=ao(t,X.select);if(!r)return;const o=(a,u,h)=>{const f=document.createElement("option");f.value=h,Ir(f,u),f.selected=oT(h,n.inputValue),a.appendChild(f)};e.forEach(a=>{const u=a[0],h=a[1];if(Array.isArray(h)){const f=document.createElement("optgroup");f.label=u,f.disabled=!1,r.appendChild(f),h.forEach(m=>o(f,m[1],m[0]))}else o(r,h,u)}),r.focus()}function zL(t,e,n){const r=ao(t,X.radio);if(!r)return;e.forEach(a=>{const u=a[0],h=a[1],f=document.createElement("input"),m=document.createElement("label");f.type="radio",f.name=X.radio,f.value=u,oT(u,n.inputValue)&&(f.checked=!0);const w=document.createElement("span");Ir(w,h),w.className=X.label,m.appendChild(f),m.appendChild(w),r.appendChild(m)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const Uh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let o=n;typeof o=="object"&&(o=Uh(o)),e.push([r,o])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Uh(r)),e.push([n,r])}),e},oT=(t,e)=>!!e&&e.toString()===t.toString(),HL=t=>{const e=Et.innerParams.get(t);t.disableButtons(),e.input?aT(t,"confirm"):nw(t,!0)},qL=t=>{const e=Et.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?aT(t,"deny"):tw(t,!1)},WL=(t,e)=>{t.disableButtons(),e(Zl.cancel)},aT=(t,e)=>{const n=Et.innerParams.get(t);if(!n.input){Pa(`The "input" parameter is needed to be set when using returnInputValueOn${By(e)}`);return}const r=t.getInput(),o=ML(t,n);n.inputValidator?GL(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?tw(t,o):nw(t,o)},GL=(t,e,n)=>{const r=Et.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Tu(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?tw(t,e):nw(t,e)})},tw=(t,e)=>{const n=Et.innerParams.get(t||void 0);n.showLoaderOnDeny&&Ml(Aa()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Tu(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),Ru(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>lT(t||void 0,o))):t.close({isDenied:!0,value:e})},hE=(t,e)=>{t.close({isConfirmed:!0,value:e})},lT=(t,e)=>{t.rejectPromise(e)},nw=(t,e)=>{const n=Et.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Ml(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Tu(n.preConfirm(e,n.validationMessage))).then(o=>{lr(Nf())||o===!1?(t.hideLoading(),Ru(t)):hE(t,typeof o>"u"?e:o)}).catch(o=>lT(t||void 0,o))):hE(t,e)};function Bh(){const t=Et.innerParams.get(this);if(!t)return;const e=Et.domCache.get(this);jn(e.loader),Of()?t.icon&&wn(Jl()):KL(e),zr([e.popup,e.actions],X.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const KL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?wn(e[0],"inline-block"):EO()&&jn(t.actions)};function cT(){const t=Et.innerParams.get(this),e=Et.domCache.get(this);return e?Lf(e.popup,t.input):null}function uT(t,e,n){const r=Et.domCache.get(t);e.forEach(o=>{r[o].disabled=n})}function dT(t,e){const n=lt();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${X.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else t.disabled=e}function hT(){uT(this,["confirmButton","denyButton","cancelButton"],!1)}function fT(){uT(this,["confirmButton","denyButton","cancelButton"],!0)}function pT(){dT(this.getInput(),!1)}function mT(){dT(this.getInput(),!0)}function gT(t){const e=Et.domCache.get(this),n=Et.innerParams.get(this);Ir(e.validationMessage,t),e.validationMessage.className=X["validation-message"],n.customClass&&n.customClass.validationMessage&&ct(e.validationMessage,n.customClass.validationMessage),wn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",X["validation-message"]),BC(r),ct(r,X.inputerror))}function yT(){const t=Et.domCache.get(this);t.validationMessage&&jn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),zr(e,X.inputerror))}const Sl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},QL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],JL={allowEnterKey:void 0},YL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],wT=t=>Object.prototype.hasOwnProperty.call(Sl,t),vT=t=>QL.indexOf(t)!==-1,_T=t=>JL[t],XL=t=>{wT(t)||qn(`Unknown parameter "${t}"`)},ZL=t=>{YL.includes(t)&&qn(`The parameter "${t}" is incompatible with toasts`)},eM=t=>{const e=_T(t);e&&VC(t,e)},ET=t=>{t.backdrop===!1&&t.allowOutsideClick&&qn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&qn(`Invalid theme "${t.theme}"`);for(const e in t)XL(e),t.toast&&ZL(e),eM(e)};function bT(t){const e=Gn(),n=lt(),r=Et.innerParams.get(this);if(!n||mi(n,r.hideClass.popup)){qn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=tM(t),a=Object.assign({},r,o);ET(a),e.dataset.swal2Theme=a.theme,XC(this,a),Et.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const tM=t=>{const e={};return Object.keys(t).forEach(n=>{vT(n)?e[n]=t[n]:qn(`Invalid parameter to update: ${n}`)}),e};function CT(){const t=Et.domCache.get(this),e=Et.innerParams.get(this);if(!e){TT(this);return}t.popup&&Se.swalCloseEventFinishedCallback&&(Se.swalCloseEventFinishedCallback(),delete Se.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Se.eventEmitter.emit("didDestroy"),nM(this)}const nM=t=>{TT(t),delete t.params,delete Se.keydownHandler,delete Se.keydownTarget,delete Se.currentInstance},TT=t=>{t.isAwaitingPromise?(Om(Et,t),t.isAwaitingPromise=!0):(Om(Ll,t),Om(Et,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Om=(t,e)=>{for(const n in t)t[n].delete(e)};var rM=Object.freeze({__proto__:null,_destroy:CT,close:lo,closeModal:lo,closePopup:lo,closeToast:lo,disableButtons:fT,disableInput:mT,disableLoading:Bh,enableButtons:hT,enableInput:pT,getInput:cT,handleAwaitingPromise:Ru,hideLoading:Bh,rejectPromise:iT,resetValidationMessage:yT,showValidationMessage:gT,update:bT});const sM=(t,e,n)=>{t.toast?iM(t,e,n):(aM(e),lM(e),cM(t,e,n))},iM=(t,e,n)=>{e.popup.onclick=()=>{t&&(oM(t)||t.timer||t.input)||n(Zl.close)}},oM=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let zh=!1;const aM=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(zh=!0)}}},lM=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(zh=!0)}}},cM=(t,e,n)=>{e.container.onclick=r=>{if(zh){zh=!1;return}r.target===e.container&&Af(t.allowOutsideClick)&&n(Zl.backdrop)}},uM=t=>typeof t=="object"&&t.jquery,fE=t=>t instanceof Element||uM(t),dM=t=>{const e={};return typeof t[0]=="object"&&!fE(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const o=t[r];typeof o=="string"||fE(o)?e[n]=o:o!==void 0&&Pa(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function hM(...t){return new this(...t)}function fM(t){class e extends this{_main(r,o){return super._main(r,Object.assign({},t,o))}}return e}const pM=()=>Se.timeout&&Se.timeout.getTimerLeft(),IT=()=>{if(Se.timeout)return CO(),Se.timeout.stop()},ST=()=>{if(Se.timeout){const t=Se.timeout.start();return Yy(t),t}},mM=()=>{const t=Se.timeout;return t&&(t.running?IT():ST())},gM=t=>{if(Se.timeout){const e=Se.timeout.increase(t);return Yy(e,!0),e}},yM=()=>!!(Se.timeout&&Se.timeout.isRunning());let pE=!1;const _g={};function wM(t="data-swal-template"){_g[t]=this,pE||(document.body.addEventListener("click",vM),pE=!0)}const vM=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in _g){const r=e.getAttribute(n);if(r){_g[n].fire({template:r});return}}};class _M{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...o)=>{this.removeListener(e,r),n.apply(this,o)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Se.eventEmitter=new _M;const EM=(t,e)=>{Se.eventEmitter.on(t,e)},bM=(t,e)=>{Se.eventEmitter.once(t,e)},CM=(t,e)=>{if(!t){Se.eventEmitter.reset();return}e?Se.eventEmitter.removeListener(t,e):Se.eventEmitter.removeAllListeners(t)};var TM=Object.freeze({__proto__:null,argsToParams:dM,bindClickHandler:wM,clickCancel:dL,clickConfirm:ZC,clickDeny:uL,enableLoading:Ml,fire:hM,getActions:Su,getCancelButton:Yl,getCloseButton:Gy,getConfirmButton:js,getContainer:Gn,getDenyButton:Aa,getFocusableElements:Ky,getFooter:UC,getHtmlContainer:qy,getIcon:Jl,getIconContent:gO,getImage:$C,getInputLabel:yO,getLoader:Xl,getPopup:lt,getProgressSteps:Wy,getTimerLeft:pM,getTimerProgressBar:Df,getTitle:FC,getValidationMessage:Nf,increaseTimer:gM,isDeprecatedParameter:_T,isLoading:vO,isTimerRunning:yM,isUpdatableParameter:vT,isValidParameter:wT,isVisible:cL,mixin:fM,off:CM,on:EM,once:bM,resumeTimer:ST,showLoading:Ml,stopTimer:IT,toggleTimer:mM});class IM{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const xT=["swal-title","swal-html","swal-footer"],SM=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return OM(n),Object.assign(xM(n),kM(n),RM(n),PM(n),AM(n),NM(n),DM(n,xT))},xM=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{wa(r,["name","value"]);const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(typeof Sl[o]=="boolean"?e[o]=a!=="false":typeof Sl[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},kM=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},RM=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{wa(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${By(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},PM=t=>{const e={},n=t.querySelector("swal-image");return n&&(wa(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},AM=t=>{const e={},n=t.querySelector("swal-icon");return n&&(wa(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},NM=t=>{const e={},n=t.querySelector("swal-input");n&&(wa(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{wa(o,["value"]);const a=o.getAttribute("value");if(!a)return;const u=o.innerHTML;e.inputOptions[a]=u})),e},DM=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(wa(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},OM=t=>{const e=xT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||qn(`Unrecognized element <${r}>`)})},wa=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&qn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},kT=10,LM=t=>{const e=Gn(),n=lt();typeof t.willOpen=="function"&&t.willOpen(n),Se.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;VM(e,n,t),setTimeout(()=>{MM(e,n)},kT),Qy()&&(jM(e,t.scrollbarPadding,o),vL()),!Of()&&!Se.previousActiveElement&&(Se.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Se.eventEmitter.emit("didOpen",n),zr(e,X["no-transition"])},Hh=t=>{const e=lt();if(t.target!==e)return;const n=Gn();e.removeEventListener("animationend",Hh),e.removeEventListener("transitionend",Hh),n.style.overflowY="auto"},MM=(t,e)=>{HC(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Hh),e.addEventListener("transitionend",Hh)):t.style.overflowY="auto"},jM=(t,e,n)=>{_L(),e&&n!=="hidden"&&xL(n),setTimeout(()=>{t.scrollTop=0})},VM=(t,e,n)=>{ct(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),wn(e,"grid"),setTimeout(()=>{ct(e,n.showClass.popup),e.style.removeProperty("opacity")},kT)):wn(e,"grid"),ct([document.documentElement,document.body],X.shown),n.heightAuto&&n.backdrop&&!n.toast&&ct([document.documentElement,document.body],X["height-auto"])};var mE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function FM(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=mE.email),t.input==="url"&&(t.inputValidator=mE.url))}function $M(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(qn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function UM(t){FM(t),t.showLoaderOnConfirm&&!t.preConfirm&&qn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),$M(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),AO(t)}let xs;var Hd=new WeakMap;class Gt{constructor(...e){if(lO(this,Hd,void 0),typeof window>"u")return;xs=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,cO(Hd,this,this._main(xs.params))}_main(e,n={}){if(ET(Object.assign({},n,e)),Se.currentInstance){const a=Ll.swalPromiseResolve.get(Se.currentInstance),{isAwaitingPromise:u}=Se.currentInstance;Se.currentInstance._destroy(),u||a({isDismissed:!0}),Qy()&&nT()}Se.currentInstance=xs;const r=zM(e,n);UM(r),Object.freeze(r),Se.timeout&&(Se.timeout.stop(),delete Se.timeout),clearTimeout(Se.restoreFocusTimeout);const o=HM(xs);return XC(xs,r),Et.innerParams.set(xs,r),BM(xs,o,r)}then(e){return iE(Hd,this).then(e)}finally(e){return iE(Hd,this).finally(e)}}const BM=(t,e,n)=>new Promise((r,o)=>{const a=u=>{t.close({isDismissed:!0,dismiss:u})};Ll.swalPromiseResolve.set(t,r),Ll.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{HL(t)},e.denyButton.onclick=()=>{qL(t)},e.cancelButton.onclick=()=>{WL(t,a)},e.closeButton.onclick=()=>{a(Zl.close)},sM(n,e,a),hL(Se,n,a),LL(t,n),LM(n),qM(Se,n,a),WM(e,n),setTimeout(()=>{e.container.scrollTop=0})}),zM=(t,e)=>{const n=SM(t),r=Object.assign({},Sl,e,n,t);return r.showClass=Object.assign({},Sl.showClass,r.showClass),r.hideClass=Object.assign({},Sl.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},HM=t=>{const e={popup:lt(),container:Gn(),actions:Su(),confirmButton:js(),denyButton:Aa(),cancelButton:Yl(),loader:Xl(),closeButton:Gy(),validationMessage:Nf(),progressSteps:Wy()};return Et.domCache.set(t,e),e},qM=(t,e,n)=>{const r=Df();jn(r),e.timer&&(t.timeout=new IM(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(wn(r),br(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Yy(e.timer)})))},WM=(t,e)=>{if(!e.toast){if(!Af(e.allowEnterKey)){VC("allowEnterKey"),QM();return}GM(t)||KM(t,e)||vg(-1,1)}},GM=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&lr(n))return n.focus(),!0;return!1},KM=(t,e)=>e.focusDeny&&lr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&lr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&lr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,QM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Gt.prototype.disableButtons=fT;Gt.prototype.enableButtons=hT;Gt.prototype.getInput=cT;Gt.prototype.disableInput=mT;Gt.prototype.enableInput=pT;Gt.prototype.hideLoading=Bh;Gt.prototype.disableLoading=Bh;Gt.prototype.showValidationMessage=gT;Gt.prototype.resetValidationMessage=yT;Gt.prototype.close=lo;Gt.prototype.closePopup=lo;Gt.prototype.closeModal=lo;Gt.prototype.closeToast=lo;Gt.prototype.rejectPromise=iT;Gt.prototype.update=bT;Gt.prototype._destroy=CT;Object.assign(Gt,TM);Object.keys(rM).forEach(t=>{Gt[t]=function(...e){return xs&&xs[t]?xs[t](...e):null}});Gt.DismissReason=Zl;Gt.version="11.23.0";const gt=Gt;gt.default=gt;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const jl="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",nn="/Fantasy-Casadillos/SinPerfil.jpg",JM="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",YM="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",XM="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",ZM="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",Lc=$s(Wn),gE=Cr(Wn),e5=new Rs,t5=()=>{const[t,e]=I.useState(!1),[n,r]=I.useState(!1),[o,a]=I.useState(JM),u=jy();I.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async w=>{w.preventDefault();const b=new FormData(w.currentTarget),C=b.get("email"),P=b.get("password");if(n)try{const{user:N}=await nR(Lc,C,P),V=b.get("nick");await Db(Lc.currentUser,{displayName:V});const D={nick:V,correo:C,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await Z0(vt(gE,"usuarios",N.uid),D,{merge:!0})}catch(N){console.error("Error registrando usuario:",N);let V="No se pudo crear la cuenta. Revisa los datos.";N.code==="auth/email-already-in-use"?V="Ya existe una cuenta con este correo.":N.code==="auth/weak-password"?V="La contraseña debe tener al menos 6 caracteres.":N.code==="auth/invalid-email"?V="El correo electrónico no es válido.":V=`Error desconocido: ${N.code}`,gt.fire({icon:"error",title:"Error",text:V})}else try{await rR(Lc,C,P),console.log("Inicio de sesión exitoso"),u("/home")}catch(N){console.error("Error iniciando sesión:",N);let V="Error al iniciar sesión.";(N.code==="auth/invalid-credential"||N.code==="auth/wrong-password"||N.code==="auth/user-not-found")&&(V="Correo o contraseña incorrectos."),gt.fire({icon:"error",title:"Error al iniciar sesión",text:V})}},f=async()=>{const{value:w}=await gt.fire({title:"Recuperar contraseña",input:"email",inputLabel:"Introduce tu correo electrónico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:b=>{if(!b)return"El correo es obligatorio"}});if(w)try{await Nb(Lc,w),gt.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(b){gt.fire("Error",b.message,"error")}},m=async()=>{try{const w=await PR(Lc,e5);if(!w?.user)throw new Error("No se obtuvo el usuario de Google.");const b=w.user,C=vt(gE,"usuarios",b.uid);(await Fr(C)).exists()||await Z0(C,{nick:b.displayName||"",correo:b.email,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(w){if(w.code==="auth/popup-closed-by-user"||w.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",w),gt.fire({icon:"error",title:"Error",text:w.message||"No se pudo iniciar sesión con Google"})}};return v.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${jl})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),v.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[v.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),v.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:v.jsx("label",{style:{cursor:"default",display:"inline-block"},children:v.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),v.jsxs("form",{onSubmit:h,children:[v.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&v.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),v.jsxs("div",{className:"cajaContainerContraseña",children:[v.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contraseña",className:"cajacontraseña",required:!0}),v.jsx("img",{src:t?XM:ZM,alt:"Mostrar contraseña",className:"toggle-password-icon",onClick:()=>e(w=>!w)})]}),!n&&v.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:v.jsx("button",{type:"button",onClick:f,className:"link-style",children:"¿Has olvidado la contraseña?"})}),n?v.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[v.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesión"}),v.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),v.jsxs("button",{type:"button",onClick:m,className:"btn-google",style:{width:"auto"},children:[v.jsx("img",{src:YM,alt:"Google"}),"Google"]})]})]}),v.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",v.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesión":"Regístrate"})]})]})]})},Eg={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firebasestorage.googleapis.com",n5="storageBucket",r5=120*1e3,s5=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Fs{constructor(e,n,r=0){super(Lm(e),`Firebase Storage: ${n} (${Lm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Us.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vs||(Vs={}));function Lm(t){return"storage/"+t}function i5(){const t="An unknown error occurred, please check the error payload for server response.";return new Us(Vs.UNKNOWN,t)}function o5(){return new Us(Vs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a5(){return new Us(Vs.CANCELED,"User canceled the upload/download.")}function l5(t){return new Us(Vs.INVALID_URL,"Invalid URL '"+t+"'.")}function c5(t){return new Us(Vs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function yE(t){return new Us(Vs.INVALID_ARGUMENT,t)}function PT(){return new Us(Vs.APP_DELETED,"The Firebase app was deleted.")}function u5(t){return new Us(Vs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ss.makeFromUrl(e,n)}catch{return new ss(e,"")}if(r.path==="")return r;throw c5(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function m(ee){ee.path_=decodeURIComponent(ee.path)}const w="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",P=new RegExp(`^https?://${b}/${w}/b/${o}/o${C}`,"i"),N={bucket:1,path:3},V=n===RT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",G=new RegExp(`^https?://${V}/${o}/${D}`,"i"),J=[{regex:h,indices:f,postModify:a},{regex:P,indices:N,postModify:m},{regex:G,indices:{bucket:1,path:2},postModify:m}];for(let ee=0;ee<J.length;ee++){const de=J[ee],se=de.regex.exec(e);if(se){const R=se[de.indices.bucket];let T=se[de.indices.path];T||(T=""),r=new ss(R,T),de.postModify(r);break}}if(r==null)throw l5(e);return r}}class d5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t,e,n){let r=1,o=null,a=null,u=!1,h=0;function f(){return h===2}let m=!1;function w(...D){m||(m=!0,e.apply(null,D))}function b(D){o=setTimeout(()=>{o=null,t(P,f())},D)}function C(){a&&clearTimeout(a)}function P(D,...G){if(m){C();return}if(D){C(),w.call(null,D,...G);return}if(f()||u){C(),w.call(null,D,...G);return}r<64&&(r*=2);let J;h===1?(h=2,J=0):J=(r+Math.random())*1e3,b(J)}let N=!1;function V(D){N||(N=!0,C(),!m&&(o!==null?(D||(h=2),clearTimeout(o),b(0)):D||(h=1)))}return b(0),a=setTimeout(()=>{u=!0,V(!0)},n),V}function f5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){return t!==void 0}function wE(t,e,n,r){if(r<e)throw yE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yE(`Invalid value for '${t}'. Expected ${n} or less.`)}function m5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var qh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qh||(qh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n,r,o,a,u,h,f,m,w,b,C=!0,P=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=w,this.connectionFactory_=b,this.retry=C,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,V)=>{this.resolve_=N,this.reject_=V,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new qd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===qh.NO_ERROR,f=a.getStatus();if(!h||g5(f,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===qh.ABORT;r(!1,new qd(!1,null,w));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new qd(m,a))})},n=(r,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());p5(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=i5();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(o.canceled){const f=this.appDelete_?PT():a5();u(f)}else{const f=o5();u(f)}};this.canceled_?n(!1,new qd(!1,null,!0)):this.backoffId_=h5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&f5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function w5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function v5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function E5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function b5(t,e,n,r,o,a,u=!0,h=!1){const f=m5(t.urlParams),m=t.url+f,w=Object.assign({},t.headers);return _5(w,e),w5(w,n),v5(w,a),E5(w,r),new y5(m,t.method,w,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this._service=e,n instanceof ss?this._location=n:this._location=ss.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wh(e,n)}get root(){const e=new ss(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T5(this._location.path)}get storage(){return this._service}get parent(){const e=C5(this._location.path);if(e===null)return null;const n=new ss(this._location.bucket,e);return new Wh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw u5(e)}}function vE(t,e){const n=e?.[n5];return n==null?null:ss.makeFromBucketSpec(n,t)}function I5(t,e,n,r={}){t.host=`${e}:${n}`;const o=Ea(e);o&&(Ng(`https://${t.host}/b`),Dg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:nb(a,t.app.options.projectId))}class S5{constructor(e,n,r,o,a,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=RT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=r5,this._maxUploadRetryTime=s5,this._requests=new Set,o!=null?this._bucket=ss.makeFromBucketSpec(o,this._host):this._bucket=vE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ss.makeFromBucketSpec(this._url,e):this._bucket=vE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wh(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new d5(PT());{const u=b5(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const _E="@firebase/storage",EE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="storage";function Mf(t=Mg(),e){t=xt(t);const r=ef(t,AT).getImmediate({identifier:e}),o=ZE("storage");return o&&x5(r,...o),r}function x5(t,e,n,r={}){I5(t,e,n,r)}function k5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new S5(n,r,o,e,ba)}function R5(){ha(new mo(AT,k5,"PUBLIC").setMultipleInstances(!0)),Ps(_E,EE,""),Ps(_E,EE,"esm2020")}R5();const Mc=Cr(Wn),P5=async()=>{try{const t=vt(Mc,"mercado","actual"),e=await Fr(t);if(e.exists()){const f=e.data();for(const m of f.jugadores)if(m.stock>0){const w=vt(Mc,"jugadores",m.idJugador);await ar(w,{stockLibre:Oh(m.stock),dueños:_C("mercado")})}}const o=(await bi(Ei(Mc,"jugadores"))).docs.map(f=>({idJugador:f.id,...f.data()})).filter(f=>f.stockLibre>0).sort(()=>.5-Math.random()).slice(0,15);for(const f of o){const m=vt(Mc,"jugadores",f.idJugador);await ar(m,{stockLibre:Oh(-1),dueños:vC("mercado")})}await ar(t,{jugadores:o.map(f=>({idJugador:f.idJugador,nombre:f.nombre,precio:f.precio,precioClausula:f.precioClausula,goles:f.goles,asistencias:f.asistencias,valoracion:f.valoracion,nota:f.nota,puntos:f.puntosTotales,partidos:f.partidos,foto:f.foto,posicion:f.posicion,vendedor:"Fantasy Casadillos",stock:1,historialPrecios:f.historialPrecios||[],puntosPorJornada:f.puntosPorJornada||[]})),ultimaActualizacion:ON()});const a=Ei(Mc,"mercado/actual/usuarios"),h=(await bi(a)).docs.map(f=>({idVenta:f.id,...f.data(),vendedor:f.data().vendedorNick||"Usuario"}));return[...o,...h]}catch(t){throw console.error("Error al refrescar mercado:",t),t}};function jf({usuario:t,openModal:e,setOpenModal:n}){const r=$s(),o=Cr();Mf();const a=t?.fotoPerfil||nn,[u,h]=I.useState(!1),[f,m]=I.useState(!1),[w,b]=I.useState(a),[C,P]=I.useState(null),[N,V]=I.useState(t.nick),[D,G]=I.useState(t.correo),[q,J]=I.useState(""),[ee,de]=I.useState(!1),[se,R]=I.useState(""),[T,k]=I.useState(""),L=I.useRef();I.useEffect(()=>{e&&(b(t.fotoPerfil),P(null),V(t.nick),G(t.correo),J(""),R(t.nick),k(t.correo))},[e,t]),I.useEffect(()=>{const F=N!==se||D!==T||q.length>0||C!==null;m(F)},[N,D,q,C,se,T]);const M=async()=>{const F=r.currentUser?.email;if(!F){gt.fire("Error","No se encontró un correo asociado al usuario","error");return}try{await Nb(r,F),await gt.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(K){gt.fire("Error",K.message,"error")}},U=F=>F.toLocaleString("es-ES")+"€",x=F=>{F.target===L.current&&n(!1)},Oe=F=>{const K=F.target.files[0];if(!K)return;P(K);const Z=new FileReader;Z.onloadend=()=>b(Z.result),Z.readAsDataURL(K)},nt=async()=>{try{de(!0);const F=r.currentUser;let K=t.fotoPerfil;if(C){if(C.size>1*1024*1024){await gt.fire({icon:"error",title:"Error",text:"La imagen es demasiado grande (máx. 1 MB)."});return}const O=new FormData;O.append("file",C),O.append("upload_preset","perfil_preset");const _e=await(await fetch("https://api.cloudinary.com/v1_1/drmoefeeq/image/upload",{method:"POST",body:O})).json();if(_e.secure_url)K=_e.secure_url;else{gt.fire({icon:"error",title:"Error",text:"Error subiendo a Cloudinary"});return}}N!==t.nick&&await Db(F,{displayName:N}),q&&await iR(F,q);const Z=vt(o,"usuarios",F.uid);await ar(Z,{fotoPerfil:K,nick:N}),await gt.fire("Datos actualizados","Se han guardado sus modificaciones correctamente.","success")}catch(F){console.error("Error guardando perfil:",F),alert("No se pudo guardar los cambios: "+F.message)}finally{de(!1),window.location.reload()}},We=async()=>{const F=r.currentUser;if(!F)throw new Error("No hay usuario autenticado.");const K=F.uid;if(F.providerData[0].providerId==="password"){const{value:fe}=await gt.fire({title:"Confirma tu contraseña",input:"password",inputLabel:"Introduce tu contraseña para continuar",inputPlaceholder:"Tu contraseña",inputAttributes:{autocapitalize:"off",autocorrect:"off"},showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"});if(!fe)throw new Error("Se canceló la reautenticación");const _e=Ca.credential(F.email,fe);await tR(F,_e)}else if(F.providerData[0].providerId==="google.com"){const fe=new Rs;await AR(F,fe)}else throw new Error("Proveedor no soportado para reautenticación.");const Z=Sf(Ei(o,"jugadores"),kf("dueños","array-contains",K)),B=(await bi(Z)).docs.map(async fe=>{const _e=fe.ref;await ar(_e,{stockLibre:Oh(1),dueños:_C(K)})});await Promise.all(B);const ae=vt(o,"usuarios",K);await NN(ae),await uR(F)},ie=async()=>{if((await gt.fire({title:"¿Estás seguro?",text:"Esta acción eliminará tu cuenta permanentemente. No podrás deshacerlo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, borrar cuenta",cancelButtonText:"Cancelar"})).isConfirmed)try{de(!0),await We(),await gt.fire("Cuenta eliminada","Tu cuenta ha sido borrada exitosamente.","success")}catch(K){console.error("Error al borrar la cuenta:",K),gt.fire("Error","No se pudo borrar la cuenta: "+K.message,"error")}finally{de(!1)}};return e?v.jsx("div",{className:"modal-overlay",ref:L,onClick:x,children:v.jsxs("div",{className:"modal-perfil",children:[v.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),v.jsxs("div",{className:"modal-header",children:[v.jsxs("label",{className:"modal-avatar",children:[v.jsx("img",{src:w,alt:"Perfil"}),v.jsx("input",{type:"file",accept:"image/*",onChange:Oe}),v.jsx("span",{className:"modal-avatar-overlay",children:"Editar"})]}),v.jsxs("div",{className:"modal-userinfo",children:[v.jsx("h2",{children:t.nick}),v.jsx("small",{children:t.correo}),v.jsxs("small",{children:["Dinero: ",v.jsx("span",{className:"dinero-verde",children:U(t.dinero)})]}),v.jsx("div",{className:"ultimas-jornadas",children:t.puntuaciones&&t.puntuaciones.length>0?t.puntuaciones.slice(-5).map((F,K,Z)=>{const O=F??"-",B=Z.length<5?K+1:t.puntuaciones.length-5+K+1;let ae="";return typeof F=="number"&&(F>=36?ae="verde":F<28?ae="rojo":ae="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",B]}),v.jsx("div",{className:`jornada-cuadro ${ae}`,children:O})]},K)}):[...Array(5)].map((F,K)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",K+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},K))})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-body",children:[v.jsxs("div",{className:"field-group",children:[v.jsxs("label",{children:["Nick ",v.jsx("small",{children:"(Recomendado máximo 12 caracteres)"})]}),v.jsxs("div",{className:"field-with-icon",children:[v.jsx("input",{type:"text",value:N,onChange:F=>V(F.target.value),disabled:!u}),v.jsx("button",{className:"icon-pencil",onClick:()=>h(!u),title:"Editar nick",children:"✎"})]})]}),v.jsx("div",{style:{textAlign:"left"},children:v.jsx("button",{type:"button",onClick:M,className:"link-style",children:"Cambiar contraseña"})})]}),v.jsxs("div",{className:"modal-footer",children:[f&&v.jsx("button",{className:"modal-save-btn",onClick:nt,disabled:ee,children:ee?"Guardando…":"Guardar cambios"}),v.jsx("button",{className:"modal-delete-btn",onClick:ie,disabled:ee,children:"Borrar cuenta"}),t.rol==="admin"&&v.jsxs("div",{style:{marginTop:"10px",display:"flex",gap:"10px"},children:[v.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{await P5(),gt.fire("Mercado actualizado","Se ha refrescado el mercado correctamente","success")}catch(F){console.error(F),gt.fire("Error","No se pudo actualizar el mercado","error")}},children:"⟳ Actualizar mercado"}),v.jsx("button",{type:"button",className:"modal-admin-btn",onClick:()=>gt.fire("Aviso","Funcionalidad aún no implementada","info"),children:"Repartir puntos"})]})]})]})}):null}function A5({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,user:o}){$s();const a=Cr();Mf();const u=t?.foto||nn,[h,f]=I.useState(null),m=N=>{switch(N){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return N||"Sin posición"}},w=I.useRef();I.useEffect(()=>{(async()=>{if(!o)return;const V=vt(a,"usuarios",o.uid),D=await Fr(V);if(D.exists()){const G=D.data();f(G.equipo?.capitan||null)}})()},[o,a,n]);const b=async N=>{try{const V=vt(a,"usuarios",o.uid);await ar(V,{"equipo.capitan":N}),f(N),await gt.fire({icon:"success",title:"¡Capitán asignado!",text:`${t.nombre} ahora es tu capitán.`,confirmButtonColor:"#28a745"})}catch(V){console.error("Error al asignar capitán:",V),gt.fire({icon:"error",title:"Error",text:"No se pudo asignar el capitán, inténtalo de nuevo."})}finally{window.location.reload()}},C=N=>{N.target===w.current&&r(!1)},P=N=>N.toLocaleString("es-ES")+"€";return n?v.jsx("div",{className:"modal-overlay",ref:w,onClick:C,children:v.jsxs("div",{className:"modal-perfil",children:[v.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),v.jsxs("div",{className:"modal-header",children:[v.jsx("label",{className:"modal-avatar",children:v.jsx("img",{src:u,alt:"Jugador"})}),v.jsxs("div",{className:"modal-jugadorinfo",children:[v.jsx("h2",{children:(window.innerWidth<450,t.nombre)}),v.jsxs("div",{className:"posicion-precio",children:[v.jsx("div",{className:`posicion-texto ${t.posicion}`,children:v.jsx("small",{children:m(t.posicion)})}),v.jsxs("div",{className:"precio-container",children:[v.jsx("div",{className:"precio",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",P(t.precio)]})}),v.jsx("div",{className:"diferencia-precio",children:(()=>{const N=t.historialPrecios||[];if(N.length===0)return v.jsx("small",{children:"(±0€)"});const V=N[N.length-1].precio||0,D=t.precio-V,G=D>0?"+":D<0?"-":"±";return v.jsxs("small",{className:D>0?"subida":D<0?"bajada":"igual",children:["(",G,P(Math.abs(D)),")"]})})()})]}),v.jsx("div",{className:"precio-clausula",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",P(e)]})})]}),v.jsx("div",{className:"estadisticas-extra",children:v.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((N,V,D)=>{const G=N??"-",q=D.length<5?V+1:t.puntosPorJornada.length-5+V+1;let J="";return typeof N=="number"&&(N>=9?J="verde":N<7?J="rojo":J="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",q]}),v.jsx("div",{className:`jornada-cuadro ${J}`,children:G})]},V)}):[...Array(5)].map((N,V)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",V+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},V))})})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-jugadorbody",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.valoracion}),v.jsx("small",{children:"Valoración"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.nota}),v.jsx("small",{children:"Nota Media"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.puntosTotales}),v.jsx("small",{children:"Puntos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.partidos}),v.jsx("small",{children:"Partidos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.goles}),v.jsx("small",{children:"Goles"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.asistencias}),v.jsx("small",{children:"Asistencias"})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-footer",children:[v.jsx("button",{className:"btn-accion",disabled:t.stock<=0,onClick:()=>{},children:"Vender"}),v.jsx("button",{className:"btn-capitan",disabled:h===t.id,onClick:()=>b(t.id),children:h===t.id?"Ya es capitán":"Nombrar capitán"})]})]})}):null}const ta=Cr(Wn),bE=$s(Wn),N5={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function CE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=N5[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function D5({usuario:t}){const[e,n]=I.useState(!1),[r,o]=I.useState(null),[a,u]=I.useState(!1),h=t?.fotoPerfil||nn,f=t?.equipo?.titulares||[],m=t?.equipo?.banquillo||[],[w,b]=I.useState(f),[C,P]=I.useState(m),[N,V]=I.useState([]),[D,G]=I.useState(null),q=t?.equipo?.capitan||"",J=Object.keys(Eg),[ee,de]=I.useState(t?.equipo?.formacion||"2-1-1"),[se,R]=I.useState(ee),[T,k]=I.useState(!1),[L,M]=I.useState(!1),[U,x]=I.useState(t?.equipocreado),[Oe,nt]=I.useState(!1),[We,ie]=I.useState(!1),[F,K]=I.useState(!1),Z=I.useRef(null),O=()=>rf(bE),[B,ae]=I.useState(!1),[fe,_e]=I.useState(null),ke=()=>{ae(!B),_e(null)},Ve=(Re,xe,rt)=>{if(B)if(rt==="titulares"?[...w]:[...C],!fe)_e({jugadorId:Re,index:xe,tipo:rt});else{const{index:$e,tipo:Ge}=fe,Me=Ge==="titulares"?w[$e]:C[$e],Ke=rt==="titulares"?w[xe]:C[xe];if(Me===null&&Ke===null){_e(null);return}if(Ge==="titulares"&&rt==="titulares"){const ze=[...w];[ze[$e],ze[xe]]=[ze[xe],ze[$e]],b(ze)}else if(Ge==="banquillo"&&rt==="banquillo"){const ze=[...C];[ze[$e],ze[xe]]=[ze[xe],ze[$e]],P(ze)}else{const ze=[...w],Ue=[...C];Ge==="titulares"?[ze[$e],Ue[xe]]=[Ue[xe],ze[$e]]:[Ue[$e],ze[xe]]=[ze[xe],Ue[$e]],b(ze),P(Ue)}M(!0),_e(null)}};I.useEffect(()=>{const Re=xe=>{Z.current&&!Z.current.contains(xe.target)&&K(!1)};return document.addEventListener("mousedown",Re),()=>{document.removeEventListener("mousedown",Re)}},[]);const Fe=Re=>{R(Re.target.value)},Be=async()=>{try{k(!0);const Re=vt(ta,"usuarios",t.uid);await ar(Re,{"equipo.formacion":se,"equipo.titulares":w,"equipo.banquillo":C}),de(se),M(!1)}catch(Re){console.error("Error al guardar formación:",Re)}finally{k(!1),ae(!1)}},ht=()=>{u(!a)},yt=Re=>Re.toLocaleString("es-ES")+"€",bt=async()=>{try{k(!0);const Re=await bi(Ei(ta,"jugadores"));let xe=[];if(Re.forEach(Ue=>{const Dt=Ue.data();Dt.stockLibre>0&&xe.push({id:Ue.id,...Dt})}),xe.length<4){await gt.fire({icon:"warning",title:"No hay suficientes jugadores disponibles",text:"Se necesitan al menos 4 jugadores con stock para crear un equipo.",confirmButtonText:"Entendido"}),k(!1);return}const rt=xe.filter(Ue=>Ue.precio>15e6&&Ue.precio<=4e7),$e=xe.filter(Ue=>Ue.precio<=15e6);let Ge=[],Me=0;if(rt.length>=1&&$e.length>=3){const Ue=Math.floor(Math.random()*rt.length);Ge.push(rt[Ue]);for(let Dt=0;Dt<3;Dt++){const Vn=Math.floor(Math.random()*$e.length);Ge.push($e[Vn]),$e.splice(Vn,1)}}else{const Ue=xe.filter(Dt=>Dt.precio<=4e7);if(Ue.length<4){await gt.fire({icon:"error",title:"No hay jugadores válidos",text:"No hay suficiente stock para crear un equipo bajo las condiciones establecidas.",confirmButtonText:"Ok"}),k(!1);return}for(let Dt=0;Dt<4;Dt++){const Vn=Math.floor(Math.random()*Ue.length);Ge.push(Ue[Vn]),Ue.splice(Vn,1)}Ge.every(Dt=>Dt.precio<=15e6)&&(Me=1e7)}const Ke=Ge.map(async Ue=>{const Dt=vt(ta,"jugadores",Ue.id);return ar(Dt,{stockLibre:Ue.stockLibre-1,dueños:vC(t.uid)})});await Promise.all(Ke);const ze=vt(ta,"usuarios",t.uid);await ar(ze,{"equipo.titulares":Ge.map(Ue=>({jugadorId:Ue.id,clausulaPersonal:Ue.clausulaInicial??Ue.precio})),"equipo.banquillo":[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],equipocreado:!0,...Me>0&&{dinero:increment(Me)}}),x(!0)}catch(Re){console.error("Error al crear equipo:",Re),await gt.fire({icon:"error",title:"Error al crear el equipo",text:"Inténtalo de nuevo más tarde."})}finally{k(!1),window.location.reload()}};return I.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const xe=setTimeout(async()=>{try{const rt=vt(ta,"usuarios",bE.currentUser.uid);await ar(rt,{onboarding:!0}),window.location.reload()}catch(rt){console.error("Error actualizando onboarding:",rt)}},500);return()=>clearTimeout(xe)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const xe=vt(ta,"usuarios",t.uid);Fr(xe).then(rt=>{rt.exists()&&o(rt.data().dinero)})}(async()=>{const xe=[...f?.map(Ke=>Ke?.jugadorId)||[],...m?.map(Ke=>Ke?.jugadorId)||[]].filter(Boolean);if(xe.length===0)return;const rt=Ei(ta,"jugadores"),$e=[];for(let Ke=0;Ke<xe.length;Ke+=10){const ze=xe.slice(Ke,Ke+10),Ue=Sf(rt,kf("__name__","in",ze));$e.push(bi(Ue))}const Me=(await Promise.all($e)).flatMap(Ke=>Ke.docs.map(ze=>({id:ze.id,...ze.data()})));V(Me)})()},[t],[f,m]),U?v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:h,onError:Re=>{Re.currentTarget.onerror=null,Re.currentTarget.src=nn},alt:"Foto de perfil",onClick:()=>K(!F),onMouseEnter:()=>K(!0)}),F&&v.jsxs("div",{className:"perfil-bocadillo",ref:Z,onMouseLeave:()=>K(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{nt(!0),K(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:O,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:yt(r)})]})]})]}),v.jsx("button",{onClick:ht,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${jl})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Oe&&v.jsx(jf,{usuario:t,openModal:Oe,setOpenModal:nt}),We&&D&&v.jsx(A5,{jugador:D,clausulaPersonal:t?.equipo?.titulares?.find(Re=>Re.jugadorId===D.id)?.clausulaPersonal??t?.equipo?.banquillo?.find(Re=>Re.jugadorId===D.id)?.clausulaPersonal,openModal:We,setOpenModal:ie,user:t}),v.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[v.jsxs("div",{className:"formacion-selector",children:[v.jsx("label",{htmlFor:"formacion-select",children:"Formación:"}),v.jsx("select",{id:"formacion-select",value:se,onChange:Fe,children:J.map(Re=>v.jsx("option",{value:Re,children:Re},Re))}),(se!==ee||L)&&v.jsx("button",{onClick:Be,disabled:T,children:T?"Guardando...":"Guardar"})]}),v.jsx("div",{className:"modo-edicion-buttons",children:v.jsx("button",{onClick:ke,children:B?"Desactivar modo edición":"Activar modo edición"})}),v.jsx("div",{className:"campo",children:Eg[se]?.map((Re,xe)=>{const rt=w[xe],$e=rt?.jugadorId||null;rt?.clausulaPersonal;const Ge=N.find(Ke=>Ke.id===$e),Me=fe?.index===xe&&fe?.tipo==="titulares";return v.jsxs("div",{className:`jugador ${B?"modo-edicion":""} ${Me?"seleccionado":""}`,style:{position:"absolute",top:Re.top,left:Re.left,transform:"translate(-50%, -50%)"},onClick:()=>{B?Ve(Ge?.id||null,xe,"titulares"):Ge&&(ie(!0),G(Ge))},children:[v.jsxs("div",{className:"jugador-wrapper",children:[v.jsx("img",{src:Ge?.foto||nn,alt:Ge?.nombre||"Vacío",className:"jugador-img",style:CE(Ge,xe,se).style}),(()=>{const{status:Ke}=CE(Ge,xe,se);if(!Ke)return null;if(Ke==="green")return v.jsx("div",{className:"status-badge green",children:"✓"});if(Ke==="orange")return v.jsx("div",{className:"status-badge orange",children:"!"});if(Ke==="red")return v.jsx("div",{className:"status-badge red",children:"✕"})})(),q===Ge?.id&&v.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!Ge?.puntosPorJornada?.length)return v.jsx("div",{className:"puntos-badge gray",children:"-"});const Ke=Ge.puntosPorJornada[Ge.puntosPorJornada.length-1];if(Ke==null)return null;let ze=Ke==="-"?"gray":Ke<7?"red":Ke<9?"orange":"green";return v.jsx("div",{className:`puntos-badge ${ze}`,children:Ke})})()]}),v.jsx("p",{className:"jugador-nombre",children:Ge?.nombre||"Vacío"})]},Ge?.id||xe)})}),v.jsxs("div",{className:"banquillo-section",children:[v.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),v.jsx("div",{className:"banquillo-container",children:C.map((Re,xe)=>{const rt=Re?.jugadorId||null,$e=N.find(Me=>Me.id===rt),Ge=fe?.index===xe&&fe?.tipo==="banquillo";return v.jsx("div",{className:`banquillo-slot ${B?"modo-edicion":""} ${Ge?"seleccionado":""}`,onClick:()=>{B?Ve($e?.id||null,xe,"banquillo"):$e&&(ie(!0),G($e))},children:$e?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"jugador-wrapper",children:[v.jsx("img",{src:$e?.foto||nn,alt:$e?.nombre||"Vacío",className:"jugador-img"}),q===$e?.id&&v.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!$e?.puntosPorJornada?.length)return v.jsx("div",{className:"puntos-badge gray",children:"-"});const Me=$e.puntosPorJornada[$e.puntosPorJornada.length-1];if(Me==null)return null;let Ke=Me==="-"?"gray":Me<7?"red":Me<9?"orange":"green";return v.jsx("div",{className:`puntos-badge ${Ke}`,children:Me})})()]}),v.jsx("p",{className:"jugador-nombre-banquillo",children:$e?.nombre})]}):v.jsx(Zt,{to:B?"#":"/mercado",className:`banquillo-add ${B?"disabled":""}`,onClick:Me=>{B&&Me.preventDefault()},children:"+"})},$e?.id||xe)})})]})]})]}),e&&v.jsx("div",{className:"onboarding-overlay",children:v.jsx("div",{className:"loader",children:"Cargando..."})})]}):v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:h,onError:Re=>{Re.currentTarget.onerror=null,Re.currentTarget.src=nn},alt:"Foto de perfil",onClick:()=>K(!F),onMouseEnter:()=>K(!0)}),F&&v.jsxs("div",{className:"perfil-bocadillo",ref:Z,onMouseLeave:()=>K(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{nt(!0),K(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:O,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:yt(r)})]})]})]}),v.jsx("button",{onClick:ht,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${jl})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),v.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:v.jsx("div",{className:"campo",children:v.jsx("button",{className:"crear-equipo-btn",onClick:bt,disabled:T,children:T?"Creando equipo...":"Crear equipo"})})})]}),e&&v.jsx("div",{className:"onboarding-overlay",children:v.jsx("div",{className:"loader",children:"Cargando..."})})]})}function O5({jugador:t,openModal:e,setOpenModal:n}){$s(),Cr(),Mf();const r=t?.foto||nn,o=f=>{switch(f){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return f||"Sin posición"}},a=I.useRef(),u=f=>{f.target===a.current&&n(!1)},h=f=>typeof f!="number"||isNaN(f)?"—":f.toLocaleString("es-ES")+"€";return e?(console.log("DEBUG jugador en modal:",t),v.jsx("div",{className:"modal-overlay",ref:a,onClick:u,children:v.jsxs("div",{className:"modal-perfil",children:[v.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),v.jsxs("div",{className:"modal-header",children:[v.jsx("label",{className:"modal-avatar",children:v.jsx("img",{src:r,alt:"Jugador"})}),v.jsxs("div",{className:"modal-jugadorinfo",children:[v.jsx("h2",{children:(window.innerWidth<450,t.nombre)}),v.jsxs("div",{className:"posicion-precio",children:[v.jsx("div",{className:`posicion-texto ${t.posicion}`,children:v.jsx("small",{children:o(t.posicion)})}),v.jsxs("div",{className:"precio-container",children:[v.jsx("div",{className:"precio",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",h(t.precio)]})}),v.jsx("div",{className:"diferencia-precio",children:(()=>{const f=t.historialPrecios||[];if(f.length===0)return v.jsx("small",{children:"(±0€)"});const m=f[f.length-1].precio||0,w=t.precio-m,b=w>0?"+":w<0?"-":"±";return v.jsxs("small",{className:w>0?"subida":w<0?"bajada":"igual",children:["(",b,h(Math.abs(w)),")"]})})()})]}),v.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",v.jsx("span",{className:"vendedor",children:t?.vendedor})]})]}),v.jsx("div",{className:"estadisticas-extra",children:v.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((f,m,w)=>{const b=f??"-",C=w.length<5?m+1:t.puntosPorJornada.length-5+m+1;let P="";return typeof f=="number"&&(f>=9?P="verde":f<7?P="rojo":P="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",C]}),v.jsx("div",{className:`jornada-cuadro ${P}`,children:b})]},m)}):[...Array(5)].map((f,m)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",m+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},m))})})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-jugadorbody",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.valoracion}),v.jsx("small",{children:"Valoración"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.nota}),v.jsx("small",{children:"Nota Media"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.puntosTotales}),v.jsx("small",{children:"Puntos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.partidos}),v.jsx("small",{children:"Partidos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.goles}),v.jsx("small",{children:"Goles"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.asistencias}),v.jsx("small",{children:"Asistencias"})]})]})]})})):null}const li=Cr(Wn),Mm=$s(Wn);function L5({usuario:t}){const[e,n]=I.useState(!1),[r,o]=I.useState(null),[a,u]=I.useState(!1),h=t?.fotoPerfil||nn,f=t?.equipo?.titulares||[],[m,w]=I.useState(!1);t?.equipo?.banquillo;const[b,C]=I.useState([]),[P,N]=I.useState([]),[V,D]=I.useState(!1),[G,q]=I.useState(!1),[J,ee]=I.useState(!1),[de,se]=I.useState(null),[R,T]=I.useState(!1),k=I.useRef(null),[L,M]=I.useState("mercado"),U=()=>rf(Mm);I.useEffect(()=>{const ie=F=>{k.current&&!k.current.contains(F.target)&&T(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]),I.useEffect(()=>{(async()=>{const F=vt(li,"mercado","actual"),K=await Fr(F);if(K.exists()){const O=(K.data().jugadores||[]).map(B=>({...B,vendedor:B.vendedor||"Fantasy Casadillos"}));C(O)}else C([])})()},[]),I.useEffect(()=>{(async()=>{const F=vt(li,"mercado","actual"),K=await Fr(F);let Z=[];K.exists()&&(Z=K.data().jugadores||[]);const O=Ei(li,"mercado/actual/usuarios"),ae=(await bi(O)).docs.map(fe=>({idVenta:fe.id,...fe.data(),vendedor:fe.data().vendedorNick||"Usuario"}));C([...Z,...ae])})()},[]),I.useEffect(()=>{(async()=>{if(!f||f.length===0)return;const F=Ei(li,"jugadores"),K=Sf(F,kf("__name__","in",f)),O=(await bi(K)).docs.map(B=>({id:B.id,...B.data()}));N(O)})()},[f]),I.useEffect(()=>{const ie=Cr(Wn),F=vt(ie,"mercado","actual"),K=DN(F,Z=>{if(Z.exists()){const B=(Z.data().jugadores||[]).map(ae=>({...ae,vendedor:ae.vendedor||"Fantasy Casadillos"}));C(B)}else C([])});return()=>K()},[]);const x=async ie=>{if(ie.stock<=0){alert("Ya no queda stock de este jugador");return}const F=vt(li,"mercado","actual"),K=await Fr(F);if(!K.exists())return;const O=K.data().jugadores.map(ae=>ae.idJugador===ie.idJugador?{...ae,stock:ae.stock-1}:ae);await ar(F,{jugadores:O}),await ar(vt(li,"jugadores",ie.idJugador),{stockTotal:Oh(-1)});const B=vt(li,"usuarios",Mm.currentUser.uid);await ar(B,{"equipo.banquillo":[...t.equipo?.banquillo||[],ie.idJugador]}),C(O),alert(`Has comprado a ${ie.nombre}`)},Oe=()=>{u(!a)},nt=ie=>{switch(ie){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return ie||"Sin posición"}},We=ie=>typeof ie!="number"||isNaN(ie)?"—":ie.toLocaleString("es-ES")+"€";return I.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const ie=setTimeout(async()=>{try{const F=vt(li,"usuarios",Mm.currentUser.uid);await ar(F,{onboarding:!0}),window.location.reload()}catch(F){console.error("Error actualizando onboarding:",F)}},500);return()=>clearTimeout(ie)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const ie=vt(li,"usuarios",t.uid);Fr(ie).then(F=>{F.exists()&&o(F.data().dinero)})}},[t],[f]),v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:h,onError:ie=>{ie.currentTarget.onerror=null,ie.currentTarget.src=nn},alt:"Foto de perfil",onClick:()=>T(!R),onMouseEnter:()=>T(!0)}),R&&v.jsxs("div",{className:"perfil-bocadillo",ref:k,onMouseLeave:()=>T(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{q(!0),T(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:U,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:We(r)})]})]})]}),v.jsx("button",{onClick:Oe,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${jl})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),G&&v.jsx(jf,{usuario:t,openModal:G,setOpenModal:q}),J&&de&&v.jsx(O5,{jugador:de,openModal:J,setOpenModal:ee}),v.jsxs("div",{className:"tabs-wrapper",children:[v.jsxs("div",{className:"tabs-container",style:{},children:[v.jsx("button",{className:`tab-btn ${L==="mercado"?"active":""}`,onClick:()=>M("mercado"),children:"Mercado"}),v.jsx("button",{className:`tab-btn ${L==="operaciones"?"active":""}`,onClick:()=>M("operaciones"),children:"Mis operaciones"})]}),L==="mercado"&&v.jsx("div",{className:"mercado-jugadores",children:b.length===0?v.jsx("div",{className:"sin-mercado",children:v.jsx("p",{children:"No hay mercado disponible"})}):v.jsx("ul",{className:"lista-jugadores",children:b.map(ie=>v.jsx("li",{className:"jugador-card",onClick:()=>{se(ie),ee(!0)},children:v.jsxs("div",{className:"jugador-perfil",children:[v.jsxs("div",{className:"modal-header",children:[v.jsx("label",{className:"modal-avatar",children:v.jsx("img",{src:ie.foto||nn,alt:ie.nombre,onError:F=>{F.currentTarget.onerror=null,F.currentTarget.src=nn}})}),v.jsxs("div",{className:"modal-jugadorinfo",children:[v.jsx("h2",{children:(window.innerWidth<450,ie.nombre)}),v.jsxs("div",{className:"posicion-precio",children:[v.jsx("div",{className:`posicion-texto ${ie.posicion}`,children:v.jsx("small",{children:nt(ie.posicion)})}),v.jsxs("div",{className:"precio-container",children:[v.jsx("div",{className:"precio",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",We(ie.precio)]})}),v.jsx("div",{className:"diferencia-precio",children:(()=>{const F=ie.historialPrecios||[];if(F.length===0)return v.jsx("small",{children:"(±0€)"});const K=F[F.length-1].precio||0,Z=ie.precio-K,O=Z>0?"+":Z<0?"-":"±";return v.jsxs("small",{className:Z>0?"subida":Z<0?"bajada":"igual",children:["(",O,We(Math.abs(Z)),")"]})})()})]}),v.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",v.jsx("span",{className:"vendedor",children:ie.vendedor})]})]}),v.jsx("div",{className:"estadisticas-extra",children:v.jsx("div",{className:"ultimas-jornadas",children:ie.puntosPorJornada&&ie.puntosPorJornada.length>0?ie.puntosPorJornada.slice(-5).map((F,K)=>{const Z=F??"-",B=ie.puntosPorJornada.length-5+K+1;let ae="";return typeof F=="number"&&(F>=9?ae="verde":F<7&&(ae="rojo")),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",B]}),v.jsx("div",{className:`jornada-cuadro ${ae}`,children:Z})]},K)}):[...Array(5)].map((F,K)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",K+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},K))})})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-footer",children:[v.jsxs("button",{className:"btn-comprar",disabled:ie.stock<=0,onClick:F=>{F.stopPropagation(),x(ie)},children:["Comprar",v.jsx("br",{}),v.jsxs("small",{className:"precio-compra",children:["(-",We(ie.precio),")"]})]}),v.jsx("button",{className:"btn-comprar",disabled:ie.stock<=0,onClick:F=>{F.stopPropagation(),x(ie)},children:"Pujar"})]})]})},ie.idJugador))})}),L==="operaciones"&&v.jsx("div",{className:"operaciones-container",children:v.jsxs("div",{className:"operaciones-animacion",children:[v.jsx("h2",{children:"Mis operaciones pendientes"}),t?.operaciones&&t.operaciones.length>0?v.jsx("ul",{children:t.operaciones.map((ie,F)=>v.jsxs("li",{children:[ie.tipo," - ",ie.jugador," - ",We(ie.cantidad)]},F))}):v.jsx("p",{children:"No tienes operaciones pendientes"})]})})]})]}),e&&v.jsx("div",{className:"onboarding-overlay",children:v.jsx("div",{className:"loader",children:"Cargando..."})})]})}var Ln=function(){return Ln=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ln.apply(this,arguments)};function Gh(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var It="-ms-",Jc="-moz-",ut="-webkit-",NT="comm",Vf="rule",rw="decl",M5="@import",DT="@keyframes",j5="@layer",OT=Math.abs,sw=String.fromCharCode,bg=Object.assign;function V5(t,e){return yn(t,0)^45?(((e<<2^yn(t,0))<<2^yn(t,1))<<2^yn(t,2))<<2^yn(t,3):0}function LT(t){return t.trim()}function ci(t,e){return(t=e.exec(t))?t[0]:t}function He(t,e,n){return t.replace(e,n)}function lh(t,e,n){return t.indexOf(e,n)}function yn(t,e){return t.charCodeAt(e)|0}function Vl(t,e,n){return t.slice(e,n)}function ks(t){return t.length}function MT(t){return t.length}function zc(t,e){return e.push(t),t}function F5(t,e){return t.map(e).join("")}function TE(t,e){return t.filter(function(n){return!ci(n,e)})}var Ff=1,Fl=1,jT=0,Hr=0,en=0,ec="";function $f(t,e,n,r,o,a,u,h){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:Ff,column:Fl,length:u,return:"",siblings:h}}function eo(t,e){return bg($f("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ml(t){for(;t.root;)t=eo(t.root,{children:[t]});zc(t,t.siblings)}function $5(){return en}function U5(){return en=Hr>0?yn(ec,--Hr):0,Fl--,en===10&&(Fl=1,Ff--),en}function os(){return en=Hr<jT?yn(ec,Hr++):0,Fl++,en===10&&(Fl=1,Ff++),en}function ua(){return yn(ec,Hr)}function ch(){return Hr}function Uf(t,e){return Vl(ec,t,e)}function Cg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function B5(t){return Ff=Fl=1,jT=ks(ec=t),Hr=0,[]}function z5(t){return ec="",t}function jm(t){return LT(Uf(Hr-1,Tg(t===91?t+2:t===40?t+1:t)))}function H5(t){for(;(en=ua())&&en<33;)os();return Cg(t)>2||Cg(en)>3?"":" "}function q5(t,e){for(;--e&&os()&&!(en<48||en>102||en>57&&en<65||en>70&&en<97););return Uf(t,ch()+(e<6&&ua()==32&&os()==32))}function Tg(t){for(;os();)switch(en){case t:return Hr;case 34:case 39:t!==34&&t!==39&&Tg(en);break;case 40:t===41&&Tg(t);break;case 92:os();break}return Hr}function W5(t,e){for(;os()&&t+en!==57;)if(t+en===84&&ua()===47)break;return"/*"+Uf(e,Hr-1)+"*"+sw(t===47?t:os())}function G5(t){for(;!Cg(ua());)os();return Uf(t,Hr)}function K5(t){return z5(uh("",null,null,null,[""],t=B5(t),0,[0],t))}function uh(t,e,n,r,o,a,u,h,f){for(var m=0,w=0,b=u,C=0,P=0,N=0,V=1,D=1,G=1,q=0,J="",ee=o,de=a,se=r,R=J;D;)switch(N=q,q=os()){case 40:if(N!=108&&yn(R,b-1)==58){lh(R+=He(jm(q),"&","&\f"),"&\f",OT(m?h[m-1]:0))!=-1&&(G=-1);break}case 34:case 39:case 91:R+=jm(q);break;case 9:case 10:case 13:case 32:R+=H5(N);break;case 92:R+=q5(ch()-1,7);continue;case 47:switch(ua()){case 42:case 47:zc(Q5(W5(os(),ch()),e,n,f),f);break;default:R+="/"}break;case 123*V:h[m++]=ks(R)*G;case 125*V:case 59:case 0:switch(q){case 0:case 125:D=0;case 59+w:G==-1&&(R=He(R,/\f/g,"")),P>0&&ks(R)-b&&zc(P>32?SE(R+";",r,n,b-1,f):SE(He(R," ","")+";",r,n,b-2,f),f);break;case 59:R+=";";default:if(zc(se=IE(R,e,n,m,w,o,h,J,ee=[],de=[],b,a),a),q===123)if(w===0)uh(R,e,se,se,ee,a,b,h,de);else switch(C===99&&yn(R,3)===110?100:C){case 100:case 108:case 109:case 115:uh(t,se,se,r&&zc(IE(t,se,se,0,0,o,h,J,o,ee=[],b,de),de),o,de,b,h,r?ee:de);break;default:uh(R,se,se,se,[""],de,0,h,de)}}m=w=P=0,V=G=1,J=R="",b=u;break;case 58:b=1+ks(R),P=N;default:if(V<1){if(q==123)--V;else if(q==125&&V++==0&&U5()==125)continue}switch(R+=sw(q),q*V){case 38:G=w>0?1:(R+="\f",-1);break;case 44:h[m++]=(ks(R)-1)*G,G=1;break;case 64:ua()===45&&(R+=jm(os())),C=ua(),w=b=ks(J=R+=G5(ch())),q++;break;case 45:N===45&&ks(R)==2&&(V=0)}}return a}function IE(t,e,n,r,o,a,u,h,f,m,w,b){for(var C=o-1,P=o===0?a:[""],N=MT(P),V=0,D=0,G=0;V<r;++V)for(var q=0,J=Vl(t,C+1,C=OT(D=u[V])),ee=t;q<N;++q)(ee=LT(D>0?P[q]+" "+J:He(J,/&\f/g,P[q])))&&(f[G++]=ee);return $f(t,e,n,o===0?Vf:h,f,m,w,b)}function Q5(t,e,n,r){return $f(t,e,n,NT,sw($5()),Vl(t,2,-2),0,r)}function SE(t,e,n,r,o){return $f(t,e,n,rw,Vl(t,0,r),Vl(t,r+1,-1),r,o)}function VT(t,e,n){switch(V5(t,e)){case 5103:return ut+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ut+t+t;case 4789:return Jc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ut+t+Jc+t+It+t+t;case 5936:switch(yn(t,e+11)){case 114:return ut+t+It+He(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ut+t+It+He(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ut+t+It+He(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ut+t+It+t+t;case 6165:return ut+t+It+"flex-"+t+t;case 5187:return ut+t+He(t,/(\w+).+(:[^]+)/,ut+"box-$1$2"+It+"flex-$1$2")+t;case 5443:return ut+t+It+"flex-item-"+He(t,/flex-|-self/g,"")+(ci(t,/flex-|baseline/)?"":It+"grid-row-"+He(t,/flex-|-self/g,""))+t;case 4675:return ut+t+It+"flex-line-pack"+He(t,/align-content|flex-|-self/g,"")+t;case 5548:return ut+t+It+He(t,"shrink","negative")+t;case 5292:return ut+t+It+He(t,"basis","preferred-size")+t;case 6060:return ut+"box-"+He(t,"-grow","")+ut+t+It+He(t,"grow","positive")+t;case 4554:return ut+He(t,/([^-])(transform)/g,"$1"+ut+"$2")+t;case 6187:return He(He(He(t,/(zoom-|grab)/,ut+"$1"),/(image-set)/,ut+"$1"),t,"")+t;case 5495:case 3959:return He(t,/(image-set\([^]*)/,ut+"$1$`$1");case 4968:return He(He(t,/(.+:)(flex-)?(.*)/,ut+"box-pack:$3"+It+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ut+t+t;case 4200:if(!ci(t,/flex-|baseline/))return It+"grid-column-align"+Vl(t,e)+t;break;case 2592:case 3360:return It+He(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,ci(r.props,/grid-\w+-end/)})?~lh(t+(n=n[e].value),"span",0)?t:It+He(t,"-start","")+t+It+"grid-row-span:"+(~lh(n,"span",0)?ci(n,/\d+/):+ci(n,/\d+/)-+ci(t,/\d+/))+";":It+He(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ci(r.props,/grid-\w+-start/)})?t:It+He(He(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return He(t,/(.+)-inline(.+)/,ut+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ks(t)-1-e>6)switch(yn(t,e+1)){case 109:if(yn(t,e+4)!==45)break;case 102:return He(t,/(.+:)(.+)-([^]+)/,"$1"+ut+"$2-$3$1"+Jc+(yn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~lh(t,"stretch",0)?VT(He(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return He(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,a,u,h,f,m){return It+o+":"+a+m+(u?It+o+"-span:"+(h?f:+f-+a)+m:"")+t});case 4949:if(yn(t,e+6)===121)return He(t,":",":"+ut)+t;break;case 6444:switch(yn(t,yn(t,14)===45?18:11)){case 120:return He(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ut+(yn(t,14)===45?"inline-":"")+"box$3$1"+ut+"$2$3$1"+It+"$2box$3")+t;case 100:return He(t,":",":"+It)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return He(t,"scroll-","scroll-snap-")+t}return t}function Kh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function J5(t,e,n,r){switch(t.type){case j5:if(t.children.length)break;case M5:case rw:return t.return=t.return||t.value;case NT:return"";case DT:return t.return=t.value+"{"+Kh(t.children,r)+"}";case Vf:if(!ks(t.value=t.props.join(",")))return""}return ks(n=Kh(t.children,r))?t.return=t.value+"{"+n+"}":""}function Y5(t){var e=MT(t);return function(n,r,o,a){for(var u="",h=0;h<e;h++)u+=t[h](n,r,o,a)||"";return u}}function X5(t){return function(e){e.root||(e=e.return)&&t(e)}}function Z5(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case rw:t.return=VT(t.value,t.length,n);return;case DT:return Kh([eo(t,{value:He(t.value,"@","@"+ut)})],r);case Vf:if(t.length)return F5(n=t.props,function(o){switch(ci(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ml(eo(t,{props:[He(o,/:(read-\w+)/,":"+Jc+"$1")]})),ml(eo(t,{props:[o]})),bg(t,{props:TE(n,r)});break;case"::placeholder":ml(eo(t,{props:[He(o,/:(plac\w+)/,":"+ut+"input-$1")]})),ml(eo(t,{props:[He(o,/:(plac\w+)/,":"+Jc+"$1")]})),ml(eo(t,{props:[He(o,/:(plac\w+)/,It+"input-$1")]})),ml(eo(t,{props:[o]})),bg(t,{props:TE(n,r)});break}return""})}}var ej={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vr={},$l=typeof process<"u"&&vr!==void 0&&(vr.REACT_APP_SC_ATTR||vr.SC_ATTR)||"data-styled",FT="active",$T="data-styled-version",Bf="6.1.19",iw=`/*!sc*/
`,Qh=typeof window<"u"&&typeof document<"u",tj=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&vr!==void 0&&vr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&vr.REACT_APP_SC_DISABLE_SPEEDY!==""?vr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&vr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&vr!==void 0&&vr.SC_DISABLE_SPEEDY!==void 0&&vr.SC_DISABLE_SPEEDY!==""&&vr.SC_DISABLE_SPEEDY!=="false"&&vr.SC_DISABLE_SPEEDY),zf=Object.freeze([]),Ul=Object.freeze({});function nj(t,e,n){return n===void 0&&(n=Ul),t.theme!==n.theme&&t.theme||e||n.theme}var UT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),rj=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,sj=/(^-|-$)/g;function xE(t){return t.replace(rj,"-").replace(sj,"")}var ij=/(a)(d)/gi,Wd=52,kE=function(t){return String.fromCharCode(t+(t>25?39:97))};function Ig(t){var e,n="";for(e=Math.abs(t);e>Wd;e=e/Wd|0)n=kE(e%Wd)+n;return(kE(e%Wd)+n).replace(ij,"$1-$2")}var Vm,BT=5381,_l=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},zT=function(t){return _l(BT,t)};function oj(t){return Ig(zT(t)>>>0)}function aj(t){return t.displayName||t.name||"Component"}function Fm(t){return typeof t=="string"&&!0}var HT=typeof Symbol=="function"&&Symbol.for,qT=HT?Symbol.for("react.memo"):60115,lj=HT?Symbol.for("react.forward_ref"):60112,cj={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},uj={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},WT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dj=((Vm={})[lj]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Vm[qT]=WT,Vm);function RE(t){return("type"in(e=t)&&e.type.$$typeof)===qT?WT:"$$typeof"in t?dj[t.$$typeof]:cj;var e}var hj=Object.defineProperty,fj=Object.getOwnPropertyNames,PE=Object.getOwnPropertySymbols,pj=Object.getOwnPropertyDescriptor,mj=Object.getPrototypeOf,AE=Object.prototype;function GT(t,e,n){if(typeof e!="string"){if(AE){var r=mj(e);r&&r!==AE&&GT(t,r,n)}var o=fj(e);PE&&(o=o.concat(PE(e)));for(var a=RE(t),u=RE(e),h=0;h<o.length;++h){var f=o[h];if(!(f in uj||n&&n[f]||u&&f in u||a&&f in a)){var m=pj(e,f);try{hj(t,f,m)}catch{}}}}return t}function va(t){return typeof t=="function"}function ow(t){return typeof t=="object"&&"styledComponentId"in t}function oa(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function NE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function lu(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Sg(t,e,n){if(n===void 0&&(n=!1),!n&&!lu(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Sg(t[r],e[r]);else if(lu(e))for(var r in e)t[r]=Sg(t[r],e[r]);return t}function aw(t,e){Object.defineProperty(t,"toString",{value:e})}function _a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var gj=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,a=o;e>=a;)if((a<<=1)<0)throw _a(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var u=o;u<a;u++)this.groupSizes[u]=0}for(var h=this.indexOfGroup(e+1),f=(u=0,n.length);u<f;u++)this.tag.insertRule(h,n[u])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var a=r;a<o;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),a=o+r,u=o;u<a;u++)n+="".concat(this.tag.getRule(u)).concat(iw);return n},t})(),dh=new Map,Jh=new Map,hh=1,Gd=function(t){if(dh.has(t))return dh.get(t);for(;Jh.has(hh);)hh++;var e=hh++;return dh.set(t,e),Jh.set(e,t),e},yj=function(t,e){hh=e+1,dh.set(t,e),Jh.set(e,t)},wj="style[".concat($l,"][").concat($T,'="').concat(Bf,'"]'),vj=new RegExp("^".concat($l,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),_j=function(t,e,n){for(var r,o=n.split(","),a=0,u=o.length;a<u;a++)(r=o[a])&&t.registerName(e,r)},Ej=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(iw),o=[],a=0,u=r.length;a<u;a++){var h=r[a].trim();if(h){var f=h.match(vj);if(f){var m=0|parseInt(f[1],10),w=f[2];m!==0&&(yj(w,m),_j(t,w,f[3]),t.getTag().insertRules(m,o)),o.length=0}else o.push(h)}}},DE=function(t){for(var e=document.querySelectorAll(wj),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute($l)!==FT&&(Ej(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function bj(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var KT=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=(function(h){var f=Array.from(h.querySelectorAll("style[".concat($l,"]")));return f[f.length-1]})(n),a=o!==void 0?o.nextSibling:null;r.setAttribute($l,FT),r.setAttribute($T,Bf);var u=bj();return u&&r.setAttribute("nonce",u),n.insertBefore(r,a),r},Cj=(function(){function t(e){this.element=KT(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,a=r.length;o<a;o++){var u=r[o];if(u.ownerNode===n)return u}throw _a(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),Tj=(function(){function t(e){this.element=KT(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),Ij=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),OE=Qh,Sj={isServer:!Qh,useCSSOMInjection:!tj},QT=(function(){function t(e,n,r){e===void 0&&(e=Ul),n===void 0&&(n={});var o=this;this.options=Ln(Ln({},Sj),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Qh&&OE&&(OE=!1,DE(this)),aw(this,function(){return(function(a){for(var u=a.getTag(),h=u.length,f="",m=function(b){var C=(function(G){return Jh.get(G)})(b);if(C===void 0)return"continue";var P=a.names.get(C),N=u.getGroup(b);if(P===void 0||!P.size||N.length===0)return"continue";var V="".concat($l,".g").concat(b,'[id="').concat(C,'"]'),D="";P!==void 0&&P.forEach(function(G){G.length>0&&(D+="".concat(G,","))}),f+="".concat(N).concat(V,'{content:"').concat(D,'"}').concat(iw)},w=0;w<h;w++)m(w);return f})(o)})}return t.registerId=function(e){return Gd(e)},t.prototype.rehydrate=function(){!this.server&&Qh&&DE(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Ln(Ln({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new Ij(o):r?new Cj(o):new Tj(o)})(this.options),new gj(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Gd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Gd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Gd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),xj=/&/g,kj=/^\s*\/\/.*$/gm;function JT(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=JT(n.children,e)),n})}function Rj(t){var e,n,r,o=Ul,a=o.options,u=a===void 0?Ul:a,h=o.plugins,f=h===void 0?zf:h,m=function(C,P,N){return N.startsWith(n)&&N.endsWith(n)&&N.replaceAll(n,"").length>0?".".concat(e):C},w=f.slice();w.push(function(C){C.type===Vf&&C.value.includes("&")&&(C.props[0]=C.props[0].replace(xj,n).replace(r,m))}),u.prefix&&w.push(Z5),w.push(J5);var b=function(C,P,N,V){P===void 0&&(P=""),N===void 0&&(N=""),V===void 0&&(V="&"),e=V,n=P,r=new RegExp("\\".concat(n,"\\b"),"g");var D=C.replace(kj,""),G=K5(N||P?"".concat(N," ").concat(P," { ").concat(D," }"):D);u.namespace&&(G=JT(G,u.namespace));var q=[];return Kh(G,Y5(w.concat(X5(function(J){return q.push(J)})))),q};return b.hash=f.length?f.reduce(function(C,P){return P.name||_a(15),_l(C,P.name)},BT).toString():"",b}var Pj=new QT,xg=Rj(),YT=qe.createContext({shouldForwardProp:void 0,styleSheet:Pj,stylis:xg});YT.Consumer;qe.createContext(void 0);function LE(){return I.useContext(YT)}var Aj=(function(){function t(e,n){var r=this;this.inject=function(o,a){a===void 0&&(a=xg);var u=r.name+a.hash;o.hasNameForId(r.id,u)||o.insertRules(r.id,u,a(r.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,aw(this,function(){throw _a(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=xg),this.name+e.hash},t})(),Nj=function(t){return t>="A"&&t<="Z"};function ME(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Nj(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var XT=function(t){return t==null||t===!1||t===""},ZT=function(t){var e,n,r=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!XT(a)&&(Array.isArray(a)&&a.isCss||va(a)?r.push("".concat(ME(o),":"),a,";"):lu(a)?r.push.apply(r,Gh(Gh(["".concat(o," {")],ZT(a),!1),["}"],!1)):r.push("".concat(ME(o),": ").concat((e=o,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in ej||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function da(t,e,n,r){if(XT(t))return[];if(ow(t))return[".".concat(t.styledComponentId)];if(va(t)){if(!va(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var o=t(e);return da(o,e,n,r)}var a;return t instanceof Aj?n?(t.inject(n,r),[t.getName(r)]):[t]:lu(t)?ZT(t):Array.isArray(t)?Array.prototype.concat.apply(zf,t.map(function(u){return da(u,e,n,r)})):[t.toString()]}function Dj(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(va(n)&&!ow(n))return!1}return!0}var Oj=zT(Bf),Lj=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Dj(e),this.componentId=n,this.baseHash=_l(Oj,n),this.baseStyle=r,QT.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=oa(o,this.staticRulesId);else{var a=NE(da(this.rules,e,n,r)),u=Ig(_l(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,u)){var h=r(a,".".concat(u),void 0,this.componentId);n.insertRules(this.componentId,u,h)}o=oa(o,u),this.staticRulesId=u}else{for(var f=_l(this.baseHash,r.hash),m="",w=0;w<this.rules.length;w++){var b=this.rules[w];if(typeof b=="string")m+=b;else if(b){var C=NE(da(b,e,n,r));f=_l(f,C+w),m+=C}}if(m){var P=Ig(f>>>0);n.hasNameForId(this.componentId,P)||n.insertRules(this.componentId,P,r(m,".".concat(P),void 0,this.componentId)),o=oa(o,P)}}return o},t})(),Yh=qe.createContext(void 0);Yh.Consumer;function Mj(t){var e=qe.useContext(Yh),n=I.useMemo(function(){return(function(r,o){if(!r)throw _a(14);if(va(r)){var a=r(o);return a}if(Array.isArray(r)||typeof r!="object")throw _a(8);return o?Ln(Ln({},o),r):r})(t.theme,e)},[t.theme,e]);return t.children?qe.createElement(Yh.Provider,{value:n},t.children):null}var $m={};function jj(t,e,n){var r=ow(t),o=t,a=!Fm(t),u=e.attrs,h=u===void 0?zf:u,f=e.componentId,m=f===void 0?(function(ee,de){var se=typeof ee!="string"?"sc":xE(ee);$m[se]=($m[se]||0)+1;var R="".concat(se,"-").concat(oj(Bf+se+$m[se]));return de?"".concat(de,"-").concat(R):R})(e.displayName,e.parentComponentId):f,w=e.displayName,b=w===void 0?(function(ee){return Fm(ee)?"styled.".concat(ee):"Styled(".concat(aj(ee),")")})(t):w,C=e.displayName&&e.componentId?"".concat(xE(e.displayName),"-").concat(e.componentId):e.componentId||m,P=r&&o.attrs?o.attrs.concat(h).filter(Boolean):h,N=e.shouldForwardProp;if(r&&o.shouldForwardProp){var V=o.shouldForwardProp;if(e.shouldForwardProp){var D=e.shouldForwardProp;N=function(ee,de){return V(ee,de)&&D(ee,de)}}else N=V}var G=new Lj(n,C,r?o.componentStyle:void 0);function q(ee,de){return(function(se,R,T){var k=se.attrs,L=se.componentStyle,M=se.defaultProps,U=se.foldedComponentIds,x=se.styledComponentId,Oe=se.target,nt=qe.useContext(Yh),We=LE(),ie=se.shouldForwardProp||We.shouldForwardProp,F=nj(R,nt,M)||Ul,K=(function(_e,ke,Ve){for(var Fe,Be=Ln(Ln({},ke),{className:void 0,theme:Ve}),ht=0;ht<_e.length;ht+=1){var yt=va(Fe=_e[ht])?Fe(Be):Fe;for(var bt in yt)Be[bt]=bt==="className"?oa(Be[bt],yt[bt]):bt==="style"?Ln(Ln({},Be[bt]),yt[bt]):yt[bt]}return ke.className&&(Be.className=oa(Be.className,ke.className)),Be})(k,R,F),Z=K.as||Oe,O={};for(var B in K)K[B]===void 0||B[0]==="$"||B==="as"||B==="theme"&&K.theme===F||(B==="forwardedAs"?O.as=K.forwardedAs:ie&&!ie(B,Z)||(O[B]=K[B]));var ae=(function(_e,ke){var Ve=LE(),Fe=_e.generateAndInjectStyles(ke,Ve.styleSheet,Ve.stylis);return Fe})(L,K),fe=oa(U,x);return ae&&(fe+=" "+ae),K.className&&(fe+=" "+K.className),O[Fm(Z)&&!UT.has(Z)?"class":"className"]=fe,T&&(O.ref=T),I.createElement(Z,O)})(J,ee,de)}q.displayName=b;var J=qe.forwardRef(q);return J.attrs=P,J.componentStyle=G,J.displayName=b,J.shouldForwardProp=N,J.foldedComponentIds=r?oa(o.foldedComponentIds,o.styledComponentId):"",J.styledComponentId=C,J.target=r?o.target:t,Object.defineProperty(J,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ee){this._foldedDefaultProps=r?(function(de){for(var se=[],R=1;R<arguments.length;R++)se[R-1]=arguments[R];for(var T=0,k=se;T<k.length;T++)Sg(de,k[T],!0);return de})({},o.defaultProps,ee):ee}}),aw(J,function(){return".".concat(J.styledComponentId)}),a&&GT(J,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),J}function jE(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var VE=function(t){return Object.assign(t,{isCss:!0})};function dn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(va(t)||lu(t))return VE(da(jE(zf,Gh([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?da(r):VE(da(jE(r,e)))}function kg(t,e,n){if(n===void 0&&(n=Ul),!e)throw _a(1,e);var r=function(o){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];return t(e,n,dn.apply(void 0,Gh([o],a,!1)))};return r.attrs=function(o){return kg(t,e,Ln(Ln({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return kg(t,e,Ln(Ln({},n),o))},r}var eI=function(t){return kg(jj,t)},Ye=eI;UT.forEach(function(t){Ye[t]=eI(t)});var po;function Bl(t,e){return t[e]}function Vj(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function Fj(t=[],e,n="id"){const r=t.slice(),o=Bl(e,n);return o?r.splice(r.findIndex((a=>Bl(a,n)===o)),1):r.splice(r.findIndex((a=>a===e)),1),r}function FE(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function Yc(t,e){return Math.ceil(t/e)}function Um(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(po||(po={}));const cn=()=>null;function tI(t,e=[],n=[]){let r={},o=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(o=[...o,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:o.join(" ")}}function fh(t,e=[],n="id"){const r=Bl(t,n);return r?e.some((o=>Bl(o,n)===r)):e.some((o=>o===t))}function Kd(t,e){return e?t.findIndex((n=>Xc(n.id,e))):-1}function Xc(t,e){return t==e}function $j(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:o,rowCount:a,mergeSelections:u}=e,h=!t.allSelected,f=!t.toggleOnSelectedRowsChange;if(u){const m=h?[...t.selectedRows,...o.filter((w=>!fh(w,t.selectedRows,r)))]:t.selectedRows.filter((w=>!fh(w,o,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:m.length,selectedRows:m,toggleOnSelectedRowsChange:f})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?o:[],toggleOnSelectedRowsChange:f})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:o,isSelected:a,rowCount:u,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[o],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:Fj(t.selectedRows,o,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===u,selectedRows:Vj(t.selectedRows,o),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:o,totalRows:a,mergeSelections:u}=e;if(u){const h=[...t.selectedRows,...o.filter((f=>!fh(f,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:o.length,allSelected:o.length===a,selectedRows:o,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:o,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:o,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:o,visibleOnly:a,persistSelectedOnPageChange:u}=e,h=o&&u,f=o&&!u||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),f&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:o}=e;return Object.assign(Object.assign({},t),{currentPage:o,rowsPerPage:r})}}}const Uj=dn`
	pointer-events: none;
	opacity: 0.4;
`,Bj=Ye.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&Uj};
	${({theme:t})=>t.table.style};
`,zj=dn`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,Hj=Ye.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&zj};
	${({theme:t})=>t.head.style};
`,qj=Ye.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,nI=(t,...e)=>dn`
		@media screen and (max-width: ${599}px) {
			${dn(t,...e)}
		}
	`,Wj=(t,...e)=>dn`
		@media screen and (max-width: ${959}px) {
			${dn(t,...e)}
		}
	`,Gj=(t,...e)=>dn`
		@media screen and (max-width: ${1280}px) {
			${dn(t,...e)}
		}
	`,Kj=t=>(e,...n)=>dn`
			@media screen and (max-width: ${t}px) {
				${dn(e,...n)}
			}
		`,tc=Ye.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,rI=Ye(tc)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&dn`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&nI`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&Wj`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&Gj`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&Kj(t)`
    display: none;
  `};
`,Qj=dn`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,Jj=Ye(rI).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&Qj};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var Yj=I.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:o,isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:m,onDragLeave:w}){const{conditionalStyle:b,classNames:C}=tI(n,e.conditionalCellStyles,["rdt_TableCell"]);return I.createElement(Jj,{id:t,"data-column-id":e.id,role:"cell",className:C,"data-tag":o,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:b,$isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:m,onDragLeave:w},!e.cell&&I.createElement("div",{"data-tag":o},(function(P,N,V,D){return N?V&&typeof V=="function"?V(P,D):N(P,D):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const $E="input";var sI=I.memo((function({name:t,component:e=$E,componentOptions:n={style:{}},indeterminate:r=!1,checked:o=!1,disabled:a=!1,onClick:u=cn}){const h=e,f=h!==$E?n.style:(w=>Object.assign(Object.assign({fontSize:"18px"},!w&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),m=I.useMemo((()=>(function(w,...b){let C;return Object.keys(w).map((P=>w[P])).forEach(((P,N)=>{typeof P=="function"&&(C=Object.assign(Object.assign({},w),{[Object.keys(w)[N]]:P(...b)}))})),C||w})(n,r)),[n,r]);return I.createElement(h,Object.assign({type:"checkbox",ref:w=>{w&&(w.indeterminate=r)},style:f,onClick:a?cn:u,name:t,"aria-label":t,checked:o,disabled:a},m,{onChange:cn}))}));const Xj=Ye(tc)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function Zj({name:t,keyField:e,row:n,rowCount:r,selected:o,selectableRowsComponent:a,selectableRowsComponentProps:u,selectableRowsSingle:h,selectableRowDisabled:f,onSelectedRow:m}){const w=!(!f||!f(n));return I.createElement(Xj,{onClick:b=>b.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},I.createElement(sI,{name:t,component:a,componentOptions:u,checked:o,"aria-checked":o,onClick:()=>{m({type:"SELECT_SINGLE_ROW",row:n,isSelected:o,keyField:e,rowCount:r,singleSelect:h})},disabled:w}))}const eV=Ye.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function tV({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:o,onToggled:a}){const u=e?n.expanded:n.collapsed;return I.createElement(eV,{"aria-disabled":t,onClick:()=>a&&a(o),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},u)}const nV=Ye(tc)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function rV({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:o,disabled:a=!1}){return I.createElement(nV,{onClick:u=>u.stopPropagation(),$noPadding:!0},I.createElement(tV,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:o}))}const sV=Ye.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var iV=I.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:o}){const a=["rdt_ExpanderRow",...o.split(" ").filter((u=>u!=="rdt_TableRow"))].join(" ");return I.createElement(sV,{className:a,$extendedRowStyle:r},I.createElement(e,Object.assign({data:t},n)))}));const Bm="allowRowEvents";var Xh,Rg,UE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(Xh||(Xh={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(Rg||(Rg={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(UE||(UE={}));const oV=dn`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,aV=dn`
	&:hover {
		cursor: pointer;
	}
`,lV=Ye.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&oV};
	${({$pointerOnHover:t})=>t&&aV};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function cV({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:o=!1,expandableIcon:a,expandableRows:u=!1,expandableRowsComponent:h,expandableRowsComponentProps:f,expandableRowsHideExpander:m,expandOnRowClicked:w=!1,expandOnRowDoubleClicked:b=!1,highlightOnHover:C=!1,id:P,expandableInheritConditionalStyles:N,keyField:V,onRowClicked:D=cn,onRowDoubleClicked:G=cn,onRowMouseEnter:q=cn,onRowMouseLeave:J=cn,onRowExpandToggled:ee=cn,onSelectedRow:de=cn,pointerOnHover:se=!1,row:R,rowCount:T,rowIndex:k,selectableRowDisabled:L=null,selectableRows:M=!1,selectableRowsComponent:U,selectableRowsComponentProps:x,selectableRowsHighlight:Oe=!1,selectableRowsSingle:nt=!1,selected:We,striped:ie=!1,draggingColumnId:F,onDragStart:K,onDragOver:Z,onDragEnd:O,onDragEnter:B,onDragLeave:ae}){const[fe,_e]=I.useState(n);I.useEffect((()=>{_e(n)}),[n]);const ke=I.useCallback((()=>{_e(!fe),ee(!fe,R)}),[fe,ee,R]),Ve=se||u&&(w||b),Fe=I.useCallback((Me=>{Me.target.getAttribute("data-tag")===Bm&&(D(R,Me),!r&&u&&w&&ke())}),[r,w,u,ke,D,R]),Be=I.useCallback((Me=>{Me.target.getAttribute("data-tag")===Bm&&(G(R,Me),!r&&u&&b&&ke())}),[r,b,u,ke,G,R]),ht=I.useCallback((Me=>{q(R,Me)}),[q,R]),yt=I.useCallback((Me=>{J(R,Me)}),[J,R]),bt=Bl(R,V),{conditionalStyle:Re,classNames:xe}=tI(R,e,["rdt_TableRow"]),rt=Oe&&We,$e=N?Re:{},Ge=ie&&k%2==0;return I.createElement(I.Fragment,null,I.createElement(lV,{id:`row-${P}`,role:"row",$striped:Ge,$highlightOnHover:C,$pointerOnHover:!r&&Ve,$dense:o,onClick:Fe,onDoubleClick:Be,onMouseEnter:ht,onMouseLeave:yt,className:xe,$selected:rt,$conditionalStyle:Re},M&&I.createElement(Zj,{name:`select-row-${bt}`,keyField:V,row:R,rowCount:T,selected:We,selectableRowsComponent:U,selectableRowsComponentProps:x,selectableRowDisabled:L,selectableRowsSingle:nt,onSelectedRow:de}),u&&!m&&I.createElement(rV,{id:bt,expandableIcon:a,expanded:fe,row:R,onToggled:ke,disabled:r}),t.map((Me=>Me.omit?null:I.createElement(Yj,{id:`cell-${Me.id}-${bt}`,key:`cell-${Me.id}-${bt}`,dataTag:Me.ignoreRowClick||Me.button?null:Bm,column:Me,row:R,rowIndex:k,isDragging:Xc(F,Me.id),onDragStart:K,onDragOver:Z,onDragEnd:O,onDragEnter:B,onDragLeave:ae})))),u&&fe&&I.createElement(iV,{key:`expander-${bt}`,data:R,extendedRowStyle:$e,extendedClassNames:xe,ExpanderComponent:h,expanderComponentProps:f}))}const uV=Ye.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,dV=({sortActive:t,sortDirection:e})=>qe.createElement(uV,{$sortActive:t,$sortDirection:e},"▲"),hV=Ye(rI)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,fV=dn`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&dn`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,pV=Ye.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&fV};
`,mV=Ye.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var gV=I.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:o,sortIcon:a,sortServer:u,pagination:h,paginationServer:f,persistSelectedOnSort:m,selectableRowsVisibleOnly:w,onSort:b,onDragStart:C,onDragOver:P,onDragEnd:N,onDragEnter:V,onDragLeave:D}){I.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[G,q]=I.useState(!1),J=I.useRef(null);if(I.useEffect((()=>{J.current&&q(J.current.scrollWidth>J.current.clientWidth)}),[G]),t.omit)return null;const ee=()=>{if(!t.sortable&&!t.selector)return;let x=o;Xc(r.id,t.id)&&(x=o===po.ASC?po.DESC:po.ASC),b({type:"SORT_CHANGE",sortDirection:x,selectedColumn:t,clearSelectedOnSort:h&&f&&!m||u||w})},de=x=>I.createElement(dV,{sortActive:x,sortDirection:o}),se=()=>I.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},a),R=!(!t.sortable||!Xc(r.id,t.id)),T=!t.sortable||e,k=t.sortable&&!a&&!t.right,L=t.sortable&&!a&&t.right,M=t.sortable&&a&&!t.right,U=t.sortable&&a&&t.right;return I.createElement(hV,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Xc(t.id,n),onDragStart:C,onDragOver:P,onDragEnd:N,onDragEnter:V,onDragLeave:D},t.name&&I.createElement(pV,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:T?void 0:ee,onKeyPress:T?void 0:x=>{x.key==="Enter"&&ee()},$sortActive:!T&&R,disabled:T},!T&&U&&se(),!T&&L&&de(R),typeof t.name=="string"?I.createElement(mV,{title:G?t.name:void 0,ref:J,"data-column-id":t.id},t.name):t.name,!T&&M&&se(),!T&&k&&de(R)))}));const yV=Ye(tc)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function wV({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:o,selectedRows:a,selectableRowsComponent:u,selectableRowsComponentProps:h,selectableRowDisabled:f,onSelectAllRows:m}){const w=a.length>0&&!r,b=f?e.filter((N=>!f(N))):e,C=b.length===0,P=Math.min(e.length,b.length);return I.createElement(yV,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},I.createElement(sI,{name:"select-all-rows",component:u,componentOptions:h,onClick:()=>{m({type:"SELECT_ALL_ROWS",rows:b,rowCount:P,mergeSelections:o,keyField:n})},checked:r,indeterminate:w,disabled:C}))}function iI(t=Xh.AUTO){const e=typeof window=="object",[n,r]=I.useState(!1);return I.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const o=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],u=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||u.dir==="rtl";r(o&&h)}}),[t,e]),n}const vV=Ye.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,_V=Ye.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,BE=Ye.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function EV({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:o}){const a=iI(o),u=r>0;return n?I.createElement(BE,{$visible:u},I.cloneElement(n,{selectedCount:r})):I.createElement(BE,{$visible:u,$rtl:a},I.createElement(vV,null,((h,f,m)=>{if(f===0)return null;const w=f===1?h.singular:h.plural;return m?`${f} ${h.message||""} ${w}`:`${f} ${w} ${h.message||""}`})(t,r,a)),I.createElement(_V,null,e))}const bV=Ye.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,CV=Ye.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,TV=Ye.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,IV=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:o,selectedCount:a,direction:u,showMenu:h=!0})=>I.createElement(bV,{className:"rdt_TableHeader",role:"heading","aria-level":1},I.createElement(CV,null,t),e&&I.createElement(TV,null,e),h&&I.createElement(EV,{contextMessage:n,contextActions:r,contextComponent:o,direction:u,selectedCount:a}));function oI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const SV={left:"flex-start",right:"flex-end",center:"center"},xV=Ye.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>SV[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,kV=t=>{var{align:e="right",wrapContent:n=!0}=t,r=oI(t,["align","wrapContent"]);return I.createElement(xV,Object.assign({align:e,$wrapContent:n},r))},RV=Ye.div`
	display: flex;
	flex-direction: column;
`,PV=Ye.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&dn`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&dn`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,zE=Ye.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,AV=Ye.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,NV=Ye(tc)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,DV=Ye.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,OV=()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},qe.createElement("path",{d:"M7 10l5 5 5-5z"}),qe.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),LV=Ye.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,MV=Ye.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,jV=t=>{var{defaultValue:e,onChange:n}=t,r=oI(t,["defaultValue","onChange"]);return I.createElement(MV,null,I.createElement(LV,Object.assign({onChange:n,defaultValue:e},r)),I.createElement(OV,null))},ce={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return qe.createElement("div",null,"To add an expander pass in a component instance via ",qe.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:qe.createElement((()=>qe.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},qe.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),qe.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:qe.createElement((()=>qe.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},qe.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),qe.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:qe.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:qe.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Rg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:qe.createElement((()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},qe.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),qe.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:qe.createElement((()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},qe.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),qe.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:qe.createElement((()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},qe.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),qe.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:qe.createElement((()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},qe.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),qe.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:Xh.AUTO,onChangePage:cn,onChangeRowsPerPage:cn,onRowClicked:cn,onRowDoubleClicked:cn,onRowMouseEnter:cn,onRowMouseLeave:cn,onRowExpandToggled:cn,onSelectedRowsChange:cn,onSort:cn,onColumnOrderChange:cn},VV={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},FV=Ye.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,Qd=Ye.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,$V=Ye.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${nI`
    width: 100%;
    justify-content: space-around;
  `};
`,aI=Ye.span`
	flex-shrink: 1;
	user-select: none;
`,UV=Ye(aI)`
	margin: 0 24px;
`,BV=Ye(aI)`
	margin: 0 4px;
`;var zV=I.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=ce.direction,paginationRowsPerPageOptions:o=ce.paginationRowsPerPageOptions,paginationIconLastPage:a=ce.paginationIconLastPage,paginationIconFirstPage:u=ce.paginationIconFirstPage,paginationIconNext:h=ce.paginationIconNext,paginationIconPrevious:f=ce.paginationIconPrevious,paginationComponentOptions:m=ce.paginationComponentOptions,onChangeRowsPerPage:w=ce.onChangeRowsPerPage,onChangePage:b=ce.onChangePage}){const C=(()=>{const x=typeof window=="object";function Oe(){return{width:x?window.innerWidth:void 0,height:x?window.innerHeight:void 0}}const[nt,We]=I.useState(Oe);return I.useEffect((()=>{if(!x)return()=>null;function ie(){We(Oe())}return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)}),[]),nt})(),P=iI(r),N=C.width&&C.width>599,V=Yc(e,t),D=n*t,G=D-t+1,q=n===1,J=n===V,ee=Object.assign(Object.assign({},VV),m),de=n===V?`${G}-${e} ${ee.rangeSeparatorText} ${e}`:`${G}-${D} ${ee.rangeSeparatorText} ${e}`,se=I.useCallback((()=>b(n-1)),[n,b]),R=I.useCallback((()=>b(n+1)),[n,b]),T=I.useCallback((()=>b(1)),[b]),k=I.useCallback((()=>b(Yc(e,t))),[b,e,t]),L=I.useCallback((x=>w(Number(x.target.value),n)),[n,w]),M=o.map((x=>I.createElement("option",{key:x,value:x},x)));ee.selectAllRowsItem&&M.push(I.createElement("option",{key:-1,value:e},ee.selectAllRowsItemText));const U=I.createElement(jV,{onChange:L,defaultValue:t,"aria-label":ee.rowsPerPageText},M);return I.createElement(FV,{className:"rdt_Pagination"},!ee.noRowsPerPage&&N&&I.createElement(I.Fragment,null,I.createElement(BV,null,ee.rowsPerPageText),U),N&&I.createElement(UV,null,de),I.createElement($V,null,I.createElement(Qd,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":q,onClick:T,disabled:q,$isRTL:P},u),I.createElement(Qd,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":q,onClick:se,disabled:q,$isRTL:P},f),!ee.noRowsPerPage&&!N&&U,I.createElement(Qd,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":J,onClick:R,disabled:J,$isRTL:P},h),I.createElement(Qd,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":J,onClick:k,disabled:J,$isRTL:P},a)))}));const sa=(t,e)=>{const n=I.useRef(!0);I.useEffect((()=>{n.current?n.current=!1:t()}),e)};function HV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qV=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===WV})(e)})(t)},WV=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function cu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?zl((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function GV(t,e,n){return t.concat(e).map((function(r){return cu(r,n)}))}function HE(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function qE(t,e){try{return e in t}catch{return!1}}function KV(t,e,n){var r={};return n.isMergeableObject(t)&&HE(t).forEach((function(o){r[o]=cu(t[o],n)})),HE(e).forEach((function(o){(function(a,u){return qE(a,u)&&!(Object.hasOwnProperty.call(a,u)&&Object.propertyIsEnumerable.call(a,u))})(t,o)||(qE(t,o)&&n.isMergeableObject(e[o])?r[o]=(function(a,u){if(!u.customMerge)return zl;var h=u.customMerge(a);return typeof h=="function"?h:zl})(o,n)(t[o],e[o],n):r[o]=cu(e[o],n))})),r}function zl(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||GV,n.isMergeableObject=n.isMergeableObject||qV,n.cloneUnlessOtherwiseSpecified=cu;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):KV(t,e,n):cu(e,n)}zl.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return zl(n,r,e)}),{})};var Pg=HV(zl);const WE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},to={default:WE,light:WE,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function QV(t="default",e,n="default"){return to[t]||(to[t]=Pg(to[n],e||{})),to[t]=Pg(to[t],e||{}),to[t]}function JV(t,e,n,r){const[o,a]=I.useState((()=>FE(t))),[u,h]=I.useState(""),f=I.useRef("");sa((()=>{a(FE(t))}),[t]);const m=I.useCallback((D=>{var G,q,J;const{attributes:ee}=D.target,de=(G=ee.getNamedItem("data-column-id"))===null||G===void 0?void 0:G.value;de&&(f.current=((J=(q=o[Kd(o,de)])===null||q===void 0?void 0:q.id)===null||J===void 0?void 0:J.toString())||"",h(f.current))}),[o]),w=I.useCallback((D=>{var G;const{attributes:q}=D.target,J=(G=q.getNamedItem("data-column-id"))===null||G===void 0?void 0:G.value;if(J&&f.current&&J!==f.current){const ee=Kd(o,f.current),de=Kd(o,J),se=[...o];se[ee]=o[de],se[de]=o[ee],a(se),e(se)}}),[e,o]),b=I.useCallback((D=>{D.preventDefault()}),[]),C=I.useCallback((D=>{D.preventDefault()}),[]),P=I.useCallback((D=>{D.preventDefault(),f.current="",h("")}),[]),N=(function(D=!1){return D?po.ASC:po.DESC})(r),V=I.useMemo((()=>o[Kd(o,n?.toString())]||{}),[n,o]);return{tableColumns:o,draggingColumnId:u,handleDragStart:m,handleDragEnter:w,handleDragOver:b,handleDragLeave:C,handleDragEnd:P,defaultSortDirection:N,defaultSortColumn:V}}var YV=I.memo((function(t){const{data:e=ce.data,columns:n=ce.columns,title:r=ce.title,actions:o=ce.actions,keyField:a=ce.keyField,striped:u=ce.striped,highlightOnHover:h=ce.highlightOnHover,pointerOnHover:f=ce.pointerOnHover,dense:m=ce.dense,selectableRows:w=ce.selectableRows,selectableRowsSingle:b=ce.selectableRowsSingle,selectableRowsHighlight:C=ce.selectableRowsHighlight,selectableRowsNoSelectAll:P=ce.selectableRowsNoSelectAll,selectableRowsVisibleOnly:N=ce.selectableRowsVisibleOnly,selectableRowSelected:V=ce.selectableRowSelected,selectableRowDisabled:D=ce.selectableRowDisabled,selectableRowsComponent:G=ce.selectableRowsComponent,selectableRowsComponentProps:q=ce.selectableRowsComponentProps,onRowExpandToggled:J=ce.onRowExpandToggled,onSelectedRowsChange:ee=ce.onSelectedRowsChange,expandableIcon:de=ce.expandableIcon,onChangeRowsPerPage:se=ce.onChangeRowsPerPage,onChangePage:R=ce.onChangePage,paginationServer:T=ce.paginationServer,paginationServerOptions:k=ce.paginationServerOptions,paginationTotalRows:L=ce.paginationTotalRows,paginationDefaultPage:M=ce.paginationDefaultPage,paginationResetDefaultPage:U=ce.paginationResetDefaultPage,paginationPerPage:x=ce.paginationPerPage,paginationRowsPerPageOptions:Oe=ce.paginationRowsPerPageOptions,paginationIconLastPage:nt=ce.paginationIconLastPage,paginationIconFirstPage:We=ce.paginationIconFirstPage,paginationIconNext:ie=ce.paginationIconNext,paginationIconPrevious:F=ce.paginationIconPrevious,paginationComponent:K=ce.paginationComponent,paginationComponentOptions:Z=ce.paginationComponentOptions,responsive:O=ce.responsive,progressPending:B=ce.progressPending,progressComponent:ae=ce.progressComponent,persistTableHead:fe=ce.persistTableHead,noDataComponent:_e=ce.noDataComponent,disabled:ke=ce.disabled,noTableHead:Ve=ce.noTableHead,noHeader:Fe=ce.noHeader,fixedHeader:Be=ce.fixedHeader,fixedHeaderScrollHeight:ht=ce.fixedHeaderScrollHeight,pagination:yt=ce.pagination,subHeader:bt=ce.subHeader,subHeaderAlign:Re=ce.subHeaderAlign,subHeaderWrap:xe=ce.subHeaderWrap,subHeaderComponent:rt=ce.subHeaderComponent,noContextMenu:$e=ce.noContextMenu,contextMessage:Ge=ce.contextMessage,contextActions:Me=ce.contextActions,contextComponent:Ke=ce.contextComponent,expandableRows:ze=ce.expandableRows,onRowClicked:Ue=ce.onRowClicked,onRowDoubleClicked:Dt=ce.onRowDoubleClicked,onRowMouseEnter:Vn=ce.onRowMouseEnter,onRowMouseLeave:Bs=ce.onRowMouseLeave,sortIcon:So=ce.sortIcon,onSort:Bt=ce.onSort,sortFunction:jt=ce.sortFunction,sortServer:cr=ce.sortServer,expandableRowsComponent:xo=ce.expandableRowsComponent,expandableRowsComponentProps:ds=ce.expandableRowsComponentProps,expandableRowDisabled:hs=ce.expandableRowDisabled,expandableRowsHideExpander:fs=ce.expandableRowsHideExpander,expandOnRowClicked:ko=ce.expandOnRowClicked,expandOnRowDoubleClicked:Ro=ce.expandOnRowDoubleClicked,expandableRowExpanded:Si=ce.expandableRowExpanded,expandableInheritConditionalStyles:Po=ce.expandableInheritConditionalStyles,defaultSortFieldId:Ao=ce.defaultSortFieldId,defaultSortAsc:zs=ce.defaultSortAsc,clearSelectedRows:Hs=ce.clearSelectedRows,conditionalRowStyles:xi=ce.conditionalRowStyles,theme:Fn=ce.theme,customStyles:ur=ce.customStyles,direction:Sr=ce.direction,onColumnOrderChange:xr=ce.onColumnOrderChange,className:No,ariaLabel:ps}=t,{tableColumns:ki,draggingColumnId:kr,handleDragStart:Ri,handleDragEnter:kt,handleDragOver:qs,handleDragLeave:Kn,handleDragEnd:ms,defaultSortDirection:Ws,defaultSortColumn:Pi}=JV(n,xr,Ao,zs),[{rowsPerPage:Kt,currentPage:vn,selectedRows:Do,allSelected:Gs,selectedCount:Oo,selectedColumn:Vt,sortDirection:Qn,toggleOnSelectedRowsChange:dr},Rr]=I.useReducer($j,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Pi,toggleOnSelectedRowsChange:!1,sortDirection:Ws,currentPage:M,rowsPerPage:x,selectedRowsFlag:!1,contextMessage:ce.contextMessage}),{persistSelectedOnSort:Ai=!1,persistSelectedOnPageChange:qr=!1}=k,Ks=!(!T||!qr&&!Ai),Lo=yt&&!B&&e.length>0,Na=K||zV,nc=I.useMemo((()=>((Ce={},Qe="default",Rt="default")=>{const sn=to[Qe]?Qe:Rt;return Pg({table:{style:{color:(Pe=to[sn]).text.primary,backgroundColor:Pe.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:Pe.text.primary,backgroundColor:Pe.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:Pe.background.default,minHeight:"52px"}},head:{style:{color:Pe.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:Pe.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:Pe.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:Pe.context.background,fontSize:"18px",fontWeight:400,color:Pe.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:Pe.text.primary,backgroundColor:Pe.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:Pe.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:Pe.selected.text,backgroundColor:Pe.selected.default,borderBottomColor:Pe.background.default}},highlightOnHoverStyle:{color:Pe.highlightOnHover.text,backgroundColor:Pe.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:Pe.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:Pe.background.default},stripedStyle:{color:Pe.striped.text,backgroundColor:Pe.striped.default}},expanderRow:{style:{color:Pe.text.primary,backgroundColor:Pe.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:Pe.button.default,fill:Pe.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:Pe.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:Pe.button.hover},"&:focus":{outline:"none",backgroundColor:Pe.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:Pe.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:Pe.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:Pe.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:Pe.button.default,fill:Pe.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:Pe.button.disabled,fill:Pe.button.disabled},"&:hover:not(:disabled)":{backgroundColor:Pe.button.hover},"&:focus":{outline:"none",backgroundColor:Pe.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Pe.text.primary,backgroundColor:Pe.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Pe.text.primary,backgroundColor:Pe.background.default}}},Ce);var Pe})(ur,Fn)),[ur,Fn]),pt=I.useMemo((()=>Object.assign({},Sr!=="auto"&&{dir:Sr})),[Sr]),zt=I.useMemo((()=>{if(cr)return e;if(Vt?.sortFunction&&typeof Vt.sortFunction=="function"){const Ce=Vt.sortFunction,Qe=Qn===po.ASC?Ce:(Rt,sn)=>-1*Ce(Rt,sn);return[...e].sort(Qe)}return(function(Ce,Qe,Rt,sn){return Qe?sn&&typeof sn=="function"?sn(Ce.slice(0),Qe,Rt):Ce.slice(0).sort(((Pe,fr)=>{const Qt=Qe(Pe),xn=Qe(fr);if(Rt==="asc"){if(Qt<xn)return-1;if(Qt>xn)return 1}if(Rt==="desc"){if(Qt>xn)return-1;if(Qt<xn)return 1}return 0})):Ce})(e,Vt?.selector,Qn,jt)}),[cr,Vt,Qn,e,jt]),hr=I.useMemo((()=>{if(yt&&!T){const Ce=vn*Kt,Qe=Ce-Kt;return zt.slice(Qe,Ce)}return zt}),[vn,yt,T,Kt,zt]),gs=I.useCallback((Ce=>{Rr(Ce)}),[]),Jn=I.useCallback((Ce=>{Rr(Ce)}),[]),Mo=I.useCallback((Ce=>{Rr(Ce)}),[]),Da=I.useCallback(((Ce,Qe)=>Ue(Ce,Qe)),[Ue]),Qs=I.useCallback(((Ce,Qe)=>Dt(Ce,Qe)),[Dt]),$n=I.useCallback(((Ce,Qe)=>Vn(Ce,Qe)),[Vn]),Oa=I.useCallback(((Ce,Qe)=>Bs(Ce,Qe)),[Bs]),Ft=I.useCallback((Ce=>Rr({type:"CHANGE_PAGE",page:Ce,paginationServer:T,visibleOnly:N,persistSelectedOnPageChange:qr})),[T,qr,N]),jo=I.useCallback((Ce=>{const Qe=Yc(L||hr.length,Ce),Rt=Um(vn,Qe);T||Ft(Rt),Rr({type:"CHANGE_ROWS_PER_PAGE",page:Rt,rowsPerPage:Ce})}),[vn,Ft,T,L,hr.length]);if(yt&&!T&&zt.length>0&&hr.length===0){const Ce=Yc(zt.length,Kt),Qe=Um(vn,Ce);Ft(Qe)}sa((()=>{ee({allSelected:Gs,selectedCount:Oo,selectedRows:Do.slice(0)})}),[dr]),sa((()=>{Bt(Vt,Qn,zt.slice(0))}),[Vt,Qn]),sa((()=>{R(vn,L||zt.length)}),[vn]),sa((()=>{se(Kt,vn)}),[Kt]),sa((()=>{Ft(M)}),[M,U]),sa((()=>{if(yt&&T&&L>0){const Ce=Yc(L,Kt),Qe=Um(vn,Ce);vn!==Qe&&Ft(Qe)}}),[L]),I.useEffect((()=>{Rr({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Hs})}),[b,Hs]),I.useEffect((()=>{if(!V)return;const Ce=zt.filter((Rt=>V(Rt))),Qe=b?Ce.slice(0,1):Ce;Rr({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:Qe,totalRows:zt.length,mergeSelections:Ks})}),[e,V]);const La=N?hr:zt,Ma=qr||b||P;return I.createElement(Mj,{theme:nc},!Fe&&(!!r||!!o)&&I.createElement(IV,{title:r,actions:o,showMenu:!$e,selectedCount:Oo,direction:Sr,contextActions:Me,contextComponent:Ke,contextMessage:Ge}),bt&&I.createElement(kV,{align:Re,wrapContent:xe},rt),I.createElement(PV,Object.assign({$responsive:O,$fixedHeader:Be,$fixedHeaderScrollHeight:ht,className:No},pt),I.createElement(AV,null,B&&!fe&&I.createElement(zE,null,ae),I.createElement(Bj,Object.assign({disabled:ke,className:"rdt_Table",role:"table"},ps&&{"aria-label":ps}),!Ve&&(!!fe||zt.length>0&&!B)&&I.createElement(Hj,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:Be},I.createElement(qj,{className:"rdt_TableHeadRow",role:"row",$dense:m},w&&(Ma?I.createElement(tc,{style:{flex:"0 0 48px"}}):I.createElement(wV,{allSelected:Gs,selectedRows:Do,selectableRowsComponent:G,selectableRowsComponentProps:q,selectableRowDisabled:D,rowData:La,keyField:a,mergeSelections:Ks,onSelectAllRows:Jn})),ze&&!fs&&I.createElement(NV,null),ki.map((Ce=>I.createElement(gV,{key:Ce.id,column:Ce,selectedColumn:Vt,disabled:B||zt.length===0,pagination:yt,paginationServer:T,persistSelectedOnSort:Ai,selectableRowsVisibleOnly:N,sortDirection:Qn,sortIcon:So,sortServer:cr,onSort:gs,onDragStart:Ri,onDragOver:qs,onDragEnd:ms,onDragEnter:kt,onDragLeave:Kn,draggingColumnId:kr}))))),!zt.length&&!B&&I.createElement(DV,null,_e),B&&fe&&I.createElement(zE,null,ae),!B&&zt.length>0&&I.createElement(RV,{className:"rdt_TableBody",role:"rowgroup"},hr.map(((Ce,Qe)=>{const Rt=Bl(Ce,a),sn=(function(xn=""){return typeof xn!="number"&&(!xn||xn.length===0)})(Rt)?Qe:Rt,Pe=fh(Ce,Do,a),fr=!!(ze&&Si&&Si(Ce)),Qt=!!(ze&&hs&&hs(Ce));return I.createElement(cV,{id:sn,key:sn,keyField:a,"data-row-id":sn,columns:ki,row:Ce,rowCount:zt.length,rowIndex:Qe,selectableRows:w,expandableRows:ze,expandableIcon:de,highlightOnHover:h,pointerOnHover:f,dense:m,expandOnRowClicked:ko,expandOnRowDoubleClicked:Ro,expandableRowsComponent:xo,expandableRowsComponentProps:ds,expandableRowsHideExpander:fs,defaultExpanderDisabled:Qt,defaultExpanded:fr,expandableInheritConditionalStyles:Po,conditionalRowStyles:xi,selected:Pe,selectableRowsHighlight:C,selectableRowsComponent:G,selectableRowsComponentProps:q,selectableRowDisabled:D,selectableRowsSingle:b,striped:u,onRowExpandToggled:J,onRowClicked:Da,onRowDoubleClicked:Qs,onRowMouseEnter:$n,onRowMouseLeave:Oa,onSelectedRow:Mo,draggingColumnId:kr,onDragStart:Ri,onDragOver:qs,onDragEnd:ms,onDragEnter:kt,onDragLeave:Kn})})))))),Lo&&I.createElement("div",null,I.createElement(Na,{onChangePage:Ft,onChangeRowsPerPage:jo,rowCount:L||zt.length,currentPage:vn,rowsPerPage:Kt,direction:Sr,paginationRowsPerPageOptions:Oe,paginationIconLastPage:nt,paginationIconFirstPage:We,paginationIconNext:ie,paginationIconPrevious:F,paginationComponentOptions:Z})))}));const GE=Cr(Wn),XV=$s(Wn);QV("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function ZV({usuario:t}){const[e,n]=I.useState(!1),[r,o]=I.useState(null),[a,u]=I.useState(!1),[h,f]=I.useState(!1),[m,w]=I.useState(!1),b=I.useRef(null),C=()=>rf(XV);I.useEffect(()=>{const T=k=>{b.current&&!b.current.contains(k.target)&&w(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const P=T=>parseInt(T),N=t?.fotoPerfil||nn,V=[{when:T=>T.pos==="1º",style:{background:"linear-gradient(135deg, rgb(255, 215, 0), rgb(218, 165, 32))",boxShadow:"0 0 8px rgba(255, 215, 0, 0.7), inset 0 0 4px rgba(255, 255, 255, 0.6)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:T=>T.pos==="2º",style:{background:"linear-gradient(135deg, rgb(192,192,192), rgb(169,169,169))",boxShadow:"0 0 8px rgba(192,192,192, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.5)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:T=>T.pos==="3º",style:{background:"linear-gradient(135deg, rgb(205, 127, 50), rgb(139, 69, 19))",boxShadow:"0 0 8px rgba(205, 127, 50, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.4)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:T=>P(T.pos)>3&&P(T.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:T=>P(T.pos)>3&&P(T.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],D=[{name:"Pos.",selector:T=>T.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:T=>T.jugador,cell:T=>v.jsxs(Zt,{to:T.id===t.uid?"/home":`/equipo/${T.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit",cursor:"pointer"},children:[v.jsx("img",{src:T.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"1px solid black"}}),v.jsx("span",{children:T.jugador})]})},{name:"Puntos",selector:T=>T.puntos,width:"5.5rem",center:!0}],G=()=>{u(!a)},q=T=>T>=1e6?(T/1e6).toFixed(2)+"M":T>=1e3?(T/1e3).toFixed(2)+"K":T.toFixed(2);I.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const T=vt(GE,"usuarios",t.uid);Fr(T).then(k=>{k.exists()&&o(k.data().dinero)})}},[t]);const[J,ee]=I.useState([]),[de,se]=I.useState(!1);I.useEffect(()=>{(async()=>{se(!0);try{const k=Ei(GE,"usuarios");let U=(await bi(k)).docs.map(x=>({id:x.id,...x.data()})).sort((x,Oe)=>(Oe.puntos||0)-(x.puntos||0)).map((x,Oe)=>({id:x.id,pos:`${Oe+1}º`,jugador:x.nick||"Sin nombre",puntos:x.puntos||0,fotoPerfil:x.fotoPerfil||nn}));ee(U)}catch(k){console.error("Error al cargar usuarios:",k)}finally{se(!1)}})()},[]);const R={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:N,onError:T=>{T.currentTarget.onerror=null,T.currentTarget.src=nn},alt:"Foto de perfil",onClick:()=>w(!m),onMouseEnter:()=>w(!0)}),m&&v.jsxs("div",{className:"perfil-bocadillo",ref:b,onMouseLeave:()=>w(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{f(!0),w(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:C,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:q(r)})]})]})]}),v.jsx("button",{onClick:G,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${jl})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&v.jsx(jf,{usuario:t,openModal:h,setOpenModal:f}),v.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:v.jsx(YV,{title:"CLASIFICACIÓN",columns:D,data:J,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:de,progressComponent:v.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:V,customStyles:R,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:v.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}function e4({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r}){$s(),Cr(),Mf();const o=t?.foto||nn,a=m=>{switch(m){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return m||"Sin posición"}},u=I.useRef(),h=m=>{m.target===u.current&&r(!1)},f=m=>m.toLocaleString("es-ES")+"€";return n?(console.log("DEBUG jugador en modal:",t),v.jsx("div",{className:"modal-overlay",ref:u,onClick:h,children:v.jsxs("div",{className:"modal-perfil",children:[v.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),v.jsxs("div",{className:"modal-header",children:[v.jsx("label",{className:"modal-avatar",children:v.jsx("img",{src:o,alt:"Jugador"})}),v.jsxs("div",{className:"modal-jugadorinfo",children:[v.jsx("h2",{children:(window.innerWidth<450,t.nombre)}),v.jsxs("div",{className:"posicion-precio",children:[v.jsx("div",{className:`posicion-texto ${t.posicion}`,children:v.jsx("small",{children:a(t.posicion)})}),v.jsxs("div",{className:"precio-container",children:[v.jsx("div",{className:"precio",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",f(t.precio)]})}),v.jsx("div",{className:"diferencia-precio",children:(()=>{const m=t.historialPrecios||[];if(m.length===0)return v.jsx("small",{children:"(±0€)"});const w=m[m.length-1].precio||0,b=t.precio-w,C=b>0?"+":b<0?"-":"±";return v.jsxs("small",{className:b>0?"subida":b<0?"bajada":"igual",children:["(",C,f(Math.abs(b)),")"]})})()})]}),v.jsx("div",{className:"precio-clausula",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",f(e)]})})]}),v.jsx("div",{className:"estadisticas-extra",children:v.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((m,w,b)=>{const C=m??"-",P=b.length<5?w+1:t.puntosPorJornada.length-5+w+1;let N="";return typeof m=="number"&&(m>=9?N="verde":m<7?N="rojo":N="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",P]}),v.jsx("div",{className:`jornada-cuadro ${N}`,children:C})]},w)}):[...Array(5)].map((m,w)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",w+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},w))})})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-jugadorbody",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.valoracion}),v.jsx("small",{children:"Valoración"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.nota}),v.jsx("small",{children:"Nota Media"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.puntosTotales}),v.jsx("small",{children:"Puntos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.partidos}),v.jsx("small",{children:"Partidos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.goles}),v.jsx("small",{children:"Goles"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.asistencias}),v.jsx("small",{children:"Asistencias"})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-footer",children:[v.jsxs("button",{className:"btn-accion",disabled:t.stock<=0,onClick:m=>{m.stopPropagation()},children:["Pagar Claúsula",v.jsx("br",{}),v.jsxs("small",{className:"precio-compra",children:["(-",f(t.precioClausula),")"]})]}),v.jsx("button",{className:"btn-accion",disabled:t.stock<=0,onClick:m=>{m.stopPropagation()},children:"Hacer oferta"})]})]})})):null}const zm=Cr(Wn),t4=$s(Wn),n4={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function KE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=n4[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function r4({usuario:t}){const{jugadorId:e}=fD(),[n,r]=I.useState(!0),[o,a]=I.useState(null),[u,h]=I.useState(!1),[f,m]=I.useState(!1),[w,b]=I.useState(null),C=t?.fotoPerfil||nn,P=o?.equipo?.titulares||[],N=o?.equipo?.banquillo||[],[V,D]=I.useState([]),G=o?.equipo?.capitan||"",[q,J]=I.useState(o?.equipo?.formacion||"2-1-1"),[ee,de]=I.useState(q);I.useEffect(()=>{o?.equipo?.formacion&&(J(o.equipo.formacion),de(o.equipo.formacion))},[o]);const[se,R]=I.useState(!1),[T,k]=I.useState(!1),[L,M]=I.useState(null),[U,x]=I.useState(!1),Oe=I.useRef(null),nt=()=>rf(t4);I.useEffect(()=>{const F=K=>{Oe.current&&!Oe.current.contains(K.target)&&x(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]),I.useEffect(()=>{if(window.particlesJS&&document.getElementById("particles-js")&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const F=vt(zm,"usuarios",t.uid);Fr(F).then(K=>{K.exists()&&b(K.data().dinero)})}},[t]),I.useEffect(()=>{(async()=>{if(e){r(!0);try{const K=await Fr(vt(zm,"usuarios",e));K.exists()?a({id:K.id,...K.data()}):a(null)}catch(K){console.error("Error fetching jugador:",K)}finally{r(!1)}}})()},[e]),I.useEffect(()=>{(async()=>{if(o?.equipo)try{const K=[...(o.equipo.titulares||[]).map(fe=>fe?.jugadorId).filter(Boolean),...(o.equipo.banquillo||[]).map(fe=>fe?.jugadorId).filter(Boolean)];if(K.length===0){D([]);return}const Z=Ei(zm,"jugadores"),O=Sf(Z,kf("__name__","in",K)),ae=(await bi(O)).docs.map(fe=>({id:fe.id,...fe.data()}));D(ae)}catch(K){console.error("Error cargando jugadores:",K)}})()},[o]);const We=()=>{h(!u)},ie=F=>F.toLocaleString("es-ES")+"€";return v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:C,onError:F=>{F.currentTarget.onerror=null,F.currentTarget.src=nn},alt:"Foto de perfil",onClick:()=>x(!U),onMouseEnter:()=>x(!0)}),U&&v.jsxs("div",{className:"perfil-bocadillo",ref:Oe,onMouseLeave:()=>x(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{R(!0),x(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:nt,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),w!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:ie(w)})]})]})]}),v.jsx("button",{onClick:We,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${u?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Zt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${jl})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),se&&v.jsx(jf,{usuario:t,openModal:se,setOpenModal:R}),T&&L&&v.jsx(e4,{jugador:L,clausulaPersonal:o?.equipo?.titulares?.find(F=>F.jugadorId===L.id)?.clausulaPersonal??o?.equipo?.banquillo?.find(F=>F.jugadorId===L.id)?.clausulaPersonal,openModal:T,setOpenModal:k}),v.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1,marginTop:"0rem"},children:[v.jsxs("div",{className:"datos-equipo",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Formación:"})," ",v.jsx("small",{children:ee})," "]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Dinero:"})," ",v.jsx("small",{children:v.jsx("span",{className:"verde",children:ie(o?.dinero||0)})})]})]}),v.jsx("div",{className:"ultimas-jornadas-equipo-jugador",children:o?.puntuaciones&&o?.puntuaciones.length>0?o?.puntuaciones.slice(-5).map((F,K,Z)=>{const O=F??"-",B=Z.length<5?K+1:o?.puntuaciones.length-5+K+1;let ae="";return typeof F=="number"&&(F>=36?ae="verde":F<28?ae="rojo":ae="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",B]}),v.jsx("div",{className:`jornada-cuadro ${ae}`,children:O})]},K)}):[...Array(5)].map((F,K)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",K+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},K))}),v.jsx("div",{className:"campo",children:Eg[ee]?.map((F,K)=>{const Z=P[K],O=V.find(B=>B.id===Z?.jugadorId);return v.jsxs("div",{className:"jugador",style:{position:"absolute",top:F.top,left:F.left,transform:"translate(-50%, -50%)"},children:[v.jsxs("div",{className:"jugador-wrapper",children:[v.jsx("img",{src:O?.foto||nn,alt:O?.nombre||"Vacío",className:"jugador-img",style:KE(O,K,ee).style,onClick:()=>{k(!0),M(O)}}),(()=>{const{status:B}=KE(O,K,ee);return console.log(B),B?B==="green"?v.jsx("div",{className:"status-badge green",children:"✓"}):B==="orange"?v.jsx("div",{className:"status-badge orange",children:"!"}):B==="red"?v.jsx("div",{className:"status-badge red",children:"✕"}):null:null})(),G===O?.id&&v.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(O?.puntosPorJornada.length===0)return v.jsx("div",{className:"puntos-badge gray",children:"-"});const B=O?.puntosPorJornada?.length?O?.puntosPorJornada[O?.puntosPorJornada.length-1]:null;if(B==null)return null;let ae=B==="-"?"gray":B<7?"red":B<9?"orange":"green";return v.jsx("div",{className:`puntos-badge ${ae}`,children:B})})()]}),v.jsx("p",{className:"jugador-nombre",children:O?.nombre||"Vacío"})]},O?.id||K)})}),v.jsxs("div",{className:"banquillo-section",children:[v.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),v.jsx("div",{className:"banquillo-container",children:N.map((F,K)=>{const Z=V.find(O=>O.id===F?.jugadorId);return v.jsx("div",{className:"banquillo-slot",children:Z?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"jugador-wrapper",children:[v.jsx("img",{src:Z?.foto||nn,alt:Z?.nombre||"Vacío",className:"jugador-img",onClick:()=>{k(!0),M(Z)}}),(()=>{if(Z?.puntosPorJornada?.length===0)return v.jsx("div",{className:"puntos-badge gray",children:"-"});const O=Z?.puntosPorJornada?.length?Z?.puntosPorJornada[Z?.puntosPorJornada.length-1]:null;if(O==null)return null;let B=O==="-"?"gray":O<7?"red":O<9?"orange":"green";return v.jsx("div",{className:`puntos-badge ${B}`,children:O})})()]}),v.jsx("p",{className:"jugador-nombre-banquillo",children:Z?.nombre})]}):v.jsx(Zt,{className:"banquillo-add",children:"+"})})})})]})]})]}),f&&v.jsx("div",{className:"onboarding-overlay",children:v.jsx("div",{className:"loader",children:"Cargando..."})})]})}const s4=$s(Wn),i4=Cr(Wn);function o4(){const[t,e]=I.useState(null),[n,r]=I.useState(!0);return I.useEffect(()=>{const o=cR(s4,async a=>{if(a)try{const u=await Fr(vt(i4,"usuarios",a.uid));u.exists()?e({uid:a.uid,...u.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(u){console.error("Error obteniendo datos de usuario:",u),e(null)}else e(null);r(!1)});return()=>o()},[]),n?v.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):v.jsx(YD,{children:v.jsxs(kD,{children:[v.jsx(ra,{path:"/",element:t?v.jsx(pl,{to:"/home",replace:!0}):v.jsx(t5,{})}),v.jsx(ra,{path:"/home",element:t?v.jsx(D5,{usuario:t}):v.jsx(pl,{to:"/",replace:!0})}),v.jsx(ra,{path:"/mercado",element:t?v.jsx(L5,{usuario:t}):v.jsx(pl,{to:"/",replace:!0})}),v.jsx(ra,{path:"/clasificacion",element:t?v.jsx(ZV,{usuario:t}):v.jsx(pl,{to:"/",replace:!0})}),v.jsx(ra,{path:"/equipo/:jugadorId",element:t?v.jsx(r4,{usuario:t}):v.jsx(pl,{to:"/",replace:!0})}),v.jsx(ra,{path:"*",element:v.jsx(pl,{to:t?"/home":"/",replace:!0})})]})})}_S.createRoot(document.getElementById("root")).render(v.jsx(I.StrictMode,{children:v.jsx(o4,{})}));
