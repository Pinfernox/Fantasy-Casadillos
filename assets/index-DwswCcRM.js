(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function iI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lm={exports:{}},Dc={},cm={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function oI(){if(o_)return We;o_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.iterator;function C(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function D(L,U,le){this.props=L,this.context=U,this.refs=j,this.updater=le||R}D.prototype.isReactComponent={},D.prototype.setState=function(L,U){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,U,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=D.prototype;function z(L,U,le){this.props=L,this.context=U,this.refs=j,this.updater=le||R}var Q=z.prototype=new G;Q.constructor=z,N(Q,D.prototype),Q.isPureReactComponent=!0;var ee=Array.isArray,de=Object.prototype.hasOwnProperty,re={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(L,U,le){var ge,ye={},be=null,Fe=null;if(U!=null)for(ge in U.ref!==void 0&&(Fe=U.ref),U.key!==void 0&&(be=""+U.key),U)de.call(U,ge)&&!P.hasOwnProperty(ge)&&(ye[ge]=U[ge]);var $e=arguments.length-2;if($e===1)ye.children=le;else if(1<$e){for(var Ue=Array($e),ct=0;ct<$e;ct++)Ue[ct]=arguments[ct+2];ye.children=Ue}if(L&&L.defaultProps)for(ge in $e=L.defaultProps,$e)ye[ge]===void 0&&(ye[ge]=$e[ge]);return{$$typeof:t,type:L,key:be,ref:Fe,props:ye,_owner:re.current}}function k(L,U){return{$$typeof:t,type:L.type,key:U,ref:L.ref,props:L.props,_owner:L._owner}}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function V(L){var U={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return U[le]})}var $=/\/+/g;function x(L,U){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):U.toString(36)}function Le(L,U,le,ge,ye){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var Fe=!1;if(L===null)Fe=!0;else switch(be){case"string":case"number":Fe=!0;break;case"object":switch(L.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=L,ye=ye(Fe),L=ge===""?"."+x(Fe,0):ge,ee(ye)?(le="",L!=null&&(le=L.replace($,"$&/")+"/"),Le(ye,U,le,"",function(ct){return ct})):ye!=null&&(O(ye)&&(ye=k(ye,le+(!ye.key||Fe&&Fe.key===ye.key?"":(""+ye.key).replace($,"$&/")+"/")+L)),U.push(ye)),1;if(Fe=0,ge=ge===""?".":ge+":",ee(L))for(var $e=0;$e<L.length;$e++){be=L[$e];var Ue=ge+x(be,$e);Fe+=Le(be,U,le,Ue,ye)}else if(Ue=C(L),typeof Ue=="function")for(L=Ue.call(L),$e=0;!(be=L.next()).done;)be=be.value,Ue=ge+x(be,$e++),Fe+=Le(be,U,le,Ue,ye);else if(be==="object")throw U=String(L),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Fe}function et(L,U,le){if(L==null)return L;var ge=[],ye=0;return Le(L,ge,"","",function(be){return U.call(le,be,ye++)}),ge}function Ke(L){if(L._status===-1){var U=L._result;U=U(),U.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=U)}if(L._status===1)return L._result.default;throw L._result}var se={current:null},Z={transition:null},W={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:Z,ReactCurrentOwner:re};function Y(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:et,forEach:function(L,U,le){et(L,function(){U.apply(this,arguments)},le)},count:function(L){var U=0;return et(L,function(){U++}),U},toArray:function(L){return et(L,function(U){return U})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},We.Component=D,We.Fragment=n,We.Profiler=o,We.PureComponent=z,We.StrictMode=r,We.Suspense=f,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,We.act=Y,We.cloneElement=function(L,U,le){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ge=N({},L.props),ye=L.key,be=L.ref,Fe=L._owner;if(U!=null){if(U.ref!==void 0&&(be=U.ref,Fe=re.current),U.key!==void 0&&(ye=""+U.key),L.type&&L.type.defaultProps)var $e=L.type.defaultProps;for(Ue in U)de.call(U,Ue)&&!P.hasOwnProperty(Ue)&&(ge[Ue]=U[Ue]===void 0&&$e!==void 0?$e[Ue]:U[Ue])}var Ue=arguments.length-2;if(Ue===1)ge.children=le;else if(1<Ue){$e=Array(Ue);for(var ct=0;ct<Ue;ct++)$e[ct]=arguments[ct+2];ge.children=$e}return{$$typeof:t,type:L.type,key:ye,ref:be,props:ge,_owner:Fe}},We.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},We.createElement=T,We.createFactory=function(L){var U=T.bind(null,L);return U.type=L,U},We.createRef=function(){return{current:null}},We.forwardRef=function(L){return{$$typeof:h,render:L}},We.isValidElement=O,We.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:Ke}},We.memo=function(L,U){return{$$typeof:y,type:L,compare:U===void 0?null:U}},We.startTransition=function(L){var U=Z.transition;Z.transition={};try{L()}finally{Z.transition=U}},We.unstable_act=Y,We.useCallback=function(L,U){return se.current.useCallback(L,U)},We.useContext=function(L){return se.current.useContext(L)},We.useDebugValue=function(){},We.useDeferredValue=function(L){return se.current.useDeferredValue(L)},We.useEffect=function(L,U){return se.current.useEffect(L,U)},We.useId=function(){return se.current.useId()},We.useImperativeHandle=function(L,U,le){return se.current.useImperativeHandle(L,U,le)},We.useInsertionEffect=function(L,U){return se.current.useInsertionEffect(L,U)},We.useLayoutEffect=function(L,U){return se.current.useLayoutEffect(L,U)},We.useMemo=function(L,U){return se.current.useMemo(L,U)},We.useReducer=function(L,U,le){return se.current.useReducer(L,U,le)},We.useRef=function(L){return se.current.useRef(L)},We.useState=function(L){return se.current.useState(L)},We.useSyncExternalStore=function(L,U,le){return se.current.useSyncExternalStore(L,U,le)},We.useTransition=function(){return se.current.useTransition()},We.version="18.3.1",We}var a_;function Ig(){return a_||(a_=1,cm.exports=oI()),cm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function aI(){if(l_)return Dc;l_=1;var t=Ig(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,y){var w,b={},C=null,R=null;y!==void 0&&(C=""+y),f.key!==void 0&&(C=""+f.key),f.ref!==void 0&&(R=f.ref);for(w in f)r.call(f,w)&&!a.hasOwnProperty(w)&&(b[w]=f[w]);if(h&&h.defaultProps)for(w in f=h.defaultProps,f)b[w]===void 0&&(b[w]=f[w]);return{$$typeof:e,type:h,key:C,ref:R,props:b,_owner:o.current}}return Dc.Fragment=n,Dc.jsx=u,Dc.jsxs=u,Dc}var c_;function lI(){return c_||(c_=1,lm.exports=aI()),lm.exports}var v=lI(),S=Ig();const He=iI(S);var Ld={},um={exports:{}},tr={},dm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function cI(){return u_||(u_=1,(function(t){function e(Z,W){var Y=Z.length;Z.push(W);e:for(;0<Y;){var L=Y-1>>>1,U=Z[L];if(0<o(U,W))Z[L]=W,Z[Y]=U,Y=L;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var W=Z[0],Y=Z.pop();if(Y!==W){Z[0]=Y;e:for(var L=0,U=Z.length,le=U>>>1;L<le;){var ge=2*(L+1)-1,ye=Z[ge],be=ge+1,Fe=Z[be];if(0>o(ye,Y))be<U&&0>o(Fe,ye)?(Z[L]=Fe,Z[be]=Y,L=be):(Z[L]=ye,Z[ge]=Y,L=ge);else if(be<U&&0>o(Fe,Y))Z[L]=Fe,Z[be]=Y,L=be;else break e}}return W}function o(Z,W){var Y=Z.sortIndex-W.sortIndex;return Y!==0?Y:Z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],y=[],w=1,b=null,C=3,R=!1,N=!1,j=!1,D=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(Z){for(var W=n(y);W!==null;){if(W.callback===null)r(y);else if(W.startTime<=Z)r(y),W.sortIndex=W.expirationTime,e(f,W);else break;W=n(y)}}function ee(Z){if(j=!1,Q(Z),!N)if(n(f)!==null)N=!0,Ke(de);else{var W=n(y);W!==null&&se(ee,W.startTime-Z)}}function de(Z,W){N=!1,j&&(j=!1,G(T),T=-1),R=!0;var Y=C;try{for(Q(W),b=n(f);b!==null&&(!(b.expirationTime>W)||Z&&!V());){var L=b.callback;if(typeof L=="function"){b.callback=null,C=b.priorityLevel;var U=L(b.expirationTime<=W);W=t.unstable_now(),typeof U=="function"?b.callback=U:b===n(f)&&r(f),Q(W)}else r(f);b=n(f)}if(b!==null)var le=!0;else{var ge=n(y);ge!==null&&se(ee,ge.startTime-W),le=!1}return le}finally{b=null,C=Y,R=!1}}var re=!1,P=null,T=-1,k=5,O=-1;function V(){return!(t.unstable_now()-O<k)}function $(){if(P!==null){var Z=t.unstable_now();O=Z;var W=!0;try{W=P(!0,Z)}finally{W?x():(re=!1,P=null)}}else re=!1}var x;if(typeof z=="function")x=function(){z($)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,et=Le.port2;Le.port1.onmessage=$,x=function(){et.postMessage(null)}}else x=function(){D($,0)};function Ke(Z){P=Z,re||(re=!0,x())}function se(Z,W){T=D(function(){Z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){N||R||(N=!0,Ke(de))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Z){switch(C){case 1:case 2:case 3:var W=3;break;default:W=C}var Y=C;C=W;try{return Z()}finally{C=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,W){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Y=C;C=Z;try{return W()}finally{C=Y}},t.unstable_scheduleCallback=function(Z,W,Y){var L=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?L+Y:L):Y=L,Z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Y+U,Z={id:w++,callback:W,priorityLevel:Z,startTime:Y,expirationTime:U,sortIndex:-1},Y>L?(Z.sortIndex=Y,e(y,Z),n(f)===null&&Z===n(y)&&(j?(G(T),T=-1):j=!0,se(ee,Y-L))):(Z.sortIndex=U,e(f,Z),N||R||(N=!0,Ke(de))),Z},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Z){var W=C;return function(){var Y=C;C=W;try{return Z.apply(this,arguments)}finally{C=Y}}}})(hm)),hm}var d_;function uI(){return d_||(d_=1,dm.exports=cI()),dm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function dI(){if(h_)return tr;h_=1;var t=Ig(),e=uI();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},b={};function C(s){return f.call(b,s)?!0:f.call(w,s)?!1:y.test(s)?b[s]=!0:(w[s]=!0,!1)}function R(s,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,i,l,d){if(i===null||typeof i>"u"||R(s,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(s,i,l,d,p,g,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=g,this.removeEmptyString=E}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){D[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];D[i]=new j(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){D[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){D[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){D[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){D[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){D[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){D[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){D[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function z(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(G,z);D[i]=new j(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(G,z);D[i]=new j(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(G,z);D[i]=new j(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){D[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),D.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){D[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function Q(s,i,l,d){var p=D.hasOwnProperty(i)?D[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(N(i,l,p,d)&&(l=null),d||p===null?C(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?s.setAttributeNS(d,i,l):s.setAttribute(i,l))))}var ee=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),re=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),Z=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var Y=Object.assign,L;function U(s){if(L===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);L=i&&i[1]||""}return`
`+L+s}var le=!1;function ge(s,i){if(!s||le)return"";le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(K){var d=K}Reflect.construct(s,[],i)}else{try{i.call()}catch(K){d=K}s.call(i.prototype)}else{try{throw Error()}catch(K){d=K}s()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var p=K.stack.split(`
`),g=d.stack.split(`
`),E=p.length-1,A=g.length-1;1<=E&&0<=A&&p[E]!==g[A];)A--;for(;1<=E&&0<=A;E--,A--)if(p[E]!==g[A]){if(E!==1||A!==1)do if(E--,A--,0>A||p[E]!==g[A]){var M=`
`+p[E].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=E&&0<=A);break}}}finally{le=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?U(s):""}function ye(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=ge(s.type,!1),s;case 11:return s=ge(s.type.render,!1),s;case 1:return s=ge(s.type,!0),s;default:return""}}function be(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case re:return"Portal";case k:return"Profiler";case T:return"StrictMode";case x:return"Suspense";case Le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case $:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case et:return i=s.displayName||null,i!==null?i:be(s.type)||"Memo";case Ke:i=s._payload,s=s._init;try{return be(s(i))}catch{}}return null}function Fe(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function $e(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ue(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ct(s){var i=Ue(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,g.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function mt(s){s._valueTracker||(s._valueTracker=ct(s))}function vt(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=Ue(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function Pe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ie(s,i){var l=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Ve(s,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=$e(i.value!=null?i.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Be(s,i){i=i.checked,i!=null&&Q(s,"checked",i,!1)}function ut(s,i){Be(s,i);var l=$e(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?ft(s,i.type,l):i.hasOwnProperty("defaultValue")&&ft(s,i.type,$e(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Te(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function ft(s,i,l){(i!=="number"||Pe(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Qe=Array.isArray;function Wt(s,i,l,d){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&d&&(s[l].defaultSelected=!0)}else{for(l=""+$e(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function bi(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function $s(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Qe(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:$e(l)}}function Us(s,i){var l=$e(i.value),d=$e(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function bo(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Vt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Vt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ir,Co=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,d,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(ir=ir||document.createElement("div"),ir.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ir.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function os(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ls=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(s){ls.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),as[i]=as[s]})});function To(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||as.hasOwnProperty(s)&&as[s]?(""+i).trim():i+"px"}function So(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=To(l,i[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,p):s[l]=p}}var Ci=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(s,i){if(i){if(Ci[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function xo(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bs=null;function zs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ti=null,Vn=null,or=null;function Er(s){if(s=wc(s)){if(typeof Ti!="function")throw Error(n(280));var i=s.stateNode;i&&(i=Ju(i),Ti(s.stateNode,s.type,i))}}function br(s){Vn?or?or.push(s):or=[s]:Vn=s}function Ro(){if(Vn){var s=Vn,i=or;if(or=Vn=null,Er(s),i)for(s=0;s<i.length;s++)Er(i[s])}}function cs(s,i){return s(i)}function Si(){}var Cr=!1;function Ii(s,i,l){if(Cr)return s(i,l);Cr=!0;try{return cs(s,i,l)}finally{Cr=!1,(Vn!==null||or!==null)&&(Si(),Ro())}}function Tt(s,i){var l=s.stateNode;if(l===null)return null;var d=Ju(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Hs=!1;if(h)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{Hs=!1}function us(s,i,l,d,p,g,E,A,M){var K=Array.prototype.slice.call(arguments,3);try{i.apply(l,K)}catch(oe){this.onError(oe)}}var qs=!1,xi=null,Gt=!1,wn=null,ko={onError:function(s){qs=!0,xi=s}};function Ws(s,i,l,d,p,g,E,A,M){qs=!1,xi=null,us.apply(ko,arguments)}function Po(s,i,l,d,p,g,E,A,M){if(Ws.apply(this,arguments),qs){if(qs){var K=xi;qs=!1,xi=null}else throw Error(n(198));Gt||(Gt=!0,wn=K)}}function Ot(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Wn(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function ar(s){if(Ot(s)!==s)throw Error(n(188))}function Tr(s){var i=s.alternate;if(!i){if(i=Ot(s),i===null)throw Error(n(188));return i!==s?null:s}for(var l=s,d=i;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return ar(p),s;if(g===d)return ar(p),i;g=g.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=g;else{for(var E=!1,A=p.child;A;){if(A===l){E=!0,l=p,d=g;break}if(A===d){E=!0,d=p,l=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===l){E=!0,l=g,d=p;break}if(A===d){E=!0,d=g,l=p;break}A=A.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:i}function Ri(s){return s=Tr(s),s!==null?Fr(s):null}function Fr(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Fr(s);if(i!==null)return i;s=s.sibling}return null}var Gs=e.unstable_scheduleCallback,Ao=e.unstable_cancelCallback,xa=e.unstable_shouldYield,nc=e.unstable_requestPaint,ht=e.unstable_now,jt=e.unstable_getCurrentPriorityLevel,lr=e.unstable_ImmediatePriority,ds=e.unstable_UserBlockingPriority,Gn=e.unstable_NormalPriority,No=e.unstable_LowPriority,Ra=e.unstable_IdlePriority,Ks=null,jn=null;function ka(s){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Ks,s,void 0,(s.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:Aa,Do=Math.log,Pa=Math.LN2;function Aa(s){return s>>>=0,s===0?32:31-(Do(s)/Pa|0)|0}var Se=64,qe=4194304;function St(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function rn(s,i){var l=s.pendingLanes;if(l===0)return 0;var d=0,p=s.suspendedLanes,g=s.pingedLanes,E=l&268435455;if(E!==0){var A=E&~p;A!==0?d=St(A):(g&=E,g!==0&&(d=St(g)))}else E=l&~p,E!==0?d=St(E):g!==0&&(d=St(g));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,g=i&-i,p>=g||p===16&&(g&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)l=31-Lt(i),p=1<<l,d|=s[l],i&=~p;return d}function Ae(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cr(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,g=s.pendingLanes;0<g;){var E=31-Lt(g),A=1<<E,M=p[E];M===-1?((A&l)===0||(A&d)!==0)&&(p[E]=Ae(A,i)):M<=i&&(s.expiredLanes|=A),g&=~A}}function Kt(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function In(){var s=Se;return Se<<=1,(Se&4194240)===0&&(Se=64),s}function ki(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Pi(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Lt(i),s[i]=l}function pt(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-Lt(l),g=1<<p;i[p]=0,d[p]=-1,s[p]=-1,l&=~g}}function Ai(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-Lt(l),p=1<<d;p&i|s[d]&i&&(s[d]|=i),l&=~p}}var Ze=0;function Ni(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ku,Na,Pu,Au,Nu,rc=!1,hs=[],vn=null,$r=null,Ur=null,Di=new Map,Sr=new Map,fs=[],Ff="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Du(s,i){switch(s){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Di.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sr.delete(i.pointerId)}}function Kn(s,i,l,d,p,g){return s===null||s.nativeEvent!==g?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},i!==null&&(i=wc(i),i!==null&&Na(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function $f(s,i,l,d,p){switch(i){case"focusin":return vn=Kn(vn,s,i,l,d,p),!0;case"dragenter":return $r=Kn($r,s,i,l,d,p),!0;case"mouseover":return Ur=Kn(Ur,s,i,l,d,p),!0;case"pointerover":var g=p.pointerId;return Di.set(g,Kn(Di.get(g)||null,s,i,l,d,p)),!0;case"gotpointercapture":return g=p.pointerId,Sr.set(g,Kn(Sr.get(g)||null,s,i,l,d,p)),!0}return!1}function Ou(s){var i=jo(s.target);if(i!==null){var l=Ot(i);if(l!==null){if(i=l.tag,i===13){if(i=Wn(l),i!==null){s.blockedOn=i,Nu(s.priority,function(){Pu(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qs(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Da(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Bs=d,l.target.dispatchEvent(d),Bs=null}else return i=wc(l),i!==null&&Na(i),s.blockedOn=l,!1;i.shift()}return!0}function Oo(s,i,l){Qs(s)&&l.delete(i)}function Lu(){rc=!1,vn!==null&&Qs(vn)&&(vn=null),$r!==null&&Qs($r)&&($r=null),Ur!==null&&Qs(Ur)&&(Ur=null),Di.forEach(Oo),Sr.forEach(Oo)}function Br(s,i){s.blockedOn===i&&(s.blockedOn=null,rc||(rc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lu)))}function zr(s){function i(p){return Br(p,s)}if(0<hs.length){Br(hs[0],s);for(var l=1;l<hs.length;l++){var d=hs[l];d.blockedOn===s&&(d.blockedOn=null)}}for(vn!==null&&Br(vn,s),$r!==null&&Br($r,s),Ur!==null&&Br(Ur,s),Di.forEach(i),Sr.forEach(i),l=0;l<fs.length;l++)d=fs[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<fs.length&&(l=fs[0],l.blockedOn===null);)Ou(l),l.blockedOn===null&&fs.shift()}var Js=ee.ReactCurrentBatchConfig,Oi=!0;function It(s,i,l,d){var p=Ze,g=Js.transition;Js.transition=null;try{Ze=1,sc(s,i,l,d)}finally{Ze=p,Js.transition=g}}function Uf(s,i,l,d){var p=Ze,g=Js.transition;Js.transition=null;try{Ze=4,sc(s,i,l,d)}finally{Ze=p,Js.transition=g}}function sc(s,i,l,d){if(Oi){var p=Da(s,i,l,d);if(p===null)Xf(s,i,d,Lo,l),Du(s,d);else if($f(p,s,i,l,d))d.stopPropagation();else if(Du(s,d),i&4&&-1<Ff.indexOf(s)){for(;p!==null;){var g=wc(p);if(g!==null&&ku(g),g=Da(s,i,l,d),g===null&&Xf(s,i,d,Lo,l),g===p)break;p=g}p!==null&&d.stopPropagation()}else Xf(s,i,d,null,l)}}var Lo=null;function Da(s,i,l,d){if(Lo=null,s=zs(d),s=jo(s),s!==null)if(i=Ot(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Wn(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Lo=s,null}function ic(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jt()){case lr:return 1;case ds:return 4;case Gn:case No:return 16;case Ra:return 536870912;default:return 16}default:return 16}}var ur=null,Oa=null,Qn=null;function oc(){if(Qn)return Qn;var s,i=Oa,l=i.length,d,p="value"in ur?ur.value:ur.textContent,g=p.length;for(s=0;s<l&&i[s]===p[s];s++);var E=l-s;for(d=1;d<=E&&i[l-d]===p[g-d];d++);return Qn=p.slice(s,1<d?1-d:void 0)}function La(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function ps(){return!0}function ac(){return!1}function _n(s){function i(l,d,p,g,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(l=s[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ps:ac,this.isPropagationStopped=ac,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),i}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=_n(Hr),ms=Y({},Hr,{view:0,detail:0}),Bf=_n(ms),Va,Ys,Li,Mo=Y({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Li&&(Li&&s.type==="mousemove"?(Va=s.screenX-Li.screenX,Ys=s.screenY-Li.screenY):Ys=Va=0,Li=s),Va)},movementY:function(s){return"movementY"in s?s.movementY:Ys}}),ja=_n(Mo),lc=Y({},Mo,{dataTransfer:0}),Mu=_n(lc),Fa=Y({},ms,{relatedTarget:0}),$a=_n(Fa),Vu=Y({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xs=_n(Vu),ju=Y({},Hr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Fu=_n(ju),$u=Y({},Hr,{data:0}),cc=_n($u),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Uu[s])?!!i[s]:!1}function gs(){return Bu}var c=Y({},ms,{key:function(s){if(s.key){var i=Ua[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=La(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(s){return s.type==="keypress"?La(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?La(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),m=_n(c),_=Y({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=_n(_),B=Y({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),J=_n(B),he=Y({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=_n(he),sn=Y({},Mo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=_n(sn),dn=[9,13,27,32],Qt=h&&"CompositionEvent"in window,Ir=null;h&&"documentMode"in document&&(Ir=document.documentMode);var dr=h&&"TextEvent"in window&&!Ir,Vo=h&&(!Qt||Ir&&8<Ir&&11>=Ir),Ba=" ",ew=!1;function tw(s,i){switch(s){case"keyup":return dn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var za=!1;function nS(s,i){switch(s){case"compositionend":return nw(i);case"keypress":return i.which!==32?null:(ew=!0,Ba);case"textInput":return s=i.data,s===Ba&&ew?null:s;default:return null}}function rS(s,i){if(za)return s==="compositionend"||!Qt&&tw(s,i)?(s=oc(),Qn=Oa=ur=null,za=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vo&&i.locale!=="ko"?null:i.data;default:return null}}var sS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rw(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!sS[s.type]:i==="textarea"}function sw(s,i,l,d){br(d),i=Gu(i,"onChange"),0<i.length&&(l=new Ma("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var uc=null,dc=null;function iS(s){bw(s,0)}function zu(s){var i=Ka(s);if(vt(i))return s}function oS(s,i){if(s==="change")return i}var iw=!1;if(h){var zf;if(h){var Hf="oninput"in document;if(!Hf){var ow=document.createElement("div");ow.setAttribute("oninput","return;"),Hf=typeof ow.oninput=="function"}zf=Hf}else zf=!1;iw=zf&&(!document.documentMode||9<document.documentMode)}function aw(){uc&&(uc.detachEvent("onpropertychange",lw),dc=uc=null)}function lw(s){if(s.propertyName==="value"&&zu(dc)){var i=[];sw(i,dc,s,zs(s)),Ii(iS,i)}}function aS(s,i,l){s==="focusin"?(aw(),uc=i,dc=l,uc.attachEvent("onpropertychange",lw)):s==="focusout"&&aw()}function lS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zu(dc)}function cS(s,i){if(s==="click")return zu(i)}function uS(s,i){if(s==="input"||s==="change")return zu(i)}function dS(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var qr=typeof Object.is=="function"?Object.is:dS;function hc(s,i){if(qr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(i,p)||!qr(s[p],i[p]))return!1}return!0}function cw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function uw(s,i){var l=cw(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cw(l)}}function dw(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?dw(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function hw(){for(var s=window,i=Pe();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Pe(s.document)}return i}function qf(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function hS(s){var i=hw(),l=s.focusedElem,d=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&dw(l.ownerDocument.documentElement,l)){if(d!==null&&qf(l)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!s.extend&&g>d&&(p=d,d=g,g=p),p=uw(l,g);var E=uw(l,d);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),g>d?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var fS=h&&"documentMode"in document&&11>=document.documentMode,Ha=null,Wf=null,fc=null,Gf=!1;function fw(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Gf||Ha==null||Ha!==Pe(d)||(d=Ha,"selectionStart"in d&&qf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fc&&hc(fc,d)||(fc=d,d=Gu(Wf,"onSelect"),0<d.length&&(i=new Ma("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=Ha)))}function Hu(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var qa={animationend:Hu("Animation","AnimationEnd"),animationiteration:Hu("Animation","AnimationIteration"),animationstart:Hu("Animation","AnimationStart"),transitionend:Hu("Transition","TransitionEnd")},Kf={},pw={};h&&(pw=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function qu(s){if(Kf[s])return Kf[s];if(!qa[s])return s;var i=qa[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in pw)return Kf[s]=i[l];return s}var mw=qu("animationend"),gw=qu("animationiteration"),yw=qu("animationstart"),ww=qu("transitionend"),vw=new Map,_w="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(s,i){vw.set(s,i),a(i,[s])}for(var Qf=0;Qf<_w.length;Qf++){var Jf=_w[Qf],pS=Jf.toLowerCase(),mS=Jf[0].toUpperCase()+Jf.slice(1);Mi(pS,"on"+mS)}Mi(mw,"onAnimationEnd"),Mi(gw,"onAnimationIteration"),Mi(yw,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(ww,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gS=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function Ew(s,i,l){var d=s.type||"unknown-event";s.currentTarget=l,Po(d,i,void 0,s),s.currentTarget=null}function bw(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],p=d.event;d=d.listeners;e:{var g=void 0;if(i)for(var E=d.length-1;0<=E;E--){var A=d[E],M=A.instance,K=A.currentTarget;if(A=A.listener,M!==g&&p.isPropagationStopped())break e;Ew(p,A,K),g=M}else for(E=0;E<d.length;E++){if(A=d[E],M=A.instance,K=A.currentTarget,A=A.listener,M!==g&&p.isPropagationStopped())break e;Ew(p,A,K),g=M}}}if(Gt)throw s=wn,Gt=!1,wn=null,s}function _t(s,i){var l=i[sp];l===void 0&&(l=i[sp]=new Set);var d=s+"__bubble";l.has(d)||(Cw(i,s,2,!1),l.add(d))}function Yf(s,i,l){var d=0;i&&(d|=4),Cw(l,s,d,i)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function mc(s){if(!s[Wu]){s[Wu]=!0,r.forEach(function(l){l!=="selectionchange"&&(gS.has(l)||Yf(l,!1,s),Yf(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Wu]||(i[Wu]=!0,Yf("selectionchange",!1,i))}}function Cw(s,i,l,d){switch(ic(i)){case 1:var p=It;break;case 4:p=Uf;break;default:p=sc}l=p.bind(null,i,l,s),p=void 0,!Hs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function Xf(s,i,l,d,p){var g=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var A=d.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var M=E.tag;if((M===3||M===4)&&(M=E.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;E=E.return}for(;A!==null;){if(E=jo(A),E===null)return;if(M=E.tag,M===5||M===6){d=g=E;continue e}A=A.parentNode}}d=d.return}Ii(function(){var K=g,oe=zs(l),ae=[];e:{var ie=vw.get(s);if(ie!==void 0){var pe=Ma,ve=s;switch(s){case"keypress":if(La(l)===0)break e;case"keydown":case"keyup":pe=m;break;case"focusin":ve="focus",pe=$a;break;case"focusout":ve="blur",pe=$a;break;case"beforeblur":case"afterblur":pe=$a;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=ja;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=J;break;case mw:case gw:case yw:pe=Xs;break;case ww:pe=dt;break;case"scroll":pe=Bf;break;case"wheel":pe=tt;break;case"copy":case"cut":case"paste":pe=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=I}var _e=(i&4)!==0,Ft=!_e&&s==="scroll",H=_e?ie!==null?ie+"Capture":null:ie;_e=[];for(var F=K,q;F!==null;){q=F;var ue=q.stateNode;if(q.tag===5&&ue!==null&&(q=ue,H!==null&&(ue=Tt(F,H),ue!=null&&_e.push(gc(F,ue,q)))),Ft)break;F=F.return}0<_e.length&&(ie=new pe(ie,ve,null,l,oe),ae.push({event:ie,listeners:_e}))}}if((i&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",ie&&l!==Bs&&(ve=l.relatedTarget||l.fromElement)&&(jo(ve)||ve[Zs]))break e;if((pe||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,pe?(ve=l.relatedTarget||l.toElement,pe=K,ve=ve?jo(ve):null,ve!==null&&(Ft=Ot(ve),ve!==Ft||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=K),pe!==ve)){if(_e=ja,ue="onMouseLeave",H="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(_e=I,ue="onPointerLeave",H="onPointerEnter",F="pointer"),Ft=pe==null?ie:Ka(pe),q=ve==null?ie:Ka(ve),ie=new _e(ue,F+"leave",pe,l,oe),ie.target=Ft,ie.relatedTarget=q,ue=null,jo(oe)===K&&(_e=new _e(H,F+"enter",ve,l,oe),_e.target=q,_e.relatedTarget=Ft,ue=_e),Ft=ue,pe&&ve)t:{for(_e=pe,H=ve,F=0,q=_e;q;q=Wa(q))F++;for(q=0,ue=H;ue;ue=Wa(ue))q++;for(;0<F-q;)_e=Wa(_e),F--;for(;0<q-F;)H=Wa(H),q--;for(;F--;){if(_e===H||H!==null&&_e===H.alternate)break t;_e=Wa(_e),H=Wa(H)}_e=null}else _e=null;pe!==null&&Tw(ae,ie,pe,_e,!1),ve!==null&&Ft!==null&&Tw(ae,Ft,ve,_e,!0)}}e:{if(ie=K?Ka(K):window,pe=ie.nodeName&&ie.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ie.type==="file")var Ee=oS;else if(rw(ie))if(iw)Ee=uS;else{Ee=lS;var xe=aS}else(pe=ie.nodeName)&&pe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ee=cS);if(Ee&&(Ee=Ee(s,K))){sw(ae,Ee,l,oe);break e}xe&&xe(s,ie,K),s==="focusout"&&(xe=ie._wrapperState)&&xe.controlled&&ie.type==="number"&&ft(ie,"number",ie.value)}switch(xe=K?Ka(K):window,s){case"focusin":(rw(xe)||xe.contentEditable==="true")&&(Ha=xe,Wf=K,fc=null);break;case"focusout":fc=Wf=Ha=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,fw(ae,l,oe);break;case"selectionchange":if(fS)break;case"keydown":case"keyup":fw(ae,l,oe)}var Re;if(Qt)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else za?tw(s,l)&&(Oe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(Vo&&l.locale!=="ko"&&(za||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&za&&(Re=oc()):(ur=oe,Oa="value"in ur?ur.value:ur.textContent,za=!0)),xe=Gu(K,Oe),0<xe.length&&(Oe=new cc(Oe,s,null,l,oe),ae.push({event:Oe,listeners:xe}),Re?Oe.data=Re:(Re=nw(l),Re!==null&&(Oe.data=Re)))),(Re=dr?nS(s,l):rS(s,l))&&(K=Gu(K,"onBeforeInput"),0<K.length&&(oe=new cc("onBeforeInput","beforeinput",null,l,oe),ae.push({event:oe,listeners:K}),oe.data=Re))}bw(ae,i)})}function gc(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Gu(s,i){for(var l=i+"Capture",d=[];s!==null;){var p=s,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=Tt(s,l),g!=null&&d.unshift(gc(s,g,p)),g=Tt(s,i),g!=null&&d.push(gc(s,g,p))),s=s.return}return d}function Wa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Tw(s,i,l,d,p){for(var g=i._reactName,E=[];l!==null&&l!==d;){var A=l,M=A.alternate,K=A.stateNode;if(M!==null&&M===d)break;A.tag===5&&K!==null&&(A=K,p?(M=Tt(l,g),M!=null&&E.unshift(gc(l,M,A))):p||(M=Tt(l,g),M!=null&&E.push(gc(l,M,A)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var yS=/\r\n?/g,wS=/\u0000|\uFFFD/g;function Sw(s){return(typeof s=="string"?s:""+s).replace(yS,`
`).replace(wS,"")}function Ku(s,i,l){if(i=Sw(i),Sw(s)!==i&&l)throw Error(n(425))}function Qu(){}var Zf=null,ep=null;function tp(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var np=typeof setTimeout=="function"?setTimeout:void 0,vS=typeof clearTimeout=="function"?clearTimeout:void 0,Iw=typeof Promise=="function"?Promise:void 0,_S=typeof queueMicrotask=="function"?queueMicrotask:typeof Iw<"u"?function(s){return Iw.resolve(null).then(s).catch(ES)}:np;function ES(s){setTimeout(function(){throw s})}function rp(s,i){var l=i,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){s.removeChild(p),zr(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);zr(i)}function Vi(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function xw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var Ga=Math.random().toString(36).slice(2),ys="__reactFiber$"+Ga,yc="__reactProps$"+Ga,Zs="__reactContainer$"+Ga,sp="__reactEvents$"+Ga,bS="__reactListeners$"+Ga,CS="__reactHandles$"+Ga;function jo(s){var i=s[ys];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Zs]||l[ys]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=xw(s);s!==null;){if(l=s[ys])return l;s=xw(s)}return i}s=l,l=s.parentNode}return null}function wc(s){return s=s[ys]||s[Zs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ka(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Ju(s){return s[yc]||null}var ip=[],Qa=-1;function ji(s){return{current:s}}function Et(s){0>Qa||(s.current=ip[Qa],ip[Qa]=null,Qa--)}function gt(s,i){Qa++,ip[Qa]=s.current,s.current=i}var Fi={},xn=ji(Fi),Jn=ji(!1),Fo=Fi;function Ja(s,i){var l=s.type.contextTypes;if(!l)return Fi;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=i[g];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function Yn(s){return s=s.childContextTypes,s!=null}function Yu(){Et(Jn),Et(xn)}function Rw(s,i,l){if(xn.current!==Fi)throw Error(n(168));gt(xn,i),gt(Jn,l)}function kw(s,i,l){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,Fe(s)||"Unknown",p));return Y({},l,d)}function Xu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Fi,Fo=xn.current,gt(xn,s),gt(Jn,Jn.current),!0}function Pw(s,i,l){var d=s.stateNode;if(!d)throw Error(n(169));l?(s=kw(s,i,Fo),d.__reactInternalMemoizedMergedChildContext=s,Et(Jn),Et(xn),gt(xn,s)):Et(Jn),gt(Jn,l)}var ei=null,Zu=!1,op=!1;function Aw(s){ei===null?ei=[s]:ei.push(s)}function TS(s){Zu=!0,Aw(s)}function $i(){if(!op&&ei!==null){op=!0;var s=0,i=Ze;try{var l=ei;for(Ze=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}ei=null,Zu=!1}catch(p){throw ei!==null&&(ei=ei.slice(s+1)),Gs(lr,$i),p}finally{Ze=i,op=!1}}return null}var Ya=[],Xa=0,ed=null,td=0,xr=[],Rr=0,$o=null,ti=1,ni="";function Uo(s,i){Ya[Xa++]=td,Ya[Xa++]=ed,ed=s,td=i}function Nw(s,i,l){xr[Rr++]=ti,xr[Rr++]=ni,xr[Rr++]=$o,$o=s;var d=ti;s=ni;var p=32-Lt(d)-1;d&=~(1<<p),l+=1;var g=32-Lt(i)+p;if(30<g){var E=p-p%5;g=(d&(1<<E)-1).toString(32),d>>=E,p-=E,ti=1<<32-Lt(i)+p|l<<p|d,ni=g+s}else ti=1<<g|l<<p|d,ni=s}function ap(s){s.return!==null&&(Uo(s,1),Nw(s,1,0))}function lp(s){for(;s===ed;)ed=Ya[--Xa],Ya[Xa]=null,td=Ya[--Xa],Ya[Xa]=null;for(;s===$o;)$o=xr[--Rr],xr[Rr]=null,ni=xr[--Rr],xr[Rr]=null,ti=xr[--Rr],xr[Rr]=null}var hr=null,fr=null,xt=!1,Wr=null;function Dw(s,i){var l=Nr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Ow(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,hr=s,fr=Vi(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,hr=s,fr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=$o!==null?{id:ti,overflow:ni}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Nr(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,hr=s,fr=null,!0):!1;default:return!1}}function cp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function up(s){if(xt){var i=fr;if(i){var l=i;if(!Ow(s,i)){if(cp(s))throw Error(n(418));i=Vi(l.nextSibling);var d=hr;i&&Ow(s,i)?Dw(d,l):(s.flags=s.flags&-4097|2,xt=!1,hr=s)}}else{if(cp(s))throw Error(n(418));s.flags=s.flags&-4097|2,xt=!1,hr=s}}}function Lw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;hr=s}function nd(s){if(s!==hr)return!1;if(!xt)return Lw(s),xt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!tp(s.type,s.memoizedProps)),i&&(i=fr)){if(cp(s))throw Mw(),Error(n(418));for(;i;)Dw(s,i),i=Vi(i.nextSibling)}if(Lw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){fr=Vi(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}fr=null}}else fr=hr?Vi(s.stateNode.nextSibling):null;return!0}function Mw(){for(var s=fr;s;)s=Vi(s.nextSibling)}function Za(){fr=hr=null,xt=!1}function dp(s){Wr===null?Wr=[s]:Wr.push(s)}var SS=ee.ReactCurrentBatchConfig;function vc(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,s));var p=d,g=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(E){var A=p.refs;E===null?delete A[g]:A[g]=E},i._stringRef=g,i)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function rd(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Vw(s){var i=s._init;return i(s._payload)}function jw(s){function i(H,F){if(s){var q=H.deletions;q===null?(H.deletions=[F],H.flags|=16):q.push(F)}}function l(H,F){if(!s)return null;for(;F!==null;)i(H,F),F=F.sibling;return null}function d(H,F){for(H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function p(H,F){return H=Ki(H,F),H.index=0,H.sibling=null,H}function g(H,F,q){return H.index=q,s?(q=H.alternate,q!==null?(q=q.index,q<F?(H.flags|=2,F):q):(H.flags|=2,F)):(H.flags|=1048576,F)}function E(H){return s&&H.alternate===null&&(H.flags|=2),H}function A(H,F,q,ue){return F===null||F.tag!==6?(F=nm(q,H.mode,ue),F.return=H,F):(F=p(F,q),F.return=H,F)}function M(H,F,q,ue){var Ee=q.type;return Ee===P?oe(H,F,q.props.children,ue,q.key):F!==null&&(F.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Ke&&Vw(Ee)===F.type)?(ue=p(F,q.props),ue.ref=vc(H,F,q),ue.return=H,ue):(ue=xd(q.type,q.key,q.props,null,H.mode,ue),ue.ref=vc(H,F,q),ue.return=H,ue)}function K(H,F,q,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=rm(q,H.mode,ue),F.return=H,F):(F=p(F,q.children||[]),F.return=H,F)}function oe(H,F,q,ue,Ee){return F===null||F.tag!==7?(F=Qo(q,H.mode,ue,Ee),F.return=H,F):(F=p(F,q),F.return=H,F)}function ae(H,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=nm(""+F,H.mode,q),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case de:return q=xd(F.type,F.key,F.props,null,H.mode,q),q.ref=vc(H,null,F),q.return=H,q;case re:return F=rm(F,H.mode,q),F.return=H,F;case Ke:var ue=F._init;return ae(H,ue(F._payload),q)}if(Qe(F)||W(F))return F=Qo(F,H.mode,q,null),F.return=H,F;rd(H,F)}return null}function ie(H,F,q,ue){var Ee=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ee!==null?null:A(H,F,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case de:return q.key===Ee?M(H,F,q,ue):null;case re:return q.key===Ee?K(H,F,q,ue):null;case Ke:return Ee=q._init,ie(H,F,Ee(q._payload),ue)}if(Qe(q)||W(q))return Ee!==null?null:oe(H,F,q,ue,null);rd(H,q)}return null}function pe(H,F,q,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return H=H.get(q)||null,A(F,H,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case de:return H=H.get(ue.key===null?q:ue.key)||null,M(F,H,ue,Ee);case re:return H=H.get(ue.key===null?q:ue.key)||null,K(F,H,ue,Ee);case Ke:var xe=ue._init;return pe(H,F,q,xe(ue._payload),Ee)}if(Qe(ue)||W(ue))return H=H.get(q)||null,oe(F,H,ue,Ee,null);rd(F,ue)}return null}function ve(H,F,q,ue){for(var Ee=null,xe=null,Re=F,Oe=F=0,pn=null;Re!==null&&Oe<q.length;Oe++){Re.index>Oe?(pn=Re,Re=null):pn=Re.sibling;var st=ie(H,Re,q[Oe],ue);if(st===null){Re===null&&(Re=pn);break}s&&Re&&st.alternate===null&&i(H,Re),F=g(st,F,Oe),xe===null?Ee=st:xe.sibling=st,xe=st,Re=pn}if(Oe===q.length)return l(H,Re),xt&&Uo(H,Oe),Ee;if(Re===null){for(;Oe<q.length;Oe++)Re=ae(H,q[Oe],ue),Re!==null&&(F=g(Re,F,Oe),xe===null?Ee=Re:xe.sibling=Re,xe=Re);return xt&&Uo(H,Oe),Ee}for(Re=d(H,Re);Oe<q.length;Oe++)pn=pe(Re,H,Oe,q[Oe],ue),pn!==null&&(s&&pn.alternate!==null&&Re.delete(pn.key===null?Oe:pn.key),F=g(pn,F,Oe),xe===null?Ee=pn:xe.sibling=pn,xe=pn);return s&&Re.forEach(function(Qi){return i(H,Qi)}),xt&&Uo(H,Oe),Ee}function _e(H,F,q,ue){var Ee=W(q);if(typeof Ee!="function")throw Error(n(150));if(q=Ee.call(q),q==null)throw Error(n(151));for(var xe=Ee=null,Re=F,Oe=F=0,pn=null,st=q.next();Re!==null&&!st.done;Oe++,st=q.next()){Re.index>Oe?(pn=Re,Re=null):pn=Re.sibling;var Qi=ie(H,Re,st.value,ue);if(Qi===null){Re===null&&(Re=pn);break}s&&Re&&Qi.alternate===null&&i(H,Re),F=g(Qi,F,Oe),xe===null?Ee=Qi:xe.sibling=Qi,xe=Qi,Re=pn}if(st.done)return l(H,Re),xt&&Uo(H,Oe),Ee;if(Re===null){for(;!st.done;Oe++,st=q.next())st=ae(H,st.value,ue),st!==null&&(F=g(st,F,Oe),xe===null?Ee=st:xe.sibling=st,xe=st);return xt&&Uo(H,Oe),Ee}for(Re=d(H,Re);!st.done;Oe++,st=q.next())st=pe(Re,H,Oe,st.value,ue),st!==null&&(s&&st.alternate!==null&&Re.delete(st.key===null?Oe:st.key),F=g(st,F,Oe),xe===null?Ee=st:xe.sibling=st,xe=st);return s&&Re.forEach(function(sI){return i(H,sI)}),xt&&Uo(H,Oe),Ee}function Ft(H,F,q,ue){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case de:e:{for(var Ee=q.key,xe=F;xe!==null;){if(xe.key===Ee){if(Ee=q.type,Ee===P){if(xe.tag===7){l(H,xe.sibling),F=p(xe,q.props.children),F.return=H,H=F;break e}}else if(xe.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Ke&&Vw(Ee)===xe.type){l(H,xe.sibling),F=p(xe,q.props),F.ref=vc(H,xe,q),F.return=H,H=F;break e}l(H,xe);break}else i(H,xe);xe=xe.sibling}q.type===P?(F=Qo(q.props.children,H.mode,ue,q.key),F.return=H,H=F):(ue=xd(q.type,q.key,q.props,null,H.mode,ue),ue.ref=vc(H,F,q),ue.return=H,H=ue)}return E(H);case re:e:{for(xe=q.key;F!==null;){if(F.key===xe)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){l(H,F.sibling),F=p(F,q.children||[]),F.return=H,H=F;break e}else{l(H,F);break}else i(H,F);F=F.sibling}F=rm(q,H.mode,ue),F.return=H,H=F}return E(H);case Ke:return xe=q._init,Ft(H,F,xe(q._payload),ue)}if(Qe(q))return ve(H,F,q,ue);if(W(q))return _e(H,F,q,ue);rd(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,F!==null&&F.tag===6?(l(H,F.sibling),F=p(F,q),F.return=H,H=F):(l(H,F),F=nm(q,H.mode,ue),F.return=H,H=F),E(H)):l(H,F)}return Ft}var el=jw(!0),Fw=jw(!1),sd=ji(null),id=null,tl=null,hp=null;function fp(){hp=tl=id=null}function pp(s){var i=sd.current;Et(sd),s._currentValue=i}function mp(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function nl(s,i){id=s,hp=tl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Xn=!0),s.firstContext=null)}function kr(s){var i=s._currentValue;if(hp!==s)if(s={context:s,memoizedValue:i,next:null},tl===null){if(id===null)throw Error(n(308));tl=s,id.dependencies={lanes:0,firstContext:s}}else tl=tl.next=s;return i}var Bo=null;function gp(s){Bo===null?Bo=[s]:Bo.push(s)}function $w(s,i,l,d){var p=i.interleaved;return p===null?(l.next=l,gp(i)):(l.next=p.next,p.next=l),i.interleaved=l,ri(s,d)}function ri(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Ui=!1;function yp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uw(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function si(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Bi(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(rt&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,ri(s,l)}return p=d.interleaved,p===null?(i.next=i,gp(d)):(i.next=p.next,p.next=i),d.interleaved=i,ri(s,l)}function od(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Ai(s,l)}}function Bw(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?p=g=i:g=g.next=i}else p=g=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function ad(s,i,l,d){var p=s.updateQueue;Ui=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var M=A,K=M.next;M.next=null,E===null?g=K:E.next=K,E=M;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,A=oe.lastBaseUpdate,A!==E&&(A===null?oe.firstBaseUpdate=K:A.next=K,oe.lastBaseUpdate=M))}if(g!==null){var ae=p.baseState;E=0,oe=K=M=null,A=g;do{var ie=A.lane,pe=A.eventTime;if((d&ie)===ie){oe!==null&&(oe=oe.next={eventTime:pe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ve=s,_e=A;switch(ie=i,pe=l,_e.tag){case 1:if(ve=_e.payload,typeof ve=="function"){ae=ve.call(pe,ae,ie);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=_e.payload,ie=typeof ve=="function"?ve.call(pe,ae,ie):ve,ie==null)break e;ae=Y({},ae,ie);break e;case 2:Ui=!0}}A.callback!==null&&A.lane!==0&&(s.flags|=64,ie=p.effects,ie===null?p.effects=[A]:ie.push(A))}else pe={eventTime:pe,lane:ie,tag:A.tag,payload:A.payload,callback:A.callback,next:null},oe===null?(K=oe=pe,M=ae):oe=oe.next=pe,E|=ie;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;ie=A,A=ie.next,ie.next=null,p.lastBaseUpdate=ie,p.shared.pending=null}}while(!0);if(oe===null&&(M=ae),p.baseState=M,p.firstBaseUpdate=K,p.lastBaseUpdate=oe,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else g===null&&(p.shared.lanes=0);qo|=E,s.lanes=E,s.memoizedState=ae}}function zw(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var _c={},ws=ji(_c),Ec=ji(_c),bc=ji(_c);function zo(s){if(s===_c)throw Error(n(174));return s}function wp(s,i){switch(gt(bc,i),gt(Ec,s),gt(ws,_c),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Dt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Dt(i,s)}Et(ws),gt(ws,i)}function rl(){Et(ws),Et(Ec),Et(bc)}function Hw(s){zo(bc.current);var i=zo(ws.current),l=Dt(i,s.type);i!==l&&(gt(Ec,s),gt(ws,l))}function vp(s){Ec.current===s&&(Et(ws),Et(Ec))}var Pt=ji(0);function ld(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var _p=[];function Ep(){for(var s=0;s<_p.length;s++)_p[s]._workInProgressVersionPrimary=null;_p.length=0}var cd=ee.ReactCurrentDispatcher,bp=ee.ReactCurrentBatchConfig,Ho=0,At=null,on=null,hn=null,ud=!1,Cc=!1,Tc=0,IS=0;function Rn(){throw Error(n(321))}function Cp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!qr(s[l],i[l]))return!1;return!0}function Tp(s,i,l,d,p,g){if(Ho=g,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,cd.current=s===null||s.memoizedState===null?PS:AS,s=l(d,p),Cc){g=0;do{if(Cc=!1,Tc=0,25<=g)throw Error(n(301));g+=1,hn=on=null,i.updateQueue=null,cd.current=NS,s=l(d,p)}while(Cc)}if(cd.current=fd,i=on!==null&&on.next!==null,Ho=0,hn=on=At=null,ud=!1,i)throw Error(n(300));return s}function Sp(){var s=Tc!==0;return Tc=0,s}function vs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?At.memoizedState=hn=s:hn=hn.next=s,hn}function Pr(){if(on===null){var s=At.alternate;s=s!==null?s.memoizedState:null}else s=on.next;var i=hn===null?At.memoizedState:hn.next;if(i!==null)hn=i,on=s;else{if(s===null)throw Error(n(310));on=s,s={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?At.memoizedState=hn=s:hn=hn.next=s}return hn}function Sc(s,i){return typeof i=="function"?i(s):i}function Ip(s){var i=Pr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=on,p=d.baseQueue,g=l.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}d.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,d=d.baseState;var A=E=null,M=null,K=g;do{var oe=K.lane;if((Ho&oe)===oe)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:s(d,K.action);else{var ae={lane:oe,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(A=M=ae,E=d):M=M.next=ae,At.lanes|=oe,qo|=oe}K=K.next}while(K!==null&&K!==g);M===null?E=d:M.next=A,qr(d,i.memoizedState)||(Xn=!0),i.memoizedState=d,i.baseState=E,i.baseQueue=M,l.lastRenderedState=d}if(s=l.interleaved,s!==null){p=s;do g=p.lane,At.lanes|=g,qo|=g,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function xp(s){var i=Pr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=l.dispatch,p=l.pending,g=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do g=s(g,E.action),E=E.next;while(E!==p);qr(g,i.memoizedState)||(Xn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,d]}function qw(){}function Ww(s,i){var l=At,d=Pr(),p=i(),g=!qr(d.memoizedState,p);if(g&&(d.memoizedState=p,Xn=!0),d=d.queue,Rp(Qw.bind(null,l,d,s),[s]),d.getSnapshot!==i||g||hn!==null&&hn.memoizedState.tag&1){if(l.flags|=2048,Ic(9,Kw.bind(null,l,d,p,i),void 0,null),fn===null)throw Error(n(349));(Ho&30)!==0||Gw(l,i,p)}return p}function Gw(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=At.updateQueue,i===null?(i={lastEffect:null,stores:null},At.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Kw(s,i,l,d){i.value=l,i.getSnapshot=d,Jw(i)&&Yw(s)}function Qw(s,i,l){return l(function(){Jw(i)&&Yw(s)})}function Jw(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!qr(s,l)}catch{return!0}}function Yw(s){var i=ri(s,1);i!==null&&Jr(i,s,1,-1)}function Xw(s){var i=vs();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:s},i.queue=s,s=s.dispatch=kS.bind(null,At,s),[i.memoizedState,s]}function Ic(s,i,l,d){return s={tag:s,create:i,destroy:l,deps:d,next:null},i=At.updateQueue,i===null?(i={lastEffect:null,stores:null},At.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s)),s}function Zw(){return Pr().memoizedState}function dd(s,i,l,d){var p=vs();At.flags|=s,p.memoizedState=Ic(1|i,l,void 0,d===void 0?null:d)}function hd(s,i,l,d){var p=Pr();d=d===void 0?null:d;var g=void 0;if(on!==null){var E=on.memoizedState;if(g=E.destroy,d!==null&&Cp(d,E.deps)){p.memoizedState=Ic(i,l,g,d);return}}At.flags|=s,p.memoizedState=Ic(1|i,l,g,d)}function ev(s,i){return dd(8390656,8,s,i)}function Rp(s,i){return hd(2048,8,s,i)}function tv(s,i){return hd(4,2,s,i)}function nv(s,i){return hd(4,4,s,i)}function rv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function sv(s,i,l){return l=l!=null?l.concat([s]):null,hd(4,4,rv.bind(null,i,s),l)}function kp(){}function iv(s,i){var l=Pr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Cp(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function ov(s,i){var l=Pr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Cp(i,d[1])?d[0]:(s=s(),l.memoizedState=[s,i],s)}function av(s,i,l){return(Ho&21)===0?(s.baseState&&(s.baseState=!1,Xn=!0),s.memoizedState=l):(qr(l,i)||(l=In(),At.lanes|=l,qo|=l,s.baseState=!0),i)}function xS(s,i){var l=Ze;Ze=l!==0&&4>l?l:4,s(!0);var d=bp.transition;bp.transition={};try{s(!1),i()}finally{Ze=l,bp.transition=d}}function lv(){return Pr().memoizedState}function RS(s,i,l){var d=Wi(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},cv(s))uv(i,l);else if(l=$w(s,i,l,d),l!==null){var p=Un();Jr(l,s,d,p),dv(l,i,d)}}function kS(s,i,l){var d=Wi(s),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(cv(s))uv(i,p);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,A=g(E,l);if(p.hasEagerState=!0,p.eagerState=A,qr(A,E)){var M=i.interleaved;M===null?(p.next=p,gp(i)):(p.next=M.next,M.next=p),i.interleaved=p;return}}catch{}finally{}l=$w(s,i,p,d),l!==null&&(p=Un(),Jr(l,s,d,p),dv(l,i,d))}}function cv(s){var i=s.alternate;return s===At||i!==null&&i===At}function uv(s,i){Cc=ud=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function dv(s,i,l){if((l&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Ai(s,l)}}var fd={readContext:kr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},PS={readContext:kr,useCallback:function(s,i){return vs().memoizedState=[s,i===void 0?null:i],s},useContext:kr,useEffect:ev,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,dd(4194308,4,rv.bind(null,i,s),l)},useLayoutEffect:function(s,i){return dd(4194308,4,s,i)},useInsertionEffect:function(s,i){return dd(4,2,s,i)},useMemo:function(s,i){var l=vs();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var d=vs();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=RS.bind(null,At,s),[d.memoizedState,s]},useRef:function(s){var i=vs();return s={current:s},i.memoizedState=s},useState:Xw,useDebugValue:kp,useDeferredValue:function(s){return vs().memoizedState=s},useTransition:function(){var s=Xw(!1),i=s[0];return s=xS.bind(null,s[1]),vs().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var d=At,p=vs();if(xt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),fn===null)throw Error(n(349));(Ho&30)!==0||Gw(d,i,l)}p.memoizedState=l;var g={value:l,getSnapshot:i};return p.queue=g,ev(Qw.bind(null,d,g,s),[s]),d.flags|=2048,Ic(9,Kw.bind(null,d,g,l,i),void 0,null),l},useId:function(){var s=vs(),i=fn.identifierPrefix;if(xt){var l=ni,d=ti;l=(d&~(1<<32-Lt(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Tc++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=IS++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},AS={readContext:kr,useCallback:iv,useContext:kr,useEffect:Rp,useImperativeHandle:sv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:ov,useReducer:Ip,useRef:Zw,useState:function(){return Ip(Sc)},useDebugValue:kp,useDeferredValue:function(s){var i=Pr();return av(i,on.memoizedState,s)},useTransition:function(){var s=Ip(Sc)[0],i=Pr().memoizedState;return[s,i]},useMutableSource:qw,useSyncExternalStore:Ww,useId:lv,unstable_isNewReconciler:!1},NS={readContext:kr,useCallback:iv,useContext:kr,useEffect:Rp,useImperativeHandle:sv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:ov,useReducer:xp,useRef:Zw,useState:function(){return xp(Sc)},useDebugValue:kp,useDeferredValue:function(s){var i=Pr();return on===null?i.memoizedState=s:av(i,on.memoizedState,s)},useTransition:function(){var s=xp(Sc)[0],i=Pr().memoizedState;return[s,i]},useMutableSource:qw,useSyncExternalStore:Ww,useId:lv,unstable_isNewReconciler:!1};function Gr(s,i){if(s&&s.defaultProps){i=Y({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function Pp(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:Y({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var pd={isMounted:function(s){return(s=s._reactInternals)?Ot(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var d=Un(),p=Wi(s),g=si(d,p);g.payload=i,l!=null&&(g.callback=l),i=Bi(s,g,p),i!==null&&(Jr(i,s,p,d),od(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=Un(),p=Wi(s),g=si(d,p);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=Bi(s,g,p),i!==null&&(Jr(i,s,p,d),od(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Un(),d=Wi(s),p=si(l,d);p.tag=2,i!=null&&(p.callback=i),i=Bi(s,p,d),i!==null&&(Jr(i,s,d,l),od(i,s,d))}};function hv(s,i,l,d,p,g,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,g,E):i.prototype&&i.prototype.isPureReactComponent?!hc(l,d)||!hc(p,g):!0}function fv(s,i,l){var d=!1,p=Fi,g=i.contextType;return typeof g=="object"&&g!==null?g=kr(g):(p=Yn(i)?Fo:xn.current,d=i.contextTypes,g=(d=d!=null)?Ja(s,p):Fi),i=new i(l,g),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=pd,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=g),i}function pv(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&pd.enqueueReplaceState(i,i.state,null)}function Ap(s,i,l,d){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},yp(s);var g=i.contextType;typeof g=="object"&&g!==null?p.context=kr(g):(g=Yn(i)?Fo:xn.current,p.context=Ja(s,g)),p.state=s.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Pp(s,i,g,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&pd.enqueueReplaceState(p,p.state,null),ad(s,l,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function sl(s,i){try{var l="",d=i;do l+=ye(d),d=d.return;while(d);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:s,source:i,stack:p,digest:null}}function Np(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Dp(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var DS=typeof WeakMap=="function"?WeakMap:Map;function mv(s,i,l){l=si(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Ed||(Ed=!0,Kp=d),Dp(s,i)},l}function gv(s,i,l){l=si(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){Dp(s,i)}}var g=s.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Dp(s,i),typeof d!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function yv(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new DS;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),s=GS.bind(null,s,i,l),i.then(s,s))}function wv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function vv(s,i,l,d,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=si(-1,1),i.tag=2,Bi(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var OS=ee.ReactCurrentOwner,Xn=!1;function $n(s,i,l,d){i.child=s===null?Fw(i,null,l,d):el(i,s.child,l,d)}function _v(s,i,l,d,p){l=l.render;var g=i.ref;return nl(i,p),d=Tp(s,i,l,d,g,p),l=Sp(),s!==null&&!Xn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ii(s,i,p)):(xt&&l&&ap(i),i.flags|=1,$n(s,i,d,p),i.child)}function Ev(s,i,l,d,p){if(s===null){var g=l.type;return typeof g=="function"&&!tm(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=g,bv(s,i,g,d,p)):(s=xd(l.type,null,d,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(g=s.child,(s.lanes&p)===0){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:hc,l(E,d)&&s.ref===i.ref)return ii(s,i,p)}return i.flags|=1,s=Ki(g,d),s.ref=i.ref,s.return=i,i.child=s}function bv(s,i,l,d,p){if(s!==null){var g=s.memoizedProps;if(hc(g,d)&&s.ref===i.ref)if(Xn=!1,i.pendingProps=d=g,(s.lanes&p)!==0)(s.flags&131072)!==0&&(Xn=!0);else return i.lanes=s.lanes,ii(s,i,p)}return Op(s,i,l,d,p)}function Cv(s,i,l){var d=i.pendingProps,p=d.children,g=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(ol,pr),pr|=l;else{if((l&1073741824)===0)return s=g!==null?g.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,gt(ol,pr),pr|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,gt(ol,pr),pr|=d}else g!==null?(d=g.baseLanes|l,i.memoizedState=null):d=l,gt(ol,pr),pr|=d;return $n(s,i,p,l),i.child}function Tv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Op(s,i,l,d,p){var g=Yn(l)?Fo:xn.current;return g=Ja(i,g),nl(i,p),l=Tp(s,i,l,d,g,p),d=Sp(),s!==null&&!Xn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ii(s,i,p)):(xt&&d&&ap(i),i.flags|=1,$n(s,i,l,p),i.child)}function Sv(s,i,l,d,p){if(Yn(l)){var g=!0;Xu(i)}else g=!1;if(nl(i,p),i.stateNode===null)gd(s,i),fv(i,l,d),Ap(i,l,d,p),d=!0;else if(s===null){var E=i.stateNode,A=i.memoizedProps;E.props=A;var M=E.context,K=l.contextType;typeof K=="object"&&K!==null?K=kr(K):(K=Yn(l)?Fo:xn.current,K=Ja(i,K));var oe=l.getDerivedStateFromProps,ae=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function";ae||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==d||M!==K)&&pv(i,E,d,K),Ui=!1;var ie=i.memoizedState;E.state=ie,ad(i,d,E,p),M=i.memoizedState,A!==d||ie!==M||Jn.current||Ui?(typeof oe=="function"&&(Pp(i,l,oe,d),M=i.memoizedState),(A=Ui||hv(i,l,A,d,ie,M,K))?(ae||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=M),E.props=d,E.state=M,E.context=K,d=A):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{E=i.stateNode,Uw(s,i),A=i.memoizedProps,K=i.type===i.elementType?A:Gr(i.type,A),E.props=K,ae=i.pendingProps,ie=E.context,M=l.contextType,typeof M=="object"&&M!==null?M=kr(M):(M=Yn(l)?Fo:xn.current,M=Ja(i,M));var pe=l.getDerivedStateFromProps;(oe=typeof pe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==ae||ie!==M)&&pv(i,E,d,M),Ui=!1,ie=i.memoizedState,E.state=ie,ad(i,d,E,p);var ve=i.memoizedState;A!==ae||ie!==ve||Jn.current||Ui?(typeof pe=="function"&&(Pp(i,l,pe,d),ve=i.memoizedState),(K=Ui||hv(i,l,K,d,ie,ve,M)||!1)?(oe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,ve,M),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,ve,M)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===s.memoizedProps&&ie===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ie===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ve),E.props=d,E.state=ve,E.context=M,d=K):(typeof E.componentDidUpdate!="function"||A===s.memoizedProps&&ie===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ie===s.memoizedState||(i.flags|=1024),d=!1)}return Lp(s,i,l,d,g,p)}function Lp(s,i,l,d,p,g){Tv(s,i);var E=(i.flags&128)!==0;if(!d&&!E)return p&&Pw(i,l,!1),ii(s,i,g);d=i.stateNode,OS.current=i;var A=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&E?(i.child=el(i,s.child,null,g),i.child=el(i,null,A,g)):$n(s,i,A,g),i.memoizedState=d.state,p&&Pw(i,l,!0),i.child}function Iv(s){var i=s.stateNode;i.pendingContext?Rw(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Rw(s,i.context,!1),wp(s,i.containerInfo)}function xv(s,i,l,d,p){return Za(),dp(p),i.flags|=256,$n(s,i,l,d),i.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function Vp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Rv(s,i,l){var d=i.pendingProps,p=Pt.current,g=!1,E=(i.flags&128)!==0,A;if((A=E)||(A=s!==null&&s.memoizedState===null?!1:(p&2)!==0),A?(g=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),gt(Pt,p&1),s===null)return up(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=d.children,s=d.fallback,g?(d=i.mode,g=i.child,E={mode:"hidden",children:E},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Rd(E,d,0,null),s=Qo(s,d,l,null),g.return=i,s.return=i,g.sibling=s,i.child=g,i.child.memoizedState=Vp(l),i.memoizedState=Mp,s):jp(i,E));if(p=s.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return LS(s,i,E,d,A,p,l);if(g){g=d.fallback,E=i.mode,p=s.child,A=p.sibling;var M={mode:"hidden",children:d.children};return(E&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=M,i.deletions=null):(d=Ki(p,M),d.subtreeFlags=p.subtreeFlags&14680064),A!==null?g=Ki(A,g):(g=Qo(g,E,l,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,E=s.child.memoizedState,E=E===null?Vp(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=s.childLanes&~l,i.memoizedState=Mp,d}return g=s.child,s=g.sibling,d=Ki(g,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=d,i.memoizedState=null,d}function jp(s,i){return i=Rd({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function md(s,i,l,d){return d!==null&&dp(d),el(i,s.child,null,l),s=jp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function LS(s,i,l,d,p,g,E){if(l)return i.flags&256?(i.flags&=-257,d=Np(Error(n(422))),md(s,i,E,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(g=d.fallback,p=i.mode,d=Rd({mode:"visible",children:d.children},p,0,null),g=Qo(g,p,E,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,(i.mode&1)!==0&&el(i,s.child,null,E),i.child.memoizedState=Vp(E),i.memoizedState=Mp,g);if((i.mode&1)===0)return md(s,i,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var A=d.dgst;return d=A,g=Error(n(419)),d=Np(g,d,void 0),md(s,i,E,d)}if(A=(E&s.childLanes)!==0,Xn||A){if(d=fn,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,ri(s,p),Jr(d,s,p,-1))}return em(),d=Np(Error(n(421))),md(s,i,E,d)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=KS.bind(null,s),p._reactRetry=i,null):(s=g.treeContext,fr=Vi(p.nextSibling),hr=i,xt=!0,Wr=null,s!==null&&(xr[Rr++]=ti,xr[Rr++]=ni,xr[Rr++]=$o,ti=s.id,ni=s.overflow,$o=i),i=jp(i,d.children),i.flags|=4096,i)}function kv(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),mp(s.return,i,l)}function Fp(s,i,l,d,p){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=p)}function Pv(s,i,l){var d=i.pendingProps,p=d.revealOrder,g=d.tail;if($n(s,i,d.children,l),d=Pt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&kv(s,l,i);else if(s.tag===19)kv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(gt(Pt,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&ld(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Fp(i,!1,p,l,g);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&ld(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Fp(i,!0,l,null,g);break;case"together":Fp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function gd(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function ii(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),qo|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,l=Ki(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Ki(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function MS(s,i,l){switch(i.tag){case 3:Iv(i),Za();break;case 5:Hw(i);break;case 1:Yn(i.type)&&Xu(i);break;case 4:wp(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;gt(sd,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(gt(Pt,Pt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Rv(s,i,l):(gt(Pt,Pt.current&1),s=ii(s,i,l),s!==null?s.sibling:null);gt(Pt,Pt.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(s.flags&128)!==0){if(d)return Pv(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),gt(Pt,Pt.current),d)break;return null;case 22:case 23:return i.lanes=0,Cv(s,i,l)}return ii(s,i,l)}var Av,$p,Nv,Dv;Av=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},$p=function(){},Nv=function(s,i,l,d){var p=s.memoizedProps;if(p!==d){s=i.stateNode,zo(ws.current);var g=null;switch(l){case"input":p=Ie(s,p),d=Ie(s,d),g=[];break;case"select":p=Y({},p,{value:void 0}),d=Y({},d,{value:void 0}),g=[];break;case"textarea":p=bi(s,p),d=bi(s,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Qu)}Io(l,d);var E;l=null;for(K in p)if(!d.hasOwnProperty(K)&&p.hasOwnProperty(K)&&p[K]!=null)if(K==="style"){var A=p[K];for(E in A)A.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in d){var M=d[K];if(A=p?.[K],d.hasOwnProperty(K)&&M!==A&&(M!=null||A!=null))if(K==="style")if(A){for(E in A)!A.hasOwnProperty(E)||M&&M.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in M)M.hasOwnProperty(E)&&A[E]!==M[E]&&(l||(l={}),l[E]=M[E])}else l||(g||(g=[]),g.push(K,l)),l=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,A=A?A.__html:void 0,M!=null&&A!==M&&(g=g||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(g=g||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&_t("scroll",s),g||A===M||(g=[])):(g=g||[]).push(K,M))}l&&(g=g||[]).push("style",l);var K=g;(i.updateQueue=K)&&(i.flags|=4)}},Dv=function(s,i,l,d){l!==d&&(i.flags|=4)};function xc(s,i){if(!xt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function kn(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function VS(s,i,l){var d=i.pendingProps;switch(lp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(i),null;case 1:return Yn(i.type)&&Yu(),kn(i),null;case 3:return d=i.stateNode,rl(),Et(Jn),Et(xn),Ep(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(nd(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wr!==null&&(Yp(Wr),Wr=null))),$p(s,i),kn(i),null;case 5:vp(i);var p=zo(bc.current);if(l=i.type,s!==null&&i.stateNode!=null)Nv(s,i,l,d,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return kn(i),null}if(s=zo(ws.current),nd(i)){d=i.stateNode,l=i.type;var g=i.memoizedProps;switch(d[ys]=i,d[yc]=g,s=(i.mode&1)!==0,l){case"dialog":_t("cancel",d),_t("close",d);break;case"iframe":case"object":case"embed":_t("load",d);break;case"video":case"audio":for(p=0;p<pc.length;p++)_t(pc[p],d);break;case"source":_t("error",d);break;case"img":case"image":case"link":_t("error",d),_t("load",d);break;case"details":_t("toggle",d);break;case"input":Ve(d,g),_t("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},_t("invalid",d);break;case"textarea":$s(d,g),_t("invalid",d)}Io(l,g),p=null;for(var E in g)if(g.hasOwnProperty(E)){var A=g[E];E==="children"?typeof A=="string"?d.textContent!==A&&(g.suppressHydrationWarning!==!0&&Ku(d.textContent,A,s),p=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&Ku(d.textContent,A,s),p=["children",""+A]):o.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&_t("scroll",d)}switch(l){case"input":mt(d),Te(d,g,!0);break;case"textarea":mt(d),bo(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Qu)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Vt(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=E.createElement(l,{is:d.is}):(s=E.createElement(l),l==="select"&&(E=s,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):s=E.createElementNS(s,l),s[ys]=i,s[yc]=d,Av(s,i,!1,!1),i.stateNode=s;e:{switch(E=xo(l,d),l){case"dialog":_t("cancel",s),_t("close",s),p=d;break;case"iframe":case"object":case"embed":_t("load",s),p=d;break;case"video":case"audio":for(p=0;p<pc.length;p++)_t(pc[p],s);p=d;break;case"source":_t("error",s),p=d;break;case"img":case"image":case"link":_t("error",s),_t("load",s),p=d;break;case"details":_t("toggle",s),p=d;break;case"input":Ve(s,d),p=Ie(s,d),_t("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=Y({},d,{value:void 0}),_t("invalid",s);break;case"textarea":$s(s,d),p=bi(s,d),_t("invalid",s);break;default:p=d}Io(l,p),A=p;for(g in A)if(A.hasOwnProperty(g)){var M=A[g];g==="style"?So(s,M):g==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Co(s,M)):g==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&os(s,M):typeof M=="number"&&os(s,""+M):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?M!=null&&g==="onScroll"&&_t("scroll",s):M!=null&&Q(s,g,M,E))}switch(l){case"input":mt(s),Te(s,d,!1);break;case"textarea":mt(s),bo(s);break;case"option":d.value!=null&&s.setAttribute("value",""+$e(d.value));break;case"select":s.multiple=!!d.multiple,g=d.value,g!=null?Wt(s,!!d.multiple,g,!1):d.defaultValue!=null&&Wt(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Qu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return kn(i),null;case 6:if(s&&i.stateNode!=null)Dv(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=zo(bc.current),zo(ws.current),nd(i)){if(d=i.stateNode,l=i.memoizedProps,d[ys]=i,(g=d.nodeValue!==l)&&(s=hr,s!==null))switch(s.tag){case 3:Ku(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ku(d.nodeValue,l,(s.mode&1)!==0)}g&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[ys]=i,i.stateNode=d}return kn(i),null;case 13:if(Et(Pt),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(xt&&fr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Mw(),Za(),i.flags|=98560,g=!1;else if(g=nd(i),d!==null&&d.dehydrated!==null){if(s===null){if(!g)throw Error(n(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[ys]=i}else Za(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kn(i),g=!1}else Wr!==null&&(Yp(Wr),Wr=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Pt.current&1)!==0?an===0&&(an=3):em())),i.updateQueue!==null&&(i.flags|=4),kn(i),null);case 4:return rl(),$p(s,i),s===null&&mc(i.stateNode.containerInfo),kn(i),null;case 10:return pp(i.type._context),kn(i),null;case 17:return Yn(i.type)&&Yu(),kn(i),null;case 19:if(Et(Pt),g=i.memoizedState,g===null)return kn(i),null;if(d=(i.flags&128)!==0,E=g.rendering,E===null)if(d)xc(g,!1);else{if(an!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=ld(s),E!==null){for(i.flags|=128,xc(g,!1),d=E.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)g=l,s=d,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=s,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,s=E.dependencies,g.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return gt(Pt,Pt.current&1|2),i.child}s=s.sibling}g.tail!==null&&ht()>al&&(i.flags|=128,d=!0,xc(g,!1),i.lanes=4194304)}else{if(!d)if(s=ld(E),s!==null){if(i.flags|=128,d=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),xc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!xt)return kn(i),null}else 2*ht()-g.renderingStartTime>al&&l!==1073741824&&(i.flags|=128,d=!0,xc(g,!1),i.lanes=4194304);g.isBackwards?(E.sibling=i.child,i.child=E):(l=g.last,l!==null?l.sibling=E:i.child=E,g.last=E)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=ht(),i.sibling=null,l=Pt.current,gt(Pt,d?l&1|2:l&1),i):(kn(i),null);case 22:case 23:return Zp(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(pr&1073741824)!==0&&(kn(i),i.subtreeFlags&6&&(i.flags|=8192)):kn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function jS(s,i){switch(lp(i),i.tag){case 1:return Yn(i.type)&&Yu(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return rl(),Et(Jn),Et(xn),Ep(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return vp(i),null;case 13:if(Et(Pt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Za()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Et(Pt),null;case 4:return rl(),null;case 10:return pp(i.type._context),null;case 22:case 23:return Zp(),null;case 24:return null;default:return null}}var yd=!1,Pn=!1,FS=typeof WeakSet=="function"?WeakSet:Set,we=null;function il(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Mt(s,i,d)}else l.current=null}function Up(s,i,l){try{l()}catch(d){Mt(s,i,d)}}var Ov=!1;function $S(s,i){if(Zf=Oi,s=hw(),qf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,A=-1,M=-1,K=0,oe=0,ae=s,ie=null;t:for(;;){for(var pe;ae!==l||p!==0&&ae.nodeType!==3||(A=E+p),ae!==g||d!==0&&ae.nodeType!==3||(M=E+d),ae.nodeType===3&&(E+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)ie=ae,ae=pe;for(;;){if(ae===s)break t;if(ie===l&&++K===p&&(A=E),ie===g&&++oe===d&&(M=E),(pe=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=pe}l=A===-1||M===-1?null:{start:A,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(ep={focusedElem:s,selectionRange:l},Oi=!1,we=i;we!==null;)if(i=we,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,we=s;else for(;we!==null;){i=we;try{var ve=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var _e=ve.memoizedProps,Ft=ve.memoizedState,H=i.stateNode,F=H.getSnapshotBeforeUpdate(i.elementType===i.type?_e:Gr(i.type,_e),Ft);H.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var q=i.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Mt(i,i.return,ue)}if(s=i.sibling,s!==null){s.return=i.return,we=s;break}we=i.return}return ve=Ov,Ov=!1,ve}function Rc(s,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var g=p.destroy;p.destroy=void 0,g!==void 0&&Up(i,l,g)}p=p.next}while(p!==d)}}function wd(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Bp(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function Lv(s){var i=s.alternate;i!==null&&(s.alternate=null,Lv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[ys],delete i[yc],delete i[sp],delete i[bS],delete i[CS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Mv(s){return s.tag===5||s.tag===3||s.tag===4}function Vv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Mv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zp(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Qu));else if(d!==4&&(s=s.child,s!==null))for(zp(s,i,l),s=s.sibling;s!==null;)zp(s,i,l),s=s.sibling}function Hp(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Hp(s,i,l),s=s.sibling;s!==null;)Hp(s,i,l),s=s.sibling}var En=null,Kr=!1;function zi(s,i,l){for(l=l.child;l!==null;)jv(s,i,l),l=l.sibling}function jv(s,i,l){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Ks,l)}catch{}switch(l.tag){case 5:Pn||il(l,i);case 6:var d=En,p=Kr;En=null,zi(s,i,l),En=d,Kr=p,En!==null&&(Kr?(s=En,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):En.removeChild(l.stateNode));break;case 18:En!==null&&(Kr?(s=En,l=l.stateNode,s.nodeType===8?rp(s.parentNode,l):s.nodeType===1&&rp(s,l),zr(s)):rp(En,l.stateNode));break;case 4:d=En,p=Kr,En=l.stateNode.containerInfo,Kr=!0,zi(s,i,l),En=d,Kr=p;break;case 0:case 11:case 14:case 15:if(!Pn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&Up(l,i,E),p=p.next}while(p!==d)}zi(s,i,l);break;case 1:if(!Pn&&(il(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){Mt(l,i,A)}zi(s,i,l);break;case 21:zi(s,i,l);break;case 22:l.mode&1?(Pn=(d=Pn)||l.memoizedState!==null,zi(s,i,l),Pn=d):zi(s,i,l);break;default:zi(s,i,l)}}function Fv(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new FS),i.forEach(function(d){var p=QS.bind(null,s,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Qr(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var g=s,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 5:En=A.stateNode,Kr=!1;break e;case 3:En=A.stateNode.containerInfo,Kr=!0;break e;case 4:En=A.stateNode.containerInfo,Kr=!0;break e}A=A.return}if(En===null)throw Error(n(160));jv(g,E,p),En=null,Kr=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(K){Mt(p,i,K)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)$v(i,s),i=i.sibling}function $v(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Qr(i,s),_s(s),d&4){try{Rc(3,s,s.return),wd(3,s)}catch(_e){Mt(s,s.return,_e)}try{Rc(5,s,s.return)}catch(_e){Mt(s,s.return,_e)}}break;case 1:Qr(i,s),_s(s),d&512&&l!==null&&il(l,l.return);break;case 5:if(Qr(i,s),_s(s),d&512&&l!==null&&il(l,l.return),s.flags&32){var p=s.stateNode;try{os(p,"")}catch(_e){Mt(s,s.return,_e)}}if(d&4&&(p=s.stateNode,p!=null)){var g=s.memoizedProps,E=l!==null?l.memoizedProps:g,A=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Be(p,g),xo(A,E);var K=xo(A,g);for(E=0;E<M.length;E+=2){var oe=M[E],ae=M[E+1];oe==="style"?So(p,ae):oe==="dangerouslySetInnerHTML"?Co(p,ae):oe==="children"?os(p,ae):Q(p,oe,ae,K)}switch(A){case"input":ut(p,g);break;case"textarea":Us(p,g);break;case"select":var ie=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var pe=g.value;pe!=null?Wt(p,!!g.multiple,pe,!1):ie!==!!g.multiple&&(g.defaultValue!=null?Wt(p,!!g.multiple,g.defaultValue,!0):Wt(p,!!g.multiple,g.multiple?[]:"",!1))}p[yc]=g}catch(_e){Mt(s,s.return,_e)}}break;case 6:if(Qr(i,s),_s(s),d&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,g=s.memoizedProps;try{p.nodeValue=g}catch(_e){Mt(s,s.return,_e)}}break;case 3:if(Qr(i,s),_s(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{zr(i.containerInfo)}catch(_e){Mt(s,s.return,_e)}break;case 4:Qr(i,s),_s(s);break;case 13:Qr(i,s),_s(s),p=s.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Gp=ht())),d&4&&Fv(s);break;case 22:if(oe=l!==null&&l.memoizedState!==null,s.mode&1?(Pn=(K=Pn)||oe,Qr(i,s),Pn=K):Qr(i,s),_s(s),d&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!oe&&(s.mode&1)!==0)for(we=s,oe=s.child;oe!==null;){for(ae=we=oe;we!==null;){switch(ie=we,pe=ie.child,ie.tag){case 0:case 11:case 14:case 15:Rc(4,ie,ie.return);break;case 1:il(ie,ie.return);var ve=ie.stateNode;if(typeof ve.componentWillUnmount=="function"){d=ie,l=ie.return;try{i=d,ve.props=i.memoizedProps,ve.state=i.memoizedState,ve.componentWillUnmount()}catch(_e){Mt(d,l,_e)}}break;case 5:il(ie,ie.return);break;case 22:if(ie.memoizedState!==null){zv(ae);continue}}pe!==null?(pe.return=ie,we=pe):zv(ae)}oe=oe.sibling}e:for(oe=null,ae=s;;){if(ae.tag===5){if(oe===null){oe=ae;try{p=ae.stateNode,K?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=ae.stateNode,M=ae.memoizedProps.style,E=M!=null&&M.hasOwnProperty("display")?M.display:null,A.style.display=To("display",E))}catch(_e){Mt(s,s.return,_e)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=K?"":ae.memoizedProps}catch(_e){Mt(s,s.return,_e)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Qr(i,s),_s(s),d&4&&Fv(s);break;case 21:break;default:Qr(i,s),_s(s)}}function _s(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(Mv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(os(p,""),d.flags&=-33);var g=Vv(s);Hp(s,g,p);break;case 3:case 4:var E=d.stateNode.containerInfo,A=Vv(s);zp(s,A,E);break;default:throw Error(n(161))}}catch(M){Mt(s,s.return,M)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function US(s,i,l){we=s,Uv(s)}function Uv(s,i,l){for(var d=(s.mode&1)!==0;we!==null;){var p=we,g=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||yd;if(!E){var A=p.alternate,M=A!==null&&A.memoizedState!==null||Pn;A=yd;var K=Pn;if(yd=E,(Pn=M)&&!K)for(we=p;we!==null;)E=we,M=E.child,E.tag===22&&E.memoizedState!==null?Hv(p):M!==null?(M.return=E,we=M):Hv(p);for(;g!==null;)we=g,Uv(g),g=g.sibling;we=p,yd=A,Pn=K}Bv(s)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,we=g):Bv(s)}}function Bv(s){for(;we!==null;){var i=we;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Pn||wd(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Pn)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:Gr(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&zw(i,g,d);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}zw(i,E,l)}break;case 5:var A=i.stateNode;if(l===null&&i.flags&4){l=A;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var K=i.alternate;if(K!==null){var oe=K.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&zr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pn||i.flags&512&&Bp(i)}catch(ie){Mt(i,i.return,ie)}}if(i===s){we=null;break}if(l=i.sibling,l!==null){l.return=i.return,we=l;break}we=i.return}}function zv(s){for(;we!==null;){var i=we;if(i===s){we=null;break}var l=i.sibling;if(l!==null){l.return=i.return,we=l;break}we=i.return}}function Hv(s){for(;we!==null;){var i=we;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{wd(4,i)}catch(M){Mt(i,l,M)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(M){Mt(i,p,M)}}var g=i.return;try{Bp(i)}catch(M){Mt(i,g,M)}break;case 5:var E=i.return;try{Bp(i)}catch(M){Mt(i,E,M)}}}catch(M){Mt(i,i.return,M)}if(i===s){we=null;break}var A=i.sibling;if(A!==null){A.return=i.return,we=A;break}we=i.return}}var BS=Math.ceil,vd=ee.ReactCurrentDispatcher,qp=ee.ReactCurrentOwner,Ar=ee.ReactCurrentBatchConfig,rt=0,fn=null,Jt=null,bn=0,pr=0,ol=ji(0),an=0,kc=null,qo=0,_d=0,Wp=0,Pc=null,Zn=null,Gp=0,al=1/0,oi=null,Ed=!1,Kp=null,Hi=null,bd=!1,qi=null,Cd=0,Ac=0,Qp=null,Td=-1,Sd=0;function Un(){return(rt&6)!==0?ht():Td!==-1?Td:Td=ht()}function Wi(s){return(s.mode&1)===0?1:(rt&2)!==0&&bn!==0?bn&-bn:SS.transition!==null?(Sd===0&&(Sd=In()),Sd):(s=Ze,s!==0||(s=window.event,s=s===void 0?16:ic(s.type)),s)}function Jr(s,i,l,d){if(50<Ac)throw Ac=0,Qp=null,Error(n(185));Pi(s,l,d),((rt&2)===0||s!==fn)&&(s===fn&&((rt&2)===0&&(_d|=l),an===4&&Gi(s,bn)),er(s,d),l===1&&rt===0&&(i.mode&1)===0&&(al=ht()+500,Zu&&$i()))}function er(s,i){var l=s.callbackNode;cr(s,i);var d=rn(s,s===fn?bn:0);if(d===0)l!==null&&Ao(l),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(l!=null&&Ao(l),i===1)s.tag===0?TS(Wv.bind(null,s)):Aw(Wv.bind(null,s)),_S(function(){(rt&6)===0&&$i()}),l=null;else{switch(Ni(d)){case 1:l=lr;break;case 4:l=ds;break;case 16:l=Gn;break;case 536870912:l=Ra;break;default:l=Gn}l=e_(l,qv.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function qv(s,i){if(Td=-1,Sd=0,(rt&6)!==0)throw Error(n(327));var l=s.callbackNode;if(ll()&&s.callbackNode!==l)return null;var d=rn(s,s===fn?bn:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=Id(s,d);else{i=d;var p=rt;rt|=2;var g=Kv();(fn!==s||bn!==i)&&(oi=null,al=ht()+500,Go(s,i));do try{qS();break}catch(A){Gv(s,A)}while(!0);fp(),vd.current=g,rt=p,Jt!==null?i=0:(fn=null,bn=0,i=an)}if(i!==0){if(i===2&&(p=Kt(s),p!==0&&(d=p,i=Jp(s,p))),i===1)throw l=kc,Go(s,0),Gi(s,d),er(s,ht()),l;if(i===6)Gi(s,d);else{if(p=s.current.alternate,(d&30)===0&&!zS(p)&&(i=Id(s,d),i===2&&(g=Kt(s),g!==0&&(d=g,i=Jp(s,g))),i===1))throw l=kc,Go(s,0),Gi(s,d),er(s,ht()),l;switch(s.finishedWork=p,s.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:Ko(s,Zn,oi);break;case 3:if(Gi(s,d),(d&130023424)===d&&(i=Gp+500-ht(),10<i)){if(rn(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){Un(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=np(Ko.bind(null,s,Zn,oi),i);break}Ko(s,Zn,oi);break;case 4:if(Gi(s,d),(d&4194240)===d)break;for(i=s.eventTimes,p=-1;0<d;){var E=31-Lt(d);g=1<<E,E=i[E],E>p&&(p=E),d&=~g}if(d=p,d=ht()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*BS(d/1960))-d,10<d){s.timeoutHandle=np(Ko.bind(null,s,Zn,oi),d);break}Ko(s,Zn,oi);break;case 5:Ko(s,Zn,oi);break;default:throw Error(n(329))}}}return er(s,ht()),s.callbackNode===l?qv.bind(null,s):null}function Jp(s,i){var l=Pc;return s.current.memoizedState.isDehydrated&&(Go(s,i).flags|=256),s=Id(s,i),s!==2&&(i=Zn,Zn=l,i!==null&&Yp(i)),s}function Yp(s){Zn===null?Zn=s:Zn.push.apply(Zn,s)}function zS(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],g=p.getSnapshot;p=p.value;try{if(!qr(g(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gi(s,i){for(i&=~Wp,i&=~_d,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Lt(i),d=1<<l;s[l]=-1,i&=~d}}function Wv(s){if((rt&6)!==0)throw Error(n(327));ll();var i=rn(s,0);if((i&1)===0)return er(s,ht()),null;var l=Id(s,i);if(s.tag!==0&&l===2){var d=Kt(s);d!==0&&(i=d,l=Jp(s,d))}if(l===1)throw l=kc,Go(s,0),Gi(s,i),er(s,ht()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Ko(s,Zn,oi),er(s,ht()),null}function Xp(s,i){var l=rt;rt|=1;try{return s(i)}finally{rt=l,rt===0&&(al=ht()+500,Zu&&$i())}}function Wo(s){qi!==null&&qi.tag===0&&(rt&6)===0&&ll();var i=rt;rt|=1;var l=Ar.transition,d=Ze;try{if(Ar.transition=null,Ze=1,s)return s()}finally{Ze=d,Ar.transition=l,rt=i,(rt&6)===0&&$i()}}function Zp(){pr=ol.current,Et(ol)}function Go(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,vS(l)),Jt!==null)for(l=Jt.return;l!==null;){var d=l;switch(lp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Yu();break;case 3:rl(),Et(Jn),Et(xn),Ep();break;case 5:vp(d);break;case 4:rl();break;case 13:Et(Pt);break;case 19:Et(Pt);break;case 10:pp(d.type._context);break;case 22:case 23:Zp()}l=l.return}if(fn=s,Jt=s=Ki(s.current,null),bn=pr=i,an=0,kc=null,Wp=_d=qo=0,Zn=Pc=null,Bo!==null){for(i=0;i<Bo.length;i++)if(l=Bo[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,g=l.pending;if(g!==null){var E=g.next;g.next=p,d.next=E}l.pending=d}Bo=null}return s}function Gv(s,i){do{var l=Jt;try{if(fp(),cd.current=fd,ud){for(var d=At.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}ud=!1}if(Ho=0,hn=on=At=null,Cc=!1,Tc=0,qp.current=null,l===null||l.return===null){an=1,kc=i,Jt=null;break}e:{var g=s,E=l.return,A=l,M=i;if(i=bn,A.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,oe=A,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var pe=wv(E);if(pe!==null){pe.flags&=-257,vv(pe,E,A,g,i),pe.mode&1&&yv(g,K,i),i=pe,M=K;var ve=i.updateQueue;if(ve===null){var _e=new Set;_e.add(M),i.updateQueue=_e}else ve.add(M);break e}else{if((i&1)===0){yv(g,K,i),em();break e}M=Error(n(426))}}else if(xt&&A.mode&1){var Ft=wv(E);if(Ft!==null){(Ft.flags&65536)===0&&(Ft.flags|=256),vv(Ft,E,A,g,i),dp(sl(M,A));break e}}g=M=sl(M,A),an!==4&&(an=2),Pc===null?Pc=[g]:Pc.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var H=mv(g,M,i);Bw(g,H);break e;case 1:A=M;var F=g.type,q=g.stateNode;if((g.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Hi===null||!Hi.has(q)))){g.flags|=65536,i&=-i,g.lanes|=i;var ue=gv(g,A,i);Bw(g,ue);break e}}g=g.return}while(g!==null)}Jv(l)}catch(Ee){i=Ee,Jt===l&&l!==null&&(Jt=l=l.return);continue}break}while(!0)}function Kv(){var s=vd.current;return vd.current=fd,s===null?fd:s}function em(){(an===0||an===3||an===2)&&(an=4),fn===null||(qo&268435455)===0&&(_d&268435455)===0||Gi(fn,bn)}function Id(s,i){var l=rt;rt|=2;var d=Kv();(fn!==s||bn!==i)&&(oi=null,Go(s,i));do try{HS();break}catch(p){Gv(s,p)}while(!0);if(fp(),rt=l,vd.current=d,Jt!==null)throw Error(n(261));return fn=null,bn=0,an}function HS(){for(;Jt!==null;)Qv(Jt)}function qS(){for(;Jt!==null&&!xa();)Qv(Jt)}function Qv(s){var i=Zv(s.alternate,s,pr);s.memoizedProps=s.pendingProps,i===null?Jv(s):Jt=i,qp.current=null}function Jv(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=VS(l,i,pr),l!==null){Jt=l;return}}else{if(l=jS(l,i),l!==null){l.flags&=32767,Jt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{an=6,Jt=null;return}}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=s}while(i!==null);an===0&&(an=5)}function Ko(s,i,l){var d=Ze,p=Ar.transition;try{Ar.transition=null,Ze=1,WS(s,i,l,d)}finally{Ar.transition=p,Ze=d}return null}function WS(s,i,l,d){do ll();while(qi!==null);if((rt&6)!==0)throw Error(n(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var g=l.lanes|l.childLanes;if(pt(s,g),s===fn&&(Jt=fn=null,bn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||bd||(bd=!0,e_(Gn,function(){return ll(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Ar.transition,Ar.transition=null;var E=Ze;Ze=1;var A=rt;rt|=4,qp.current=null,$S(s,l),$v(l,s),hS(ep),Oi=!!Zf,ep=Zf=null,s.current=l,US(l),nc(),rt=A,Ze=E,Ar.transition=g}else s.current=l;if(bd&&(bd=!1,qi=s,Cd=p),g=s.pendingLanes,g===0&&(Hi=null),ka(l.stateNode),er(s,ht()),i!==null)for(d=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Ed)throw Ed=!1,s=Kp,Kp=null,s;return(Cd&1)!==0&&s.tag!==0&&ll(),g=s.pendingLanes,(g&1)!==0?s===Qp?Ac++:(Ac=0,Qp=s):Ac=0,$i(),null}function ll(){if(qi!==null){var s=Ni(Cd),i=Ar.transition,l=Ze;try{if(Ar.transition=null,Ze=16>s?16:s,qi===null)var d=!1;else{if(s=qi,qi=null,Cd=0,(rt&6)!==0)throw Error(n(331));var p=rt;for(rt|=4,we=s.current;we!==null;){var g=we,E=g.child;if((we.flags&16)!==0){var A=g.deletions;if(A!==null){for(var M=0;M<A.length;M++){var K=A[M];for(we=K;we!==null;){var oe=we;switch(oe.tag){case 0:case 11:case 15:Rc(8,oe,g)}var ae=oe.child;if(ae!==null)ae.return=oe,we=ae;else for(;we!==null;){oe=we;var ie=oe.sibling,pe=oe.return;if(Lv(oe),oe===K){we=null;break}if(ie!==null){ie.return=pe,we=ie;break}we=pe}}}var ve=g.alternate;if(ve!==null){var _e=ve.child;if(_e!==null){ve.child=null;do{var Ft=_e.sibling;_e.sibling=null,_e=Ft}while(_e!==null)}}we=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,we=E;else e:for(;we!==null;){if(g=we,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Rc(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,we=H;break e}we=g.return}}var F=s.current;for(we=F;we!==null;){E=we;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,we=q;else e:for(E=F;we!==null;){if(A=we,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:wd(9,A)}}catch(Ee){Mt(A,A.return,Ee)}if(A===E){we=null;break e}var ue=A.sibling;if(ue!==null){ue.return=A.return,we=ue;break e}we=A.return}}if(rt=p,$i(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Ks,s)}catch{}d=!0}return d}finally{Ze=l,Ar.transition=i}}return!1}function Yv(s,i,l){i=sl(l,i),i=mv(s,i,1),s=Bi(s,i,1),i=Un(),s!==null&&(Pi(s,1,i),er(s,i))}function Mt(s,i,l){if(s.tag===3)Yv(s,s,l);else for(;i!==null;){if(i.tag===3){Yv(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Hi===null||!Hi.has(d))){s=sl(l,s),s=gv(i,s,1),i=Bi(i,s,1),s=Un(),i!==null&&(Pi(i,1,s),er(i,s));break}}i=i.return}}function GS(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),i=Un(),s.pingedLanes|=s.suspendedLanes&l,fn===s&&(bn&l)===l&&(an===4||an===3&&(bn&130023424)===bn&&500>ht()-Gp?Go(s,0):Wp|=l),er(s,i)}function Xv(s,i){i===0&&((s.mode&1)===0?i=1:(i=qe,qe<<=1,(qe&130023424)===0&&(qe=4194304)));var l=Un();s=ri(s,i),s!==null&&(Pi(s,i,l),er(s,l))}function KS(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),Xv(s,l)}function QS(s,i){var l=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),Xv(s,l)}var Zv;Zv=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||Jn.current)Xn=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return Xn=!1,MS(s,i,l);Xn=(s.flags&131072)!==0}else Xn=!1,xt&&(i.flags&1048576)!==0&&Nw(i,td,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;gd(s,i),s=i.pendingProps;var p=Ja(i,xn.current);nl(i,l),p=Tp(null,i,d,s,p,l);var g=Sp();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Yn(d)?(g=!0,Xu(i)):g=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,yp(i),p.updater=pd,i.stateNode=p,p._reactInternals=i,Ap(i,d,s,l),i=Lp(null,i,d,!0,g,l)):(i.tag=0,xt&&g&&ap(i),$n(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(gd(s,i),s=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=YS(d),s=Gr(d,s),p){case 0:i=Op(null,i,d,s,l);break e;case 1:i=Sv(null,i,d,s,l);break e;case 11:i=_v(null,i,d,s,l);break e;case 14:i=Ev(null,i,d,Gr(d.type,s),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Gr(d,p),Op(s,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Gr(d,p),Sv(s,i,d,p,l);case 3:e:{if(Iv(i),s===null)throw Error(n(387));d=i.pendingProps,g=i.memoizedState,p=g.element,Uw(s,i),ad(i,d,null,l);var E=i.memoizedState;if(d=E.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){p=sl(Error(n(423)),i),i=xv(s,i,d,l,p);break e}else if(d!==p){p=sl(Error(n(424)),i),i=xv(s,i,d,l,p);break e}else for(fr=Vi(i.stateNode.containerInfo.firstChild),hr=i,xt=!0,Wr=null,l=Fw(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Za(),d===p){i=ii(s,i,l);break e}$n(s,i,d,l)}i=i.child}return i;case 5:return Hw(i),s===null&&up(i),d=i.type,p=i.pendingProps,g=s!==null?s.memoizedProps:null,E=p.children,tp(d,p)?E=null:g!==null&&tp(d,g)&&(i.flags|=32),Tv(s,i),$n(s,i,E,l),i.child;case 6:return s===null&&up(i),null;case 13:return Rv(s,i,l);case 4:return wp(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=el(i,null,d,l):$n(s,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Gr(d,p),_v(s,i,d,p,l);case 7:return $n(s,i,i.pendingProps,l),i.child;case 8:return $n(s,i,i.pendingProps.children,l),i.child;case 12:return $n(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,g=i.memoizedProps,E=p.value,gt(sd,d._currentValue),d._currentValue=E,g!==null)if(qr(g.value,E)){if(g.children===p.children&&!Jn.current){i=ii(s,i,l);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var A=g.dependencies;if(A!==null){E=g.child;for(var M=A.firstContext;M!==null;){if(M.context===d){if(g.tag===1){M=si(-1,l&-l),M.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var oe=K.pending;oe===null?M.next=M:(M.next=oe.next,oe.next=M),K.pending=M}}g.lanes|=l,M=g.alternate,M!==null&&(M.lanes|=l),mp(g.return,l,i),A.lanes|=l;break}M=M.next}}else if(g.tag===10)E=g.type===i.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(n(341));E.lanes|=l,A=E.alternate,A!==null&&(A.lanes|=l),mp(E,l,i),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}$n(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,nl(i,l),p=kr(p),d=d(p),i.flags|=1,$n(s,i,d,l),i.child;case 14:return d=i.type,p=Gr(d,i.pendingProps),p=Gr(d.type,p),Ev(s,i,d,p,l);case 15:return bv(s,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Gr(d,p),gd(s,i),i.tag=1,Yn(d)?(s=!0,Xu(i)):s=!1,nl(i,l),fv(i,d,p),Ap(i,d,p,l),Lp(null,i,d,!0,s,l);case 19:return Pv(s,i,l);case 22:return Cv(s,i,l)}throw Error(n(156,i.tag))};function e_(s,i){return Gs(s,i)}function JS(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(s,i,l,d){return new JS(s,i,l,d)}function tm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function YS(s){if(typeof s=="function")return tm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===et)return 14}return 2}function Ki(s,i){var l=s.alternate;return l===null?(l=Nr(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function xd(s,i,l,d,p,g){var E=2;if(d=s,typeof s=="function")tm(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case P:return Qo(l.children,p,g,i);case T:E=8,p|=8;break;case k:return s=Nr(12,l,i,p|2),s.elementType=k,s.lanes=g,s;case x:return s=Nr(13,l,i,p),s.elementType=x,s.lanes=g,s;case Le:return s=Nr(19,l,i,p),s.elementType=Le,s.lanes=g,s;case se:return Rd(l,p,g,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:E=10;break e;case V:E=9;break e;case $:E=11;break e;case et:E=14;break e;case Ke:E=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=Nr(E,l,i,p),i.elementType=s,i.type=d,i.lanes=g,i}function Qo(s,i,l,d){return s=Nr(7,s,d,i),s.lanes=l,s}function Rd(s,i,l,d){return s=Nr(22,s,d,i),s.elementType=se,s.lanes=l,s.stateNode={isHidden:!1},s}function nm(s,i,l){return s=Nr(6,s,null,i),s.lanes=l,s}function rm(s,i,l){return i=Nr(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function XS(s,i,l,d,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ki(0),this.expirationTimes=ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function sm(s,i,l,d,p,g,E,A,M){return s=new XS(s,i,l,A,M),i===1?(i=1,g===!0&&(i|=8)):i=0,g=Nr(3,null,null,i),s.current=g,g.stateNode=s,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},yp(g),s}function ZS(s,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:d==null?null:""+d,children:s,containerInfo:i,implementation:l}}function t_(s){if(!s)return Fi;s=s._reactInternals;e:{if(Ot(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Yn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(Yn(l))return kw(s,l,i)}return i}function n_(s,i,l,d,p,g,E,A,M){return s=sm(l,d,!0,s,p,g,E,A,M),s.context=t_(null),l=s.current,d=Un(),p=Wi(l),g=si(d,p),g.callback=i??null,Bi(l,g,p),s.current.lanes=p,Pi(s,p,d),er(s,d),s}function kd(s,i,l,d){var p=i.current,g=Un(),E=Wi(p);return l=t_(l),i.context===null?i.context=l:i.pendingContext=l,i=si(g,E),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=Bi(p,i,E),s!==null&&(Jr(s,p,E,g),od(s,p,E)),E}function Pd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function r_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function im(s,i){r_(s,i),(s=s.alternate)&&r_(s,i)}function eI(){return null}var s_=typeof reportError=="function"?reportError:function(s){console.error(s)};function om(s){this._internalRoot=s}Ad.prototype.render=om.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));kd(s,i,null,null)},Ad.prototype.unmount=om.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Wo(function(){kd(null,s,null,null)}),i[Zs]=null}};function Ad(s){this._internalRoot=s}Ad.prototype.unstable_scheduleHydration=function(s){if(s){var i=Au();s={blockedOn:null,target:s,priority:i};for(var l=0;l<fs.length&&i!==0&&i<fs[l].priority;l++);fs.splice(l,0,s),l===0&&Ou(s)}};function am(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Nd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function i_(){}function tI(s,i,l,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var K=Pd(E);g.call(K)}}var E=n_(i,d,s,0,null,!1,!1,"",i_);return s._reactRootContainer=E,s[Zs]=E.current,mc(s.nodeType===8?s.parentNode:s),Wo(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var A=d;d=function(){var K=Pd(M);A.call(K)}}var M=sm(s,0,!1,null,null,!1,!1,"",i_);return s._reactRootContainer=M,s[Zs]=M.current,mc(s.nodeType===8?s.parentNode:s),Wo(function(){kd(i,M,l,d)}),M}function Dd(s,i,l,d,p){var g=l._reactRootContainer;if(g){var E=g;if(typeof p=="function"){var A=p;p=function(){var M=Pd(E);A.call(M)}}kd(i,E,s,p)}else E=tI(l,i,s,p,d);return Pd(E)}ku=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=St(i.pendingLanes);l!==0&&(Ai(i,l|1),er(i,ht()),(rt&6)===0&&(al=ht()+500,$i()))}break;case 13:Wo(function(){var d=ri(s,1);if(d!==null){var p=Un();Jr(d,s,1,p)}}),im(s,1)}},Na=function(s){if(s.tag===13){var i=ri(s,134217728);if(i!==null){var l=Un();Jr(i,s,134217728,l)}im(s,134217728)}},Pu=function(s){if(s.tag===13){var i=Wi(s),l=ri(s,i);if(l!==null){var d=Un();Jr(l,s,i,d)}im(s,i)}},Au=function(){return Ze},Nu=function(s,i){var l=Ze;try{return Ze=s,i()}finally{Ze=l}},Ti=function(s,i,l){switch(i){case"input":if(ut(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var p=Ju(d);if(!p)throw Error(n(90));vt(d),ut(d,p)}}}break;case"textarea":Us(s,l);break;case"select":i=l.value,i!=null&&Wt(s,!!l.multiple,i,!1)}},cs=Xp,Si=Wo;var nI={usingClientEntryPoint:!1,Events:[wc,Ka,Ju,br,Ro,Xp]},Nc={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rI={bundleType:Nc.bundleType,version:Nc.version,rendererPackageName:Nc.rendererPackageName,rendererConfig:Nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ri(s),s===null?null:s.stateNode},findFiberByHostInstance:Nc.findFiberByHostInstance||eI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{Ks=Od.inject(rI),jn=Od}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nI,tr.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!am(i))throw Error(n(200));return ZS(s,i,null,l)},tr.createRoot=function(s,i){if(!am(s))throw Error(n(299));var l=!1,d="",p=s_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=sm(s,1,!1,null,null,l,!1,d,p),s[Zs]=i.current,mc(s.nodeType===8?s.parentNode:s),new om(i)},tr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ri(i),s=s===null?null:s.stateNode,s},tr.flushSync=function(s){return Wo(s)},tr.hydrate=function(s,i,l){if(!Nd(i))throw Error(n(200));return Dd(null,s,i,!0,l)},tr.hydrateRoot=function(s,i,l){if(!am(s))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,g="",E=s_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=n_(i,null,s,1,l??null,p,!1,g,E),s[Zs]=i.current,mc(s),d)for(s=0;s<d.length;s++)l=d[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new Ad(i)},tr.render=function(s,i,l){if(!Nd(i))throw Error(n(200));return Dd(null,s,i,!1,l)},tr.unmountComponentAtNode=function(s){if(!Nd(s))throw Error(n(40));return s._reactRootContainer?(Wo(function(){Dd(null,null,s,!1,function(){s._reactRootContainer=null,s[Zs]=null})}),!0):!1},tr.unstable_batchedUpdates=Xp,tr.unstable_renderSubtreeIntoContainer=function(s,i,l,d){if(!Nd(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Dd(s,i,l,!1,d)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var f_;function hI(){if(f_)return um.exports;f_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),um.exports=dI(),um.exports}var p_;function fI(){if(p_)return Ld;p_=1;var t=hI();return Ld.createRoot=t.createRoot,Ld.hydrateRoot=t.hydrateRoot,Ld}var pI=fI();const mI=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},gI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,h=u?t[o+1]:0,f=o+2<t.length,y=f?t[o+2]:0,w=a>>2,b=(a&3)<<4|h>>4;let C=(h&15)<<2|y>>6,R=y&63;f||(R=64,u||(C=64)),r.push(n[w],n[b],n[C],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const y=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||y==null||b==null)throw new yI;const C=a<<2|h>>4;if(r.push(C),y!==64){const R=h<<4&240|y>>2;if(r.push(R),b!==64){const N=y<<6&192|b;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wI=function(t){const e=$E(t);return UE.encodeByteArray(e,!0)},fh=function(t){return wI(t).replace(/\./g,"")},BE=function(t){try{return UE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=()=>vI().__FIREBASE_DEFAULTS__,EI=()=>{if(typeof process>"u"||typeof m_>"u")return;const t=m_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BE(t[1]);return e&&JSON.parse(e)},Jh=()=>{try{return mI()||_I()||EI()||bI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zE=t=>Jh()?.emulatorHosts?.[t],HE=t=>{const e=zE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qE=()=>Jh()?.config,WE=t=>Jh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fh(JSON.stringify(n)),fh(JSON.stringify(u)),""].join(".")}const zc={};function TI(){const t={prod:[],emulator:[]};for(const e of Object.keys(zc))zc[e]?t.emulator.push(e):t.prod.push(e);return t}function SI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let g_=!1;function Rg(t,e){if(typeof window>"u"||typeof document>"u"||!ya(window.location.host)||zc[t]===e||zc[t]||g_)return;zc[t]=e;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",a=TI().prod.length>0;function u(){const C=document.getElementById(r);C&&C.remove()}function h(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function f(C,R){C.setAttribute("width","24"),C.setAttribute("id",R),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{g_=!0,u()},C}function w(C,R){C.setAttribute("id",R),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=SI(r),R=n("text"),N=document.getElementById(R)||document.createElement("span"),j=n("learnmore"),D=document.getElementById(j)||document.createElement("a"),G=n("preprendIcon"),z=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const Q=C.element;h(Q),w(D,j);const ee=y();f(z,G),Q.append(z,N,D,ee),document.body.appendChild(Q)}a?(N.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function II(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function xI(){const t=Jh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AI(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NI(){return!xI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DI(){try{return typeof indexedDB=="object"}catch{return!1}}function OI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="FirebaseError";class Vs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LI,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?MI(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Vs(o,h,r)}}function MI(t,e){return t.replace(VI,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const VI=/\{\$([^}]+)}/g;function jI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],u=e[o];if(y_(a)&&y_(u)){if(!pi(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function y_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Vc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FI(t,e){const n=new $I(t,e);return n.subscribe.bind(n)}class $I{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class ho{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HI(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zI(t){return t===Zo?void 0:t}function HI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const WI={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},GI=Je.INFO,KI={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},QI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=KI[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kg{constructor(e){this.name=e,this._logLevel=GI,this._logHandler=QI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const JI=(t,e)=>e.some(n=>t instanceof n);let w_,v_;function YI(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XI(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,jm=new WeakMap,QE=new WeakMap,pm=new WeakMap,Pg=new WeakMap;function ZI(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(oo(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&KE.set(n,t)}).catch(()=>{}),Pg.set(e,t),e}function ex(t){if(jm.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});jm.set(t,e)}let Fm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tx(t){Fm=t(Fm)}function nx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mm(this),e,...n);return QE.set(r,e.sort?e.sort():[e]),oo(r)}:XI().includes(t)?function(...e){return t.apply(mm(this),e),oo(KE.get(this))}:function(...e){return oo(t.apply(mm(this),e))}}function rx(t){return typeof t=="function"?nx(t):(t instanceof IDBTransaction&&ex(t),JI(t,YI())?new Proxy(t,Fm):t)}function oo(t){if(t instanceof IDBRequest)return ZI(t);if(pm.has(t))return pm.get(t);const e=rx(t);return e!==t&&(pm.set(t,e),Pg.set(e,t)),e}const mm=t=>Pg.get(t);function sx(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),h=oo(u);return r&&u.addEventListener("upgradeneeded",f=>{r(oo(u.result),f.oldVersion,f.newVersion,oo(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const ix=["get","getKey","getAll","getAllKeys","count"],ox=["put","add","delete","clear"],gm=new Map;function __(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=ox.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ix.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let y=f.store;return r&&(y=y.index(h.shift())),(await Promise.all([y[n](...h),o&&f.done]))[0]};return gm.set(e,a),a}tx(t=>({...t,get:(e,n,r)=>__(e,n)||t.get(e,n,r),has:(e,n)=>!!__(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lx(t){return t.getComponent()?.type==="VERSION"}const $m="@firebase/app",E_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new kg("@firebase/app"),cx="@firebase/app-compat",ux="@firebase/analytics-compat",dx="@firebase/analytics",hx="@firebase/app-check-compat",fx="@firebase/app-check",px="@firebase/auth",mx="@firebase/auth-compat",gx="@firebase/database",yx="@firebase/data-connect",wx="@firebase/database-compat",vx="@firebase/functions",_x="@firebase/functions-compat",Ex="@firebase/installations",bx="@firebase/installations-compat",Cx="@firebase/messaging",Tx="@firebase/messaging-compat",Sx="@firebase/performance",Ix="@firebase/performance-compat",xx="@firebase/remote-config",Rx="@firebase/remote-config-compat",kx="@firebase/storage",Px="@firebase/storage-compat",Ax="@firebase/firestore",Nx="@firebase/ai",Dx="@firebase/firestore-compat",Ox="firebase",Lx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",Mx={[$m]:"fire-core",[cx]:"fire-core-compat",[dx]:"fire-analytics",[ux]:"fire-analytics-compat",[fx]:"fire-app-check",[hx]:"fire-app-check-compat",[px]:"fire-auth",[mx]:"fire-auth-compat",[gx]:"fire-rtdb",[yx]:"fire-data-connect",[wx]:"fire-rtdb-compat",[vx]:"fire-fn",[_x]:"fire-fn-compat",[Ex]:"fire-iid",[bx]:"fire-iid-compat",[Cx]:"fire-fcm",[Tx]:"fire-fcm-compat",[Sx]:"fire-perf",[Ix]:"fire-perf-compat",[xx]:"fire-rc",[Rx]:"fire-rc-compat",[kx]:"fire-gcs",[Px]:"fire-gcs-compat",[Ax]:"fire-fst",[Dx]:"fire-fst-compat",[Nx]:"fire-vertex","fire-js":"fire-js",[Ox]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,Vx=new Map,Bm=new Map;function b_(t,e){try{t.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function la(t){const e=t.name;if(Bm.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,t);for(const n of ph.values())b_(n,t);for(const n of Vx.values())b_(n,t);return!0}function Yh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ao=new cu("app","Firebase",jx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=Lx;function JE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Um,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ao.create("bad-app-name",{appName:String(o)});if(n||(n=qE()),!n)throw ao.create("no-options");const a=ph.get(o);if(a){if(pi(n,a.options)&&pi(r,a.config))return a;throw ao.create("duplicate-app",{appName:o})}const u=new qI(o);for(const f of Bm.values())u.addComponent(f);const h=new Fx(n,r,u);return ph.set(o,h),h}function Ag(t=Um){const e=ph.get(t);if(!e&&t===Um&&qE())return JE();if(!e)throw ao.create("no-app",{appName:t});return e}function Is(t,e,n){let r=Mx[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(u.join(" "));return}la(new ho(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="firebase-heartbeat-database",Ux=1,Xc="firebase-heartbeat-store";let ym=null;function YE(){return ym||(ym=sx($x,Ux,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ao.create("idb-open",{originalErrorMessage:t.message})})),ym}async function Bx(t){try{const n=(await YE()).transaction(Xc),r=await n.objectStore(Xc).get(XE(t));return await n.done,r}catch(e){if(e instanceof Vs)mi.warn(e.message);else{const n=ao.create("idb-get",{originalErrorMessage:e?.message});mi.warn(n.message)}}}async function C_(t,e){try{const r=(await YE()).transaction(Xc,"readwrite");await r.objectStore(Xc).put(e,XE(t)),await r.done}catch(n){if(n instanceof Vs)mi.warn(n.message);else{const r=ao.create("idb-set",{originalErrorMessage:n?.message});mi.warn(r.message)}}}function XE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=1024,Hx=30;class qx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=T_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Hx){const o=Kx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=T_(),{heartbeatsToSend:n,unsentEntries:r}=Wx(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return mi.warn(e),""}}}function T_(){return new Date().toISOString().substring(0,10)}function Wx(t,e=zx){const n=[];let r=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),S_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),S_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Gx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DI()?OI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S_(t){return fh(JSON.stringify({version:2,heartbeats:t})).length}function Kx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t){la(new ho("platform-logger",e=>new ax(e),"PRIVATE")),la(new ho("heartbeat",e=>new qx(e),"PRIVATE")),Is($m,E_,t),Is($m,E_,"esm2020"),Is("fire-js","")}Qx("");function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jx=ZE,e1=new cu("auth","Firebase",ZE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new kg("@firebase/auth");function Yx(t,...e){mh.logLevel<=Je.WARN&&mh.warn(`Auth (${wa}): ${t}`,...e)}function Qd(t,...e){mh.logLevel<=Je.ERROR&&mh.error(`Auth (${wa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,...e){throw Dg(t,...e)}function Or(t,...e){return Dg(t,...e)}function Ng(t,e,n){const r={...Jx(),[e]:n};return new cu("auth","Firebase",r).create(e,{appName:t.name})}function ui(t){return Ng(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t1(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Lr(t,"argument-error"),Ng(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return e1.create(t,...e)}function Ne(t,e,...n){if(!t)throw Dg(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qd(e),new Error(e)}function gi(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(){return typeof self<"u"&&self.location?.href||""}function Xx(){return I_()==="http:"||I_()==="https:"}function I_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xx()||kI()||"connection"in navigator)?navigator.onLine:!0}function eR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=II()||PI()}get(){return Zx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rR=new du(3e4,6e4);function _i(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ns(t,e,n,r,o={}){return r1(t,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=uu({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:f,...a};return RI()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&ya(t.emulatorConfig.host)&&(y.credentials="include"),n1.fetch()(await s1(t,t.config.apiHost,n,h),y)})}async function r1(t,e,n){t._canInitEmulator=!1;const r={...tR,...e};try{const o=new iR(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Md(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,y]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Md(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Md(t,"user-disabled",u);const w=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ng(t,w,y);Lr(t,w)}}catch(o){if(o instanceof Vs)throw o;Lr(t,"network-request-failed",{message:String(o)})}}async function hu(t,e,n,r,o={}){const a=await ns(t,e,n,r,o);return"mfaPendingCredential"in a&&Lr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function s1(t,e,n,r){const o=`${e}${n}?${r}`,a=t,u=a.config.emulator?Og(t.config,o):`${t.config.apiScheme}://${o}`;return nR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function sR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),rR.get())})}}function Md(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Or(t,e,r);return o.customData._tokenResponse=n,o}function x_(t){return t!==void 0&&t.enterprise!==void 0}class oR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aR(t,e){return ns(t,"GET","/v2/recaptchaConfig",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function gh(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cR(t,e=!1){const n=kt(t),r=await n.getIdToken(e),o=Lg(r);Ne(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Hc(wm(o.auth_time)),issuedAtTime:Hc(wm(o.iat)),expirationTime:Hc(wm(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function wm(t){return Number(t)*1e3}function Lg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qd("JWT malformed, contained fewer than 3 sections"),null;try{const o=BE(n);return o?JSON.parse(o):(Qd("Failed to decode base64 JWT payload"),null)}catch(o){return Qd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function R_(t){const e=Lg(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vs&&uR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hc(this.lastLoginAt),this.creationTime=Hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t){const e=t.auth,n=await t.getIdToken(),r=await ca(t,gh(e,{idToken:n}));Ne(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=o.providerUserInfo?.length?i1(o.providerUserInfo):[],u=fR(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!u?.length,y=h?f:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function hR(t){const e=kt(t);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fR(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function i1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e){const n=await r1(t,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,u=await s1(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&ya(t.emulatorConfig.host)&&(f.credentials="include"),n1.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mR(t,e){return ns(t,"POST","/v2/accounts:revokeToken",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=R_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await pR(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,u=new gl;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ne(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ne(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yr{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new dR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ca(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cR(this,e)}reload(){return hR(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await ca(this,lR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,y=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:b,emailVerified:C,isAnonymous:R,providerData:N,stsTokenManager:j}=n;Ne(b&&j,e,"internal-error");const D=gl.fromJSON(this.name,j);Ne(typeof b=="string",e,"internal-error"),Ji(r,e.name),Ji(o,e.name),Ne(typeof C=="boolean",e,"internal-error"),Ne(typeof R=="boolean",e,"internal-error"),Ji(a,e.name),Ji(u,e.name),Ji(h,e.name),Ji(f,e.name),Ji(y,e.name),Ji(w,e.name);const G=new Yr({uid:b,auth:e,email:o,emailVerified:C,displayName:r,isAnonymous:R,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:D,createdAt:y,lastLoginAt:w});return N&&Array.isArray(N)&&(G.providerData=N.map(z=>({...z}))),f&&(G._redirectEventId=f),G}static async _fromIdTokenResponse(e,n,r=!1){const o=new gl;o.updateFromServerResponse(n);const a=new Yr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await yh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ne(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?i1(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,h=new gl;h.updateFromIdToken(r);const f=new Yr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function ci(t){gi(t instanceof Function,"Expected a class definition");let e=k_.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}o1.type="NONE";const P_=o1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t,e,n){return`firebase:${t}:${e}:${n}`}class yl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Jd(this.userKey,o.apiKey,a),this.fullPersistenceKey=Jd("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?Yr._fromGetAccountInfoResponse(this.auth,n,e):null}return Yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yl(ci(P_),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||ci(P_);const u=Jd(r,e.config.apiKey,e.name);let h=null;for(const y of n)try{const w=await y._get(u);if(w){let b;if(typeof w=="string"){const C=await gh(e,{idToken:w}).catch(()=>{});if(!C)break;b=await Yr._fromGetAccountInfoResponse(e,C,w)}else b=Yr._fromJSON(e,w);y!==a&&(h=b),a=y;break}}catch{}const f=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new yl(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(n.map(async y=>{if(y!==a)try{await y._remove(u)}catch{}})),new yl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h1(e))return"Blackberry";if(f1(e))return"Webos";if(l1(e))return"Safari";if((e.includes("chrome/")||c1(e))&&!e.includes("edge/"))return"Chrome";if(d1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function a1(t=Ln()){return/firefox\//i.test(t)}function l1(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c1(t=Ln()){return/crios\//i.test(t)}function u1(t=Ln()){return/iemobile/i.test(t)}function d1(t=Ln()){return/android/i.test(t)}function h1(t=Ln()){return/blackberry/i.test(t)}function f1(t=Ln()){return/webos/i.test(t)}function Mg(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gR(t=Ln()){return Mg(t)&&!!window.navigator?.standalone}function yR(){return AI()&&document.documentMode===10}function p1(t=Ln()){return Mg(t)||d1(t)||f1(t)||h1(t)||/windows phone/i.test(t)||u1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e=[]){let n;switch(t){case"Browser":n=A_(Ln());break;case"Worker":n=`${A_(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(t,e={}){return ns(t,"GET","/v2/passwordPolicy",_i(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=6;class ER{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_R,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new wR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),r=await Yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(ui(this));const n=e?kt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vR(this),n=new ER(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Yx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ei(t){return kt(t)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=FI(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CR(t){Xh=t}function g1(t){return Xh.loadJS(t)}function TR(){return Xh.recaptchaEnterpriseScript}function SR(){return Xh.gapiScript}function IR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xR{constructor(){this.enterprise=new RR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class RR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const kR="recaptcha-enterprise",y1="NO_RECAPTCHA";class PR{constructor(e){this.type=kR,this.auth=Ei(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{aR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new oR(f);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,u(y.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;x_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(y=>{u(y)}).catch(()=>{u(y1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xR().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!n&&x_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=TR();f.length!==0&&(f+=h),g1(f).then(()=>{o(h,a,u)}).catch(y=>{u(y)})}}).catch(h=>{u(h)})})}}async function D_(t,e,n,r=!1,o=!1){const a=new PR(t);let u;if(o)u=y1;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function wh(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await D_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await D_(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e){const n=Yh(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(pi(a,e??{}))return o;Lr(o,"already-initialized")}return n.initialize({options:e})}function NR(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ci);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function DR(t,e,n){const r=Ei(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=w1(e),{host:u,port:h}=OR(e),f=h===null?"":`:${h}`,y={url:`${a}//${u}${f}/`},w=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(pi(y,r.config.emulator)&&pi(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,ya(u)?(xg(`${a}//${u}${f}`),Rg("Auth",!0)):LR()}function w1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function OR(t){const e=w1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:O_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:O_(u)}}}function O_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function MR(t,e){return ns(t,"POST","/v1/accounts:update",e)}async function VR(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e){return hu(t,"POST","/v1/accounts:signInWithPassword",_i(t,e))}async function FR(t,e){return ns(t,"POST","/v1/accounts:sendOobCode",_i(t,e))}async function $R(t,e){return FR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t,e){return hu(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}async function BR(t,e){return hu(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends Vg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Zc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wh(e,n,"signInWithPassword",jR);case"emailLink":return UR(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wh(e,r,"signUpPassword",VR);case"emailLink":return BR(e,{idToken:n,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e){return hu(t,"POST","/v1/accounts:signInWithIdp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="http://localhost";class ua extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=n;if(!r||!o)return null;const u=new ua(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wl(e,n)}buildRequest(){const e={requestUri:zR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qR(t){const e=Mc(Vc(t)).link,n=e?Mc(Vc(e)).deep_link_id:null,r=Mc(Vc(t)).deep_link_id;return(r?Mc(Vc(r)).link:null)||r||n||e||t}class jg{constructor(e){const n=Mc(Vc(e)),r=n.apiKey??null,o=n.oobCode??null,a=HR(n.mode??null);Ne(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=qR(e);try{return new jg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.providerId=va.PROVIDER_ID}static credential(e,n){return Zc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jg.parseLink(n);return Ne(r,"argument-error"),Zc._fromEmailAndCode(e,r.code,r.tenantId)}}va.PROVIDER_ID="password";va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Zh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends fu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends fu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends fu{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(t,e){return hu(t,"POST","/v1/accounts:signUp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await Yr._fromIdTokenResponse(e,r,o),u=L_(r);return new da({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=L_(r);return new da({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function L_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Vs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new vh(e,n,r,o)}}function v1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(t,a,e,r):a})}async function GR(t,e,n=!1){const r=await ca(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(t,e,n=!1){const{auth:r}=t;if(Bn(r.app))return Promise.reject(ui(r));const o="reauthenticate";try{const a=await ca(t,v1(r,o,e,t),n);Ne(a.idToken,r,"internal-error");const u=Lg(a.idToken);Ne(u,r,"internal-error");const{sub:h}=u;return Ne(t.uid===h,r,"user-mismatch"),da._forOperation(t,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Lr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(t,e,n=!1){if(Bn(t.app))return Promise.reject(ui(t));const r="signIn",o=await v1(t,r,e),a=await da._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function KR(t,e){return E1(Ei(t),e)}async function QR(t,e){return _1(kt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(t){const e=Ei(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C1(t,e,n){const r=Ei(t);await wh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$R)}async function JR(t,e,n){if(Bn(t.app))return Promise.reject(ui(t));const r=Ei(t),u=await wh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&b1(t),f}),h=await da._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function YR(t,e,n){return Bn(t.app)?Promise.reject(ui(t)):KR(kt(t),va.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&b1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e){return ns(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=kt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await ca(r,XR(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function ZR(t,e){return ek(kt(t),null,e)}async function ek(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const u=await ca(t,MR(r,a));await t._updateTokensIfNecessary(u,!0)}function tk(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function nk(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function rk(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function ef(t){return kt(t).signOut()}async function sk(t){return kt(t).delete()}const _h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=1e3,ok=10;class I1 extends S1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);yR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ok):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I1.type="LOCAL";const ak=I1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends S1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}x1.type="SESSION";const R1=x1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async y=>y(n.origin,a)),f=await lk(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const y=Fg("",20);o.port1.start();const w=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(b){const C=b;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(C.data.response);break;default:clearTimeout(w),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function uk(t){xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function dk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hk(){return navigator?.serviceWorker?.controller||null}function fk(){return k1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firebaseLocalStorageDb",pk=1,Eh="firebaseLocalStorage",A1="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(t,e){return t.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function mk(){const t=indexedDB.deleteDatabase(P1);return new pu(t).toPromise()}function qm(){const t=indexedDB.open(P1,pk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Eh,{keyPath:A1})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await mk(),e(await qm()))})})}async function M_(t,e,n){const r=nf(t,!0).put({[A1]:e,value:n});return new pu(r).toPromise()}async function gk(t,e){const n=nf(t,!1).get(e),r=await new pu(n).toPromise();return r===void 0?null:r.value}function V_(t,e){const n=nf(t,!0).delete(e);return new pu(n).toPromise()}const yk=800,wk=3;class N1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(fk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dk(),!this.activeServiceWorker)return;this.sender=new ck(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await M_(e,_h,"1"),await V_(e,_h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>M_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=nf(o,!1).getAll();return new pu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N1.type="LOCAL";const vk=N1;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t,e){return e?ci(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _k(t){return E1(t.auth,new Ug(t),t.bypassAuthState)}function Ek(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),_1(n,new Ug(t),t.bypassAuthState)}async function bk(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),GR(n,new Ug(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _k;case"linkViaPopup":case"linkViaRedirect":return bk;case"reauthViaPopup":case"reauthViaRedirect":return Ek;default:Lr(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new du(2e3,1e4);async function Tk(t,e,n){if(Bn(t.app))return Promise.reject(Or(t,"operation-not-supported-in-this-environment"));const r=Ei(t);t1(t,e,Zh);const o=$g(r,n);return new no(r,"signInViaPopup",e,o).executeNotNull()}async function Sk(t,e,n){const r=kt(t);if(Bn(r.auth.app))return Promise.reject(Or(r.auth,"operation-not-supported-in-this-environment"));t1(r.auth,e,Zh);const o=$g(r.auth,n);return new no(r.auth,"reauthViaPopup",e,o,r).executeNotNull()}class no extends D1{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ck.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="pendingRedirect",Yd=new Map;class xk extends D1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yd.get(this.auth._key());if(!e){try{const r=await Rk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yd.set(this.auth._key(),e)}return this.bypassAuthState||Yd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rk(t,e){const n=Ak(e),r=Pk(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function kk(t,e){Yd.set(t._key(),e)}function Pk(t){return ci(t._redirectPersistence)}function Ak(t){return Jd(Ik,t.config.apiKey,t.name)}async function Nk(t,e,n=!1){if(Bn(t.app))return Promise.reject(ui(t));const r=Ei(t),o=$g(r,e),u=await new xk(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=600*1e3;class Ok{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Lk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!O1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Or(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dk&&this.cachedEventUids.clear(),this.cachedEventUids.has(j_(e))}saveEventToCache(e){this.cachedEventUids.add(j_(e)),this.lastProcessedEventTime=Date.now()}}function j_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function O1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Lk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jk=/^https?/;async function Fk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Mk(t);for(const n of e)try{if($k(n))return}catch{}Lr(t,"unauthorized-domain")}function $k(t){const e=zm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!jk.test(n))return!1;if(Vk.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new du(3e4,6e4);function F_(){const t=xs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Bk(t){return new Promise((e,n)=>{function r(){F_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F_(),n(Or(t,"network-request-failed"))},timeout:Uk.get()})}if(xs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xs().gapi?.load)r();else{const o=IR("iframefcb");return xs()[o]=()=>{gapi.load?r():n(Or(t,"network-request-failed"))},g1(`${SR()}?onload=${o}`).catch(a=>n(a))}}).catch(e=>{throw Xd=null,e})}let Xd=null;function zk(t){return Xd=Xd||Bk(t),Xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new du(5e3,15e3),qk="__/auth/iframe",Wk="emulator/auth/iframe",Gk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qk(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Og(e,Wk):`https://${t.config.authDomain}/${qk}`,r={apiKey:e.apiKey,appName:t.name,v:wa},o=Kk.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${uu(r).slice(1)}`}async function Jk(t){const e=await zk(t),n=xs().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:Qk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gk,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Or(t,"network-request-failed"),h=xs().setTimeout(()=>{a(u)},Hk.get());function f(){xs().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xk=500,Zk=600,eP="_blank",tP="http://localhost";class $_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nP(t,e,n,r=Xk,o=Zk){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...Yk,width:r.toString(),height:o.toString(),top:a,left:u},y=Ln().toLowerCase();n&&(h=c1(y)?eP:n),a1(y)&&(e=e||tP,f.scrollbars="yes");const w=Object.entries(f).reduce((C,[R,N])=>`${C}${R}=${N},`,"");if(gR(y)&&h!=="_self")return rP(e||"",h),new $_(null);const b=window.open(e||"",h,w);Ne(b,t,"popup-blocked");try{b.focus()}catch{}return new $_(b)}function rP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="__/auth/handler",iP="emulator/auth/handler",oP=encodeURIComponent("fac");async function U_(t,e,n,r,o,a){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wa,eventId:o};if(e instanceof Zh){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",jI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,b]of Object.entries({}))u[w]=b}if(e instanceof fu){const w=e.getScopes().filter(b=>b!=="");w.length>0&&(u.scopes=w.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const f=await t._getAppCheckToken(),y=f?`#${oP}=${encodeURIComponent(f)}`:"";return`${aP(t)}?${uu(h).slice(1)}${y}`}function aP({config:t}){return t.emulator?Og(t,iP):`https://${t.authDomain}/${sP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="webStorageSupport";class lP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R1,this._completeRedirectFn=Nk,this._overrideRedirectResult=kk}async _openPopup(e,n,r,o){gi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await U_(e,n,r,zm(),o);return nP(e,a,Fg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await U_(e,n,r,zm(),o);return uk(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(gi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Jk(e),r=new Ok(e);return n.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vm,{type:vm},o=>{const a=o?.[0]?.[vm];a!==void 0&&n(!!a),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Fk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return p1()||l1()||Mg()}}const cP=lP;var B_="@firebase/auth",z_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hP(t){la(new ho("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m1(t)},y=new bR(r,o,a,f);return NR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),la(new ho("auth-internal",e=>{const n=Ei(e.getProvider("auth").getImmediate());return(r=>new uP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(B_,z_,dP(t)),Is(B_,z_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=300,pP=WE("authIdTokenMaxAge")||fP;let H_=null;const mP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pP)return;const o=n?.token;H_!==o&&(H_=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function js(t=Ag()){const e=Yh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AR(t,{popupRedirectResolver:cP,persistence:[vk,ak,R1]}),r=WE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=mP(a.toString());nk(n,u,()=>u(n.currentUser)),tk(n,h=>u(h))}}const o=zE("auth");return o&&DR(n,`http://${o}`),n}function gP(){return document.getElementsByTagName("head")?.[0]??document}CR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=Or("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",gP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hP("Browser");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lo,L1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function k(){}k.prototype=T.prototype,P.D=T.prototype,P.prototype=new k,P.prototype.constructor=P,P.C=function(O,V,$){for(var x=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)x[Le-2]=arguments[Le];return T.prototype[V].apply(O,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,T,k){k||(k=0);var O=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)O[V]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(V=0;16>V;++V)O[V]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=P.g[0],k=P.g[1],V=P.g[2];var $=P.g[3],x=T+($^k&(V^$))+O[0]+3614090360&4294967295;T=k+(x<<7&4294967295|x>>>25),x=$+(V^T&(k^V))+O[1]+3905402710&4294967295,$=T+(x<<12&4294967295|x>>>20),x=V+(k^$&(T^k))+O[2]+606105819&4294967295,V=$+(x<<17&4294967295|x>>>15),x=k+(T^V&($^T))+O[3]+3250441966&4294967295,k=V+(x<<22&4294967295|x>>>10),x=T+($^k&(V^$))+O[4]+4118548399&4294967295,T=k+(x<<7&4294967295|x>>>25),x=$+(V^T&(k^V))+O[5]+1200080426&4294967295,$=T+(x<<12&4294967295|x>>>20),x=V+(k^$&(T^k))+O[6]+2821735955&4294967295,V=$+(x<<17&4294967295|x>>>15),x=k+(T^V&($^T))+O[7]+4249261313&4294967295,k=V+(x<<22&4294967295|x>>>10),x=T+($^k&(V^$))+O[8]+1770035416&4294967295,T=k+(x<<7&4294967295|x>>>25),x=$+(V^T&(k^V))+O[9]+2336552879&4294967295,$=T+(x<<12&4294967295|x>>>20),x=V+(k^$&(T^k))+O[10]+4294925233&4294967295,V=$+(x<<17&4294967295|x>>>15),x=k+(T^V&($^T))+O[11]+2304563134&4294967295,k=V+(x<<22&4294967295|x>>>10),x=T+($^k&(V^$))+O[12]+1804603682&4294967295,T=k+(x<<7&4294967295|x>>>25),x=$+(V^T&(k^V))+O[13]+4254626195&4294967295,$=T+(x<<12&4294967295|x>>>20),x=V+(k^$&(T^k))+O[14]+2792965006&4294967295,V=$+(x<<17&4294967295|x>>>15),x=k+(T^V&($^T))+O[15]+1236535329&4294967295,k=V+(x<<22&4294967295|x>>>10),x=T+(V^$&(k^V))+O[1]+4129170786&4294967295,T=k+(x<<5&4294967295|x>>>27),x=$+(k^V&(T^k))+O[6]+3225465664&4294967295,$=T+(x<<9&4294967295|x>>>23),x=V+(T^k&($^T))+O[11]+643717713&4294967295,V=$+(x<<14&4294967295|x>>>18),x=k+($^T&(V^$))+O[0]+3921069994&4294967295,k=V+(x<<20&4294967295|x>>>12),x=T+(V^$&(k^V))+O[5]+3593408605&4294967295,T=k+(x<<5&4294967295|x>>>27),x=$+(k^V&(T^k))+O[10]+38016083&4294967295,$=T+(x<<9&4294967295|x>>>23),x=V+(T^k&($^T))+O[15]+3634488961&4294967295,V=$+(x<<14&4294967295|x>>>18),x=k+($^T&(V^$))+O[4]+3889429448&4294967295,k=V+(x<<20&4294967295|x>>>12),x=T+(V^$&(k^V))+O[9]+568446438&4294967295,T=k+(x<<5&4294967295|x>>>27),x=$+(k^V&(T^k))+O[14]+3275163606&4294967295,$=T+(x<<9&4294967295|x>>>23),x=V+(T^k&($^T))+O[3]+4107603335&4294967295,V=$+(x<<14&4294967295|x>>>18),x=k+($^T&(V^$))+O[8]+1163531501&4294967295,k=V+(x<<20&4294967295|x>>>12),x=T+(V^$&(k^V))+O[13]+2850285829&4294967295,T=k+(x<<5&4294967295|x>>>27),x=$+(k^V&(T^k))+O[2]+4243563512&4294967295,$=T+(x<<9&4294967295|x>>>23),x=V+(T^k&($^T))+O[7]+1735328473&4294967295,V=$+(x<<14&4294967295|x>>>18),x=k+($^T&(V^$))+O[12]+2368359562&4294967295,k=V+(x<<20&4294967295|x>>>12),x=T+(k^V^$)+O[5]+4294588738&4294967295,T=k+(x<<4&4294967295|x>>>28),x=$+(T^k^V)+O[8]+2272392833&4294967295,$=T+(x<<11&4294967295|x>>>21),x=V+($^T^k)+O[11]+1839030562&4294967295,V=$+(x<<16&4294967295|x>>>16),x=k+(V^$^T)+O[14]+4259657740&4294967295,k=V+(x<<23&4294967295|x>>>9),x=T+(k^V^$)+O[1]+2763975236&4294967295,T=k+(x<<4&4294967295|x>>>28),x=$+(T^k^V)+O[4]+1272893353&4294967295,$=T+(x<<11&4294967295|x>>>21),x=V+($^T^k)+O[7]+4139469664&4294967295,V=$+(x<<16&4294967295|x>>>16),x=k+(V^$^T)+O[10]+3200236656&4294967295,k=V+(x<<23&4294967295|x>>>9),x=T+(k^V^$)+O[13]+681279174&4294967295,T=k+(x<<4&4294967295|x>>>28),x=$+(T^k^V)+O[0]+3936430074&4294967295,$=T+(x<<11&4294967295|x>>>21),x=V+($^T^k)+O[3]+3572445317&4294967295,V=$+(x<<16&4294967295|x>>>16),x=k+(V^$^T)+O[6]+76029189&4294967295,k=V+(x<<23&4294967295|x>>>9),x=T+(k^V^$)+O[9]+3654602809&4294967295,T=k+(x<<4&4294967295|x>>>28),x=$+(T^k^V)+O[12]+3873151461&4294967295,$=T+(x<<11&4294967295|x>>>21),x=V+($^T^k)+O[15]+530742520&4294967295,V=$+(x<<16&4294967295|x>>>16),x=k+(V^$^T)+O[2]+3299628645&4294967295,k=V+(x<<23&4294967295|x>>>9),x=T+(V^(k|~$))+O[0]+4096336452&4294967295,T=k+(x<<6&4294967295|x>>>26),x=$+(k^(T|~V))+O[7]+1126891415&4294967295,$=T+(x<<10&4294967295|x>>>22),x=V+(T^($|~k))+O[14]+2878612391&4294967295,V=$+(x<<15&4294967295|x>>>17),x=k+($^(V|~T))+O[5]+4237533241&4294967295,k=V+(x<<21&4294967295|x>>>11),x=T+(V^(k|~$))+O[12]+1700485571&4294967295,T=k+(x<<6&4294967295|x>>>26),x=$+(k^(T|~V))+O[3]+2399980690&4294967295,$=T+(x<<10&4294967295|x>>>22),x=V+(T^($|~k))+O[10]+4293915773&4294967295,V=$+(x<<15&4294967295|x>>>17),x=k+($^(V|~T))+O[1]+2240044497&4294967295,k=V+(x<<21&4294967295|x>>>11),x=T+(V^(k|~$))+O[8]+1873313359&4294967295,T=k+(x<<6&4294967295|x>>>26),x=$+(k^(T|~V))+O[15]+4264355552&4294967295,$=T+(x<<10&4294967295|x>>>22),x=V+(T^($|~k))+O[6]+2734768916&4294967295,V=$+(x<<15&4294967295|x>>>17),x=k+($^(V|~T))+O[13]+1309151649&4294967295,k=V+(x<<21&4294967295|x>>>11),x=T+(V^(k|~$))+O[4]+4149444226&4294967295,T=k+(x<<6&4294967295|x>>>26),x=$+(k^(T|~V))+O[11]+3174756917&4294967295,$=T+(x<<10&4294967295|x>>>22),x=V+(T^($|~k))+O[2]+718787259&4294967295,V=$+(x<<15&4294967295|x>>>17),x=k+($^(V|~T))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+$&4294967295}r.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var k=T-this.blockSize,O=this.B,V=this.h,$=0;$<T;){if(V==0)for(;$<=k;)o(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<T;)if(O[V++]=P.charCodeAt($++),V==this.blockSize){o(this,O),V=0;break}}else for(;$<T;)if(O[V++]=P[$++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=T},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var k=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=k&255,k/=256;for(this.u(P),P=Array(16),T=k=0;4>T;++T)for(var O=0;32>O;O+=8)P[k++]=this.g[T]>>>O&255;return P};function a(P,T){var k=h;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=T(P)}function u(P,T){this.h=T;for(var k=[],O=!0,V=P.length-1;0<=V;V--){var $=P[V]|0;O&&$==T||(k[V]=$,O=!1)}this.g=k}var h={};function f(P){return-128<=P&&128>P?a(P,function(T){return new u([T|0],0>T?-1:0)}):new u([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return D(y(-P));for(var T=[],k=1,O=0;P>=k;O++)T[O]=P/k|0,k*=4294967296;return new u(T,0)}function w(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return D(w(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=y(Math.pow(T,8)),O=b,V=0;V<P.length;V+=8){var $=Math.min(8,P.length-V),x=parseInt(P.substring(V,V+$),T);8>$?($=y(Math.pow(T,$)),O=O.j($).add(y(x))):(O=O.j(k),O=O.add(y(x)))}return O}var b=f(0),C=f(1),R=f(16777216);t=u.prototype,t.m=function(){if(j(this))return-D(this).m();for(var P=0,T=1,k=0;k<this.g.length;k++){var O=this.i(k);P+=(0<=O?O:4294967296+O)*T,T*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N(this))return"0";if(j(this))return"-"+D(this).toString(P);for(var T=y(Math.pow(P,6)),k=this,O="";;){var V=ee(k,T).g;k=G(k,V.j(T));var $=((0<k.g.length?k.g[0]:k.h)>>>0).toString(P);if(k=V,N(k))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function N(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function j(P){return P.h==-1}t.l=function(P){return P=G(this,P),j(P)?-1:N(P)?0:1};function D(P){for(var T=P.g.length,k=[],O=0;O<T;O++)k[O]=~P.g[O];return new u(k,~P.h).add(C)}t.abs=function(){return j(this)?D(this):this},t.add=function(P){for(var T=Math.max(this.g.length,P.g.length),k=[],O=0,V=0;V<=T;V++){var $=O+(this.i(V)&65535)+(P.i(V)&65535),x=($>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);O=x>>>16,$&=65535,x&=65535,k[V]=x<<16|$}return new u(k,k[k.length-1]&-2147483648?-1:0)};function G(P,T){return P.add(D(T))}t.j=function(P){if(N(this)||N(P))return b;if(j(this))return j(P)?D(this).j(D(P)):D(D(this).j(P));if(j(P))return D(this.j(D(P)));if(0>this.l(R)&&0>P.l(R))return y(this.m()*P.m());for(var T=this.g.length+P.g.length,k=[],O=0;O<2*T;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<P.g.length;V++){var $=this.i(O)>>>16,x=this.i(O)&65535,Le=P.i(V)>>>16,et=P.i(V)&65535;k[2*O+2*V]+=x*et,z(k,2*O+2*V),k[2*O+2*V+1]+=$*et,z(k,2*O+2*V+1),k[2*O+2*V+1]+=x*Le,z(k,2*O+2*V+1),k[2*O+2*V+2]+=$*Le,z(k,2*O+2*V+2)}for(O=0;O<T;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=T;O<2*T;O++)k[O]=0;return new u(k,0)};function z(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function Q(P,T){this.g=P,this.h=T}function ee(P,T){if(N(T))throw Error("division by zero");if(N(P))return new Q(b,b);if(j(P))return T=ee(D(P),T),new Q(D(T.g),D(T.h));if(j(T))return T=ee(P,D(T)),new Q(D(T.g),T.h);if(30<P.g.length){if(j(P)||j(T))throw Error("slowDivide_ only works with positive integers.");for(var k=C,O=T;0>=O.l(P);)k=de(k),O=de(O);var V=re(k,1),$=re(O,1);for(O=re(O,2),k=re(k,2);!N(O);){var x=$.add(O);0>=x.l(P)&&(V=V.add(k),$=x),O=re(O,1),k=re(k,1)}return T=G(P,V.j(T)),new Q(V,T)}for(V=b;0<=P.l(T);){for(k=Math.max(1,Math.floor(P.m()/T.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=y(k),x=$.j(T);j(x)||0<x.l(P);)k-=O,$=y(k),x=$.j(T);N($)&&($=C),V=V.add($),P=G(P,x)}return new Q(V,P)}t.A=function(P){return ee(this,P).h},t.and=function(P){for(var T=Math.max(this.g.length,P.g.length),k=[],O=0;O<T;O++)k[O]=this.i(O)&P.i(O);return new u(k,this.h&P.h)},t.or=function(P){for(var T=Math.max(this.g.length,P.g.length),k=[],O=0;O<T;O++)k[O]=this.i(O)|P.i(O);return new u(k,this.h|P.h)},t.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),k=[],O=0;O<T;O++)k[O]=this.i(O)^P.i(O);return new u(k,this.h^P.h)};function de(P){for(var T=P.g.length+1,k=[],O=0;O<T;O++)k[O]=P.i(O)<<1|P.i(O-1)>>>31;return new u(k,P.h)}function re(P,T){var k=T>>5;T%=32;for(var O=P.g.length-k,V=[],$=0;$<O;$++)V[$]=0<T?P.i($+k)>>>T|P.i($+k+1)<<32-T:P.i($+k);return new u(V,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,L1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=w,lo=u}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var Vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M1,jc,V1,Zd,Wm,j1,F1,$1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vd=="object"&&Vd];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,m){if(m)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in _))break e;_=_[B]}c=c[c.length-1],I=_[c],m=m(I),m!=I&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}function a(c,m){c instanceof String&&(c+="");var _=0,I=!1,B={next:function(){if(!I&&_<c.length){var J=_++;return{value:m(J,c[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return a(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function w(c,m,_){return c.call.apply(c.bind,arguments)}function b(c,m,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),c.apply(m,B)}}return function(){return c.apply(m,arguments)}}function C(c,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:b,C.apply(null,arguments)}function R(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function N(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,B,J){for(var he=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)he[dt-2]=arguments[dt];return m.prototype[B].apply(I,he)}}function j(c){const m=c.length;if(0<m){const _=Array(m);for(let I=0;I<m;I++)_[I]=c[I];return _}return[]}function D(c,m){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const B=c.length||0,J=I.length||0;c.length=B+J;for(let he=0;he<J;he++)c[B+he]=I[he]}else c.push(I)}}class G{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var de=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function re(c,m,_){for(const I in c)m.call(_,c[I],I,c)}function P(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function T(c){const m={};for(const _ in c)m[_]=c[_];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,m){let _,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(_ in I)c[_]=I[_];for(let J=0;J<k.length;J++)_=k[J],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function V(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function $(c){h.setTimeout(()=>{throw c},0)}function x(){var c=W;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Le{constructor(){this.h=this.g=null}add(m,_){const I=et.get();I.set(m,_),this.h?this.h.next=I:this.g=I,this.h=I}}var et=new G(()=>new Ke,c=>c.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,Z=!1,W=new Le,Y=()=>{const c=h.Promise.resolve(void 0);se=()=>{c.then(L)}};var L=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){$(_)}var m=et;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}Z=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ge=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,m),h.removeEventListener("test",_,m)}catch{}return c})();function ye(c,m){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(de){e:{try{ee(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ye.aa.h.call(this)}}N(ye,le);var be={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Ue(c,m,_,I,B){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!I,this.ha=B,this.key=++$e,this.da=this.fa=!1}function ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mt(c){this.src=c,this.g={},this.h=0}mt.prototype.add=function(c,m,_,I,B){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var he=Pe(c,m,I,B);return-1<he?(m=c[he],_||(m.fa=!1)):(m=new Ue(m,this.src,J,!!I,B),m.fa=_,c.push(m)),m};function vt(c,m){var _=m.type;if(_ in c.g){var I=c.g[_],B=Array.prototype.indexOf.call(I,m,void 0),J;(J=0<=B)&&Array.prototype.splice.call(I,B,1),J&&(ct(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Pe(c,m,_,I){for(var B=0;B<c.length;++B){var J=c[B];if(!J.da&&J.listener==m&&J.capture==!!_&&J.ha==I)return B}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),Ve={};function Be(c,m,_,I,B){if(Array.isArray(m)){for(var J=0;J<m.length;J++)Be(c,m[J],_,I,B);return null}return _=bo(_),c&&c[Fe]?c.K(m,_,y(I)?!!I.capture:!1,B):ut(c,m,_,!1,I,B)}function ut(c,m,_,I,B,J){if(!m)throw Error("Invalid event type");var he=y(B)?!!B.capture:!!B,dt=$s(c);if(dt||(c[Ie]=dt=new mt(c)),_=dt.add(m,_,I,he,J),_.proxy)return _;if(I=Te(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)ge||(B=he),B===void 0&&(B=!1),c.addEventListener(m.toString(),I,B);else if(c.attachEvent)c.attachEvent(Wt(m.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Te(){function c(_){return m.call(c.src,c.listener,_)}const m=bi;return c}function ft(c,m,_,I,B){if(Array.isArray(m))for(var J=0;J<m.length;J++)ft(c,m[J],_,I,B);else I=y(I)?!!I.capture:!!I,_=bo(_),c&&c[Fe]?(c=c.i,m=String(m).toString(),m in c.g&&(J=c.g[m],_=Pe(J,_,I,B),-1<_&&(ct(J[_]),Array.prototype.splice.call(J,_,1),J.length==0&&(delete c.g[m],c.h--)))):c&&(c=$s(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Pe(m,_,I,B)),(_=-1<c?m[c]:null)&&Qe(_))}function Qe(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Fe])vt(m.i,c);else{var _=c.type,I=c.proxy;m.removeEventListener?m.removeEventListener(_,I,c.capture):m.detachEvent?m.detachEvent(Wt(_),I):m.addListener&&m.removeListener&&m.removeListener(I),(_=$s(m))?(vt(_,c),_.h==0&&(_.src=null,m[Ie]=null)):ct(c)}}}function Wt(c){return c in Ve?Ve[c]:Ve[c]="on"+c}function bi(c,m){if(c.da)c=!0;else{m=new ye(m,this);var _=c.listener,I=c.ha||c.src;c.fa&&Qe(c),c=_.call(I,m)}return c}function $s(c){return c=c[Ie],c instanceof mt?c:null}var Us="__closure_events_fn_"+(1e9*Math.random()>>>0);function bo(c){return typeof c=="function"?c:(c[Us]||(c[Us]=function(m){return c.handleEvent(m)}),c[Us])}function Vt(){U.call(this),this.i=new mt(this),this.M=this,this.F=null}N(Vt,U),Vt.prototype[Fe]=!0,Vt.prototype.removeEventListener=function(c,m,_,I){ft(this,c,m,_,I)};function Dt(c,m){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=m.type||m,typeof m=="string")m=new le(m,c);else if(m instanceof le)m.target=m.target||c;else{var B=m;m=new le(I,c),O(m,B)}if(B=!0,_)for(var J=_.length-1;0<=J;J--){var he=m.g=_[J];B=ir(he,I,!0,m)&&B}if(he=m.g=c,B=ir(he,I,!0,m)&&B,B=ir(he,I,!1,m)&&B,_)for(J=0;J<_.length;J++)he=m.g=_[J],B=ir(he,I,!1,m)&&B}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],I=0;I<_.length;I++)ct(_[I]);delete c.g[m],c.h--}}this.F=null},Vt.prototype.K=function(c,m,_,I){return this.i.add(String(c),m,!1,_,I)},Vt.prototype.L=function(c,m,_,I){return this.i.add(String(c),m,!0,_,I)};function ir(c,m,_,I){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,J=0;J<m.length;++J){var he=m[J];if(he&&!he.da&&he.capture==_){var dt=he.listener,sn=he.ha||he.src;he.fa&&vt(c.i,he),B=dt.call(sn,I)!==!1&&B}}return B&&!I.defaultPrevented}function Co(c,m,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(c,m||0)}function os(c){c.g=Co(()=>{c.g=null,c.i&&(c.i=!1,os(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class as extends U{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:os(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){U.call(this),this.h=c,this.g={}}N(ls,U);var To=[];function So(c){re(c.g,function(m,_){this.g.hasOwnProperty(_)&&Qe(m)},c),c.g={}}ls.prototype.N=function(){ls.aa.N.call(this),So(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=h.JSON.stringify,Io=h.JSON.parse,xo=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Bs(){}Bs.prototype.h=null;function zs(c){return c.h||(c.h=c.i())}function Ti(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function or(){le.call(this,"d")}N(or,le);function Er(){le.call(this,"c")}N(Er,le);var br={},Ro=null;function cs(){return Ro=Ro||new Vt}br.La="serverreachability";function Si(c){le.call(this,br.La,c)}N(Si,le);function Cr(c){const m=cs();Dt(m,new Si(m))}br.STAT_EVENT="statevent";function Ii(c,m){le.call(this,br.STAT_EVENT,c),this.stat=m}N(Ii,le);function Tt(c){const m=cs();Dt(m,new Ii(m,c))}br.Ma="timingevent";function Hs(c,m){le.call(this,br.Ma,c),this.size=m}N(Hs,le);function qn(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},m)}function us(){this.g=!0}us.prototype.xa=function(){this.g=!1};function qs(c,m,_,I,B,J){c.info(function(){if(c.g)if(J)for(var he="",dt=J.split("&"),sn=0;sn<dt.length;sn++){var tt=dt[sn].split("=");if(1<tt.length){var dn=tt[0];tt=tt[1];var Qt=dn.split("_");he=2<=Qt.length&&Qt[1]=="type"?he+(dn+"="+tt+"&"):he+(dn+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+m+`
`+_+`
`+he})}function xi(c,m,_,I,B,J,he){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+m+`
`+_+`
`+J+" "+he})}function Gt(c,m,_,I){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+ko(c,_)+(I?" "+I:"")})}function wn(c,m){c.info(function(){return"TIMEOUT: "+m})}us.prototype.info=function(){};function ko(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var J=B[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<B.length;he++)B[he]=""}}}}return Ci(_)}catch{return m}}var Ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Po={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ot;function Wn(){}N(Wn,Bs),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},Ot=new Wn;function ar(c,m,_,I){this.j=c,this.i=m,this.l=_,this.R=I||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tr}function Tr(){this.i=null,this.g="",this.h=!1}var Ri={},Fr={};function Gs(c,m,_){c.L=1,c.v=Ai(Kt(m)),c.m=_,c.P=!0,Ao(c,null)}function Ao(c,m){c.F=Date.now(),ht(c),c.A=Kt(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Di(_.i,"t",I),c.C=0,_=c.j.J,c.h=new Tr,c.g=$u(c.j,_?m:null,!c.m),0<c.O&&(c.M=new as(C(c.Y,c,c.g),c.O)),m=c.U,_=c.g,I=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(To[0]=B.toString()),B=To);for(var J=0;J<B.length;J++){var he=Be(_,B[J],I||m.handleEvent,!1,m.h||m);if(!he)break;m.g[he.key]=he}m=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Cr(),qs(c.i,c.u,c.A,c.l,c.R,c.m)}ar.prototype.ca=function(c){c=c.target;const m=this.M;m&&Qn(c)==3?m.j():this.Y(c)},ar.prototype.Y=function(c){try{if(c==this.g)e:{const Qt=Qn(this.g);var m=this.g.Ba();const Ir=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||Qt!=4||m==7||(m==8||0>=Ir?Cr(3):Cr(2)),lr(this);var _=this.g.Z();this.X=_;t:if(xa(this)){var I=oc(this.g);c="";var B=I.length,J=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gn(this),ds(this);var he="";break t}this.h.i=new h.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,c+=this.h.i.decode(I[m],{stream:!(J&&m==B-1)});I.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,xi(this.i,this.u,this.A,this.l,this.R,Qt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,sn=this.g;if((dt=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(dt)){var tt=dt;break t}}tt=null}if(_=tt)Gt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,No(this,_);else{this.o=!1,this.s=3,Tt(12),Gn(this),ds(this);break e}}if(this.P){_=!0;let dr;for(;!this.J&&this.C<he.length;)if(dr=nc(this,he),dr==Fr){Qt==4&&(this.s=4,Tt(14),_=!1),Gt(this.i,this.l,null,"[Incomplete Response]");break}else if(dr==Ri){this.s=4,Tt(15),Gt(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else Gt(this.i,this.l,dr,null),No(this,dr);if(xa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||he.length!=0||this.h.h||(this.s=1,Tt(16),_=!1),this.o=this.o&&_,!_)Gt(this.i,this.l,he,"[Invalid Chunked Response]"),Gn(this),ds(this);else if(0<he.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),lc(dn),dn.M=!0,Tt(11))}}else Gt(this.i,this.l,he,null),No(this,he);Qt==4&&Gn(this),this.o&&!this.J&&(Qt==4?$a(this.j,this):(this.o=!1,ht(this)))}else La(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Gn(this),ds(this)}}}catch{}finally{}};function xa(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nc(c,m){var _=c.C,I=m.indexOf(`
`,_);return I==-1?Fr:(_=Number(m.substring(_,I)),isNaN(_)?Ri:(I+=1,I+_>m.length?Fr:(m=m.slice(I,I+_),c.C=I+_,m)))}ar.prototype.cancel=function(){this.J=!0,Gn(this)};function ht(c){c.S=Date.now()+c.I,jt(c,c.I)}function jt(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=qn(C(c.ba,c),m)}function lr(c){c.B&&(h.clearTimeout(c.B),c.B=null)}ar.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(wn(this.i,this.A),this.L!=2&&(Cr(),Tt(17)),Gn(this),this.s=2,ds(this)):jt(this,this.S-c)};function ds(c){c.j.G==0||c.J||$a(c.j,c)}function Gn(c){lr(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,So(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function No(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||Lt(_.h,c))){if(!c.K&&Lt(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Fa(_),Hr(_);else break e;ja(_),Tt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=qn(C(_.Za,_),6e3));if(1>=ka(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Xs(_,11)}else if((c.K||_.g==c)&&Fa(_),!z(m))for(B=_.Da.g.parse(m),m=0;m<B.length;m++){let tt=B[m];if(_.T=tt[0],tt=tt[1],_.G==2)if(tt[0]=="c"){_.K=tt[1],_.ia=tt[2];const dn=tt[3];dn!=null&&(_.la=dn,_.j.info("VER="+_.la));const Qt=tt[4];Qt!=null&&(_.Aa=Qt,_.j.info("SVER="+_.Aa));const Ir=tt[5];Ir!=null&&typeof Ir=="number"&&0<Ir&&(I=1.5*Ir,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const dr=c.g;if(dr){const Vo=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vo){var J=I.h;J.g||Vo.indexOf("spdy")==-1&&Vo.indexOf("quic")==-1&&Vo.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Do(J,J.h),J.h=null))}if(I.D){const Ba=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(I.ya=Ba,pt(I.I,I.D,Ba))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var he=c;if(I.qa=Fu(I,I.J?I.ia:null,I.W),he.K){Pa(I.h,he);var dt=he,sn=I.L;sn&&(dt.I=sn),dt.B&&(lr(dt),ht(dt)),I.g=he}else Mo(I);0<_.i.length&&ms(_)}else tt[0]!="stop"&&tt[0]!="close"||Xs(_,7);else _.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Xs(_,7):_n(_):tt[0]!="noop"&&_.l&&_.l.ta(tt),_.v=0)}}Cr(4)}catch{}}var Ra=class{constructor(c,m){this.g=c,this.map=m}};function Ks(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ka(c){return c.h?1:c.g?c.g.size:0}function Lt(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Do(c,m){c.g?c.g.add(m):c.h=m}function Pa(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ks.prototype.cancel=function(){if(this.i=Aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Aa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return j(c.i)}function Se(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var m=[],_=c.length,I=0;I<_;I++)m.push(c[I]);return m}m=[],_=0;for(I in c)m[_++]=c[I];return m}function qe(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const I in c)m[_++]=I;return m}}}function St(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=qe(c),I=Se(c),B=I.length,J=0;J<B;J++)m.call(void 0,I[J],_&&_[J],c)}var rn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ae(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),B=null;if(0<=I){var J=c[_].substring(0,I);B=c[_].substring(I+1)}else J=c[_];m(J,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function cr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof cr){this.h=c.h,In(this,c.j),this.o=c.o,this.g=c.g,ki(this,c.s),this.l=c.l;var m=c.i,_=new hs;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Pi(this,_),this.m=c.m}else c&&(m=String(c).match(rn))?(this.h=!1,In(this,m[1]||"",!0),this.o=Ze(m[2]||""),this.g=Ze(m[3]||"",!0),ki(this,m[4]),this.l=Ze(m[5]||"",!0),Pi(this,m[6]||"",!0),this.m=Ze(m[7]||"")):(this.h=!1,this.i=new hs(null,this.h))}cr.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Ni(m,Na,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ni(m,Na,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ni(_,_.charAt(0)=="/"?Au:Pu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ni(_,rc)),c.join("")};function Kt(c){return new cr(c)}function In(c,m,_){c.j=_?Ze(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ki(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Pi(c,m,_){m instanceof hs?(c.i=m,fs(c.i,c.h)):(_||(m=Ni(m,Nu)),c.i=new hs(m,c.h))}function pt(c,m,_){c.i.set(m,_)}function Ai(c){return pt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ze(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ni(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,ku),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ku(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Na=/[#\/\?@]/g,Pu=/[#\?:]/g,Au=/[#\?]/g,Nu=/[#\?@]/g,rc=/#/g;function hs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ae(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=hs.prototype,t.add=function(c,m){vn(this),this.i=null,c=Sr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function $r(c,m){vn(c),m=Sr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ur(c,m){return vn(c),m=Sr(c,m),c.g.has(m)}t.forEach=function(c,m){vn(this),this.g.forEach(function(_,I){_.forEach(function(B){c.call(m,B,I,this)},this)},this)},t.na=function(){vn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let I=0;I<m.length;I++){const B=c[I];for(let J=0;J<B.length;J++)_.push(m[I])}return _},t.V=function(c){vn(this);let m=[];if(typeof c=="string")Ur(this,c)&&(m=m.concat(this.g.get(Sr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},t.set=function(c,m){return vn(this),this.i=null,c=Sr(this,c),Ur(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Di(c,m,_){$r(c,m),0<_.length&&(c.i=null,c.g.set(Sr(c,m),j(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var I=m[_];const J=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var B=J;he[I]!==""&&(B+="="+encodeURIComponent(String(he[I]))),c.push(B)}}return this.i=c.join("&")};function Sr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function fs(c,m){m&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(_,I){var B=I.toLowerCase();I!=B&&($r(this,I),Di(this,B,_))},c)),c.j=m}function Ff(c,m){const _=new us;if(h.Image){const I=new Image;I.onload=R(Kn,_,"TestLoadImage: loaded",!0,m,I),I.onerror=R(Kn,_,"TestLoadImage: error",!1,m,I),I.onabort=R(Kn,_,"TestLoadImage: abort",!1,m,I),I.ontimeout=R(Kn,_,"TestLoadImage: timeout",!1,m,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else m(!1)}function Du(c,m){const _=new us,I=new AbortController,B=setTimeout(()=>{I.abort(),Kn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:I.signal}).then(J=>{clearTimeout(B),J.ok?Kn(_,"TestPingServer: ok",!0,m):Kn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Kn(_,"TestPingServer: error",!1,m)})}function Kn(c,m,_,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(_)}catch{}}function $f(){this.g=new xo}function Ou(c,m,_){const I=_||"";try{St(c,function(B,J){let he=B;y(B)&&(he=Ci(B)),m.push(I+J+"="+encodeURIComponent(he))})}catch(B){throw m.push(I+"type="+encodeURIComponent("_badmap")),B}}function Qs(c){this.l=c.Ub||null,this.j=c.eb||!1}N(Qs,Bs),Qs.prototype.g=function(){return new Oo(this.l,this.j)},Qs.prototype.i=(function(c){return function(){return c}})({});function Oo(c,m){Vt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Oo,Vt),t=Oo.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,zr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Br(this):zr(this),this.readyState==3&&Lu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Br(this))},t.Qa=function(c){this.g&&(this.response=c,Br(this))},t.ga=function(){this.g&&Br(this)};function Br(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zr(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function zr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Js(c){let m="";return re(c,function(_,I){m+=I,m+=":",m+=_,m+=`\r
`}),m}function Oi(c,m,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Js(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):pt(c,m,_))}function It(c){Vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(It,Vt);var Uf=/^https?$/i,sc=["POST","PUT"];t=It.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ot.g(),this.v=this.o?zs(this.o):zs(Ot),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(J){Lo(this,J);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)_.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())_.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(sc,m,void 0))||I||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of _)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){Lo(this,J)}};function Lo(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Da(c),ur(c)}function Da(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),ur(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ic(this):this.bb())},t.bb=function(){ic(this)};function ic(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Qn(c)!=4||c.Z()!=2)){if(c.u&&Qn(c)==4)Co(c.Ea,0,c);else if(Dt(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var I;if(I=he===0){var B=String(c.D).match(rn)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),I=!Uf.test(B?B.toLowerCase():"")}_=I}if(_)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var J=2<Qn(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",Da(c)}}finally{ur(c)}}}}function ur(c,m){if(c.g){Oa(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Dt(c,"ready");try{_.onreadystatechange=I}catch{}}}function Oa(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Io(m)}};function oc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function La(c){const m={};c=(c.g&&2<=Qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(z(c[I]))continue;var _=V(c[I]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=m[B]||[];m[B]=J,J.push(_)}P(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function ac(c){this.Aa=0,this.i=[],this.j=new us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ps("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ps("baseRetryDelayMs",5e3,c),this.cb=ps("retryDelaySeedMs",1e4,c),this.Wa=ps("forwardChannelMaxRetries",2,c),this.wa=ps("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ks(c&&c.concurrentRequestLimit),this.Da=new $f,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ac.prototype,t.la=8,t.G=1,t.connect=function(c,m,_,I){Tt(0),this.W=c,this.H=m||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=Fu(this,null,this.W),ms(this)};function _n(c){if(Ma(c),c.G==3){var m=c.U++,_=Kt(c.I);if(pt(_,"SID",c.K),pt(_,"RID",m),pt(_,"TYPE","terminate"),Ys(c,_),m=new ar(c,c.j,m),m.L=2,m.v=Ai(Kt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=m.v,_=!0),_||(m.g=$u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ht(m)}ju(c)}function Hr(c){c.g&&(lc(c),c.g.cancel(),c.g=null)}function Ma(c){Hr(c),c.u&&(h.clearTimeout(c.u),c.u=null),Fa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function ms(c){if(!jn(c.h)&&!c.s){c.s=!0;var m=c.Ga;se||Y(),Z||(se(),Z=!0),W.add(m,c),c.B=0}}function Bf(c,m){return ka(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=qn(C(c.Ga,c,m),Vu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new ar(this,this.j,c);let J=this.o;if(this.S&&(J?(J=T(J),O(J,this.S)):J=this.S),this.m!==null||this.O||(B.H=J,J=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Li(this,B,m),_=Kt(this.I),pt(_,"RID",c),pt(_,"CVER",22),this.D&&pt(_,"X-HTTP-Session-Id",this.D),Ys(this,_),J&&(this.O?m="headers="+encodeURIComponent(String(Js(J)))+"&"+m:this.m&&Oi(_,this.m,J)),Do(this.h,B),this.Ua&&pt(_,"TYPE","init"),this.P?(pt(_,"$req",m),pt(_,"SID","null"),B.T=!0,Gs(B,_,null)):Gs(B,_,m),this.G=2}}else this.G==3&&(c?Va(this,c):this.i.length==0||jn(this.h)||Va(this))};function Va(c,m){var _;m?_=m.l:_=c.U++;const I=Kt(c.I);pt(I,"SID",c.K),pt(I,"RID",_),pt(I,"AID",c.T),Ys(c,I),c.m&&c.o&&Oi(I,c.m,c.o),_=new ar(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Li(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Do(c.h,_),Gs(_,I,m)}function Ys(c,m){c.H&&re(c.H,function(_,I){pt(m,I,_)}),c.l&&St({},function(_,I){pt(m,I,_)})}function Li(c,m,_){_=Math.min(c.i.length,_);var I=c.l?C(c.l.Na,c.l,c):null;e:{var B=c.i;let J=-1;for(;;){const he=["count="+_];J==-1?0<_?(J=B[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let dt=!0;for(let sn=0;sn<_;sn++){let tt=B[sn].g;const dn=B[sn].map;if(tt-=J,0>tt)J=Math.max(0,B[sn].g-100),dt=!1;else try{Ou(dn,he,"req"+tt+"_")}catch{I&&I(dn)}}if(dt){I=he.join("&");break e}}}return c=c.i.splice(0,_),m.D=c,I}function Mo(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;se||Y(),Z||(se(),Z=!0),W.add(m,c),c.v=0}}function ja(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=qn(C(c.Fa,c),Vu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=qn(C(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Hr(this),Mu(this))};function lc(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Mu(c){c.g=new ar(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Kt(c.qa);pt(m,"RID","rpc"),pt(m,"SID",c.K),pt(m,"AID",c.T),pt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&pt(m,"TO",c.ja),pt(m,"TYPE","xmlhttp"),Ys(c,m),c.m&&c.o&&Oi(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ai(Kt(m)),_.m=null,_.P=!0,Ao(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Hr(this),ja(this),Tt(19))};function Fa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function $a(c,m){var _=null;if(c.g==m){Fa(c),lc(c),c.g=null;var I=2}else if(Lt(c.h,m))_=m.D,Pa(c.h,m),I=1;else return;if(c.G!=0){if(m.o)if(I==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var B=c.B;I=cs(),Dt(I,new Hs(I,_)),ms(c)}else Mo(c);else if(B=m.s,B==3||B==0&&0<m.X||!(I==1&&Bf(c,m)||I==2&&ja(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),B){case 1:Xs(c,5);break;case 4:Xs(c,10);break;case 3:Xs(c,6);break;default:Xs(c,2)}}}function Vu(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function Xs(c,m){if(c.j.info("Error code "+m),m==2){var _=C(c.fb,c),I=c.Xa;const B=!I;I=new cr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||In(I,"https"),Ai(I),B?Ff(I.toString(),_):Du(I.toString(),_)}else Tt(2);c.G=0,c.l&&c.l.sa(m),ju(c),Ma(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function ju(c){if(c.G=0,c.ka=[],c.l){const m=Aa(c.h);(m.length!=0||c.i.length!=0)&&(D(c.ka,m),D(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Fu(c,m,_){var I=_ instanceof cr?Kt(_):new cr(_);if(I.g!="")m&&(I.g=m+"."+I.g),ki(I,I.s);else{var B=h.location;I=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var J=new cr(null);I&&In(J,I),m&&(J.g=m),B&&ki(J,B),_&&(J.l=_),I=J}return _=c.D,m=c.ya,_&&m&&pt(I,_,m),pt(I,"VER",c.la),Ys(c,I),I}function $u(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new It(new Qs({eb:_})):new It(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}t=cc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ua(){}Ua.prototype.g=function(c,m){return new Fn(c,m)};function Fn(c,m){Vt.call(this),this.g=new ac(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!z(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!z(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new gs(this)}N(Fn,Vt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){_n(this.g)},Fn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ci(c),c=_);m.i.push(new Ra(m.Ya++,c)),m.G==3&&ms(m)},Fn.prototype.N=function(){this.g.l=null,delete this.j,_n(this.g),delete this.g,Fn.aa.N.call(this)};function Uu(c){or.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}N(Uu,or);function Bu(){Er.call(this),this.status=1}N(Bu,Er);function gs(c){this.g=c}N(gs,cc),gs.prototype.ua=function(){Dt(this.g,"a")},gs.prototype.ta=function(c){Dt(this.g,new Uu(c))},gs.prototype.sa=function(c){Dt(this.g,new Bu)},gs.prototype.ra=function(){Dt(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,$1=function(){return new Ua},F1=function(){return cs()},j1=br,Wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,Zd=Ws,Po.COMPLETE="complete",V1=Po,Ti.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,jc=Ti,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,M1=It}).apply(typeof Vd<"u"?Vd:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",G_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new kg("@firebase/firestore");function dl(){return ha.logLevel}function me(t,...e){if(ha.logLevel<=Je.DEBUG){const n=e.map(Bg);ha.debug(`Firestore (${Bl}): ${t}`,...n)}}function yi(t,...e){if(ha.logLevel<=Je.ERROR){const n=e.map(Bg);ha.error(`Firestore (${Bl}): ${t}`,...n)}}function Cl(t,...e){if(ha.logLevel<=Je.WARN){const n=e.map(Bg);ha.warn(`Firestore (${Bl}): ${t}`,...n)}}function Bg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,U1(t,r,n)}function U1(t,e,n){let r=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yi(r),new Error(r)}function lt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||U1(e,o,r)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class wP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vP{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new di;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new di,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new di)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt(typeof r.accessToken=="string",31837,{l:r}),new B1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class _P{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _P(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new K_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=CP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function Gm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),a=e.charAt(r);if(o!==a)return _m(o)===_m(a)?Ye(o,a):_m(o)?1:-1}return Ye(t.length,e.length)}const TP=55296,SP=57343;function _m(t){const e=t.charCodeAt(0);return e>=TP&&e<=SP}function Tl(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class Es{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&De(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=Es.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Ye(e.length,n.length)}static compareSegments(e,n){const r=Es.isNumericId(e),o=Es.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Es.extractNumericId(e).compare(Es.extractNumericId(n)):Gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lo.fromString(e.substring(4,e.length-2))}}class yt extends Es{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new yt(n)}static emptyPath(){return new yt([])}}const IP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends Es{construct(e,n,r){return new Tn(e,n,r)}static isValidIdentifier(e){return IP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new Tn([Q_])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(yt.fromString(e))}static fromName(e){return new Ce(yt.fromString(e).popFirst(5))}static empty(){return new Ce(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xP(t,e,n,r){if(e===!0&&r===!0)throw new fe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J_(t){if(!Ce.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Y_(t){if(Ce.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function H1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function Ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(t);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function mu(t,e){if(!H1(t))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(o&&typeof u!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,Z_=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Z_);return new Ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<X_)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:nn("string",Ct._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Ct(0,0))}static max(){return new Me(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function RP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new fo(o,Ce.empty(),e)}function kP(t){return new fo(t.readTime,t.key,eu)}class fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fo(Me.min(),Ce.empty(),eu)}static max(){return new fo(Me.max(),Ce.empty(),eu)}}function PP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==AP)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let o=0,a=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++a,u&&a===o&&n()}),(f=>r(f)))})),u=!0,a===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((o=>o?ne.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,a)=>{r.push(n.call(this,o,a))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const y=f;n(e[y]).next((w=>{u[y]=w,++h,h===a&&r(u)}),(w=>o(w)))}}))}static doWhile(e,n){return new ne(((r,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):r()};a()}))}}function DP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=-1;function of(t){return t==null}function bh(t){return t===0&&1/t==-1/0}function OP(t){return typeof t=="number"&&Number.isInteger(t)&&!bh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="";function LP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=e0(e)),e=MP(t.get(n),e);return e0(e)}function MP(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case q1:n+="";break;default:n+=a}}return n}function e0(t){return t+q1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function W1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jd(this.root,e,this.comparator,!0)}}class jd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??Cn.RED,this.left=o??Cn.EMPTY,this.right=a??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new Cn(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Cn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new n0(this.data.getIterator())}getIteratorFrom(e){return new n0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class n0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new gr([])}unionWith(e){let n=new cn(Tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new G1("Invalid base64 string: "+a):a}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const VP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=VP.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mo(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="server_timestamp",Q1="__type__",J1="__previous_value__",Y1="__local_write_time__";function qg(t){return(t?.mapValue?.fields||{})[Q1]?.stringValue===K1}function af(t){const e=t.mapValue.fields[J1];return qg(e)?af(e):e}function tu(t){const e=po(t.mapValue.fields[Y1].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,r,o,a,u,h,f,y,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=y,this.isUsingEmulator=w}}const Ch="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="__type__",FP="__max__",Fd={mapValue:{}},Z1="__vector__",Th="value";function go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qg(t)?4:UP(t)?9007199254740991:$P(t)?10:11:De(28295,{value:t})}function Os(t,e){if(t===e)return!0;const n=go(t);if(n!==go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tu(t).isEqual(tu(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=po(o.timestampValue),h=po(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return mo(o.bytesValue).isEqual(mo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Bt(o.geoPointValue.latitude)===Bt(a.geoPointValue.latitude)&&Bt(o.geoPointValue.longitude)===Bt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Bt(o.integerValue)===Bt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Bt(o.doubleValue),h=Bt(a.doubleValue);return u===h?bh(u)===bh(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Tl(t.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(t0(u)!==t0(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Os(u[f],h[f])))return!1;return!0})(t,e);default:return De(52216,{left:t})}}function ru(t,e){return(t.values||[]).find((n=>Os(n,e)))!==void 0}function Sl(t,e){if(t===e)return 0;const n=go(t),r=go(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=Bt(a.integerValue||a.doubleValue),f=Bt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return r0(t.timestampValue,e.timestampValue);case 4:return r0(tu(t),tu(e));case 5:return Gm(t.stringValue,e.stringValue);case 6:return(function(a,u){const h=mo(a),f=mo(u);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let y=0;y<h.length&&y<f.length;y++){const w=Ye(h[y],f[y]);if(w!==0)return w}return Ye(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Ye(Bt(a.latitude),Bt(u.latitude));return h!==0?h:Ye(Bt(a.longitude),Bt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return s0(t.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},y=h[Th]?.arrayValue,w=f[Th]?.arrayValue,b=Ye(y?.values?.length||0,w?.values?.length||0);return b!==0?b:s0(y,w)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Fd.mapValue&&u===Fd.mapValue)return 0;if(a===Fd.mapValue)return 1;if(u===Fd.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),y=u.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let b=0;b<f.length&&b<w.length;++b){const C=Gm(f[b],w[b]);if(C!==0)return C;const R=Sl(h[f[b]],y[w[b]]);if(R!==0)return R}return Ye(f.length,w.length)})(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function r0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=po(t),r=po(e),o=Ye(n.seconds,r.seconds);return o!==0?o:Ye(n.nanos,r.nanos)}function s0(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=Sl(n[o],r[o]);if(a)return a}return Ye(n.length,r.length)}function Il(t){return Km(t)}function Km(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=po(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return mo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=Km(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Km(n.fields[u])}`;return o+"}"})(t.mapValue):De(61005,{value:t})}function eh(t){switch(go(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(t);return e?16+eh(e):16;case 5:return 2*t.stringValue.length;case 6:return mo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+eh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return vo(r.fields,((a,u)=>{o+=a.length+eh(u)})),o})(t.mapValue);default:throw De(13486,{value:t})}}function i0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qm(t){return!!t&&"integerValue"in t}function Wg(t){return!!t&&"arrayValue"in t}function o0(t){return!!t&&"nullValue"in t}function a0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}function $P(t){return(t?.mapValue?.fields||{})[X1]?.stringValue===Z1}function qc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=qc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qc(t.arrayValue.values[n]);return e}return{...t}}function UP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===FP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(n)}setAll(e){let n=Tn.emptyPath(),r={},o=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,o),r={},o=[],n=h.popLast()}u?r[h.lastSegment()]=qc(u):o.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){vo(n,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new rr(qc(this.value))}}function eb(t){const e=[];return vo(t.fields,((n,r)=>{const o=new Tn([n]);if(th(r)){const a=eb(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r,o,a,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Dn(e,0,Me.min(),Me.min(),Me.min(),rr.empty(),0)}static newFoundDocument(e,n,r,o){return new Dn(e,1,n,Me.min(),r,o,0)}static newNoDocument(e,n){return new Dn(e,2,n,Me.min(),Me.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Me.min(),Me.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function l0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?r=Ce.comparator(Ce.fromName(u.referenceValue),n.key):r=Sl(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function c0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Os(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n="asc"){this.field=e,this.dir=n}}function BP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{}class en extends tb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HP(e,n,r):n==="array-contains"?new GP(e,r):n==="in"?new KP(e,r):n==="not-in"?new QP(e,r):n==="array-contains-any"?new JP(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qP(e,r):new WP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sl(n,this.value)):n!==null&&go(this.value)===go(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends tb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ts(e,n)}matches(e){return nb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nb(t){return t.op==="and"}function rb(t){return zP(t)&&nb(t)}function zP(t){for(const e of t.filters)if(e instanceof ts)return!1;return!0}function Jm(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+Il(t.value);if(rb(t))return t.filters.map((e=>Jm(e))).join(",");{const e=t.filters.map((n=>Jm(n))).join(",");return`${t.op}(${e})`}}function sb(t,e){return t instanceof en?(function(r,o){return o instanceof en&&r.op===o.op&&r.field.isEqual(o.field)&&Os(r.value,o.value)})(t,e):t instanceof ts?(function(r,o){return o instanceof ts&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,h)=>a&&sb(u,o.filters[h])),!0):!1})(t,e):void De(19439)}function ib(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${Il(n.value)}`})(t):t instanceof ts?(function(n){return n.op.toString()+" {"+n.getFilters().map(ib).join(" ,")+"}"})(t):"Filter"}class HP extends en{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class qP extends en{constructor(e,n){super(e,"in",n),this.keys=ob("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WP extends en{constructor(e,n){super(e,"not-in",n),this.keys=ob("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ob(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class GP extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wg(n)&&ru(n.arrayValue,this.value)}}class KP extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class QP extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class JP extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ru(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function u0(t,e=null,n=[],r=[],o=null,a=null,u=null){return new YP(t,e,n,r,o,a,u)}function Gg(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Jm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Il(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Il(r))).join(",")),e.Te=n}return e.Te}function Kg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c0(t.startAt,e.startAt)&&c0(t.endAt,e.endAt)}function Ym(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n=null,r=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XP(t,e,n,r,o,a,u,h){return new gu(t,e,n,r,o,a,u,h)}function Qg(t){return new gu(t)}function d0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ab(t){return t.collectionGroup!==null}function Wc(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new cn(Tn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((y=>{y.isInequality()&&(h=h.add(y.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ih(a,r))})),n.has(Tn.keyField().canonicalString())||e.Ie.push(new Ih(Tn.keyField(),r))}return e.Ie}function Rs(t){const e=je(t);return e.Ee||(e.Ee=ZP(e,Wc(t))),e.Ee}function ZP(t,e){if(t.limitType==="F")return u0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Ih(o.field,a)}));const n=t.endAt?new Sh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sh(t.startAt.position,t.startAt.inclusive):null;return u0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xm(t,e){const n=t.filters.concat([e]);return new gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zm(t,e,n){return new gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lf(t,e){return Kg(Rs(t),Rs(e))&&t.limitType===e.limitType}function lb(t){return`${Gg(Rs(t))}|lt:${t.limitType}`}function hl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>ib(o))).join(", ")}]`),of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Il(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Il(o))).join(",")),`Target(${r})`})(Rs(t))}; limitType=${t.limitType})`}function cf(t,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ce.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,o){for(const a of Wc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(u,h,f){const y=l0(u,h,f);return u.inclusive?y<=0:y<0})(r.startAt,Wc(r),o)||r.endAt&&!(function(u,h,f){const y=l0(u,h,f);return u.inclusive?y>=0:y>0})(r.endAt,Wc(r),o))})(t,e)}function e2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cb(t){return(e,n)=>{let r=!1;for(const o of Wc(t)){const a=t2(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function t2(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(a,u,h){const f=u.data.field(a),y=h.data.field(a);return f!==null&&y!==null?Sl(f,y):De(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,((n,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return W1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Nt(Ce.comparator);function wi(){return n2}const ub=new Nt(Ce.comparator);function Fc(...t){let e=ub;for(const n of t)e=e.insert(n.key,n);return e}function db(t){let e=ub;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function na(){return Gc()}function hb(){return Gc()}function Gc(){return new _a((t=>t.toString()),((t,e)=>t.isEqual(e)))}const r2=new Nt(Ce.comparator),s2=new cn(Ce.comparator);function Xe(...t){let e=s2;for(const n of t)e=e.add(n);return e}const i2=new cn(Ye);function o2(){return i2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function fb(t){return{integerValue:""+t}}function pb(t,e){return OP(e)?fb(e):Jg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function a2(t,e,n){return t instanceof su?(function(o,a){const u={fields:{[Q1]:{stringValue:K1},[Y1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&qg(a)&&(a=af(a)),a&&(u.fields[J1]=a),{mapValue:u}})(n,e):t instanceof xl?gb(t,e):t instanceof Rl?yb(t,e):(function(o,a){const u=mb(o,a),h=h0(u)+h0(o.Ae);return Qm(u)&&Qm(o.Ae)?fb(h):Jg(o.serializer,h)})(t,e)}function l2(t,e,n){return t instanceof xl?gb(t,e):t instanceof Rl?yb(t,e):n}function mb(t,e){return t instanceof iu?(function(r){return Qm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class su extends uf{}class xl extends uf{constructor(e){super(),this.elements=e}}function gb(t,e){const n=wb(e);for(const r of t.elements)n.some((o=>Os(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Rl extends uf{constructor(e){super(),this.elements=e}}function yb(t,e){let n=wb(e);for(const r of t.elements)n=n.filter((o=>!Os(o,r)));return{arrayValue:{values:n}}}class iu extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function h0(t){return Bt(t.integerValue||t.doubleValue)}function wb(t){return Wg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n){this.field=e,this.transform=n}}function c2(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof xl&&o instanceof xl||r instanceof Rl&&o instanceof Rl?Tl(r.elements,o.elements,Os):r instanceof iu&&o instanceof iu?Os(r.Ae,o.Ae):r instanceof su&&o instanceof su})(t.transform,e.transform)}class u2{constructor(e,n){this.version=e,this.transformResults=n}}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hf{}function vb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yg(t.key,Zr.none()):new yu(t.key,t.data,Zr.none());{const n=t.data,r=rr.empty();let o=new cn(Tn.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new _o(t.key,r,new gr(o.toArray()),Zr.none())}}function d2(t,e,n){t instanceof yu?(function(o,a,u){const h=o.value.clone(),f=p0(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof _o?(function(o,a,u){if(!nh(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=p0(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(_b(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Kc(t,e,n,r){return t instanceof yu?(function(a,u,h,f){if(!nh(a.precondition,u))return h;const y=a.value.clone(),w=m0(a.fieldTransforms,f,u);return y.setAll(w),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,n,r):t instanceof _o?(function(a,u,h,f){if(!nh(a.precondition,u))return h;const y=m0(a.fieldTransforms,f,u),w=u.data;return w.setAll(_b(a)),w.setAll(y),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(a,u,h){return nh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function h2(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=mb(r.transform,o||null);a!=null&&(n===null&&(n=rr.empty()),n.set(r.field,a))}return n||null}function f0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Tl(r,o,((a,u)=>c2(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends hf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _o extends hf{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _b(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function p0(t,e,n){const r=new Map;lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,l2(u,h,n[o]))}return r}function m0(t,e,n){const r=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);r.set(o.field,a2(a,u,e))}return r}class Yg extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f2 extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&d2(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hb();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(o.key)?null:h;const f=vb(u,h);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Me.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,((n,r)=>f0(n,r)))&&Tl(this.baseMutations,e.baseMutations,((n,r)=>f0(n,r)))}}class Xg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){lt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return r2})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new Xg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,nt;function y2(t){switch(t){case te.OK:return De(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function Eb(t){if(t===void 0)return yi("GRPC error has no .code"),te.UNKNOWN;switch(t){case Yt.OK:return te.OK;case Yt.CANCELLED:return te.CANCELLED;case Yt.UNKNOWN:return te.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return te.INTERNAL;case Yt.UNAVAILABLE:return te.UNAVAILABLE;case Yt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Yt.NOT_FOUND:return te.NOT_FOUND;case Yt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Yt.ABORTED:return te.ABORTED;case Yt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Yt.DATA_LOSS:return te.DATA_LOSS;default:return De(39323,{code:t})}}(nt=Yt||(Yt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new lo([4294967295,4294967295],0);function g0(t){const e=w2().encode(t),n=new L1;return n.update(e),new Uint8Array(n.digest())}function y0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new lo([n,r],0),new lo([o,a],0)]}class Zg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $c(`Invalid padding: ${n}`);if(r<0)throw new $c(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $c(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $c(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=lo.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(lo.fromNumber(r)));return o.compare(v2)===1&&(o=new lo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=g0(e),[r,o]=y0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Zg(a,o,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=g0(e),[r,o]=y0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ff(Me.min(),o,new Nt(Ye),wi(),Xe())}}class wu{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wu(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class bb{constructor(e,n){this.targetId=e,this.Ce=n}}class Cb{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class w0{constructor(){this.ve=0,this.Fe=v0(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:De(38017,{changeType:a})}})),new wu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=v0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _2{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.Je=$d(),this.He=$d(),this.Ye=new Nt(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Ym(a))if(r===0){const u=new Ce(a.path);this.et(n,u,Dn.newNoDocument(u,Me.min()))}else lt(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let u,h;try{u=mo(r).toUint8Array()}catch(f){if(f instanceof G1)return Cl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Zg(u,o,a)}catch(f){return Cl(f instanceof $c?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&Ym(h.target)){const f=new Ce(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Dn.newNoDocument(f,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let r=Xe();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const y=this.ot(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new ff(e,n,this.Ye,this.je,r);return this.je=wi(),this.Je=$d(),this.He=$d(),this.Ye=new Nt(Ye),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new w0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new cn(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new cn(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $d(){return new Nt(Ce.comparator)}function v0(){return new Nt(Ce.comparator)}const E2={asc:"ASCENDING",desc:"DESCENDING"},b2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C2={and:"AND",or:"OR"};class T2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eg(t,e){return t.useProto3Json||of(e)?e:{value:e}}function xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S2(t,e){return xh(t,e.toTimestamp())}function ks(t){return lt(!!t,49232),Me.fromTimestamp((function(n){const r=po(n);return new Ct(r.seconds,r.nanos)})(t))}function ey(t,e){return tg(t,e).canonicalString()}function tg(t,e){const n=(function(o){return new yt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Sb(t){const e=yt.fromString(t);return lt(Pb(e),10190,{key:e.toString()}),e}function ng(t,e){return ey(t.databaseId,e.path)}function Em(t,e){const n=Sb(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(xb(n))}function Ib(t,e){return ey(t.databaseId,e)}function I2(t){const e=Sb(t);return e.length===4?yt.emptyPath():xb(e)}function rg(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xb(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _0(t,e,n){return{name:ng(t,e),fields:n.value.mapValue.fields}}function x2(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:De(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(y,w){return y.useProto3Json?(lt(w===void 0||typeof w=="string",58123),Sn.fromBase64String(w||"")):(lt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Sn.fromUint8Array(w||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(y){const w=y.code===void 0?te.UNKNOWN:Eb(y.code);return new fe(w,y.message||"")})(u);n=new Cb(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Em(t,r.document.name),a=ks(r.document.updateTime),u=r.document.createTime?ks(r.document.createTime):Me.min(),h=new rr({mapValue:{fields:r.document.fields}}),f=Dn.newFoundDocument(o,a,u,h),y=r.targetIds||[],w=r.removedTargetIds||[];n=new rh(y,w,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Em(t,r.document),a=r.readTime?ks(r.readTime):Me.min(),u=Dn.newNoDocument(o,a),h=r.removedTargetIds||[];n=new rh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Em(t,r.document),a=r.removedTargetIds||[];n=new rh([],a,o,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new g2(o,a),h=r.targetId;n=new bb(h,u)}}return n}function R2(t,e){let n;if(e instanceof yu)n={update:_0(t,e.key,e.value)};else if(e instanceof Yg)n={delete:ng(t,e.key)};else if(e instanceof _o)n={update:_0(t,e.key,e.data),updateMask:V2(e.fieldMask)};else{if(!(e instanceof f2))return De(16599,{Vt:e.type});n={verify:ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof su)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof xl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Rl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof iu)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw De(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:S2(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:De(27497)})(t,e.precondition)),n}function k2(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?ks(o.updateTime):ks(a);return u.isEqual(Me.min())&&(u=ks(a)),new u2(u,o.transformResults||[])})(n,e)))):[]}function P2(t,e){return{documents:[Ib(t,e.path)]}}function A2(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ib(t,o);const a=(function(y){if(y.length!==0)return kb(ts.create(y,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(y){if(y.length!==0)return y.map((w=>(function(C){return{field:fl(C.field),direction:O2(C.dir)}})(w)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=eg(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function N2(t){let e=I2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){lt(r===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];n.where&&(a=(function(b){const C=Rb(b);return C instanceof ts&&rb(C)?C.getFilters():[C]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((C=>(function(N){return new Ih(pl(N.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(C)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let C;return C=typeof b=="object"?b.value:b,of(C)?null:C})(n.limit));let f=null;n.startAt&&(f=(function(b){const C=!!b.before,R=b.values||[];return new Sh(R,C)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const C=!b.before,R=b.values||[];return new Sh(R,C)})(n.endAt)),XP(e,o,u,a,h,"F",f,y)}function D2(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Rb(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pl(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=pl(n.unaryFilter.field);return en.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=pl(n.unaryFilter.field);return en.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=pl(n.unaryFilter.field);return en.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(t):t.fieldFilter!==void 0?(function(n){return en.create(pl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ts.create(n.compositeFilter.filters.map((r=>Rb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(t):De(30097,{filter:t})}function O2(t){return E2[t]}function L2(t){return b2[t]}function M2(t){return C2[t]}function fl(t){return{fieldPath:t.canonicalString()}}function pl(t){return Tn.fromServerFormat(t.fieldPath)}function kb(t){return t instanceof en?(function(n){if(n.op==="=="){if(a0(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NAN"}};if(o0(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a0(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NAN"}};if(o0(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(n.field),op:L2(n.op),value:n.value}}})(t):t instanceof ts?(function(n){const r=n.getFilters().map((o=>kb(o)));return r.length===1?r[0]:{compositeFilter:{op:M2(n.op),filters:r}}})(t):De(54877,{filter:t})}function V2(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Pb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,r,o,a=Me.min(),u=Me.min(),h=Sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.yt=e}}function F2(t){const e=N2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.Cn=new U2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(fo.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class U2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new cn(yt.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new cn(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ab=41943040;class nr{static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(Ab,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new kl(0)}static cr(){return new kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="LruGarbageCollector",B2=1048576;function C0([t,e],[n,r]){const o=Ye(t,n);return o===0?Ye(e,r):o}class z2{constructor(e){this.Ir=e,this.buffer=new cn(C0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();C0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class H2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(b0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hl(n)?me(b0,"Ignoring IndexedDB error during garbage collection: ",n):await zl(n)}await this.Vr(3e5)}))}}class q2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(sf.ce);const r=new z2(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(E0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,a,u,h,f,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,n)))).next((b=>(a=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),dl()<=Je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-w}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(y-f)+`ms
Total Duration: ${y-w}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:b}))))}}function W2(t,e){return new q2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.changes=new _a((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Kc(r.mutation,o,gr.empty(),Ct.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const o=na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((a=>{let u=Fc();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=na();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const o=[];return r.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,o){let a=wi();const u=Gc(),h=(function(){return Gc()})();return n.forEach(((f,y)=>{const w=r.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof _o)?a=a.insert(y.key,y):w!==void 0?(u.set(y.key,w.mutation.getFieldMask()),Kc(w.mutation,y,w.mutation.getFieldMask(),Ct.now())):u.set(y.key,gr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((y,w)=>u.set(y,w))),n.forEach(((y,w)=>h.set(y,new K2(w,u.get(y)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Gc();let o=new Nt(((u,h)=>u-h)),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((f=>{const y=n.get(f);if(y===null)return;let w=r.get(f)||gr.empty();w=h.applyToLocalView(y,w),r.set(f,w);const b=(o.get(h.batchId)||Xe()).add(f);o=o.insert(h.batchId,b)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),y=f.key,w=f.value,b=hb();w.forEach((C=>{if(!a.has(C)){const R=vb(n.get(C),r.get(C));R!==null&&b.set(C,R),a=a.add(C)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ne.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ab(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):ne.resolve(na());let h=eu,f=a;return u.next((y=>ne.forEach(y,((w,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),a.get(w)?ne.resolve():this.remoteDocumentCache.getEntry(e,w).next((C=>{f=f.insert(w,C)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,f,y,Xe()))).next((w=>({batchId:h,changes:db(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((r=>{let o=Fc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let u=Fc();return this.indexManager.getCollectionParents(e,a).next((h=>ne.forEach(h,(f=>{const y=(function(b,C){return new gu(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((w=>{w.forEach(((b,C)=>{u=u.insert(b,C)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o)))).next((u=>{a.forEach(((f,y)=>{const w=y.getKey();u.get(w)===null&&(u=u.insert(w,Dn.newInvalidDocument(w)))}));let h=Fc();return u.forEach(((f,y)=>{const w=a.get(f);w!==void 0&&Kc(w.mutation,y,gr.empty(),Ct.now()),cf(n,y)&&(h=h.insert(f,y))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ks(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:F2(o.bundledQuery),readTime:ks(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.overlays=new Nt(Ce.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=na();return ne.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,a)=>{this.St(e,n,a)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const o=na(),a=n.length+1,u=new Ce(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,y=f.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new Nt(((y,w)=>y-w));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let w=a.get(y.largestBatchId);w===null&&(w=na(),a=a.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const h=na(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((y,w)=>h.set(y,w))),!(h.size()>=o)););return ne.resolve(h)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new m2(n,r));let a=this.qr.get(n);a===void 0&&(a=Xe(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.Qr=new cn(mn.$r),this.Ur=new cn(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new mn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new mn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ce(new yt([])),r=new mn(n,e),o=new mn(n,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new yt([])),r=new mn(n,e),o=new mn(n,e+1);let a=Xe();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new mn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new cn(mn.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new p2(a,n,r,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new mn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Hg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),o=new mn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const h=this.Xr(u.Yr);a.push(h)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(Ye);return n.forEach((o=>{const a=new mn(o,0),u=new mn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{r=r.add(h.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;Ce.isDocumentKey(a)||(a=a.child(""));const u=new mn(new Ce(a),0);let h=new cn(Ye);return this.Zr.forEachWhile((f=>{const y=f.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(h=h.add(f.Yr)),!0)}),u),ne.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,(o=>{const a=new mn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new mn(n,0),o=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.ri=e,this.docs=(function(){return new Nt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=wi();return n.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Dn.newInvalidDocument(o))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=wi();const u=n.path,h=new Ce(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:y,value:{document:w}}=f.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||PP(kP(w),r)<=0||(o.has(w.key)||cf(n,w))&&(a=a.insert(w.key,w.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,n,r,o){De(9500)}ii(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new tA(this)}getSize(e){return ne.resolve(this.size)}}class tA extends G2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.persistence=e,this.si=new _a((n=>Gg(n)),Kg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new ty,this.targetCount=0,this.ai=kl.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new kl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ne.waitFor(a).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new X2,this.referenceDelegate=e(this),this.Pi=new nA(this),this.indexManager=new $2,this.remoteDocumentCache=(function(o){return new eA(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new j2(n),this.Ii=new J2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Z2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const o=new rA(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class rA extends NP{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Ri=new ty,this.Vi=null}static mi(e){return new ny(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const o=Ce.fromPath(r);return this.gi(e,o).next((a=>{a||n.removeEntry(o,Me.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new _a((r=>LP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=W2(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?ne.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,a.removeEntry(u,Me.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Xe(),o=Xe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ry(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NI()?8:DP(Ln())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new sA;return this.Ss(e,n,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>a.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(dl()<=Je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",hl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(dl()<=Je.DEBUG&&me("QueryEngine","Query:",hl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(dl()<=Je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",hl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rs(n))):ne.resolve())}ys(e,n){if(d0(n))return ne.resolve(null);let r=Rs(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),r=Rs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Xe(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const y=this.Ds(n,h);return this.Cs(n,y,u,f.readTime)?this.ys(e,Zm(n,null,"F")):this.vs(e,y,n,f)}))))})))))}ws(e,n,r,o){return d0(n)||o.isEqual(Me.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,r,o)?ne.resolve(null):(dl()<=Je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hl(n)),this.vs(e,u,n,RP(o,eu)).next((h=>h)))}))}Ds(e,n){let r=new cn(cb(e));return n.forEach(((o,a)=>{cf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return dl()<=Je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",hl(n)),this.ps.getDocumentsMatchingQuery(e,n,fo.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="LocalStore",oA=3e8;class aA{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Nt(Ye),this.xs=new _a((a=>Gg(a)),Kg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function lA(t,e,n,r){return new aA(t,e,n,r)}async function Db(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let f=Xe();for(const y of o){u.push(y.batchId);for(const w of y.mutations)f=f.add(w.key)}for(const y of a){h.push(y.batchId);for(const w of y.mutations)f=f.add(w.key)}return n.localDocuments.getDocuments(r,f).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:h})))}))}))}function cA(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,y,w){const b=y.batch,C=b.keys();let R=ne.resolve();return C.forEach((N=>{R=R.next((()=>w.getEntry(f,N))).next((j=>{const D=y.docVersions.get(N);lt(D!==null,48541),j.version.compareTo(D)<0&&(b.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),w.addEntry(j)))}))})),R.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Xe();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(f=f.add(h.batch.mutations[y].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Ob(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function uA(t,e){const n=je(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const h=[];e.targetChanges.forEach(((w,b)=>{const C=o.get(b);if(!C)return;h.push(n.Pi.removeMatchingKeys(a,w.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(a,w.addedDocuments,b))));let R=C.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(Sn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,r)),o=o.insert(b,R),(function(j,D,G){return j.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=oA?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(C,R,w)&&h.push(n.Pi.updateTargetData(a,R))}));let f=wi(),y=Xe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,w))})),h.push(dA(a,u,e.documentUpdates).next((w=>{f=w.ks,y=w.qs}))),!r.isEqual(Me.min())){const w=n.Pi.getLastRemoteSnapshotVersion(a).next((b=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(w)}return ne.waitFor(h).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,y))).next((()=>f))})).then((a=>(n.Ms=o,a)))}function dA(t,e,n){let r=Xe(),o=Xe();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let u=wi();return n.forEach(((h,f)=>{const y=a.get(h);f.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Me.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):me(sy,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function hA(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Hg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fA(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((a=>a?(o=a,ne.resolve(o)):n.Pi.allocateTargetId(r).next((u=>(o=new ro(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function sg(t,e,n){const r=je(t),o=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Hl(u))throw u;me(sy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function T0(t,e,n){const r=je(t);let o=Me.min(),a=Xe();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,y,w){const b=je(f),C=b.xs.get(w);return C!==void 0?ne.resolve(b.Ms.get(C)):b.Pi.getTargetData(y,w)})(r,u,Rs(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?o:Me.min(),n?a:Xe()))).next((h=>(pA(r,e2(e),h),{documents:h,Qs:a})))))}function pA(t,e,n){let r=t.Os.get(e)||Me.min();n.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class S0{constructor(){this.activeTargetIds=o2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mA{constructor(){this.Mo=new S0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="ConnectivityMonitor";class x0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(I0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(I0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud=null;function ig(){return Ud===null?Ud=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ud++,"0x"+Ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="RestConnection",yA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,a){const u=ig(),h=this.zo(e,n.toUriEncodedString());me(bm,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:y}=new URL(h),w=ya(y);return this.Jo(e,h,f,r,w).then((b=>(me(bm,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Cl(bm,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",r),b}))}Ho(e,n,r,o,a,u){return this.Go(e,n,r,o,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const r=yA[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class _A extends wA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const u=ig();return new Promise(((h,f)=>{const y=new M1;y.setWithCredentials(!0),y.listenOnce(V1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Zd.NO_ERROR:const b=y.getResponseJson();me(An,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case Zd.TIMEOUT:me(An,`RPC '${e}' ${u} timed out`),f(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Zd.HTTP_ERROR:const C=y.getStatus();if(me(An,`RPC '${e}' ${u} failed with status:`,C,"response text:",y.getResponseText()),C>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R?.error;if(N&&N.status&&N.message){const j=(function(G){const z=G.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(z)>=0?z:te.UNKNOWN})(N.status);f(new fe(j,N.message))}else f(new fe(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new fe(te.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(An,`RPC '${e}' ${u} completed.`)}}));const w=JSON.stringify(o);me(An,`RPC '${e}' ${u} sending request:`,o),y.send(n,"POST",w,r,15)}))}T_(e,n,r){const o=ig(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=$1(),h=F1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const w=a.join("");me(An,`Creating RPC '${e}' stream ${o}: ${w}`,f);const b=u.createWebChannel(w,f);this.I_(b);let C=!1,R=!1;const N=new vA({Yo:D=>{R?me(An,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(C||(me(An,`Opening RPC '${e}' stream ${o} transport.`),b.open(),C=!0),me(An,`RPC '${e}' stream ${o} sending:`,D),b.send(D))},Zo:()=>b.close()}),j=(D,G,z)=>{D.listen(G,(Q=>{try{z(Q)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return j(b,jc.EventType.OPEN,(()=>{R||(me(An,`RPC '${e}' stream ${o} transport opened.`),N.o_())})),j(b,jc.EventType.CLOSE,(()=>{R||(R=!0,me(An,`RPC '${e}' stream ${o} transport closed`),N.a_(),this.E_(b))})),j(b,jc.EventType.ERROR,(D=>{R||(R=!0,Cl(An,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),N.a_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),j(b,jc.EventType.MESSAGE,(D=>{if(!R){const G=D.data[0];lt(!!G,16349);const z=G,Q=z?.error||z[0]?.error;if(Q){me(An,`RPC '${e}' stream ${o} received error:`,Q);const ee=Q.status;let de=(function(T){const k=Yt[T];if(k!==void 0)return Eb(k)})(ee),re=Q.message;de===void 0&&(de=te.INTERNAL,re="Unknown error status: "+ee+" with message "+Q.message),R=!0,N.a_(new fe(de,re)),b.close()}else me(An,`RPC '${e}' stream ${o} received:`,G),N.u_(G)}})),j(h,j1.STAT_EVENT,(D=>{D.stat===Wm.PROXY?me(An,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===Wm.NOPROXY&&me(An,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t){return new T2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="PersistentStream";class Mb{constructor(e,n,r,o,a,u,h,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(R0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(R0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EA extends Mb{constructor(e,n,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=x2(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Me.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?ks(u.readTime):Me.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=rg(this.serializer),n.addTarget=(function(a,u){let h;const f=u.target;if(h=Ym(f)?{documents:P2(a,f)}:{query:A2(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Tb(a,u.resumeToken);const y=eg(a,u.expectedCount);y!==null&&(h.expectedCount=y)}else if(u.snapshotVersion.compareTo(Me.min())>0){h.readTime=xh(a,u.snapshotVersion.toTimestamp());const y=eg(a,u.expectedCount);y!==null&&(h.expectedCount=y)}return h})(this.serializer,e);const r=D2(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=rg(this.serializer),n.removeTarget=e,this.q_(n)}}class bA extends Mb{constructor(e,n,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=k2(e.writeResults,e.commitTime),r=ks(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>R2(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{}class TA extends CA{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,tg(n,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(te.UNKNOWN,a.toString())}))}Ho(e,n,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,tg(n,r),o,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class IA{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Ea(this)&&(me(fa,"Restarting streams for network reachability change."),await(async function(f){const y=je(f);y.Ea.add(4),await vu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await mf(y)})(this))}))})),this.Ra=new SA(r,o)}}async function mf(t){if(Ea(t))for(const e of t.da)await e(!0)}async function vu(t){for(const e of t.da)await e(!1)}function Vb(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ly(n)?ay(n):ql(n).O_()&&oy(n,e))}function iy(t,e){const n=je(t),r=ql(n);n.Ia.delete(e),r.O_()&&jb(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ea(n)&&n.Ra.set("Unknown"))}function oy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ql(t).Y_(e)}function jb(t,e){t.Va.Ue(e),ql(t).Z_(e)}function ay(t){t.Va=new _2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ql(t).start(),t.Ra.ua()}function ly(t){return Ea(t)&&!ql(t).x_()&&t.Ia.size>0}function Ea(t){return je(t).Ea.size===0}function Fb(t){t.Va=void 0}async function xA(t){t.Ra.set("Online")}async function RA(t){t.Ia.forEach(((e,n)=>{oy(t,e)}))}async function kA(t,e){Fb(t),ly(t)?(t.Ra.ha(e),ay(t)):t.Ra.set("Unknown")}async function PA(t,e,n){if(t.Ra.set("Online"),e instanceof Cb&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))})(t,e)}catch(r){me(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kh(t,r)}else if(e instanceof rh?t.Va.Ze(e):e instanceof bb?t.Va.st(e):t.Va.tt(e),!n.isEqual(Me.min()))try{const r=await Ob(t.localStore);n.compareTo(r)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=a.Ia.get(y);w&&a.Ia.set(y,w.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,y)=>{const w=a.Ia.get(f);if(!w)return;a.Ia.set(f,w.withResumeToken(Sn.EMPTY_BYTE_STRING,w.snapshotVersion)),jb(a,f);const b=new ro(w.target,f,y,w.sequenceNumber);oy(a,b)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){me(fa,"Failed to raise snapshot:",r),await kh(t,r)}}async function kh(t,e,n){if(!Hl(e))throw e;t.Ea.add(1),await vu(t),t.Ra.set("Offline"),n||(n=()=>Ob(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(fa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await mf(t)}))}function $b(t,e){return e().catch((n=>kh(t,n,e)))}async function gf(t){const e=je(t),n=yo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hg;for(;AA(e);)try{const o=await hA(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,NA(e,o)}catch(o){await kh(e,o)}Ub(e)&&Bb(e)}function AA(t){return Ea(t)&&t.Ta.length<10}function NA(t,e){t.Ta.push(e);const n=yo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Ub(t){return Ea(t)&&!yo(t).x_()&&t.Ta.length>0}function Bb(t){yo(t).start()}async function DA(t){yo(t).ra()}async function OA(t){const e=yo(t);for(const n of t.Ta)e.ea(n.mutations)}async function LA(t,e,n){const r=t.Ta.shift(),o=Xg.from(r,e,n);await $b(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await gf(t)}async function MA(t,e){e&&yo(t).X_&&await(async function(r,o){if((function(u){return y2(u)&&u!==te.ABORTED})(o.code)){const a=r.Ta.shift();yo(r).B_(),await $b(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await gf(r)}})(t,e),Ub(t)&&Bb(t)}async function k0(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),me(fa,"RemoteStore received new credentials");const r=Ea(n);n.Ea.add(3),await vu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mf(n)}async function VA(t,e){const n=je(t);e?(n.Ea.delete(2),await mf(n)):e||(n.Ea.add(2),await vu(n),n.Ra.set("Unknown"))}function ql(t){return t.ma||(t.ma=(function(n,r,o){const a=je(n);return a.sa(),new EA(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:xA.bind(null,t),t_:RA.bind(null,t),r_:kA.bind(null,t),H_:PA.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ly(t)?ay(t):t.Ra.set("Unknown")):(await t.ma.stop(),Fb(t))}))),t.ma}function yo(t){return t.fa||(t.fa=(function(n,r,o){const a=je(n);return a.sa(),new bA(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:DA.bind(null,t),r_:MA.bind(null,t),ta:OA.bind(null,t),na:LA.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await gf(t)):(await t.fa.stop(),t.Ta.length>0&&(me(fa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const u=Date.now()+r,h=new cy(e,n,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(t,e){if(yi("AsyncQueue",`${e}: ${t}`),Hl(t))return new fe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=Fc(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this.ga=new Nt(Ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Pl{constructor(e,n,r,o,a,u,h,f,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,a){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Pl(e,n,vl.emptySet(n),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FA{constructor(){this.queries=A0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=je(n),a=o.queries;o.queries=A0(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function A0(){return new _a((t=>lb(t)),lf)}async function zb(t,e){const n=je(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new jA,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=uy(u,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&dy(n)}async function Hb(t,e){const n=je(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $A(t,e){const n=je(t);let r=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const h of u.Sa)h.Fa(o)&&(r=!0);u.wa=o}}r&&dy(n)}function UA(t,e,n){const r=je(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function dy(t){t.Ca.forEach((e=>{e.next()}))}var og,N0;(N0=og||(og={})).Ma="default",N0.Cache="cache";class qb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.key=e}}class Gb{constructor(e){this.key=e}}class BA{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=cb(e),this.tu=new vl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new P0,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,b)=>{const C=o.get(w),R=cf(this.query,b)?b:null,N=!!C&&this.mutatedKeys.has(C.key),j=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;C&&R?C.data.isEqual(R.data)?N!==j&&(r.track({type:3,doc:R}),D=!0):this.su(C,R)||(r.track({type:2,doc:R}),D=!0,(f&&this.eu(R,f)>0||y&&this.eu(R,y)<0)&&(h=!0)):!C&&R?(r.track({type:0,doc:R}),D=!0):C&&!R&&(r.track({type:1,doc:C}),D=!0,(f||y)&&(h=!0)),D&&(R?(u=u.add(R),a=j?a.add(w):a.delete(w)):(u=u.delete(w),a=a.delete(w)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const w=this.query.limitType==="F"?u.last():u.first();u=u.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((w,b)=>(function(R,N){const j=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:D})}};return j(R)-j(N)})(w.type,b.type)||this.eu(w.doc,b.doc))),this.ou(r),o=o??!1;const h=n&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,y=f!==this.Za;return this.Za=f,u.length!==0||y?{snapshot:new Pl(this.query,e.tu,a,u,e.mutatedKeys,f===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new P0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Gb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Wb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hy="SyncEngine";class zA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HA{constructor(e){this.key=e,this.hu=!1}}class qA{constructor(e,n,r,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new _a((h=>lb(h)),lf),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(Ce.comparator),this.Au=new Map,this.Ru=new ty,this.Vu={},this.mu=new Map,this.fu=kl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WA(t,e,n=!0){const r=Zb(t);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await Kb(r,e,n,!0),o}async function GA(t,e){const n=Zb(t);await Kb(n,e,!0,!1)}async function Kb(t,e,n,r){const o=await fA(t.localStore,Rs(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await KA(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&Vb(t.remoteStore,o),h}async function KA(t,e,n,r,o){t.pu=(b,C,R)=>(async function(j,D,G,z){let Q=D.view.ru(G);Q.Cs&&(Q=await T0(j.localStore,D.query,!1).then((({documents:P})=>D.view.ru(P,Q))));const ee=z&&z.targetChanges.get(D.targetId),de=z&&z.targetMismatches.get(D.targetId)!=null,re=D.view.applyChanges(Q,j.isPrimaryClient,ee,de);return O0(j,D.targetId,re.au),re.snapshot})(t,b,C,R);const a=await T0(t.localStore,e,!0),u=new BA(e,a.Qs),h=u.ru(a.documents),f=wu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),y=u.applyChanges(h,t.isPrimaryClient,f);O0(t,n,y.au);const w=new zA(e,n,u);return t.Tu.set(e,w),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function QA(t,e,n){const r=je(t),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!lf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await sg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&iy(r.remoteStore,o.targetId),ag(r,o.targetId)})).catch(zl)):(ag(r,o.targetId),await sg(r.localStore,o.targetId,!0))}async function JA(t,e){const n=je(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iy(n.remoteStore,r.targetId))}async function YA(t,e,n){const r=sN(t);try{const o=await(function(u,h){const f=je(u),y=Ct.now(),w=h.reduce(((R,N)=>R.add(N.key)),Xe());let b,C;return f.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let N=wi(),j=Xe();return f.Ns.getEntries(R,w).next((D=>{N=D,N.forEach(((G,z)=>{z.isValidDocument()||(j=j.add(G))}))})).next((()=>f.localDocuments.getOverlayedDocuments(R,N))).next((D=>{b=D;const G=[];for(const z of h){const Q=h2(z,b.get(z.key).overlayedDocument);Q!=null&&G.push(new _o(z.key,Q,eb(Q.value.mapValue),Zr.exists(!0)))}return f.mutationQueue.addMutationBatch(R,y,G,h)})).next((D=>{C=D;const G=D.applyToLocalDocumentSet(b,j);return f.documentOverlayCache.saveOverlays(R,D.batchId,G)}))})).then((()=>({batchId:C.batchId,changes:db(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,h,f){let y=u.Vu[u.currentUser.toKey()];y||(y=new Nt(Ye)),y=y.insert(h,f),u.Vu[u.currentUser.toKey()]=y})(r,o.batchId,n),await _u(r,o.changes),await gf(r.remoteStore)}catch(o){const a=uy(o,"Failed to persist write");n.reject(a)}}async function Qb(t,e){const n=je(t);try{const r=await uA(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?lt(u.hu,14607):o.removedDocuments.size>0&&(lt(u.hu,42227),u.hu=!1))})),await _u(n,r,e)}catch(r){await zl(r)}}function D0(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const f=je(u);f.onlineState=h;let y=!1;f.queries.forEach(((w,b)=>{for(const C of b.Sa)C.va(h)&&(y=!0)})),y&&dy(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XA(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new Nt(Ce.comparator);u=u.insert(a,Dn.newNoDocument(a,Me.min()));const h=Xe().add(a),f=new ff(Me.min(),new Map,new Nt(Ye),u,h);await Qb(r,f),r.du=r.du.remove(a),r.Au.delete(e),fy(r)}else await sg(r.localStore,e,!1).then((()=>ag(r,e,n))).catch(zl)}async function ZA(t,e){const n=je(t),r=e.batch.batchId;try{const o=await cA(n.localStore,e);Yb(n,r,null),Jb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,o)}catch(o){await zl(o)}}async function eN(t,e,n){const r=je(t);try{const o=await(function(u,h){const f=je(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return f.mutationQueue.lookupMutationBatch(y,h).next((b=>(lt(b!==null,37113),w=b.keys(),f.mutationQueue.removeMutationBatch(y,b)))).next((()=>f.mutationQueue.performConsistencyCheck(y))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>f.localDocuments.getDocuments(y,w)))}))})(r.localStore,e);Yb(r,e,n),Jb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _u(r,o)}catch(o){await zl(o)}}function Jb(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Yb(t,e,n){const r=je(t);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Xb(t,r)}))}function Xb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(iy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fy(t))}function O0(t,e,n){for(const r of n)r instanceof Wb?(t.Ru.addReference(r.key,e),tN(t,r)):r instanceof Gb?(me(hy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Xb(t,r.key)):De(19791,{wu:r})}function tN(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(me(hy,"New document in limbo: "+n),t.Eu.add(r),fy(t))}function fy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(yt.fromString(e)),r=t.fu.next();t.Au.set(r,new HA(n)),t.du=t.du.insert(n,r),Vb(t.remoteStore,new ro(Rs(Qg(n.path)),r,"TargetPurposeLimboResolution",sf.ce))}}async function _u(t,e,n){const r=je(t),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const w=y?!y.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(y){o.push(y);const w=ry.As(f.targetId,y);a.push(w)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(f,y){const w=je(f);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(y,(C=>ne.forEach(C.Es,(R=>w.persistence.referenceDelegate.addReference(b,C.targetId,R))).next((()=>ne.forEach(C.ds,(R=>w.persistence.referenceDelegate.removeReference(b,C.targetId,R)))))))))}catch(b){if(!Hl(b))throw b;me(sy,"Failed to update sequence numbers: "+b)}for(const b of y){const C=b.targetId;if(!b.fromCache){const R=w.Ms.get(C),N=R.snapshotVersion,j=R.withLastLimboFreeSnapshotVersion(N);w.Ms=w.Ms.insert(C,j)}}})(r.localStore,a))}async function nN(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){me(hy,"User change. New user:",e.toKey());const r=await Db(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new fe(te.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(n,r.Ls)}}function rN(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let o=Xe();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const h=n.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function Zb(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XA.bind(null,e),e.Pu.H_=$A.bind(null,e.eventManager),e.Pu.yu=UA.bind(null,e.eventManager),e}function sN(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eN.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lA(this.persistence,new iA,e.initialUser,this.serializer)}Cu(e){return new Nb(ny.mi,this.serializer)}Du(e){return new mA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class iN extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof Rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new H2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new Nb((r=>Rh.mi(r,n)),this.serializer)}}class lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nN.bind(null,this.syncEngine),await VA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FA})()}createDatastore(e){const n=pf(e.databaseInfo.databaseId),r=(function(a){return new _A(a)})(e.databaseInfo);return(function(a,u,h,f){return new TA(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,a,u,h){return new IA(r,o,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>D0(this.syncEngine,n,0)),(function(){return x0.v()?new x0:new gA})())}createSyncEngine(e,n){return(function(o,a,u,h,f,y,w){const b=new qA(o,a,u,h,f,y);return w&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=je(n);me(fa,"RemoteStore shutting down."),r.Ea.add(5),await vu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="FirestoreClient";class oN{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Nn.UNAUTHENTICATED,this.clientId=zg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{me(wo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(me(wo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Tm(t,e){t.asyncQueue.verifyOperationInProgress(),me(wo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Db(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function L0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aN(t);me(wo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>k0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>k0(e.remoteStore,o))),t._onlineComponents=e}async function aN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(wo,"Using user provided OfflineComponentProvider");try{await Tm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Cl("Error using user provided cache. Falling back to memory cache: "+n),await Tm(t,new Ph)}}else me(wo,"Using default OfflineComponentProvider"),await Tm(t,new iN(void 0));return t._offlineComponents}async function tC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(wo,"Using user provided OnlineComponentProvider"),await L0(t,t._uninitializedComponentsProvider._online)):(me(wo,"Using default OnlineComponentProvider"),await L0(t,new lg))),t._onlineComponents}function lN(t){return tC(t).then((e=>e.syncEngine))}async function nC(t){const e=await tC(t),n=e.eventManager;return n.onListen=WA.bind(null,e.syncEngine),n.onUnlisten=QA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JA.bind(null,e.syncEngine),n}function cN(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,y){const w=new eC({next:C=>{w.Nu(),u.enqueueAndForget((()=>Hb(a,b)));const R=C.docs.has(h);!R&&C.fromCache?y.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&C.fromCache&&f&&f.source==="server"?y.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new qb(Qg(h.path),w,{includeMetadataChanges:!0,qa:!0});return zb(a,b)})(await nC(t),t.asyncQueue,e,n,r))),r.promise}function uN(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,y){const w=new eC({next:C=>{w.Nu(),u.enqueueAndForget((()=>Hb(a,b))),C.fromCache&&f.source==="server"?y.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new qb(h,w,{includeMetadataChanges:!0,qa:!0});return zb(a,b)})(await nC(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firestore.googleapis.com",V0=!0;class j0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sC,this.ssl=V0}else this.host=e.host,this.ssl=e.ssl??V0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ab;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B2)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yP;switch(r.type){case"firstParty":return new EP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=M0.get(n);r&&(me("ComponentProvider","Removing Datastore"),M0.delete(n),r.terminate())})(this),Promise.resolve()}}function dN(t,e,n,r={}){t=Ds(t,yf);const o=ya(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(xg(`https://${h}`),Rg("Firestore",!0)),a.host!==sC&&a.host!==h&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:o,emulatorOptions:r};if(!pi(f,u)&&(t._setSettings(f),r.mockUserToken)){let y,w;if(typeof r.mockUserToken=="string")y=r.mockUserToken,w=Nn.MOCK_USER;else{y=GE(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Nn(b)}t._authCredentials=new wP(new B1(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wl(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mu(n,Ht._jsonSchema))return new Ht(e,r||null,new Ce(yt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:nn("string",Ht._jsonSchemaVersion),referencePath:nn("string")};class co extends Wl{constructor(e,n,r){super(e,n,Qg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ce(e))}withConverter(e){return new co(this.firestore,e,this._path)}}function Al(t,e,...n){if(t=kt(t),z1("collection","path",e),t instanceof yf){const r=yt.fromString(e,...n);return Y_(r),new co(t,null,r)}{if(!(t instanceof Ht||t instanceof co))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return Y_(r),new co(t.firestore,null,r)}}function zt(t,e,...n){if(t=kt(t),arguments.length===1&&(e=zg.newId()),z1("doc","path",e),t instanceof yf){const r=yt.fromString(e,...n);return J_(r),new Ht(t,null,new Ce(r))}{if(!(t instanceof Ht||t instanceof co))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return J_(r),new Ht(t.firestore,t instanceof co?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="AsyncQueue";class $0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lb(this,"async_queue_retry"),this._c=()=>{const r=Cm();r&&me(F0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new di;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hl(e))throw e;me(F0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,yi("INTERNAL UNHANDLED ERROR: ",U0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=cy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&De(47125,{Pc:U0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function U0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Gl extends yf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new $0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $0(e),this._firestoreClient=void 0,await e}}}function rs(t,e){const n=typeof t=="object"?t:Ag(),r=typeof t=="string"?t:Ch,o=Yh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=HE("firestore");a&&dN(o,...a)}return o}function py(t){if(t._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hN(t),t._firestoreClient}function hN(t){const e=t._freezeSettings(),n=(function(o,a,u,h){return new jP(o,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,rC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new oN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dr(Sn.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dr(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,Dr._jsonSchema))return Dr.fromBase64String(e.bytes)}}Dr._jsonSchemaVersion="firestore/bytes/1.0",Dr._jsonSchema={type:nn("string",Dr._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ps._jsonSchemaVersion}}static fromJSON(e){if(mu(e,Ps._jsonSchema))return new Ps(e.latitude,e.longitude)}}Ps._jsonSchemaVersion="firestore/geoPoint/1.0",Ps._jsonSchema={type:nn("string",Ps._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:As._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,As._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new As(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}As._jsonSchemaVersion="firestore/vectorValue/1.0",As._jsonSchema={type:nn("string",As._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=/^__.*__$/;class pN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _o(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class iC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _o(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:t})}}class vf{constructor(e,n,r,o,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oC(this.Ac)&&fN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pf(e)}Cc(e,n,r,o=!1){return new vf({Ac:e,methodName:n,Dc:r,path:Tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function my(t){const e=t._freezeSettings(),n=pf(t._databaseId);return new mN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gN(t,e,n,r,o,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);_y("Data must be an object, but it was:",u,r);const h=lC(r,u);let f,y;if(a.merge)f=new gr(u.fieldMask),y=u.fieldTransforms;else if(a.mergeFields){const w=[];for(const b of a.mergeFields){const C=cg(e,b,n);if(!u.contains(C))throw new fe(te.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);uC(w,C)||w.push(C)}f=new gr(w),y=u.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,y=u.fieldTransforms;return new pN(new rr(h),f,y)}class _f extends ba{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}function aC(t,e,n){return new vf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gy extends ba{_toFieldTransform(e){return new df(e.path,new su)}isEqual(e){return e instanceof gy}}class yy extends ba{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=aC(this,e,!0),r=this.vc.map((a=>Ca(a,n))),o=new xl(r);return new df(e.path,o)}isEqual(e){return e instanceof yy&&pi(this.vc,e.vc)}}class wy extends ba{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=aC(this,e,!0),r=this.vc.map((a=>Ca(a,n))),o=new Rl(r);return new df(e.path,o)}isEqual(e){return e instanceof wy&&pi(this.vc,e.vc)}}class vy extends ba{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new iu(e.serializer,pb(e.serializer,this.Fc));return new df(e.path,n)}isEqual(e){return e instanceof vy&&this.Fc===e.Fc}}function yN(t,e,n,r){const o=t.Cc(1,e,n);_y("Data must be an object, but it was:",o,r);const a=[],u=rr.empty();vo(r,((f,y)=>{const w=Ey(e,f,n);y=kt(y);const b=o.yc(w);if(y instanceof _f)a.push(w);else{const C=Ca(y,b);C!=null&&(a.push(w),u.set(w,C))}}));const h=new gr(a);return new iC(u,h,o.fieldTransforms)}function wN(t,e,n,r,o,a){const u=t.Cc(1,e,n),h=[cg(e,r,n)],f=[o];if(a.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<a.length;C+=2)h.push(cg(e,a[C])),f.push(a[C+1]);const y=[],w=rr.empty();for(let C=h.length-1;C>=0;--C)if(!uC(y,h[C])){const R=h[C];let N=f[C];N=kt(N);const j=u.yc(R);if(N instanceof _f)y.push(R);else{const D=Ca(N,j);D!=null&&(y.push(R),w.set(R,D))}}const b=new gr(y);return new iC(w,b,u.fieldTransforms)}function vN(t,e,n,r=!1){return Ca(n,t.Cc(r?4:3,e))}function Ca(t,e){if(cC(t=kt(t)))return _y("Unsupported field value:",e,t),lC(t,e);if(t instanceof ba)return(function(r,o){if(!oC(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const h of r){let f=Ca(h,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(r,o){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pb(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ct.fromDate(r);return{timestampValue:xh(o.serializer,a)}}if(r instanceof Ct){const a=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(o.serializer,a)}}if(r instanceof Ps)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dr)return{bytesValue:Tb(o.serializer,r._byteString)};if(r instanceof Ht){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ey(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof As)return(function(u,h){return{mapValue:{fields:{[X1]:{stringValue:Z1},[Th]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw h.Sc("VectorValues must only contain numeric values.");return Jg(h.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${rf(r)}`)})(t,e)}function lC(t,e){const n={};return W1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(t,((r,o)=>{const a=Ca(o,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function cC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Ps||t instanceof Dr||t instanceof Ht||t instanceof ba||t instanceof As)}function _y(t,e,n){if(!cC(n)||!H1(n)){const r=rf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function cg(t,e,n){if((e=kt(e))instanceof wf)return e._internalPath;if(typeof e=="string")return Ey(t,e);throw Ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const _N=new RegExp("[~\\*/\\[\\]]");function Ey(t,e,n){if(e.search(_N)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wf(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ah(t,e,n,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new fe(te.INVALID_ARGUMENT,h+t+f)}function uC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(by("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EN extends dC{data(){return super.data()}}function by(t,e){return typeof e=="string"?Ey(t,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cy{}class CN extends Cy{}function Ef(t,e,...n){let r=[];e instanceof Cy&&r.push(e),r=r.concat(n),(function(a){const u=a.filter((f=>f instanceof Ty)).length,h=a.filter((f=>f instanceof bf)).length;if(u>1||u>0&&h>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class bf extends CN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bf(e,n,r)}_apply(e){const n=this._parse(e);return hC(e._query,n),new Wl(e.firestore,e.converter,Xm(e._query,n))}_parse(e){const n=my(e.firestore);return(function(a,u,h,f,y,w,b){let C;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){z0(b,w);const N=[];for(const j of b)N.push(B0(f,a,j));C={arrayValue:{values:N}}}else C=B0(f,a,b)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||z0(b,w),C=vN(h,u,b,w==="in"||w==="not-in");return en.create(y,w,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cf(t,e,n){const r=e,o=by("where",t);return bf._create(o,r,n)}class Ty extends Cy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ty(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)hC(u,f),u=Xm(u,f)})(e._query,n),new Wl(e.firestore,e.converter,Xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function B0(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ab(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yt.fromString(n));if(!Ce.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return i0(t,new Ce(r))}if(n instanceof Ht)return i0(t,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function z0(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hC(t,e){const n=(function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TN{convertValue(e,n="none"){switch(go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vo(e,((o,a)=>{r[o]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Th].arrayValue?.values?.map((r=>Bt(r.doubleValue)));return new As(n)}convertGeoPoint(e){return new Ps(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=po(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yt.fromString(e);lt(Pb(r),9688,{name:e});const o=new nu(r.get(1),r.get(3)),a=new Ce(r.popFirst(5));return o.isEqual(n)||yi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends dC{constructor(e,n,r,o,a,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(by("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:nn("string",sa._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class sh extends sa{data(e={}){return super.data(e)}}class _l{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Uc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new Uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const f=new sh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Uc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new sh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Uc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return h.type!==0&&(y=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),w=u.indexOf(h.doc.key)),{type:IN(h.type),doc:f,oldIndex:y,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_l._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function IN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){t=Ds(t,Ht);const e=Ds(t.firestore,Gl);return cN(py(e),t._key).then((n=>RN(e,t,n)))}_l._jsonSchemaVersion="firestore/querySnapshot/1.0",_l._jsonSchema={type:nn("string",_l._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class fC extends TN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function Nl(t){t=Ds(t,Wl);const e=Ds(t.firestore,Gl),n=py(e),r=new fC(e);return bN(t._query),uN(n,t._query).then((o=>new _l(e,r,t,o)))}function ug(t,e,n){t=Ds(t,Ht);const r=Ds(t.firestore,Gl),o=SN(t.converter,e,n);return Sy(r,[gN(my(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Zr.none())])}function Ss(t,e,n,...r){t=Ds(t,Ht);const o=Ds(t.firestore,Gl),a=my(o);let u;return u=typeof(e=kt(e))=="string"||e instanceof wf?wN(a,"updateDoc",t._key,e,n,r):yN(a,"updateDoc",t._key,e),Sy(o,[u.toMutation(t._key,Zr.exists(!0))])}function xN(t){return Sy(Ds(t.firestore,Gl),[new Yg(t._key,Zr.none())])}function Sy(t,e){return(function(r,o){const a=new di;return r.asyncQueue.enqueueAndForget((async()=>YA(await lN(r),o,a))),a.promise})(py(t),e)}function RN(t,e,n){const r=n.docs.get(e._key),o=new fC(t);return new sa(t,o,e._key,r,new Uc(n.hasPendingWrites,n.fromCache),e.converter)}function kN(){return new gy("serverTimestamp")}function PN(...t){return new yy("arrayUnion",t)}function AN(...t){return new wy("arrayRemove",t)}function pC(t){return new vy("increment",t)}(function(e,n=!0){(function(o){Bl=o})(wa),la(new ho("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Gl(new vP(r.getProvider("auth-internal")),new bP(u,r.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(y.options.projectId,w)})(u,o),u);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Is(W_,G_,e),Is(W_,G_,"esm2020")})();var NN="firebase",DN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(NN,DN,"app");const ON={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},wr=JE(ON);rs(wr);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H0="popstate";function LN(t={}){function e(o,a){let{pathname:u="/",search:h="",hash:f=""}=Ta(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),dg("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=o.location.href,y=f.indexOf("#");h=y===-1?f:f.slice(0,y)}return h+"#"+(typeof a=="string"?a:ou(a))}function r(o,a){Mr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return VN(e,n,r,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MN(){return Math.random().toString(36).substring(2,10)}function q0(t,e){return{usr:t.state,key:t.key,idx:e}}function dg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ta(e):e,state:n,key:e&&e.key||r||MN()}}function ou({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function VN(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h="POP",f=null,y=w();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function w(){return(u.state||{idx:null}).idx}function b(){h="POP";let D=w(),G=D==null?null:D-y;y=D,f&&f({action:h,location:j.location,delta:G})}function C(D,G){h="PUSH";let z=dg(j.location,D,G);n&&n(z,D),y=w()+1;let Q=q0(z,y),ee=j.createHref(z);try{u.pushState(Q,"",ee)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ee)}a&&f&&f({action:h,location:j.location,delta:1})}function R(D,G){h="REPLACE";let z=dg(j.location,D,G);n&&n(z,D),y=w();let Q=q0(z,y),ee=j.createHref(z);u.replaceState(Q,"",ee),a&&f&&f({action:h,location:j.location,delta:0})}function N(D){return jN(D)}let j={get action(){return h},get location(){return t(o,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(H0,b),f=D,()=>{o.removeEventListener(H0,b),f=null}},createHref(D){return e(o,D)},createURL:N,encodeLocation(D){let G=N(D);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:C,replace:R,go(D){return u.go(D)}};return j}function jN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ou(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function mC(t,e,n="/"){return FN(t,e,n,!1)}function FN(t,e,n,r){let o=typeof e=="string"?Ta(e):e,a=vi(o.pathname||"/",n);if(a==null)return null;let u=gC(t);$N(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let y=YN(a);h=QN(u[f],y,r)}return h}function gC(t,e=[],n=[],r="",o=!1){let a=(u,h,f=o,y)=>{let w={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(r)&&f)return;Rt(w.relativePath.startsWith(r),`Absolute route path "${w.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(r.length)}let b=hi([r,w.relativePath]),C=n.concat(w);u.children&&u.children.length>0&&(Rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),gC(u.children,e,C,b,f)),!(u.path==null&&!u.index)&&e.push({path:b,score:GN(b,u.index),routesMeta:C})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))a(u,h);else for(let f of yC(u.path))a(u,h,!0,f)}),e}function yC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=yC(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function $N(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var UN=/^:[\w-]+$/,BN=3,zN=2,HN=1,qN=10,WN=-2,W0=t=>t==="*";function GN(t,e){let n=t.split("/"),r=n.length;return n.some(W0)&&(r+=WN),e&&(r+=zN),n.filter(o=>!W0(o)).reduce((o,a)=>o+(UN.test(a)?BN:a===""?HN:qN),r)}function KN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function QN(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],y=h===r.length-1,w=a==="/"?e:e.slice(a.length)||"/",b=Nh({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},w),C=f.route;if(!b&&y&&n&&!r[r.length-1].route.index&&(b=Nh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},w)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:hi([a,b.pathname]),pathnameBase:tD(hi([a,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(a=hi([a,b.pathnameBase]))}return u}function Nh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JN(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((y,{paramName:w,isOptional:b},C)=>{if(w==="*"){let N=h[C]||"";u=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const R=h[C];return b&&!R?y[w]=void 0:y[w]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:u,pattern:t}}function JN(t,e=!1,n=!0){Mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function YN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XN(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ta(t):t;return{pathname:n?n.startsWith("/")?n:ZN(n,e):e,search:nD(r),hash:rD(o)}}function ZN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Iy(t){let e=eD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xy(t,e,n,r=!1){let o;typeof t=="string"?o=Ta(t):(o={...t},Rt(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),Rt(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),Rt(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),b-=1;o.pathname=C.join("/")}h=b>=0?e[b]:"/"}let f=XN(o,h),y=u&&u!=="/"&&u.endsWith("/"),w=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(y||w)&&(f.pathname+="/"),f}var hi=t=>t.join("/").replace(/\/\/+/g,"/"),tD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var wC=["POST","PUT","PATCH","DELETE"];new Set(wC);var iD=["GET",...wC];new Set(iD);var Kl=S.createContext(null);Kl.displayName="DataRouter";var Tf=S.createContext(null);Tf.displayName="DataRouterState";S.createContext(!1);var vC=S.createContext({isTransitioning:!1});vC.displayName="ViewTransition";var oD=S.createContext(new Map);oD.displayName="Fetchers";var aD=S.createContext(null);aD.displayName="Await";var ss=S.createContext(null);ss.displayName="Navigation";var Eu=S.createContext(null);Eu.displayName="Location";var is=S.createContext({outlet:null,matches:[],isDataRoute:!1});is.displayName="Route";var Ry=S.createContext(null);Ry.displayName="RouteError";function lD(t,{relative:e}={}){Rt(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(ss),{hash:o,pathname:a,search:u}=bu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:hi([n,a])),r.createHref({pathname:h,search:u,hash:o})}function Ql(){return S.useContext(Eu)!=null}function Eo(){return Rt(Ql(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Eu).location}var _C="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EC(t){S.useContext(ss).static||S.useLayoutEffect(t)}function ky(){let{isDataRoute:t}=S.useContext(is);return t?bD():cD()}function cD(){Rt(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Kl),{basename:e,navigator:n}=S.useContext(ss),{matches:r}=S.useContext(is),{pathname:o}=Eo(),a=JSON.stringify(Iy(r)),u=S.useRef(!1);return EC(()=>{u.current=!0}),S.useCallback((f,y={})=>{if(Mr(u.current,_C),!u.current)return;if(typeof f=="number"){n.go(f);return}let w=xy(f,JSON.parse(a),o,y.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:hi([e,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[e,n,a,o,t])}S.createContext(null);function uD(){let{matches:t}=S.useContext(is),e=t[t.length-1];return e?e.params:{}}function bu(t,{relative:e}={}){let{matches:n}=S.useContext(is),{pathname:r}=Eo(),o=JSON.stringify(Iy(n));return S.useMemo(()=>xy(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function dD(t,e){return bC(t,e)}function bC(t,e,n,r,o){Rt(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(ss),{matches:u}=S.useContext(is),h=u[u.length-1],f=h?h.params:{},y=h?h.pathname:"/",w=h?h.pathnameBase:"/",b=h&&h.route;{let z=b&&b.path||"";CC(y,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let C=Eo(),R;if(e){let z=typeof e=="string"?Ta(e):e;Rt(w==="/"||z.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${z.pathname}" was given in the \`location\` prop.`),R=z}else R=C;let N=R.pathname||"/",j=N;if(w!=="/"){let z=w.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(z.length).join("/")}let D=mC(t,{pathname:j});Mr(b||D!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Mr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=gD(D&&D.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:hi([w,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?w:hi([w,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),u,n,r,o);return e&&G?S.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},G):G}function hD(){let t=ED(),e=sD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,u)}var fD=S.createElement(hD,null),pD=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(is.Provider,{value:this.props.routeContext},S.createElement(Ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mD({routeContext:t,match:e,children:n}){let r=S.useContext(Kl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(is.Provider,{value:t},n)}function gD(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n?.errors;if(u!=null){let y=a.findIndex(w=>w.route.id&&u?.[w.route.id]!==void 0);Rt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let h=!1,f=-1;if(n)for(let y=0;y<a.length;y++){let w=a[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=y),w.route.id){let{loaderData:b,errors:C}=n,R=w.route.loader&&!b.hasOwnProperty(w.route.id)&&(!C||C[w.route.id]===void 0);if(w.route.lazy||R){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((y,w,b)=>{let C,R=!1,N=null,j=null;n&&(C=u&&w.route.id?u[w.route.id]:void 0,N=w.route.errorElement||fD,h&&(f<0&&b===0?(CC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,j=null):f===b&&(R=!0,j=w.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,b+1)),G=()=>{let z;return C?z=N:R?z=j:w.route.Component?z=S.createElement(w.route.Component,null):w.route.element?z=w.route.element:z=y,S.createElement(mD,{match:w,routeContext:{outlet:y,matches:D,isDataRoute:n!=null},children:z})};return n&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?S.createElement(pD,{location:n.location,revalidation:n.revalidation,component:N,error:C,children:G(),routeContext:{outlet:null,matches:D,isDataRoute:!0},unstable_onError:r}):G()},null)}function Py(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yD(t){let e=S.useContext(Kl);return Rt(e,Py(t)),e}function wD(t){let e=S.useContext(Tf);return Rt(e,Py(t)),e}function vD(t){let e=S.useContext(is);return Rt(e,Py(t)),e}function Ay(t){let e=vD(t),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _D(){return Ay("useRouteId")}function ED(){let t=S.useContext(Ry),e=wD("useRouteError"),n=Ay("useRouteError");return t!==void 0?t:e.errors?.[n]}function bD(){let{router:t}=yD("useNavigate"),e=Ay("useNavigate"),n=S.useRef(!1);return EC(()=>{n.current=!0}),S.useCallback(async(o,a={})=>{Mr(n.current,_C),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var G0={};function CC(t,e,n){!e&&!G0[t]&&(G0[t]=!0,Mr(!1,n))}S.memo(CD);function CD({routes:t,future:e,state:n,unstable_onError:r}){return bC(t,void 0,n,r,e)}function cl({to:t,replace:e,state:n,relative:r}){Rt(Ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(ss);Mr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=S.useContext(is),{pathname:u}=Eo(),h=ky(),f=xy(t,Iy(a),u,r==="path"),y=JSON.stringify(f);return S.useEffect(()=>{h(JSON.parse(y),{replace:e,state:n,relative:r})},[h,y,r,e,n]),null}function ea(t){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){Rt(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=Ta(n));let{pathname:f="/",search:y="",hash:w="",state:b=null,key:C="default"}=n,R=S.useMemo(()=>{let N=vi(f,u);return N==null?null:{location:{pathname:N,search:y,hash:w,state:b,key:C},navigationType:r}},[u,f,y,w,b,C,r]);return Mr(R!=null,`<Router basename="${u}"> is not able to match the URL "${f}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:S.createElement(ss.Provider,{value:h},S.createElement(Eu.Provider,{children:e,value:R}))}function SD({children:t,location:e}){return dD(hg(t),e)}function hg(t,e=[]){let n=[];return S.Children.forEach(t,(r,o)=>{if(!S.isValidElement(r))return;let a=[...e,o];if(r.type===S.Fragment){n.push.apply(n,hg(r.props.children,a));return}Rt(r.type===ea,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=hg(r.props.children,a)),n.push(u)}),n}var ih="get",oh="application/x-www-form-urlencoded";function Sf(t){return t!=null&&typeof t.tagName=="string"}function ID(t){return Sf(t)&&t.tagName.toLowerCase()==="button"}function xD(t){return Sf(t)&&t.tagName.toLowerCase()==="form"}function RD(t){return Sf(t)&&t.tagName.toLowerCase()==="input"}function kD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PD(t,e){return t.button===0&&(!e||e==="_self")&&!kD(t)}var Bd=null;function AD(){if(Bd===null)try{new FormData(document.createElement("form"),0),Bd=!1}catch{Bd=!0}return Bd}var ND=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Im(t){return t!=null&&!ND.has(t)?(Mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):t}function DD(t,e){let n,r,o,a,u;if(xD(t)){let h=t.getAttribute("action");r=h?vi(h,e):null,n=t.getAttribute("method")||ih,o=Im(t.getAttribute("enctype"))||oh,a=new FormData(t)}else if(ID(t)||RD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?vi(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||ih,o=Im(t.getAttribute("formenctype"))||Im(h.getAttribute("enctype"))||oh,a=new FormData(h,t),!AD()){let{name:y,type:w,value:b}=t;if(w==="image"){let C=y?`${y}.`:"";a.append(`${C}x`,"0"),a.append(`${C}y`,"0")}else y&&a.append(y,b)}}else{if(Sf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ih,r=null,o=oh,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ny(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function OD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&vi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function LD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VD(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await LD(a,n);return u.links?u.links():[]}return[]}));return UD(r.flat(1).filter(MD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function K0(t,e,n,r,o,a){let u=(f,y)=>n[y]?f.route.id!==n[y].route.id:!0,h=(f,y)=>n[y].pathname!==f.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,y)=>u(f,y)||h(f,y)):a==="data"?e.filter((f,y)=>{let w=r.routes[f.route.id];if(!w||!w.hasLoader)return!1;if(u(f,y)||h(f,y))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function jD(t,e,{includeHydrateFallback:n}={}){return FD(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function FD(t){return[...new Set(t)]}function $D(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function UD(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify($D(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function TC(){let t=S.useContext(Kl);return Ny(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BD(){let t=S.useContext(Tf);return Ny(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Dy=S.createContext(void 0);Dy.displayName="FrameworkContext";function SC(){let t=S.useContext(Dy);return Ny(t,"You must render this element inside a <HydratedRouter> element"),t}function zD(t,e){let n=S.useContext(Dy),[r,o]=S.useState(!1),[a,u]=S.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:y,onMouseLeave:w,onTouchStart:b}=e,C=S.useRef(null);S.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=G=>{G.forEach(z=>{u(z.isIntersecting)})},D=new IntersectionObserver(j,{threshold:.5});return C.current&&D.observe(C.current),()=>{D.disconnect()}}},[t]),S.useEffect(()=>{if(r){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[r]);let R=()=>{o(!0)},N=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,C,{}]:[a,C,{onFocus:Oc(h,R),onBlur:Oc(f,N),onMouseEnter:Oc(y,R),onMouseLeave:Oc(w,N),onTouchStart:Oc(b,R)}]:[!1,C,{}]}function Oc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function HD({page:t,...e}){let{router:n}=TC(),r=S.useMemo(()=>mC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(WD,{page:t,matches:r,...e}):null}function qD(t){let{manifest:e,routeModules:n}=SC(),[r,o]=S.useState([]);return S.useEffect(()=>{let a=!1;return VD(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),r}function WD({page:t,matches:e,...n}){let r=Eo(),{manifest:o,routeModules:a}=SC(),{basename:u}=TC(),{loaderData:h,matches:f}=BD(),y=S.useMemo(()=>K0(t,e,f,o,r,"data"),[t,e,f,o,r]),w=S.useMemo(()=>K0(t,e,f,o,r,"assets"),[t,e,f,o,r]),b=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,j=!1;if(e.forEach(G=>{let z=o.routes[G.route.id];!z||!z.hasLoader||(!y.some(Q=>Q.route.id===G.route.id)&&G.route.id in h&&a[G.route.id]?.shouldRevalidate||z.hasClientLoader?j=!0:N.add(G.route.id))}),N.size===0)return[];let D=OD(t,u,"data");return j&&N.size>0&&D.searchParams.set("_routes",e.filter(G=>N.has(G.route.id)).map(G=>G.route.id).join(",")),[D.pathname+D.search]},[u,h,r,o,y,e,t,a]),C=S.useMemo(()=>jD(w,o),[w,o]),R=qD(w);return S.createElement(S.Fragment,null,b.map(N=>S.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),C.map(N=>S.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),R.map(({key:N,link:j})=>S.createElement("link",{key:N,nonce:n.nonce,...j})))}function GD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IC&&(window.__reactRouterVersion="7.8.2")}catch{}function KD({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=LN({window:n,v5Compat:!0}));let o=r.current,[a,u]=S.useState({action:o.action,location:o.location}),h=S.useCallback(f=>{S.startTransition(()=>u(f))},[u]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.createElement(TD,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var xC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:y,preventScrollReset:w,viewTransition:b,...C},R){let{basename:N}=S.useContext(ss),j=typeof y=="string"&&xC.test(y),D,G=!1;if(typeof y=="string"&&j&&(D=y,IC))try{let k=new URL(window.location.href),O=y.startsWith("//")?new URL(k.protocol+y):new URL(y),V=vi(O.pathname,N);O.origin===k.origin&&V!=null?y=V+O.search+O.hash:G=!0}catch{Mr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=lD(y,{relative:o}),[Q,ee,de]=zD(r,C),re=XD(y,{replace:u,state:h,target:f,preventScrollReset:w,relative:o,viewTransition:b});function P(k){e&&e(k),k.defaultPrevented||re(k)}let T=S.createElement("a",{...C,...de,href:D||z,onClick:G||a?e:P,ref:GD(R,ee),target:f,"data-discover":!j&&n==="render"?"true":void 0});return Q&&!j?S.createElement(S.Fragment,null,T,S.createElement(HD,{page:z})):T});Xt.displayName="Link";var QD=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...y},w){let b=bu(u,{relative:y.relative}),C=Eo(),R=S.useContext(Tf),{navigator:N,basename:j}=S.useContext(ss),D=R!=null&&rO(b)&&h===!0,G=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,z=C.pathname,Q=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(z=z.toLowerCase(),Q=Q?Q.toLowerCase():null,G=G.toLowerCase()),Q&&j&&(Q=vi(Q,j)||Q);const ee=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let de=z===G||!o&&z.startsWith(G)&&z.charAt(ee)==="/",re=Q!=null&&(Q===G||!o&&Q.startsWith(G)&&Q.charAt(G.length)==="/"),P={isActive:de,isPending:re,isTransitioning:D},T=de?e:void 0,k;typeof r=="function"?k=r(P):k=[r,de?"active":null,re?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(P):a;return S.createElement(Xt,{...y,"aria-current":T,className:k,ref:w,style:O,to:u,viewTransition:h},typeof f=="function"?f(P):f)});QD.displayName="NavLink";var JD=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:u=ih,action:h,onSubmit:f,relative:y,preventScrollReset:w,viewTransition:b,...C},R)=>{let N=tO(),j=nO(h,{relative:y}),D=u.toLowerCase()==="get"?"get":"post",G=typeof h=="string"&&xC.test(h),z=Q=>{if(f&&f(Q),Q.defaultPrevented)return;Q.preventDefault();let ee=Q.nativeEvent.submitter,de=ee?.getAttribute("formmethod")||u;N(ee||Q.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:a,relative:y,preventScrollReset:w,viewTransition:b})};return S.createElement("form",{ref:R,method:D,action:j,onSubmit:r?f:z,...C,"data-discover":!G&&t==="render"?"true":void 0})});JD.displayName="Form";function YD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RC(t){let e=S.useContext(Kl);return Rt(e,YD(t)),e}function XD(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=ky(),f=Eo(),y=bu(t,{relative:a});return S.useCallback(w=>{if(PD(w,e)){w.preventDefault();let b=n!==void 0?n:ou(f)===ou(y);h(t,{replace:b,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,y,n,r,e,t,o,a,u])}var ZD=0,eO=()=>`__${String(++ZD)}__`;function tO(){let{router:t}=RC("useSubmit"),{basename:e}=S.useContext(ss),n=_D();return S.useCallback(async(r,o={})=>{let{action:a,method:u,encType:h,formData:f,body:y}=DD(r,e);if(o.navigate===!1){let w=o.fetcherKey||eO();await t.fetch(w,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function nO(t,{relative:e}={}){let{basename:n}=S.useContext(ss),r=S.useContext(is);Rt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...bu(t||".",{relative:e})},u=Eo();if(t==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(w=>w==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let w=h.toString();a.search=w?`?${w}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:hi([n,a.pathname])),ou(a)}function rO(t,{relative:e}={}){let n=S.useContext(vC);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=RC("useViewTransitionState"),o=bu(t,{relative:e});if(!n.isTransitioning)return!1;let a=vi(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=vi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nh(o.pathname,u)!=null||Nh(o.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function kC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function sO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Q0(t,e){return t.get(kC(t,e))}function iO(t,e,n){sO(t,e),e.set(t,n)}function oO(t,e,n){return t.set(kC(t,e),n),n}const aO=100,ke={},lO=()=>{ke.previousActiveElement instanceof HTMLElement?(ke.previousActiveElement.focus(),ke.previousActiveElement=null):document.body&&document.body.focus()},cO=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;ke.restoreFocusTimeout=setTimeout(()=>{lO(),e()},aO),window.scrollTo(n,r)}),PC="swal2-",uO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],X=uO.reduce((t,e)=>(t[e]=PC+e,t),{}),dO=["success","warning","info","question","error"],Dh=dO.reduce((t,e)=>(t[e]=PC+e,t),{}),AC="SweetAlert2:",Oy=t=>t.charAt(0).toUpperCase()+t.slice(1),zn=t=>{console.warn(`${AC} ${typeof t=="object"?t.join(" "):t}`)},Sa=t=>{console.error(`${AC} ${t}`)},J0=[],hO=t=>{J0.includes(t)||(J0.push(t),zn(t))},NC=(t,e=null)=>{hO(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},If=t=>typeof t=="function"?t():t,Ly=t=>t&&typeof t.toPromise=="function",Cu=t=>Ly(t)?t.toPromise():Promise.resolve(t),My=t=>t&&Promise.resolve(t)===t,Hn=()=>document.body.querySelector(`.${X.container}`),Tu=t=>{const e=Hn();return e?e.querySelector(t):null},vr=t=>Tu(`.${t}`),it=()=>vr(X.popup),Jl=()=>vr(X.icon),fO=()=>vr(X["icon-content"]),DC=()=>vr(X.title),Vy=()=>vr(X["html-container"]),OC=()=>vr(X.image),jy=()=>vr(X["progress-steps"]),xf=()=>vr(X["validation-message"]),Ls=()=>Tu(`.${X.actions} .${X.confirm}`),Yl=()=>Tu(`.${X.actions} .${X.cancel}`),Ia=()=>Tu(`.${X.actions} .${X.deny}`),pO=()=>vr(X["input-label"]),Xl=()=>Tu(`.${X.loader}`),Su=()=>vr(X.actions),LC=()=>vr(X.footer),Rf=()=>vr(X["timer-progress-bar"]),Fy=()=>vr(X.close),mO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,$y=()=>{const t=it();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,u)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(u.getAttribute("tabindex")||"0");return h>f?1:h<f?-1:0}),r=t.querySelectorAll(mO),o=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>sr(a))},Uy=()=>fi(document.body,X.shown)&&!fi(document.body,X["toast-shown"])&&!fi(document.body,X["no-backdrop"]),kf=()=>{const t=it();return t?fi(t,X.toast):!1},gO=()=>{const t=it();return t?t.hasAttribute("data-loading"):!1},_r=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(u=>{t.appendChild(u)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?t.appendChild(u.cloneNode(!0)):t.appendChild(u)})}},fi=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},yO=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(X).includes(n)&&!Object.values(Dh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},yr=(t,e,n)=>{if(yO(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){zn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}ot(t,r)}},Pf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${X.popup} > .${X[e]}`);case"checkbox":return t.querySelector(`.${X.popup} > .${X.checkbox} input`);case"radio":return t.querySelector(`.${X.popup} > .${X.radio} input:checked`)||t.querySelector(`.${X.popup} > .${X.radio} input:first-child`);case"range":return t.querySelector(`.${X.popup} > .${X.range} input`);default:return t.querySelector(`.${X.popup} > .${X.input}`)}},MC=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},VC=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(r):o.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},ot=(t,e)=>{VC(t,e,!0)},Vr=(t,e)=>{VC(t,e,!1)},so=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const o=n[r];if(o instanceof HTMLElement&&fi(o,e))return o}},ia=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},yn=(t,e="flex")=>{t&&(t.style.display=e)},Mn=t=>{t&&(t.style.display="none")},By=(t,e="block")=>{t&&new MutationObserver(()=>{Iu(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},Y0=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},Iu=(t,e,n="flex")=>{e?yn(t,n):Mn(t)},sr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),wO=()=>!sr(Ls())&&!sr(Ia())&&!sr(Yl()),fg=t=>t.scrollHeight>t.clientHeight,vO=(t,e)=>{let n=t;for(;n&&n!==e;){if(fg(n))return!0;n=n.parentElement}return!1},jC=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},zy=(t,e=!1)=>{const n=Rf();n&&sr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},_O=()=>{const t=Rf();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},EO=()=>typeof window>"u"||typeof document>"u",bO=`
 <div aria-labelledby="${X.title}" aria-describedby="${X["html-container"]}" class="${X.popup}" tabindex="-1">
   <button type="button" class="${X.close}"></button>
   <ul class="${X["progress-steps"]}"></ul>
   <div class="${X.icon}"></div>
   <img class="${X.image}" />
   <h2 class="${X.title}" id="${X.title}"></h2>
   <div class="${X["html-container"]}" id="${X["html-container"]}"></div>
   <input class="${X.input}" id="${X.input}" />
   <input type="file" class="${X.file}" />
   <div class="${X.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${X.select}" id="${X.select}"></select>
   <div class="${X.radio}"></div>
   <label class="${X.checkbox}">
     <input type="checkbox" id="${X.checkbox}" />
     <span class="${X.label}"></span>
   </label>
   <textarea class="${X.textarea}" id="${X.textarea}"></textarea>
   <div class="${X["validation-message"]}" id="${X["validation-message"]}"></div>
   <div class="${X.actions}">
     <div class="${X.loader}"></div>
     <button type="button" class="${X.confirm}"></button>
     <button type="button" class="${X.deny}"></button>
     <button type="button" class="${X.cancel}"></button>
   </div>
   <div class="${X.footer}"></div>
   <div class="${X["timer-progress-bar-container"]}">
     <div class="${X["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),CO=()=>{const t=Hn();return t?(t.remove(),Vr([document.documentElement,document.body],[X["no-backdrop"],X["toast-shown"],X["has-column"]]),!0):!1},Jo=()=>{ke.currentInstance.resetValidationMessage()},TO=()=>{const t=it(),e=so(t,X.input),n=so(t,X.file),r=t.querySelector(`.${X.range} input`),o=t.querySelector(`.${X.range} output`),a=so(t,X.select),u=t.querySelector(`.${X.checkbox} input`),h=so(t,X.textarea);e.oninput=Jo,n.onchange=Jo,a.onchange=Jo,u.onchange=Jo,h.oninput=Jo,r.oninput=()=>{Jo(),o.value=r.value},r.onchange=()=>{Jo(),o.value=r.value}},SO=t=>typeof t=="string"?document.querySelector(t):t,IO=t=>{const e=it();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},xO=t=>{window.getComputedStyle(t).direction==="rtl"&&ot(Hn(),X.rtl)},RO=t=>{const e=CO();if(EO()){Sa("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=X.container,e&&ot(n,X["no-transition"]),_r(n,bO),n.dataset.swal2Theme=t.theme;const r=SO(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),IO(t),xO(r),TO()},Hy=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?kO(t,e):t&&_r(e,t)},kO=(t,e)=>{t.jquery?PO(e,t):_r(e,t.toString())},PO=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},AO=(t,e)=>{const n=Su(),r=Xl();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Mn(n):yn(n),yr(n,e,"actions"),NO(n,r,e),_r(r,e.loaderHtml||""),yr(r,e,"loader"))};function NO(t,e,n){const r=Ls(),o=Ia(),a=Yl();!r||!o||!a||(Rm(r,"confirm",n),Rm(o,"deny",n),Rm(a,"cancel",n),DO(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}function DO(t,e,n,r){if(!r.buttonsStyling){Vr([t,e,n],X.styled);return}ot([t,e,n],X.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),xm(t),xm(e),xm(n)}function xm(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Rm(t,e,n){const r=Oy(e);Iu(t,n[`show${r}Button`],"inline-block"),_r(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=X[e],yr(t,n,`${e}Button`)}const OO=(t,e)=>{const n=Fy();n&&(_r(n,e.closeButtonHtml||""),yr(n,e,"closeButton"),Iu(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},LO=(t,e)=>{const n=Hn();n&&(MO(n,e.backdrop),VO(n,e.position),jO(n,e.grow),yr(n,e,"container"))};function MO(t,e){typeof e=="string"?t.style.background=e:e||ot([document.documentElement,document.body],X["no-backdrop"])}function VO(t,e){e&&(e in X?ot(t,X[e]):(zn('The "position" parameter is not valid, defaulting to "center"'),ot(t,X.center)))}function jO(t,e){e&&ot(t,X[`grow-${e}`])}var wt={innerParams:new WeakMap,domCache:new WeakMap};const FO=["input","file","range","select","radio","checkbox","textarea"],$O=(t,e)=>{const n=it();if(!n)return;const r=wt.innerParams.get(t),o=!r||e.input!==r.input;FO.forEach(a=>{const u=so(n,X[a]);u&&(zO(a,e.inputAttributes),u.className=X[a],o&&Mn(u))}),e.input&&(o&&UO(e),HO(e))},UO=t=>{if(!t.input)return;if(!$t[t.input]){Sa(`Unexpected type of input! Expected ${Object.keys($t).join(" | ")}, got "${t.input}"`);return}const e=FC(t.input);if(!e)return;const n=$t[t.input](e,t);yn(e),t.inputAutoFocus&&setTimeout(()=>{MC(n)})},BO=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},zO=(t,e)=>{const n=it();if(!n)return;const r=Pf(n,t);if(r){BO(r);for(const o in e)r.setAttribute(o,e[o])}},HO=t=>{if(!t.input)return;const e=FC(t.input);e&&yr(e,t,"input")},qy=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},xu=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=X["input-label"];r.setAttribute("for",t.id),r.className=o,typeof n.customClass=="object"&&ot(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},FC=t=>{const e=it();if(e)return so(e,X[t]||X.input)},Oh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:My(e)||zn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},$t={};$t.text=$t.email=$t.password=$t.number=$t.tel=$t.url=$t.search=$t.date=$t["datetime-local"]=$t.time=$t.week=$t.month=(t,e)=>(Oh(t,e.inputValue),xu(t,t,e),qy(t,e),t.type=e.input,t);$t.file=(t,e)=>(xu(t,t,e),qy(t,e),t);$t.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Oh(n,e.inputValue),n.type=e.input,Oh(r,e.inputValue),xu(n,t,e),t};$t.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");_r(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return xu(t,t,e),t};$t.radio=t=>(t.textContent="",t);$t.checkbox=(t,e)=>{const n=Pf(it(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return _r(r,e.inputPlaceholder||e.inputLabel),n};$t.textarea=(t,e)=>{Oh(t,e.inputValue),qy(t,e),xu(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(it()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?it().style.width=`${a}px`:ia(it(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const qO=(t,e)=>{const n=Vy();n&&(By(n),yr(n,e,"htmlContainer"),e.html?(Hy(e.html,n),yn(n,"block")):e.text?(n.textContent=e.text,yn(n,"block")):Mn(n),$O(t,e))},WO=(t,e)=>{const n=LC();n&&(By(n),Iu(n,e.footer,"block"),e.footer&&Hy(e.footer,n),yr(n,e,"footer"))},GO=(t,e)=>{const n=wt.innerParams.get(t),r=Jl();if(!r)return;if(n&&e.icon===n.icon){Z0(r,e),X0(r,e);return}if(!e.icon&&!e.iconHtml){Mn(r);return}if(e.icon&&Object.keys(Dh).indexOf(e.icon)===-1){Sa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Mn(r);return}yn(r),Z0(r,e),X0(r,e),ot(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",$C)},X0=(t,e)=>{for(const[n,r]of Object.entries(Dh))e.icon!==n&&Vr(t,r);ot(t,e.icon&&Dh[e.icon]),JO(t,e),$C(),yr(t,e,"icon")},$C=()=>{const t=it();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},KO=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,QO=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Z0=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=eE(e.iconHtml):e.icon==="success"?(r=KO(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=QO:e.icon&&(r=eE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&_r(t,r)},JO=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Y0(t,n,"background-color",e.iconColor);Y0(t,".swal2-success-ring","border-color",e.iconColor)}},eE=t=>`<div class="${X["icon-content"]}">${t}</div>`,YO=(t,e)=>{const n=OC();if(n){if(!e.imageUrl){Mn(n);return}yn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),ia(n,"width",e.imageWidth),ia(n,"height",e.imageHeight),n.className=X.image,yr(n,e,"image")}};let Wy=!1,UC=0,BC=0,zC=0,HC=0;const XO=t=>{t.addEventListener("mousedown",Lh),document.body.addEventListener("mousemove",Mh),t.addEventListener("mouseup",Vh),t.addEventListener("touchstart",Lh),document.body.addEventListener("touchmove",Mh),t.addEventListener("touchend",Vh)},ZO=t=>{t.removeEventListener("mousedown",Lh),document.body.removeEventListener("mousemove",Mh),t.removeEventListener("mouseup",Vh),t.removeEventListener("touchstart",Lh),document.body.removeEventListener("touchmove",Mh),t.removeEventListener("touchend",Vh)},Lh=t=>{const e=it();if(t.target===e||Jl().contains(t.target)){Wy=!0;const n=qC(t);UC=n.clientX,BC=n.clientY,zC=parseInt(e.style.insetInlineStart)||0,HC=parseInt(e.style.insetBlockStart)||0,ot(e,"swal2-dragging")}},Mh=t=>{const e=it();if(Wy){let{clientX:n,clientY:r}=qC(t);e.style.insetInlineStart=`${zC+(n-UC)}px`,e.style.insetBlockStart=`${HC+(r-BC)}px`}},Vh=()=>{const t=it();Wy=!1,Vr(t,"swal2-dragging")},qC=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},eL=(t,e)=>{const n=Hn(),r=it();if(!(!n||!r)){if(e.toast){ia(n,"width",e.width),r.style.width="100%";const o=Xl();o&&r.insertBefore(o,Jl())}else ia(r,"width",e.width);ia(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Mn(xf()),tL(r,e),e.draggable&&!e.toast?(ot(r,X.draggable),XO(r)):(Vr(r,X.draggable),ZO(r))}},tL=(t,e)=>{const n=e.showClass||{};t.className=`${X.popup} ${sr(t)?n.popup:""}`,e.toast?(ot([document.documentElement,document.body],X["toast-shown"]),ot(t,X.toast)):ot(t,X.modal),yr(t,e,"popup"),typeof e.customClass=="string"&&ot(t,e.customClass),e.icon&&ot(t,X[`icon-${e.icon}`])},nL=(t,e)=>{const n=jy();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){Mn(n);return}yn(n),n.textContent="",o>=r.length&&zn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,u)=>{const h=rL(a);if(n.appendChild(h),u===o&&ot(h,X["active-progress-step"]),u!==r.length-1){const f=sL(e);n.appendChild(f)}})},rL=t=>{const e=document.createElement("li");return ot(e,X["progress-step"]),_r(e,t),e},sL=t=>{const e=document.createElement("li");return ot(e,X["progress-step-line"]),t.progressStepsDistance&&ia(e,"width",t.progressStepsDistance),e},iL=(t,e)=>{const n=DC();n&&(By(n),Iu(n,e.title||e.titleText,"block"),e.title&&Hy(e.title,n),e.titleText&&(n.innerText=e.titleText),yr(n,e,"title"))},WC=(t,e)=>{eL(t,e),LO(t,e),nL(t,e),GO(t,e),YO(t,e),iL(t,e),OO(t,e),qO(t,e),AO(t,e),WO(t,e);const n=it();typeof e.didRender=="function"&&n&&e.didRender(n),ke.eventEmitter.emit("didRender",n)},oL=()=>sr(it()),GC=()=>{var t;return(t=Ls())===null||t===void 0?void 0:t.click()},aL=()=>{var t;return(t=Ia())===null||t===void 0?void 0:t.click()},lL=()=>{var t;return(t=Yl())===null||t===void 0?void 0:t.click()},Zl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),KC=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},cL=(t,e,n)=>{KC(t),e.toast||(t.keydownHandler=r=>dL(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:it(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},pg=(t,e)=>{var n;const r=$y();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=it())===null||n===void 0||n.focus()},QC=["ArrowRight","ArrowDown"],uL=["ArrowLeft","ArrowUp"],dL=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?hL(e,t):e.key==="Tab"?fL(e):[...QC,...uL].includes(e.key)?pL(e.key):e.key==="Escape"&&mL(e,t,n)))},hL=(t,e)=>{if(!If(e.allowEnterKey))return;const n=Pf(it(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;GC(),t.preventDefault()}},fL=t=>{const e=t.target,n=$y();let r=-1;for(let o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?pg(r,-1):pg(r,1),t.stopPropagation(),t.preventDefault()},pL=t=>{const e=Su(),n=Ls(),r=Ia(),o=Yl();if(!e||!n||!r||!o)return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const u=QC.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let f=0;f<e.children.length;f++){if(h=h[u],!h)return;if(h instanceof HTMLButtonElement&&sr(h))break}h instanceof HTMLButtonElement&&h.focus()}},mL=(t,e,n)=>{t.preventDefault(),If(e.allowEscapeKey)&&n(Zl.esc)};var Dl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const gL=()=>{const t=Hn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},JC=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},YC=typeof window<"u"&&!!window.GestureEvent,yL=()=>{if(YC&&!fi(document.body,X.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,ot(document.body,X.iosfix),wL()}},wL=()=>{const t=Hn();if(!t)return;let e;t.ontouchstart=n=>{e=vL(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},vL=t=>{const e=t.target,n=Hn(),r=Vy();return!n||!r||_L(t)||EL(t)?!1:e===n||!fg(n)&&e instanceof HTMLElement&&!vO(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(fg(r)&&r.contains(e))},_L=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",EL=t=>t.touches&&t.touches.length>1,bL=()=>{if(fi(document.body,X.iosfix)){const t=parseInt(document.body.style.top,10);Vr(document.body,X.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},CL=()=>{const t=document.createElement("div");t.className=X["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let El=null;const TL=t=>{El===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(El=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${El+CL()}px`)},SL=()=>{El!==null&&(document.body.style.paddingRight=`${El}px`,El=null)};function XC(t,e,n,r){kf()?tE(t,r):(cO(n).then(()=>tE(t,r)),KC(ke)),YC?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Uy()&&(SL(),bL(),JC()),IL()}function IL(){Vr([document.documentElement,document.body],[X.shown,X["height-auto"],X["no-backdrop"],X["toast-shown"]])}function io(t){t=RL(t);const e=Dl.swalPromiseResolve.get(this),n=xL(this);this.isAwaitingPromise?t.isDismissed||(Ru(this),e(t)):n&&e(t)}const xL=t=>{const e=it();if(!e)return!1;const n=wt.innerParams.get(t);if(!n||fi(e,n.hideClass.popup))return!1;Vr(e,n.showClass.popup),ot(e,n.hideClass.popup);const r=Hn();return Vr(r,n.showClass.backdrop),ot(r,n.hideClass.backdrop),kL(t,e,n),!0};function ZC(t){const e=Dl.swalPromiseReject.get(this);Ru(this),e&&e(t)}const Ru=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,wt.innerParams.get(t)||t._destroy())},RL=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),kL=(t,e,n)=>{var r;const o=Hn(),a=jC(e);typeof n.willClose=="function"&&n.willClose(e),(r=ke.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?PL(t,e,o,n.returnFocus,n.didClose):XC(t,o,n.returnFocus,n.didClose)},PL=(t,e,n,r,o)=>{ke.swalCloseEventFinishedCallback=XC.bind(null,t,n,r,o);const a=function(u){if(u.target===e){var h;(h=ke.swalCloseEventFinishedCallback)===null||h===void 0||h.call(ke),delete ke.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},tE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ke.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Ol=t=>{let e=it();if(e||new Ut,e=it(),!e)return;const n=Xl();kf()?Mn(Jl()):AL(e,t),yn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},AL=(t,e)=>{const n=Su(),r=Xl();!n||!r||(!e&&sr(Ls())&&(e=Ls()),yn(n),e&&(Mn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),ot([t,n],X.loading))},NL=(t,e)=>{e.input==="select"||e.input==="radio"?VL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Ly(e.inputValue)||My(e.inputValue))&&(Ol(Ls()),jL(t,e))},DL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return OL(n);case"radio":return LL(n);case"file":return ML(n);default:return e.inputAutoTrim?n.value.trim():n.value}},OL=t=>t.checked?1:0,LL=t=>t.checked?t.value:null,ML=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,VL=(t,e)=>{const n=it();if(!n)return;const r=o=>{e.input==="select"?FL(n,jh(o),e):e.input==="radio"&&$L(n,jh(o),e)};Ly(e.inputOptions)||My(e.inputOptions)?(Ol(Ls()),Cu(e.inputOptions).then(o=>{t.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):Sa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},jL=(t,e)=>{const n=t.getInput();n&&(Mn(n),Cu(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,yn(n),n.focus(),t.hideLoading()}).catch(r=>{Sa(`Error in inputValue promise: ${r}`),n.value="",yn(n),n.focus(),t.hideLoading()}))};function FL(t,e,n){const r=so(t,X.select);if(!r)return;const o=(a,u,h)=>{const f=document.createElement("option");f.value=h,_r(f,u),f.selected=eT(h,n.inputValue),a.appendChild(f)};e.forEach(a=>{const u=a[0],h=a[1];if(Array.isArray(h)){const f=document.createElement("optgroup");f.label=u,f.disabled=!1,r.appendChild(f),h.forEach(y=>o(f,y[1],y[0]))}else o(r,h,u)}),r.focus()}function $L(t,e,n){const r=so(t,X.radio);if(!r)return;e.forEach(a=>{const u=a[0],h=a[1],f=document.createElement("input"),y=document.createElement("label");f.type="radio",f.name=X.radio,f.value=u,eT(u,n.inputValue)&&(f.checked=!0);const w=document.createElement("span");_r(w,h),w.className=X.label,y.appendChild(f),y.appendChild(w),r.appendChild(y)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const jh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let o=n;typeof o=="object"&&(o=jh(o)),e.push([r,o])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=jh(r)),e.push([n,r])}),e},eT=(t,e)=>!!e&&e.toString()===t.toString(),UL=t=>{const e=wt.innerParams.get(t);t.disableButtons(),e.input?tT(t,"confirm"):Ky(t,!0)},BL=t=>{const e=wt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?tT(t,"deny"):Gy(t,!1)},zL=(t,e)=>{t.disableButtons(),e(Zl.cancel)},tT=(t,e)=>{const n=wt.innerParams.get(t);if(!n.input){Sa(`The "input" parameter is needed to be set when using returnInputValueOn${Oy(e)}`);return}const r=t.getInput(),o=DL(t,n);n.inputValidator?HL(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?Gy(t,o):Ky(t,o)},HL=(t,e,n)=>{const r=wt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Cu(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?Gy(t,e):Ky(t,e)})},Gy=(t,e)=>{const n=wt.innerParams.get(t||void 0);n.showLoaderOnDeny&&Ol(Ia()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Cu(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),Ru(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>nT(t||void 0,o))):t.close({isDenied:!0,value:e})},nE=(t,e)=>{t.close({isConfirmed:!0,value:e})},nT=(t,e)=>{t.rejectPromise(e)},Ky=(t,e)=>{const n=wt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Ol(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Cu(n.preConfirm(e,n.validationMessage))).then(o=>{sr(xf())||o===!1?(t.hideLoading(),Ru(t)):nE(t,typeof o>"u"?e:o)}).catch(o=>nT(t||void 0,o))):nE(t,e)};function Fh(){const t=wt.innerParams.get(this);if(!t)return;const e=wt.domCache.get(this);Mn(e.loader),kf()?t.icon&&yn(Jl()):qL(e),Vr([e.popup,e.actions],X.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const qL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?yn(e[0],"inline-block"):wO()&&Mn(t.actions)};function rT(){const t=wt.innerParams.get(this),e=wt.domCache.get(this);return e?Pf(e.popup,t.input):null}function sT(t,e,n){const r=wt.domCache.get(t);e.forEach(o=>{r[o].disabled=n})}function iT(t,e){const n=it();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${X.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else t.disabled=e}function oT(){sT(this,["confirmButton","denyButton","cancelButton"],!1)}function aT(){sT(this,["confirmButton","denyButton","cancelButton"],!0)}function lT(){iT(this.getInput(),!1)}function cT(){iT(this.getInput(),!0)}function uT(t){const e=wt.domCache.get(this),n=wt.innerParams.get(this);_r(e.validationMessage,t),e.validationMessage.className=X["validation-message"],n.customClass&&n.customClass.validationMessage&&ot(e.validationMessage,n.customClass.validationMessage),yn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",X["validation-message"]),MC(r),ot(r,X.inputerror))}function dT(){const t=wt.domCache.get(this);t.validationMessage&&Mn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Vr(e,X.inputerror))}const bl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},WL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],GL={allowEnterKey:void 0},KL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],hT=t=>Object.prototype.hasOwnProperty.call(bl,t),fT=t=>WL.indexOf(t)!==-1,pT=t=>GL[t],QL=t=>{hT(t)||zn(`Unknown parameter "${t}"`)},JL=t=>{KL.includes(t)&&zn(`The parameter "${t}" is incompatible with toasts`)},YL=t=>{const e=pT(t);e&&NC(t,e)},mT=t=>{t.backdrop===!1&&t.allowOutsideClick&&zn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&zn(`Invalid theme "${t.theme}"`);for(const e in t)QL(e),t.toast&&JL(e),YL(e)};function gT(t){const e=Hn(),n=it(),r=wt.innerParams.get(this);if(!n||fi(n,r.hideClass.popup)){zn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=XL(t),a=Object.assign({},r,o);mT(a),e.dataset.swal2Theme=a.theme,WC(this,a),wt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const XL=t=>{const e={};return Object.keys(t).forEach(n=>{fT(n)?e[n]=t[n]:zn(`Invalid parameter to update: ${n}`)}),e};function yT(){const t=wt.domCache.get(this),e=wt.innerParams.get(this);if(!e){wT(this);return}t.popup&&ke.swalCloseEventFinishedCallback&&(ke.swalCloseEventFinishedCallback(),delete ke.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ke.eventEmitter.emit("didDestroy"),ZL(this)}const ZL=t=>{wT(t),delete t.params,delete ke.keydownHandler,delete ke.keydownTarget,delete ke.currentInstance},wT=t=>{t.isAwaitingPromise?(km(wt,t),t.isAwaitingPromise=!0):(km(Dl,t),km(wt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},km=(t,e)=>{for(const n in t)t[n].delete(e)};var eM=Object.freeze({__proto__:null,_destroy:yT,close:io,closeModal:io,closePopup:io,closeToast:io,disableButtons:aT,disableInput:cT,disableLoading:Fh,enableButtons:oT,enableInput:lT,getInput:rT,handleAwaitingPromise:Ru,hideLoading:Fh,rejectPromise:ZC,resetValidationMessage:dT,showValidationMessage:uT,update:gT});const tM=(t,e,n)=>{t.toast?nM(t,e,n):(sM(e),iM(e),oM(t,e,n))},nM=(t,e,n)=>{e.popup.onclick=()=>{t&&(rM(t)||t.timer||t.input)||n(Zl.close)}},rM=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let $h=!1;const sM=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&($h=!0)}}},iM=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&($h=!0)}}},oM=(t,e,n)=>{e.container.onclick=r=>{if($h){$h=!1;return}r.target===e.container&&If(t.allowOutsideClick)&&n(Zl.backdrop)}},aM=t=>typeof t=="object"&&t.jquery,rE=t=>t instanceof Element||aM(t),lM=t=>{const e={};return typeof t[0]=="object"&&!rE(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const o=t[r];typeof o=="string"||rE(o)?e[n]=o:o!==void 0&&Sa(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function cM(...t){return new this(...t)}function uM(t){class e extends this{_main(r,o){return super._main(r,Object.assign({},t,o))}}return e}const dM=()=>ke.timeout&&ke.timeout.getTimerLeft(),vT=()=>{if(ke.timeout)return _O(),ke.timeout.stop()},_T=()=>{if(ke.timeout){const t=ke.timeout.start();return zy(t),t}},hM=()=>{const t=ke.timeout;return t&&(t.running?vT():_T())},fM=t=>{if(ke.timeout){const e=ke.timeout.increase(t);return zy(e,!0),e}},pM=()=>!!(ke.timeout&&ke.timeout.isRunning());let sE=!1;const mg={};function mM(t="data-swal-template"){mg[t]=this,sE||(document.body.addEventListener("click",gM),sE=!0)}const gM=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in mg){const r=e.getAttribute(n);if(r){mg[n].fire({template:r});return}}};class yM{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...o)=>{this.removeListener(e,r),n.apply(this,o)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ke.eventEmitter=new yM;const wM=(t,e)=>{ke.eventEmitter.on(t,e)},vM=(t,e)=>{ke.eventEmitter.once(t,e)},_M=(t,e)=>{if(!t){ke.eventEmitter.reset();return}e?ke.eventEmitter.removeListener(t,e):ke.eventEmitter.removeAllListeners(t)};var EM=Object.freeze({__proto__:null,argsToParams:lM,bindClickHandler:mM,clickCancel:lL,clickConfirm:GC,clickDeny:aL,enableLoading:Ol,fire:cM,getActions:Su,getCancelButton:Yl,getCloseButton:Fy,getConfirmButton:Ls,getContainer:Hn,getDenyButton:Ia,getFocusableElements:$y,getFooter:LC,getHtmlContainer:Vy,getIcon:Jl,getIconContent:fO,getImage:OC,getInputLabel:pO,getLoader:Xl,getPopup:it,getProgressSteps:jy,getTimerLeft:dM,getTimerProgressBar:Rf,getTitle:DC,getValidationMessage:xf,increaseTimer:fM,isDeprecatedParameter:pT,isLoading:gO,isTimerRunning:pM,isUpdatableParameter:fT,isValidParameter:hT,isVisible:oL,mixin:uM,off:_M,on:wM,once:vM,resumeTimer:_T,showLoading:Ol,stopTimer:vT,toggleTimer:hM});class bM{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ET=["swal-title","swal-html","swal-footer"],CM=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return AM(n),Object.assign(TM(n),SM(n),IM(n),xM(n),RM(n),kM(n),PM(n,ET))},TM=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{pa(r,["name","value"]);const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(typeof bl[o]=="boolean"?e[o]=a!=="false":typeof bl[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},SM=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},IM=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{pa(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${Oy(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},xM=t=>{const e={},n=t.querySelector("swal-image");return n&&(pa(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},RM=t=>{const e={},n=t.querySelector("swal-icon");return n&&(pa(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},kM=t=>{const e={},n=t.querySelector("swal-input");n&&(pa(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{pa(o,["value"]);const a=o.getAttribute("value");if(!a)return;const u=o.innerHTML;e.inputOptions[a]=u})),e},PM=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(pa(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},AM=t=>{const e=ET.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||zn(`Unrecognized element <${r}>`)})},pa=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&zn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},bT=10,NM=t=>{const e=Hn(),n=it();typeof t.willOpen=="function"&&t.willOpen(n),ke.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;LM(e,n,t),setTimeout(()=>{DM(e,n)},bT),Uy()&&(OM(e,t.scrollbarPadding,o),gL()),!kf()&&!ke.previousActiveElement&&(ke.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ke.eventEmitter.emit("didOpen",n),Vr(e,X["no-transition"])},Uh=t=>{const e=it();if(t.target!==e)return;const n=Hn();e.removeEventListener("animationend",Uh),e.removeEventListener("transitionend",Uh),n.style.overflowY="auto"},DM=(t,e)=>{jC(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Uh),e.addEventListener("transitionend",Uh)):t.style.overflowY="auto"},OM=(t,e,n)=>{yL(),e&&n!=="hidden"&&TL(n),setTimeout(()=>{t.scrollTop=0})},LM=(t,e,n)=>{ot(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),yn(e,"grid"),setTimeout(()=>{ot(e,n.showClass.popup),e.style.removeProperty("opacity")},bT)):yn(e,"grid"),ot([document.documentElement,document.body],X.shown),n.heightAuto&&n.backdrop&&!n.toast&&ot([document.documentElement,document.body],X["height-auto"])};var iE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function MM(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=iE.email),t.input==="url"&&(t.inputValidator=iE.url))}function VM(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(zn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function jM(t){MM(t),t.showLoaderOnConfirm&&!t.preConfirm&&zn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),VM(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),RO(t)}let bs;var zd=new WeakMap;class qt{constructor(...e){if(iO(this,zd,void 0),typeof window>"u")return;bs=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,oO(zd,this,this._main(bs.params))}_main(e,n={}){if(mT(Object.assign({},n,e)),ke.currentInstance){const a=Dl.swalPromiseResolve.get(ke.currentInstance),{isAwaitingPromise:u}=ke.currentInstance;ke.currentInstance._destroy(),u||a({isDismissed:!0}),Uy()&&JC()}ke.currentInstance=bs;const r=$M(e,n);jM(r),Object.freeze(r),ke.timeout&&(ke.timeout.stop(),delete ke.timeout),clearTimeout(ke.restoreFocusTimeout);const o=UM(bs);return WC(bs,r),wt.innerParams.set(bs,r),FM(bs,o,r)}then(e){return Q0(zd,this).then(e)}finally(e){return Q0(zd,this).finally(e)}}const FM=(t,e,n)=>new Promise((r,o)=>{const a=u=>{t.close({isDismissed:!0,dismiss:u})};Dl.swalPromiseResolve.set(t,r),Dl.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{UL(t)},e.denyButton.onclick=()=>{BL(t)},e.cancelButton.onclick=()=>{zL(t,a)},e.closeButton.onclick=()=>{a(Zl.close)},tM(n,e,a),cL(ke,n,a),NL(t,n),NM(n),BM(ke,n,a),zM(e,n),setTimeout(()=>{e.container.scrollTop=0})}),$M=(t,e)=>{const n=CM(t),r=Object.assign({},bl,e,n,t);return r.showClass=Object.assign({},bl.showClass,r.showClass),r.hideClass=Object.assign({},bl.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},UM=t=>{const e={popup:it(),container:Hn(),actions:Su(),confirmButton:Ls(),denyButton:Ia(),cancelButton:Yl(),loader:Xl(),closeButton:Fy(),validationMessage:xf(),progressSteps:jy()};return wt.domCache.set(t,e),e},BM=(t,e,n)=>{const r=Rf();Mn(r),e.timer&&(t.timeout=new bM(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(yn(r),yr(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&zy(e.timer)})))},zM=(t,e)=>{if(!e.toast){if(!If(e.allowEnterKey)){NC("allowEnterKey"),WM();return}HM(t)||qM(t,e)||pg(-1,1)}},HM=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&sr(n))return n.focus(),!0;return!1},qM=(t,e)=>e.focusDeny&&sr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&sr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&sr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,WM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};qt.prototype.disableButtons=aT;qt.prototype.enableButtons=oT;qt.prototype.getInput=rT;qt.prototype.disableInput=cT;qt.prototype.enableInput=lT;qt.prototype.hideLoading=Fh;qt.prototype.disableLoading=Fh;qt.prototype.showValidationMessage=uT;qt.prototype.resetValidationMessage=dT;qt.prototype.close=io;qt.prototype.closePopup=io;qt.prototype.closeModal=io;qt.prototype.closeToast=io;qt.prototype.rejectPromise=ZC;qt.prototype.update=gT;qt.prototype._destroy=yT;Object.assign(qt,EM);Object.keys(eM).forEach(t=>{qt[t]=function(...e){return bs&&bs[t]?bs[t](...e):null}});qt.DismissReason=Zl;qt.version="11.23.0";const Ut=qt;Ut.default=Ut;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Ll="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",tn="/Fantasy-Casadillos/SinPerfil.jpg",GM="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",KM="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",QM="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",JM="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",Lc=js(wr),oE=rs(wr),YM=new Ts,XM=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[o,a]=S.useState(GM),u=ky();S.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async w=>{w.preventDefault();const b=new FormData(w.currentTarget),C=b.get("email"),R=b.get("password");if(n)try{const{user:N}=await JR(Lc,C,R),j=b.get("nick");await T1(Lc.currentUser,{displayName:j});const D={nick:j,correo:C,puntos:0,rol:"usuario",dinero:1e8,equipo:{formacion:"2-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[0],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await ug(zt(oE,"usuarios",N.uid),D,{merge:!0})}catch(N){console.error("Error registrando usuario:",N);let j="No se pudo crear la cuenta. Revisa los datos.";N.code==="auth/email-already-in-use"?j="Ya existe una cuenta con este correo.":N.code==="auth/weak-password"?j="La contraseña debe tener al menos 6 caracteres.":N.code==="auth/invalid-email"?j="El correo electrónico no es válido.":j=`Error desconocido: ${N.code}`,Ut.fire({icon:"error",title:"Error",text:j})}else try{await YR(Lc,C,R),console.log("Inicio de sesión exitoso"),u("/home")}catch(N){console.error("Error iniciando sesión:",N);let j="Error al iniciar sesión.";(N.code==="auth/invalid-credential"||N.code==="auth/wrong-password"||N.code==="auth/user-not-found")&&(j="Correo o contraseña incorrectos."),Ut.fire({icon:"error",title:"Error al iniciar sesión",text:j})}},f=async()=>{const{value:w}=await Ut.fire({title:"Recuperar contraseña",input:"email",inputLabel:"Introduce tu correo electrónico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:b=>{if(!b)return"El correo es obligatorio"}});if(w)try{await C1(Lc,w),Ut.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(b){Ut.fire("Error",b.message,"error")}},y=async()=>{try{const w=await Tk(Lc,YM);if(!w?.user)throw new Error("No se obtuvo el usuario de Google.");const b=w.user,C=zt(oE,"usuarios",b.uid);(await Ns(C)).exists()||await ug(C,{nick:b.displayName||"",correo:b.email,puntos:0,rol:"usuario",dinero:1e8,equipo:{formacion:"2-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[0],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(w){if(w.code==="auth/popup-closed-by-user"||w.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",w),Ut.fire({icon:"error",title:"Error",text:w.message||"No se pudo iniciar sesión con Google"})}};return v.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${Ll})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),v.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[v.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),v.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:v.jsx("label",{style:{cursor:"default",display:"inline-block"},children:v.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),v.jsxs("form",{onSubmit:h,children:[v.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&v.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),v.jsxs("div",{className:"cajaContainerContraseña",children:[v.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contraseña",className:"cajacontraseña",required:!0}),v.jsx("img",{src:t?QM:JM,alt:"Mostrar contraseña",className:"toggle-password-icon",onClick:()=>e(w=>!w)})]}),!n&&v.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:v.jsx("button",{type:"button",onClick:f,className:"link-style",children:"¿Has olvidado la contraseña?"})}),n?v.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[v.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesión"}),v.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),v.jsxs("button",{type:"button",onClick:y,className:"btn-google",style:{width:"auto"},children:[v.jsx("img",{src:KM,alt:"Google"}),"Google"]})]})]}),v.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",v.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesión":"Regístrate"})]})]})]})},gg={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebasestorage.googleapis.com",ZM="storageBucket",e5=120*1e3,t5=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Vs{constructor(e,n,r=0){super(Pm(e),`Firebase Storage: ${n} (${Pm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ms;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ms||(Ms={}));function Pm(t){return"storage/"+t}function n5(){const t="An unknown error occurred, please check the error payload for server response.";return new Fs(Ms.UNKNOWN,t)}function r5(){return new Fs(Ms.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s5(){return new Fs(Ms.CANCELED,"User canceled the upload/download.")}function i5(t){return new Fs(Ms.INVALID_URL,"Invalid URL '"+t+"'.")}function o5(t){return new Fs(Ms.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aE(t){return new Fs(Ms.INVALID_ARGUMENT,t)}function TT(){return new Fs(Ms.APP_DELETED,"The Firebase app was deleted.")}function a5(t){return new Fs(Ms.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Xr.makeFromUrl(e,n)}catch{return new Xr(e,"")}if(r.path==="")return r;throw o5(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function y(ee){ee.path_=decodeURIComponent(ee.path)}const w="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",R=new RegExp(`^https?://${b}/${w}/b/${o}/o${C}`,"i"),N={bucket:1,path:3},j=n===CT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",G=new RegExp(`^https?://${j}/${o}/${D}`,"i"),Q=[{regex:h,indices:f,postModify:a},{regex:R,indices:N,postModify:y},{regex:G,indices:{bucket:1,path:2},postModify:y}];for(let ee=0;ee<Q.length;ee++){const de=Q[ee],re=de.regex.exec(e);if(re){const P=re[de.indices.bucket];let T=re[de.indices.path];T||(T=""),r=new Xr(P,T),de.postModify(r);break}}if(r==null)throw i5(e);return r}}class l5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t,e,n){let r=1,o=null,a=null,u=!1,h=0;function f(){return h===2}let y=!1;function w(...D){y||(y=!0,e.apply(null,D))}function b(D){o=setTimeout(()=>{o=null,t(R,f())},D)}function C(){a&&clearTimeout(a)}function R(D,...G){if(y){C();return}if(D){C(),w.call(null,D,...G);return}if(f()||u){C(),w.call(null,D,...G);return}r<64&&(r*=2);let Q;h===1?(h=2,Q=0):Q=(r+Math.random())*1e3,b(Q)}let N=!1;function j(D){N||(N=!0,C(),!y&&(o!==null?(D||(h=2),clearTimeout(o),b(0)):D||(h=1)))}return b(0),a=setTimeout(()=>{u=!0,j(!0)},n),j}function u5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t){return t!==void 0}function lE(t,e,n,r){if(r<e)throw aE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw aE(`Invalid value for '${t}'. Expected ${n} or less.`)}function h5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Bh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bh||(Bh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,r,o,a,u,h,f,y,w,b,C=!0,R=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=b,this.retry=C,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,j)=>{this.resolve_=N,this.reject_=j,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Hd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,y=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,y)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===Bh.NO_ERROR,f=a.getStatus();if(!h||f5(f,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===Bh.ABORT;r(!1,new Hd(!1,null,w));return}const y=this.successCodes_.indexOf(f)!==-1;r(!0,new Hd(y,a))})},n=(r,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());d5(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=n5();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(o.canceled){const f=this.appDelete_?TT():s5();u(f)}else{const f=r5();u(f)}};this.canceled_?n(!1,new Hd(!1,null,!0)):this.backoffId_=c5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function m5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function g5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function v5(t,e,n,r,o,a,u=!0,h=!1){const f=h5(t.urlParams),y=t.url+f,w=Object.assign({},t.headers);return y5(w,e),m5(w,n),g5(w,a),w5(w,r),new p5(y,t.method,w,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function E5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this._service=e,n instanceof Xr?this._location=n:this._location=Xr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zh(e,n)}get root(){const e=new Xr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E5(this._location.path)}get storage(){return this._service}get parent(){const e=_5(this._location.path);if(e===null)return null;const n=new Xr(this._location.bucket,e);return new zh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw a5(e)}}function cE(t,e){const n=e?.[ZM];return n==null?null:Xr.makeFromBucketSpec(n,t)}function b5(t,e,n,r={}){t.host=`${e}:${n}`;const o=ya(e);o&&(xg(`https://${t.host}/b`),Rg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:GE(a,t.app.options.projectId))}class C5{constructor(e,n,r,o,a,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=CT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e5,this._maxUploadRetryTime=t5,this._requests=new Set,o!=null?this._bucket=Xr.makeFromBucketSpec(o,this._host):this._bucket=cE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xr.makeFromBucketSpec(this._url,e):this._bucket=cE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zh(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new l5(TT());{const u=v5(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const uE="@firebase/storage",dE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="storage";function Af(t=Ag(),e){t=kt(t);const r=Yh(t,ST).getImmediate({identifier:e}),o=HE("storage");return o&&T5(r,...o),r}function T5(t,e,n,r={}){b5(t,e,n,r)}function S5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new C5(n,r,o,e,wa)}function I5(){la(new ho(ST,S5,"PUBLIC").setMultipleInstances(!0)),Is(uE,dE,""),Is(uE,dE,"esm2020")}I5();function Nf({usuario:t,openModal:e,setOpenModal:n}){const r=js(),o=rs();Af();const a=t?.fotoPerfil||tn,[u,h]=S.useState(!1),[f,y]=S.useState(!1),[w,b]=S.useState(a),[C,R]=S.useState(null),[N,j]=S.useState(t.nick),[D,G]=S.useState(t.correo),[z,Q]=S.useState(""),[ee,de]=S.useState(!1),[re,P]=S.useState(""),[T,k]=S.useState(""),O=S.useRef();S.useEffect(()=>{e&&(b(t.fotoPerfil),R(null),j(t.nick),G(t.correo),Q(""),P(t.nick),k(t.correo))},[e,t]),S.useEffect(()=>{const W=N!==re||D!==T||z.length>0||C!==null;y(W)},[N,D,z,C,re,T]);const V=async()=>{const W=r.currentUser?.email;if(!W){Ut.fire("Error","No se encontró un correo asociado al usuario","error");return}try{await C1(r,W),await Ut.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(Y){Ut.fire("Error",Y.message,"error")}},$=W=>W.toLocaleString("es-ES")+"€",x=W=>{W.target===O.current&&n(!1)},Le=W=>{if(!W)return"";const Y=12,L=W.indexOf(" ");let U;return L!==-1&&L<=Y?(U=L,W.slice(0,U)+"..."):W.length>Y?(U=Y-3,W.slice(0,U)+"..."):W},et=W=>{const Y=W.target.files[0];if(!Y)return;R(Y);const L=new FileReader;L.onloadend=()=>b(L.result),L.readAsDataURL(Y)},Ke=async()=>{try{de(!0);const W=r.currentUser;let Y=t.fotoPerfil;if(C){if(C.size>1*1024*1024){await Ut.fire({icon:"error",title:"Error",text:"La imagen es demasiado grande (máx. 1 MB)."});return}const U=new FormData;U.append("file",C),U.append("upload_preset","perfil_preset");const be=await(await fetch("https://api.cloudinary.com/v1_1/drmoefeeq/image/upload",{method:"POST",body:U})).json();if(be.secure_url)Y=be.secure_url;else{Ut.fire({icon:"error",title:"Error",text:"Error subiendo a Cloudinary"});return}}N!==t.nick&&await T1(W,{displayName:N}),z&&await ZR(W,z);const L=zt(o,"usuarios",W.uid);await Ss(L,{fotoPerfil:Y,nick:N}),await Ut.fire("Datos actualizados","Se han guardado sus modificaciones correctamente.","success")}catch(W){console.error("Error guardando perfil:",W),alert("No se pudo guardar los cambios: "+W.message)}finally{de(!1),window.location.reload()}},se=async()=>{const W=r.currentUser;if(!W)throw new Error("No hay usuario autenticado.");const Y=W.uid;if(W.providerData[0].providerId==="password"){const{value:ye}=await Ut.fire({title:"Confirma tu contraseña",input:"password",inputLabel:"Introduce tu contraseña para continuar",inputPlaceholder:"Tu contraseña",inputAttributes:{autocapitalize:"off",autocorrect:"off"},showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"});if(!ye)throw new Error("Se canceló la reautenticación");const be=va.credential(W.email,ye);await QR(W,be)}else if(W.providerData[0].providerId==="google.com"){const ye=new Ts;await Sk(W,ye)}else throw new Error("Proveedor no soportado para reautenticación.");const L=Ef(Al(o,"jugadores"),Cf("dueños","array-contains",Y)),le=(await Nl(L)).docs.map(async ye=>{const be=ye.ref;await Ss(be,{stockLibre:pC(1),dueños:AN(Y)})});await Promise.all(le);const ge=zt(o,"usuarios",Y);await xN(ge),await sk(W)},Z=async()=>{if((await Ut.fire({title:"¿Estás seguro?",text:"Esta acción eliminará tu cuenta permanentemente. No podrás deshacerlo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, borrar cuenta",cancelButtonText:"Cancelar"})).isConfirmed)try{de(!0),await se(),await Ut.fire("Cuenta eliminada","Tu cuenta ha sido borrada exitosamente.","success")}catch(Y){console.error("Error al borrar la cuenta:",Y),Ut.fire("Error","No se pudo borrar la cuenta: "+Y.message,"error")}finally{de(!1)}};return e?v.jsx("div",{className:"modal-overlay",ref:O,onClick:x,children:v.jsxs("div",{className:"modal-perfil",children:[v.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),v.jsxs("div",{className:"modal-header",children:[v.jsxs("label",{className:"modal-avatar",children:[v.jsx("img",{src:w,alt:"Perfil"}),v.jsx("input",{type:"file",accept:"image/*",onChange:et}),v.jsx("span",{className:"modal-avatar-overlay",children:"Editar"})]}),v.jsxs("div",{className:"modal-userinfo",children:[v.jsx("h2",{children:window.innerWidth<450?Le(t.nick):t.nick}),v.jsx("small",{children:t.correo}),v.jsxs("small",{children:["Dinero: ",v.jsx("span",{className:"dinero-verde",children:$(t.dinero)})]})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-body",children:[v.jsxs("div",{className:"field-group",children:[v.jsxs("label",{children:["Nick ",v.jsx("small",{children:"(Recomendado máximo 12 caracteres)"})]}),v.jsxs("div",{className:"field-with-icon",children:[v.jsx("input",{type:"text",value:N,onChange:W=>j(W.target.value),disabled:!u}),v.jsx("button",{className:"icon-pencil",onClick:()=>h(!u),title:"Editar nick",children:"✎"})]})]}),v.jsx("div",{style:{textAlign:"left"},children:v.jsx("button",{type:"button",onClick:V,className:"link-style",children:"Cambiar contraseña"})})]}),v.jsxs("div",{className:"modal-footer",children:[f&&v.jsx("button",{className:"modal-save-btn",onClick:Ke,disabled:ee,children:ee?"Guardando…":"Guardar cambios"}),v.jsx("button",{className:"modal-delete-btn",onClick:Z,disabled:ee,children:"Borrar cuenta"})]})]})}):null}function x5({jugador:t,openModal:e,setOpenModal:n,user:r}){js();const o=rs();Af();const a=t?.foto||tn,[u,h]=S.useState(null),f=R=>{switch(R){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return R||"Sin posición"}},y=S.useRef();S.useEffect(()=>{(async()=>{if(!r)return;const N=zt(o,"usuarios",r.uid),j=await Ns(N);if(j.exists()){const D=j.data();h(D.equipo?.capitan||null)}})()},[r,o,e]);const w=async R=>{try{const N=zt(o,"usuarios",r.uid);await Ss(N,{"equipo.capitan":R}),h(R),await Ut.fire({icon:"success",title:"¡Capitán asignado!",text:`${t.nombre} ahora es tu capitán.`,confirmButtonColor:"#28a745"})}catch(N){console.error("Error al asignar capitán:",N),Ut.fire({icon:"error",title:"Error",text:"No se pudo asignar el capitán, inténtalo de nuevo."})}finally{window.location.reload()}},b=R=>{R.target===y.current&&n(!1)},C=R=>R.toLocaleString("es-ES")+"€";return e?v.jsx("div",{className:"modal-overlay",ref:y,onClick:b,children:v.jsxs("div",{className:"modal-perfil",children:[v.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),v.jsxs("div",{className:"modal-header",children:[v.jsx("label",{className:"modal-avatar",children:v.jsx("img",{src:a,alt:"Jugador"})}),v.jsxs("div",{className:"modal-jugadorinfo",children:[v.jsx("h2",{children:(window.innerWidth<450,t.nombre)}),v.jsxs("div",{className:"posicion-precio",children:[v.jsx("div",{className:`posicion-texto ${t.posicion}`,children:v.jsx("small",{children:f(t.posicion)})}),v.jsxs("div",{className:"precio-container",children:[v.jsx("div",{className:"precio",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",C(t.precio)]})}),v.jsx("div",{className:"diferencia-precio",children:(()=>{const R=t.historialPrecios||[];if(R.length===0)return v.jsx("small",{children:"(±0€)"});const N=R[R.length-1].precio||0,j=t.precio-N,D=j>0?"+":j<0?"-":"±";return v.jsxs("small",{className:j>=0?"subida":"bajada",children:["(",D,C(Math.abs(j)),")"]})})()})]}),v.jsx("div",{className:"precio-clausula",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",C(t.precioClausula)]})})]}),v.jsx("div",{className:"estadisticas-extra",children:v.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((R,N,j)=>{const D=R??"-",G=j.length<5?N+1:t.puntosPorJornada.length-5+N+1;let z="";return typeof R=="number"&&(R>=9?z="verde":R<7?z="rojo":z="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",G]}),v.jsx("div",{className:`jornada-cuadro ${z}`,children:D})]},N)}):[...Array(5)].map((R,N)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",N+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},N))})})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-jugadorbody",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.valoracion}),v.jsx("small",{children:"Valoración"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.nota}),v.jsx("small",{children:"Nota Media"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.puntosTotales}),v.jsx("small",{children:"Puntos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.partidos}),v.jsx("small",{children:"Partidos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.goles}),v.jsx("small",{children:"Goles"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.asistencias}),v.jsx("small",{children:"Asistencias"})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-footer",children:[v.jsx("button",{className:"btn-accion",disabled:t.stock<=0,onClick:()=>{},children:"Vender"}),v.jsx("button",{className:"btn-capitan",disabled:u===t.id,onClick:()=>w(t.id),children:u===t.id?"Ya es capitán":"Nombrar capitán"})]})]})}):null}const Yo=rs(wr),hE=js(wr),R5={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function fE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=R5[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function k5({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,u]=S.useState(!1),h=t?.fotoPerfil||tn,f=t?.equipo?.titulares||[],y=t?.equipo?.banquillo||[],[w,b]=S.useState(f),[C,R]=S.useState(y),[N,j]=S.useState([]),[D,G]=S.useState(null),z=t?.equipo?.capitan||"",Q=Object.keys(gg),[ee,de]=S.useState(t?.equipo?.formacion||"2-1-1"),[re,P]=S.useState(ee),[T,k]=S.useState(!1),[O,V]=S.useState(!1),[$,x]=S.useState(t?.equipocreado),[Le,et]=S.useState(!1),[Ke,se]=S.useState(!1),[Z,W]=S.useState(!1),Y=S.useRef(null),L=()=>ef(hE),[U,le]=S.useState(!1),[ge,ye]=S.useState(null),be=()=>{le(!U),ye(null)},Fe=(Pe,Ie,Ve)=>{if(U)if(Ve==="titulares"?[...w]:[...C],!ge)ye({jugadorId:Pe,index:Ie,tipo:Ve});else{const{index:Be,tipo:ut}=ge,Te=ut==="titulares"?w[Be]:C[Be],ft=Ve==="titulares"?w[Ie]:C[Ie];if(Te===null&&ft===null){ye(null);return}if(ut==="titulares"&&Ve==="titulares"){const Qe=[...w];[Qe[Be],Qe[Ie]]=[Qe[Ie],Qe[Be]],b(Qe)}else if(ut==="banquillo"&&Ve==="banquillo"){const Qe=[...C];[Qe[Be],Qe[Ie]]=[Qe[Ie],Qe[Be]],R(Qe)}else{const Qe=[...w],Wt=[...C];ut==="titulares"?[Qe[Be],Wt[Ie]]=[Wt[Ie],Qe[Be]]:[Wt[Be],Qe[Ie]]=[Qe[Ie],Wt[Be]],b(Qe),R(Wt)}V(!0),ye(null)}};S.useEffect(()=>{const Pe=Ie=>{Y.current&&!Y.current.contains(Ie.target)&&W(!1)};return document.addEventListener("mousedown",Pe),()=>{document.removeEventListener("mousedown",Pe)}},[]);const $e=Pe=>{P(Pe.target.value)},Ue=async()=>{try{k(!0);const Pe=zt(Yo,"usuarios",t.uid);await Ss(Pe,{"equipo.formacion":re,"equipo.titulares":w,"equipo.banquillo":C}),de(re),V(!1)}catch(Pe){console.error("Error al guardar formación:",Pe)}finally{k(!1),le(!1)}},ct=()=>{u(!a)},mt=Pe=>Pe>=1e6?(Pe/1e6).toFixed(2)+"M":Pe>=1e3?(Pe/1e3).toFixed(2)+"K":Pe.toFixed(2),vt=async()=>{try{k(!0);const Pe=await Nl(Al(Yo,"jugadores"));let Ie=[];if(Pe.forEach(Te=>{const ft=Te.data();ft.stockLibre>0&&Ie.push({id:Te.id,...ft})}),console.log(Ie.length),Ie.length<4){alert("No hay suficientes jugadores disponibles"),k(!1);return}let Ve=[];for(let Te=0;Te<4;Te++){const ft=Math.floor(Math.random()*Ie.length);Ve.push(Ie[ft]),Ie.splice(ft,1)}const Be=Ve.map(async Te=>{const ft=zt(Yo,"jugadores",Te.id);return Ss(ft,{stockLibre:Te.stockLibre-1,dueños:PN(t.uid)})});await Promise.all(Be);const ut=zt(Yo,"usuarios",t.uid);await Ss(ut,{"equipo.titulares":Ve.map(Te=>Te.id),equipocreado:!0}),x(!0)}catch(Pe){console.error("Error al crear equipo:",Pe)}finally{k(!1),window.location.reload()}};return S.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const Ie=setTimeout(async()=>{try{const Ve=zt(Yo,"usuarios",hE.currentUser.uid);await Ss(Ve,{onboarding:!0}),window.location.reload()}catch(Ve){console.error("Error actualizando onboarding:",Ve)}},500);return()=>clearTimeout(Ie)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const Ie=zt(Yo,"usuarios",t.uid);Ns(Ie).then(Ve=>{Ve.exists()&&o(Ve.data().dinero)})}(async()=>{const Ie=[...f||[],...y||[]].filter(Boolean);if(Ie.length===0)return;const Ve=Al(Yo,"jugadores"),Be=[];for(let ft=0;ft<Ie.length;ft+=10){const Qe=Ie.slice(ft,ft+10),Wt=Ef(Ve,Cf("__name__","in",Qe));Be.push(Nl(Wt))}const Te=(await Promise.all(Be)).flatMap(ft=>ft.docs.map(Qe=>({id:Qe.id,...Qe.data()})));j(Te)})()},[t],[f,y]),$?v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:h,onError:Pe=>{Pe.currentTarget.onerror=null,Pe.currentTarget.src=tn},alt:"Foto de perfil",onClick:()=>W(!Z),onMouseEnter:()=>W(!0)}),Z&&v.jsxs("div",{className:"perfil-bocadillo",ref:Y,onMouseLeave:()=>W(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{et(!0),W(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:L,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:mt(r)})]})]})]}),v.jsx("button",{onClick:ct,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ll})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Le&&v.jsx(Nf,{usuario:t,openModal:Le,setOpenModal:et}),Ke&&D&&v.jsx(x5,{jugador:D,openModal:Ke,setOpenModal:se,user:t}),v.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[v.jsxs("div",{className:"formacion-selector",children:[v.jsx("label",{htmlFor:"formacion-select",children:"Formación:"}),v.jsx("select",{id:"formacion-select",value:re,onChange:$e,children:Q.map(Pe=>v.jsx("option",{value:Pe,children:Pe},Pe))}),(re!==ee||O)&&v.jsx("button",{onClick:Ue,disabled:T,children:T?"Guardando...":"Guardar"})]}),v.jsx("div",{className:"modo-edicion-buttons",children:v.jsx("button",{onClick:be,children:U?"Desactivar modo edición":"Activar modo edición"})}),v.jsx("div",{className:"campo",children:gg[re]?.map((Pe,Ie)=>{const Ve=w[Ie],Be=N.find(Te=>Te.id===Ve),ut=ge?.index===Ie&&ge?.tipo==="titulares";return v.jsxs("div",{className:`jugador ${U?"modo-edicion":""} ${ut?"seleccionado":""}`,style:{position:"absolute",top:Pe.top,left:Pe.left,transform:"translate(-50%, -50%)"},onClick:()=>{U?Fe(Be?.id||null,Ie,"titulares"):Be&&(se(!0),G(Be))},children:[v.jsxs("div",{className:"jugador-wrapper",children:[v.jsx("img",{src:Be?.foto||tn,alt:Be?.nombre||"Vacío",className:"jugador-img",style:fE(Be,Ie,re).style}),(()=>{const{status:Te}=fE(Be,Ie,re);if(!Te)return null;if(Te==="green")return v.jsx("div",{className:"status-badge green",children:"✓"});if(Te==="orange")return v.jsx("div",{className:"status-badge orange",children:"!"});if(Te==="red")return v.jsx("div",{className:"status-badge red",children:"✕"})})(),z===Be?.id&&v.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!Be?.puntosPorJornada?.length)return v.jsx("div",{className:"puntos-badge gray",children:"-"});const Te=Be.puntosPorJornada[Be.puntosPorJornada.length-1];if(Te==null)return null;let ft=Te==="-"?"gray":Te<7?"red":Te<9?"orange":"green";return v.jsx("div",{className:`puntos-badge ${ft}`,children:Te})})()]}),v.jsx("p",{className:"jugador-nombre",children:Be?.nombre||"Vacío"})]},Be?.id||Ie)})}),v.jsxs("div",{className:"banquillo-section",children:[v.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),v.jsx("div",{className:"banquillo-container",children:C.map((Pe,Ie)=>{const Ve=N.find(ut=>ut.id===Pe),Be=ge?.index===Ie&&ge?.tipo==="banquillo";return v.jsx("div",{className:`banquillo-slot ${U?"modo-edicion":""} ${Be?"seleccionado":""}`,onClick:()=>{U?Fe(Ve?.id||null,Ie,"banquillo"):Ve&&(se(!0),G(Ve))},children:Ve?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"jugador-wrapper",children:[v.jsx("img",{src:Ve?.foto||tn,alt:Ve?.nombre||"Vacío",className:"jugador-img"}),z===Ve?.id&&v.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!Ve?.puntosPorJornada?.length)return v.jsx("div",{className:"puntos-badge gray",children:"-"});const ut=Ve.puntosPorJornada[Ve.puntosPorJornada.length-1];if(ut==null)return null;let Te=ut==="-"?"gray":ut<7?"red":ut<9?"orange":"green";return v.jsx("div",{className:`puntos-badge ${Te}`,children:ut})})()]}),v.jsx("p",{className:"jugador-nombre-banquillo",children:Ve?.nombre})]}):v.jsx(Xt,{to:U?"#":"/mercado",className:`banquillo-add ${U?"disabled":""}`,onClick:ut=>{U&&ut.preventDefault()},children:"+"})},Ve?.id||Ie)})})]})]})]}),e&&v.jsx("div",{className:"onboarding-overlay",children:v.jsx("div",{className:"loader",children:"Cargando..."})})]}):v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:h,onError:Pe=>{Pe.currentTarget.onerror=null,Pe.currentTarget.src=tn},alt:"Foto de perfil",onClick:()=>W(!Z),onMouseEnter:()=>W(!0)}),Z&&v.jsxs("div",{className:"perfil-bocadillo",ref:Y,onMouseLeave:()=>W(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{et(!0),W(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:L,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:mt(r)})]})]})]}),v.jsx("button",{onClick:ct,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ll})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),v.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:v.jsx("div",{className:"campo",children:v.jsx("button",{className:"crear-equipo-btn",onClick:vt,disabled:T,children:T?"Creando equipo...":"Crear equipo"})})})]}),e&&v.jsx("div",{className:"onboarding-overlay",children:v.jsx("div",{className:"loader",children:"Cargando..."})})]})}function P5({jugador:t,openModal:e,setOpenModal:n}){js(),rs(),Af();const r=t?.foto||tn,o=f=>{switch(f){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return f||"Sin posición"}},a=S.useRef(),u=f=>{f.target===a.current&&n(!1)},h=f=>f.toLocaleString("es-ES")+"€";return e?(console.log("DEBUG jugador en modal:",t),v.jsx("div",{className:"modal-overlay",ref:a,onClick:u,children:v.jsxs("div",{className:"modal-perfil",children:[v.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),v.jsxs("div",{className:"modal-header",children:[v.jsx("label",{className:"modal-avatar",children:v.jsx("img",{src:r,alt:"Jugador"})}),v.jsxs("div",{className:"modal-jugadorinfo",children:[v.jsx("h2",{children:(window.innerWidth<450,t.nombre)}),v.jsxs("div",{className:"posicion-precio",children:[v.jsx("div",{className:`posicion-texto ${t.posicion}`,children:v.jsx("small",{children:o(t.posicion)})}),v.jsxs("div",{className:"precio-container",children:[v.jsx("div",{className:"precio",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",h(t.precio)]})}),v.jsx("div",{className:"diferencia-precio",children:(()=>{const f=t.historialPrecios||[];if(f.length===0)return v.jsx("small",{children:"(±0€)"});const y=f[f.length-1].precio||0,w=t.precio-y,b=w>0?"+":w<0?"-":"±";return v.jsxs("small",{className:w>=0?"subida":"bajada",children:["(",b,h(Math.abs(w)),")"]})})()})]}),v.jsx("div",{className:"precio-clausula",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",h(t.precioClausula)]})})]}),v.jsx("div",{className:"estadisticas-extra",children:v.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((f,y,w)=>{const b=f??"-",C=w.length<5?y+1:t.puntosPorJornada.length-5+y+1;let R="";return typeof f=="number"&&(f>=9?R="verde":f<7?R="rojo":R="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",C]}),v.jsx("div",{className:`jornada-cuadro ${R}`,children:b})]},y)}):[...Array(5)].map((f,y)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",y+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},y))})})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-jugadorbody",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.valoracion}),v.jsx("small",{children:"Valoración"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.nota}),v.jsx("small",{children:"Nota Media"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.puntosTotales}),v.jsx("small",{children:"Puntos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.partidos}),v.jsx("small",{children:"Partidos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.goles}),v.jsx("small",{children:"Goles"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.asistencias}),v.jsx("small",{children:"Asistencias"})]})]})]})})):null}const Xo=rs(wr),pE=js(wr);function A5({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,u]=S.useState(!1),h=t?.fotoPerfil||tn,f=t?.equipo?.titulares||[];t?.equipo?.banquillo;const[y,w]=S.useState([]),[b,C]=S.useState([]),[R,N]=S.useState(!1),[j,D]=S.useState(!1),[G,z]=S.useState(!1),[Q,ee]=S.useState(null),[de,re]=S.useState(!1),P=S.useRef(null),[T,k]=S.useState("mercado"),O=()=>ef(pE);S.useEffect(()=>{const se=Z=>{P.current&&!P.current.contains(Z.target)&&re(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]),S.useEffect(()=>{(async()=>{const Z=zt(Xo,"mercado","actual"),W=await Ns(Z);if(W.exists()){const Y=W.data();w(Y.jugadores||[])}else w([]),console.log("No existe mercado, espera a que un admin lo actualice")})()},[]);const V=async()=>{const se=[{idJugador:"1",nombre:"Messi",precio:5e8,stock:1,foto:"https://i.pinimg.com/736x/18/11/27/181127af743465ba7739c3ee1970dbac.jpg",precioClausula:15e7,posicion:"DEF"},{idJugador:"2",nombre:"Cristiano",precio:45e6,stock:1,foto:"https://i.pinimg.com/736x/18/11/27/181127af743465ba7739c3ee1970dbac.jpg",precioClausula:15e7,posicion:"DEL",goles:1},{idJugador:"3",nombre:"Pedri",precio:3e7,stock:1,foto:"https://i.pinimg.com/736x/18/11/27/181127af743465ba7739c3ee1970dbac.jpg",precioClausula:15e7,posicion:"MED"}];await ug(zt(Xo,"mercado","actual"),{jugadores:se,ultimaActualizacion:kN()}),w(se)};S.useEffect(()=>{(async()=>{if(!f||f.length===0)return;const Z=Al(Xo,"jugadores"),W=Ef(Z,Cf("__name__","in",f)),L=(await Nl(W)).docs.map(U=>({id:U.id,...U.data()}));C(L)})()},[f]);const $=async se=>{if(se.stock<=0){alert("Ya no queda stock de este jugador");return}const Z=zt(Xo,"mercado","actual"),W=await Ns(Z);if(!W.exists())return;const L=W.data().jugadores.map(U=>U.idJugador===se.idJugador?{...U,stock:U.stock-1}:U);await Ss(Z,{jugadores:L}),await Ss(zt(Xo,"jugadores",se.idJugador),{stockTotal:pC(-1)}),setJugadores(L),alert(`Has comprado a ${se.nombre}`)},x=()=>{u(!a)},Le=se=>{switch(se){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return se||"Sin posición"}},et=se=>se>=1e6?(se/1e6).toFixed(2)+"M":se>=1e3?(se/1e3).toFixed(2)+"K":se.toFixed(2),Ke=se=>typeof se!="number"||isNaN(se)?"—":se.toLocaleString("es-ES")+"€";return S.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const se=setTimeout(async()=>{try{const Z=zt(Xo,"usuarios",pE.currentUser.uid);await Ss(Z,{onboarding:!0}),window.location.reload()}catch(Z){console.error("Error actualizando onboarding:",Z)}},500);return()=>clearTimeout(se)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const se=zt(Xo,"usuarios",t.uid);Ns(se).then(Z=>{Z.exists()&&o(Z.data().dinero)})}},[t],[f]),v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:h,onError:se=>{se.currentTarget.onerror=null,se.currentTarget.src=tn},alt:"Foto de perfil",onClick:()=>re(!de),onMouseEnter:()=>re(!0)}),de&&v.jsxs("div",{className:"perfil-bocadillo",ref:P,onMouseLeave:()=>re(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{D(!0),re(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:O,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:et(r)})]})]})]}),v.jsx("button",{onClick:x,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ll})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),j&&v.jsx(Nf,{usuario:t,openModal:j,setOpenModal:D}),G&&Q&&v.jsx(P5,{jugador:Q,openModal:G,setOpenModal:z}),v.jsxs("div",{className:"tabs-wrapper",children:[v.jsxs("div",{className:"tabs-container",style:{},children:[v.jsx("button",{className:`tab-btn ${T==="mercado"?"active":""}`,onClick:()=>k("mercado"),children:"Mercado"}),v.jsx("button",{className:`tab-btn ${T==="operaciones"?"active":""}`,onClick:()=>k("operaciones"),children:"Mis operaciones"})]}),T==="mercado"&&v.jsxs("div",{className:"mercado-jugadores",children:[t?.rol==="admin"&&v.jsx("button",{onClick:V,className:"btn-actualizar-mercado",children:"⟳ Actualizar mercado"}),v.jsx("ul",{className:"lista-jugadores",children:y.map(se=>v.jsx("li",{className:"jugador-card",onClick:()=>{ee(se),z(!0)},children:v.jsxs("div",{className:"jugador-perfil",children:[v.jsxs("div",{className:"modal-header",children:[v.jsx("label",{className:"modal-avatar",children:v.jsx("img",{src:se.foto||tn,alt:se.nombre,onError:Z=>{Z.currentTarget.onerror=null,Z.currentTarget.src=tn}})}),v.jsxs("div",{className:"modal-jugadorinfo",children:[v.jsx("h2",{children:(window.innerWidth<450,se.nombre)}),v.jsxs("div",{className:"posicion-precio",children:[v.jsx("div",{className:`posicion-texto ${se.posicion}`,children:v.jsx("small",{children:Le(se.posicion)})}),v.jsxs("div",{className:"precio-container",children:[v.jsx("div",{className:"precio",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",Ke(se.precio)]})}),v.jsx("div",{className:"diferencia-precio",children:(()=>{const Z=se.historialPrecios||[];if(Z.length===0)return v.jsx("small",{children:"(±10.000.000€)"});const W=Z[Z.length-1].precio||0,Y=se.precio-W,L=Y>0?"+":Y<0?"-":"±";return v.jsxs("small",{className:Y>=0?"subida":"bajada",children:["(",L,Ke(Math.abs(Y)),")"]})})()})]})]}),v.jsx("div",{className:"estadisticas-extra",children:v.jsx("div",{className:"ultimas-jornadas",children:se.puntosPorJornada&&se.puntosPorJornada.length>0?se.puntosPorJornada.slice(-5).map((Z,W)=>{const Y=Z??"-",U=se.puntosPorJornada.length-5+W+1;let le="";return typeof Z=="number"&&(Z>=9?le="verde":Z<7&&(le="rojo")),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",U]}),v.jsx("div",{className:`jornada-cuadro ${le}`,children:Y})]},W)}):[...Array(5)].map((Z,W)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",W+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},W))})})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-footer",children:[v.jsxs("button",{className:"btn-comprar",disabled:se.stock<=0,onClick:Z=>{Z.stopPropagation(),$(se)},children:["Comprar",v.jsx("br",{}),v.jsxs("small",{className:"precio-compra",children:["(-",Ke(se.precio),")"]})]}),v.jsx("button",{className:"btn-comprar",disabled:se.stock<=0,onClick:Z=>{Z.stopPropagation(),$(se)},children:"Pujar"})]})]})},se.idJugador))})]}),T==="operaciones"&&v.jsx("div",{className:"operaciones-container",children:v.jsxs("div",{className:"operaciones-animacion",children:[v.jsx("h2",{children:"Mis operaciones pendientes"}),t?.operaciones&&t.operaciones.length>0?v.jsx("ul",{children:t.operaciones.map((se,Z)=>v.jsxs("li",{children:[se.tipo," - ",se.jugador," - ",Ke(se.cantidad)]},Z))}):v.jsx("p",{children:"No tienes operaciones pendientes"})]})})]})]}),e&&v.jsx("div",{className:"onboarding-overlay",children:v.jsx("div",{className:"loader",children:"Cargando..."})})]})}var On=function(){return On=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},On.apply(this,arguments)};function Hh(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var bt="-ms-",Qc="-moz-",at="-webkit-",IT="comm",Df="rule",Qy="decl",N5="@import",xT="@keyframes",D5="@layer",RT=Math.abs,Jy=String.fromCharCode,yg=Object.assign;function O5(t,e){return gn(t,0)^45?(((e<<2^gn(t,0))<<2^gn(t,1))<<2^gn(t,2))<<2^gn(t,3):0}function kT(t){return t.trim()}function ai(t,e){return(t=e.exec(t))?t[0]:t}function ze(t,e,n){return t.replace(e,n)}function ah(t,e,n){return t.indexOf(e,n)}function gn(t,e){return t.charCodeAt(e)|0}function Ml(t,e,n){return t.slice(e,n)}function Cs(t){return t.length}function PT(t){return t.length}function Bc(t,e){return e.push(t),t}function L5(t,e){return t.map(e).join("")}function mE(t,e){return t.filter(function(n){return!ai(n,e)})}var Of=1,Vl=1,AT=0,jr=0,Zt=0,ec="";function Lf(t,e,n,r,o,a,u,h){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:Of,column:Vl,length:u,return:"",siblings:h}}function Yi(t,e){return yg(Lf("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ul(t){for(;t.root;)t=Yi(t.root,{children:[t]});Bc(t,t.siblings)}function M5(){return Zt}function V5(){return Zt=jr>0?gn(ec,--jr):0,Vl--,Zt===10&&(Vl=1,Of--),Zt}function es(){return Zt=jr<AT?gn(ec,jr++):0,Vl++,Zt===10&&(Vl=1,Of++),Zt}function oa(){return gn(ec,jr)}function lh(){return jr}function Mf(t,e){return Ml(ec,t,e)}function wg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j5(t){return Of=Vl=1,AT=Cs(ec=t),jr=0,[]}function F5(t){return ec="",t}function Am(t){return kT(Mf(jr-1,vg(t===91?t+2:t===40?t+1:t)))}function $5(t){for(;(Zt=oa())&&Zt<33;)es();return wg(t)>2||wg(Zt)>3?"":" "}function U5(t,e){for(;--e&&es()&&!(Zt<48||Zt>102||Zt>57&&Zt<65||Zt>70&&Zt<97););return Mf(t,lh()+(e<6&&oa()==32&&es()==32))}function vg(t){for(;es();)switch(Zt){case t:return jr;case 34:case 39:t!==34&&t!==39&&vg(Zt);break;case 40:t===41&&vg(t);break;case 92:es();break}return jr}function B5(t,e){for(;es()&&t+Zt!==57;)if(t+Zt===84&&oa()===47)break;return"/*"+Mf(e,jr-1)+"*"+Jy(t===47?t:es())}function z5(t){for(;!wg(oa());)es();return Mf(t,jr)}function H5(t){return F5(ch("",null,null,null,[""],t=j5(t),0,[0],t))}function ch(t,e,n,r,o,a,u,h,f){for(var y=0,w=0,b=u,C=0,R=0,N=0,j=1,D=1,G=1,z=0,Q="",ee=o,de=a,re=r,P=Q;D;)switch(N=z,z=es()){case 40:if(N!=108&&gn(P,b-1)==58){ah(P+=ze(Am(z),"&","&\f"),"&\f",RT(y?h[y-1]:0))!=-1&&(G=-1);break}case 34:case 39:case 91:P+=Am(z);break;case 9:case 10:case 13:case 32:P+=$5(N);break;case 92:P+=U5(lh()-1,7);continue;case 47:switch(oa()){case 42:case 47:Bc(q5(B5(es(),lh()),e,n,f),f);break;default:P+="/"}break;case 123*j:h[y++]=Cs(P)*G;case 125*j:case 59:case 0:switch(z){case 0:case 125:D=0;case 59+w:G==-1&&(P=ze(P,/\f/g,"")),R>0&&Cs(P)-b&&Bc(R>32?yE(P+";",r,n,b-1,f):yE(ze(P," ","")+";",r,n,b-2,f),f);break;case 59:P+=";";default:if(Bc(re=gE(P,e,n,y,w,o,h,Q,ee=[],de=[],b,a),a),z===123)if(w===0)ch(P,e,re,re,ee,a,b,h,de);else switch(C===99&&gn(P,3)===110?100:C){case 100:case 108:case 109:case 115:ch(t,re,re,r&&Bc(gE(t,re,re,0,0,o,h,Q,o,ee=[],b,de),de),o,de,b,h,r?ee:de);break;default:ch(P,re,re,re,[""],de,0,h,de)}}y=w=R=0,j=G=1,Q=P="",b=u;break;case 58:b=1+Cs(P),R=N;default:if(j<1){if(z==123)--j;else if(z==125&&j++==0&&V5()==125)continue}switch(P+=Jy(z),z*j){case 38:G=w>0?1:(P+="\f",-1);break;case 44:h[y++]=(Cs(P)-1)*G,G=1;break;case 64:oa()===45&&(P+=Am(es())),C=oa(),w=b=Cs(Q=P+=z5(lh())),z++;break;case 45:N===45&&Cs(P)==2&&(j=0)}}return a}function gE(t,e,n,r,o,a,u,h,f,y,w,b){for(var C=o-1,R=o===0?a:[""],N=PT(R),j=0,D=0,G=0;j<r;++j)for(var z=0,Q=Ml(t,C+1,C=RT(D=u[j])),ee=t;z<N;++z)(ee=kT(D>0?R[z]+" "+Q:ze(Q,/&\f/g,R[z])))&&(f[G++]=ee);return Lf(t,e,n,o===0?Df:h,f,y,w,b)}function q5(t,e,n,r){return Lf(t,e,n,IT,Jy(M5()),Ml(t,2,-2),0,r)}function yE(t,e,n,r,o){return Lf(t,e,n,Qy,Ml(t,0,r),Ml(t,r+1,-1),r,o)}function NT(t,e,n){switch(O5(t,e)){case 5103:return at+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return at+t+t;case 4789:return Qc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return at+t+Qc+t+bt+t+t;case 5936:switch(gn(t,e+11)){case 114:return at+t+bt+ze(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return at+t+bt+ze(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return at+t+bt+ze(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return at+t+bt+t+t;case 6165:return at+t+bt+"flex-"+t+t;case 5187:return at+t+ze(t,/(\w+).+(:[^]+)/,at+"box-$1$2"+bt+"flex-$1$2")+t;case 5443:return at+t+bt+"flex-item-"+ze(t,/flex-|-self/g,"")+(ai(t,/flex-|baseline/)?"":bt+"grid-row-"+ze(t,/flex-|-self/g,""))+t;case 4675:return at+t+bt+"flex-line-pack"+ze(t,/align-content|flex-|-self/g,"")+t;case 5548:return at+t+bt+ze(t,"shrink","negative")+t;case 5292:return at+t+bt+ze(t,"basis","preferred-size")+t;case 6060:return at+"box-"+ze(t,"-grow","")+at+t+bt+ze(t,"grow","positive")+t;case 4554:return at+ze(t,/([^-])(transform)/g,"$1"+at+"$2")+t;case 6187:return ze(ze(ze(t,/(zoom-|grab)/,at+"$1"),/(image-set)/,at+"$1"),t,"")+t;case 5495:case 3959:return ze(t,/(image-set\([^]*)/,at+"$1$`$1");case 4968:return ze(ze(t,/(.+:)(flex-)?(.*)/,at+"box-pack:$3"+bt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+at+t+t;case 4200:if(!ai(t,/flex-|baseline/))return bt+"grid-column-align"+Ml(t,e)+t;break;case 2592:case 3360:return bt+ze(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,ai(r.props,/grid-\w+-end/)})?~ah(t+(n=n[e].value),"span",0)?t:bt+ze(t,"-start","")+t+bt+"grid-row-span:"+(~ah(n,"span",0)?ai(n,/\d+/):+ai(n,/\d+/)-+ai(t,/\d+/))+";":bt+ze(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ai(r.props,/grid-\w+-start/)})?t:bt+ze(ze(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ze(t,/(.+)-inline(.+)/,at+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cs(t)-1-e>6)switch(gn(t,e+1)){case 109:if(gn(t,e+4)!==45)break;case 102:return ze(t,/(.+:)(.+)-([^]+)/,"$1"+at+"$2-$3$1"+Qc+(gn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ah(t,"stretch",0)?NT(ze(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ze(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,a,u,h,f,y){return bt+o+":"+a+y+(u?bt+o+"-span:"+(h?f:+f-+a)+y:"")+t});case 4949:if(gn(t,e+6)===121)return ze(t,":",":"+at)+t;break;case 6444:switch(gn(t,gn(t,14)===45?18:11)){case 120:return ze(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+at+(gn(t,14)===45?"inline-":"")+"box$3$1"+at+"$2$3$1"+bt+"$2box$3")+t;case 100:return ze(t,":",":"+bt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ze(t,"scroll-","scroll-snap-")+t}return t}function qh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function W5(t,e,n,r){switch(t.type){case D5:if(t.children.length)break;case N5:case Qy:return t.return=t.return||t.value;case IT:return"";case xT:return t.return=t.value+"{"+qh(t.children,r)+"}";case Df:if(!Cs(t.value=t.props.join(",")))return""}return Cs(n=qh(t.children,r))?t.return=t.value+"{"+n+"}":""}function G5(t){var e=PT(t);return function(n,r,o,a){for(var u="",h=0;h<e;h++)u+=t[h](n,r,o,a)||"";return u}}function K5(t){return function(e){e.root||(e=e.return)&&t(e)}}function Q5(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Qy:t.return=NT(t.value,t.length,n);return;case xT:return qh([Yi(t,{value:ze(t.value,"@","@"+at)})],r);case Df:if(t.length)return L5(n=t.props,function(o){switch(ai(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ul(Yi(t,{props:[ze(o,/:(read-\w+)/,":"+Qc+"$1")]})),ul(Yi(t,{props:[o]})),yg(t,{props:mE(n,r)});break;case"::placeholder":ul(Yi(t,{props:[ze(o,/:(plac\w+)/,":"+at+"input-$1")]})),ul(Yi(t,{props:[ze(o,/:(plac\w+)/,":"+Qc+"$1")]})),ul(Yi(t,{props:[ze(o,/:(plac\w+)/,bt+"input-$1")]})),ul(Yi(t,{props:[o]})),yg(t,{props:mE(n,r)});break}return""})}}var J5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mr={},jl=typeof process<"u"&&mr!==void 0&&(mr.REACT_APP_SC_ATTR||mr.SC_ATTR)||"data-styled",DT="active",OT="data-styled-version",Vf="6.1.19",Yy=`/*!sc*/
`,Wh=typeof window<"u"&&typeof document<"u",Y5=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&mr!==void 0&&mr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&mr.REACT_APP_SC_DISABLE_SPEEDY!==""?mr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&mr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&mr!==void 0&&mr.SC_DISABLE_SPEEDY!==void 0&&mr.SC_DISABLE_SPEEDY!==""&&mr.SC_DISABLE_SPEEDY!=="false"&&mr.SC_DISABLE_SPEEDY),jf=Object.freeze([]),Fl=Object.freeze({});function X5(t,e,n){return n===void 0&&(n=Fl),t.theme!==n.theme&&t.theme||e||n.theme}var LT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Z5=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,eV=/(^-|-$)/g;function wE(t){return t.replace(Z5,"-").replace(eV,"")}var tV=/(a)(d)/gi,qd=52,vE=function(t){return String.fromCharCode(t+(t>25?39:97))};function _g(t){var e,n="";for(e=Math.abs(t);e>qd;e=e/qd|0)n=vE(e%qd)+n;return(vE(e%qd)+n).replace(tV,"$1-$2")}var Nm,MT=5381,ml=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},VT=function(t){return ml(MT,t)};function nV(t){return _g(VT(t)>>>0)}function rV(t){return t.displayName||t.name||"Component"}function Dm(t){return typeof t=="string"&&!0}var jT=typeof Symbol=="function"&&Symbol.for,FT=jT?Symbol.for("react.memo"):60115,sV=jT?Symbol.for("react.forward_ref"):60112,iV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},oV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$T={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aV=((Nm={})[sV]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Nm[FT]=$T,Nm);function _E(t){return("type"in(e=t)&&e.type.$$typeof)===FT?$T:"$$typeof"in t?aV[t.$$typeof]:iV;var e}var lV=Object.defineProperty,cV=Object.getOwnPropertyNames,EE=Object.getOwnPropertySymbols,uV=Object.getOwnPropertyDescriptor,dV=Object.getPrototypeOf,bE=Object.prototype;function UT(t,e,n){if(typeof e!="string"){if(bE){var r=dV(e);r&&r!==bE&&UT(t,r,n)}var o=cV(e);EE&&(o=o.concat(EE(e)));for(var a=_E(t),u=_E(e),h=0;h<o.length;++h){var f=o[h];if(!(f in oV||n&&n[f]||u&&f in u||a&&f in a)){var y=uV(e,f);try{lV(t,f,y)}catch{}}}}return t}function ma(t){return typeof t=="function"}function Xy(t){return typeof t=="object"&&"styledComponentId"in t}function ra(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function CE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function au(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Eg(t,e,n){if(n===void 0&&(n=!1),!n&&!au(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Eg(t[r],e[r]);else if(au(e))for(var r in e)t[r]=Eg(t[r],e[r]);return t}function Zy(t,e){Object.defineProperty(t,"toString",{value:e})}function ga(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var hV=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,a=o;e>=a;)if((a<<=1)<0)throw ga(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var u=o;u<a;u++)this.groupSizes[u]=0}for(var h=this.indexOfGroup(e+1),f=(u=0,n.length);u<f;u++)this.tag.insertRule(h,n[u])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var a=r;a<o;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),a=o+r,u=o;u<a;u++)n+="".concat(this.tag.getRule(u)).concat(Yy);return n},t})(),uh=new Map,Gh=new Map,dh=1,Wd=function(t){if(uh.has(t))return uh.get(t);for(;Gh.has(dh);)dh++;var e=dh++;return uh.set(t,e),Gh.set(e,t),e},fV=function(t,e){dh=e+1,uh.set(t,e),Gh.set(e,t)},pV="style[".concat(jl,"][").concat(OT,'="').concat(Vf,'"]'),mV=new RegExp("^".concat(jl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),gV=function(t,e,n){for(var r,o=n.split(","),a=0,u=o.length;a<u;a++)(r=o[a])&&t.registerName(e,r)},yV=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Yy),o=[],a=0,u=r.length;a<u;a++){var h=r[a].trim();if(h){var f=h.match(mV);if(f){var y=0|parseInt(f[1],10),w=f[2];y!==0&&(fV(w,y),gV(t,w,f[3]),t.getTag().insertRules(y,o)),o.length=0}else o.push(h)}}},TE=function(t){for(var e=document.querySelectorAll(pV),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute(jl)!==DT&&(yV(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function wV(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var BT=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=(function(h){var f=Array.from(h.querySelectorAll("style[".concat(jl,"]")));return f[f.length-1]})(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(jl,DT),r.setAttribute(OT,Vf);var u=wV();return u&&r.setAttribute("nonce",u),n.insertBefore(r,a),r},vV=(function(){function t(e){this.element=BT(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,a=r.length;o<a;o++){var u=r[o];if(u.ownerNode===n)return u}throw ga(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),_V=(function(){function t(e){this.element=BT(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),EV=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),SE=Wh,bV={isServer:!Wh,useCSSOMInjection:!Y5},zT=(function(){function t(e,n,r){e===void 0&&(e=Fl),n===void 0&&(n={});var o=this;this.options=On(On({},bV),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Wh&&SE&&(SE=!1,TE(this)),Zy(this,function(){return(function(a){for(var u=a.getTag(),h=u.length,f="",y=function(b){var C=(function(G){return Gh.get(G)})(b);if(C===void 0)return"continue";var R=a.names.get(C),N=u.getGroup(b);if(R===void 0||!R.size||N.length===0)return"continue";var j="".concat(jl,".g").concat(b,'[id="').concat(C,'"]'),D="";R!==void 0&&R.forEach(function(G){G.length>0&&(D+="".concat(G,","))}),f+="".concat(N).concat(j,'{content:"').concat(D,'"}').concat(Yy)},w=0;w<h;w++)y(w);return f})(o)})}return t.registerId=function(e){return Wd(e)},t.prototype.rehydrate=function(){!this.server&&Wh&&TE(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(On(On({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new EV(o):r?new vV(o):new _V(o)})(this.options),new hV(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Wd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Wd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Wd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),CV=/&/g,TV=/^\s*\/\/.*$/gm;function HT(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=HT(n.children,e)),n})}function SV(t){var e,n,r,o=Fl,a=o.options,u=a===void 0?Fl:a,h=o.plugins,f=h===void 0?jf:h,y=function(C,R,N){return N.startsWith(n)&&N.endsWith(n)&&N.replaceAll(n,"").length>0?".".concat(e):C},w=f.slice();w.push(function(C){C.type===Df&&C.value.includes("&")&&(C.props[0]=C.props[0].replace(CV,n).replace(r,y))}),u.prefix&&w.push(Q5),w.push(W5);var b=function(C,R,N,j){R===void 0&&(R=""),N===void 0&&(N=""),j===void 0&&(j="&"),e=j,n=R,r=new RegExp("\\".concat(n,"\\b"),"g");var D=C.replace(TV,""),G=H5(N||R?"".concat(N," ").concat(R," { ").concat(D," }"):D);u.namespace&&(G=HT(G,u.namespace));var z=[];return qh(G,G5(w.concat(K5(function(Q){return z.push(Q)})))),z};return b.hash=f.length?f.reduce(function(C,R){return R.name||ga(15),ml(C,R.name)},MT).toString():"",b}var IV=new zT,bg=SV(),qT=He.createContext({shouldForwardProp:void 0,styleSheet:IV,stylis:bg});qT.Consumer;He.createContext(void 0);function IE(){return S.useContext(qT)}var xV=(function(){function t(e,n){var r=this;this.inject=function(o,a){a===void 0&&(a=bg);var u=r.name+a.hash;o.hasNameForId(r.id,u)||o.insertRules(r.id,u,a(r.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Zy(this,function(){throw ga(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=bg),this.name+e.hash},t})(),RV=function(t){return t>="A"&&t<="Z"};function xE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;RV(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var WT=function(t){return t==null||t===!1||t===""},GT=function(t){var e,n,r=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!WT(a)&&(Array.isArray(a)&&a.isCss||ma(a)?r.push("".concat(xE(o),":"),a,";"):au(a)?r.push.apply(r,Hh(Hh(["".concat(o," {")],GT(a),!1),["}"],!1)):r.push("".concat(xE(o),": ").concat((e=o,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in J5||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function aa(t,e,n,r){if(WT(t))return[];if(Xy(t))return[".".concat(t.styledComponentId)];if(ma(t)){if(!ma(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var o=t(e);return aa(o,e,n,r)}var a;return t instanceof xV?n?(t.inject(n,r),[t.getName(r)]):[t]:au(t)?GT(t):Array.isArray(t)?Array.prototype.concat.apply(jf,t.map(function(u){return aa(u,e,n,r)})):[t.toString()]}function kV(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ma(n)&&!Xy(n))return!1}return!0}var PV=VT(Vf),AV=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&kV(e),this.componentId=n,this.baseHash=ml(PV,n),this.baseStyle=r,zT.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=ra(o,this.staticRulesId);else{var a=CE(aa(this.rules,e,n,r)),u=_g(ml(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,u)){var h=r(a,".".concat(u),void 0,this.componentId);n.insertRules(this.componentId,u,h)}o=ra(o,u),this.staticRulesId=u}else{for(var f=ml(this.baseHash,r.hash),y="",w=0;w<this.rules.length;w++){var b=this.rules[w];if(typeof b=="string")y+=b;else if(b){var C=CE(aa(b,e,n,r));f=ml(f,C+w),y+=C}}if(y){var R=_g(f>>>0);n.hasNameForId(this.componentId,R)||n.insertRules(this.componentId,R,r(y,".".concat(R),void 0,this.componentId)),o=ra(o,R)}}return o},t})(),Kh=He.createContext(void 0);Kh.Consumer;function NV(t){var e=He.useContext(Kh),n=S.useMemo(function(){return(function(r,o){if(!r)throw ga(14);if(ma(r)){var a=r(o);return a}if(Array.isArray(r)||typeof r!="object")throw ga(8);return o?On(On({},o),r):r})(t.theme,e)},[t.theme,e]);return t.children?He.createElement(Kh.Provider,{value:n},t.children):null}var Om={};function DV(t,e,n){var r=Xy(t),o=t,a=!Dm(t),u=e.attrs,h=u===void 0?jf:u,f=e.componentId,y=f===void 0?(function(ee,de){var re=typeof ee!="string"?"sc":wE(ee);Om[re]=(Om[re]||0)+1;var P="".concat(re,"-").concat(nV(Vf+re+Om[re]));return de?"".concat(de,"-").concat(P):P})(e.displayName,e.parentComponentId):f,w=e.displayName,b=w===void 0?(function(ee){return Dm(ee)?"styled.".concat(ee):"Styled(".concat(rV(ee),")")})(t):w,C=e.displayName&&e.componentId?"".concat(wE(e.displayName),"-").concat(e.componentId):e.componentId||y,R=r&&o.attrs?o.attrs.concat(h).filter(Boolean):h,N=e.shouldForwardProp;if(r&&o.shouldForwardProp){var j=o.shouldForwardProp;if(e.shouldForwardProp){var D=e.shouldForwardProp;N=function(ee,de){return j(ee,de)&&D(ee,de)}}else N=j}var G=new AV(n,C,r?o.componentStyle:void 0);function z(ee,de){return(function(re,P,T){var k=re.attrs,O=re.componentStyle,V=re.defaultProps,$=re.foldedComponentIds,x=re.styledComponentId,Le=re.target,et=He.useContext(Kh),Ke=IE(),se=re.shouldForwardProp||Ke.shouldForwardProp,Z=X5(P,et,V)||Fl,W=(function(ye,be,Fe){for(var $e,Ue=On(On({},be),{className:void 0,theme:Fe}),ct=0;ct<ye.length;ct+=1){var mt=ma($e=ye[ct])?$e(Ue):$e;for(var vt in mt)Ue[vt]=vt==="className"?ra(Ue[vt],mt[vt]):vt==="style"?On(On({},Ue[vt]),mt[vt]):mt[vt]}return be.className&&(Ue.className=ra(Ue.className,be.className)),Ue})(k,P,Z),Y=W.as||Le,L={};for(var U in W)W[U]===void 0||U[0]==="$"||U==="as"||U==="theme"&&W.theme===Z||(U==="forwardedAs"?L.as=W.forwardedAs:se&&!se(U,Y)||(L[U]=W[U]));var le=(function(ye,be){var Fe=IE(),$e=ye.generateAndInjectStyles(be,Fe.styleSheet,Fe.stylis);return $e})(O,W),ge=ra($,x);return le&&(ge+=" "+le),W.className&&(ge+=" "+W.className),L[Dm(Y)&&!LT.has(Y)?"class":"className"]=ge,T&&(L.ref=T),S.createElement(Y,L)})(Q,ee,de)}z.displayName=b;var Q=He.forwardRef(z);return Q.attrs=R,Q.componentStyle=G,Q.displayName=b,Q.shouldForwardProp=N,Q.foldedComponentIds=r?ra(o.foldedComponentIds,o.styledComponentId):"",Q.styledComponentId=C,Q.target=r?o.target:t,Object.defineProperty(Q,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ee){this._foldedDefaultProps=r?(function(de){for(var re=[],P=1;P<arguments.length;P++)re[P-1]=arguments[P];for(var T=0,k=re;T<k.length;T++)Eg(de,k[T],!0);return de})({},o.defaultProps,ee):ee}}),Zy(Q,function(){return".".concat(Q.styledComponentId)}),a&&UT(Q,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Q}function RE(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var kE=function(t){return Object.assign(t,{isCss:!0})};function un(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ma(t)||au(t))return kE(aa(RE(jf,Hh([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?aa(r):kE(aa(RE(r,e)))}function Cg(t,e,n){if(n===void 0&&(n=Fl),!e)throw ga(1,e);var r=function(o){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];return t(e,n,un.apply(void 0,Hh([o],a,!1)))};return r.attrs=function(o){return Cg(t,e,On(On({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Cg(t,e,On(On({},n),o))},r}var KT=function(t){return Cg(DV,t)},Ge=KT;LT.forEach(function(t){Ge[t]=KT(t)});var uo;function $l(t,e){return t[e]}function OV(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function LV(t=[],e,n="id"){const r=t.slice(),o=$l(e,n);return o?r.splice(r.findIndex((a=>$l(a,n)===o)),1):r.splice(r.findIndex((a=>a===e)),1),r}function PE(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function Jc(t,e){return Math.ceil(t/e)}function Lm(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(uo||(uo={}));const ln=()=>null;function QT(t,e=[],n=[]){let r={},o=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(o=[...o,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:o.join(" ")}}function hh(t,e=[],n="id"){const r=$l(t,n);return r?e.some((o=>$l(o,n)===r)):e.some((o=>o===t))}function Gd(t,e){return e?t.findIndex((n=>Yc(n.id,e))):-1}function Yc(t,e){return t==e}function MV(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:o,rowCount:a,mergeSelections:u}=e,h=!t.allSelected,f=!t.toggleOnSelectedRowsChange;if(u){const y=h?[...t.selectedRows,...o.filter((w=>!hh(w,t.selectedRows,r)))]:t.selectedRows.filter((w=>!hh(w,o,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:y.length,selectedRows:y,toggleOnSelectedRowsChange:f})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?o:[],toggleOnSelectedRowsChange:f})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:o,isSelected:a,rowCount:u,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[o],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:LV(t.selectedRows,o,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===u,selectedRows:OV(t.selectedRows,o),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:o,totalRows:a,mergeSelections:u}=e;if(u){const h=[...t.selectedRows,...o.filter((f=>!hh(f,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:o.length,allSelected:o.length===a,selectedRows:o,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:o,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:o,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:o,visibleOnly:a,persistSelectedOnPageChange:u}=e,h=o&&u,f=o&&!u||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),f&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:o}=e;return Object.assign(Object.assign({},t),{currentPage:o,rowsPerPage:r})}}}const VV=un`
	pointer-events: none;
	opacity: 0.4;
`,jV=Ge.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&VV};
	${({theme:t})=>t.table.style};
`,FV=un`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,$V=Ge.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&FV};
	${({theme:t})=>t.head.style};
`,UV=Ge.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,JT=(t,...e)=>un`
		@media screen and (max-width: ${599}px) {
			${un(t,...e)}
		}
	`,BV=(t,...e)=>un`
		@media screen and (max-width: ${959}px) {
			${un(t,...e)}
		}
	`,zV=(t,...e)=>un`
		@media screen and (max-width: ${1280}px) {
			${un(t,...e)}
		}
	`,HV=t=>(e,...n)=>un`
			@media screen and (max-width: ${t}px) {
				${un(e,...n)}
			}
		`,tc=Ge.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,YT=Ge(tc)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&un`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&JT`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&BV`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&zV`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&HV(t)`
    display: none;
  `};
`,qV=un`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,WV=Ge(YT).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&qV};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var GV=S.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:o,isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:y,onDragLeave:w}){const{conditionalStyle:b,classNames:C}=QT(n,e.conditionalCellStyles,["rdt_TableCell"]);return S.createElement(WV,{id:t,"data-column-id":e.id,role:"cell",className:C,"data-tag":o,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:b,$isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:y,onDragLeave:w},!e.cell&&S.createElement("div",{"data-tag":o},(function(R,N,j,D){return N?j&&typeof j=="function"?j(R,D):N(R,D):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const AE="input";var XT=S.memo((function({name:t,component:e=AE,componentOptions:n={style:{}},indeterminate:r=!1,checked:o=!1,disabled:a=!1,onClick:u=ln}){const h=e,f=h!==AE?n.style:(w=>Object.assign(Object.assign({fontSize:"18px"},!w&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),y=S.useMemo((()=>(function(w,...b){let C;return Object.keys(w).map((R=>w[R])).forEach(((R,N)=>{typeof R=="function"&&(C=Object.assign(Object.assign({},w),{[Object.keys(w)[N]]:R(...b)}))})),C||w})(n,r)),[n,r]);return S.createElement(h,Object.assign({type:"checkbox",ref:w=>{w&&(w.indeterminate=r)},style:f,onClick:a?ln:u,name:t,"aria-label":t,checked:o,disabled:a},y,{onChange:ln}))}));const KV=Ge(tc)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function QV({name:t,keyField:e,row:n,rowCount:r,selected:o,selectableRowsComponent:a,selectableRowsComponentProps:u,selectableRowsSingle:h,selectableRowDisabled:f,onSelectedRow:y}){const w=!(!f||!f(n));return S.createElement(KV,{onClick:b=>b.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},S.createElement(XT,{name:t,component:a,componentOptions:u,checked:o,"aria-checked":o,onClick:()=>{y({type:"SELECT_SINGLE_ROW",row:n,isSelected:o,keyField:e,rowCount:r,singleSelect:h})},disabled:w}))}const JV=Ge.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function YV({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:o,onToggled:a}){const u=e?n.expanded:n.collapsed;return S.createElement(JV,{"aria-disabled":t,onClick:()=>a&&a(o),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},u)}const XV=Ge(tc)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function ZV({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:o,disabled:a=!1}){return S.createElement(XV,{onClick:u=>u.stopPropagation(),$noPadding:!0},S.createElement(YV,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:o}))}const ej=Ge.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var tj=S.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:o}){const a=["rdt_ExpanderRow",...o.split(" ").filter((u=>u!=="rdt_TableRow"))].join(" ");return S.createElement(ej,{className:a,$extendedRowStyle:r},S.createElement(e,Object.assign({data:t},n)))}));const Mm="allowRowEvents";var Qh,Tg,NE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(Qh||(Qh={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(Tg||(Tg={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(NE||(NE={}));const nj=un`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,rj=un`
	&:hover {
		cursor: pointer;
	}
`,sj=Ge.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&nj};
	${({$pointerOnHover:t})=>t&&rj};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function ij({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:o=!1,expandableIcon:a,expandableRows:u=!1,expandableRowsComponent:h,expandableRowsComponentProps:f,expandableRowsHideExpander:y,expandOnRowClicked:w=!1,expandOnRowDoubleClicked:b=!1,highlightOnHover:C=!1,id:R,expandableInheritConditionalStyles:N,keyField:j,onRowClicked:D=ln,onRowDoubleClicked:G=ln,onRowMouseEnter:z=ln,onRowMouseLeave:Q=ln,onRowExpandToggled:ee=ln,onSelectedRow:de=ln,pointerOnHover:re=!1,row:P,rowCount:T,rowIndex:k,selectableRowDisabled:O=null,selectableRows:V=!1,selectableRowsComponent:$,selectableRowsComponentProps:x,selectableRowsHighlight:Le=!1,selectableRowsSingle:et=!1,selected:Ke,striped:se=!1,draggingColumnId:Z,onDragStart:W,onDragOver:Y,onDragEnd:L,onDragEnter:U,onDragLeave:le}){const[ge,ye]=S.useState(n);S.useEffect((()=>{ye(n)}),[n]);const be=S.useCallback((()=>{ye(!ge),ee(!ge,P)}),[ge,ee,P]),Fe=re||u&&(w||b),$e=S.useCallback((Te=>{Te.target.getAttribute("data-tag")===Mm&&(D(P,Te),!r&&u&&w&&be())}),[r,w,u,be,D,P]),Ue=S.useCallback((Te=>{Te.target.getAttribute("data-tag")===Mm&&(G(P,Te),!r&&u&&b&&be())}),[r,b,u,be,G,P]),ct=S.useCallback((Te=>{z(P,Te)}),[z,P]),mt=S.useCallback((Te=>{Q(P,Te)}),[Q,P]),vt=$l(P,j),{conditionalStyle:Pe,classNames:Ie}=QT(P,e,["rdt_TableRow"]),Ve=Le&&Ke,Be=N?Pe:{},ut=se&&k%2==0;return S.createElement(S.Fragment,null,S.createElement(sj,{id:`row-${R}`,role:"row",$striped:ut,$highlightOnHover:C,$pointerOnHover:!r&&Fe,$dense:o,onClick:$e,onDoubleClick:Ue,onMouseEnter:ct,onMouseLeave:mt,className:Ie,$selected:Ve,$conditionalStyle:Pe},V&&S.createElement(QV,{name:`select-row-${vt}`,keyField:j,row:P,rowCount:T,selected:Ke,selectableRowsComponent:$,selectableRowsComponentProps:x,selectableRowDisabled:O,selectableRowsSingle:et,onSelectedRow:de}),u&&!y&&S.createElement(ZV,{id:vt,expandableIcon:a,expanded:ge,row:P,onToggled:be,disabled:r}),t.map((Te=>Te.omit?null:S.createElement(GV,{id:`cell-${Te.id}-${vt}`,key:`cell-${Te.id}-${vt}`,dataTag:Te.ignoreRowClick||Te.button?null:Mm,column:Te,row:P,rowIndex:k,isDragging:Yc(Z,Te.id),onDragStart:W,onDragOver:Y,onDragEnd:L,onDragEnter:U,onDragLeave:le})))),u&&ge&&S.createElement(tj,{key:`expander-${vt}`,data:P,extendedRowStyle:Be,extendedClassNames:Ie,ExpanderComponent:h,expanderComponentProps:f}))}const oj=Ge.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,aj=({sortActive:t,sortDirection:e})=>He.createElement(oj,{$sortActive:t,$sortDirection:e},"▲"),lj=Ge(YT)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,cj=un`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&un`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,uj=Ge.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&cj};
`,dj=Ge.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var hj=S.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:o,sortIcon:a,sortServer:u,pagination:h,paginationServer:f,persistSelectedOnSort:y,selectableRowsVisibleOnly:w,onSort:b,onDragStart:C,onDragOver:R,onDragEnd:N,onDragEnter:j,onDragLeave:D}){S.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[G,z]=S.useState(!1),Q=S.useRef(null);if(S.useEffect((()=>{Q.current&&z(Q.current.scrollWidth>Q.current.clientWidth)}),[G]),t.omit)return null;const ee=()=>{if(!t.sortable&&!t.selector)return;let x=o;Yc(r.id,t.id)&&(x=o===uo.ASC?uo.DESC:uo.ASC),b({type:"SORT_CHANGE",sortDirection:x,selectedColumn:t,clearSelectedOnSort:h&&f&&!y||u||w})},de=x=>S.createElement(aj,{sortActive:x,sortDirection:o}),re=()=>S.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},a),P=!(!t.sortable||!Yc(r.id,t.id)),T=!t.sortable||e,k=t.sortable&&!a&&!t.right,O=t.sortable&&!a&&t.right,V=t.sortable&&a&&!t.right,$=t.sortable&&a&&t.right;return S.createElement(lj,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Yc(t.id,n),onDragStart:C,onDragOver:R,onDragEnd:N,onDragEnter:j,onDragLeave:D},t.name&&S.createElement(uj,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:T?void 0:ee,onKeyPress:T?void 0:x=>{x.key==="Enter"&&ee()},$sortActive:!T&&P,disabled:T},!T&&$&&re(),!T&&O&&de(P),typeof t.name=="string"?S.createElement(dj,{title:G?t.name:void 0,ref:Q,"data-column-id":t.id},t.name):t.name,!T&&V&&re(),!T&&k&&de(P)))}));const fj=Ge(tc)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function pj({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:o,selectedRows:a,selectableRowsComponent:u,selectableRowsComponentProps:h,selectableRowDisabled:f,onSelectAllRows:y}){const w=a.length>0&&!r,b=f?e.filter((N=>!f(N))):e,C=b.length===0,R=Math.min(e.length,b.length);return S.createElement(fj,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},S.createElement(XT,{name:"select-all-rows",component:u,componentOptions:h,onClick:()=>{y({type:"SELECT_ALL_ROWS",rows:b,rowCount:R,mergeSelections:o,keyField:n})},checked:r,indeterminate:w,disabled:C}))}function ZT(t=Qh.AUTO){const e=typeof window=="object",[n,r]=S.useState(!1);return S.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const o=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],u=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||u.dir==="rtl";r(o&&h)}}),[t,e]),n}const mj=Ge.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,gj=Ge.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,DE=Ge.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function yj({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:o}){const a=ZT(o),u=r>0;return n?S.createElement(DE,{$visible:u},S.cloneElement(n,{selectedCount:r})):S.createElement(DE,{$visible:u,$rtl:a},S.createElement(mj,null,((h,f,y)=>{if(f===0)return null;const w=f===1?h.singular:h.plural;return y?`${f} ${h.message||""} ${w}`:`${f} ${w} ${h.message||""}`})(t,r,a)),S.createElement(gj,null,e))}const wj=Ge.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,vj=Ge.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,_j=Ge.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,Ej=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:o,selectedCount:a,direction:u,showMenu:h=!0})=>S.createElement(wj,{className:"rdt_TableHeader",role:"heading","aria-level":1},S.createElement(vj,null,t),e&&S.createElement(_j,null,e),h&&S.createElement(yj,{contextMessage:n,contextActions:r,contextComponent:o,direction:u,selectedCount:a}));function eS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const bj={left:"flex-start",right:"flex-end",center:"center"},Cj=Ge.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>bj[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,Tj=t=>{var{align:e="right",wrapContent:n=!0}=t,r=eS(t,["align","wrapContent"]);return S.createElement(Cj,Object.assign({align:e,$wrapContent:n},r))},Sj=Ge.div`
	display: flex;
	flex-direction: column;
`,Ij=Ge.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&un`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&un`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,OE=Ge.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,xj=Ge.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,Rj=Ge(tc)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,kj=Ge.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,Pj=()=>He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},He.createElement("path",{d:"M7 10l5 5 5-5z"}),He.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),Aj=Ge.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,Nj=Ge.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,Dj=t=>{var{defaultValue:e,onChange:n}=t,r=eS(t,["defaultValue","onChange"]);return S.createElement(Nj,null,S.createElement(Aj,Object.assign({onChange:n,defaultValue:e},r)),S.createElement(Pj,null))},ce={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return He.createElement("div",null,"To add an expander pass in a component instance via ",He.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:He.createElement((()=>He.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},He.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),He.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:He.createElement((()=>He.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},He.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),He.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:He.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:He.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Tg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:He.createElement((()=>He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},He.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),He.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:He.createElement((()=>He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},He.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),He.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:He.createElement((()=>He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},He.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),He.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:He.createElement((()=>He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},He.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),He.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:Qh.AUTO,onChangePage:ln,onChangeRowsPerPage:ln,onRowClicked:ln,onRowDoubleClicked:ln,onRowMouseEnter:ln,onRowMouseLeave:ln,onRowExpandToggled:ln,onSelectedRowsChange:ln,onSort:ln,onColumnOrderChange:ln},Oj={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},Lj=Ge.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,Kd=Ge.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,Mj=Ge.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${JT`
    width: 100%;
    justify-content: space-around;
  `};
`,tS=Ge.span`
	flex-shrink: 1;
	user-select: none;
`,Vj=Ge(tS)`
	margin: 0 24px;
`,jj=Ge(tS)`
	margin: 0 4px;
`;var Fj=S.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=ce.direction,paginationRowsPerPageOptions:o=ce.paginationRowsPerPageOptions,paginationIconLastPage:a=ce.paginationIconLastPage,paginationIconFirstPage:u=ce.paginationIconFirstPage,paginationIconNext:h=ce.paginationIconNext,paginationIconPrevious:f=ce.paginationIconPrevious,paginationComponentOptions:y=ce.paginationComponentOptions,onChangeRowsPerPage:w=ce.onChangeRowsPerPage,onChangePage:b=ce.onChangePage}){const C=(()=>{const x=typeof window=="object";function Le(){return{width:x?window.innerWidth:void 0,height:x?window.innerHeight:void 0}}const[et,Ke]=S.useState(Le);return S.useEffect((()=>{if(!x)return()=>null;function se(){Ke(Le())}return window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)}),[]),et})(),R=ZT(r),N=C.width&&C.width>599,j=Jc(e,t),D=n*t,G=D-t+1,z=n===1,Q=n===j,ee=Object.assign(Object.assign({},Oj),y),de=n===j?`${G}-${e} ${ee.rangeSeparatorText} ${e}`:`${G}-${D} ${ee.rangeSeparatorText} ${e}`,re=S.useCallback((()=>b(n-1)),[n,b]),P=S.useCallback((()=>b(n+1)),[n,b]),T=S.useCallback((()=>b(1)),[b]),k=S.useCallback((()=>b(Jc(e,t))),[b,e,t]),O=S.useCallback((x=>w(Number(x.target.value),n)),[n,w]),V=o.map((x=>S.createElement("option",{key:x,value:x},x)));ee.selectAllRowsItem&&V.push(S.createElement("option",{key:-1,value:e},ee.selectAllRowsItemText));const $=S.createElement(Dj,{onChange:O,defaultValue:t,"aria-label":ee.rowsPerPageText},V);return S.createElement(Lj,{className:"rdt_Pagination"},!ee.noRowsPerPage&&N&&S.createElement(S.Fragment,null,S.createElement(jj,null,ee.rowsPerPageText),$),N&&S.createElement(Vj,null,de),S.createElement(Mj,null,S.createElement(Kd,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":z,onClick:T,disabled:z,$isRTL:R},u),S.createElement(Kd,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":z,onClick:re,disabled:z,$isRTL:R},f),!ee.noRowsPerPage&&!N&&$,S.createElement(Kd,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":Q,onClick:P,disabled:Q,$isRTL:R},h),S.createElement(Kd,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":Q,onClick:k,disabled:Q,$isRTL:R},a)))}));const ta=(t,e)=>{const n=S.useRef(!0);S.useEffect((()=>{n.current?n.current=!1:t()}),e)};function $j(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uj=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===Bj})(e)})(t)},Bj=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function lu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ul((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function zj(t,e,n){return t.concat(e).map((function(r){return lu(r,n)}))}function LE(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function ME(t,e){try{return e in t}catch{return!1}}function Hj(t,e,n){var r={};return n.isMergeableObject(t)&&LE(t).forEach((function(o){r[o]=lu(t[o],n)})),LE(e).forEach((function(o){(function(a,u){return ME(a,u)&&!(Object.hasOwnProperty.call(a,u)&&Object.propertyIsEnumerable.call(a,u))})(t,o)||(ME(t,o)&&n.isMergeableObject(e[o])?r[o]=(function(a,u){if(!u.customMerge)return Ul;var h=u.customMerge(a);return typeof h=="function"?h:Ul})(o,n)(t[o],e[o],n):r[o]=lu(e[o],n))})),r}function Ul(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||zj,n.isMergeableObject=n.isMergeableObject||Uj,n.cloneUnlessOtherwiseSpecified=lu;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):Hj(t,e,n):lu(e,n)}Ul.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return Ul(n,r,e)}),{})};var Sg=$j(Ul);const VE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},Xi={default:VE,light:VE,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function qj(t="default",e,n="default"){return Xi[t]||(Xi[t]=Sg(Xi[n],e||{})),Xi[t]=Sg(Xi[t],e||{}),Xi[t]}function Wj(t,e,n,r){const[o,a]=S.useState((()=>PE(t))),[u,h]=S.useState(""),f=S.useRef("");ta((()=>{a(PE(t))}),[t]);const y=S.useCallback((D=>{var G,z,Q;const{attributes:ee}=D.target,de=(G=ee.getNamedItem("data-column-id"))===null||G===void 0?void 0:G.value;de&&(f.current=((Q=(z=o[Gd(o,de)])===null||z===void 0?void 0:z.id)===null||Q===void 0?void 0:Q.toString())||"",h(f.current))}),[o]),w=S.useCallback((D=>{var G;const{attributes:z}=D.target,Q=(G=z.getNamedItem("data-column-id"))===null||G===void 0?void 0:G.value;if(Q&&f.current&&Q!==f.current){const ee=Gd(o,f.current),de=Gd(o,Q),re=[...o];re[ee]=o[de],re[de]=o[ee],a(re),e(re)}}),[e,o]),b=S.useCallback((D=>{D.preventDefault()}),[]),C=S.useCallback((D=>{D.preventDefault()}),[]),R=S.useCallback((D=>{D.preventDefault(),f.current="",h("")}),[]),N=(function(D=!1){return D?uo.ASC:uo.DESC})(r),j=S.useMemo((()=>o[Gd(o,n?.toString())]||{}),[n,o]);return{tableColumns:o,draggingColumnId:u,handleDragStart:y,handleDragEnter:w,handleDragOver:b,handleDragLeave:C,handleDragEnd:R,defaultSortDirection:N,defaultSortColumn:j}}var Gj=S.memo((function(t){const{data:e=ce.data,columns:n=ce.columns,title:r=ce.title,actions:o=ce.actions,keyField:a=ce.keyField,striped:u=ce.striped,highlightOnHover:h=ce.highlightOnHover,pointerOnHover:f=ce.pointerOnHover,dense:y=ce.dense,selectableRows:w=ce.selectableRows,selectableRowsSingle:b=ce.selectableRowsSingle,selectableRowsHighlight:C=ce.selectableRowsHighlight,selectableRowsNoSelectAll:R=ce.selectableRowsNoSelectAll,selectableRowsVisibleOnly:N=ce.selectableRowsVisibleOnly,selectableRowSelected:j=ce.selectableRowSelected,selectableRowDisabled:D=ce.selectableRowDisabled,selectableRowsComponent:G=ce.selectableRowsComponent,selectableRowsComponentProps:z=ce.selectableRowsComponentProps,onRowExpandToggled:Q=ce.onRowExpandToggled,onSelectedRowsChange:ee=ce.onSelectedRowsChange,expandableIcon:de=ce.expandableIcon,onChangeRowsPerPage:re=ce.onChangeRowsPerPage,onChangePage:P=ce.onChangePage,paginationServer:T=ce.paginationServer,paginationServerOptions:k=ce.paginationServerOptions,paginationTotalRows:O=ce.paginationTotalRows,paginationDefaultPage:V=ce.paginationDefaultPage,paginationResetDefaultPage:$=ce.paginationResetDefaultPage,paginationPerPage:x=ce.paginationPerPage,paginationRowsPerPageOptions:Le=ce.paginationRowsPerPageOptions,paginationIconLastPage:et=ce.paginationIconLastPage,paginationIconFirstPage:Ke=ce.paginationIconFirstPage,paginationIconNext:se=ce.paginationIconNext,paginationIconPrevious:Z=ce.paginationIconPrevious,paginationComponent:W=ce.paginationComponent,paginationComponentOptions:Y=ce.paginationComponentOptions,responsive:L=ce.responsive,progressPending:U=ce.progressPending,progressComponent:le=ce.progressComponent,persistTableHead:ge=ce.persistTableHead,noDataComponent:ye=ce.noDataComponent,disabled:be=ce.disabled,noTableHead:Fe=ce.noTableHead,noHeader:$e=ce.noHeader,fixedHeader:Ue=ce.fixedHeader,fixedHeaderScrollHeight:ct=ce.fixedHeaderScrollHeight,pagination:mt=ce.pagination,subHeader:vt=ce.subHeader,subHeaderAlign:Pe=ce.subHeaderAlign,subHeaderWrap:Ie=ce.subHeaderWrap,subHeaderComponent:Ve=ce.subHeaderComponent,noContextMenu:Be=ce.noContextMenu,contextMessage:ut=ce.contextMessage,contextActions:Te=ce.contextActions,contextComponent:ft=ce.contextComponent,expandableRows:Qe=ce.expandableRows,onRowClicked:Wt=ce.onRowClicked,onRowDoubleClicked:bi=ce.onRowDoubleClicked,onRowMouseEnter:$s=ce.onRowMouseEnter,onRowMouseLeave:Us=ce.onRowMouseLeave,sortIcon:bo=ce.sortIcon,onSort:Vt=ce.onSort,sortFunction:Dt=ce.sortFunction,sortServer:ir=ce.sortServer,expandableRowsComponent:Co=ce.expandableRowsComponent,expandableRowsComponentProps:os=ce.expandableRowsComponentProps,expandableRowDisabled:as=ce.expandableRowDisabled,expandableRowsHideExpander:ls=ce.expandableRowsHideExpander,expandOnRowClicked:To=ce.expandOnRowClicked,expandOnRowDoubleClicked:So=ce.expandOnRowDoubleClicked,expandableRowExpanded:Ci=ce.expandableRowExpanded,expandableInheritConditionalStyles:Io=ce.expandableInheritConditionalStyles,defaultSortFieldId:xo=ce.defaultSortFieldId,defaultSortAsc:Bs=ce.defaultSortAsc,clearSelectedRows:zs=ce.clearSelectedRows,conditionalRowStyles:Ti=ce.conditionalRowStyles,theme:Vn=ce.theme,customStyles:or=ce.customStyles,direction:Er=ce.direction,onColumnOrderChange:br=ce.onColumnOrderChange,className:Ro,ariaLabel:cs}=t,{tableColumns:Si,draggingColumnId:Cr,handleDragStart:Ii,handleDragEnter:Tt,handleDragOver:Hs,handleDragLeave:qn,handleDragEnd:us,defaultSortDirection:qs,defaultSortColumn:xi}=Wj(n,br,xo,Bs),[{rowsPerPage:Gt,currentPage:wn,selectedRows:ko,allSelected:Ws,selectedCount:Po,selectedColumn:Ot,sortDirection:Wn,toggleOnSelectedRowsChange:ar},Tr]=S.useReducer(MV,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:xi,toggleOnSelectedRowsChange:!1,sortDirection:qs,currentPage:V,rowsPerPage:x,selectedRowsFlag:!1,contextMessage:ce.contextMessage}),{persistSelectedOnSort:Ri=!1,persistSelectedOnPageChange:Fr=!1}=k,Gs=!(!T||!Fr&&!Ri),Ao=mt&&!U&&e.length>0,xa=W||Fj,nc=S.useMemo((()=>((Se={},qe="default",St="default")=>{const rn=Xi[qe]?qe:St;return Sg({table:{style:{color:(Ae=Xi[rn]).text.primary,backgroundColor:Ae.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:Ae.text.primary,backgroundColor:Ae.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:Ae.background.default,minHeight:"52px"}},head:{style:{color:Ae.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:Ae.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:Ae.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:Ae.context.background,fontSize:"18px",fontWeight:400,color:Ae.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:Ae.text.primary,backgroundColor:Ae.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:Ae.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:Ae.selected.text,backgroundColor:Ae.selected.default,borderBottomColor:Ae.background.default}},highlightOnHoverStyle:{color:Ae.highlightOnHover.text,backgroundColor:Ae.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:Ae.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:Ae.background.default},stripedStyle:{color:Ae.striped.text,backgroundColor:Ae.striped.default}},expanderRow:{style:{color:Ae.text.primary,backgroundColor:Ae.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:Ae.button.default,fill:Ae.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:Ae.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:Ae.button.hover},"&:focus":{outline:"none",backgroundColor:Ae.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:Ae.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:Ae.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:Ae.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:Ae.button.default,fill:Ae.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:Ae.button.disabled,fill:Ae.button.disabled},"&:hover:not(:disabled)":{backgroundColor:Ae.button.hover},"&:focus":{outline:"none",backgroundColor:Ae.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Ae.text.primary,backgroundColor:Ae.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Ae.text.primary,backgroundColor:Ae.background.default}}},Se);var Ae})(or,Vn)),[or,Vn]),ht=S.useMemo((()=>Object.assign({},Er!=="auto"&&{dir:Er})),[Er]),jt=S.useMemo((()=>{if(ir)return e;if(Ot?.sortFunction&&typeof Ot.sortFunction=="function"){const Se=Ot.sortFunction,qe=Wn===uo.ASC?Se:(St,rn)=>-1*Se(St,rn);return[...e].sort(qe)}return(function(Se,qe,St,rn){return qe?rn&&typeof rn=="function"?rn(Se.slice(0),qe,St):Se.slice(0).sort(((Ae,cr)=>{const Kt=qe(Ae),In=qe(cr);if(St==="asc"){if(Kt<In)return-1;if(Kt>In)return 1}if(St==="desc"){if(Kt>In)return-1;if(Kt<In)return 1}return 0})):Se})(e,Ot?.selector,Wn,Dt)}),[ir,Ot,Wn,e,Dt]),lr=S.useMemo((()=>{if(mt&&!T){const Se=wn*Gt,qe=Se-Gt;return jt.slice(qe,Se)}return jt}),[wn,mt,T,Gt,jt]),ds=S.useCallback((Se=>{Tr(Se)}),[]),Gn=S.useCallback((Se=>{Tr(Se)}),[]),No=S.useCallback((Se=>{Tr(Se)}),[]),Ra=S.useCallback(((Se,qe)=>Wt(Se,qe)),[Wt]),Ks=S.useCallback(((Se,qe)=>bi(Se,qe)),[bi]),jn=S.useCallback(((Se,qe)=>$s(Se,qe)),[$s]),ka=S.useCallback(((Se,qe)=>Us(Se,qe)),[Us]),Lt=S.useCallback((Se=>Tr({type:"CHANGE_PAGE",page:Se,paginationServer:T,visibleOnly:N,persistSelectedOnPageChange:Fr})),[T,Fr,N]),Do=S.useCallback((Se=>{const qe=Jc(O||lr.length,Se),St=Lm(wn,qe);T||Lt(St),Tr({type:"CHANGE_ROWS_PER_PAGE",page:St,rowsPerPage:Se})}),[wn,Lt,T,O,lr.length]);if(mt&&!T&&jt.length>0&&lr.length===0){const Se=Jc(jt.length,Gt),qe=Lm(wn,Se);Lt(qe)}ta((()=>{ee({allSelected:Ws,selectedCount:Po,selectedRows:ko.slice(0)})}),[ar]),ta((()=>{Vt(Ot,Wn,jt.slice(0))}),[Ot,Wn]),ta((()=>{P(wn,O||jt.length)}),[wn]),ta((()=>{re(Gt,wn)}),[Gt]),ta((()=>{Lt(V)}),[V,$]),ta((()=>{if(mt&&T&&O>0){const Se=Jc(O,Gt),qe=Lm(wn,Se);wn!==qe&&Lt(qe)}}),[O]),S.useEffect((()=>{Tr({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:zs})}),[b,zs]),S.useEffect((()=>{if(!j)return;const Se=jt.filter((St=>j(St))),qe=b?Se.slice(0,1):Se;Tr({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:qe,totalRows:jt.length,mergeSelections:Gs})}),[e,j]);const Pa=N?lr:jt,Aa=Fr||b||R;return S.createElement(NV,{theme:nc},!$e&&(!!r||!!o)&&S.createElement(Ej,{title:r,actions:o,showMenu:!Be,selectedCount:Po,direction:Er,contextActions:Te,contextComponent:ft,contextMessage:ut}),vt&&S.createElement(Tj,{align:Pe,wrapContent:Ie},Ve),S.createElement(Ij,Object.assign({$responsive:L,$fixedHeader:Ue,$fixedHeaderScrollHeight:ct,className:Ro},ht),S.createElement(xj,null,U&&!ge&&S.createElement(OE,null,le),S.createElement(jV,Object.assign({disabled:be,className:"rdt_Table",role:"table"},cs&&{"aria-label":cs}),!Fe&&(!!ge||jt.length>0&&!U)&&S.createElement($V,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:Ue},S.createElement(UV,{className:"rdt_TableHeadRow",role:"row",$dense:y},w&&(Aa?S.createElement(tc,{style:{flex:"0 0 48px"}}):S.createElement(pj,{allSelected:Ws,selectedRows:ko,selectableRowsComponent:G,selectableRowsComponentProps:z,selectableRowDisabled:D,rowData:Pa,keyField:a,mergeSelections:Gs,onSelectAllRows:Gn})),Qe&&!ls&&S.createElement(Rj,null),Si.map((Se=>S.createElement(hj,{key:Se.id,column:Se,selectedColumn:Ot,disabled:U||jt.length===0,pagination:mt,paginationServer:T,persistSelectedOnSort:Ri,selectableRowsVisibleOnly:N,sortDirection:Wn,sortIcon:bo,sortServer:ir,onSort:ds,onDragStart:Ii,onDragOver:Hs,onDragEnd:us,onDragEnter:Tt,onDragLeave:qn,draggingColumnId:Cr}))))),!jt.length&&!U&&S.createElement(kj,null,ye),U&&ge&&S.createElement(OE,null,le),!U&&jt.length>0&&S.createElement(Sj,{className:"rdt_TableBody",role:"rowgroup"},lr.map(((Se,qe)=>{const St=$l(Se,a),rn=(function(In=""){return typeof In!="number"&&(!In||In.length===0)})(St)?qe:St,Ae=hh(Se,ko,a),cr=!!(Qe&&Ci&&Ci(Se)),Kt=!!(Qe&&as&&as(Se));return S.createElement(ij,{id:rn,key:rn,keyField:a,"data-row-id":rn,columns:Si,row:Se,rowCount:jt.length,rowIndex:qe,selectableRows:w,expandableRows:Qe,expandableIcon:de,highlightOnHover:h,pointerOnHover:f,dense:y,expandOnRowClicked:To,expandOnRowDoubleClicked:So,expandableRowsComponent:Co,expandableRowsComponentProps:os,expandableRowsHideExpander:ls,defaultExpanderDisabled:Kt,defaultExpanded:cr,expandableInheritConditionalStyles:Io,conditionalRowStyles:Ti,selected:Ae,selectableRowsHighlight:C,selectableRowsComponent:G,selectableRowsComponentProps:z,selectableRowDisabled:D,selectableRowsSingle:b,striped:u,onRowExpandToggled:Q,onRowClicked:Ra,onRowDoubleClicked:Ks,onRowMouseEnter:jn,onRowMouseLeave:ka,onSelectedRow:No,draggingColumnId:Cr,onDragStart:Ii,onDragOver:Hs,onDragEnd:us,onDragEnter:Tt,onDragLeave:qn})})))))),Ao&&S.createElement("div",null,S.createElement(xa,{onChangePage:Lt,onChangeRowsPerPage:Do,rowCount:O||jt.length,currentPage:wn,rowsPerPage:Gt,direction:Er,paginationRowsPerPageOptions:Le,paginationIconLastPage:et,paginationIconFirstPage:Ke,paginationIconNext:se,paginationIconPrevious:Z,paginationComponentOptions:Y})))}));const jE=rs(wr),Kj=js(wr);qj("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function Qj({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,u]=S.useState(!1),[h,f]=S.useState(!1),[y,w]=S.useState(!1),b=S.useRef(null),C=()=>ef(Kj);S.useEffect(()=>{const T=k=>{b.current&&!b.current.contains(k.target)&&w(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const R=T=>parseInt(T),N=t?.fotoPerfil||tn,j=[{when:T=>T.pos==="1º",style:{background:"linear-gradient(135deg, rgb(255, 215, 0), rgb(218, 165, 32))",boxShadow:"0 0 8px rgba(255, 215, 0, 0.7), inset 0 0 4px rgba(255, 255, 255, 0.6)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:T=>T.pos==="2º",style:{background:"linear-gradient(135deg, rgb(192,192,192), rgb(169,169,169))",boxShadow:"0 0 8px rgba(192,192,192, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.5)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:T=>T.pos==="3º",style:{background:"linear-gradient(135deg, rgb(205, 127, 50), rgb(139, 69, 19))",boxShadow:"0 0 8px rgba(205, 127, 50, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.4)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:T=>R(T.pos)>3&&R(T.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:T=>R(T.pos)>3&&R(T.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],D=[{name:"Pos.",selector:T=>T.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:T=>T.jugador,cell:T=>v.jsxs(Xt,{to:T.id===t.uid?"/home":`/equipo/${T.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit",cursor:"pointer"},children:[v.jsx("img",{src:T.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"1px solid black"}}),v.jsx("span",{children:T.jugador})]})},{name:"Puntos",selector:T=>T.puntos,width:"5.5rem",center:!0}],G=()=>{u(!a)},z=T=>T>=1e6?(T/1e6).toFixed(2)+"M":T>=1e3?(T/1e3).toFixed(2)+"K":T.toFixed(2);S.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const T=zt(jE,"usuarios",t.uid);Ns(T).then(k=>{k.exists()&&o(k.data().dinero)})}},[t]);const[Q,ee]=S.useState([]),[de,re]=S.useState(!1);S.useEffect(()=>{(async()=>{re(!0);try{const k=Al(jE,"usuarios");let $=(await Nl(k)).docs.map(x=>({id:x.id,...x.data()})).sort((x,Le)=>(Le.puntos||0)-(x.puntos||0)).map((x,Le)=>({id:x.id,pos:`${Le+1}º`,jugador:x.nick||"Sin nombre",puntos:x.puntos||0,fotoPerfil:x.fotoPerfil||tn}));ee($)}catch(k){console.error("Error al cargar usuarios:",k)}finally{re(!1)}})()},[]);const P={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:N,onError:T=>{T.currentTarget.onerror=null,T.currentTarget.src=tn},alt:"Foto de perfil",onClick:()=>w(!y),onMouseEnter:()=>w(!0)}),y&&v.jsxs("div",{className:"perfil-bocadillo",ref:b,onMouseLeave:()=>w(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{f(!0),w(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:C,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:z(r)})]})]})]}),v.jsx("button",{onClick:G,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ll})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&v.jsx(Nf,{usuario:t,openModal:h,setOpenModal:f}),v.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:v.jsx(Gj,{title:"CLASIFICACIÓN",columns:D,data:Q,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:de,progressComponent:v.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:j,customStyles:P,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:v.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}function Jj({jugador:t,openModal:e,setOpenModal:n}){js(),rs(),Af();const r=t?.foto||tn,o=f=>{switch(f){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return f||"Sin posición"}},a=S.useRef(),u=f=>{f.target===a.current&&n(!1)},h=f=>f.toLocaleString("es-ES")+"€";return e?(console.log("DEBUG jugador en modal:",t),v.jsx("div",{className:"modal-overlay",ref:a,onClick:u,children:v.jsxs("div",{className:"modal-perfil",children:[v.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),v.jsxs("div",{className:"modal-header",children:[v.jsx("label",{className:"modal-avatar",children:v.jsx("img",{src:r,alt:"Jugador"})}),v.jsxs("div",{className:"modal-jugadorinfo",children:[v.jsx("h2",{children:(window.innerWidth<450,t.nombre)}),v.jsxs("div",{className:"posicion-precio",children:[v.jsx("div",{className:`posicion-texto ${t.posicion}`,children:v.jsx("small",{children:o(t.posicion)})}),v.jsxs("div",{className:"precio-container",children:[v.jsx("div",{className:"precio",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",h(t.precio)]})}),v.jsx("div",{className:"diferencia-precio",children:(()=>{const f=t.historialPrecios||[];if(f.length===0)return v.jsx("small",{children:"(±0€)"});const y=f[f.length-1].precio||0,w=t.precio-y,b=w>0?"+":w<0?"-":"±";return v.jsxs("small",{className:w>=0?"subida":"bajada",children:["(",b,h(Math.abs(w)),")"]})})()})]}),v.jsx("div",{className:"precio-clausula",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",h(t.precioClausula)]})})]}),v.jsx("div",{className:"estadisticas-extra",children:v.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((f,y,w)=>{const b=f??"-",C=w.length<5?y+1:t.puntosPorJornada.length-5+y+1;let R="";return typeof f=="number"&&(f>=9?R="verde":f<7?R="rojo":R="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",C]}),v.jsx("div",{className:`jornada-cuadro ${R}`,children:b})]},y)}):[...Array(5)].map((f,y)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",y+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},y))})})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-jugadorbody",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.valoracion}),v.jsx("small",{children:"Valoración"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.nota}),v.jsx("small",{children:"Nota Media"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.puntosTotales}),v.jsx("small",{children:"Puntos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.partidos}),v.jsx("small",{children:"Partidos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.goles}),v.jsx("small",{children:"Goles"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.asistencias}),v.jsx("small",{children:"Asistencias"})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-footer",children:[v.jsxs("button",{className:"btn-accion",disabled:t.stock<=0,onClick:f=>{f.stopPropagation()},children:["Pagar Claúsula",v.jsx("br",{}),v.jsxs("small",{className:"precio-compra",children:["(-",h(t.precioClausula),")"]})]}),v.jsx("button",{className:"btn-accion",disabled:t.stock<=0,onClick:f=>{f.stopPropagation()},children:"Hacer oferta"})]})]})})):null}const Vm=rs(wr),Yj=js(wr),Xj={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function FE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=Xj[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function Zj({usuario:t}){const{jugadorId:e}=uD(),[n,r]=S.useState(!0),[o,a]=S.useState(null),[u,h]=S.useState(!1),[f,y]=S.useState(!1),[w,b]=S.useState(null),C=t?.fotoPerfil||tn,R=o?.equipo?.titulares||[],N=o?.equipo?.banquillo||[],[j,D]=S.useState([]),G=o?.equipo?.capitan||"",[z,Q]=S.useState(o?.equipo?.formacion||"2-1-1"),[ee,de]=S.useState(z);S.useEffect(()=>{o?.equipo?.formacion&&(Q(o.equipo.formacion),de(o.equipo.formacion))},[o]);const[re,P]=S.useState(!1),[T,k]=S.useState(!1),[O,V]=S.useState(null),[$,x]=S.useState(!1),Le=S.useRef(null),et=()=>ef(Yj);S.useEffect(()=>{const W=Y=>{Le.current&&!Le.current.contains(Y.target)&&x(!1)};return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[]),S.useEffect(()=>{if(window.particlesJS&&document.getElementById("particles-js")&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const W=zt(Vm,"usuarios",t.uid);Ns(W).then(Y=>{Y.exists()&&b(Y.data().dinero)})}},[t]),S.useEffect(()=>{(async()=>{if(e){r(!0);try{const Y=await Ns(zt(Vm,"usuarios",e));Y.exists()?a({id:Y.id,...Y.data()}):a(null)}catch(Y){console.error("Error fetching jugador:",Y)}finally{r(!1)}}})()},[e]),S.useEffect(()=>{(async()=>{if(o?.equipo)try{const Y=[...o.equipo.titulares||[],...o.equipo.banquillo||[]].filter(ye=>typeof ye=="string"&&ye);if(Y.length===0){D([]);return}const L=Al(Vm,"jugadores"),U=Ef(L,Cf("__name__","in",Y)),ge=(await Nl(U)).docs.map(ye=>({id:ye.id,...ye.data()}));D(ge)}catch(Y){console.error("Error cargando jugadores:",Y)}})()},[o]);const Ke=()=>{h(!u)},se=W=>W>=1e6?(W/1e6).toFixed(2)+"M":W>=1e3?(W/1e3).toFixed(2)+"K":W.toFixed(2),Z=W=>W.toLocaleString("es-ES")+"€";return v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:C,onError:W=>{W.currentTarget.onerror=null,W.currentTarget.src=tn},alt:"Foto de perfil",onClick:()=>x(!$),onMouseEnter:()=>x(!0)}),$&&v.jsxs("div",{className:"perfil-bocadillo",ref:Le,onMouseLeave:()=>x(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{P(!0),x(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:et,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),w!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:se(w)})]})]})]}),v.jsx("button",{onClick:Ke,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${u?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ll})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),re&&v.jsx(Nf,{usuario:t,openModal:re,setOpenModal:P}),T&&O&&v.jsx(Jj,{jugador:O,openModal:T,setOpenModal:k}),v.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1,marginTop:"0rem"},children:[v.jsxs("div",{className:"datos-equipo",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Formación:"})," ",v.jsx("small",{children:ee})," "]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Dinero:"})," ",v.jsx("small",{children:v.jsx("span",{className:"verde",children:Z(o?.dinero||0)})})]})]}),v.jsx("div",{className:"campo",children:gg[ee]?.map((W,Y)=>{const L=R[Y],U=j.find(le=>le.id===L);return v.jsxs("div",{className:"jugador",style:{position:"absolute",top:W.top,left:W.left,transform:"translate(-50%, -50%)"},children:[v.jsxs("div",{className:"jugador-wrapper",children:[v.jsx("img",{src:U?.foto||tn,alt:U?.nombre||"Vacío",className:"jugador-img",style:FE(U,Y,ee).style,onClick:()=>{k(!0),V(U)}}),(()=>{const{status:le}=FE(U,Y,ee);return console.log(le),le?le==="green"?v.jsx("div",{className:"status-badge green",children:"✓"}):le==="orange"?v.jsx("div",{className:"status-badge orange",children:"!"}):le==="red"?v.jsx("div",{className:"status-badge red",children:"✕"}):null:null})(),G===U?.id&&v.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(U?.puntosPorJornada.length===0)return v.jsx("div",{className:"puntos-badge gray",children:"-"});const le=U?.puntosPorJornada?.length?U?.puntosPorJornada[U?.puntosPorJornada.length-1]:null;if(le==null)return null;let ge=le==="-"?"gray":le<7?"red":le<9?"orange":"green";return v.jsx("div",{className:`puntos-badge ${ge}`,children:le})})()]}),v.jsx("p",{className:"jugador-nombre",children:U?.nombre||"Vacío"})]},U?.id||Y)})}),v.jsxs("div",{className:"banquillo-section",children:[v.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),v.jsx("div",{className:"banquillo-container",children:N.map((W,Y)=>{const L=j.find(U=>U.id===W);return v.jsx("div",{className:"banquillo-slot",children:L?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"jugador-wrapper",children:[v.jsx("img",{src:L?.foto||tn,alt:L?.nombre||"Vacío",className:"jugador-img",onClick:()=>{k(!0),V(L)}}),(()=>{if(L?.puntosPorJornada?.length===0)return v.jsx("div",{className:"puntos-badge gray",children:"-"});const U=L?.puntosPorJornada?.length?L?.puntosPorJornada[L?.puntosPorJornada.length-1]:null;if(U==null)return null;let le=U==="-"?"gray":U<7?"red":U<9?"orange":"green";return v.jsx("div",{className:`puntos-badge ${le}`,children:U})})()]}),v.jsx("p",{className:"jugador-nombre-banquillo",children:L?.nombre})]}):v.jsx(Xt,{to:"/mercado",className:"banquillo-add",children:"+"})})})})]})]})]}),f&&v.jsx("div",{className:"onboarding-overlay",children:v.jsx("div",{className:"loader",children:"Cargando..."})})]})}const e4=js(wr),t4=rs(wr);function n4(){const[t,e]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{const o=rk(e4,async a=>{if(a)try{const u=await Ns(zt(t4,"usuarios",a.uid));u.exists()?e({uid:a.uid,...u.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(u){console.error("Error obteniendo datos de usuario:",u),e(null)}else e(null);r(!1)});return()=>o()},[]),n?v.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):v.jsx(KD,{children:v.jsxs(SD,{children:[v.jsx(ea,{path:"/",element:t?v.jsx(cl,{to:"/home",replace:!0}):v.jsx(XM,{})}),v.jsx(ea,{path:"/home",element:t?v.jsx(k5,{usuario:t}):v.jsx(cl,{to:"/",replace:!0})}),v.jsx(ea,{path:"/mercado",element:t?v.jsx(A5,{usuario:t}):v.jsx(cl,{to:"/",replace:!0})}),v.jsx(ea,{path:"/clasificacion",element:t?v.jsx(Qj,{usuario:t}):v.jsx(cl,{to:"/",replace:!0})}),v.jsx(ea,{path:"/equipo/:jugadorId",element:t?v.jsx(Zj,{usuario:t}):v.jsx(cl,{to:"/",replace:!0})}),v.jsx(ea,{path:"*",element:v.jsx(cl,{to:t?"/home":"/",replace:!0})})]})})}pI.createRoot(document.getElementById("root")).render(v.jsx(S.StrictMode,{children:v.jsx(n4,{})}));
