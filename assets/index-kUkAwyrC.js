(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Qf={exports:{}},Ll={},Yf={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw;function M1(){if(kw)return De;kw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function I(F){return F===null||typeof F!="object"?null:(F=E&&F[E]||F["@@iterator"],typeof F=="function"?F:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,$={};function L(F,X,ge){this.props=F,this.context=X,this.refs=$,this.updater=ge||N}L.prototype.isReactComponent={},L.prototype.setState=function(F,X){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,X,"setState")},L.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function Y(){}Y.prototype=L.prototype;function K(F,X,ge){this.props=F,this.context=X,this.refs=$,this.updater=ge||N}var ne=K.prototype=new Y;ne.constructor=K,V(ne,L.prototype),ne.isPureReactComponent=!0;var ue=Array.isArray,Ce=Object.prototype.hasOwnProperty,Ie={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function C(F,X,ge){var Pe,Ne={},Fe=null,He=null;if(X!=null)for(Pe in X.ref!==void 0&&(He=X.ref),X.key!==void 0&&(Fe=""+X.key),X)Ce.call(X,Pe)&&!P.hasOwnProperty(Pe)&&(Ne[Pe]=X[Pe]);var qe=arguments.length-2;if(qe===1)Ne.children=ge;else if(1<qe){for(var Ye=Array(qe),xt=0;xt<qe;xt++)Ye[xt]=arguments[xt+2];Ne.children=Ye}if(F&&F.defaultProps)for(Pe in qe=F.defaultProps,qe)Ne[Pe]===void 0&&(Ne[Pe]=qe[Pe]);return{$$typeof:n,type:F,key:Fe,ref:He,props:Ne,_owner:Ie.current}}function k(F,X){return{$$typeof:n,type:F.type,key:X,ref:F.ref,props:F.props,_owner:F._owner}}function b(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function D(F){var X={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return X[ge]})}var M=/\/+/g;function S(F,X){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):X.toString(36)}function Re(F,X,ge,Pe,Ne){var Fe=typeof F;(Fe==="undefined"||Fe==="boolean")&&(F=null);var He=!1;if(F===null)He=!0;else switch(Fe){case"string":case"number":He=!0;break;case"object":switch(F.$$typeof){case n:case e:He=!0}}if(He)return He=F,Ne=Ne(He),F=Pe===""?"."+S(He,0):Pe,ue(Ne)?(ge="",F!=null&&(ge=F.replace(M,"$&/")+"/"),Re(Ne,X,ge,"",function(xt){return xt})):Ne!=null&&(b(Ne)&&(Ne=k(Ne,ge+(!Ne.key||He&&He.key===Ne.key?"":(""+Ne.key).replace(M,"$&/")+"/")+F)),X.push(Ne)),1;if(He=0,Pe=Pe===""?".":Pe+":",ue(F))for(var qe=0;qe<F.length;qe++){Fe=F[qe];var Ye=Pe+S(Fe,qe);He+=Re(Fe,X,ge,Ye,Ne)}else if(Ye=I(F),typeof Ye=="function")for(F=Ye.call(F),qe=0;!(Fe=F.next()).done;)Fe=Fe.value,Ye=Pe+S(Fe,qe++),He+=Re(Fe,X,ge,Ye,Ne);else if(Fe==="object")throw X=String(F),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return He}function me(F,X,ge){if(F==null)return F;var Pe=[],Ne=0;return Re(F,Pe,"","",function(Fe){return X.call(ge,Fe,Ne++)}),Pe}function xe(F){if(F._status===-1){var X=F._result;X=X(),X.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=X)}if(F._status===1)return F._result.default;throw F._result}var be={current:null},te={transition:null},he={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:te,ReactCurrentOwner:Ie};function ae(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:me,forEach:function(F,X,ge){me(F,function(){X.apply(this,arguments)},ge)},count:function(F){var X=0;return me(F,function(){X++}),X},toArray:function(F){return me(F,function(X){return X})||[]},only:function(F){if(!b(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},De.Component=L,De.Fragment=t,De.Profiler=o,De.PureComponent=K,De.StrictMode=i,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,De.act=ae,De.cloneElement=function(F,X,ge){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Pe=V({},F.props),Ne=F.key,Fe=F.ref,He=F._owner;if(X!=null){if(X.ref!==void 0&&(Fe=X.ref,He=Ie.current),X.key!==void 0&&(Ne=""+X.key),F.type&&F.type.defaultProps)var qe=F.type.defaultProps;for(Ye in X)Ce.call(X,Ye)&&!P.hasOwnProperty(Ye)&&(Pe[Ye]=X[Ye]===void 0&&qe!==void 0?qe[Ye]:X[Ye])}var Ye=arguments.length-2;if(Ye===1)Pe.children=ge;else if(1<Ye){qe=Array(Ye);for(var xt=0;xt<Ye;xt++)qe[xt]=arguments[xt+2];Pe.children=qe}return{$$typeof:n,type:F.type,key:Ne,ref:Fe,props:Pe,_owner:He}},De.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},De.createElement=C,De.createFactory=function(F){var X=C.bind(null,F);return X.type=F,X},De.createRef=function(){return{current:null}},De.forwardRef=function(F){return{$$typeof:d,render:F}},De.isValidElement=b,De.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:xe}},De.memo=function(F,X){return{$$typeof:y,type:F,compare:X===void 0?null:X}},De.startTransition=function(F){var X=te.transition;te.transition={};try{F()}finally{te.transition=X}},De.unstable_act=ae,De.useCallback=function(F,X){return be.current.useCallback(F,X)},De.useContext=function(F){return be.current.useContext(F)},De.useDebugValue=function(){},De.useDeferredValue=function(F){return be.current.useDeferredValue(F)},De.useEffect=function(F,X){return be.current.useEffect(F,X)},De.useId=function(){return be.current.useId()},De.useImperativeHandle=function(F,X,ge){return be.current.useImperativeHandle(F,X,ge)},De.useInsertionEffect=function(F,X){return be.current.useInsertionEffect(F,X)},De.useLayoutEffect=function(F,X){return be.current.useLayoutEffect(F,X)},De.useMemo=function(F,X){return be.current.useMemo(F,X)},De.useReducer=function(F,X,ge){return be.current.useReducer(F,X,ge)},De.useRef=function(F){return be.current.useRef(F)},De.useState=function(F){return be.current.useState(F)},De.useSyncExternalStore=function(F,X,ge){return be.current.useSyncExternalStore(F,X,ge)},De.useTransition=function(){return be.current.useTransition()},De.version="18.3.1",De}var Rw;function Jp(){return Rw||(Rw=1,Yf.exports=M1()),Yf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function F1(){if(bw)return Ll;bw=1;var n=Jp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var v,E={},I=null,N=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(N=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(E[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)E[v]===void 0&&(E[v]=p[v]);return{$$typeof:e,type:d,key:I,ref:N,props:E,_owner:o.current}}return Ll.Fragment=t,Ll.jsx=c,Ll.jsxs=c,Ll}var Pw;function U1(){return Pw||(Pw=1,Qf.exports=F1()),Qf.exports}var O=U1(),z=Jp(),Wc={},Xf={exports:{}},gn={},Jf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function j1(){return xw||(xw=1,(function(n){function e(te,he){var ae=te.length;te.push(he);e:for(;0<ae;){var F=ae-1>>>1,X=te[F];if(0<o(X,he))te[F]=he,te[ae]=X,ae=F;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var he=te[0],ae=te.pop();if(ae!==he){te[0]=ae;e:for(var F=0,X=te.length,ge=X>>>1;F<ge;){var Pe=2*(F+1)-1,Ne=te[Pe],Fe=Pe+1,He=te[Fe];if(0>o(Ne,ae))Fe<X&&0>o(He,Ne)?(te[F]=He,te[Fe]=ae,F=Fe):(te[F]=Ne,te[Pe]=ae,F=Pe);else if(Fe<X&&0>o(He,ae))te[F]=He,te[Fe]=ae,F=Fe;else break e}}return he}function o(te,he){var ae=te.sortIndex-he.sortIndex;return ae!==0?ae:te.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],v=1,E=null,I=3,N=!1,V=!1,$=!1,L=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(te){for(var he=t(y);he!==null;){if(he.callback===null)i(y);else if(he.startTime<=te)i(y),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(y)}}function ue(te){if($=!1,ne(te),!V)if(t(p)!==null)V=!0,xe(Ce);else{var he=t(y);he!==null&&be(ue,he.startTime-te)}}function Ce(te,he){V=!1,$&&($=!1,Y(C),C=-1),N=!0;var ae=I;try{for(ne(he),E=t(p);E!==null&&(!(E.expirationTime>he)||te&&!D());){var F=E.callback;if(typeof F=="function"){E.callback=null,I=E.priorityLevel;var X=F(E.expirationTime<=he);he=n.unstable_now(),typeof X=="function"?E.callback=X:E===t(p)&&i(p),ne(he)}else i(p);E=t(p)}if(E!==null)var ge=!0;else{var Pe=t(y);Pe!==null&&be(ue,Pe.startTime-he),ge=!1}return ge}finally{E=null,I=ae,N=!1}}var Ie=!1,P=null,C=-1,k=5,b=-1;function D(){return!(n.unstable_now()-b<k)}function M(){if(P!==null){var te=n.unstable_now();b=te;var he=!0;try{he=P(!0,te)}finally{he?S():(Ie=!1,P=null)}}else Ie=!1}var S;if(typeof K=="function")S=function(){K(M)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,me=Re.port2;Re.port1.onmessage=M,S=function(){me.postMessage(null)}}else S=function(){L(M,0)};function xe(te){P=te,Ie||(Ie=!0,S())}function be(te,he){C=L(function(){te(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){V||N||(V=!0,xe(Ce))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(te){switch(I){case 1:case 2:case 3:var he=3;break;default:he=I}var ae=I;I=he;try{return te()}finally{I=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ae=I;I=te;try{return he()}finally{I=ae}},n.unstable_scheduleCallback=function(te,he,ae){var F=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?F+ae:F):ae=F,te){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ae+X,te={id:v++,callback:he,priorityLevel:te,startTime:ae,expirationTime:X,sortIndex:-1},ae>F?(te.sortIndex=ae,e(y,te),t(p)===null&&te===t(y)&&($?(Y(C),C=-1):$=!0,be(ue,ae-F))):(te.sortIndex=X,e(p,te),V||N||(V=!0,xe(Ce))),te},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(te){var he=I;return function(){var ae=I;I=he;try{return te.apply(this,arguments)}finally{I=ae}}}})(Zf)),Zf}var Nw;function B1(){return Nw||(Nw=1,Jf.exports=j1()),Jf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function $1(){if(Dw)return gn;Dw=1;var n=Jp(),e=B1();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function I(r){return p.call(E,r)?!0:p.call(v,r)?!1:y.test(r)?E[r]=!0:(v[r]=!0,!1)}function N(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function V(r,s,a,h){if(s===null||typeof s>"u"||N(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function $(r,s,a,h,f,g,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=_}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new $(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];L[s]=new $(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new $(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new $(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new $(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new $(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new $(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new $(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new $(r,5,!1,r.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function K(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(Y,K);L[s]=new $(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(Y,K);L[s]=new $(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(Y,K);L[s]=new $(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new $(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new $(r,1,!1,r.toLowerCase(),null,!0,!0)});function ne(r,s,a,h){var f=L.hasOwnProperty(s)?L[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(V(s,a,f,h)&&(a=null),h||f===null?I(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ue=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Ie=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),te=Symbol.iterator;function he(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,F;function X(r){if(F===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+r}var ge=!1;function Pe(r,s){if(!r||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var h=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){h=H}r.call(s.prototype)}else{try{throw Error()}catch(H){h=H}r()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),g=h.stack.split(`
`),_=f.length-1,A=g.length-1;1<=_&&0<=A&&f[_]!==g[A];)A--;for(;1<=_&&0<=A;_--,A--)if(f[_]!==g[A]){if(_!==1||A!==1)do if(_--,A--,0>A||f[_]!==g[A]){var R=`
`+f[_].replace(" at new "," at ");return r.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",r.displayName)),R}while(1<=_&&0<=A);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?X(r):""}function Ne(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function Fe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case Ie:return"Portal";case k:return"Profiler";case C:return"StrictMode";case S:return"Suspense";case Re:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case b:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case me:return s=r.displayName||null,s!==null?s:Fe(r.type)||"Memo";case xe:s=r._payload,r=r._init;try{return Fe(r(s))}catch{}}return null}function He(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function qe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ye(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xt(r){var s=Ye(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){h=""+_,g.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function $r(r){r._valueTracker||(r._valueTracker=xt(r))}function po(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=Ye(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Ei(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function gs(r,s){var a=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function mo(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=qe(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ba(r,s){s=s.checked,s!=null&&ne(r,"checked",s,!1)}function $a(r,s){Ba(r,s);var a=qe(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?go(r,s.type,a):s.hasOwnProperty("defaultValue")&&go(r,s.type,qe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function xu(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function go(r,s,a){(s!=="number"||Ei(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var zr=Array.isArray;function Hr(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+qe(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function za(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function yo(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(zr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:qe(a)}}function wo(r,s){var a=qe(s.value),h=qe(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Ha(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ct(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function At(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ct(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var qr,qa=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(qr=qr||document.createElement("div"),qr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=qr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Ti(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ws=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(r){ws.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ys[s]=ys[r]})});function Wa(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ys.hasOwnProperty(r)&&ys[r]?(""+s).trim():s+"px"}function Ka(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=Wa(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var Ga=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qa(r,s){if(s){if(Ga[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ya(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vs=null;function vo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _o=null,Dn=null,gr=null;function Eo(r){if(r=_l(r)){if(typeof _o!="function")throw Error(t(280));var s=r.stateNode;s&&(s=ac(s),_o(r.stateNode,r.type,s))}}function yr(r){Dn?gr?gr.push(r):gr=[r]:Dn=r}function Xa(){if(Dn){var r=Dn,s=gr;if(gr=Dn=null,Eo(r),s)for(r=0;r<s.length;r++)Eo(s[r])}}function _s(r,s){return r(s)}function Ja(){}var Wr=!1;function Za(r,s,a){if(Wr)return r(s,a);Wr=!0;try{return _s(r,s,a)}finally{Wr=!1,(Dn!==null||gr!==null)&&(Ja(),Xa())}}function pt(r,s){var a=r.stateNode;if(a===null)return null;var h=ac(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var To=!1;if(d)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){To=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{To=!1}function Es(r,s,a,h,f,g,_,A,R){var H=Array.prototype.slice.call(arguments,3);try{s.apply(a,H)}catch(Z){this.onError(Z)}}var Ts=!1,Io=null,Gn=!1,el=null,Td={onError:function(r){Ts=!0,Io=r}};function So(r,s,a,h,f,g,_,A,R){Ts=!1,Io=null,Es.apply(Td,arguments)}function Nu(r,s,a,h,f,g,_,A,R){if(So.apply(this,arguments),Ts){if(Ts){var H=Io;Ts=!1,Io=null}else throw Error(t(198));Gn||(Gn=!0,el=H)}}function Qn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Is(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Yn(r){if(Qn(r)!==r)throw Error(t(188))}function Du(r){var s=r.alternate;if(!s){if(s=Qn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Yn(f),r;if(g===h)return Yn(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,h=g;break}if(A===h){_=!0,h=f,a=g;break}A=A.sibling}if(!_){for(A=g.child;A;){if(A===a){_=!0,a=g,h=f;break}if(A===h){_=!0,h=g,a=f;break}A=A.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function tl(r){return r=Du(r),r!==null?Co(r):null}function Co(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Co(r);if(s!==null)return s;r=r.sibling}return null}var Ao=e.unstable_scheduleCallback,nl=e.unstable_cancelCallback,Ou=e.unstable_shouldYield,Id=e.unstable_requestPaint,Xe=e.unstable_now,Lu=e.unstable_getCurrentPriorityLevel,Ss=e.unstable_ImmediatePriority,Ii=e.unstable_UserBlockingPriority,On=e.unstable_NormalPriority,rl=e.unstable_LowPriority,Vu=e.unstable_IdlePriority,Cs=null,En=null;function Mu(r){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Cs,r,void 0,(r.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Uu,il=Math.log,Fu=Math.LN2;function Uu(r){return r>>>=0,r===0?32:31-(il(r)/Fu|0)|0}var ko=64,Ro=4194304;function Si(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function As(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,_=a&268435455;if(_!==0){var A=_&~f;A!==0?h=Si(A):(g&=_,g!==0&&(h=Si(g)))}else _=a&~f,_!==0?h=Si(_):g!==0&&(h=Si(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-en(s),f=1<<a,h|=r[a],s&=~f;return h}function Sd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var _=31-en(g),A=1<<_,R=f[_];R===-1?((A&a)===0||(A&h)!==0)&&(f[_]=Sd(A,s)):R<=s&&(r.expiredLanes|=A),g&=~A}}function Tn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ks(){var r=ko;return ko<<=1,(ko&4194240)===0&&(ko=64),r}function Ci(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Ai(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-en(s),r[s]=a}function Qe(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-en(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function ki(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-en(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var Me=0;function Ri(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ju,bo,Bu,$u,zu,sl=!1,wr=[],Ft=null,Xn=null,Jn=null,bi=new Map,Ln=new Map,vr=[],Cd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hu(r,s){switch(r){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":bi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(s.pointerId)}}function un(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=_l(s),s!==null&&bo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Ad(r,s,a,h,f){switch(s){case"focusin":return Ft=un(Ft,r,s,a,h,f),!0;case"dragenter":return Xn=un(Xn,r,s,a,h,f),!0;case"mouseover":return Jn=un(Jn,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return bi.set(g,un(bi.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Ln.set(g,un(Ln.get(g)||null,r,s,a,h,f)),!0}return!1}function qu(r){var s=Ns(r.target);if(s!==null){var a=Qn(s);if(a!==null){if(s=a.tag,s===13){if(s=Is(a),s!==null){r.blockedOn=s,zu(r.priority,function(){Bu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Po(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);vs=h,a.target.dispatchEvent(h),vs=null}else return s=_l(a),s!==null&&bo(s),r.blockedOn=a,!1;s.shift()}return!0}function Rs(r,s,a){Gr(r)&&a.delete(s)}function Wu(){sl=!1,Ft!==null&&Gr(Ft)&&(Ft=null),Xn!==null&&Gr(Xn)&&(Xn=null),Jn!==null&&Gr(Jn)&&(Jn=null),bi.forEach(Rs),Ln.forEach(Rs)}function Zn(r,s){r.blockedOn===s&&(r.blockedOn=null,sl||(sl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wu)))}function er(r){function s(f){return Zn(f,r)}if(0<wr.length){Zn(wr[0],r);for(var a=1;a<wr.length;a++){var h=wr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Ft!==null&&Zn(Ft,r),Xn!==null&&Zn(Xn,r),Jn!==null&&Zn(Jn,r),bi.forEach(s),Ln.forEach(s),a=0;a<vr.length;a++)h=vr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<vr.length&&(a=vr[0],a.blockedOn===null);)qu(a),a.blockedOn===null&&vr.shift()}var Qr=ue.ReactCurrentBatchConfig,Pi=!0;function it(r,s,a,h){var f=Me,g=Qr.transition;Qr.transition=null;try{Me=1,ol(r,s,a,h)}finally{Me=f,Qr.transition=g}}function kd(r,s,a,h){var f=Me,g=Qr.transition;Qr.transition=null;try{Me=4,ol(r,s,a,h)}finally{Me=f,Qr.transition=g}}function ol(r,s,a,h){if(Pi){var f=Po(r,s,a,h);if(f===null)Fd(r,s,h,bs,a),Hu(r,h);else if(Ad(f,r,s,a,h))h.stopPropagation();else if(Hu(r,h),s&4&&-1<Cd.indexOf(r)){for(;f!==null;){var g=_l(f);if(g!==null&&ju(g),g=Po(r,s,a,h),g===null&&Fd(r,s,h,bs,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else Fd(r,s,h,null,a)}}var bs=null;function Po(r,s,a,h){if(bs=null,r=vo(h),r=Ns(r),r!==null)if(s=Qn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Is(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return bs=r,null}function al(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lu()){case Ss:return 1;case Ii:return 4;case On:case rl:return 16;case Vu:return 536870912;default:return 16}default:return 16}}var In=null,xo=null,cn=null;function ll(){if(cn)return cn;var r,s=xo,a=s.length,h,f="value"in In?In.value:In.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var _=a-r;for(h=1;h<=_&&s[a-h]===f[g-h];h++);return cn=f.slice(r,1<h?1-h:void 0)}function No(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function _r(){return!0}function ul(){return!1}function Ut(r){function s(a,h,f,g,_){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?_r:ul,this.isPropagationStopped=ul,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),s}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=Ut(tr),Er=ae({},tr,{view:0,detail:0}),Rd=Ut(Er),Oo,Yr,xi,Ps=ae({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==xi&&(xi&&r.type==="mousemove"?(Oo=r.screenX-xi.screenX,Yr=r.screenY-xi.screenY):Yr=Oo=0,xi=r),Oo)},movementY:function(r){return"movementY"in r?r.movementY:Yr}}),Lo=Ut(Ps),cl=ae({},Ps,{dataTransfer:0}),Ku=Ut(cl),Vo=ae({},Er,{relatedTarget:0}),Mo=Ut(Vo),Gu=ae({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xr=Ut(Gu),Qu=ae({},tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Yu=Ut(Qu),Xu=ae({},tr,{data:0}),hl=Ut(Xu),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ju[r])?!!s[r]:!1}function Tr(){return Zu}var u=ae({},Er,{key:function(r){if(r.key){var s=Fo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=No(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(r){return r.type==="keypress"?No(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?No(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Ut(u),w=ae({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Ut(w),U=ae({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),q=Ut(U),ie=ae({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Ut(ie),kt=ae({},Ps,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Ut(kt),Nt=[9,13,27,32],_t=d&&"CompositionEvent"in window,Vn=null;d&&"documentMode"in document&&(Vn=document.documentMode);var Sn=d&&"TextEvent"in window&&!Vn,xs=d&&(!_t||Vn&&8<Vn&&11>=Vn),Uo=" ",Eg=!1;function Tg(r,s){switch(r){case"keyup":return Nt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ig(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var jo=!1;function OI(r,s){switch(r){case"compositionend":return Ig(s);case"keypress":return s.which!==32?null:(Eg=!0,Uo);case"textInput":return r=s.data,r===Uo&&Eg?null:r;default:return null}}function LI(r,s){if(jo)return r==="compositionend"||!_t&&Tg(r,s)?(r=ll(),cn=xo=In=null,jo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return xs&&s.locale!=="ko"?null:s.data;default:return null}}var VI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!VI[r.type]:s==="textarea"}function Cg(r,s,a,h){yr(h),s=ic(s,"onChange"),0<s.length&&(a=new Do("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var dl=null,fl=null;function MI(r){zg(r,0)}function ec(r){var s=qo(r);if(po(s))return r}function FI(r,s){if(r==="change")return s}var Ag=!1;if(d){var bd;if(d){var Pd="oninput"in document;if(!Pd){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),Pd=typeof kg.oninput=="function"}bd=Pd}else bd=!1;Ag=bd&&(!document.documentMode||9<document.documentMode)}function Rg(){dl&&(dl.detachEvent("onpropertychange",bg),fl=dl=null)}function bg(r){if(r.propertyName==="value"&&ec(fl)){var s=[];Cg(s,fl,r,vo(r)),Za(MI,s)}}function UI(r,s,a){r==="focusin"?(Rg(),dl=s,fl=a,dl.attachEvent("onpropertychange",bg)):r==="focusout"&&Rg()}function jI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ec(fl)}function BI(r,s){if(r==="click")return ec(s)}function $I(r,s){if(r==="input"||r==="change")return ec(s)}function zI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var nr=typeof Object.is=="function"?Object.is:zI;function pl(r,s){if(nr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!nr(r[f],s[f]))return!1}return!0}function Pg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function xg(r,s){var a=Pg(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pg(a)}}function Ng(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ng(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Dg(){for(var r=window,s=Ei();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Ei(r.document)}return s}function xd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function HI(r){var s=Dg(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Ng(a.ownerDocument.documentElement,a)){if(h!==null&&xd(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=xg(a,g);var _=xg(a,h);f&&_&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var qI=d&&"documentMode"in document&&11>=document.documentMode,Bo=null,Nd=null,ml=null,Dd=!1;function Og(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dd||Bo==null||Bo!==Ei(h)||(h=Bo,"selectionStart"in h&&xd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ml&&pl(ml,h)||(ml=h,h=ic(Nd,"onSelect"),0<h.length&&(s=new Do("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Bo)))}function tc(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var $o={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},Od={},Lg={};d&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function nc(r){if(Od[r])return Od[r];if(!$o[r])return r;var s=$o[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Lg)return Od[r]=s[a];return r}var Vg=nc("animationend"),Mg=nc("animationiteration"),Fg=nc("animationstart"),Ug=nc("transitionend"),jg=new Map,Bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(r,s){jg.set(r,s),l(s,[r])}for(var Ld=0;Ld<Bg.length;Ld++){var Vd=Bg[Ld],WI=Vd.toLowerCase(),KI=Vd[0].toUpperCase()+Vd.slice(1);Ni(WI,"on"+KI)}Ni(Vg,"onAnimationEnd"),Ni(Mg,"onAnimationIteration"),Ni(Fg,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(Ug,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GI=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function $g(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Nu(h,s,void 0,r),r.currentTarget=null}function zg(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var _=h.length-1;0<=_;_--){var A=h[_],R=A.instance,H=A.currentTarget;if(A=A.listener,R!==g&&f.isPropagationStopped())break e;$g(f,A,H),g=R}else for(_=0;_<h.length;_++){if(A=h[_],R=A.instance,H=A.currentTarget,A=A.listener,R!==g&&f.isPropagationStopped())break e;$g(f,A,H),g=R}}}if(Gn)throw r=el,Gn=!1,el=null,r}function tt(r,s){var a=s[Hd];a===void 0&&(a=s[Hd]=new Set);var h=r+"__bubble";a.has(h)||(Hg(s,r,2,!1),a.add(h))}function Md(r,s,a){var h=0;s&&(h|=4),Hg(a,r,h,s)}var rc="_reactListening"+Math.random().toString(36).slice(2);function yl(r){if(!r[rc]){r[rc]=!0,i.forEach(function(a){a!=="selectionchange"&&(GI.has(a)||Md(a,!1,r),Md(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[rc]||(s[rc]=!0,Md("selectionchange",!1,s))}}function Hg(r,s,a,h){switch(al(s)){case 1:var f=it;break;case 4:f=kd;break;default:f=ol}a=f.bind(null,s,a,r),f=void 0,!To||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function Fd(r,s,a,h,f){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var A=h.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(_===4)for(_=h.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===f||R.nodeType===8&&R.parentNode===f))return;_=_.return}for(;A!==null;){if(_=Ns(A),_===null)return;if(R=_.tag,R===5||R===6){h=g=_;continue e}A=A.parentNode}}h=h.return}Za(function(){var H=g,Z=vo(a),ee=[];e:{var J=jg.get(r);if(J!==void 0){var oe=Do,de=r;switch(r){case"keypress":if(No(a)===0)break e;case"keydown":case"keyup":oe=m;break;case"focusin":de="focus",oe=Mo;break;case"focusout":de="blur",oe=Mo;break;case"beforeblur":case"afterblur":oe=Mo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=q;break;case Vg:case Mg:case Fg:oe=Xr;break;case Ug:oe=Ge;break;case"scroll":oe=Rd;break;case"wheel":oe=Ue;break;case"copy":case"cut":case"paste":oe=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=T}var fe=(s&4)!==0,mt=!fe&&r==="scroll",j=fe?J!==null?J+"Capture":null:J;fe=[];for(var x=H,B;x!==null;){B=x;var re=B.stateNode;if(B.tag===5&&re!==null&&(B=re,j!==null&&(re=pt(x,j),re!=null&&fe.push(wl(x,re,B)))),mt)break;x=x.return}0<fe.length&&(J=new oe(J,de,null,a,Z),ee.push({event:J,listeners:fe}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",J&&a!==vs&&(de=a.relatedTarget||a.fromElement)&&(Ns(de)||de[Jr]))break e;if((oe||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,oe?(de=a.relatedTarget||a.toElement,oe=H,de=de?Ns(de):null,de!==null&&(mt=Qn(de),de!==mt||de.tag!==5&&de.tag!==6)&&(de=null)):(oe=null,de=H),oe!==de)){if(fe=Lo,re="onMouseLeave",j="onMouseEnter",x="mouse",(r==="pointerout"||r==="pointerover")&&(fe=T,re="onPointerLeave",j="onPointerEnter",x="pointer"),mt=oe==null?J:qo(oe),B=de==null?J:qo(de),J=new fe(re,x+"leave",oe,a,Z),J.target=mt,J.relatedTarget=B,re=null,Ns(Z)===H&&(fe=new fe(j,x+"enter",de,a,Z),fe.target=B,fe.relatedTarget=mt,re=fe),mt=re,oe&&de)t:{for(fe=oe,j=de,x=0,B=fe;B;B=zo(B))x++;for(B=0,re=j;re;re=zo(re))B++;for(;0<x-B;)fe=zo(fe),x--;for(;0<B-x;)j=zo(j),B--;for(;x--;){if(fe===j||j!==null&&fe===j.alternate)break t;fe=zo(fe),j=zo(j)}fe=null}else fe=null;oe!==null&&qg(ee,J,oe,fe,!1),de!==null&&mt!==null&&qg(ee,mt,de,fe,!0)}}e:{if(J=H?qo(H):window,oe=J.nodeName&&J.nodeName.toLowerCase(),oe==="select"||oe==="input"&&J.type==="file")var pe=FI;else if(Sg(J))if(Ag)pe=$I;else{pe=jI;var we=UI}else(oe=J.nodeName)&&oe.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=BI);if(pe&&(pe=pe(r,H))){Cg(ee,pe,a,Z);break e}we&&we(r,J,H),r==="focusout"&&(we=J._wrapperState)&&we.controlled&&J.type==="number"&&go(J,"number",J.value)}switch(we=H?qo(H):window,r){case"focusin":(Sg(we)||we.contentEditable==="true")&&(Bo=we,Nd=H,ml=null);break;case"focusout":ml=Nd=Bo=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,Og(ee,a,Z);break;case"selectionchange":if(qI)break;case"keydown":case"keyup":Og(ee,a,Z)}var ve;if(_t)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else jo?Tg(r,a)&&(Se="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(xs&&a.locale!=="ko"&&(jo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&jo&&(ve=ll()):(In=Z,xo="value"in In?In.value:In.textContent,jo=!0)),we=ic(H,Se),0<we.length&&(Se=new hl(Se,r,null,a,Z),ee.push({event:Se,listeners:we}),ve?Se.data=ve:(ve=Ig(a),ve!==null&&(Se.data=ve)))),(ve=Sn?OI(r,a):LI(r,a))&&(H=ic(H,"onBeforeInput"),0<H.length&&(Z=new hl("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Z,listeners:H}),Z.data=ve))}zg(ee,s)})}function wl(r,s,a){return{instance:r,listener:s,currentTarget:a}}function ic(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=pt(r,a),g!=null&&h.unshift(wl(r,g,f)),g=pt(r,s),g!=null&&h.push(wl(r,g,f))),r=r.return}return h}function zo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function qg(r,s,a,h,f){for(var g=s._reactName,_=[];a!==null&&a!==h;){var A=a,R=A.alternate,H=A.stateNode;if(R!==null&&R===h)break;A.tag===5&&H!==null&&(A=H,f?(R=pt(a,g),R!=null&&_.unshift(wl(a,R,A))):f||(R=pt(a,g),R!=null&&_.push(wl(a,R,A)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var QI=/\r\n?/g,YI=/\u0000|\uFFFD/g;function Wg(r){return(typeof r=="string"?r:""+r).replace(QI,`
`).replace(YI,"")}function sc(r,s,a){if(s=Wg(s),Wg(r)!==s&&a)throw Error(t(425))}function oc(){}var Ud=null,jd=null;function Bd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $d=typeof setTimeout=="function"?setTimeout:void 0,XI=typeof clearTimeout=="function"?clearTimeout:void 0,Kg=typeof Promise=="function"?Promise:void 0,JI=typeof queueMicrotask=="function"?queueMicrotask:typeof Kg<"u"?function(r){return Kg.resolve(null).then(r).catch(ZI)}:$d;function ZI(r){setTimeout(function(){throw r})}function zd(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),er(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);er(s)}function Di(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Gg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Ho,vl="__reactProps$"+Ho,Jr="__reactContainer$"+Ho,Hd="__reactEvents$"+Ho,e1="__reactListeners$"+Ho,t1="__reactHandles$"+Ho;function Ns(r){var s=r[Ir];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Jr]||a[Ir]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Gg(r);r!==null;){if(a=r[Ir])return a;r=Gg(r)}return s}r=a,a=r.parentNode}return null}function _l(r){return r=r[Ir]||r[Jr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function qo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ac(r){return r[vl]||null}var qd=[],Wo=-1;function Oi(r){return{current:r}}function nt(r){0>Wo||(r.current=qd[Wo],qd[Wo]=null,Wo--)}function Je(r,s){Wo++,qd[Wo]=r.current,r.current=s}var Li={},qt=Oi(Li),hn=Oi(!1),Ds=Li;function Ko(r,s){var a=r.type.contextTypes;if(!a)return Li;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function dn(r){return r=r.childContextTypes,r!=null}function lc(){nt(hn),nt(qt)}function Qg(r,s,a){if(qt.current!==Li)throw Error(t(168));Je(qt,s),Je(hn,a)}function Yg(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,He(r)||"Unknown",f));return ae({},a,h)}function uc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Li,Ds=qt.current,Je(qt,r),Je(hn,hn.current),!0}function Xg(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Yg(r,s,Ds),h.__reactInternalMemoizedMergedChildContext=r,nt(hn),nt(qt),Je(qt,r)):nt(hn),Je(hn,a)}var Zr=null,cc=!1,Wd=!1;function Jg(r){Zr===null?Zr=[r]:Zr.push(r)}function n1(r){cc=!0,Jg(r)}function Vi(){if(!Wd&&Zr!==null){Wd=!0;var r=0,s=Me;try{var a=Zr;for(Me=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Zr=null,cc=!1}catch(f){throw Zr!==null&&(Zr=Zr.slice(r+1)),Ao(Ss,Vi),f}finally{Me=s,Wd=!1}}return null}var Go=[],Qo=0,hc=null,dc=0,Mn=[],Fn=0,Os=null,ei=1,ti="";function Ls(r,s){Go[Qo++]=dc,Go[Qo++]=hc,hc=r,dc=s}function Zg(r,s,a){Mn[Fn++]=ei,Mn[Fn++]=ti,Mn[Fn++]=Os,Os=r;var h=ei;r=ti;var f=32-en(h)-1;h&=~(1<<f),a+=1;var g=32-en(s)+f;if(30<g){var _=f-f%5;g=(h&(1<<_)-1).toString(32),h>>=_,f-=_,ei=1<<32-en(s)+f|a<<f|h,ti=g+r}else ei=1<<g|a<<f|h,ti=r}function Kd(r){r.return!==null&&(Ls(r,1),Zg(r,1,0))}function Gd(r){for(;r===hc;)hc=Go[--Qo],Go[Qo]=null,dc=Go[--Qo],Go[Qo]=null;for(;r===Os;)Os=Mn[--Fn],Mn[Fn]=null,ti=Mn[--Fn],Mn[Fn]=null,ei=Mn[--Fn],Mn[Fn]=null}var Cn=null,An=null,st=!1,rr=null;function ey(r,s){var a=$n(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function ty(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Cn=r,An=Di(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Cn=r,An=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Os!==null?{id:ei,overflow:ti}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=$n(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Cn=r,An=null,!0):!1;default:return!1}}function Qd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Yd(r){if(st){var s=An;if(s){var a=s;if(!ty(r,s)){if(Qd(r))throw Error(t(418));s=Di(a.nextSibling);var h=Cn;s&&ty(r,s)?ey(h,a):(r.flags=r.flags&-4097|2,st=!1,Cn=r)}}else{if(Qd(r))throw Error(t(418));r.flags=r.flags&-4097|2,st=!1,Cn=r}}}function ny(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Cn=r}function fc(r){if(r!==Cn)return!1;if(!st)return ny(r),st=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Bd(r.type,r.memoizedProps)),s&&(s=An)){if(Qd(r))throw ry(),Error(t(418));for(;s;)ey(r,s),s=Di(s.nextSibling)}if(ny(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){An=Di(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}An=null}}else An=Cn?Di(r.stateNode.nextSibling):null;return!0}function ry(){for(var r=An;r;)r=Di(r.nextSibling)}function Yo(){An=Cn=null,st=!1}function Xd(r){rr===null?rr=[r]:rr.push(r)}var r1=ue.ReactCurrentBatchConfig;function El(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var A=f.refs;_===null?delete A[g]:A[g]=_},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function pc(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function iy(r){var s=r._init;return s(r._payload)}function sy(r){function s(j,x){if(r){var B=j.deletions;B===null?(j.deletions=[x],j.flags|=16):B.push(x)}}function a(j,x){if(!r)return null;for(;x!==null;)s(j,x),x=x.sibling;return null}function h(j,x){for(j=new Map;x!==null;)x.key!==null?j.set(x.key,x):j.set(x.index,x),x=x.sibling;return j}function f(j,x){return j=Hi(j,x),j.index=0,j.sibling=null,j}function g(j,x,B){return j.index=B,r?(B=j.alternate,B!==null?(B=B.index,B<x?(j.flags|=2,x):B):(j.flags|=2,x)):(j.flags|=1048576,x)}function _(j){return r&&j.alternate===null&&(j.flags|=2),j}function A(j,x,B,re){return x===null||x.tag!==6?(x=zf(B,j.mode,re),x.return=j,x):(x=f(x,B),x.return=j,x)}function R(j,x,B,re){var pe=B.type;return pe===P?Z(j,x,B.props.children,re,B.key):x!==null&&(x.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===xe&&iy(pe)===x.type)?(re=f(x,B.props),re.ref=El(j,x,B),re.return=j,re):(re=Fc(B.type,B.key,B.props,null,j.mode,re),re.ref=El(j,x,B),re.return=j,re)}function H(j,x,B,re){return x===null||x.tag!==4||x.stateNode.containerInfo!==B.containerInfo||x.stateNode.implementation!==B.implementation?(x=Hf(B,j.mode,re),x.return=j,x):(x=f(x,B.children||[]),x.return=j,x)}function Z(j,x,B,re,pe){return x===null||x.tag!==7?(x=zs(B,j.mode,re,pe),x.return=j,x):(x=f(x,B),x.return=j,x)}function ee(j,x,B){if(typeof x=="string"&&x!==""||typeof x=="number")return x=zf(""+x,j.mode,B),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ce:return B=Fc(x.type,x.key,x.props,null,j.mode,B),B.ref=El(j,null,x),B.return=j,B;case Ie:return x=Hf(x,j.mode,B),x.return=j,x;case xe:var re=x._init;return ee(j,re(x._payload),B)}if(zr(x)||he(x))return x=zs(x,j.mode,B,null),x.return=j,x;pc(j,x)}return null}function J(j,x,B,re){var pe=x!==null?x.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return pe!==null?null:A(j,x,""+B,re);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ce:return B.key===pe?R(j,x,B,re):null;case Ie:return B.key===pe?H(j,x,B,re):null;case xe:return pe=B._init,J(j,x,pe(B._payload),re)}if(zr(B)||he(B))return pe!==null?null:Z(j,x,B,re,null);pc(j,B)}return null}function oe(j,x,B,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number")return j=j.get(B)||null,A(x,j,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case Ce:return j=j.get(re.key===null?B:re.key)||null,R(x,j,re,pe);case Ie:return j=j.get(re.key===null?B:re.key)||null,H(x,j,re,pe);case xe:var we=re._init;return oe(j,x,B,we(re._payload),pe)}if(zr(re)||he(re))return j=j.get(B)||null,Z(x,j,re,pe,null);pc(x,re)}return null}function de(j,x,B,re){for(var pe=null,we=null,ve=x,Se=x=0,Lt=null;ve!==null&&Se<B.length;Se++){ve.index>Se?(Lt=ve,ve=null):Lt=ve.sibling;var $e=J(j,ve,B[Se],re);if($e===null){ve===null&&(ve=Lt);break}r&&ve&&$e.alternate===null&&s(j,ve),x=g($e,x,Se),we===null?pe=$e:we.sibling=$e,we=$e,ve=Lt}if(Se===B.length)return a(j,ve),st&&Ls(j,Se),pe;if(ve===null){for(;Se<B.length;Se++)ve=ee(j,B[Se],re),ve!==null&&(x=g(ve,x,Se),we===null?pe=ve:we.sibling=ve,we=ve);return st&&Ls(j,Se),pe}for(ve=h(j,ve);Se<B.length;Se++)Lt=oe(ve,j,Se,B[Se],re),Lt!==null&&(r&&Lt.alternate!==null&&ve.delete(Lt.key===null?Se:Lt.key),x=g(Lt,x,Se),we===null?pe=Lt:we.sibling=Lt,we=Lt);return r&&ve.forEach(function(qi){return s(j,qi)}),st&&Ls(j,Se),pe}function fe(j,x,B,re){var pe=he(B);if(typeof pe!="function")throw Error(t(150));if(B=pe.call(B),B==null)throw Error(t(151));for(var we=pe=null,ve=x,Se=x=0,Lt=null,$e=B.next();ve!==null&&!$e.done;Se++,$e=B.next()){ve.index>Se?(Lt=ve,ve=null):Lt=ve.sibling;var qi=J(j,ve,$e.value,re);if(qi===null){ve===null&&(ve=Lt);break}r&&ve&&qi.alternate===null&&s(j,ve),x=g(qi,x,Se),we===null?pe=qi:we.sibling=qi,we=qi,ve=Lt}if($e.done)return a(j,ve),st&&Ls(j,Se),pe;if(ve===null){for(;!$e.done;Se++,$e=B.next())$e=ee(j,$e.value,re),$e!==null&&(x=g($e,x,Se),we===null?pe=$e:we.sibling=$e,we=$e);return st&&Ls(j,Se),pe}for(ve=h(j,ve);!$e.done;Se++,$e=B.next())$e=oe(ve,j,Se,$e.value,re),$e!==null&&(r&&$e.alternate!==null&&ve.delete($e.key===null?Se:$e.key),x=g($e,x,Se),we===null?pe=$e:we.sibling=$e,we=$e);return r&&ve.forEach(function(V1){return s(j,V1)}),st&&Ls(j,Se),pe}function mt(j,x,B,re){if(typeof B=="object"&&B!==null&&B.type===P&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Ce:e:{for(var pe=B.key,we=x;we!==null;){if(we.key===pe){if(pe=B.type,pe===P){if(we.tag===7){a(j,we.sibling),x=f(we,B.props.children),x.return=j,j=x;break e}}else if(we.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===xe&&iy(pe)===we.type){a(j,we.sibling),x=f(we,B.props),x.ref=El(j,we,B),x.return=j,j=x;break e}a(j,we);break}else s(j,we);we=we.sibling}B.type===P?(x=zs(B.props.children,j.mode,re,B.key),x.return=j,j=x):(re=Fc(B.type,B.key,B.props,null,j.mode,re),re.ref=El(j,x,B),re.return=j,j=re)}return _(j);case Ie:e:{for(we=B.key;x!==null;){if(x.key===we)if(x.tag===4&&x.stateNode.containerInfo===B.containerInfo&&x.stateNode.implementation===B.implementation){a(j,x.sibling),x=f(x,B.children||[]),x.return=j,j=x;break e}else{a(j,x);break}else s(j,x);x=x.sibling}x=Hf(B,j.mode,re),x.return=j,j=x}return _(j);case xe:return we=B._init,mt(j,x,we(B._payload),re)}if(zr(B))return de(j,x,B,re);if(he(B))return fe(j,x,B,re);pc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,x!==null&&x.tag===6?(a(j,x.sibling),x=f(x,B),x.return=j,j=x):(a(j,x),x=zf(B,j.mode,re),x.return=j,j=x),_(j)):a(j,x)}return mt}var Xo=sy(!0),oy=sy(!1),mc=Oi(null),gc=null,Jo=null,Jd=null;function Zd(){Jd=Jo=gc=null}function ef(r){var s=mc.current;nt(mc),r._currentValue=s}function tf(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function Zo(r,s){gc=r,Jd=Jo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(fn=!0),r.firstContext=null)}function Un(r){var s=r._currentValue;if(Jd!==r)if(r={context:r,memoizedValue:s,next:null},Jo===null){if(gc===null)throw Error(t(308));Jo=r,gc.dependencies={lanes:0,firstContext:r}}else Jo=Jo.next=r;return s}var Vs=null;function nf(r){Vs===null?Vs=[r]:Vs.push(r)}function ay(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,nf(s)):(a.next=f.next,f.next=a),s.interleaved=a,ni(r,h)}function ni(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Mi=!1;function rf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ly(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ri(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Fi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Be&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,ni(r,a)}return f=h.interleaved,f===null?(s.next=s,nf(h)):(s.next=f.next,f.next=s),h.interleaved=s,ni(r,a)}function yc(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,ki(r,a)}}function uy(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function wc(r,s,a,h){var f=r.updateQueue;Mi=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var R=A,H=R.next;R.next=null,_===null?g=H:_.next=H,_=R;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==_&&(A===null?Z.firstBaseUpdate=H:A.next=H,Z.lastBaseUpdate=R))}if(g!==null){var ee=f.baseState;_=0,Z=H=R=null,A=g;do{var J=A.lane,oe=A.eventTime;if((h&J)===J){Z!==null&&(Z=Z.next={eventTime:oe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var de=r,fe=A;switch(J=s,oe=a,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){ee=de.call(oe,ee,J);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,J=typeof de=="function"?de.call(oe,ee,J):de,J==null)break e;ee=ae({},ee,J);break e;case 2:Mi=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[A]:J.push(A))}else oe={eventTime:oe,lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(H=Z=oe,R=ee):Z=Z.next=oe,_|=J;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;J=A,A=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(R=ee),f.baseState=R,f.firstBaseUpdate=H,f.lastBaseUpdate=Z,s=f.shared.interleaved,s!==null){f=s;do _|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Us|=_,r.lanes=_,r.memoizedState=ee}}function cy(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Tl={},Sr=Oi(Tl),Il=Oi(Tl),Sl=Oi(Tl);function Ms(r){if(r===Tl)throw Error(t(174));return r}function sf(r,s){switch(Je(Sl,s),Je(Il,r),Je(Sr,Tl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:At(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=At(s,r)}nt(Sr),Je(Sr,s)}function ea(){nt(Sr),nt(Il),nt(Sl)}function hy(r){Ms(Sl.current);var s=Ms(Sr.current),a=At(s,r.type);s!==a&&(Je(Il,r),Je(Sr,a))}function of(r){Il.current===r&&(nt(Sr),nt(Il))}var lt=Oi(0);function vc(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var af=[];function lf(){for(var r=0;r<af.length;r++)af[r]._workInProgressVersionPrimary=null;af.length=0}var _c=ue.ReactCurrentDispatcher,uf=ue.ReactCurrentBatchConfig,Fs=0,ut=null,Rt=null,Dt=null,Ec=!1,Cl=!1,Al=0,i1=0;function Wt(){throw Error(t(321))}function cf(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!nr(r[a],s[a]))return!1;return!0}function hf(r,s,a,h,f,g){if(Fs=g,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_c.current=r===null||r.memoizedState===null?l1:u1,r=a(h,f),Cl){g=0;do{if(Cl=!1,Al=0,25<=g)throw Error(t(301));g+=1,Dt=Rt=null,s.updateQueue=null,_c.current=c1,r=a(h,f)}while(Cl)}if(_c.current=Sc,s=Rt!==null&&Rt.next!==null,Fs=0,Dt=Rt=ut=null,Ec=!1,s)throw Error(t(300));return r}function df(){var r=Al!==0;return Al=0,r}function Cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ut.memoizedState=Dt=r:Dt=Dt.next=r,Dt}function jn(){if(Rt===null){var r=ut.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var s=Dt===null?ut.memoizedState:Dt.next;if(s!==null)Dt=s,Rt=r;else{if(r===null)throw Error(t(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Dt===null?ut.memoizedState=Dt=r:Dt=Dt.next=r}return Dt}function kl(r,s){return typeof s=="function"?s(r):s}function ff(r){var s=jn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Rt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var A=_=null,R=null,H=g;do{var Z=H.lane;if((Fs&Z)===Z)R!==null&&(R=R.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:r(h,H.action);else{var ee={lane:Z,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};R===null?(A=R=ee,_=h):R=R.next=ee,ut.lanes|=Z,Us|=Z}H=H.next}while(H!==null&&H!==g);R===null?_=h:R.next=A,nr(h,s.memoizedState)||(fn=!0),s.memoizedState=h,s.baseState=_,s.baseQueue=R,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,ut.lanes|=g,Us|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function pf(r){var s=jn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do g=r(g,_.action),_=_.next;while(_!==f);nr(g,s.memoizedState)||(fn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function dy(){}function fy(r,s){var a=ut,h=jn(),f=s(),g=!nr(h.memoizedState,f);if(g&&(h.memoizedState=f,fn=!0),h=h.queue,mf(gy.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||Dt!==null&&Dt.memoizedState.tag&1){if(a.flags|=2048,Rl(9,my.bind(null,a,h,f,s),void 0,null),Ot===null)throw Error(t(349));(Fs&30)!==0||py(a,s,f)}return f}function py(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function my(r,s,a,h){s.value=a,s.getSnapshot=h,yy(s)&&wy(r)}function gy(r,s,a){return a(function(){yy(s)&&wy(r)})}function yy(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!nr(r,a)}catch{return!0}}function wy(r){var s=ni(r,1);s!==null&&ar(s,r,1,-1)}function vy(r){var s=Cr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:r},s.queue=r,r=r.dispatch=a1.bind(null,ut,r),[s.memoizedState,r]}function Rl(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function _y(){return jn().memoizedState}function Tc(r,s,a,h){var f=Cr();ut.flags|=r,f.memoizedState=Rl(1|s,a,void 0,h===void 0?null:h)}function Ic(r,s,a,h){var f=jn();h=h===void 0?null:h;var g=void 0;if(Rt!==null){var _=Rt.memoizedState;if(g=_.destroy,h!==null&&cf(h,_.deps)){f.memoizedState=Rl(s,a,g,h);return}}ut.flags|=r,f.memoizedState=Rl(1|s,a,g,h)}function Ey(r,s){return Tc(8390656,8,r,s)}function mf(r,s){return Ic(2048,8,r,s)}function Ty(r,s){return Ic(4,2,r,s)}function Iy(r,s){return Ic(4,4,r,s)}function Sy(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Cy(r,s,a){return a=a!=null?a.concat([r]):null,Ic(4,4,Sy.bind(null,s,r),a)}function gf(){}function Ay(r,s){var a=jn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&cf(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function ky(r,s){var a=jn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&cf(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Ry(r,s,a){return(Fs&21)===0?(r.baseState&&(r.baseState=!1,fn=!0),r.memoizedState=a):(nr(a,s)||(a=ks(),ut.lanes|=a,Us|=a,r.baseState=!0),s)}function s1(r,s){var a=Me;Me=a!==0&&4>a?a:4,r(!0);var h=uf.transition;uf.transition={};try{r(!1),s()}finally{Me=a,uf.transition=h}}function by(){return jn().memoizedState}function o1(r,s,a){var h=$i(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Py(r))xy(s,a);else if(a=ay(r,s,a,h),a!==null){var f=rn();ar(a,r,h,f),Ny(a,s,h)}}function a1(r,s,a){var h=$i(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Py(r))xy(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,A=g(_,a);if(f.hasEagerState=!0,f.eagerState=A,nr(A,_)){var R=s.interleaved;R===null?(f.next=f,nf(s)):(f.next=R.next,R.next=f),s.interleaved=f;return}}catch{}finally{}a=ay(r,s,f,h),a!==null&&(f=rn(),ar(a,r,h,f),Ny(a,s,h))}}function Py(r){var s=r.alternate;return r===ut||s!==null&&s===ut}function xy(r,s){Cl=Ec=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Ny(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,ki(r,a)}}var Sc={readContext:Un,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},l1={readContext:Un,useCallback:function(r,s){return Cr().memoizedState=[r,s===void 0?null:s],r},useContext:Un,useEffect:Ey,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Tc(4194308,4,Sy.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Tc(4194308,4,r,s)},useInsertionEffect:function(r,s){return Tc(4,2,r,s)},useMemo:function(r,s){var a=Cr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=Cr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=o1.bind(null,ut,r),[h.memoizedState,r]},useRef:function(r){var s=Cr();return r={current:r},s.memoizedState=r},useState:vy,useDebugValue:gf,useDeferredValue:function(r){return Cr().memoizedState=r},useTransition:function(){var r=vy(!1),s=r[0];return r=s1.bind(null,r[1]),Cr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=ut,f=Cr();if(st){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Ot===null)throw Error(t(349));(Fs&30)!==0||py(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Ey(gy.bind(null,h,g,r),[r]),h.flags|=2048,Rl(9,my.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=Cr(),s=Ot.identifierPrefix;if(st){var a=ti,h=ei;a=(h&~(1<<32-en(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Al++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=i1++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},u1={readContext:Un,useCallback:Ay,useContext:Un,useEffect:mf,useImperativeHandle:Cy,useInsertionEffect:Ty,useLayoutEffect:Iy,useMemo:ky,useReducer:ff,useRef:_y,useState:function(){return ff(kl)},useDebugValue:gf,useDeferredValue:function(r){var s=jn();return Ry(s,Rt.memoizedState,r)},useTransition:function(){var r=ff(kl)[0],s=jn().memoizedState;return[r,s]},useMutableSource:dy,useSyncExternalStore:fy,useId:by,unstable_isNewReconciler:!1},c1={readContext:Un,useCallback:Ay,useContext:Un,useEffect:mf,useImperativeHandle:Cy,useInsertionEffect:Ty,useLayoutEffect:Iy,useMemo:ky,useReducer:pf,useRef:_y,useState:function(){return pf(kl)},useDebugValue:gf,useDeferredValue:function(r){var s=jn();return Rt===null?s.memoizedState=r:Ry(s,Rt.memoizedState,r)},useTransition:function(){var r=pf(kl)[0],s=jn().memoizedState;return[r,s]},useMutableSource:dy,useSyncExternalStore:fy,useId:by,unstable_isNewReconciler:!1};function ir(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function yf(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:ae({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Cc={isMounted:function(r){return(r=r._reactInternals)?Qn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=rn(),f=$i(r),g=ri(h,f);g.payload=s,a!=null&&(g.callback=a),s=Fi(r,g,f),s!==null&&(ar(s,r,f,h),yc(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=rn(),f=$i(r),g=ri(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Fi(r,g,f),s!==null&&(ar(s,r,f,h),yc(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=rn(),h=$i(r),f=ri(a,h);f.tag=2,s!=null&&(f.callback=s),s=Fi(r,f,h),s!==null&&(ar(s,r,h,a),yc(s,r,h))}};function Dy(r,s,a,h,f,g,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,_):s.prototype&&s.prototype.isPureReactComponent?!pl(a,h)||!pl(f,g):!0}function Oy(r,s,a){var h=!1,f=Li,g=s.contextType;return typeof g=="object"&&g!==null?g=Un(g):(f=dn(s)?Ds:qt.current,h=s.contextTypes,g=(h=h!=null)?Ko(r,f):Li),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Cc,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Ly(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Cc.enqueueReplaceState(s,s.state,null)}function wf(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},rf(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Un(g):(g=dn(s)?Ds:qt.current,f.context=Ko(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(yf(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Cc.enqueueReplaceState(f,f.state,null),wc(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ta(r,s){try{var a="",h=s;do a+=Ne(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function vf(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function _f(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var h1=typeof WeakMap=="function"?WeakMap:Map;function Vy(r,s,a){a=ri(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Nc||(Nc=!0,Lf=h),_f(r,s)},a}function My(r,s,a){a=ri(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){_f(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){_f(r,s),typeof h!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),a}function Fy(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new h1;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=C1.bind(null,r,s,a),s.then(r,r))}function Uy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function jy(r,s,a,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=ri(-1,1),s.tag=2,Fi(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var d1=ue.ReactCurrentOwner,fn=!1;function nn(r,s,a,h){s.child=r===null?oy(s,null,a,h):Xo(s,r.child,a,h)}function By(r,s,a,h,f){a=a.render;var g=s.ref;return Zo(s,f),h=hf(r,s,a,h,g,f),a=df(),r!==null&&!fn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ii(r,s,f)):(st&&a&&Kd(s),s.flags|=1,nn(r,s,h,f),s.child)}function $y(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!$f(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,zy(r,s,g,h,f)):(r=Fc(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(_,h)&&r.ref===s.ref)return ii(r,s,f)}return s.flags|=1,r=Hi(g,h),r.ref=s.ref,r.return=s,s.child=r}function zy(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(pl(g,h)&&r.ref===s.ref)if(fn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(fn=!0);else return s.lanes=r.lanes,ii(r,s,f)}return Ef(r,s,a,h,f)}function Hy(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ra,kn),kn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Je(ra,kn),kn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Je(ra,kn),kn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,Je(ra,kn),kn|=h;return nn(r,s,f,a),s.child}function qy(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Ef(r,s,a,h,f){var g=dn(a)?Ds:qt.current;return g=Ko(s,g),Zo(s,f),a=hf(r,s,a,h,g,f),h=df(),r!==null&&!fn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ii(r,s,f)):(st&&h&&Kd(s),s.flags|=1,nn(r,s,a,f),s.child)}function Wy(r,s,a,h,f){if(dn(a)){var g=!0;uc(s)}else g=!1;if(Zo(s,f),s.stateNode===null)kc(r,s),Oy(s,a,h),wf(s,a,h,f),h=!0;else if(r===null){var _=s.stateNode,A=s.memoizedProps;_.props=A;var R=_.context,H=a.contextType;typeof H=="object"&&H!==null?H=Un(H):(H=dn(a)?Ds:qt.current,H=Ko(s,H));var Z=a.getDerivedStateFromProps,ee=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function";ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==h||R!==H)&&Ly(s,_,h,H),Mi=!1;var J=s.memoizedState;_.state=J,wc(s,h,_,f),R=s.memoizedState,A!==h||J!==R||hn.current||Mi?(typeof Z=="function"&&(yf(s,a,Z,h),R=s.memoizedState),(A=Mi||Dy(s,a,A,h,J,R,H))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=R),_.props=h,_.state=R,_.context=H,h=A):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,ly(r,s),A=s.memoizedProps,H=s.type===s.elementType?A:ir(s.type,A),_.props=H,ee=s.pendingProps,J=_.context,R=a.contextType,typeof R=="object"&&R!==null?R=Un(R):(R=dn(a)?Ds:qt.current,R=Ko(s,R));var oe=a.getDerivedStateFromProps;(Z=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==ee||J!==R)&&Ly(s,_,h,R),Mi=!1,J=s.memoizedState,_.state=J,wc(s,h,_,f);var de=s.memoizedState;A!==ee||J!==de||hn.current||Mi?(typeof oe=="function"&&(yf(s,a,oe,h),de=s.memoizedState),(H=Mi||Dy(s,a,H,h,J,de,R)||!1)?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,de,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,de,R)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=de),_.props=h,_.state=de,_.context=R,h=H):(typeof _.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),h=!1)}return Tf(r,s,a,h,g,f)}function Tf(r,s,a,h,f,g){qy(r,s);var _=(s.flags&128)!==0;if(!h&&!_)return f&&Xg(s,a,!1),ii(r,s,g);h=s.stateNode,d1.current=s;var A=_&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&_?(s.child=Xo(s,r.child,null,g),s.child=Xo(s,null,A,g)):nn(r,s,A,g),s.memoizedState=h.state,f&&Xg(s,a,!0),s.child}function Ky(r){var s=r.stateNode;s.pendingContext?Qg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Qg(r,s.context,!1),sf(r,s.containerInfo)}function Gy(r,s,a,h,f){return Yo(),Xd(f),s.flags|=256,nn(r,s,a,h),s.child}var If={dehydrated:null,treeContext:null,retryLane:0};function Sf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Qy(r,s,a){var h=s.pendingProps,f=lt.current,g=!1,_=(s.flags&128)!==0,A;if((A=_)||(A=r!==null&&r.memoizedState===null?!1:(f&2)!==0),A?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Je(lt,f&1),r===null)return Yd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=h.children,r=h.fallback,g?(h=s.mode,g=s.child,_={mode:"hidden",children:_},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Uc(_,h,0,null),r=zs(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Sf(a),s.memoizedState=If,r):Cf(s,_));if(f=r.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return f1(r,s,_,h,A,f,a);if(g){g=h.fallback,_=s.mode,f=r.child,A=f.sibling;var R={mode:"hidden",children:h.children};return(_&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=R,s.deletions=null):(h=Hi(f,R),h.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=Hi(A,g):(g=zs(g,_,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,_=r.child.memoizedState,_=_===null?Sf(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=r.childLanes&~a,s.memoizedState=If,h}return g=r.child,r=g.sibling,h=Hi(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Cf(r,s){return s=Uc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ac(r,s,a,h){return h!==null&&Xd(h),Xo(s,r.child,null,a),r=Cf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function f1(r,s,a,h,f,g,_){if(a)return s.flags&256?(s.flags&=-257,h=vf(Error(t(422))),Ac(r,s,_,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Uc({mode:"visible",children:h.children},f,0,null),g=zs(g,f,_,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&Xo(s,r.child,null,_),s.child.memoizedState=Sf(_),s.memoizedState=If,g);if((s.mode&1)===0)return Ac(r,s,_,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var A=h.dgst;return h=A,g=Error(t(419)),h=vf(g,h,void 0),Ac(r,s,_,h)}if(A=(_&r.childLanes)!==0,fn||A){if(h=Ot,h!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|_))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,ni(r,f),ar(h,r,f,-1))}return Bf(),h=vf(Error(t(421))),Ac(r,s,_,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=A1.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,An=Di(f.nextSibling),Cn=s,st=!0,rr=null,r!==null&&(Mn[Fn++]=ei,Mn[Fn++]=ti,Mn[Fn++]=Os,ei=r.id,ti=r.overflow,Os=s),s=Cf(s,h.children),s.flags|=4096,s)}function Yy(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),tf(r.return,s,a)}function Af(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function Xy(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(nn(r,s,h.children,a),h=lt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Yy(r,a,s);else if(r.tag===19)Yy(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Je(lt,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&vc(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Af(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&vc(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Af(s,!0,a,null,g);break;case"together":Af(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function kc(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ii(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Us|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Hi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Hi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function p1(r,s,a){switch(s.tag){case 3:Ky(s),Yo();break;case 5:hy(s);break;case 1:dn(s.type)&&uc(s);break;case 4:sf(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Je(mc,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Je(lt,lt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Qy(r,s,a):(Je(lt,lt.current&1),r=ii(r,s,a),r!==null?r.sibling:null);Je(lt,lt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Xy(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Je(lt,lt.current),h)break;return null;case 22:case 23:return s.lanes=0,Hy(r,s,a)}return ii(r,s,a)}var Jy,kf,Zy,ew;Jy=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},kf=function(){},Zy=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Ms(Sr.current);var g=null;switch(a){case"input":f=gs(r,f),h=gs(r,h),g=[];break;case"select":f=ae({},f,{value:void 0}),h=ae({},h,{value:void 0}),g=[];break;case"textarea":f=za(r,f),h=za(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=oc)}Qa(a,h);var _;a=null;for(H in f)if(!h.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var A=f[H];for(_ in A)A.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in h){var R=h[H];if(A=f?.[H],h.hasOwnProperty(H)&&R!==A&&(R!=null||A!=null))if(H==="style")if(A){for(_ in A)!A.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in R)R.hasOwnProperty(_)&&A[_]!==R[_]&&(a||(a={}),a[_]=R[_])}else a||(g||(g=[]),g.push(H,a)),a=R;else H==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,A=A?A.__html:void 0,R!=null&&A!==R&&(g=g||[]).push(H,R)):H==="children"?typeof R!="string"&&typeof R!="number"||(g=g||[]).push(H,""+R):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(R!=null&&H==="onScroll"&&tt("scroll",r),g||A===R||(g=[])):(g=g||[]).push(H,R))}a&&(g=g||[]).push("style",a);var H=g;(s.updateQueue=H)&&(s.flags|=4)}},ew=function(r,s,a,h){a!==h&&(s.flags|=4)};function bl(r,s){if(!st)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Kt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function m1(r,s,a){var h=s.pendingProps;switch(Gd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(s),null;case 1:return dn(s.type)&&lc(),Kt(s),null;case 3:return h=s.stateNode,ea(),nt(hn),nt(qt),lf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(fc(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rr!==null&&(Ff(rr),rr=null))),kf(r,s),Kt(s),null;case 5:of(s);var f=Ms(Sl.current);if(a=s.type,r!==null&&s.stateNode!=null)Zy(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Kt(s),null}if(r=Ms(Sr.current),fc(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[Ir]=s,h[vl]=g,r=(s.mode&1)!==0,a){case"dialog":tt("cancel",h),tt("close",h);break;case"iframe":case"object":case"embed":tt("load",h);break;case"video":case"audio":for(f=0;f<gl.length;f++)tt(gl[f],h);break;case"source":tt("error",h);break;case"img":case"image":case"link":tt("error",h),tt("load",h);break;case"details":tt("toggle",h);break;case"input":mo(h,g),tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},tt("invalid",h);break;case"textarea":yo(h,g),tt("invalid",h)}Qa(a,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var A=g[_];_==="children"?typeof A=="string"?h.textContent!==A&&(g.suppressHydrationWarning!==!0&&sc(h.textContent,A,r),f=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&sc(h.textContent,A,r),f=["children",""+A]):o.hasOwnProperty(_)&&A!=null&&_==="onScroll"&&tt("scroll",h)}switch(a){case"input":$r(h),xu(h,g,!0);break;case"textarea":$r(h),Ha(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=oc)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ct(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=_.createElement(a,{is:h.is}):(r=_.createElement(a),a==="select"&&(_=r,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):r=_.createElementNS(r,a),r[Ir]=s,r[vl]=h,Jy(r,s,!1,!1),s.stateNode=r;e:{switch(_=Ya(a,h),a){case"dialog":tt("cancel",r),tt("close",r),f=h;break;case"iframe":case"object":case"embed":tt("load",r),f=h;break;case"video":case"audio":for(f=0;f<gl.length;f++)tt(gl[f],r);f=h;break;case"source":tt("error",r),f=h;break;case"img":case"image":case"link":tt("error",r),tt("load",r),f=h;break;case"details":tt("toggle",r),f=h;break;case"input":mo(r,h),f=gs(r,h),tt("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=ae({},h,{value:void 0}),tt("invalid",r);break;case"textarea":yo(r,h),f=za(r,h),tt("invalid",r);break;default:f=h}Qa(a,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var R=A[g];g==="style"?Ka(r,R):g==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&qa(r,R)):g==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&Ti(r,R):typeof R=="number"&&Ti(r,""+R):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?R!=null&&g==="onScroll"&&tt("scroll",r):R!=null&&ne(r,g,R,_))}switch(a){case"input":$r(r),xu(r,h,!1);break;case"textarea":$r(r),Ha(r);break;case"option":h.value!=null&&r.setAttribute("value",""+qe(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Hr(r,!!h.multiple,g,!1):h.defaultValue!=null&&Hr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=oc)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Kt(s),null;case 6:if(r&&s.stateNode!=null)ew(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ms(Sl.current),Ms(Sr.current),fc(s)){if(h=s.stateNode,a=s.memoizedProps,h[Ir]=s,(g=h.nodeValue!==a)&&(r=Cn,r!==null))switch(r.tag){case 3:sc(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&sc(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Ir]=s,s.stateNode=h}return Kt(s),null;case 13:if(nt(lt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(st&&An!==null&&(s.mode&1)!==0&&(s.flags&128)===0)ry(),Yo(),s.flags|=98560,g=!1;else if(g=fc(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Ir]=s}else Yo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Kt(s),g=!1}else rr!==null&&(Ff(rr),rr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(lt.current&1)!==0?bt===0&&(bt=3):Bf())),s.updateQueue!==null&&(s.flags|=4),Kt(s),null);case 4:return ea(),kf(r,s),r===null&&yl(s.stateNode.containerInfo),Kt(s),null;case 10:return ef(s.type._context),Kt(s),null;case 17:return dn(s.type)&&lc(),Kt(s),null;case 19:if(nt(lt),g=s.memoizedState,g===null)return Kt(s),null;if(h=(s.flags&128)!==0,_=g.rendering,_===null)if(h)bl(g,!1);else{if(bt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=vc(r),_!==null){for(s.flags|=128,bl(g,!1),h=_.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,r=_.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Je(lt,lt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Xe()>ia&&(s.flags|=128,h=!0,bl(g,!1),s.lanes=4194304)}else{if(!h)if(r=vc(_),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),bl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!st)return Kt(s),null}else 2*Xe()-g.renderingStartTime>ia&&a!==1073741824&&(s.flags|=128,h=!0,bl(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(a=g.last,a!==null?a.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,a=lt.current,Je(lt,h?a&1|2:a&1),s):(Kt(s),null);case 22:case 23:return jf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(kn&1073741824)!==0&&(Kt(s),s.subtreeFlags&6&&(s.flags|=8192)):Kt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function g1(r,s){switch(Gd(s),s.tag){case 1:return dn(s.type)&&lc(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ea(),nt(hn),nt(qt),lf(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return of(s),null;case 13:if(nt(lt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Yo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return nt(lt),null;case 4:return ea(),null;case 10:return ef(s.type._context),null;case 22:case 23:return jf(),null;case 24:return null;default:return null}}var Rc=!1,Gt=!1,y1=typeof WeakSet=="function"?WeakSet:Set,ce=null;function na(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){ht(r,s,h)}else a.current=null}function Rf(r,s,a){try{a()}catch(h){ht(r,s,h)}}var tw=!1;function w1(r,s){if(Ud=Pi,r=Dg(),xd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var _=0,A=-1,R=-1,H=0,Z=0,ee=r,J=null;t:for(;;){for(var oe;ee!==a||f!==0&&ee.nodeType!==3||(A=_+f),ee!==g||h!==0&&ee.nodeType!==3||(R=_+h),ee.nodeType===3&&(_+=ee.nodeValue.length),(oe=ee.firstChild)!==null;)J=ee,ee=oe;for(;;){if(ee===r)break t;if(J===a&&++H===f&&(A=_),J===g&&++Z===h&&(R=_),(oe=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=oe}a=A===-1||R===-1?null:{start:A,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:r,selectionRange:a},Pi=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,mt=de.memoizedState,j=s.stateNode,x=j.getSnapshotBeforeUpdate(s.elementType===s.type?fe:ir(s.type,fe),mt);j.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ht(s,s.return,re)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return de=tw,tw=!1,de}function Pl(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Rf(s,a,g)}f=f.next}while(f!==h)}}function bc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function bf(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function nw(r){var s=r.alternate;s!==null&&(r.alternate=null,nw(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Ir],delete s[vl],delete s[Hd],delete s[e1],delete s[t1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function rw(r){return r.tag===5||r.tag===3||r.tag===4}function iw(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||rw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Pf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=oc));else if(h!==4&&(r=r.child,r!==null))for(Pf(r,s,a),r=r.sibling;r!==null;)Pf(r,s,a),r=r.sibling}function xf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(xf(r,s,a),r=r.sibling;r!==null;)xf(r,s,a),r=r.sibling}var jt=null,sr=!1;function Ui(r,s,a){for(a=a.child;a!==null;)sw(r,s,a),a=a.sibling}function sw(r,s,a){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Cs,a)}catch{}switch(a.tag){case 5:Gt||na(a,s);case 6:var h=jt,f=sr;jt=null,Ui(r,s,a),jt=h,sr=f,jt!==null&&(sr?(r=jt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):jt.removeChild(a.stateNode));break;case 18:jt!==null&&(sr?(r=jt,a=a.stateNode,r.nodeType===8?zd(r.parentNode,a):r.nodeType===1&&zd(r,a),er(r)):zd(jt,a.stateNode));break;case 4:h=jt,f=sr,jt=a.stateNode.containerInfo,sr=!0,Ui(r,s,a),jt=h,sr=f;break;case 0:case 11:case 14:case 15:if(!Gt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&Rf(a,s,_),f=f.next}while(f!==h)}Ui(r,s,a);break;case 1:if(!Gt&&(na(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(A){ht(a,s,A)}Ui(r,s,a);break;case 21:Ui(r,s,a);break;case 22:a.mode&1?(Gt=(h=Gt)||a.memoizedState!==null,Ui(r,s,a),Gt=h):Ui(r,s,a);break;default:Ui(r,s,a)}}function ow(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new y1),s.forEach(function(h){var f=k1.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function or(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,_=s,A=_;e:for(;A!==null;){switch(A.tag){case 5:jt=A.stateNode,sr=!1;break e;case 3:jt=A.stateNode.containerInfo,sr=!0;break e;case 4:jt=A.stateNode.containerInfo,sr=!0;break e}A=A.return}if(jt===null)throw Error(t(160));sw(g,_,f),jt=null,sr=!1;var R=f.alternate;R!==null&&(R.return=null),f.return=null}catch(H){ht(f,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)aw(s,r),s=s.sibling}function aw(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(or(s,r),Ar(r),h&4){try{Pl(3,r,r.return),bc(3,r)}catch(fe){ht(r,r.return,fe)}try{Pl(5,r,r.return)}catch(fe){ht(r,r.return,fe)}}break;case 1:or(s,r),Ar(r),h&512&&a!==null&&na(a,a.return);break;case 5:if(or(s,r),Ar(r),h&512&&a!==null&&na(a,a.return),r.flags&32){var f=r.stateNode;try{Ti(f,"")}catch(fe){ht(r,r.return,fe)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,_=a!==null?a.memoizedProps:g,A=r.type,R=r.updateQueue;if(r.updateQueue=null,R!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Ba(f,g),Ya(A,_);var H=Ya(A,g);for(_=0;_<R.length;_+=2){var Z=R[_],ee=R[_+1];Z==="style"?Ka(f,ee):Z==="dangerouslySetInnerHTML"?qa(f,ee):Z==="children"?Ti(f,ee):ne(f,Z,ee,H)}switch(A){case"input":$a(f,g);break;case"textarea":wo(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?Hr(f,!!g.multiple,oe,!1):J!==!!g.multiple&&(g.defaultValue!=null?Hr(f,!!g.multiple,g.defaultValue,!0):Hr(f,!!g.multiple,g.multiple?[]:"",!1))}f[vl]=g}catch(fe){ht(r,r.return,fe)}}break;case 6:if(or(s,r),Ar(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(fe){ht(r,r.return,fe)}}break;case 3:if(or(s,r),Ar(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{er(s.containerInfo)}catch(fe){ht(r,r.return,fe)}break;case 4:or(s,r),Ar(r);break;case 13:or(s,r),Ar(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Of=Xe())),h&4&&ow(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(Gt=(H=Gt)||Z,or(s,r),Gt=H):or(s,r),Ar(r),h&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!Z&&(r.mode&1)!==0)for(ce=r,Z=r.child;Z!==null;){for(ee=ce=Z;ce!==null;){switch(J=ce,oe=J.child,J.tag){case 0:case 11:case 14:case 15:Pl(4,J,J.return);break;case 1:na(J,J.return);var de=J.stateNode;if(typeof de.componentWillUnmount=="function"){h=J,a=J.return;try{s=h,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(fe){ht(h,a,fe)}}break;case 5:na(J,J.return);break;case 22:if(J.memoizedState!==null){cw(ee);continue}}oe!==null?(oe.return=J,ce=oe):cw(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{f=ee.stateNode,H?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=ee.stateNode,R=ee.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,A.style.display=Wa("display",_))}catch(fe){ht(r,r.return,fe)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=H?"":ee.memoizedProps}catch(fe){ht(r,r.return,fe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:or(s,r),Ar(r),h&4&&ow(r);break;case 21:break;default:or(s,r),Ar(r)}}function Ar(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(rw(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Ti(f,""),h.flags&=-33);var g=iw(r);xf(r,g,f);break;case 3:case 4:var _=h.stateNode.containerInfo,A=iw(r);Pf(r,A,_);break;default:throw Error(t(161))}}catch(R){ht(r,r.return,R)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function v1(r,s,a){ce=r,lw(r)}function lw(r,s,a){for(var h=(r.mode&1)!==0;ce!==null;){var f=ce,g=f.child;if(f.tag===22&&h){var _=f.memoizedState!==null||Rc;if(!_){var A=f.alternate,R=A!==null&&A.memoizedState!==null||Gt;A=Rc;var H=Gt;if(Rc=_,(Gt=R)&&!H)for(ce=f;ce!==null;)_=ce,R=_.child,_.tag===22&&_.memoizedState!==null?hw(f):R!==null?(R.return=_,ce=R):hw(f);for(;g!==null;)ce=g,lw(g),g=g.sibling;ce=f,Rc=A,Gt=H}uw(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ce=g):uw(r)}}function uw(r){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Gt||bc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Gt)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:ir(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&cy(s,g,h);break;case 3:var _=s.updateQueue;if(_!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}cy(s,_,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var Z=H.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&er(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Gt||s.flags&512&&bf(s)}catch(J){ht(s,s.return,J)}}if(s===r){ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,ce=a;break}ce=s.return}}function cw(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ce=a;break}ce=s.return}}function hw(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{bc(4,s)}catch(R){ht(s,a,R)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(R){ht(s,f,R)}}var g=s.return;try{bf(s)}catch(R){ht(s,g,R)}break;case 5:var _=s.return;try{bf(s)}catch(R){ht(s,_,R)}}}catch(R){ht(s,s.return,R)}if(s===r){ce=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ce=A;break}ce=s.return}}var _1=Math.ceil,Pc=ue.ReactCurrentDispatcher,Nf=ue.ReactCurrentOwner,Bn=ue.ReactCurrentBatchConfig,Be=0,Ot=null,Et=null,Bt=0,kn=0,ra=Oi(0),bt=0,xl=null,Us=0,xc=0,Df=0,Nl=null,pn=null,Of=0,ia=1/0,si=null,Nc=!1,Lf=null,ji=null,Dc=!1,Bi=null,Oc=0,Dl=0,Vf=null,Lc=-1,Vc=0;function rn(){return(Be&6)!==0?Xe():Lc!==-1?Lc:Lc=Xe()}function $i(r){return(r.mode&1)===0?1:(Be&2)!==0&&Bt!==0?Bt&-Bt:r1.transition!==null?(Vc===0&&(Vc=ks()),Vc):(r=Me,r!==0||(r=window.event,r=r===void 0?16:al(r.type)),r)}function ar(r,s,a,h){if(50<Dl)throw Dl=0,Vf=null,Error(t(185));Ai(r,a,h),((Be&2)===0||r!==Ot)&&(r===Ot&&((Be&2)===0&&(xc|=a),bt===4&&zi(r,Bt)),mn(r,h),a===1&&Be===0&&(s.mode&1)===0&&(ia=Xe()+500,cc&&Vi()))}function mn(r,s){var a=r.callbackNode;Kr(r,s);var h=As(r,r===Ot?Bt:0);if(h===0)a!==null&&nl(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&nl(a),s===1)r.tag===0?n1(fw.bind(null,r)):Jg(fw.bind(null,r)),JI(function(){(Be&6)===0&&Vi()}),a=null;else{switch(Ri(h)){case 1:a=Ss;break;case 4:a=Ii;break;case 16:a=On;break;case 536870912:a=Vu;break;default:a=On}a=Ew(a,dw.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function dw(r,s){if(Lc=-1,Vc=0,(Be&6)!==0)throw Error(t(327));var a=r.callbackNode;if(sa()&&r.callbackNode!==a)return null;var h=As(r,r===Ot?Bt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Mc(r,h);else{s=h;var f=Be;Be|=2;var g=mw();(Ot!==r||Bt!==s)&&(si=null,ia=Xe()+500,Bs(r,s));do try{I1();break}catch(A){pw(r,A)}while(!0);Zd(),Pc.current=g,Be=f,Et!==null?s=0:(Ot=null,Bt=0,s=bt)}if(s!==0){if(s===2&&(f=Tn(r),f!==0&&(h=f,s=Mf(r,f))),s===1)throw a=xl,Bs(r,0),zi(r,h),mn(r,Xe()),a;if(s===6)zi(r,h);else{if(f=r.current.alternate,(h&30)===0&&!E1(f)&&(s=Mc(r,h),s===2&&(g=Tn(r),g!==0&&(h=g,s=Mf(r,g))),s===1))throw a=xl,Bs(r,0),zi(r,h),mn(r,Xe()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:$s(r,pn,si);break;case 3:if(zi(r,h),(h&130023424)===h&&(s=Of+500-Xe(),10<s)){if(As(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){rn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=$d($s.bind(null,r,pn,si),s);break}$s(r,pn,si);break;case 4:if(zi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var _=31-en(h);g=1<<_,_=s[_],_>f&&(f=_),h&=~g}if(h=f,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*_1(h/1960))-h,10<h){r.timeoutHandle=$d($s.bind(null,r,pn,si),h);break}$s(r,pn,si);break;case 5:$s(r,pn,si);break;default:throw Error(t(329))}}}return mn(r,Xe()),r.callbackNode===a?dw.bind(null,r):null}function Mf(r,s){var a=Nl;return r.current.memoizedState.isDehydrated&&(Bs(r,s).flags|=256),r=Mc(r,s),r!==2&&(s=pn,pn=a,s!==null&&Ff(s)),r}function Ff(r){pn===null?pn=r:pn.push.apply(pn,r)}function E1(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!nr(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zi(r,s){for(s&=~Df,s&=~xc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-en(s),h=1<<a;r[a]=-1,s&=~h}}function fw(r){if((Be&6)!==0)throw Error(t(327));sa();var s=As(r,0);if((s&1)===0)return mn(r,Xe()),null;var a=Mc(r,s);if(r.tag!==0&&a===2){var h=Tn(r);h!==0&&(s=h,a=Mf(r,h))}if(a===1)throw a=xl,Bs(r,0),zi(r,s),mn(r,Xe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,$s(r,pn,si),mn(r,Xe()),null}function Uf(r,s){var a=Be;Be|=1;try{return r(s)}finally{Be=a,Be===0&&(ia=Xe()+500,cc&&Vi())}}function js(r){Bi!==null&&Bi.tag===0&&(Be&6)===0&&sa();var s=Be;Be|=1;var a=Bn.transition,h=Me;try{if(Bn.transition=null,Me=1,r)return r()}finally{Me=h,Bn.transition=a,Be=s,(Be&6)===0&&Vi()}}function jf(){kn=ra.current,nt(ra)}function Bs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,XI(a)),Et!==null)for(a=Et.return;a!==null;){var h=a;switch(Gd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&lc();break;case 3:ea(),nt(hn),nt(qt),lf();break;case 5:of(h);break;case 4:ea();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:ef(h.type._context);break;case 22:case 23:jf()}a=a.return}if(Ot=r,Et=r=Hi(r.current,null),Bt=kn=s,bt=0,xl=null,Df=xc=Us=0,pn=Nl=null,Vs!==null){for(s=0;s<Vs.length;s++)if(a=Vs[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var _=g.next;g.next=f,h.next=_}a.pending=h}Vs=null}return r}function pw(r,s){do{var a=Et;try{if(Zd(),_c.current=Sc,Ec){for(var h=ut.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Ec=!1}if(Fs=0,Dt=Rt=ut=null,Cl=!1,Al=0,Nf.current=null,a===null||a.return===null){bt=1,xl=s,Et=null;break}e:{var g=r,_=a.return,A=a,R=s;if(s=Bt,A.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=R,Z=A,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var oe=Uy(_);if(oe!==null){oe.flags&=-257,jy(oe,_,A,g,s),oe.mode&1&&Fy(g,H,s),s=oe,R=H;var de=s.updateQueue;if(de===null){var fe=new Set;fe.add(R),s.updateQueue=fe}else de.add(R);break e}else{if((s&1)===0){Fy(g,H,s),Bf();break e}R=Error(t(426))}}else if(st&&A.mode&1){var mt=Uy(_);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),jy(mt,_,A,g,s),Xd(ta(R,A));break e}}g=R=ta(R,A),bt!==4&&(bt=2),Nl===null?Nl=[g]:Nl.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var j=Vy(g,R,s);uy(g,j);break e;case 1:A=R;var x=g.type,B=g.stateNode;if((g.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ji===null||!ji.has(B)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=My(g,A,s);uy(g,re);break e}}g=g.return}while(g!==null)}yw(a)}catch(pe){s=pe,Et===a&&a!==null&&(Et=a=a.return);continue}break}while(!0)}function mw(){var r=Pc.current;return Pc.current=Sc,r===null?Sc:r}function Bf(){(bt===0||bt===3||bt===2)&&(bt=4),Ot===null||(Us&268435455)===0&&(xc&268435455)===0||zi(Ot,Bt)}function Mc(r,s){var a=Be;Be|=2;var h=mw();(Ot!==r||Bt!==s)&&(si=null,Bs(r,s));do try{T1();break}catch(f){pw(r,f)}while(!0);if(Zd(),Be=a,Pc.current=h,Et!==null)throw Error(t(261));return Ot=null,Bt=0,bt}function T1(){for(;Et!==null;)gw(Et)}function I1(){for(;Et!==null&&!Ou();)gw(Et)}function gw(r){var s=_w(r.alternate,r,kn);r.memoizedProps=r.pendingProps,s===null?yw(r):Et=s,Nf.current=null}function yw(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=m1(a,s,kn),a!==null){Et=a;return}}else{if(a=g1(a,s),a!==null){a.flags&=32767,Et=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,Et=null;return}}if(s=s.sibling,s!==null){Et=s;return}Et=s=r}while(s!==null);bt===0&&(bt=5)}function $s(r,s,a){var h=Me,f=Bn.transition;try{Bn.transition=null,Me=1,S1(r,s,a,h)}finally{Bn.transition=f,Me=h}return null}function S1(r,s,a,h){do sa();while(Bi!==null);if((Be&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Qe(r,g),r===Ot&&(Et=Ot=null,Bt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Dc||(Dc=!0,Ew(On,function(){return sa(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Bn.transition,Bn.transition=null;var _=Me;Me=1;var A=Be;Be|=4,Nf.current=null,w1(r,a),aw(a,r),HI(jd),Pi=!!Ud,jd=Ud=null,r.current=a,v1(a),Id(),Be=A,Me=_,Bn.transition=g}else r.current=a;if(Dc&&(Dc=!1,Bi=r,Oc=f),g=r.pendingLanes,g===0&&(ji=null),Mu(a.stateNode),mn(r,Xe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Nc)throw Nc=!1,r=Lf,Lf=null,r;return(Oc&1)!==0&&r.tag!==0&&sa(),g=r.pendingLanes,(g&1)!==0?r===Vf?Dl++:(Dl=0,Vf=r):Dl=0,Vi(),null}function sa(){if(Bi!==null){var r=Ri(Oc),s=Bn.transition,a=Me;try{if(Bn.transition=null,Me=16>r?16:r,Bi===null)var h=!1;else{if(r=Bi,Bi=null,Oc=0,(Be&6)!==0)throw Error(t(331));var f=Be;for(Be|=4,ce=r.current;ce!==null;){var g=ce,_=g.child;if((ce.flags&16)!==0){var A=g.deletions;if(A!==null){for(var R=0;R<A.length;R++){var H=A[R];for(ce=H;ce!==null;){var Z=ce;switch(Z.tag){case 0:case 11:case 15:Pl(8,Z,g)}var ee=Z.child;if(ee!==null)ee.return=Z,ce=ee;else for(;ce!==null;){Z=ce;var J=Z.sibling,oe=Z.return;if(nw(Z),Z===H){ce=null;break}if(J!==null){J.return=oe,ce=J;break}ce=oe}}}var de=g.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var mt=fe.sibling;fe.sibling=null,fe=mt}while(fe!==null)}}ce=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,ce=_;else e:for(;ce!==null;){if(g=ce,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Pl(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,ce=j;break e}ce=g.return}}var x=r.current;for(ce=x;ce!==null;){_=ce;var B=_.child;if((_.subtreeFlags&2064)!==0&&B!==null)B.return=_,ce=B;else e:for(_=x;ce!==null;){if(A=ce,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:bc(9,A)}}catch(pe){ht(A,A.return,pe)}if(A===_){ce=null;break e}var re=A.sibling;if(re!==null){re.return=A.return,ce=re;break e}ce=A.return}}if(Be=f,Vi(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Cs,r)}catch{}h=!0}return h}finally{Me=a,Bn.transition=s}}return!1}function ww(r,s,a){s=ta(a,s),s=Vy(r,s,1),r=Fi(r,s,1),s=rn(),r!==null&&(Ai(r,1,s),mn(r,s))}function ht(r,s,a){if(r.tag===3)ww(r,r,a);else for(;s!==null;){if(s.tag===3){ww(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ji===null||!ji.has(h))){r=ta(a,r),r=My(s,r,1),s=Fi(s,r,1),r=rn(),s!==null&&(Ai(s,1,r),mn(s,r));break}}s=s.return}}function C1(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=rn(),r.pingedLanes|=r.suspendedLanes&a,Ot===r&&(Bt&a)===a&&(bt===4||bt===3&&(Bt&130023424)===Bt&&500>Xe()-Of?Bs(r,0):Df|=a),mn(r,s)}function vw(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ro,Ro<<=1,(Ro&130023424)===0&&(Ro=4194304)));var a=rn();r=ni(r,s),r!==null&&(Ai(r,s,a),mn(r,a))}function A1(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),vw(r,a)}function k1(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),vw(r,a)}var _w;_w=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||hn.current)fn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return fn=!1,p1(r,s,a);fn=(r.flags&131072)!==0}else fn=!1,st&&(s.flags&1048576)!==0&&Zg(s,dc,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;kc(r,s),r=s.pendingProps;var f=Ko(s,qt.current);Zo(s,a),f=hf(null,s,h,r,f,a);var g=df();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,dn(h)?(g=!0,uc(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,rf(s),f.updater=Cc,s.stateNode=f,f._reactInternals=s,wf(s,h,r,a),s=Tf(null,s,h,!0,g,a)):(s.tag=0,st&&g&&Kd(s),nn(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(kc(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=b1(h),r=ir(h,r),f){case 0:s=Ef(null,s,h,r,a);break e;case 1:s=Wy(null,s,h,r,a);break e;case 11:s=By(null,s,h,r,a);break e;case 14:s=$y(null,s,h,ir(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:ir(h,f),Ef(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:ir(h,f),Wy(r,s,h,f,a);case 3:e:{if(Ky(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,ly(r,s),wc(s,h,null,a);var _=s.memoizedState;if(h=_.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=ta(Error(t(423)),s),s=Gy(r,s,h,a,f);break e}else if(h!==f){f=ta(Error(t(424)),s),s=Gy(r,s,h,a,f);break e}else for(An=Di(s.stateNode.containerInfo.firstChild),Cn=s,st=!0,rr=null,a=oy(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Yo(),h===f){s=ii(r,s,a);break e}nn(r,s,h,a)}s=s.child}return s;case 5:return hy(s),r===null&&Yd(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,_=f.children,Bd(h,f)?_=null:g!==null&&Bd(h,g)&&(s.flags|=32),qy(r,s),nn(r,s,_,a),s.child;case 6:return r===null&&Yd(s),null;case 13:return Qy(r,s,a);case 4:return sf(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Xo(s,null,h,a):nn(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:ir(h,f),By(r,s,h,f,a);case 7:return nn(r,s,s.pendingProps,a),s.child;case 8:return nn(r,s,s.pendingProps.children,a),s.child;case 12:return nn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,_=f.value,Je(mc,h._currentValue),h._currentValue=_,g!==null)if(nr(g.value,_)){if(g.children===f.children&&!hn.current){s=ii(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){_=g.child;for(var R=A.firstContext;R!==null;){if(R.context===h){if(g.tag===1){R=ri(-1,a&-a),R.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var Z=H.pending;Z===null?R.next=R:(R.next=Z.next,Z.next=R),H.pending=R}}g.lanes|=a,R=g.alternate,R!==null&&(R.lanes|=a),tf(g.return,a,s),A.lanes|=a;break}R=R.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(t(341));_.lanes|=a,A=_.alternate,A!==null&&(A.lanes|=a),tf(_,a,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}nn(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,Zo(s,a),f=Un(f),h=h(f),s.flags|=1,nn(r,s,h,a),s.child;case 14:return h=s.type,f=ir(h,s.pendingProps),f=ir(h.type,f),$y(r,s,h,f,a);case 15:return zy(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:ir(h,f),kc(r,s),s.tag=1,dn(h)?(r=!0,uc(s)):r=!1,Zo(s,a),Oy(s,h,f),wf(s,h,f,a),Tf(null,s,h,!0,r,a);case 19:return Xy(r,s,a);case 22:return Hy(r,s,a)}throw Error(t(156,s.tag))};function Ew(r,s){return Ao(r,s)}function R1(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(r,s,a,h){return new R1(r,s,a,h)}function $f(r){return r=r.prototype,!(!r||!r.isReactComponent)}function b1(r){if(typeof r=="function")return $f(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===me)return 14}return 2}function Hi(r,s){var a=r.alternate;return a===null?(a=$n(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Fc(r,s,a,h,f,g){var _=2;if(h=r,typeof r=="function")$f(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case P:return zs(a.children,f,g,s);case C:_=8,f|=8;break;case k:return r=$n(12,a,s,f|2),r.elementType=k,r.lanes=g,r;case S:return r=$n(13,a,s,f),r.elementType=S,r.lanes=g,r;case Re:return r=$n(19,a,s,f),r.elementType=Re,r.lanes=g,r;case be:return Uc(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:_=10;break e;case D:_=9;break e;case M:_=11;break e;case me:_=14;break e;case xe:_=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=$n(_,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function zs(r,s,a,h){return r=$n(7,r,h,s),r.lanes=a,r}function Uc(r,s,a,h){return r=$n(22,r,h,s),r.elementType=be,r.lanes=a,r.stateNode={isHidden:!1},r}function zf(r,s,a){return r=$n(6,r,null,s),r.lanes=a,r}function Hf(r,s,a){return s=$n(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function P1(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function qf(r,s,a,h,f,g,_,A,R){return r=new P1(r,s,a,A,R),s===1?(s=1,g===!0&&(s|=8)):s=0,g=$n(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(g),r}function x1(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ie,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Tw(r){if(!r)return Li;r=r._reactInternals;e:{if(Qn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(dn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(dn(a))return Yg(r,a,s)}return s}function Iw(r,s,a,h,f,g,_,A,R){return r=qf(a,h,!0,r,f,g,_,A,R),r.context=Tw(null),a=r.current,h=rn(),f=$i(a),g=ri(h,f),g.callback=s??null,Fi(a,g,f),r.current.lanes=f,Ai(r,f,h),mn(r,h),r}function jc(r,s,a,h){var f=s.current,g=rn(),_=$i(f);return a=Tw(a),s.context===null?s.context=a:s.pendingContext=a,s=ri(g,_),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Fi(f,s,_),r!==null&&(ar(r,f,_,g),yc(r,f,_)),_}function Bc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Sw(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Wf(r,s){Sw(r,s),(r=r.alternate)&&Sw(r,s)}function N1(){return null}var Cw=typeof reportError=="function"?reportError:function(r){console.error(r)};function Kf(r){this._internalRoot=r}$c.prototype.render=Kf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));jc(r,s,null,null)},$c.prototype.unmount=Kf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;js(function(){jc(null,r,null,null)}),s[Jr]=null}};function $c(r){this._internalRoot=r}$c.prototype.unstable_scheduleHydration=function(r){if(r){var s=$u();r={blockedOn:null,target:r,priority:s};for(var a=0;a<vr.length&&s!==0&&s<vr[a].priority;a++);vr.splice(a,0,r),a===0&&qu(r)}};function Gf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function zc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Aw(){}function D1(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var H=Bc(_);g.call(H)}}var _=Iw(s,h,r,0,null,!1,!1,"",Aw);return r._reactRootContainer=_,r[Jr]=_.current,yl(r.nodeType===8?r.parentNode:r),js(),_}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var A=h;h=function(){var H=Bc(R);A.call(H)}}var R=qf(r,0,!1,null,null,!1,!1,"",Aw);return r._reactRootContainer=R,r[Jr]=R.current,yl(r.nodeType===8?r.parentNode:r),js(function(){jc(s,R,a,h)}),R}function Hc(r,s,a,h,f){var g=a._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var A=f;f=function(){var R=Bc(_);A.call(R)}}jc(s,_,r,f)}else _=D1(a,s,r,f,h);return Bc(_)}ju=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Si(s.pendingLanes);a!==0&&(ki(s,a|1),mn(s,Xe()),(Be&6)===0&&(ia=Xe()+500,Vi()))}break;case 13:js(function(){var h=ni(r,1);if(h!==null){var f=rn();ar(h,r,1,f)}}),Wf(r,1)}},bo=function(r){if(r.tag===13){var s=ni(r,134217728);if(s!==null){var a=rn();ar(s,r,134217728,a)}Wf(r,134217728)}},Bu=function(r){if(r.tag===13){var s=$i(r),a=ni(r,s);if(a!==null){var h=rn();ar(a,r,s,h)}Wf(r,s)}},$u=function(){return Me},zu=function(r,s){var a=Me;try{return Me=r,s()}finally{Me=a}},_o=function(r,s,a){switch(s){case"input":if($a(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=ac(h);if(!f)throw Error(t(90));po(h),$a(h,f)}}}break;case"textarea":wo(r,a);break;case"select":s=a.value,s!=null&&Hr(r,!!a.multiple,s,!1)}},_s=Uf,Ja=js;var O1={usingClientEntryPoint:!1,Events:[_l,qo,ac,yr,Xa,Uf]},Ol={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L1={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=tl(r),r===null?null:r.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||N1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Cs=qc.inject(L1),En=qc}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O1,gn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gf(s))throw Error(t(200));return x1(r,s,null,a)},gn.createRoot=function(r,s){if(!Gf(r))throw Error(t(299));var a=!1,h="",f=Cw;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=qf(r,1,!1,null,null,a,!1,h,f),r[Jr]=s.current,yl(r.nodeType===8?r.parentNode:r),new Kf(s)},gn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=tl(s),r=r===null?null:r.stateNode,r},gn.flushSync=function(r){return js(r)},gn.hydrate=function(r,s,a){if(!zc(s))throw Error(t(200));return Hc(null,r,s,!0,a)},gn.hydrateRoot=function(r,s,a){if(!Gf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",_=Cw;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),s=Iw(s,null,r,1,a??null,f,!1,g,_),r[Jr]=s.current,yl(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new $c(s)},gn.render=function(r,s,a){if(!zc(s))throw Error(t(200));return Hc(null,r,s,!1,a)},gn.unmountComponentAtNode=function(r){if(!zc(r))throw Error(t(40));return r._reactRootContainer?(js(function(){Hc(null,null,r,!1,function(){r._reactRootContainer=null,r[Jr]=null})}),!0):!1},gn.unstable_batchedUpdates=Uf,gn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!zc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Hc(r,s,a,!1,h)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var Ow;function z1(){if(Ow)return Xf.exports;Ow=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xf.exports=$1(),Xf.exports}var Lw;function H1(){if(Lw)return Wc;Lw=1;var n=z1();return Wc.createRoot=n.createRoot,Wc.hydrateRoot=n.hydrateRoot,Wc}var q1=H1();const W1=()=>{};var Vw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},K1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},F_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let I=(d&15)<<2|y>>6,N=y&63;p||(N=64,c||(I=64)),i.push(t[v],t[E],t[I],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(M_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):K1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||E==null)throw new G1;const I=l<<2|d>>4;if(i.push(I),y!==64){const N=d<<4&240|y>>2;if(i.push(N),E!==64){const V=y<<6&192|E;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class G1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q1=function(n){const e=M_(n);return F_.encodeByteArray(e,!0)},mh=function(n){return Q1(n).replace(/\./g,"")},U_=function(n){try{return F_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=()=>Y1().__FIREBASE_DEFAULTS__,J1=()=>{if(typeof process>"u"||typeof Vw>"u")return;const n=Vw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Z1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&U_(n[1]);return e&&JSON.parse(e)},Wh=()=>{try{return W1()||X1()||J1()||Z1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},j_=n=>Wh()?.emulatorHosts?.[n],B_=n=>{const e=j_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},$_=()=>Wh()?.config,z_=n=>Wh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[mh(JSON.stringify(t)),mh(JSON.stringify(c)),""].join(".")}const Kl={};function tS(){const n={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?n.emulator.push(e):n.prod.push(e);return n}function nS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Mw=!1;function em(n,e){if(typeof window>"u"||typeof document>"u"||!ds(window.location.host)||Kl[n]===e||Kl[n]||Mw)return;Kl[n]=e;function t(I){return`__firebase__banner__${I}`}const i="__firebase__banner",l=tS().prod.length>0;function c(){const I=document.getElementById(i);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,N){I.setAttribute("width","24"),I.setAttribute("id",N),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Mw=!0,c()},I}function v(I,N){I.setAttribute("id",N),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function E(){const I=nS(i),N=t("text"),V=document.getElementById(N)||document.createElement("span"),$=t("learnmore"),L=document.getElementById($)||document.createElement("a"),Y=t("preprendIcon"),K=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ne=I.element;d(ne),v(L,$);const ue=y();p(K,Y),ne.append(K,V,L,ue),document.body.appendChild(ne)}l?(V.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function iS(){const n=Wh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lS(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uS(){return!iS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cS(){try{return typeof indexedDB=="object"}catch{return!1}}function hS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="FirebaseError";class jr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=dS,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?fS(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new jr(o,d,i)}}function fS(n,e){return n.replace(pS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const pS=/\{\$([^}]+)}/g;function mS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function is(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(Fw(l)&&Fw(c)){if(!is(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Fw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function jl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Bl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gS(n,e){const t=new yS(n,e);return t.subscribe.bind(t)}class yS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");wS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=ep),o.error===void 0&&(o.error=ep),o.complete===void 0&&(o.complete=ep);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(n){return n&&n._delegate?n._delegate:n}class ss{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new eS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ES(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_S(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _S(n){return n===Ws?void 0:n}function ES(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const IS={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},SS=Oe.INFO,CS={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},AS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=CS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tm{constructor(e){this.name=e,this._logLevel=SS,this._logHandler=AS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const kS=(n,e)=>e.some(t=>n instanceof t);let Uw,jw;function RS(){return Uw||(Uw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return jw||(jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q_=new WeakMap,vp=new WeakMap,W_=new WeakMap,tp=new WeakMap,nm=new WeakMap;function PS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(es(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&q_.set(t,n)}).catch(()=>{}),nm.set(e,n),e}function xS(n){if(vp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});vp.set(n,e)}let _p={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||W_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function NS(n){_p=n(_p)}function DS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(np(this),e,...t);return W_.set(i,e.sort?e.sort():[e]),es(i)}:bS().includes(n)?function(...e){return n.apply(np(this),e),es(q_.get(this))}:function(...e){return es(n.apply(np(this),e))}}function OS(n){return typeof n=="function"?DS(n):(n instanceof IDBTransaction&&xS(n),kS(n,RS())?new Proxy(n,_p):n)}function es(n){if(n instanceof IDBRequest)return PS(n);if(tp.has(n))return tp.get(n);const e=OS(n);return e!==n&&(tp.set(n,e),nm.set(e,n)),e}const np=n=>nm.get(n);function LS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=es(c);return i&&c.addEventListener("upgradeneeded",p=>{i(es(c.result),p.oldVersion,p.newVersion,es(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const VS=["get","getKey","getAll","getAllKeys","count"],MS=["put","add","delete","clear"],rp=new Map;function Bw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=MS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||VS.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return rp.set(e,l),l}NS(n=>({...n,get:(e,t,i)=>Bw(e,t)||n.get(e,t,i),has:(e,t)=>!!Bw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(US(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function US(n){return n.getComponent()?.type==="VERSION"}const Ep="@firebase/app",$w="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new tm("@firebase/app"),jS="@firebase/app-compat",BS="@firebase/analytics-compat",$S="@firebase/analytics",zS="@firebase/app-check-compat",HS="@firebase/app-check",qS="@firebase/auth",WS="@firebase/auth-compat",KS="@firebase/database",GS="@firebase/data-connect",QS="@firebase/database-compat",YS="@firebase/functions",XS="@firebase/functions-compat",JS="@firebase/installations",ZS="@firebase/installations-compat",e2="@firebase/messaging",t2="@firebase/messaging-compat",n2="@firebase/performance",r2="@firebase/performance-compat",i2="@firebase/remote-config",s2="@firebase/remote-config-compat",o2="@firebase/storage",a2="@firebase/storage-compat",l2="@firebase/firestore",u2="@firebase/ai",c2="@firebase/firestore-compat",h2="firebase",d2="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",f2={[Ep]:"fire-core",[jS]:"fire-core-compat",[$S]:"fire-analytics",[BS]:"fire-analytics-compat",[HS]:"fire-app-check",[zS]:"fire-app-check-compat",[qS]:"fire-auth",[WS]:"fire-auth-compat",[KS]:"fire-rtdb",[GS]:"fire-data-connect",[QS]:"fire-rtdb-compat",[YS]:"fire-fn",[XS]:"fire-fn-compat",[JS]:"fire-iid",[ZS]:"fire-iid-compat",[e2]:"fire-fcm",[t2]:"fire-fcm-compat",[n2]:"fire-perf",[r2]:"fire-perf-compat",[i2]:"fire-rc",[s2]:"fire-rc-compat",[o2]:"fire-gcs",[a2]:"fire-gcs-compat",[l2]:"fire-fst",[c2]:"fire-fst-compat",[u2]:"fire-vertex","fire-js":"fire-js",[h2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,p2=new Map,Ip=new Map;function zw(n,e){try{n.container.addComponent(e)}catch(t){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Js(n){const e=n.name;if(Ip.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,n);for(const t of gh.values())zw(t,n);for(const t of p2.values())zw(t,n);return!0}function Kh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function on(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new uu("app","Firebase",m2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=d2;function K_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Tp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(t||(t=$_()),!t)throw ts.create("no-options");const l=gh.get(o);if(l){if(is(t,l.options)&&is(i,l.config))return l;throw ts.create("duplicate-app",{appName:o})}const c=new TS(o);for(const p of Ip.values())c.addComponent(p);const d=new g2(t,i,c);return gh.set(o,d),d}function rm(n=Tp){const e=gh.get(n);if(!e&&n===Tp&&$_())return K_();if(!e)throw ts.create("no-app",{appName:n});return e}function Pr(n,e,t){let i=f2[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(c.join(" "));return}Js(new ss(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="firebase-heartbeat-database",w2=1,eu="firebase-heartbeat-store";let ip=null;function G_(){return ip||(ip=LS(y2,w2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(eu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ts.create("idb-open",{originalErrorMessage:n.message})})),ip}async function v2(n){try{const t=(await G_()).transaction(eu),i=await t.objectStore(eu).get(Q_(n));return await t.done,i}catch(e){if(e instanceof jr)fi.warn(e.message);else{const t=ts.create("idb-get",{originalErrorMessage:e?.message});fi.warn(t.message)}}}async function Hw(n,e){try{const i=(await G_()).transaction(eu,"readwrite");await i.objectStore(eu).put(e,Q_(n)),await i.done}catch(t){if(t instanceof jr)fi.warn(t.message);else{const i=ts.create("idb-set",{originalErrorMessage:t?.message});fi.warn(i.message)}}}function Q_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=1024,E2=30;class T2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new S2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>E2){const o=C2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qw(),{heartbeatsToSend:t,unsentEntries:i}=I2(this._heartbeatsCache.heartbeats),o=mh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fi.warn(e),""}}}function qw(){return new Date().toISOString().substring(0,10)}function I2(n,e=_2){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Ww(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ww(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class S2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cS()?hS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await v2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ww(n){return mh(JSON.stringify({version:2,heartbeats:n})).length}function C2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(n){Js(new ss("platform-logger",e=>new FS(e),"PRIVATE")),Js(new ss("heartbeat",e=>new T2(e),"PRIVATE")),Pr(Ep,$w,n),Pr(Ep,$w,"esm2020"),Pr("fire-js","")}A2("");function Y_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k2=Y_,X_=new uu("auth","Firebase",Y_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new tm("@firebase/auth");function R2(n,...e){yh.logLevel<=Oe.WARN&&yh.warn(`Auth (${oo}): ${n}`,...e)}function rh(n,...e){yh.logLevel<=Oe.ERROR&&yh.error(`Auth (${oo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(n,...e){throw sm(n,...e)}function hr(n,...e){return sm(n,...e)}function im(n,e,t){const i={...k2(),[e]:t};return new uu("auth","Firebase",i).create(e,{appName:n.name})}function xr(n){return im(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function b2(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Hn(n,"argument-error"),im(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return X_.create(n,...e)}function Ee(n,e,...t){if(!n)throw sm(e,...t)}function li(n){const e="INTERNAL ASSERTION FAILED: "+n;throw rh(e),new Error(e)}function pi(n,e){n||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(){return typeof self<"u"&&self.location?.href||""}function P2(){return Kw()==="http:"||Kw()==="https:"}function Kw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P2()||oS()||"connection"in navigator)?navigator.onLine:!0}function N2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t){this.shortDelay=e,this.longDelay=t,pi(t>e,"Short delay should be less than long delay!"),this.isMobile=rS()||aS()}get(){return x2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n,e){pi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L2=new hu(3e4,6e4);function vi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function fr(n,e,t,i,o={}){return Z_(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=cu({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:p,...l};return sS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&ds(n.emulatorConfig.host)&&(y.credentials="include"),J_.fetch()(await eE(n,n.config.apiHost,t,d),y)})}async function Z_(n,e,t){n._canInitEmulator=!1;const i={...D2,...e};try{const o=new M2(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Kc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Kc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Kc(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw im(n,v,y);Hn(n,v)}}catch(o){if(o instanceof jr)throw o;Hn(n,"network-request-failed",{message:String(o)})}}async function du(n,e,t,i,o={}){const l=await fr(n,e,t,i,o);return"mfaPendingCredential"in l&&Hn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function eE(n,e,t,i){const o=`${e}${t}?${i}`,l=n,c=l.config.emulator?om(n.config,o):`${n.config.apiScheme}://${o}`;return O2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function V2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(hr(this.auth,"network-request-failed")),L2.get())})}}function Kc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=hr(n,e,i);return o.customData._tokenResponse=t,o}function Gw(n){return n!==void 0&&n.enterprise!==void 0}class F2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return V2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U2(n,e){return fr(n,"GET","/v2/recaptchaConfig",vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(n,e){return fr(n,"POST","/v1/accounts:delete",e)}async function wh(n,e){return fr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B2(n,e=!1){const t=at(n),i=await t.getIdToken(e),o=am(i);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:i,authTime:Gl(sp(o.auth_time)),issuedAtTime:Gl(sp(o.iat)),expirationTime:Gl(sp(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function sp(n){return Number(n)*1e3}function am(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=U_(t);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Qw(n){const e=am(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof jr&&$2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function $2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(n){const e=n.auth,t=await n.getIdToken(),i=await Zs(n,wh(e,{idToken:t}));Ee(i?.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?tE(o.providerUserInfo):[],c=q2(n.providerData,l),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,y=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function H2(n){const e=at(n);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q2(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function tE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(n,e){const t=await Z_(n,{},async()=>{const i=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await eE(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&ds(n.emulatorConfig.host)&&(p.credentials="include"),J_.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function K2(n,e){return fr(n,"POST","/v2/accounts:revokeToken",vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Qw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await W2(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new ha;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ee(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Zs(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return B2(this,e)}reload(){return H2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await vh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await Zs(this,j2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:I,isAnonymous:N,providerData:V,stsTokenManager:$}=t;Ee(E&&$,e,"internal-error");const L=ha.fromJSON(this.name,$);Ee(typeof E=="string",e,"internal-error"),Wi(i,e.name),Wi(o,e.name),Ee(typeof I=="boolean",e,"internal-error"),Ee(typeof N=="boolean",e,"internal-error"),Wi(l,e.name),Wi(c,e.name),Wi(d,e.name),Wi(p,e.name),Wi(y,e.name),Wi(v,e.name);const Y=new ur({uid:E,auth:e,email:o,emailVerified:I,displayName:i,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:y,lastLoginAt:v});return V&&Array.isArray(V)&&(Y.providerData=V.map(K=>({...K}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,t,i=!1){const o=new ha;o.updateFromServerResponse(t);const l=new ur({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await vh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?tE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new ha;d.updateFromIdToken(i);const p=new ur({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;function ui(n){pi(n instanceof Function,"Expected a class definition");let e=Yw.get(n);return e?(pi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Yw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nE.type="NONE";const Xw=nE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(n,e,t){return`firebase:${n}:${e}:${t}`}class da{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,l),this.fullPersistenceKey=ih("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await wh(this.auth,{idToken:e}).catch(()=>{});return t?ur._fromGetAccountInfoResponse(this.auth,t,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new da(ui(Xw),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||ui(Xw);const c=ih(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const v=await y._get(c);if(v){let E;if(typeof v=="string"){const I=await wh(e,{idToken:v}).catch(()=>{});if(!I)break;E=await ur._fromGetAccountInfoResponse(e,I,v)}else E=ur._fromJSON(e,v);y!==l&&(d=E),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new da(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new da(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lE(e))return"Blackberry";if(uE(e))return"Webos";if(iE(e))return"Safari";if((e.includes("chrome/")||sE(e))&&!e.includes("edge/"))return"Chrome";if(aE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function rE(n=Jt()){return/firefox\//i.test(n)}function iE(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sE(n=Jt()){return/crios\//i.test(n)}function oE(n=Jt()){return/iemobile/i.test(n)}function aE(n=Jt()){return/android/i.test(n)}function lE(n=Jt()){return/blackberry/i.test(n)}function uE(n=Jt()){return/webos/i.test(n)}function lm(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function G2(n=Jt()){return lm(n)&&!!window.navigator?.standalone}function Q2(){return lS()&&document.documentMode===10}function cE(n=Jt()){return lm(n)||aE(n)||uE(n)||lE(n)||/windows phone/i.test(n)||oE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(n,e=[]){let t;switch(n){case"Browser":t=Jw(Jt());break;case"Worker":t=`${Jw(Jt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${oo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(n,e={}){return fr(n,"GET","/v2/passwordPolicy",vi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=6;class Z2{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??J2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zw(this),this.idTokenSubscription=new Zw(this),this.beforeStateQueue=new Y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ui(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await da.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wh(this,{idToken:e}),i=await ur._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(on(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(xr(this));const t=e?at(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X2(this),t=new Z2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await K2(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ui(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await da.create(this,[ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&R2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _i(n){return at(n)}class Zw{constructor(e){this.auth=e,this.observer=null,this.addObserver=gS(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tC(n){Gh=n}function dE(n){return Gh.loadJS(n)}function nC(){return Gh.recaptchaEnterpriseScript}function rC(){return Gh.gapiScript}function iC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class sC{constructor(){this.enterprise=new oC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const aC="recaptcha-enterprise",fE="NO_RECAPTCHA";class lC{constructor(e){this.type=aC,this.auth=_i(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{U2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new F2(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;Gw(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(fE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sC().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&Gw(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=nC();p.length!==0&&(p+=d),dE(p).then(()=>{o(d,l,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function ev(n,e,t,i=!1,o=!1){const l=new lC(n);let c;if(o)c=fE;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function _h(n,e,t,i,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ev(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ev(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(n,e){const t=Kh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(is(l,e??{}))return o;Hn(o,"already-initialized")}return t.initialize({options:e})}function cC(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ui);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function hC(n,e,t){const i=_i(n);Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=pE(e),{host:c,port:d}=dC(e),p=d===null?"":`:${d}`,y={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ee(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ee(is(y,i.config.emulator)&&is(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ds(c)?(Zp(`${l}//${c}${p}`),em("Auth",!0)):fC()}function pE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dC(n){const e=pE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:tv(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:tv(c)}}}function tv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function fC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function pC(n,e){return fr(n,"POST","/v1/accounts:update",e)}async function mC(n,e){return fr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(n,e){return du(n,"POST","/v1/accounts:signInWithPassword",vi(n,e))}async function yC(n,e){return fr(n,"POST","/v1/accounts:sendOobCode",vi(n,e))}async function wC(n,e){return yC(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n,e){return du(n,"POST","/v1/accounts:signInWithEmailLink",vi(n,e))}async function _C(n,e){return du(n,"POST","/v1/accounts:signInWithEmailLink",vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends um{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new tu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new tu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,t,"signInWithPassword",gC);case"emailLink":return vC(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,i,"signUpPassword",mC);case"emailLink":return _C(e,{idToken:t,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(n,e){return du(n,"POST","/v1/accounts:signInWithIdp",vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="http://localhost";class eo extends um{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const c=new eo(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return fa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,fa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fa(e,t)}buildRequest(){const e={requestUri:EC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IC(n){const e=jl(Bl(n)).link,t=e?jl(Bl(e)).deep_link_id:null,i=jl(Bl(n)).deep_link_id;return(i?jl(Bl(i)).link:null)||i||t||e||n}class cm{constructor(e){const t=jl(Bl(e)),i=t.apiKey??null,o=t.oobCode??null,l=TC(t.mode??null);Ee(i&&o&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=IC(e);try{return new cm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.providerId=ka.PROVIDER_ID}static credential(e,t){return tu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=cm.parseLink(t);return Ee(i,"argument-error"),tu._fromEmailAndCode(e,i.code,i.tenantId)}}ka.PROVIDER_ID="password";ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends hm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends fu{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eo._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ai.credential(t,i)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends fu{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends fu{constructor(){super("twitter.com")}static credential(e,t){return eo._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Qi.credential(t,i)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(n,e){return du(n,"POST","/v1/accounts:signUp",vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await ur._fromIdTokenResponse(e,i,o),c=nv(i);return new to({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=nv(i);return new to({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function nv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends jr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Eh(e,t,i,o)}}function mE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(n,l,e,i):l})}async function CC(n,e,t=!1){const i=await Zs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return to._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(n,e,t=!1){const{auth:i}=n;if(on(i.app))return Promise.reject(xr(i));const o="reauthenticate";try{const l=await Zs(n,mE(i,o,e,n),t);Ee(l.idToken,i,"internal-error");const c=am(l.idToken);Ee(c,i,"internal-error");const{sub:d}=c;return Ee(n.uid===d,i,"user-mismatch"),to._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Hn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gE(n,e,t=!1){if(on(n.app))return Promise.reject(xr(n));const i="signIn",o=await mE(n,i,e),l=await to._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function kC(n,e){return gE(_i(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yE(n){const e=_i(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RC(n,e,t){const i=_i(n);await _h(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wC)}async function bC(n,e,t){if(on(n.app))return Promise.reject(xr(n));const i=_i(n),c=await _h(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&yE(n),p}),d=await to._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function PC(n,e,t){return on(n.app)?Promise.reject(xr(n)):kC(at(n),ka.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yE(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(n,e){return fr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=at(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Zs(i,xC(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function NC(n,e){const t=at(n);return on(t.auth.app)?Promise.reject(xr(t.auth)):wE(t,e,null)}function DC(n,e){return wE(at(n),null,e)}async function wE(n,e,t){const{auth:i}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(l.email=e),t&&(l.password=t);const c=await Zs(n,pC(i,l));await n._updateTokensIfNecessary(c,!0)}function OC(n,e,t,i){return at(n).onIdTokenChanged(e,t,i)}function LC(n,e,t){return at(n).beforeAuthStateChanged(e,t)}function VC(n,e,t,i){return at(n).onAuthStateChanged(e,t,i)}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1e3,FC=10;class _E extends vE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);Q2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,FC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_E.type="LOCAL";const UC=_E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE extends vE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}EE.type="SESSION";const TE=EE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Qh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,l)),p=await jC(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const y=dm("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(I.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function $C(n){Nr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function zC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HC(){return navigator?.serviceWorker?.controller||null}function qC(){return IE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="firebaseLocalStorageDb",WC=1,Ih="firebaseLocalStorage",CE="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(n,e){return n.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function KC(){const n=indexedDB.deleteDatabase(SE);return new pu(n).toPromise()}function kp(){const n=indexedDB.open(SE,WC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ih,{keyPath:CE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ih)?e(i):(i.close(),await KC(),e(await kp()))})})}async function rv(n,e,t){const i=Yh(n,!0).put({[CE]:e,value:t});return new pu(i).toPromise()}async function GC(n,e){const t=Yh(n,!1).get(e),i=await new pu(t).toPromise();return i===void 0?null:i.value}function iv(n,e){const t=Yh(n,!0).delete(e);return new pu(t).toPromise()}const QC=800,YC=3;class AE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>YC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(qC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zC(),!this.activeServiceWorker)return;this.sender=new BC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kp();return await rv(e,Th,"1"),await iv(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>GC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Yh(o,!1).getAll();return new pu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AE.type="LOCAL";const XC=AE;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(n,e){return e?ui(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends um{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function JC(n){return gE(n.auth,new fm(n),n.bypassAuthState)}function ZC(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),AC(t,new fm(n),n.bypassAuthState)}async function eA(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),CC(t,new fm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JC;case"linkViaPopup":case"linkViaRedirect":return eA;case"reauthViaPopup":case"reauthViaRedirect":return ZC;default:Hn(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=new hu(2e3,1e4);async function nA(n,e,t){if(on(n.app))return Promise.reject(hr(n,"operation-not-supported-in-this-environment"));const i=_i(n);b2(n,e,hm);const o=kE(i,t);return new Ks(i,"signInViaPopup",e,o).executeNotNull()}class Ks extends RE{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tA.get())};e()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="pendingRedirect",sh=new Map;class iA extends RE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const i=await sA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sA(n,e){const t=lA(e),i=aA(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function oA(n,e){sh.set(n._key(),e)}function aA(n){return ui(n._redirectPersistence)}function lA(n){return ih(rA,n.config.apiKey,n.name)}async function uA(n,e,t=!1){if(on(n.app))return Promise.reject(xr(n));const i=_i(n),o=kE(i,e),c=await new iA(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=600*1e3;class hA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!bE(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(hr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cA&&this.cachedEventUids.clear(),this.cachedEventUids.has(sv(e))}saveEventToCache(e){this.cachedEventUids.add(sv(e)),this.lastProcessedEventTime=Date.now()}}function sv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function dA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(n,e={}){return fr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mA=/^https?/;async function gA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fA(n);for(const t of e)try{if(yA(t))return}catch{}Hn(n,"unauthorized-domain")}function yA(n){const e=Sp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!mA.test(t))return!1;if(pA.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=new hu(3e4,6e4);function ov(){const n=Nr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function vA(n){return new Promise((e,t)=>{function i(){ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ov(),t(hr(n,"network-request-failed"))},timeout:wA.get()})}if(Nr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Nr().gapi?.load)i();else{const o=iC("iframefcb");return Nr()[o]=()=>{gapi.load?i():t(hr(n,"network-request-failed"))},dE(`${rC()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw oh=null,e})}let oh=null;function _A(n){return oh=oh||vA(n),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new hu(5e3,15e3),TA="__/auth/iframe",IA="emulator/auth/iframe",SA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AA(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?om(e,IA):`https://${n.config.authDomain}/${TA}`,i={apiKey:e.apiKey,appName:n.name,v:oo},o=CA.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${cu(i).slice(1)}`}async function kA(n){const e=await _A(n),t=Nr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:AA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SA,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=hr(n,"network-request-failed"),d=Nr().setTimeout(()=>{l(c)},EA.get());function p(){Nr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bA=500,PA=600,xA="_blank",NA="http://localhost";class av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DA(n,e,t,i=bA,o=PA){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...RA,width:i.toString(),height:o.toString(),top:l,left:c},y=Jt().toLowerCase();t&&(d=sE(y)?xA:t),rE(y)&&(e=e||NA,p.scrollbars="yes");const v=Object.entries(p).reduce((I,[N,V])=>`${I}${N}=${V},`,"");if(G2(y)&&d!=="_self")return OA(e||"",d),new av(null);const E=window.open(e||"",d,v);Ee(E,n,"popup-blocked");try{E.focus()}catch{}return new av(E)}function OA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="__/auth/handler",VA="emulator/auth/handler",MA=encodeURIComponent("fac");async function lv(n,e,t,i,o,l){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:oo,eventId:o};if(e instanceof hm){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",mS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof fu){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),y=p?`#${MA}=${encodeURIComponent(p)}`:"";return`${FA(n)}?${cu(d).slice(1)}${y}`}function FA({config:n}){return n.emulator?om(n,VA):`https://${n.authDomain}/${LA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class UA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TE,this._completeRedirectFn=uA,this._overrideRedirectResult=oA}async _openPopup(e,t,i,o){pi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await lv(e,t,i,Sp(),o);return DA(e,l,dm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await lv(e,t,i,Sp(),o);return $C(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(pi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await kA(e),i=new hA(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(op,{type:op},o=>{const l=o?.[0]?.[op];l!==void 0&&t(!!l),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cE()||iE()||lm()}}const jA=UA;var uv="@firebase/auth",cv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zA(n){Js(new ss("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hE(n)},y=new eC(i,o,l,p);return cC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Js(new ss("auth-internal",e=>{const t=_i(e.getProvider("auth").getImmediate());return(i=>new BA(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(uv,cv,$A(n)),Pr(uv,cv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=300,qA=z_("authIdTokenMaxAge")||HA;let hv=null;const WA=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>qA)return;const o=t?.token;hv!==o&&(hv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ra(n=rm()){const e=Kh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uC(n,{popupRedirectResolver:jA,persistence:[XC,UC,TE]}),i=z_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=WA(l.toString());LC(t,c,()=>c(t.currentUser)),OC(t,d=>c(d))}}const o=j_("auth");return o&&hC(t,`http://${o}`),t}function KA(){return document.getElementsByTagName("head")?.[0]??document}tC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=hr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",KA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zA("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,PE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function k(){}k.prototype=C.prototype,P.D=C.prototype,P.prototype=new k,P.prototype.constructor=P,P.C=function(b,D,M){for(var S=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)S[Re-2]=arguments[Re];return C.prototype[D].apply(b,S)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,C,k){k||(k=0);var b=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)b[D]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(D=0;16>D;++D)b[D]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=P.g[0],k=P.g[1],D=P.g[2];var M=P.g[3],S=C+(M^k&(D^M))+b[0]+3614090360&4294967295;C=k+(S<<7&4294967295|S>>>25),S=M+(D^C&(k^D))+b[1]+3905402710&4294967295,M=C+(S<<12&4294967295|S>>>20),S=D+(k^M&(C^k))+b[2]+606105819&4294967295,D=M+(S<<17&4294967295|S>>>15),S=k+(C^D&(M^C))+b[3]+3250441966&4294967295,k=D+(S<<22&4294967295|S>>>10),S=C+(M^k&(D^M))+b[4]+4118548399&4294967295,C=k+(S<<7&4294967295|S>>>25),S=M+(D^C&(k^D))+b[5]+1200080426&4294967295,M=C+(S<<12&4294967295|S>>>20),S=D+(k^M&(C^k))+b[6]+2821735955&4294967295,D=M+(S<<17&4294967295|S>>>15),S=k+(C^D&(M^C))+b[7]+4249261313&4294967295,k=D+(S<<22&4294967295|S>>>10),S=C+(M^k&(D^M))+b[8]+1770035416&4294967295,C=k+(S<<7&4294967295|S>>>25),S=M+(D^C&(k^D))+b[9]+2336552879&4294967295,M=C+(S<<12&4294967295|S>>>20),S=D+(k^M&(C^k))+b[10]+4294925233&4294967295,D=M+(S<<17&4294967295|S>>>15),S=k+(C^D&(M^C))+b[11]+2304563134&4294967295,k=D+(S<<22&4294967295|S>>>10),S=C+(M^k&(D^M))+b[12]+1804603682&4294967295,C=k+(S<<7&4294967295|S>>>25),S=M+(D^C&(k^D))+b[13]+4254626195&4294967295,M=C+(S<<12&4294967295|S>>>20),S=D+(k^M&(C^k))+b[14]+2792965006&4294967295,D=M+(S<<17&4294967295|S>>>15),S=k+(C^D&(M^C))+b[15]+1236535329&4294967295,k=D+(S<<22&4294967295|S>>>10),S=C+(D^M&(k^D))+b[1]+4129170786&4294967295,C=k+(S<<5&4294967295|S>>>27),S=M+(k^D&(C^k))+b[6]+3225465664&4294967295,M=C+(S<<9&4294967295|S>>>23),S=D+(C^k&(M^C))+b[11]+643717713&4294967295,D=M+(S<<14&4294967295|S>>>18),S=k+(M^C&(D^M))+b[0]+3921069994&4294967295,k=D+(S<<20&4294967295|S>>>12),S=C+(D^M&(k^D))+b[5]+3593408605&4294967295,C=k+(S<<5&4294967295|S>>>27),S=M+(k^D&(C^k))+b[10]+38016083&4294967295,M=C+(S<<9&4294967295|S>>>23),S=D+(C^k&(M^C))+b[15]+3634488961&4294967295,D=M+(S<<14&4294967295|S>>>18),S=k+(M^C&(D^M))+b[4]+3889429448&4294967295,k=D+(S<<20&4294967295|S>>>12),S=C+(D^M&(k^D))+b[9]+568446438&4294967295,C=k+(S<<5&4294967295|S>>>27),S=M+(k^D&(C^k))+b[14]+3275163606&4294967295,M=C+(S<<9&4294967295|S>>>23),S=D+(C^k&(M^C))+b[3]+4107603335&4294967295,D=M+(S<<14&4294967295|S>>>18),S=k+(M^C&(D^M))+b[8]+1163531501&4294967295,k=D+(S<<20&4294967295|S>>>12),S=C+(D^M&(k^D))+b[13]+2850285829&4294967295,C=k+(S<<5&4294967295|S>>>27),S=M+(k^D&(C^k))+b[2]+4243563512&4294967295,M=C+(S<<9&4294967295|S>>>23),S=D+(C^k&(M^C))+b[7]+1735328473&4294967295,D=M+(S<<14&4294967295|S>>>18),S=k+(M^C&(D^M))+b[12]+2368359562&4294967295,k=D+(S<<20&4294967295|S>>>12),S=C+(k^D^M)+b[5]+4294588738&4294967295,C=k+(S<<4&4294967295|S>>>28),S=M+(C^k^D)+b[8]+2272392833&4294967295,M=C+(S<<11&4294967295|S>>>21),S=D+(M^C^k)+b[11]+1839030562&4294967295,D=M+(S<<16&4294967295|S>>>16),S=k+(D^M^C)+b[14]+4259657740&4294967295,k=D+(S<<23&4294967295|S>>>9),S=C+(k^D^M)+b[1]+2763975236&4294967295,C=k+(S<<4&4294967295|S>>>28),S=M+(C^k^D)+b[4]+1272893353&4294967295,M=C+(S<<11&4294967295|S>>>21),S=D+(M^C^k)+b[7]+4139469664&4294967295,D=M+(S<<16&4294967295|S>>>16),S=k+(D^M^C)+b[10]+3200236656&4294967295,k=D+(S<<23&4294967295|S>>>9),S=C+(k^D^M)+b[13]+681279174&4294967295,C=k+(S<<4&4294967295|S>>>28),S=M+(C^k^D)+b[0]+3936430074&4294967295,M=C+(S<<11&4294967295|S>>>21),S=D+(M^C^k)+b[3]+3572445317&4294967295,D=M+(S<<16&4294967295|S>>>16),S=k+(D^M^C)+b[6]+76029189&4294967295,k=D+(S<<23&4294967295|S>>>9),S=C+(k^D^M)+b[9]+3654602809&4294967295,C=k+(S<<4&4294967295|S>>>28),S=M+(C^k^D)+b[12]+3873151461&4294967295,M=C+(S<<11&4294967295|S>>>21),S=D+(M^C^k)+b[15]+530742520&4294967295,D=M+(S<<16&4294967295|S>>>16),S=k+(D^M^C)+b[2]+3299628645&4294967295,k=D+(S<<23&4294967295|S>>>9),S=C+(D^(k|~M))+b[0]+4096336452&4294967295,C=k+(S<<6&4294967295|S>>>26),S=M+(k^(C|~D))+b[7]+1126891415&4294967295,M=C+(S<<10&4294967295|S>>>22),S=D+(C^(M|~k))+b[14]+2878612391&4294967295,D=M+(S<<15&4294967295|S>>>17),S=k+(M^(D|~C))+b[5]+4237533241&4294967295,k=D+(S<<21&4294967295|S>>>11),S=C+(D^(k|~M))+b[12]+1700485571&4294967295,C=k+(S<<6&4294967295|S>>>26),S=M+(k^(C|~D))+b[3]+2399980690&4294967295,M=C+(S<<10&4294967295|S>>>22),S=D+(C^(M|~k))+b[10]+4293915773&4294967295,D=M+(S<<15&4294967295|S>>>17),S=k+(M^(D|~C))+b[1]+2240044497&4294967295,k=D+(S<<21&4294967295|S>>>11),S=C+(D^(k|~M))+b[8]+1873313359&4294967295,C=k+(S<<6&4294967295|S>>>26),S=M+(k^(C|~D))+b[15]+4264355552&4294967295,M=C+(S<<10&4294967295|S>>>22),S=D+(C^(M|~k))+b[6]+2734768916&4294967295,D=M+(S<<15&4294967295|S>>>17),S=k+(M^(D|~C))+b[13]+1309151649&4294967295,k=D+(S<<21&4294967295|S>>>11),S=C+(D^(k|~M))+b[4]+4149444226&4294967295,C=k+(S<<6&4294967295|S>>>26),S=M+(k^(C|~D))+b[11]+3174756917&4294967295,M=C+(S<<10&4294967295|S>>>22),S=D+(C^(M|~k))+b[2]+718787259&4294967295,D=M+(S<<15&4294967295|S>>>17),S=k+(M^(D|~C))+b[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+M&4294967295}i.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var k=C-this.blockSize,b=this.B,D=this.h,M=0;M<C;){if(D==0)for(;M<=k;)o(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<C;)if(b[D++]=P.charCodeAt(M++),D==this.blockSize){o(this,b),D=0;break}}else for(;M<C;)if(b[D++]=P[M++],D==this.blockSize){o(this,b),D=0;break}}this.h=D,this.o+=C},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var k=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=k&255,k/=256;for(this.u(P),P=Array(16),C=k=0;4>C;++C)for(var b=0;32>b;b+=8)P[k++]=this.g[C]>>>b&255;return P};function l(P,C){var k=d;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=C(P)}function c(P,C){this.h=C;for(var k=[],b=!0,D=P.length-1;0<=D;D--){var M=P[D]|0;b&&M==C||(k[D]=M,b=!1)}this.g=k}var d={};function p(P){return-128<=P&&128>P?l(P,function(C){return new c([C|0],0>C?-1:0)}):new c([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return E;if(0>P)return L(y(-P));for(var C=[],k=1,b=0;P>=k;b++)C[b]=P/k|0,k*=4294967296;return new c(C,0)}function v(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return L(v(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=y(Math.pow(C,8)),b=E,D=0;D<P.length;D+=8){var M=Math.min(8,P.length-D),S=parseInt(P.substring(D,D+M),C);8>M?(M=y(Math.pow(C,M)),b=b.j(M).add(y(S))):(b=b.j(k),b=b.add(y(S)))}return b}var E=p(0),I=p(1),N=p(16777216);n=c.prototype,n.m=function(){if($(this))return-L(this).m();for(var P=0,C=1,k=0;k<this.g.length;k++){var b=this.i(k);P+=(0<=b?b:4294967296+b)*C,C*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(V(this))return"0";if($(this))return"-"+L(this).toString(P);for(var C=y(Math.pow(P,6)),k=this,b="";;){var D=ue(k,C).g;k=Y(k,D.j(C));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(P);if(k=D,V(k))return M+b;for(;6>M.length;)M="0"+M;b=M+b}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function V(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function $(P){return P.h==-1}n.l=function(P){return P=Y(this,P),$(P)?-1:V(P)?0:1};function L(P){for(var C=P.g.length,k=[],b=0;b<C;b++)k[b]=~P.g[b];return new c(k,~P.h).add(I)}n.abs=function(){return $(this)?L(this):this},n.add=function(P){for(var C=Math.max(this.g.length,P.g.length),k=[],b=0,D=0;D<=C;D++){var M=b+(this.i(D)&65535)+(P.i(D)&65535),S=(M>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);b=S>>>16,M&=65535,S&=65535,k[D]=S<<16|M}return new c(k,k[k.length-1]&-2147483648?-1:0)};function Y(P,C){return P.add(L(C))}n.j=function(P){if(V(this)||V(P))return E;if($(this))return $(P)?L(this).j(L(P)):L(L(this).j(P));if($(P))return L(this.j(L(P)));if(0>this.l(N)&&0>P.l(N))return y(this.m()*P.m());for(var C=this.g.length+P.g.length,k=[],b=0;b<2*C;b++)k[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<P.g.length;D++){var M=this.i(b)>>>16,S=this.i(b)&65535,Re=P.i(D)>>>16,me=P.i(D)&65535;k[2*b+2*D]+=S*me,K(k,2*b+2*D),k[2*b+2*D+1]+=M*me,K(k,2*b+2*D+1),k[2*b+2*D+1]+=S*Re,K(k,2*b+2*D+1),k[2*b+2*D+2]+=M*Re,K(k,2*b+2*D+2)}for(b=0;b<C;b++)k[b]=k[2*b+1]<<16|k[2*b];for(b=C;b<2*C;b++)k[b]=0;return new c(k,0)};function K(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function ne(P,C){this.g=P,this.h=C}function ue(P,C){if(V(C))throw Error("division by zero");if(V(P))return new ne(E,E);if($(P))return C=ue(L(P),C),new ne(L(C.g),L(C.h));if($(C))return C=ue(P,L(C)),new ne(L(C.g),C.h);if(30<P.g.length){if($(P)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var k=I,b=C;0>=b.l(P);)k=Ce(k),b=Ce(b);var D=Ie(k,1),M=Ie(b,1);for(b=Ie(b,2),k=Ie(k,2);!V(b);){var S=M.add(b);0>=S.l(P)&&(D=D.add(k),M=S),b=Ie(b,1),k=Ie(k,1)}return C=Y(P,D.j(C)),new ne(D,C)}for(D=E;0<=P.l(C);){for(k=Math.max(1,Math.floor(P.m()/C.m())),b=Math.ceil(Math.log(k)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),M=y(k),S=M.j(C);$(S)||0<S.l(P);)k-=b,M=y(k),S=M.j(C);V(M)&&(M=I),D=D.add(M),P=Y(P,S)}return new ne(D,P)}n.A=function(P){return ue(this,P).h},n.and=function(P){for(var C=Math.max(this.g.length,P.g.length),k=[],b=0;b<C;b++)k[b]=this.i(b)&P.i(b);return new c(k,this.h&P.h)},n.or=function(P){for(var C=Math.max(this.g.length,P.g.length),k=[],b=0;b<C;b++)k[b]=this.i(b)|P.i(b);return new c(k,this.h|P.h)},n.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),k=[],b=0;b<C;b++)k[b]=this.i(b)^P.i(b);return new c(k,this.h^P.h)};function Ce(P){for(var C=P.g.length+1,k=[],b=0;b<C;b++)k[b]=P.i(b)<<1|P.i(b-1)>>>31;return new c(k,P.h)}function Ie(P,C){var k=C>>5;C%=32;for(var b=P.g.length-k,D=[],M=0;M<b;M++)D[M]=0<C?P.i(M+k)>>>C|P.i(M+k+1)<<32-C:P.i(M+k);return new c(D,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,PE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,ns=c}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xE,$l,NE,ah,Rp,DE,OE,LE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,w){return u==Array.prototype||u==Object.prototype||(u[m]=w.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var m=0;m<u.length;++m){var w=u[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var w=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in w))break e;w=w[U]}u=u[u.length-1],T=w[u],m=m(T),m!=T&&m!=null&&e(w,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var w=0,T=!1,U={next:function(){if(!T&&w<u.length){var q=w++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,w){return u.call.apply(u.bind,arguments)}function E(u,m,w){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function I(u,m,w){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,I.apply(null,arguments)}function N(u,m){var w=Array.prototype.slice.call(arguments,1);return function(){var T=w.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function V(u,m){function w(){}w.prototype=m.prototype,u.aa=m.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(T,U,q){for(var ie=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ie[Ge-2]=arguments[Ge];return m.prototype[U].apply(T,ie)}}function $(u){const m=u.length;if(0<m){const w=Array(m);for(let T=0;T<m;T++)w[T]=u[T];return w}return[]}function L(u,m){for(let w=1;w<arguments.length;w++){const T=arguments[w];if(p(T)){const U=u.length||0,q=T.length||0;u.length=U+q;for(let ie=0;ie<q;ie++)u[U+ie]=T[ie]}else u.push(T)}}class Y{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ue(u){return ue[" "](u),u}ue[" "]=function(){};var Ce=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ie(u,m,w){for(const T in u)m.call(w,u[T],T,u)}function P(u,m){for(const w in u)m.call(void 0,u[w],w,u)}function C(u){const m={};for(const w in u)m[w]=u[w];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,m){let w,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(w in T)u[w]=T[w];for(let q=0;q<k.length;q++)w=k[q],Object.prototype.hasOwnProperty.call(T,w)&&(u[w]=T[w])}}function D(u){var m=1;u=u.split(":");const w=[];for(;0<m&&u.length;)w.push(u.shift()),m--;return u.length&&w.push(u.join(":")),w}function M(u){d.setTimeout(()=>{throw u},0)}function S(){var u=he;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,w){const T=me.get();T.set(m,w),this.h?this.h.next=T:this.g=T,this.h=T}}var me=new Y(()=>new xe,u=>u.reset());class xe{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let be,te=!1,he=new Re,ae=()=>{const u=d.Promise.resolve(void 0);be=()=>{u.then(F)}};var F=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(w){M(w)}var m=me;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}te=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Pe=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};d.addEventListener("test",w,m),d.removeEventListener("test",w,m)}catch{}return u})();function Ne(u,m){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ce){e:{try{ue(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else w=="mouseover"?m=u.fromElement:w=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Fe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ne.aa.h.call(this)}}V(Ne,ge);var Fe={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Ye(u,m,w,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=w,this.capture=!!T,this.ha=U,this.key=++qe,this.da=this.fa=!1}function xt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function $r(u){this.src=u,this.g={},this.h=0}$r.prototype.add=function(u,m,w,T,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var ie=Ei(u,m,T,U);return-1<ie?(m=u[ie],w||(m.fa=!1)):(m=new Ye(m,this.src,q,!!T,U),m.fa=w,u.push(m)),m};function po(u,m){var w=m.type;if(w in u.g){var T=u.g[w],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(xt(m),u.g[w].length==0&&(delete u.g[w],u.h--))}}function Ei(u,m,w,T){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!w&&q.ha==T)return U}return-1}var gs="closure_lm_"+(1e6*Math.random()|0),mo={};function Ba(u,m,w,T,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Ba(u,m[q],w,T,U);return null}return w=Ha(w),u&&u[He]?u.K(m,w,y(T)?!!T.capture:!1,U):$a(u,m,w,!1,T,U)}function $a(u,m,w,T,U,q){if(!m)throw Error("Invalid event type");var ie=y(U)?!!U.capture:!!U,Ge=yo(u);if(Ge||(u[gs]=Ge=new $r(u)),w=Ge.add(m,w,T,ie,q),w.proxy)return w;if(T=xu(),w.proxy=T,T.src=u,T.listener=w,u.addEventListener)Pe||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Hr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return w}function xu(){function u(w){return m.call(u.src,u.listener,w)}const m=za;return u}function go(u,m,w,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)go(u,m[q],w,T,U);else T=y(T)?!!T.capture:!!T,w=Ha(w),u&&u[He]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],w=Ei(q,w,T,U),-1<w&&(xt(q[w]),Array.prototype.splice.call(q,w,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=yo(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ei(m,w,T,U)),(w=-1<u?m[u]:null)&&zr(w))}function zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[He])po(m.i,u);else{var w=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(w,T,u.capture):m.detachEvent?m.detachEvent(Hr(w),T):m.addListener&&m.removeListener&&m.removeListener(T),(w=yo(m))?(po(w,u),w.h==0&&(w.src=null,m[gs]=null)):xt(u)}}}function Hr(u){return u in mo?mo[u]:mo[u]="on"+u}function za(u,m){if(u.da)u=!0;else{m=new Ne(m,this);var w=u.listener,T=u.ha||u.src;u.fa&&zr(u),u=w.call(T,m)}return u}function yo(u){return u=u[gs],u instanceof $r?u:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ha(u){return typeof u=="function"?u:(u[wo]||(u[wo]=function(m){return u.handleEvent(m)}),u[wo])}function Ct(){X.call(this),this.i=new $r(this),this.M=this,this.F=null}V(Ct,X),Ct.prototype[He]=!0,Ct.prototype.removeEventListener=function(u,m,w,T){go(this,u,m,w,T)};function At(u,m){var w,T=u.F;if(T)for(w=[];T;T=T.F)w.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new ge(m,u);else if(m instanceof ge)m.target=m.target||u;else{var U=m;m=new ge(T,u),b(m,U)}if(U=!0,w)for(var q=w.length-1;0<=q;q--){var ie=m.g=w[q];U=qr(ie,T,!0,m)&&U}if(ie=m.g=u,U=qr(ie,T,!0,m)&&U,U=qr(ie,T,!1,m)&&U,w)for(q=0;q<w.length;q++)ie=m.g=w[q],U=qr(ie,T,!1,m)&&U}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var w=u.g[m],T=0;T<w.length;T++)xt(w[T]);delete u.g[m],u.h--}}this.F=null},Ct.prototype.K=function(u,m,w,T){return this.i.add(String(u),m,!1,w,T)},Ct.prototype.L=function(u,m,w,T){return this.i.add(String(u),m,!0,w,T)};function qr(u,m,w,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var ie=m[q];if(ie&&!ie.da&&ie.capture==w){var Ge=ie.listener,kt=ie.ha||ie.src;ie.fa&&po(u.i,ie),U=Ge.call(kt,T)!==!1&&U}}return U&&!T.defaultPrevented}function qa(u,m,w){if(typeof u=="function")w&&(u=I(u,w));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Ti(u){u.g=qa(()=>{u.g=null,u.i&&(u.i=!1,Ti(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ys extends X{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ti(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(u){X.call(this),this.h=u,this.g={}}V(ws,X);var Wa=[];function Ka(u){Ie(u.g,function(m,w){this.g.hasOwnProperty(w)&&zr(m)},u),u.g={}}ws.prototype.N=function(){ws.aa.N.call(this),Ka(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ga=d.JSON.stringify,Qa=d.JSON.parse,Ya=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function vs(){}vs.prototype.h=null;function vo(u){return u.h||(u.h=u.i())}function _o(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){ge.call(this,"d")}V(gr,ge);function Eo(){ge.call(this,"c")}V(Eo,ge);var yr={},Xa=null;function _s(){return Xa=Xa||new Ct}yr.La="serverreachability";function Ja(u){ge.call(this,yr.La,u)}V(Ja,ge);function Wr(u){const m=_s();At(m,new Ja(m))}yr.STAT_EVENT="statevent";function Za(u,m){ge.call(this,yr.STAT_EVENT,u),this.stat=m}V(Za,ge);function pt(u){const m=_s();At(m,new Za(m,u))}yr.Ma="timingevent";function To(u,m){ge.call(this,yr.Ma,u),this.size=m}V(To,ge);function Kn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Es(){this.g=!0}Es.prototype.xa=function(){this.g=!1};function Ts(u,m,w,T,U,q){u.info(function(){if(u.g)if(q)for(var ie="",Ge=q.split("&"),kt=0;kt<Ge.length;kt++){var Ue=Ge[kt].split("=");if(1<Ue.length){var Nt=Ue[0];Ue=Ue[1];var _t=Nt.split("_");ie=2<=_t.length&&_t[1]=="type"?ie+(Nt+"="+Ue+"&"):ie+(Nt+"=redacted&")}}else ie=null;else ie=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+w+`
`+ie})}function Io(u,m,w,T,U,q,ie){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+w+`
`+q+" "+ie})}function Gn(u,m,w,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Td(u,w)+(T?" "+T:"")})}function el(u,m){u.info(function(){return"TIMEOUT: "+m})}Es.prototype.info=function(){};function Td(u,m){if(!u.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var T=w[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Ga(w)}catch{return m}}var So={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Is(){}V(Is,vs),Is.prototype.g=function(){return new XMLHttpRequest},Is.prototype.i=function(){return{}},Qn=new Is;function Yn(u,m,w,T){this.j=u,this.i=m,this.l=w,this.R=T||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Du}function Du(){this.i=null,this.g="",this.h=!1}var tl={},Co={};function Ao(u,m,w){u.L=1,u.v=ki(Tn(m)),u.m=w,u.P=!0,nl(u,null)}function nl(u,m){u.F=Date.now(),Xe(u),u.A=Tn(u.v);var w=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),bi(w.i,"t",T),u.C=0,w=u.j.J,u.h=new Du,u.g=Xu(u.j,w?m:null,!u.m),0<u.O&&(u.M=new ys(I(u.Y,u,u.g),u.O)),m=u.U,w=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Wa[0]=U.toString()),U=Wa);for(var q=0;q<U.length;q++){var ie=Ba(w,U[q],T||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Wr(),Ts(u.i,u.u,u.A,u.l,u.R,u.m)}Yn.prototype.ca=function(u){u=u.target;const m=this.M;m&&cn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)e:{const _t=cn(this.g);var m=this.g.Ba();const Vn=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||ll(this.g)))){this.J||_t!=4||m==7||(m==8||0>=Vn?Wr(3):Wr(2)),Ss(this);var w=this.g.Z();this.X=w;t:if(Ou(this)){var T=ll(this.g);u="";var U=T.length,q=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){On(this),Ii(this);var ie="";break t}this.h.i=new d.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=w==200,Io(this.i,this.u,this.A,this.l,this.R,_t,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,kt=this.g;if((Ge=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ge)){var Ue=Ge;break t}}Ue=null}if(w=Ue)Gn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rl(this,w);else{this.o=!1,this.s=3,pt(12),On(this),Ii(this);break e}}if(this.P){w=!0;let Sn;for(;!this.J&&this.C<ie.length;)if(Sn=Id(this,ie),Sn==Co){_t==4&&(this.s=4,pt(14),w=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==tl){this.s=4,pt(15),Gn(this.i,this.l,ie,"[Invalid Chunk]"),w=!1;break}else Gn(this.i,this.l,Sn,null),rl(this,Sn);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||ie.length!=0||this.h.h||(this.s=1,pt(16),w=!1),this.o=this.o&&w,!w)Gn(this.i,this.l,ie,"[Invalid Chunked Response]"),On(this),Ii(this);else if(0<ie.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),cl(Nt),Nt.M=!0,pt(11))}}else Gn(this.i,this.l,ie,null),rl(this,ie);_t==4&&On(this),this.o&&!this.J&&(_t==4?Mo(this.j,this):(this.o=!1,Xe(this)))}else No(this.g),w==400&&0<ie.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),On(this),Ii(this)}}}catch{}finally{}};function Ou(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Id(u,m){var w=u.C,T=m.indexOf(`
`,w);return T==-1?Co:(w=Number(m.substring(w,T)),isNaN(w)?tl:(T+=1,T+w>m.length?Co:(m=m.slice(T,T+w),u.C=T+w,m)))}Yn.prototype.cancel=function(){this.J=!0,On(this)};function Xe(u){u.S=Date.now()+u.I,Lu(u,u.I)}function Lu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Kn(I(u.ba,u),m)}function Ss(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Yn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(el(this.i,this.A),this.L!=2&&(Wr(),pt(17)),On(this),this.s=2,Ii(this)):Lu(this,this.S-u)};function Ii(u){u.j.G==0||u.J||Mo(u.j,u)}function On(u){Ss(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ka(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function rl(u,m){try{var w=u.j;if(w.G!=0&&(w.g==u||en(w.h,u))){if(!u.K&&en(w.h,u)&&w.G==3){try{var T=w.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)Vo(w),tr(w);else break e;Lo(w),pt(18)}}else w.za=U[1],0<w.za-w.T&&37500>U[2]&&w.F&&w.v==0&&!w.C&&(w.C=Kn(I(w.Za,w),6e3));if(1>=Mu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Xr(w,11)}else if((u.K||w.g==u)&&Vo(w),!K(m))for(U=w.Da.g.parse(m),m=0;m<U.length;m++){let Ue=U[m];if(w.T=Ue[0],Ue=Ue[1],w.G==2)if(Ue[0]=="c"){w.K=Ue[1],w.ia=Ue[2];const Nt=Ue[3];Nt!=null&&(w.la=Nt,w.j.info("VER="+w.la));const _t=Ue[4];_t!=null&&(w.Aa=_t,w.j.info("SVER="+w.Aa));const Vn=Ue[5];Vn!=null&&typeof Vn=="number"&&0<Vn&&(T=1.5*Vn,w.L=T,w.j.info("backChannelRequestTimeoutMs_="+T)),T=w;const Sn=u.g;if(Sn){const xs=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var q=T.h;q.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(il(q,q.h),q.h=null))}if(T.D){const Uo=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(T.ya=Uo,Qe(T.I,T.D,Uo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),T=w;var ie=u;if(T.qa=Yu(T,T.J?T.ia:null,T.W),ie.K){Fu(T.h,ie);var Ge=ie,kt=T.L;kt&&(Ge.I=kt),Ge.B&&(Ss(Ge),Xe(Ge)),T.g=ie}else Ps(T);0<w.i.length&&Er(w)}else Ue[0]!="stop"&&Ue[0]!="close"||Xr(w,7);else w.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Xr(w,7):Ut(w):Ue[0]!="noop"&&w.l&&w.l.ta(Ue),w.v=0)}}Wr(4)}catch{}}var Vu=class{constructor(u,m){this.g=u,this.map=m}};function Cs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function En(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Mu(u){return u.h?1:u.g?u.g.size:0}function en(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function il(u,m){u.g?u.g.add(m):u.h=m}function Fu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Cs.prototype.cancel=function(){if(this.i=Uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Uu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const w of u.g.values())m=m.concat(w.D);return m}return $(u.i)}function ko(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],w=u.length,T=0;T<w;T++)m.push(u[T]);return m}m=[],w=0;for(T in u)m[w++]=u[T];return m}function Ro(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var w=0;w<u;w++)m.push(w);return m}m=[],w=0;for(const T in u)m[w++]=T;return m}}}function Si(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var w=Ro(u),T=ko(u),U=T.length,q=0;q<U;q++)m.call(void 0,T[q],w&&w[q],u)}var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sd(u,m){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var T=u[w].indexOf("="),U=null;if(0<=T){var q=u[w].substring(0,T);U=u[w].substring(T+1)}else q=u[w];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Kr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Kr){this.h=u.h,ks(this,u.j),this.o=u.o,this.g=u.g,Ci(this,u.s),this.l=u.l;var m=u.i,w=new wr;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),Ai(this,w),this.m=u.m}else u&&(m=String(u).match(As))?(this.h=!1,ks(this,m[1]||"",!0),this.o=Me(m[2]||""),this.g=Me(m[3]||"",!0),Ci(this,m[4]),this.l=Me(m[5]||"",!0),Ai(this,m[6]||"",!0),this.m=Me(m[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}Kr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ri(m,bo,!0),":");var w=this.g;return(w||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ri(m,bo,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(Ri(w,w.charAt(0)=="/"?$u:Bu,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",Ri(w,sl)),u.join("")};function Tn(u){return new Kr(u)}function ks(u,m,w){u.j=w?Me(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ci(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ai(u,m,w){m instanceof wr?(u.i=m,vr(u.i,u.h)):(w||(m=Ri(m,zu)),u.i=new wr(m,u.h))}function Qe(u,m,w){u.i.set(m,w)}function ki(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Me(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ri(u,m,w){return typeof u=="string"?(u=encodeURI(u).replace(m,ju),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ju(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var bo=/[#\/\?@]/g,Bu=/[#\?:]/g,$u=/[#\?]/g,zu=/[#\?@]/g,sl=/#/g;function wr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ft(u){u.g||(u.g=new Map,u.h=0,u.i&&Sd(u.i,function(m,w){u.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}n=wr.prototype,n.add=function(u,m){Ft(this),this.i=null,u=Ln(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(m),this.h+=1,this};function Xn(u,m){Ft(u),m=Ln(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Jn(u,m){return Ft(u),m=Ln(u,m),u.g.has(m)}n.forEach=function(u,m){Ft(this),this.g.forEach(function(w,T){w.forEach(function(U){u.call(m,U,T,this)},this)},this)},n.na=function(){Ft(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let T=0;T<m.length;T++){const U=u[T];for(let q=0;q<U.length;q++)w.push(m[T])}return w},n.V=function(u){Ft(this);let m=[];if(typeof u=="string")Jn(this,u)&&(m=m.concat(this.g.get(Ln(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)m=m.concat(u[w])}return m},n.set=function(u,m){return Ft(this),this.i=null,u=Ln(this,u),Jn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function bi(u,m,w){Xn(u,m),0<w.length&&(u.i=null,u.g.set(Ln(u,m),$(w)),u.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var T=m[w];const q=encodeURIComponent(String(T)),ie=this.V(T);for(T=0;T<ie.length;T++){var U=q;ie[T]!==""&&(U+="="+encodeURIComponent(String(ie[T]))),u.push(U)}}return this.i=u.join("&")};function Ln(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function vr(u,m){m&&!u.j&&(Ft(u),u.i=null,u.g.forEach(function(w,T){var U=T.toLowerCase();T!=U&&(Xn(this,T),bi(this,U,w))},u)),u.j=m}function Cd(u,m){const w=new Es;if(d.Image){const T=new Image;T.onload=N(un,w,"TestLoadImage: loaded",!0,m,T),T.onerror=N(un,w,"TestLoadImage: error",!1,m,T),T.onabort=N(un,w,"TestLoadImage: abort",!1,m,T),T.ontimeout=N(un,w,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Hu(u,m){const w=new Es,T=new AbortController,U=setTimeout(()=>{T.abort(),un(w,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?un(w,"TestPingServer: ok",!0,m):un(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),un(w,"TestPingServer: error",!1,m)})}function un(u,m,w,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(w)}catch{}}function Ad(){this.g=new Ya}function qu(u,m,w){const T=w||"";try{Si(u,function(U,q){let ie=U;y(U)&&(ie=Ga(U)),m.push(T+q+"="+encodeURIComponent(ie))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Gr(u){this.l=u.Ub||null,this.j=u.eb||!1}V(Gr,vs),Gr.prototype.g=function(){return new Rs(this.l,this.j)},Gr.prototype.i=(function(u){return function(){return u}})({});function Rs(u,m){Ct.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Rs,Ct),n=Rs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,er(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Zn(this):er(this),this.readyState==3&&Wu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Zn(this))},n.Qa=function(u){this.g&&(this.response=u,Zn(this))},n.ga=function(){this.g&&Zn(this)};function Zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,er(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=m.next();return u.join(`\r
`)};function er(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qr(u){let m="";return Ie(u,function(w,T){m+=T,m+=":",m+=w,m+=`\r
`}),m}function Pi(u,m,w){e:{for(T in w){var T=!1;break e}T=!0}T||(w=Qr(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):Qe(u,m,w))}function it(u){Ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(it,Ct);var kd=/^https?$/i,ol=["POST","PUT"];n=it.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,w,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?vo(this.o):vo(Qn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){bs(this,q);return}if(u=w||"",w=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)w.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())w.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(w.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ol,m,void 0))||T||U||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of w)this.g.setRequestHeader(q,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xo(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){bs(this,q)}};function bs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Po(u),In(u)}function Po(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),In(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),In(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?al(this):this.bb())},n.bb=function(){al(this)};function al(u){if(u.h&&typeof c<"u"&&(!u.v[1]||cn(u)!=4||u.Z()!=2)){if(u.u&&cn(u)==4)qa(u.Ea,0,u);else if(At(u,"readystatechange"),cn(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var T;if(T=ie===0){var U=String(u.D).match(As)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),T=!kd.test(U?U.toLowerCase():"")}w=T}if(w)At(u,"complete"),At(u,"success");else{u.m=6;try{var q=2<cn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Po(u)}}finally{In(u)}}}}function In(u,m){if(u.g){xo(u);const w=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||At(u,"ready");try{w.onreadystatechange=T}catch{}}}function xo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function cn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Qa(m)}};function ll(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function No(u){const m={};u=(u.g&&2<=cn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(K(u[T]))continue;var w=D(u[T]);const U=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const q=m[U]||[];m[U]=q,q.push(w)}P(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _r(u,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||m}function ul(u){this.Aa=0,this.i=[],this.j=new Es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_r("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_r("baseRetryDelayMs",5e3,u),this.cb=_r("retryDelaySeedMs",1e4,u),this.Wa=_r("forwardChannelMaxRetries",2,u),this.wa=_r("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Cs(u&&u.concurrentRequestLimit),this.Da=new Ad,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ul.prototype,n.la=8,n.G=1,n.connect=function(u,m,w,T){pt(0),this.W=u,this.H=m||{},w&&T!==void 0&&(this.H.OSID=w,this.H.OAID=T),this.F=this.X,this.I=Yu(this,null,this.W),Er(this)};function Ut(u){if(Do(u),u.G==3){var m=u.U++,w=Tn(u.I);if(Qe(w,"SID",u.K),Qe(w,"RID",m),Qe(w,"TYPE","terminate"),Yr(u,w),m=new Yn(u,u.j,m),m.L=2,m.v=ki(Tn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=m.v,w=!0),w||(m.g=Xu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xe(m)}Qu(u)}function tr(u){u.g&&(cl(u),u.g.cancel(),u.g=null)}function Do(u){tr(u),u.u&&(d.clearTimeout(u.u),u.u=null),Vo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Er(u){if(!En(u.h)&&!u.s){u.s=!0;var m=u.Ga;be||ae(),te||(be(),te=!0),he.add(m,u),u.B=0}}function Rd(u,m){return Mu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Kn(I(u.Ga,u,m),Gu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Yn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=C(q),b(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var T=this.i[w];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=xi(this,U,m),w=Tn(this.I),Qe(w,"RID",u),Qe(w,"CVER",22),this.D&&Qe(w,"X-HTTP-Session-Id",this.D),Yr(this,w),q&&(this.O?m="headers="+encodeURIComponent(String(Qr(q)))+"&"+m:this.m&&Pi(w,this.m,q)),il(this.h,U),this.Ua&&Qe(w,"TYPE","init"),this.P?(Qe(w,"$req",m),Qe(w,"SID","null"),U.T=!0,Ao(U,w,null)):Ao(U,w,m),this.G=2}}else this.G==3&&(u?Oo(this,u):this.i.length==0||En(this.h)||Oo(this))};function Oo(u,m){var w;m?w=m.l:w=u.U++;const T=Tn(u.I);Qe(T,"SID",u.K),Qe(T,"RID",w),Qe(T,"AID",u.T),Yr(u,T),u.m&&u.o&&Pi(T,u.m,u.o),w=new Yn(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),m&&(u.i=m.D.concat(u.i)),m=xi(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),il(u.h,w),Ao(w,T,m)}function Yr(u,m){u.H&&Ie(u.H,function(w,T){Qe(m,T,w)}),u.l&&Si({},function(w,T){Qe(m,T,w)})}function xi(u,m,w){w=Math.min(u.i.length,w);var T=u.l?I(u.l.Na,u.l,u):null;e:{var U=u.i;let q=-1;for(;;){const ie=["count="+w];q==-1?0<w?(q=U[0].g,ie.push("ofs="+q)):q=0:ie.push("ofs="+q);let Ge=!0;for(let kt=0;kt<w;kt++){let Ue=U[kt].g;const Nt=U[kt].map;if(Ue-=q,0>Ue)q=Math.max(0,U[kt].g-100),Ge=!1;else try{qu(Nt,ie,"req"+Ue+"_")}catch{T&&T(Nt)}}if(Ge){T=ie.join("&");break e}}}return u=u.i.splice(0,w),m.D=u,T}function Ps(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;be||ae(),te||(be(),te=!0),he.add(m,u),u.v=0}}function Lo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Kn(I(u.Fa,u),Gu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Kn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),tr(this),Ku(this))};function cl(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Ku(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Tn(u.qa);Qe(m,"RID","rpc"),Qe(m,"SID",u.K),Qe(m,"AID",u.T),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(m,"TO",u.ja),Qe(m,"TYPE","xmlhttp"),Yr(u,m),u.m&&u.o&&Pi(m,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=ki(Tn(m)),w.m=null,w.P=!0,nl(w,u)}n.Za=function(){this.C!=null&&(this.C=null,tr(this),Lo(this),pt(19))};function Vo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Mo(u,m){var w=null;if(u.g==m){Vo(u),cl(u),u.g=null;var T=2}else if(en(u.h,m))w=m.D,Fu(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=_s(),At(T,new To(T,w)),Er(u)}else Ps(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Rd(u,m)||T==2&&Lo(u)))switch(w&&0<w.length&&(m=u.h,m.i=m.i.concat(w)),U){case 1:Xr(u,5);break;case 4:Xr(u,10);break;case 3:Xr(u,6);break;default:Xr(u,2)}}}function Gu(u,m){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*m}function Xr(u,m){if(u.j.info("Error code "+m),m==2){var w=I(u.fb,u),T=u.Xa;const U=!T;T=new Kr(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ks(T,"https"),ki(T),U?Cd(T.toString(),w):Hu(T.toString(),w)}else pt(2);u.G=0,u.l&&u.l.sa(m),Qu(u),Do(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Qu(u){if(u.G=0,u.ka=[],u.l){const m=Uu(u.h);(m.length!=0||u.i.length!=0)&&(L(u.ka,m),L(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Yu(u,m,w){var T=w instanceof Kr?Tn(w):new Kr(w);if(T.g!="")m&&(T.g=m+"."+T.g),Ci(T,T.s);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new Kr(null);T&&ks(q,T),m&&(q.g=m),U&&Ci(q,U),w&&(q.l=w),T=q}return w=u.D,m=u.ya,w&&m&&Qe(T,w,m),Qe(T,"VER",u.la),Yr(u,T),T}function Xu(u,m,w){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new it(new Gr({eb:w})):new it(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hl(){}n=hl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fo(){}Fo.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){Ct.call(this),this.g=new ul(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!K(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Tr(this)}V(tn,Ct),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ut(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=Ga(u),u=w);m.i.push(new Vu(m.Ya++,u)),m.G==3&&Er(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,tn.aa.N.call(this)};function Ju(u){gr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const w in m){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}V(Ju,gr);function Zu(){Eo.call(this),this.status=1}V(Zu,Eo);function Tr(u){this.g=u}V(Tr,hl),Tr.prototype.ua=function(){At(this.g,"a")},Tr.prototype.ta=function(u){At(this.g,new Ju(u))},Tr.prototype.sa=function(u){At(this.g,new Zu)},Tr.prototype.ra=function(){At(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,LE=function(){return new Fo},OE=function(){return _s()},DE=yr,Rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},So.NO_ERROR=0,So.TIMEOUT=8,So.HTTP_ERROR=6,ah=So,Nu.COMPLETE="complete",NE=Nu,_o.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,$l=_o,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,xE=it}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const fv="@firebase/firestore",pv="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new tm("@firebase/firestore");function oa(){return no.logLevel}function le(n,...e){if(no.logLevel<=Oe.DEBUG){const t=e.map(pm);no.debug(`Firestore (${ba}): ${n}`,...t)}}function mi(n,...e){if(no.logLevel<=Oe.ERROR){const t=e.map(pm);no.error(`Firestore (${ba}): ${n}`,...t)}}function wa(n,...e){if(no.logLevel<=Oe.WARN){const t=e.map(pm);no.warn(`Firestore (${ba}): ${n}`,...t)}}function pm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,VE(n,i,t)}function VE(n,e,t){let i=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw mi(i),new Error(i)}function Ke(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||VE(e,o,i)}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yt.UNAUTHENTICATED)))}shutdown(){}}class QA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class YA{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ci,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ci)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new ME(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class XA{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JA{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new XA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=ek(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function bp(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return ap(o)===ap(l)?Le(o,l):ap(o)?1:-1}return Le(n.length,e.length)}const tk=55296,nk=57343;function ap(n){const e=n.charCodeAt(0);return e>=tk&&e<=nk}function va(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="__name__";class kr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Te(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=kr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Le(e.length,t.length)}static compareSegments(e,t){const i=kr.isNumericId(e),o=kr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?kr.extractNumericId(e).compare(kr.extractNumericId(t)):bp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class Ze extends kr{construct(e,t,i){return new Ze(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new se(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const rk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends kr{construct(e,t,i){return new zt(e,t,i)}static isValidIdentifier(e){return rk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gv}static keyField(){return new zt([gv])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new se(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new se(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ze.fromString(e))}static fromName(e){return new ye(Ze.fromString(e).popFirst(5))}static empty(){return new ye(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n,e,t){if(!t)throw new se(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ik(n,e,t,i){if(e===!0&&i===!0)throw new se(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yv(n){if(!ye.isDocumentKey(n))throw new se(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wv(n){if(ye.isDocumentKey(n))throw new se(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function UE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Xh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function gi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new se(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xh(n);throw new se(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,e){const t={typeString:n};return e&&(t.value=e),t}function mu(n,e){if(!UE(n))throw new se(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new se(G.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=-62135596800,_v=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*_v);return new rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vv)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:St("string",rt._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new rt(0,0))}static max(){return new Ae(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function sk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(i===1e9?new rt(t+1,0):new rt(t,i));return new os(o,ye.empty(),e)}function ok(n){return new os(n.readTime,n.key,nu)}class os{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new os(Ae.min(),ye.empty(),nu)}static max(){return new os(Ae.max(),ye.empty(),nu)}}function ak(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==lk)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,i)=>{t(e)}))}static reject(e){return new Q(((t,i)=>{i(e)}))}static waitFor(e){return new Q(((t,i)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&t()}),(p=>i(p)))})),c=!0,l===o&&t()}))}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next((o=>o?Q.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new Q(((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next((v=>{c[y]=v,++d,d===l&&i(c)}),(v=>o(v)))}}))}static doWhile(e,t){return new Q(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function ck(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=-1;function Zh(n){return n==null}function Sh(n){return n===0&&1/n==-1/0}function hk(n){return typeof n=="number"&&Number.isInteger(n)&&!Sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="";function dk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ev(e)),e=fk(n.get(t),e);return Ev(e)}function fk(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case jE:t+="";break;default:t+=l}}return t}function Ev(n){return n+jE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??$t.RED,this.left=o??$t.EMPTY,this.right=l??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new $t(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(e){return new Iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class Iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Pt(zt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return va(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $E("Invalid base64 string: "+l):l}})(e);return new Ht(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const pk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=pk.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ls(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="server_timestamp",HE="__type__",qE="__previous_value__",WE="__local_write_time__";function ym(n){return(n?.mapValue?.fields||{})[HE]?.stringValue===zE}function ed(n){const e=n.mapValue.fields[qE];return ym(e)?ed(e):e}function ru(n){const e=as(n.mapValue.fields[WE].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t,i,o,l,c,d,p,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const Ch="(default)";class iu{constructor(e,t){this.projectId=e,this.database=t||Ch}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="__type__",gk="__max__",Yc={mapValue:{}},GE="__vector__",Ah="value";function us(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ym(n)?4:wk(n)?9007199254740991:yk(n)?10:11:Te(28295,{value:n})}function Fr(n,e){if(n===e)return!0;const t=us(n);if(t!==us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ru(n).isEqual(ru(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=as(o.timestampValue),d=as(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return ls(o.bytesValue).isEqual(ls(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return yt(o.geoPointValue.latitude)===yt(l.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return yt(o.integerValue)===yt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=yt(o.doubleValue),d=yt(l.doubleValue);return c===d?Sh(c)===Sh(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return va(n.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Tv(c)!==Tv(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Fr(c[p],d[p])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function su(n,e){return(n.values||[]).find((t=>Fr(t,e)))!==void 0}function _a(n,e){if(n===e)return 0;const t=us(n),i=us(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=yt(l.integerValue||l.doubleValue),p=yt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return Sv(n.timestampValue,e.timestampValue);case 4:return Sv(ru(n),ru(e));case 5:return bp(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=ls(l),p=ls(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const v=Le(d[y],p[y]);if(v!==0)return v}return Le(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Le(yt(l.latitude),yt(c.latitude));return d!==0?d:Le(yt(l.longitude),yt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Cv(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},y=d[Ah]?.arrayValue,v=p[Ah]?.arrayValue,E=Le(y?.values?.length||0,v?.values?.length||0);return E!==0?E:Cv(y,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Yc.mapValue&&c===Yc.mapValue)return 0;if(l===Yc.mapValue)return 1;if(c===Yc.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=c.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const I=bp(p[E],v[E]);if(I!==0)return I;const N=_a(d[p[E]],y[v[E]]);if(N!==0)return N}return Le(p.length,v.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function Sv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=as(n),i=as(e),o=Le(t.seconds,i.seconds);return o!==0?o:Le(t.nanos,i.nanos)}function Cv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=_a(t[o],i[o]);if(l)return l}return Le(t.length,i.length)}function Ea(n){return Pp(n)}function Pp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=as(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ls(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Pp(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Pp(t.fields[c])}`;return o+"}"})(n.mapValue):Te(61005,{value:n})}function lh(n){switch(us(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ed(n);return e?16+lh(e):16;case 5:return 2*n.stringValue.length;case 6:return ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+lh(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return fs(i.fields,((l,c)=>{o+=l.length+lh(c)})),o})(n.mapValue);default:throw Te(13486,{value:n})}}function Av(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xp(n){return!!n&&"integerValue"in n}function wm(n){return!!n&&"arrayValue"in n}function kv(n){return!!n&&"nullValue"in n}function Rv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uh(n){return!!n&&"mapValue"in n}function yk(n){return(n?.mapValue?.fields||{})[KE]?.stringValue===GE}function Ql(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return fs(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Ql(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ql(n.arrayValue.values[t]);return e}return{...n}}function wk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===gk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(t)}setAll(e){let t=zt.emptyPath(),i={},o=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=Ql(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){fs(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new vn(Ql(this.value))}}function QE(n){const e=[];return fs(n.fields,((t,i)=>{const o=new zt([t]);if(uh(i)){const l=QE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Xt(e,0,Ae.min(),Ae.min(),Ae.min(),vn.empty(),0)}static newFoundDocument(e,t,i,o){return new Xt(e,1,t,Ae.min(),i,o,0)}static newNoDocument(e,t){return new Xt(e,2,t,Ae.min(),Ae.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,Ae.min(),Ae.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t){this.position=e,this.inclusive=t}}function bv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(c.referenceValue),t.key):i=_a(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Pv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t="asc"){this.field=e,this.dir=t}}function vk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{}class It extends YE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Ek(e,t,i):t==="array-contains"?new Sk(e,i):t==="in"?new Ck(e,i):t==="not-in"?new Ak(e,i):t==="array-contains-any"?new kk(e,i):new It(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Tk(e,i):new Ik(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(_a(t,this.value)):t!==null&&us(this.value)===us(t)&&this.matchesComparison(_a(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends YE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new dr(e,t)}matches(e){return XE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XE(n){return n.op==="and"}function JE(n){return _k(n)&&XE(n)}function _k(n){for(const e of n.filters)if(e instanceof dr)return!1;return!0}function Np(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+Ea(n.value);if(JE(n))return n.filters.map((e=>Np(e))).join(",");{const e=n.filters.map((t=>Np(t))).join(",");return`${n.op}(${e})`}}function ZE(n,e){return n instanceof It?(function(i,o){return o instanceof It&&i.op===o.op&&i.field.isEqual(o.field)&&Fr(i.value,o.value)})(n,e):n instanceof dr?(function(i,o){return o instanceof dr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,c,d)=>l&&ZE(c,o.filters[d])),!0):!1})(n,e):void Te(19439)}function e0(n){return n instanceof It?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ea(t.value)}`})(n):n instanceof dr?(function(t){return t.op.toString()+" {"+t.getFilters().map(e0).join(" ,")+"}"})(n):"Filter"}class Ek extends It{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tk extends It{constructor(e,t){super(e,"in",t),this.keys=t0("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ik extends It{constructor(e,t){super(e,"not-in",t),this.keys=t0("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function t0(n,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class Sk extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wm(t)&&su(t.arrayValue,this.value)}}class Ck extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&su(this.value.arrayValue,t)}}class Ak extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!su(this.value.arrayValue,t)}}class kk extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>su(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function xv(n,e=null,t=[],i=[],o=null,l=null,c=null){return new Rk(n,e,t,i,o,l,c)}function vm(n){const e=ke(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Np(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Ea(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Ea(i))).join(",")),e.Te=t}return e.Te}function _m(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ZE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Pv(n.startAt,e.startAt)&&Pv(n.endAt,e.endAt)}function Dp(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bk(n,e,t,i,o,l,c,d){return new gu(n,e,t,i,o,l,c,d)}function Em(n){return new gu(n)}function Nv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function n0(n){return n.collectionGroup!==null}function Yl(n){const e=ke(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Pt(zt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Rh(l,i))})),t.has(zt.keyField().canonicalString())||e.Ie.push(new Rh(zt.keyField(),i))}return e.Ie}function Dr(n){const e=ke(n);return e.Ee||(e.Ee=Pk(e,Yl(n))),e.Ee}function Pk(n,e){if(n.limitType==="F")return xv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Rh(o.field,l)}));const t=n.endAt?new kh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new kh(n.startAt.position,n.startAt.inclusive):null;return xv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Op(n,e){const t=n.filters.concat([e]);return new gu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Lp(n,e,t){return new gu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function td(n,e){return _m(Dr(n),Dr(e))&&n.limitType===e.limitType}function r0(n){return`${vm(Dr(n))}|lt:${n.limitType}`}function aa(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>e0(o))).join(", ")}]`),Zh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Ea(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Ea(o))).join(",")),`Target(${i})`})(Dr(n))}; limitType=${n.limitType})`}function nd(n,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,o){for(const l of Yl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,d,p){const y=bv(c,d,p);return c.inclusive?y<=0:y<0})(i.startAt,Yl(i),o)||i.endAt&&!(function(c,d,p){const y=bv(c,d,p);return c.inclusive?y>=0:y>0})(i.endAt,Yl(i),o))})(n,e)}function xk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function i0(n){return(e,t)=>{let i=!1;for(const o of Yl(n)){const l=Nk(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function Nk(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),y=d.data.field(l);return p!==null&&y!==null?_a(p,y):Te(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return BE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=new ct(ye.comparator);function yi(){return Dk}const s0=new ct(ye.comparator);function zl(...n){let e=s0;for(const t of n)e=e.insert(t.key,t);return e}function o0(n){let e=s0;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Gs(){return Xl()}function a0(){return Xl()}function Xl(){return new ao((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Ok=new ct(ye.comparator),Lk=new Pt(ye.comparator);function Ve(...n){let e=Lk;for(const t of n)e=e.add(t);return e}const Vk=new Pt(Le);function Mk(){return Vk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function l0(n){return{integerValue:""+n}}function Fk(n,e){return hk(e)?l0(e):Tm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function Uk(n,e,t){return n instanceof bh?(function(o,l){const c={fields:{[HE]:{stringValue:zE},[WE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ym(l)&&(l=ed(l)),l&&(c.fields[qE]=l),{mapValue:c}})(t,e):n instanceof Ta?c0(n,e):n instanceof ou?h0(n,e):(function(o,l){const c=u0(o,l),d=Dv(c)+Dv(o.Ae);return xp(c)&&xp(o.Ae)?l0(d):Tm(o.serializer,d)})(n,e)}function jk(n,e,t){return n instanceof Ta?c0(n,e):n instanceof ou?h0(n,e):t}function u0(n,e){return n instanceof Ph?(function(i){return xp(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class bh extends rd{}class Ta extends rd{constructor(e){super(),this.elements=e}}function c0(n,e){const t=d0(e);for(const i of n.elements)t.some((o=>Fr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class ou extends rd{constructor(e){super(),this.elements=e}}function h0(n,e){let t=d0(e);for(const i of n.elements)t=t.filter((o=>!Fr(o,i)));return{arrayValue:{values:t}}}class Ph extends rd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Dv(n){return yt(n.integerValue||n.doubleValue)}function d0(n){return wm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t){this.field=e,this.transform=t}}function $k(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof Ta&&o instanceof Ta||i instanceof ou&&o instanceof ou?va(i.elements,o.elements,Fr):i instanceof Ph&&o instanceof Ph?Fr(i.Ae,o.Ae):i instanceof bh&&o instanceof bh})(n.transform,e.transform)}class zk{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class id{}function f0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new m0(n.key,Or.none()):new yu(n.key,n.data,Or.none());{const t=n.data,i=vn.empty();let o=new Pt(zt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new ps(n.key,i,new Rn(o.toArray()),Or.none())}}function Hk(n,e,t){n instanceof yu?(function(o,l,c){const d=o.value.clone(),p=Lv(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ps?(function(o,l,c){if(!ch(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Lv(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(p0(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Jl(n,e,t,i){return n instanceof yu?(function(l,c,d,p){if(!ch(l.precondition,c))return d;const y=l.value.clone(),v=Vv(l.fieldTransforms,p,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof ps?(function(l,c,d,p){if(!ch(l.precondition,c))return d;const y=Vv(l.fieldTransforms,p,c),v=c.data;return v.setAll(p0(l)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(l,c,d){return ch(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function qk(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=u0(i.transform,o||null);l!=null&&(t===null&&(t=vn.empty()),t.set(i.field,l))}return t||null}function Ov(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&va(i,o,((l,c)=>$k(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yu extends id{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends id{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function p0(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Lv(n,e,t){const i=new Map;Ke(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,jk(c,d,t[o]))}return i}function Vv(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,Uk(l,c,e))}return i}class m0 extends id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wk extends id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Hk(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Jl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Jl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=a0();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=f0(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&va(this.mutations,e.mutations,((t,i)=>Ov(t,i)))&&va(this.baseMutations,e.baseMutations,((t,i)=>Ov(t,i)))}}class Im{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ke(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return Ok})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Im(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,je;function Yk(n){switch(n){case G.OK:return Te(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function g0(n){if(n===void 0)return mi("GRPC error has no .code"),G.UNKNOWN;switch(n){case Tt.OK:return G.OK;case Tt.CANCELLED:return G.CANCELLED;case Tt.UNKNOWN:return G.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return G.INTERNAL;case Tt.UNAVAILABLE:return G.UNAVAILABLE;case Tt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Tt.NOT_FOUND:return G.NOT_FOUND;case Tt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Tt.ABORTED:return G.ABORTED;case Tt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Tt.DATA_LOSS:return G.DATA_LOSS;default:return Te(39323,{code:n})}}(je=Tt||(Tt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new ns([4294967295,4294967295],0);function Mv(n){const e=Xk().encode(n),t=new PE;return t.update(e),new Uint8Array(t.digest())}function Fv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ns([t,i],0),new ns([o,l],0)]}class Sm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Hl(`Invalid padding: ${t}`);if(i<0)throw new Hl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ns.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(ns.fromNumber(i)));return o.compare(Jk)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Mv(e),[i,o]=Fv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Sm(l,o,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=Mv(e),[i,o]=Fv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new sd(Ae.min(),o,new ct(Le),yi(),Ve())}}class wu{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new wu(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class y0{constructor(e,t){this.targetId=e,this.Ce=t}}class w0{constructor(e,t,i=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Uv{constructor(){this.ve=0,this.Fe=jv(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),i=Ve();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te(38017,{changeType:l})}})),new wu(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=jv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Zk{constructor(e){this.Ge=e,this.ze=new Map,this.je=yi(),this.Je=Xc(),this.He=Xc(),this.Ye=new ct(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Dp(l))if(i===0){const c=new ye(l.path);this.et(t,c,Xt.newNoDocument(c,Ae.min()))}else Ke(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=ls(i).toUint8Array()}catch(p){if(p instanceof $E)return wa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Sm(c,o,l)}catch(p){return wa(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Dp(d.target)){const p=new ye(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Xt.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Ve();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new sd(e,t,this.Ye,this.je,i);return this.je=yi(),this.Je=Xc(),this.He=Xc(),this.Ye=new ct(Le),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Uv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Pt(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Pt(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Uv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Xc(){return new ct(ye.comparator)}function jv(){return new ct(ye.comparator)}const eR={asc:"ASCENDING",desc:"DESCENDING"},tR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nR={and:"AND",or:"OR"};class rR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vp(n,e){return n.useProto3Json||Zh(e)?e:{value:e}}function xh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function iR(n,e){return xh(n,e.toTimestamp())}function Lr(n){return Ke(!!n,49232),Ae.fromTimestamp((function(t){const i=as(t);return new rt(i.seconds,i.nanos)})(n))}function Cm(n,e){return Mp(n,e).canonicalString()}function Mp(n,e){const t=(function(o){return new Ze(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function _0(n){const e=Ze.fromString(n);return Ke(C0(e),10190,{key:e.toString()}),e}function Fp(n,e){return Cm(n.databaseId,e.path)}function lp(n,e){const t=_0(e);if(t.get(1)!==n.databaseId.projectId)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(T0(t))}function E0(n,e){return Cm(n.databaseId,e)}function sR(n){const e=_0(n);return e.length===4?Ze.emptyPath():T0(e)}function Up(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function T0(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Bv(n,e,t){return{name:Fp(n,e),fields:t.value.mapValue.fields}}function oR(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,v){return y.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),Ht.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ht.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(y){const v=y.code===void 0?G.UNKNOWN:g0(y.code);return new se(v,y.message||"")})(c);t=new w0(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=lp(n,i.document.name),l=Lr(i.document.updateTime),c=i.document.createTime?Lr(i.document.createTime):Ae.min(),d=new vn({mapValue:{fields:i.document.fields}}),p=Xt.newFoundDocument(o,l,c,d),y=i.targetIds||[],v=i.removedTargetIds||[];t=new hh(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=lp(n,i.document),l=i.readTime?Lr(i.readTime):Ae.min(),c=Xt.newNoDocument(o,l),d=i.removedTargetIds||[];t=new hh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=lp(n,i.document),l=i.removedTargetIds||[];t=new hh([],l,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new Qk(o,l),d=i.targetId;t=new y0(d,c)}}return t}function aR(n,e){let t;if(e instanceof yu)t={update:Bv(n,e.key,e.value)};else if(e instanceof m0)t={delete:Fp(n,e.key)};else if(e instanceof ps)t={update:Bv(n,e.key,e.data),updateMask:gR(e.fieldMask)};else{if(!(e instanceof Wk))return Te(16599,{Vt:e.type});t={verify:Fp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof bh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ta)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ph)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Te(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:iR(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(n,e.precondition)),t}function lR(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?Lr(o.updateTime):Lr(l);return c.isEqual(Ae.min())&&(c=Lr(l)),new zk(c,o.transformResults||[])})(t,e)))):[]}function uR(n,e){return{documents:[E0(n,e.path)]}}function cR(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=E0(n,o);const l=(function(y){if(y.length!==0)return S0(dr.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(y){if(y.length!==0)return y.map((v=>(function(I){return{field:la(I.field),direction:fR(I.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Vp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function hR(n){let e=sR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ke(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(E){const I=I0(E);return I instanceof dr&&JE(I)?I.getFilters():[I]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((I=>(function(V){return new Rh(ua(V.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(I)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let I;return I=typeof E=="object"?E.value:E,Zh(I)?null:I})(t.limit));let p=null;t.startAt&&(p=(function(E){const I=!!E.before,N=E.values||[];return new kh(N,I)})(t.startAt));let y=null;return t.endAt&&(y=(function(E){const I=!E.before,N=E.values||[];return new kh(N,I)})(t.endAt)),bk(e,o,c,l,d,"F",p,y)}function dR(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function I0(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ua(t.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ua(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ua(t.unaryFilter.field);return It.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ua(t.unaryFilter.field);return It.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(t){return It.create(ua(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return dr.create(t.compositeFilter.filters.map((i=>I0(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(n):Te(30097,{filter:n})}function fR(n){return eR[n]}function pR(n){return tR[n]}function mR(n){return nR[n]}function la(n){return{fieldPath:n.canonicalString()}}function ua(n){return zt.fromServerFormat(n.fieldPath)}function S0(n){return n instanceof It?(function(t){if(t.op==="=="){if(Rv(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NAN"}};if(kv(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Rv(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NOT_NAN"}};if(kv(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(t.field),op:pR(t.op),value:t.value}}})(n):n instanceof dr?(function(t){const i=t.getFilters().map((o=>S0(o)));return i.length===1?i[0]:{compositeFilter:{op:mR(t.op),filters:i}}})(n):Te(54877,{filter:n})}function gR(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function C0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t,i,o,l=Ae.min(),c=Ae.min(),d=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.yt=e}}function wR(n){const e=hR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.Cn=new _R}addToCollectionParentIndex(e,t){return this.Cn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(os.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class _R{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Pt(Ze.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Pt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A0=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(A0,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ia(0)}static cr(){return new Ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="LruGarbageCollector",ER=1048576;function Hv([n,e],[t,i]){const o=Le(n,t);return o===0?Le(e,i):o}class TR{constructor(e){this.Ir=e,this.buffer=new Pt(Hv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Hv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(zv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xa(t)?le(zv,"Ignoring IndexedDB error during garbage collection: ",t):await Pa(t)}await this.Vr(3e5)}))}}class SR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Jh.ce);const i=new TR(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve($v)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,c,d,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,d=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),oa()<=Oe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function CR(n,e){return new SR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.changes=new ao((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Jl(i.mutation,o,Rn.empty(),rt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ve()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ve()){const o=Gs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let c=zl();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Gs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ve())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,o){let l=yi();const c=Xl(),d=(function(){return Xl()})();return t.forEach(((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof ps)?l=l.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),Jl(v.mutation,y,v.mutation.getFieldMask(),rt.now())):c.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((y,v)=>c.set(y,v))),t.forEach(((y,v)=>d.set(y,new kR(v,c.get(y)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Xl();let o=new ct(((c,d)=>c-d)),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||Rn.empty();v=d.applyToLocalView(y,v),i.set(p,v);const E=(o.get(d.batchId)||Ve()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,v=p.value,E=a0();v.forEach((I=>{if(!l.has(I)){const N=f0(t.get(I),i.get(I));N!==null&&E.set(I,N),l=l.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return Q.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):n0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(Gs());let d=nu,p=l;return c.next((y=>Q.forEach(y,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?Q.resolve():this.remoteDocumentCache.getEntry(e,v).next((I=>{p=p.insert(v,I)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,p,y,Ve()))).next((v=>({batchId:d,changes:o0(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((i=>{let o=zl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=zl();return this.indexManager.getCollectionParents(e,l).next((d=>Q.forEach(d,(p=>{const y=(function(E,I){return new gu(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((v=>{v.forEach(((E,I)=>{c=c.insert(E,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((c=>{l.forEach(((p,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,Xt.newInvalidDocument(v)))}));let d=zl();return c.forEach(((p,y)=>{const v=l.get(p);v!==void 0&&Jl(v.mutation,y,Rn.empty(),rt.now()),nd(t,y)&&(d=d.insert(p,y))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Q.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Lr(o.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:wR(o.bundledQuery),readTime:Lr(o.readTime)}})(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.overlays=new ct(ye.comparator),this.qr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Gs();return Q.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=Gs(),l=t.length+1,c=new ye(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new ct(((y,v)=>y-v));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=Gs(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=Gs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,v)=>d.set(y,v))),!(d.size()>=o)););return Q.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Gk(t,i));let l=this.qr.get(t);l===void 0&&(l=Ve(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.Qr=new Pt(Vt.$r),this.Ur=new Pt(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Vt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Vt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ye(new Ze([])),i=new Vt(t,e),o=new Vt(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Ze([])),i=new Vt(t,e),o=new Vt(t,e+1);let l=Ve();return this.Ur.forEachInRange([i,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Vt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Vt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Vt.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Kk(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new Vt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Q.resolve(c)}lookupMutationBatch(e,t){return Q.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?gm:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(c=>{const d=this.Xr(c.Yr);l.push(d)})),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Pt(Le);return t.forEach((o=>{const l=new Vt(o,0),c=new Vt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),Q.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const c=new Vt(new ye(l),0);let d=new Pt(Le);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Yr)),!0)}),c),Q.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Q.forEach(t.mutations,(o=>{const l=new Vt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Vt(t,0),o=this.Zr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.ri=e,this.docs=(function(){return new ct(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let i=yi();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Xt.newInvalidDocument(o))})),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=yi();const c=t.path,d=new ye(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||ak(ok(v),i)<=0||(o.has(v.key)||nd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te(9500)}ii(e,t){return Q.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new OR(this)}getSize(e){return Q.resolve(this.size)}}class OR extends AR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),Q.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.persistence=e,this.si=new ao((t=>vm(t)),_m),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Am,this.targetCount=0,this.ai=Ia.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),Q.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ia(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Pr(t),Q.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Q.waitFor(l).next((()=>o))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,t){this.ui={},this.overlays={},this.ci=new Jh(0),this.li=!1,this.li=!0,this.hi=new xR,this.referenceDelegate=e(this),this.Pi=new LR(this),this.indexManager=new vR,this.remoteDocumentCache=(function(o){return new DR(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new yR(t),this.Ii=new bR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new NR(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new VR(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return Q.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class VR extends uk{constructor(e){super(),this.currentSequenceNumber=e}}class km{constructor(e){this.persistence=e,this.Ri=new Am,this.Vi=null}static mi(e){return new km(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(i=>{const o=ye.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Q.or([()=>Q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Nh{constructor(e,t){this.persistence=e,this.pi=new ao((i=>dk(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=CR(this,t)}static mi(e,t){return new Nh(e,t)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return Q.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?Q.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((d=>{d||(i++,l.removeEntry(c,Ae.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lh(e.data.value)),t}br(e,t,i){return Q.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Ve(),o=Ve();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Rm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uS()?8:ck(Jt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new MR;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(oa()<=Oe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",aa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(oa()<=Oe.DEBUG&&le("QueryEngine","Query:",aa(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(oa()<=Oe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",aa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):Q.resolve())}ys(e,t){if(Nv(t))return Q.resolve(null);let i=Dr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Lp(t,null,"F"),i=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ve(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const y=this.Ds(t,d);return this.Cs(t,y,c,p.readTime)?this.ys(e,Lp(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ws(e,t,i,o){return Nv(t)||o.isEqual(Ae.min())?Q.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,o)?Q.resolve(null):(oa()<=Oe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),aa(t)),this.vs(e,c,t,sk(o,nu)).next((d=>d)))}))}Ds(e,t){let i=new Pt(i0(e));return t.forEach(((o,l)=>{nd(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return oa()<=Oe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",aa(t)),this.ps.getDocumentsMatchingQuery(e,t,os.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="LocalStore",UR=3e8;class jR{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ct(Le),this.xs=new ao((l=>vm(l)),_m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function BR(n,e,t,i){return new jR(n,e,t,i)}async function R0(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=Ve();for(const y of o){c.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){d.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:d})))}))}))}function $R(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,y,v){const E=y.batch,I=E.keys();let N=Q.resolve();return I.forEach((V=>{N=N.next((()=>v.getEntry(p,V))).next(($=>{const L=y.docVersions.get(V);Ke(L!==null,48541),$.version.compareTo(L)<0&&(E.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),v.addEntry($)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=Ve();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function b0(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function zR(n,e){const t=ke(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((v,E)=>{const I=o.get(E);if(!I)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,E))));let N=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?N=N.withResumeToken(Ht.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,i)),o=o.insert(E,N),(function($,L,Y){return $.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=UR?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(I,N,v)&&d.push(t.Pi.updateTargetData(l,N))}));let p=yi(),y=Ve();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(HR(l,c,e.documentUpdates).next((v=>{p=v.ks,y=v.qs}))),!i.isEqual(Ae.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return Q.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,y))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function HR(n,e,t){let i=Ve(),o=Ve();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=yi();return t.forEach(((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):le(bm,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function qR(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=gm),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function WR(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,Q.resolve(o)):t.Pi.allocateTargetId(i).next((c=>(o=new Xi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function jp(n,e,t){const i=ke(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!xa(c))throw c;le(bm,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function qv(n,e,t){const i=ke(n);let o=Ae.min(),l=Ve();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,y,v){const E=ke(p),I=E.xs.get(v);return I!==void 0?Q.resolve(E.Ms.get(I)):E.Pi.getTargetData(y,v)})(i,c,Dr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:Ae.min(),t?l:Ve()))).next((d=>(KR(i,xk(e),d),{documents:d,Qs:l})))))}function KR(n,e,t){let i=n.Os.get(e)||Ae.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class Wv{constructor(){this.activeTargetIds=Mk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GR{constructor(){this.Mo=new Wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="ConnectivityMonitor";class Gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(Kv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(Kv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Bp(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="RestConnection",YR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Ch?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const c=Bp(),d=this.zo(e,t.toUriEncodedString());le(up,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:y}=new URL(d),v=ds(y);return this.Jo(e,d,p,i,v).then((E=>(le(up,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw wa(up,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",i),E}))}Ho(e,t,i,o,l,c){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ba})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=YR[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class ZR extends XR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=Bp();return new Promise(((d,p)=>{const y=new xE;y.setWithCredentials(!0),y.listenOnce(NE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ah.NO_ERROR:const E=y.getResponseJson();le(Qt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case ah.TIMEOUT:le(Qt,`RPC '${e}' ${c} timed out`),p(new se(G.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const I=y.getStatus();if(le(Qt,`RPC '${e}' ${c} failed with status:`,I,"response text:",y.getResponseText()),I>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const V=N?.error;if(V&&V.status&&V.message){const $=(function(Y){const K=Y.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(K)>=0?K:G.UNKNOWN})(V.status);p(new se($,V.message))}else p(new se(G.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new se(G.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(Qt,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);le(Qt,`RPC '${e}' ${c} sending request:`,o),y.send(t,"POST",v,i,15)}))}T_(e,t,i){const o=Bp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=LE(),d=OE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");le(Qt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let I=!1,N=!1;const V=new JR({Yo:L=>{N?le(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(I||(le(Qt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),le(Qt,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Zo:()=>E.close()}),$=(L,Y,K)=>{L.listen(Y,(ne=>{try{K(ne)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return $(E,$l.EventType.OPEN,(()=>{N||(le(Qt,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),$(E,$l.EventType.CLOSE,(()=>{N||(N=!0,le(Qt,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(E))})),$(E,$l.EventType.ERROR,(L=>{N||(N=!0,wa(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),V.a_(new se(G.UNAVAILABLE,"The operation could not be completed")))})),$(E,$l.EventType.MESSAGE,(L=>{if(!N){const Y=L.data[0];Ke(!!Y,16349);const K=Y,ne=K?.error||K[0]?.error;if(ne){le(Qt,`RPC '${e}' stream ${o} received error:`,ne);const ue=ne.status;let Ce=(function(C){const k=Tt[C];if(k!==void 0)return g0(k)})(ue),Ie=ne.message;Ce===void 0&&(Ce=G.INTERNAL,Ie="Unknown error status: "+ue+" with message "+ne.message),N=!0,V.a_(new se(Ce,Ie)),E.close()}else le(Qt,`RPC '${e}' stream ${o} received:`,Y),V.u_(Y)}})),$(d,DE.STAT_EVENT,(L=>{L.stat===Rp.PROXY?le(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Rp.NOPROXY&&le(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){return new rR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="PersistentStream";class x0{constructor(e,t,i,o,l,c,d,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new P0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new se(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(Qv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(le(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eb extends x0{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=oR(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Lr(c.readTime):Ae.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Up(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=Dp(p)?{documents:uR(l,p)}:{query:cR(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=v0(l,c.resumeToken);const y=Vp(l,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ae.min())>0){d.readTime=xh(l,c.snapshotVersion.toTimestamp());const y=Vp(l,c.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const i=dR(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Up(this.serializer),t.removeTarget=e,this.q_(t)}}class tb extends x0{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=lR(e.writeResults,e.commitTime),i=Lr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Up(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>aR(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{}class rb extends nb{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Mp(t,i),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new se(G.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Mp(t,i),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(G.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ib{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class sb{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{lo(this)&&(le(ro,"Restarting streams for network reachability change."),await(async function(p){const y=ke(p);y.Ea.add(4),await vu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ad(y)})(this))}))})),this.Ra=new ib(i,o)}}async function ad(n){if(lo(n))for(const e of n.da)await e(!0)}async function vu(n){for(const e of n.da)await e(!1)}function N0(n,e){const t=ke(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Dm(t)?Nm(t):Na(t).O_()&&xm(t,e))}function Pm(n,e){const t=ke(n),i=Na(t);t.Ia.delete(e),i.O_()&&D0(t,e),t.Ia.size===0&&(i.O_()?i.L_():lo(t)&&t.Ra.set("Unknown"))}function xm(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Na(n).Y_(e)}function D0(n,e){n.Va.Ue(e),Na(n).Z_(e)}function Nm(n){n.Va=new Zk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Na(n).start(),n.Ra.ua()}function Dm(n){return lo(n)&&!Na(n).x_()&&n.Ia.size>0}function lo(n){return ke(n).Ea.size===0}function O0(n){n.Va=void 0}async function ob(n){n.Ra.set("Online")}async function ab(n){n.Ia.forEach(((e,t)=>{xm(n,e)}))}async function lb(n,e){O0(n),Dm(n)?(n.Ra.ha(e),Nm(n)):n.Ra.set("Unknown")}async function ub(n,e,t){if(n.Ra.set("Online"),e instanceof w0&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(i){le(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Dh(n,i)}else if(e instanceof hh?n.Va.Ze(e):e instanceof y0?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ae.min()))try{const i=await b0(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(y);v&&l.Ia.set(y,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,y)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(Ht.EMPTY_BYTE_STRING,v.snapshotVersion)),D0(l,p);const E=new Xi(v.target,p,y,v.sequenceNumber);xm(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(i){le(ro,"Failed to raise snapshot:",i),await Dh(n,i)}}async function Dh(n,e,t){if(!xa(e))throw e;n.Ea.add(1),await vu(n),n.Ra.set("Offline"),t||(t=()=>b0(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{le(ro,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ad(n)}))}function L0(n,e){return e().catch((t=>Dh(n,t,e)))}async function ld(n){const e=ke(n),t=cs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gm;for(;cb(e);)try{const o=await qR(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,hb(e,o)}catch(o){await Dh(e,o)}V0(e)&&M0(e)}function cb(n){return lo(n)&&n.Ta.length<10}function hb(n,e){n.Ta.push(e);const t=cs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function V0(n){return lo(n)&&!cs(n).x_()&&n.Ta.length>0}function M0(n){cs(n).start()}async function db(n){cs(n).ra()}async function fb(n){const e=cs(n);for(const t of n.Ta)e.ea(t.mutations)}async function pb(n,e,t){const i=n.Ta.shift(),o=Im.from(i,e,t);await L0(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await ld(n)}async function mb(n,e){e&&cs(n).X_&&await(async function(i,o){if((function(c){return Yk(c)&&c!==G.ABORTED})(o.code)){const l=i.Ta.shift();cs(i).B_(),await L0(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await ld(i)}})(n,e),V0(n)&&M0(n)}async function Yv(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),le(ro,"RemoteStore received new credentials");const i=lo(t);t.Ea.add(3),await vu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ad(t)}async function gb(n,e){const t=ke(n);e?(t.Ea.delete(2),await ad(t)):e||(t.Ea.add(2),await vu(t),t.Ra.set("Unknown"))}function Na(n){return n.ma||(n.ma=(function(t,i,o){const l=ke(t);return l.sa(),new eb(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:ob.bind(null,n),t_:ab.bind(null,n),r_:lb.bind(null,n),H_:ub.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Dm(n)?Nm(n):n.Ra.set("Unknown")):(await n.ma.stop(),O0(n))}))),n.ma}function cs(n){return n.fa||(n.fa=(function(t,i,o){const l=ke(t);return l.sa(),new tb(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:db.bind(null,n),r_:mb.bind(null,n),ta:fb.bind(null,n),na:pb.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ld(n)):(await n.fa.stop(),n.Ta.length>0&&(le(ro,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new Om(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(n,e){if(mi("AsyncQueue",`${e}: ${n}`),xa(n))return new se(G.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static emptySet(e){return new pa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=zl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new pa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.ga=new ct(ye.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Sa{constructor(e,t,i,o,l,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Sa(e,t,pa.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wb{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=ke(t),l=o.queries;o.queries=Jv(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(i)}))})(this,new se(G.ABORTED,"Firestore shutting down"))}}function Jv(){return new ao((n=>r0(n)),td)}async function F0(n,e){const t=ke(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new yb,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Lm(c,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Vm(t)}async function U0(n,e){const t=ke(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function vb(n,e){const t=ke(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(o)&&(i=!0);c.wa=o}}i&&Vm(t)}function _b(n,e,t){const i=ke(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function Vm(n){n.Ca.forEach((e=>{e.next()}))}var $p,Zv;(Zv=$p||($p={})).Ma="default",Zv.Cache="cache";class j0{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Sa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.key=e}}class $0{constructor(e){this.key=e}}class Eb{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=i0(e),this.tu=new pa(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Xv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,E)=>{const I=o.get(v),N=nd(this.query,E)?E:null,V=!!I&&this.mutatedKeys.has(I.key),$=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let L=!1;I&&N?I.data.isEqual(N.data)?V!==$&&(i.track({type:3,doc:N}),L=!0):this.su(I,N)||(i.track({type:2,doc:N}),L=!0,(p&&this.eu(N,p)>0||y&&this.eu(N,y)<0)&&(d=!0)):!I&&N?(i.track({type:0,doc:N}),L=!0):I&&!N&&(i.track({type:1,doc:I}),L=!0,(p||y)&&(d=!0)),L&&(N?(c=c.add(N),l=$?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,E)=>(function(N,V){const $=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:L})}};return $(N)-$(V)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(i),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,c.length!==0||y?{snapshot:new Sa(this.query,e.tu,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new $0(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new B0(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Sa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mm="SyncEngine";class Tb{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Ib{constructor(e){this.key=e,this.hu=!1}}class Sb{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ao((d=>r0(d)),td),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ye.comparator),this.Au=new Map,this.Ru=new Am,this.Vu={},this.mu=new Map,this.fu=Ia.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Cb(n,e,t=!0){const i=G0(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await z0(i,e,t,!0),o}async function Ab(n,e){const t=G0(n);await z0(t,e,!0,!1)}async function z0(n,e,t,i){const o=await WR(n.localStore,Dr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await kb(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&N0(n.remoteStore,o),d}async function kb(n,e,t,i,o){n.pu=(E,I,N)=>(async function($,L,Y,K){let ne=L.view.ru(Y);ne.Cs&&(ne=await qv($.localStore,L.query,!1).then((({documents:P})=>L.view.ru(P,ne))));const ue=K&&K.targetChanges.get(L.targetId),Ce=K&&K.targetMismatches.get(L.targetId)!=null,Ie=L.view.applyChanges(ne,$.isPrimaryClient,ue,Ce);return t_($,L.targetId,Ie.au),Ie.snapshot})(n,E,I,N);const l=await qv(n.localStore,e,!0),c=new Eb(e,l.Qs),d=c.ru(l.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);t_(n,t,y.au);const v=new Tb(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function Rb(n,e,t){const i=ke(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((c=>!td(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await jp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Pm(i.remoteStore,o.targetId),zp(i,o.targetId)})).catch(Pa)):(zp(i,o.targetId),await jp(i.localStore,o.targetId,!0))}async function bb(n,e){const t=ke(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Pm(t.remoteStore,i.targetId))}async function Pb(n,e,t){const i=Mb(n);try{const o=await(function(c,d){const p=ke(c),y=rt.now(),v=d.reduce(((N,V)=>N.add(V.key)),Ve());let E,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let V=yi(),$=Ve();return p.Ns.getEntries(N,v).next((L=>{V=L,V.forEach(((Y,K)=>{K.isValidDocument()||($=$.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,V))).next((L=>{E=L;const Y=[];for(const K of d){const ne=qk(K,E.get(K.key).overlayedDocument);ne!=null&&Y.push(new ps(K.key,ne,QE(ne.value.mapValue),Or.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,Y,d)})).next((L=>{I=L;const Y=L.applyToLocalDocumentSet(E,$);return p.documentOverlayCache.saveOverlays(N,L.batchId,Y)}))})).then((()=>({batchId:I.batchId,changes:o0(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let y=c.Vu[c.currentUser.toKey()];y||(y=new ct(Le)),y=y.insert(d,p),c.Vu[c.currentUser.toKey()]=y})(i,o.batchId,t),await _u(i,o.changes),await ld(i.remoteStore)}catch(o){const l=Lm(o,"Failed to persist write");t.reject(l)}}async function H0(n,e){const t=ke(n);try{const i=await zR(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ke(c.hu,14607):o.removedDocuments.size>0&&(Ke(c.hu,42227),c.hu=!1))})),await _u(t,i,e)}catch(i){await Pa(i)}}function e_(n,e,t){const i=ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=ke(c);p.onlineState=d;let y=!1;p.queries.forEach(((v,E)=>{for(const I of E.Sa)I.va(d)&&(y=!0)})),y&&Vm(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function xb(n,e,t){const i=ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new ct(ye.comparator);c=c.insert(l,Xt.newNoDocument(l,Ae.min()));const d=Ve().add(l),p=new sd(Ae.min(),new Map,new ct(Le),c,d);await H0(i,p),i.du=i.du.remove(l),i.Au.delete(e),Fm(i)}else await jp(i.localStore,e,!1).then((()=>zp(i,e,t))).catch(Pa)}async function Nb(n,e){const t=ke(n),i=e.batch.batchId;try{const o=await $R(t.localStore,e);W0(t,i,null),q0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await _u(t,o)}catch(o){await Pa(o)}}async function Db(n,e,t){const i=ke(n);try{const o=await(function(c,d){const p=ke(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return p.mutationQueue.lookupMutationBatch(y,d).next((E=>(Ke(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(y,E)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>p.localDocuments.getDocuments(y,v)))}))})(i.localStore,e);W0(i,e,t),q0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await _u(i,o)}catch(o){await Pa(o)}}function q0(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function W0(n,e,t){const i=ke(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function zp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||K0(n,i)}))}function K0(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Pm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Fm(n))}function t_(n,e,t){for(const i of t)i instanceof B0?(n.Ru.addReference(i.key,e),Ob(n,i)):i instanceof $0?(le(Mm,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||K0(n,i.key)):Te(19791,{wu:i})}function Ob(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(le(Mm,"New document in limbo: "+t),n.Eu.add(i),Fm(n))}function Fm(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Ze.fromString(e)),i=n.fu.next();n.Au.set(i,new Ib(t)),n.du=n.du.insert(t,i),N0(n.remoteStore,new Xi(Dr(Em(t.path)),i,"TargetPurposeLimboResolution",Jh.ce))}}async function _u(n,e,t){const i=ke(n),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{c.push(i.pu(p,e,t).then((y=>{if((y||t)&&i.isPrimaryClient){const v=y?!y.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(y){o.push(y);const v=Rm.As(p.targetId,y);l.push(v)}})))})),await Promise.all(c),i.Pu.H_(o),await(async function(p,y){const v=ke(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Q.forEach(y,(I=>Q.forEach(I.Es,(N=>v.persistence.referenceDelegate.addReference(E,I.targetId,N))).next((()=>Q.forEach(I.ds,(N=>v.persistence.referenceDelegate.removeReference(E,I.targetId,N)))))))))}catch(E){if(!xa(E))throw E;le(bm,"Failed to update sequence numbers: "+E)}for(const E of y){const I=E.targetId;if(!E.fromCache){const N=v.Ms.get(I),V=N.snapshotVersion,$=N.withLastLimboFreeSnapshotVersion(V);v.Ms=v.Ms.insert(I,$)}}})(i.localStore,l))}async function Lb(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){le(Mm,"User change. New user:",e.toKey());const i=await R0(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new se(G.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await _u(t,i.Ls)}}function Vb(n,e){const t=ke(n),i=t.Au.get(e);if(i&&i.hu)return Ve().add(i.key);{let o=Ve();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const d=t.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function G0(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=H0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xb.bind(null,e),e.Pu.H_=vb.bind(null,e.eventManager),e.Pu.yu=_b.bind(null,e.eventManager),e}function Mb(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Db.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=od(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return BR(this.persistence,new FR,e.initialUser,this.serializer)}Cu(e){return new k0(km.mi,this.serializer)}Du(e){return new GR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class Fb extends Oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof Nh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new IR(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new k0((i=>Nh.mi(i,t)),this.serializer)}}class Hp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>e_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lb.bind(null,this.syncEngine),await gb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wb})()}createDatastore(e){const t=od(e.databaseInfo.databaseId),i=(function(l){return new ZR(l)})(e.databaseInfo);return(function(l,c,d,p){return new rb(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,c,d){return new sb(i,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>e_(this.syncEngine,t,0)),(function(){return Gv.v()?new Gv:new QR})())}createSyncEngine(e,t){return(function(o,l,c,d,p,y,v){const E=new Sb(o,l,c,d,p,y);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=ke(t);le(ro,"RemoteStore shutting down."),i.Ea.add(5),await vu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hp.provider={build:()=>new Hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class Ub{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{le(hs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(le(hs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Lm(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function hp(n,e){n.asyncQueue.verifyOperationInProgress(),le(hs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await R0(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function n_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await jb(n);le(hs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>Yv(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>Yv(e.remoteStore,o))),n._onlineComponents=e}async function jb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(hs,"Using user provided OfflineComponentProvider");try{await hp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;wa("Error using user provided cache. Falling back to memory cache: "+t),await hp(n,new Oh)}}else le(hs,"Using default OfflineComponentProvider"),await hp(n,new Fb(void 0));return n._offlineComponents}async function Y0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(hs,"Using user provided OnlineComponentProvider"),await n_(n,n._uninitializedComponentsProvider._online)):(le(hs,"Using default OnlineComponentProvider"),await n_(n,new Hp))),n._onlineComponents}function Bb(n){return Y0(n).then((e=>e.syncEngine))}async function X0(n){const e=await Y0(n),t=e.eventManager;return t.onListen=Cb.bind(null,e.syncEngine),t.onUnlisten=Rb.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ab.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bb.bind(null,e.syncEngine),t}function $b(n,e,t={}){const i=new ci;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,y){const v=new Q0({next:I=>{v.Nu(),c.enqueueAndForget((()=>U0(l,E)));const N=I.docs.has(d);!N&&I.fromCache?y.reject(new se(G.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&I.fromCache&&p&&p.source==="server"?y.reject(new se(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),E=new j0(Em(d.path),v,{includeMetadataChanges:!0,qa:!0});return F0(l,E)})(await X0(n),n.asyncQueue,e,t,i))),i.promise}function zb(n,e,t={}){const i=new ci;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,y){const v=new Q0({next:I=>{v.Nu(),c.enqueueAndForget((()=>U0(l,E))),I.fromCache&&p.source==="server"?y.reject(new se(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),E=new j0(d,v,{includeMetadataChanges:!0,qa:!0});return F0(l,E)})(await X0(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="firestore.googleapis.com",i_=!0;class s_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Z0,this.ssl=i_}else this.host=e.host,this.ssl=e.ssl??i_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ER)throw new se(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ik("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J0(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new GA;switch(i.type){case"firstParty":return new JA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new se(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=r_.get(t);i&&(le("ComponentProvider","Removing Datastore"),r_.delete(t),i.terminate())})(this),Promise.resolve()}}function Hb(n,e,t,i={}){n=gi(n,ud);const o=ds(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(Zp(`https://${d}`),em("Firestore",!0)),l.host!==Z0&&l.host!==d&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:o,emulatorOptions:i};if(!is(p,c)&&(n._setSettings(p),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=Yt.MOCK_USER;else{y=H_(i.mockUserToken,n._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new se(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Yt(E)}n._authCredentials=new QA(new ME(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class wt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(mu(t,wt._jsonSchema))return new wt(e,i||null,new ye(Ze.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:St("string",wt._jsonSchemaVersion),referencePath:St("string")};class rs extends Da{constructor(e,t,i){super(e,t,Em(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new ye(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function o_(n,e,...t){if(n=at(n),FE("collection","path",e),n instanceof ud){const i=Ze.fromString(e,...t);return wv(i),new rs(n,null,i)}{if(!(n instanceof wt||n instanceof rs))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return wv(i),new rs(n.firestore,null,i)}}function lr(n,e,...t){if(n=at(n),arguments.length===1&&(e=mm.newId()),FE("doc","path",e),n instanceof ud){const i=Ze.fromString(e,...t);return yv(i),new wt(n,null,new ye(i))}{if(!(n instanceof wt||n instanceof rs))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return yv(i),new wt(n.firestore,n instanceof rs?n.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="AsyncQueue";class l_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new P0(this,"async_queue_retry"),this._c=()=>{const i=cp();i&&le(a_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=cp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=cp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ci;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xa(e))throw e;le(a_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",u_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Om.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:u_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function u_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Eu extends ud{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new l_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l_(e),this._firestoreClient=void 0,await e}}}function uo(n,e){const t=typeof n=="object"?n:rm(),i=typeof n=="string"?n:Ch,o=Kh(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=B_("firestore");l&&Hb(o,...l)}return o}function Um(n){if(n._terminated)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qb(n),n._firestoreClient}function qb(n){const e=n._freezeSettings(),t=(function(o,l,c,d){return new mk(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,J0(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Ub(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Ht.fromBase64String(e))}catch(t){throw new se(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zn(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:St("string",zn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vr._jsonSchemaVersion}}static fromJSON(e){if(mu(e,Vr._jsonSchema))return new Vr(e.latitude,e.longitude)}}Vr._jsonSchemaVersion="firestore/geoPoint/1.0",Vr._jsonSchema={type:St("string",Vr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Mr(e.vectorValues);throw new se(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:St("string",Mr._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=/^__.*__$/;class Kb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new yu(e,this.data,t,this.fieldTransforms)}}class eT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ps(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class dd{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tT(this.Ac)&&Wb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Gb{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||od(e)}Cc(e,t,i,o=!1){return new dd({Ac:e,methodName:t,Dc:i,path:zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jm(n){const e=n._freezeSettings(),t=od(n._databaseId);return new Gb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Qb(n,e,t,i,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);$m("Data must be an object, but it was:",c,i);const d=nT(i,c);let p,y;if(l.merge)p=new Rn(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const I=qp(e,E,t);if(!c.contains(I))throw new se(G.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);iT(v,I)||v.push(I)}p=new Rn(v),y=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,y=c.fieldTransforms;return new Kb(new vn(d),p,y)}class fd extends hd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}function Yb(n,e,t){return new dd({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bm extends hd{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Yb(this,e,!0),i=this.vc.map((l=>Oa(l,t))),o=new Ta(i);return new Bk(e.path,o)}isEqual(e){return e instanceof Bm&&is(this.vc,e.vc)}}function Xb(n,e,t,i){const o=n.Cc(1,e,t);$m("Data must be an object, but it was:",o,i);const l=[],c=vn.empty();fs(i,((p,y)=>{const v=zm(e,p,t);y=at(y);const E=o.yc(v);if(y instanceof fd)l.push(v);else{const I=Oa(y,E);I!=null&&(l.push(v),c.set(v,I))}}));const d=new Rn(l);return new eT(c,d,o.fieldTransforms)}function Jb(n,e,t,i,o,l){const c=n.Cc(1,e,t),d=[qp(e,i,t)],p=[o];if(l.length%2!=0)throw new se(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)d.push(qp(e,l[I])),p.push(l[I+1]);const y=[],v=vn.empty();for(let I=d.length-1;I>=0;--I)if(!iT(y,d[I])){const N=d[I];let V=p[I];V=at(V);const $=c.yc(N);if(V instanceof fd)y.push(N);else{const L=Oa(V,$);L!=null&&(y.push(N),v.set(N,L))}}const E=new Rn(y);return new eT(v,E,c.fieldTransforms)}function Zb(n,e,t,i=!1){return Oa(t,n.Cc(i?4:3,e))}function Oa(n,e){if(rT(n=at(n)))return $m("Unsupported field value:",e,n),nT(n,e);if(n instanceof hd)return(function(i,o){if(!tT(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let c=0;for(const d of i){let p=Oa(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,o){if((i=at(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Fk(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=rt.fromDate(i);return{timestampValue:xh(o.serializer,l)}}if(i instanceof rt){const l=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xh(o.serializer,l)}}if(i instanceof Vr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof zn)return{bytesValue:v0(o.serializer,i._byteString)};if(i instanceof wt){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Mr)return(function(c,d){return{mapValue:{fields:{[KE]:{stringValue:GE},[Ah]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw d.Sc("VectorValues must only contain numeric values.");return Tm(d.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Xh(i)}`)})(n,e)}function nT(n,e){const t={};return BE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(n,((i,o)=>{const l=Oa(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function rT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof Vr||n instanceof zn||n instanceof wt||n instanceof hd||n instanceof Mr)}function $m(n,e,t){if(!rT(t)||!UE(t)){const i=Xh(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function qp(n,e,t){if((e=at(e))instanceof cd)return e._internalPath;if(typeof e=="string")return zm(n,e);throw Lh("Field path arguments must be of type string or ",n,!1,void 0,t)}const eP=new RegExp("[~\\*/\\[\\]]");function zm(n,e,t){if(e.search(eP)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cd(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lh(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new se(G.INVALID_ARGUMENT,d+n+p)}function iT(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tP extends sT{data(){return super.data()}}function Hm(n,e){return typeof e=="string"?zm(n,e):e instanceof cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new se(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qm{}class rP extends qm{}function iP(n,e,...t){let i=[];e instanceof qm&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof Wm)).length,d=l.filter((p=>p instanceof pd)).length;if(c>1||c>0&&d>0)throw new se(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)n=o._apply(n);return n}class pd extends rP{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new pd(e,t,i)}_apply(e){const t=this._parse(e);return oT(e._query,t),new Da(e.firestore,e.converter,Op(e._query,t))}_parse(e){const t=jm(e.firestore);return(function(l,c,d,p,y,v,E){let I;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new se(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){h_(E,v);const V=[];for(const $ of E)V.push(c_(p,l,$));I={arrayValue:{values:V}}}else I=c_(p,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||h_(E,v),I=Zb(d,c,E,v==="in"||v==="not-in");return It.create(y,v,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function sP(n,e,t){const i=e,o=Hm("where",n);return pd._create(o,i,t)}class Wm extends qm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wm(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)oT(c,p),c=Op(c,p)})(e._query,t),new Da(e.firestore,e.converter,Op(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function c_(n,e,t){if(typeof(t=at(t))=="string"){if(t==="")throw new se(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n0(e)&&t.indexOf("/")!==-1)throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ze.fromString(t));if(!ye.isDocumentKey(i))throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Av(n,new ye(i))}if(t instanceof wt)return Av(n,t._key);throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(t)}.`)}function h_(n,e){if(!Array.isArray(n)||n.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oT(n,e){const t=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class oP{convertValue(e,t="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return fs(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Ah].arrayValue?.values?.map((i=>yt(i.doubleValue)));return new Mr(t)}convertGeoPoint(e){return new Vr(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ed(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const t=as(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ze.fromString(e);Ke(C0(i),9688,{name:e});const o=new iu(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return o.isEqual(t)||mi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class ql{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends sT{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Hm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Qs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:St("string",Qs._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class dh extends Qs{data(e={}){return super.data(e)}}class ma{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new dh(this._firestore,this._userDataWriter,i.key,i,new ql(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new dh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ql(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new dh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ql(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:lP(d.type),doc:p,oldIndex:y,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){n=gi(n,wt);const e=gi(n.firestore,Eu);return $b(Um(e),n._key).then((t=>uP(e,n,t)))}ma._jsonSchemaVersion="firestore/querySnapshot/1.0",ma._jsonSchema={type:St("string",ma._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class aT extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function d_(n){n=gi(n,Da);const e=gi(n.firestore,Eu),t=Um(e),i=new aT(e);return nP(n._query),zb(t,n._query).then((o=>new ma(e,i,n,o)))}function f_(n,e,t){n=gi(n,wt);const i=gi(n.firestore,Eu),o=aP(n.converter,e,t);return lT(i,[Qb(jm(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Or.none())])}function Wl(n,e,t,...i){n=gi(n,wt);const o=gi(n.firestore,Eu),l=jm(o);let c;return c=typeof(e=at(e))=="string"||e instanceof cd?Jb(l,"updateDoc",n._key,e,t,i):Xb(l,"updateDoc",n._key,e),lT(o,[c.toMutation(n._key,Or.exists(!0))])}function lT(n,e){return(function(i,o){const l=new ci;return i.asyncQueue.enqueueAndForget((async()=>Pb(await Bb(i),o,l))),l.promise})(Um(n),e)}function uP(n,e,t){const i=t.docs.get(e._key),o=new aT(n);return new Qs(n,o,e._key,i,new ql(t.hasPendingWrites,t.fromCache),e.converter)}function cP(...n){return new Bm("arrayUnion",n)}(function(e,t=!0){(function(o){ba=o})(oo),Js(new ss("firestore",((i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Eu(new YA(i.getProvider("auth-internal")),new ZA(c,i.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new se(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(y.options.projectId,v)})(c,o),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Pr(fv,pv,e),Pr(fv,pv,"esm2020")})();var hP="firebase",dP="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(hP,dP,"app");const fP={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.firebasestorage.app",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},pr=K_(fP);uo(pr);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var p_="popstate";function pP(n={}){function e(o,l){let{pathname:c="/",search:d="",hash:p=""}=co(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Wp("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");d=y===-1?p:p.slice(0,y)}return d+"#"+(typeof l=="string"?l:au(l))}function i(o,l){qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return gP(e,t,i,n)}function ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mP(){return Math.random().toString(36).substring(2,10)}function m_(n,e){return{usr:n.state,key:n.key,idx:e}}function Wp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:t,key:e&&e.key||i||mP()}}function au({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function co(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function gP(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d="POP",p=null,y=v();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function v(){return(c.state||{idx:null}).idx}function E(){d="POP";let L=v(),Y=L==null?null:L-y;y=L,p&&p({action:d,location:$.location,delta:Y})}function I(L,Y){d="PUSH";let K=Wp($.location,L,Y);t&&t(K,L),y=v()+1;let ne=m_(K,y),ue=$.createHref(K);try{c.pushState(ne,"",ue)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(ue)}l&&p&&p({action:d,location:$.location,delta:1})}function N(L,Y){d="REPLACE";let K=Wp($.location,L,Y);t&&t(K,L),y=v();let ne=m_(K,y),ue=$.createHref(K);c.replaceState(ne,"",ue),l&&p&&p({action:d,location:$.location,delta:0})}function V(L){return yP(L)}let $={get action(){return d},get location(){return n(o,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(p_,E),p=L,()=>{o.removeEventListener(p_,E),p=null}},createHref(L){return e(o,L)},createURL:V,encodeLocation(L){let Y=V(L);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:I,replace:N,go(L){return c.go(L)}};return $}function yP(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:au(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function uT(n,e,t="/"){return wP(n,e,t,!1)}function wP(n,e,t,i){let o=typeof e=="string"?co(e):e,l=wi(o.pathname||"/",t);if(l==null)return null;let c=cT(n);vP(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=PP(l);d=RP(c[p],y,i)}return d}function cT(n,e=[],t=[],i="",o=!1){let l=(c,d,p=o,y)=>{let v={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;ot(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let E=hi([i,v.relativePath]),I=t.concat(v);c.children&&c.children.length>0&&(ot(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),cT(c.children,e,I,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:AP(E,c.index),routesMeta:I})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of hT(c.path))l(c,d,!0,p)}),e}function hT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=hT(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function vP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kP(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var _P=/^:[\w-]+$/,EP=3,TP=2,IP=1,SP=10,CP=-2,g_=n=>n==="*";function AP(n,e){let t=n.split("/"),i=t.length;return t.some(g_)&&(i+=CP),e&&(i+=TP),t.filter(o=>!g_(o)).reduce((o,l)=>o+(_P.test(l)?EP:l===""?IP:SP),i)}function kP(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function RP(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),I=p.route;if(!E&&y&&t&&!i[i.length-1].route.index&&(E=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:hi([l,E.pathname]),pathnameBase:OP(hi([l,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(l=hi([l,E.pathnameBase]))}return c}function Vh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=bP(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:E},I)=>{if(v==="*"){let V=d[I]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const N=d[I];return E&&!N?y[v]=void 0:y[v]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function bP(n,e=!1,t=!0){qn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function PP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function wi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function xP(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?co(n):n;return{pathname:t?t.startsWith("/")?t:NP(t,e):e,search:LP(i),hash:VP(o)}}function NP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function dp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Km(n){let e=DP(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Gm(n,e,t,i=!1){let o;typeof n=="string"?o=co(n):(o={...n},ot(!o.pathname||!o.pathname.includes("?"),dp("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),dp("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),dp("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}d=E>=0?e[E]:"/"}let p=xP(o,d),y=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var hi=n=>n.join("/").replace(/\/\/+/g,"/"),OP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),LP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,VP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function MP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var dT=["POST","PUT","PATCH","DELETE"];new Set(dT);var FP=["GET",...dT];new Set(FP);var La=z.createContext(null);La.displayName="DataRouter";var md=z.createContext(null);md.displayName="DataRouterState";z.createContext(!1);var fT=z.createContext({isTransitioning:!1});fT.displayName="ViewTransition";var UP=z.createContext(new Map);UP.displayName="Fetchers";var jP=z.createContext(null);jP.displayName="Await";var mr=z.createContext(null);mr.displayName="Navigation";var Iu=z.createContext(null);Iu.displayName="Location";var Br=z.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var Qm=z.createContext(null);Qm.displayName="RouteError";function BP(n,{relative:e}={}){ot(Va(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(mr),{hash:o,pathname:l,search:c}=Su(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:hi([t,l])),i.createHref({pathname:d,search:c,hash:o})}function Va(){return z.useContext(Iu)!=null}function ms(){return ot(Va(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Iu).location}var pT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mT(n){z.useContext(mr).static||z.useLayoutEffect(n)}function Ym(){let{isDataRoute:n}=z.useContext(Br);return n?ex():$P()}function $P(){ot(Va(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(La),{basename:e,navigator:t}=z.useContext(mr),{matches:i}=z.useContext(Br),{pathname:o}=ms(),l=JSON.stringify(Km(i)),c=z.useRef(!1);return mT(()=>{c.current=!0}),z.useCallback((p,y={})=>{if(qn(c.current,pT),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Gm(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:hi([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,l,o,n])}z.createContext(null);function Su(n,{relative:e}={}){let{matches:t}=z.useContext(Br),{pathname:i}=ms(),o=JSON.stringify(Km(t));return z.useMemo(()=>Gm(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function zP(n,e){return gT(n,e)}function gT(n,e,t,i,o){ot(Va(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=z.useContext(mr),{matches:c}=z.useContext(Br),d=c[c.length-1],p=d?d.params:{},y=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let K=E&&E.path||"";yT(y,!E||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let I=ms(),N;if(e){let K=typeof e=="string"?co(e):e;ot(v==="/"||K.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${K.pathname}" was given in the \`location\` prop.`),N=K}else N=I;let V=N.pathname||"/",$=V;if(v!=="/"){let K=v.replace(/^\//,"").split("/");$="/"+V.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=uT(n,{pathname:$});qn(E||L!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),qn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=GP(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:hi([v,l.encodeLocation?l.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?v:hi([v,l.encodeLocation?l.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),c,t,i,o);return e&&Y?z.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},Y):Y}function HP(){let n=ZP(),e=MP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:o},t):null,c)}var qP=z.createElement(HP,null),WP=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?z.createElement(Br.Provider,{value:this.props.routeContext},z.createElement(Qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KP({routeContext:n,match:e,children:t}){let i=z.useContext(La);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Br.Provider,{value:n},t)}function GP(n,e=[],t=null,i=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let y=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);ot(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(t)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:E,errors:I}=t,N=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!I||I[v.route.id]===void 0);if(v.route.lazy||N){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((y,v,E)=>{let I,N=!1,V=null,$=null;t&&(I=c&&v.route.id?c[v.route.id]:void 0,V=v.route.errorElement||qP,d&&(p<0&&E===0?(yT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,$=null):p===E&&(N=!0,$=v.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,E+1)),Y=()=>{let K;return I?K=V:N?K=$:v.route.Component?K=z.createElement(v.route.Component,null):v.route.element?K=v.route.element:K=y,z.createElement(KP,{match:v,routeContext:{outlet:y,matches:L,isDataRoute:t!=null},children:K})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?z.createElement(WP,{location:t.location,revalidation:t.revalidation,component:V,error:I,children:Y(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:i}):Y()},null)}function Xm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QP(n){let e=z.useContext(La);return ot(e,Xm(n)),e}function YP(n){let e=z.useContext(md);return ot(e,Xm(n)),e}function XP(n){let e=z.useContext(Br);return ot(e,Xm(n)),e}function Jm(n){let e=XP(n),t=e.matches[e.matches.length-1];return ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function JP(){return Jm("useRouteId")}function ZP(){let n=z.useContext(Qm),e=YP("useRouteError"),t=Jm("useRouteError");return n!==void 0?n:e.errors?.[t]}function ex(){let{router:n}=QP("useNavigate"),e=Jm("useNavigate"),t=z.useRef(!1);return mT(()=>{t.current=!0}),z.useCallback(async(o,l={})=>{qn(t.current,pT),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var y_={};function yT(n,e,t){!e&&!y_[n]&&(y_[n]=!0,qn(!1,t))}z.memo(tx);function tx({routes:n,future:e,state:t,unstable_onError:i}){return gT(n,void 0,t,i,e)}function Vl({to:n,replace:e,state:t,relative:i}){ot(Va(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(mr);qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=z.useContext(Br),{pathname:c}=ms(),d=Ym(),p=Gm(n,Km(l),c,i==="path"),y=JSON.stringify(p);return z.useEffect(()=>{d(JSON.parse(y),{replace:e,state:t,relative:i})},[d,y,i,e,t]),null}function ca(n){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nx({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){ot(!Va(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=co(t));let{pathname:p="/",search:y="",hash:v="",state:E=null,key:I="default"}=t,N=z.useMemo(()=>{let V=wi(p,c);return V==null?null:{location:{pathname:V,search:y,hash:v,state:E,key:I},navigationType:i}},[c,p,y,v,E,I,i]);return qn(N!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:z.createElement(mr.Provider,{value:d},z.createElement(Iu.Provider,{children:e,value:N}))}function rx({children:n,location:e}){return zP(Kp(n),e)}function Kp(n,e=[]){let t=[];return z.Children.forEach(n,(i,o)=>{if(!z.isValidElement(i))return;let l=[...e,o];if(i.type===z.Fragment){t.push.apply(t,Kp(i.props.children,l));return}ot(i.type===ca,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Kp(i.props.children,l)),t.push(c)}),t}var fh="get",ph="application/x-www-form-urlencoded";function gd(n){return n!=null&&typeof n.tagName=="string"}function ix(n){return gd(n)&&n.tagName.toLowerCase()==="button"}function sx(n){return gd(n)&&n.tagName.toLowerCase()==="form"}function ox(n){return gd(n)&&n.tagName.toLowerCase()==="input"}function ax(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lx(n,e){return n.button===0&&(!e||e==="_self")&&!ax(n)}var Zc=null;function ux(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var cx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fp(n){return n!=null&&!cx.has(n)?(qn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):n}function hx(n,e){let t,i,o,l,c;if(sx(n)){let d=n.getAttribute("action");i=d?wi(d,e):null,t=n.getAttribute("method")||fh,o=fp(n.getAttribute("enctype"))||ph,l=new FormData(n)}else if(ix(n)||ox(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?wi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||fh,o=fp(n.getAttribute("formenctype"))||fp(d.getAttribute("enctype"))||ph,l=new FormData(d,n),!ux()){let{name:y,type:v,value:E}=n;if(v==="image"){let I=y?`${y}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else y&&l.append(y,E)}}else{if(gd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fh,i=null,o=ph,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dx(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&wi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function fx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function px(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mx(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await fx(l,t);return c.links?c.links():[]}return[]}));return vx(i.flat(1).filter(px).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function w_(n,e,t,i,o,l){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>t[y].pathname!==p.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,y)=>c(p,y)||d(p,y)):l==="data"?e.filter((p,y)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function gx(n,e,{includeHydrateFallback:t}={}){return yx(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function yx(n){return[...new Set(n)]}function wx(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function vx(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(wx(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function wT(){let n=z.useContext(La);return Zm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _x(){let n=z.useContext(md);return Zm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var eg=z.createContext(void 0);eg.displayName="FrameworkContext";function vT(){let n=z.useContext(eg);return Zm(n,"You must render this element inside a <HydratedRouter> element"),n}function Ex(n,e){let t=z.useContext(eg),[i,o]=z.useState(!1),[l,c]=z.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:E}=e,I=z.useRef(null);z.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let $=Y=>{Y.forEach(K=>{c(K.isIntersecting)})},L=new IntersectionObserver($,{threshold:.5});return I.current&&L.observe(I.current),()=>{L.disconnect()}}},[n]),z.useEffect(()=>{if(i){let $=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout($)}}},[i]);let N=()=>{o(!0)},V=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,I,{}]:[l,I,{onFocus:Ml(d,N),onBlur:Ml(p,V),onMouseEnter:Ml(y,N),onMouseLeave:Ml(v,V),onTouchStart:Ml(E,N)}]:[!1,I,{}]}function Ml(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Tx({page:n,...e}){let{router:t}=wT(),i=z.useMemo(()=>uT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?z.createElement(Sx,{page:n,matches:i,...e}):null}function Ix(n){let{manifest:e,routeModules:t}=vT(),[i,o]=z.useState([]);return z.useEffect(()=>{let l=!1;return mx(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function Sx({page:n,matches:e,...t}){let i=ms(),{manifest:o,routeModules:l}=vT(),{basename:c}=wT(),{loaderData:d,matches:p}=_x(),y=z.useMemo(()=>w_(n,e,p,o,i,"data"),[n,e,p,o,i]),v=z.useMemo(()=>w_(n,e,p,o,i,"assets"),[n,e,p,o,i]),E=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let V=new Set,$=!1;if(e.forEach(Y=>{let K=o.routes[Y.route.id];!K||!K.hasLoader||(!y.some(ne=>ne.route.id===Y.route.id)&&Y.route.id in d&&l[Y.route.id]?.shouldRevalidate||K.hasClientLoader?$=!0:V.add(Y.route.id))}),V.size===0)return[];let L=dx(n,c,"data");return $&&V.size>0&&L.searchParams.set("_routes",e.filter(Y=>V.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[L.pathname+L.search]},[c,d,i,o,y,e,n,l]),I=z.useMemo(()=>gx(v,o),[v,o]),N=Ix(v);return z.createElement(z.Fragment,null,E.map(V=>z.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),I.map(V=>z.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),N.map(({key:V,link:$})=>z.createElement("link",{key:V,nonce:t.nonce,...$})))}function Cx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_T&&(window.__reactRouterVersion="7.8.2")}catch{}function Ax({basename:n,children:e,window:t}){let i=z.useRef();i.current==null&&(i.current=pP({window:t,v5Compat:!0}));let o=i.current,[l,c]=z.useState({action:o.action,location:o.location}),d=z.useCallback(p=>{z.startTransition(()=>c(p))},[c]);return z.useLayoutEffect(()=>o.listen(d),[o,d]),z.createElement(nx,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var ET=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wn=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:y,preventScrollReset:v,viewTransition:E,...I},N){let{basename:V}=z.useContext(mr),$=typeof y=="string"&&ET.test(y),L,Y=!1;if(typeof y=="string"&&$&&(L=y,_T))try{let k=new URL(window.location.href),b=y.startsWith("//")?new URL(k.protocol+y):new URL(y),D=wi(b.pathname,V);b.origin===k.origin&&D!=null?y=D+b.search+b.hash:Y=!0}catch{qn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=BP(y,{relative:o}),[ne,ue,Ce]=Ex(i,I),Ie=Px(y,{replace:c,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:E});function P(k){e&&e(k),k.defaultPrevented||Ie(k)}let C=z.createElement("a",{...I,...Ce,href:L||K,onClick:Y||l?e:P,ref:Cx(N,ue),target:p,"data-discover":!$&&t==="render"?"true":void 0});return ne&&!$?z.createElement(z.Fragment,null,C,z.createElement(Tx,{page:K})):C});wn.displayName="Link";var kx=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...y},v){let E=Su(c,{relative:y.relative}),I=ms(),N=z.useContext(md),{navigator:V,basename:$}=z.useContext(mr),L=N!=null&&Lx(E)&&d===!0,Y=V.encodeLocation?V.encodeLocation(E).pathname:E.pathname,K=I.pathname,ne=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(K=K.toLowerCase(),ne=ne?ne.toLowerCase():null,Y=Y.toLowerCase()),ne&&$&&(ne=wi(ne,$)||ne);const ue=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let Ce=K===Y||!o&&K.startsWith(Y)&&K.charAt(ue)==="/",Ie=ne!=null&&(ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(Y.length)==="/"),P={isActive:Ce,isPending:Ie,isTransitioning:L},C=Ce?e:void 0,k;typeof i=="function"?k=i(P):k=[i,Ce?"active":null,Ie?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let b=typeof l=="function"?l(P):l;return z.createElement(wn,{...y,"aria-current":C,className:k,ref:v,style:b,to:c,viewTransition:d},typeof p=="function"?p(P):p)});kx.displayName="NavLink";var Rx=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=fh,action:d,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:E,...I},N)=>{let V=Dx(),$=Ox(d,{relative:y}),L=c.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&ET.test(d),K=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let ue=ne.nativeEvent.submitter,Ce=ue?.getAttribute("formmethod")||c;V(ue||ne.currentTarget,{fetcherKey:e,method:Ce,navigate:t,replace:o,state:l,relative:y,preventScrollReset:v,viewTransition:E})};return z.createElement("form",{ref:N,method:L,action:$,onSubmit:i?p:K,...I,"data-discover":!Y&&n==="render"?"true":void 0})});Rx.displayName="Form";function bx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TT(n){let e=z.useContext(La);return ot(e,bx(n)),e}function Px(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Ym(),p=ms(),y=Su(n,{relative:l});return z.useCallback(v=>{if(lx(v,e)){v.preventDefault();let E=t!==void 0?t:au(p)===au(y);d(n,{replace:E,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,y,t,i,e,n,o,l,c])}var xx=0,Nx=()=>`__${String(++xx)}__`;function Dx(){let{router:n}=TT("useSubmit"),{basename:e}=z.useContext(mr),t=JP();return z.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:p,body:y}=hx(i,e);if(o.navigate===!1){let v=o.fetcherKey||Nx();await n.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function Ox(n,{relative:e}={}){let{basename:t}=z.useContext(mr),i=z.useContext(Br);ot(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Su(n||".",{relative:e})},c=ms();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:hi([t,l.pathname])),au(l)}function Lx(n,{relative:e}={}){let t=z.useContext(fT);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=TT("useViewTransitionState"),o=Su(n,{relative:e});if(!t.isTransitioning)return!1;let l=wi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=wi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Vh(o.pathname,c)!=null||Vh(o.pathname,l)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function IT(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function Vx(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v_(n,e){return n.get(IT(n,e))}function Mx(n,e,t){Vx(n,e),e.set(n,t)}function Fx(n,e,t){return n.set(IT(n,e),t),t}const Ux=100,_e={},jx=()=>{_e.previousActiveElement instanceof HTMLElement?(_e.previousActiveElement.focus(),_e.previousActiveElement=null):document.body&&document.body.focus()},Bx=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,i=window.scrollY;_e.restoreFocusTimeout=setTimeout(()=>{jx(),e()},Ux),window.scrollTo(t,i)}),ST="swal2-",$x=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],W=$x.reduce((n,e)=>(n[e]=ST+e,n),{}),zx=["success","warning","info","question","error"],Mh=zx.reduce((n,e)=>(n[e]=ST+e,n),{}),CT="SweetAlert2:",tg=n=>n.charAt(0).toUpperCase()+n.slice(1),an=n=>{console.warn(`${CT} ${typeof n=="object"?n.join(" "):n}`)},ho=n=>{console.error(`${CT} ${n}`)},__=[],Hx=n=>{__.includes(n)||(__.push(n),an(n))},AT=(n,e=null)=>{Hx(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},yd=n=>typeof n=="function"?n():n,ng=n=>n&&typeof n.toPromise=="function",Cu=n=>ng(n)?n.toPromise():Promise.resolve(n),rg=n=>n&&Promise.resolve(n)===n,ln=()=>document.body.querySelector(`.${W.container}`),Au=n=>{const e=ln();return e?e.querySelector(n):null},xn=n=>Au(`.${n}`),ze=()=>xn(W.popup),Ma=()=>xn(W.icon),qx=()=>xn(W["icon-content"]),kT=()=>xn(W.title),ig=()=>xn(W["html-container"]),RT=()=>xn(W.image),sg=()=>xn(W["progress-steps"]),wd=()=>xn(W["validation-message"]),Ur=()=>Au(`.${W.actions} .${W.confirm}`),Fa=()=>Au(`.${W.actions} .${W.cancel}`),fo=()=>Au(`.${W.actions} .${W.deny}`),Wx=()=>xn(W["input-label"]),Ua=()=>Au(`.${W.loader}`),ku=()=>xn(W.actions),bT=()=>xn(W.footer),vd=()=>xn(W["timer-progress-bar"]),og=()=>xn(W.close),Kx=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ag=()=>{const n=ze();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((l,c)=>{const d=parseInt(l.getAttribute("tabindex")||"0"),p=parseInt(c.getAttribute("tabindex")||"0");return d>p?1:d<p?-1:0}),i=n.querySelectorAll(Kx),o=Array.from(i).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(l=>_n(l))},lg=()=>di(document.body,W.shown)&&!di(document.body,W["toast-shown"])&&!di(document.body,W["no-backdrop"]),_d=()=>{const n=ze();return n?di(n,W.toast):!1},Gx=()=>{const n=ze();return n?n.hasAttribute("data-loading"):!1},Nn=(n,e)=>{if(n.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(c=>{n.appendChild(c)});const l=i.querySelector("body");l&&Array.from(l.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?n.appendChild(c.cloneNode(!0)):n.appendChild(c)})}},di=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let i=0;i<t.length;i++)if(!n.classList.contains(t[i]))return!1;return!0},Qx=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(W).includes(t)&&!Object.values(Mh).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Pn=(n,e,t)=>{if(Qx(n,e),!e.customClass)return;const i=e.customClass[t];if(i){if(typeof i!="string"&&!i.forEach){an(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof i}"`);return}We(n,i)}},Ed=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${W.popup} > .${W[e]}`);case"checkbox":return n.querySelector(`.${W.popup} > .${W.checkbox} input`);case"radio":return n.querySelector(`.${W.popup} > .${W.radio} input:checked`)||n.querySelector(`.${W.popup} > .${W.radio} input:first-child`);case"range":return n.querySelector(`.${W.popup} > .${W.range} input`);default:return n.querySelector(`.${W.popup} > .${W.input}`)}},PT=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},xT=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(n)?n.forEach(o=>{t?o.classList.add(i):o.classList.remove(i)}):t?n.classList.add(i):n.classList.remove(i)}))},We=(n,e)=>{xT(n,e,!0)},Wn=(n,e)=>{xT(n,e,!1)},Ji=(n,e)=>{const t=Array.from(n.children);for(let i=0;i<t.length;i++){const o=t[i];if(o instanceof HTMLElement&&di(o,e))return o}},Ys=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},Mt=(n,e="flex")=>{n&&(n.style.display=e)},Zt=n=>{n&&(n.style.display="none")},ug=(n,e="block")=>{n&&new MutationObserver(()=>{Ru(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},E_=(n,e,t,i)=>{const o=n.querySelector(e);o&&o.style.setProperty(t,i)},Ru=(n,e,t="flex")=>{e?Mt(n,t):Zt(n)},_n=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),Yx=()=>!_n(Ur())&&!_n(fo())&&!_n(Fa()),Gp=n=>n.scrollHeight>n.clientHeight,Xx=(n,e)=>{let t=n;for(;t&&t!==e;){if(Gp(t))return!0;t=t.parentElement}return!1},NT=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||i>0},cg=(n,e=!1)=>{const t=vd();t&&_n(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},Jx=()=>{const n=vd();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),i=e/t*100;n.style.width=`${i}%`},Zx=()=>typeof window>"u"||typeof document>"u",eN=`
 <div aria-labelledby="${W.title}" aria-describedby="${W["html-container"]}" class="${W.popup}" tabindex="-1">
   <button type="button" class="${W.close}"></button>
   <ul class="${W["progress-steps"]}"></ul>
   <div class="${W.icon}"></div>
   <img class="${W.image}" />
   <h2 class="${W.title}" id="${W.title}"></h2>
   <div class="${W["html-container"]}" id="${W["html-container"]}"></div>
   <input class="${W.input}" id="${W.input}" />
   <input type="file" class="${W.file}" />
   <div class="${W.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${W.select}" id="${W.select}"></select>
   <div class="${W.radio}"></div>
   <label class="${W.checkbox}">
     <input type="checkbox" id="${W.checkbox}" />
     <span class="${W.label}"></span>
   </label>
   <textarea class="${W.textarea}" id="${W.textarea}"></textarea>
   <div class="${W["validation-message"]}" id="${W["validation-message"]}"></div>
   <div class="${W.actions}">
     <div class="${W.loader}"></div>
     <button type="button" class="${W.confirm}"></button>
     <button type="button" class="${W.deny}"></button>
     <button type="button" class="${W.cancel}"></button>
   </div>
   <div class="${W.footer}"></div>
   <div class="${W["timer-progress-bar-container"]}">
     <div class="${W["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),tN=()=>{const n=ln();return n?(n.remove(),Wn([document.documentElement,document.body],[W["no-backdrop"],W["toast-shown"],W["has-column"]]),!0):!1},Hs=()=>{_e.currentInstance.resetValidationMessage()},nN=()=>{const n=ze(),e=Ji(n,W.input),t=Ji(n,W.file),i=n.querySelector(`.${W.range} input`),o=n.querySelector(`.${W.range} output`),l=Ji(n,W.select),c=n.querySelector(`.${W.checkbox} input`),d=Ji(n,W.textarea);e.oninput=Hs,t.onchange=Hs,l.onchange=Hs,c.onchange=Hs,d.oninput=Hs,i.oninput=()=>{Hs(),o.value=i.value},i.onchange=()=>{Hs(),o.value=i.value}},rN=n=>typeof n=="string"?document.querySelector(n):n,iN=n=>{const e=ze();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},sN=n=>{window.getComputedStyle(n).direction==="rtl"&&We(ln(),W.rtl)},oN=n=>{const e=tN();if(Zx()){ho("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=W.container,e&&We(t,W["no-transition"]),Nn(t,eN),t.dataset.swal2Theme=n.theme;const i=rN(n.target);i.appendChild(t),n.topLayer&&(t.setAttribute("popover",""),t.showPopover()),iN(n),sN(i),nN()},hg=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?aN(n,e):n&&Nn(e,n)},aN=(n,e)=>{n.jquery?lN(e,n):Nn(e,n.toString())},lN=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},uN=(n,e)=>{const t=ku(),i=Ua();!t||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Zt(t):Mt(t),Pn(t,e,"actions"),cN(t,i,e),Nn(i,e.loaderHtml||""),Pn(i,e,"loader"))};function cN(n,e,t){const i=Ur(),o=fo(),l=Fa();!i||!o||!l||(mp(i,"confirm",t),mp(o,"deny",t),mp(l,"cancel",t),hN(i,o,l,t),t.reverseButtons&&(t.toast?(n.insertBefore(l,i),n.insertBefore(o,i)):(n.insertBefore(l,e),n.insertBefore(o,e),n.insertBefore(i,e))))}function hN(n,e,t,i){if(!i.buttonsStyling){Wn([n,e,t],W.styled);return}We([n,e,t],W.styled),i.confirmButtonColor&&n.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),pp(n),pp(e),pp(t)}function pp(n){const e=window.getComputedStyle(n);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");n.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function mp(n,e,t){const i=tg(e);Ru(n,t[`show${i}Button`],"inline-block"),Nn(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=W[e],Pn(n,t,`${e}Button`)}const dN=(n,e)=>{const t=og();t&&(Nn(t,e.closeButtonHtml||""),Pn(t,e,"closeButton"),Ru(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},fN=(n,e)=>{const t=ln();t&&(pN(t,e.backdrop),mN(t,e.position),gN(t,e.grow),Pn(t,e,"container"))};function pN(n,e){typeof e=="string"?n.style.background=e:e||We([document.documentElement,document.body],W["no-backdrop"])}function mN(n,e){e&&(e in W?We(n,W[e]):(an('The "position" parameter is not valid, defaulting to "center"'),We(n,W.center)))}function gN(n,e){e&&We(n,W[`grow-${e}`])}var et={innerParams:new WeakMap,domCache:new WeakMap};const yN=["input","file","range","select","radio","checkbox","textarea"],wN=(n,e)=>{const t=ze();if(!t)return;const i=et.innerParams.get(n),o=!i||e.input!==i.input;yN.forEach(l=>{const c=Ji(t,W[l]);c&&(EN(l,e.inputAttributes),c.className=W[l],o&&Zt(c))}),e.input&&(o&&vN(e),TN(e))},vN=n=>{if(!n.input)return;if(!gt[n.input]){ho(`Unexpected type of input! Expected ${Object.keys(gt).join(" | ")}, got "${n.input}"`);return}const e=DT(n.input);if(!e)return;const t=gt[n.input](e,n);Mt(e),n.inputAutoFocus&&setTimeout(()=>{PT(t)})},_N=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},EN=(n,e)=>{const t=ze();if(!t)return;const i=Ed(t,n);if(i){_N(i);for(const o in e)i.setAttribute(o,e[o])}},TN=n=>{if(!n.input)return;const e=DT(n.input);e&&Pn(e,n,"input")},dg=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},bu=(n,e,t)=>{if(t.inputLabel){const i=document.createElement("label"),o=W["input-label"];i.setAttribute("for",n.id),i.className=o,typeof t.customClass=="object"&&We(i,t.customClass.inputLabel),i.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",i)}},DT=n=>{const e=ze();if(e)return Ji(e,W[n]||W.input)},Fh=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:rg(e)||an(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},gt={};gt.text=gt.email=gt.password=gt.number=gt.tel=gt.url=gt.search=gt.date=gt["datetime-local"]=gt.time=gt.week=gt.month=(n,e)=>(Fh(n,e.inputValue),bu(n,n,e),dg(n,e),n.type=e.input,n);gt.file=(n,e)=>(bu(n,n,e),dg(n,e),n);gt.range=(n,e)=>{const t=n.querySelector("input"),i=n.querySelector("output");return Fh(t,e.inputValue),t.type=e.input,Fh(i,e.inputValue),bu(t,n,e),n};gt.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");Nn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return bu(n,n,e),n};gt.radio=n=>(n.textContent="",n);gt.checkbox=(n,e)=>{const t=Ed(ze(),"checkbox");t.value="1",t.checked=!!e.inputValue;const i=n.querySelector("span");return Nn(i,e.inputPlaceholder||e.inputLabel),t};gt.textarea=(n,e)=>{Fh(n,e.inputValue),dg(n,e),bu(n,n,e);const t=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(ze()).width),o=()=>{if(!document.body.contains(n))return;const l=n.offsetWidth+t(n);l>i?ze().style.width=`${l}px`:Ys(ze(),"width",e.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const IN=(n,e)=>{const t=ig();t&&(ug(t),Pn(t,e,"htmlContainer"),e.html?(hg(e.html,t),Mt(t,"block")):e.text?(t.textContent=e.text,Mt(t,"block")):Zt(t),wN(n,e))},SN=(n,e)=>{const t=bT();t&&(ug(t),Ru(t,e.footer,"block"),e.footer&&hg(e.footer,t),Pn(t,e,"footer"))},CN=(n,e)=>{const t=et.innerParams.get(n),i=Ma();if(!i)return;if(t&&e.icon===t.icon){I_(i,e),T_(i,e);return}if(!e.icon&&!e.iconHtml){Zt(i);return}if(e.icon&&Object.keys(Mh).indexOf(e.icon)===-1){ho(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Zt(i);return}Mt(i),I_(i,e),T_(i,e),We(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",OT)},T_=(n,e)=>{for(const[t,i]of Object.entries(Mh))e.icon!==t&&Wn(n,i);We(n,e.icon&&Mh[e.icon]),RN(n,e),OT(),Pn(n,e,"icon")},OT=()=>{const n=ze();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<t.length;i++)t[i].style.backgroundColor=e},AN=n=>`
  ${n.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${n.animation?'<div class="swal2-success-fix"></div>':""}
  ${n.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,kN=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,I_=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,i="";e.iconHtml?i=S_(e.iconHtml):e.icon==="success"?(i=AN(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?i=kN:e.icon&&(i=S_({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==i.trim()&&Nn(n,i)},RN=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])E_(n,t,"background-color",e.iconColor);E_(n,".swal2-success-ring","border-color",e.iconColor)}},S_=n=>`<div class="${W["icon-content"]}">${n}</div>`,bN=(n,e)=>{const t=RT();if(t){if(!e.imageUrl){Zt(t);return}Mt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Ys(t,"width",e.imageWidth),Ys(t,"height",e.imageHeight),t.className=W.image,Pn(t,e,"image")}};let fg=!1,LT=0,VT=0,MT=0,FT=0;const PN=n=>{n.addEventListener("mousedown",Uh),document.body.addEventListener("mousemove",jh),n.addEventListener("mouseup",Bh),n.addEventListener("touchstart",Uh),document.body.addEventListener("touchmove",jh),n.addEventListener("touchend",Bh)},xN=n=>{n.removeEventListener("mousedown",Uh),document.body.removeEventListener("mousemove",jh),n.removeEventListener("mouseup",Bh),n.removeEventListener("touchstart",Uh),document.body.removeEventListener("touchmove",jh),n.removeEventListener("touchend",Bh)},Uh=n=>{const e=ze();if(n.target===e||Ma().contains(n.target)){fg=!0;const t=UT(n);LT=t.clientX,VT=t.clientY,MT=parseInt(e.style.insetInlineStart)||0,FT=parseInt(e.style.insetBlockStart)||0,We(e,"swal2-dragging")}},jh=n=>{const e=ze();if(fg){let{clientX:t,clientY:i}=UT(n);e.style.insetInlineStart=`${MT+(t-LT)}px`,e.style.insetBlockStart=`${FT+(i-VT)}px`}},Bh=()=>{const n=ze();fg=!1,Wn(n,"swal2-dragging")},UT=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},NN=(n,e)=>{const t=ln(),i=ze();if(!(!t||!i)){if(e.toast){Ys(t,"width",e.width),i.style.width="100%";const o=Ua();o&&i.insertBefore(o,Ma())}else Ys(i,"width",e.width);Ys(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),Zt(wd()),DN(i,e),e.draggable&&!e.toast?(We(i,W.draggable),PN(i)):(Wn(i,W.draggable),xN(i))}},DN=(n,e)=>{const t=e.showClass||{};n.className=`${W.popup} ${_n(n)?t.popup:""}`,e.toast?(We([document.documentElement,document.body],W["toast-shown"]),We(n,W.toast)):We(n,W.modal),Pn(n,e,"popup"),typeof e.customClass=="string"&&We(n,e.customClass),e.icon&&We(n,W[`icon-${e.icon}`])},ON=(n,e)=>{const t=sg();if(!t)return;const{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){Zt(t);return}Mt(t),t.textContent="",o>=i.length&&an("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((l,c)=>{const d=LN(l);if(t.appendChild(d),c===o&&We(d,W["active-progress-step"]),c!==i.length-1){const p=VN(e);t.appendChild(p)}})},LN=n=>{const e=document.createElement("li");return We(e,W["progress-step"]),Nn(e,n),e},VN=n=>{const e=document.createElement("li");return We(e,W["progress-step-line"]),n.progressStepsDistance&&Ys(e,"width",n.progressStepsDistance),e},MN=(n,e)=>{const t=kT();t&&(ug(t),Ru(t,e.title||e.titleText,"block"),e.title&&hg(e.title,t),e.titleText&&(t.innerText=e.titleText),Pn(t,e,"title"))},jT=(n,e)=>{NN(n,e),fN(n,e),ON(n,e),CN(n,e),bN(n,e),MN(n,e),dN(n,e),IN(n,e),uN(n,e),SN(n,e);const t=ze();typeof e.didRender=="function"&&t&&e.didRender(t),_e.eventEmitter.emit("didRender",t)},FN=()=>_n(ze()),BT=()=>{var n;return(n=Ur())===null||n===void 0?void 0:n.click()},UN=()=>{var n;return(n=fo())===null||n===void 0?void 0:n.click()},jN=()=>{var n;return(n=Fa())===null||n===void 0?void 0:n.click()},ja=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),$T=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},BN=(n,e,t)=>{$T(n),e.toast||(n.keydownHandler=i=>zN(e,i,t),n.keydownTarget=e.keydownListenerCapture?window:ze(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},Qp=(n,e)=>{var t;const i=ag();if(i.length){n=n+e,n===-2&&(n=i.length-1),n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(t=ze())===null||t===void 0||t.focus()},zT=["ArrowRight","ArrowDown"],$N=["ArrowLeft","ArrowUp"],zN=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?HN(e,n):e.key==="Tab"?qN(e):[...zT,...$N].includes(e.key)?WN(e.key):e.key==="Escape"&&KN(e,n,t)))},HN=(n,e)=>{if(!yd(e.allowEnterKey))return;const t=Ed(ze(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;BT(),n.preventDefault()}},qN=n=>{const e=n.target,t=ag();let i=-1;for(let o=0;o<t.length;o++)if(e===t[o]){i=o;break}n.shiftKey?Qp(i,-1):Qp(i,1),n.stopPropagation(),n.preventDefault()},WN=n=>{const e=ku(),t=Ur(),i=fo(),o=Fa();if(!e||!t||!i||!o)return;const l=[t,i,o];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const c=zT.includes(n)?"nextElementSibling":"previousElementSibling";let d=document.activeElement;if(d){for(let p=0;p<e.children.length;p++){if(d=d[c],!d)return;if(d instanceof HTMLButtonElement&&_n(d))break}d instanceof HTMLButtonElement&&d.focus()}},KN=(n,e,t)=>{n.preventDefault(),yd(e.allowEscapeKey)&&t(ja.esc)};var Ca={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const GN=()=>{const n=ln();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},HT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},qT=typeof window<"u"&&!!window.GestureEvent,QN=()=>{if(qT&&!di(document.body,W.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,We(document.body,W.iosfix),YN()}},YN=()=>{const n=ln();if(!n)return;let e;n.ontouchstart=t=>{e=XN(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},XN=n=>{const e=n.target,t=ln(),i=ig();return!t||!i||JN(n)||ZN(n)?!1:e===t||!Gp(t)&&e instanceof HTMLElement&&!Xx(e,i)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Gp(i)&&i.contains(e))},JN=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",ZN=n=>n.touches&&n.touches.length>1,eD=()=>{if(di(document.body,W.iosfix)){const n=parseInt(document.body.style.top,10);Wn(document.body,W.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},tD=()=>{const n=document.createElement("div");n.className=W["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let ga=null;const nD=n=>{ga===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(ga=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ga+tD()}px`)},rD=()=>{ga!==null&&(document.body.style.paddingRight=`${ga}px`,ga=null)};function WT(n,e,t,i){_d()?C_(n,i):(Bx(t).then(()=>C_(n,i)),$T(_e)),qT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),lg()&&(rD(),eD(),HT()),iD()}function iD(){Wn([document.documentElement,document.body],[W.shown,W["height-auto"],W["no-backdrop"],W["toast-shown"]])}function Zi(n){n=oD(n);const e=Ca.swalPromiseResolve.get(this),t=sD(this);this.isAwaitingPromise?n.isDismissed||(Pu(this),e(n)):t&&e(n)}const sD=n=>{const e=ze();if(!e)return!1;const t=et.innerParams.get(n);if(!t||di(e,t.hideClass.popup))return!1;Wn(e,t.showClass.popup),We(e,t.hideClass.popup);const i=ln();return Wn(i,t.showClass.backdrop),We(i,t.hideClass.backdrop),aD(n,e,t),!0};function KT(n){const e=Ca.swalPromiseReject.get(this);Pu(this),e&&e(n)}const Pu=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,et.innerParams.get(n)||n._destroy())},oD=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),aD=(n,e,t)=>{var i;const o=ln(),l=NT(e);typeof t.willClose=="function"&&t.willClose(e),(i=_e.eventEmitter)===null||i===void 0||i.emit("willClose",e),l?lD(n,e,o,t.returnFocus,t.didClose):WT(n,o,t.returnFocus,t.didClose)},lD=(n,e,t,i,o)=>{_e.swalCloseEventFinishedCallback=WT.bind(null,n,t,i,o);const l=function(c){if(c.target===e){var d;(d=_e.swalCloseEventFinishedCallback)===null||d===void 0||d.call(_e),delete _e.swalCloseEventFinishedCallback,e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l)}};e.addEventListener("animationend",l),e.addEventListener("transitionend",l)},C_=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=_e.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},Aa=n=>{let e=ze();if(e||new oi,e=ze(),!e)return;const t=Ua();_d()?Zt(Ma()):uD(e,n),Mt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},uD=(n,e)=>{const t=ku(),i=Ua();!t||!i||(!e&&_n(Ur())&&(e=Ur()),Mt(t),e&&(Zt(e),i.setAttribute("data-button-to-replace",e.className),t.insertBefore(i,e)),We([n,t],W.loading))},cD=(n,e)=>{e.input==="select"||e.input==="radio"?mD(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(ng(e.inputValue)||rg(e.inputValue))&&(Aa(Ur()),gD(n,e))},hD=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return dD(t);case"radio":return fD(t);case"file":return pD(t);default:return e.inputAutoTrim?t.value.trim():t.value}},dD=n=>n.checked?1:0,fD=n=>n.checked?n.value:null,pD=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,mD=(n,e)=>{const t=ze();if(!t)return;const i=o=>{e.input==="select"?yD(t,$h(o),e):e.input==="radio"&&wD(t,$h(o),e)};ng(e.inputOptions)||rg(e.inputOptions)?(Aa(Ur()),Cu(e.inputOptions).then(o=>{n.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):ho(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},gD=(n,e)=>{const t=n.getInput();t&&(Zt(t),Cu(e.inputValue).then(i=>{t.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,Mt(t),t.focus(),n.hideLoading()}).catch(i=>{ho(`Error in inputValue promise: ${i}`),t.value="",Mt(t),t.focus(),n.hideLoading()}))};function yD(n,e,t){const i=Ji(n,W.select);if(!i)return;const o=(l,c,d)=>{const p=document.createElement("option");p.value=d,Nn(p,c),p.selected=GT(d,t.inputValue),l.appendChild(p)};e.forEach(l=>{const c=l[0],d=l[1];if(Array.isArray(d)){const p=document.createElement("optgroup");p.label=c,p.disabled=!1,i.appendChild(p),d.forEach(y=>o(p,y[1],y[0]))}else o(i,d,c)}),i.focus()}function wD(n,e,t){const i=Ji(n,W.radio);if(!i)return;e.forEach(l=>{const c=l[0],d=l[1],p=document.createElement("input"),y=document.createElement("label");p.type="radio",p.name=W.radio,p.value=c,GT(c,t.inputValue)&&(p.checked=!0);const v=document.createElement("span");Nn(v,d),v.className=W.label,y.appendChild(p),y.appendChild(v),i.appendChild(y)});const o=i.querySelectorAll("input");o.length&&o[0].focus()}const $h=n=>{const e=[];return n instanceof Map?n.forEach((t,i)=>{let o=t;typeof o=="object"&&(o=$h(o)),e.push([i,o])}):Object.keys(n).forEach(t=>{let i=n[t];typeof i=="object"&&(i=$h(i)),e.push([t,i])}),e},GT=(n,e)=>!!e&&e.toString()===n.toString(),vD=n=>{const e=et.innerParams.get(n);n.disableButtons(),e.input?QT(n,"confirm"):mg(n,!0)},_D=n=>{const e=et.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?QT(n,"deny"):pg(n,!1)},ED=(n,e)=>{n.disableButtons(),e(ja.cancel)},QT=(n,e)=>{const t=et.innerParams.get(n);if(!t.input){ho(`The "input" parameter is needed to be set when using returnInputValueOn${tg(e)}`);return}const i=n.getInput(),o=hD(n,t);t.inputValidator?TD(n,o,e):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||i.validationMessage)):e==="deny"?pg(n,o):mg(n,o)},TD=(n,e,t)=>{const i=et.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>Cu(i.inputValidator(e,i.validationMessage))).then(l=>{n.enableButtons(),n.enableInput(),l?n.showValidationMessage(l):t==="deny"?pg(n,e):mg(n,e)})},pg=(n,e)=>{const t=et.innerParams.get(n||void 0);t.showLoaderOnDeny&&Aa(fo()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>Cu(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(n.hideLoading(),Pu(n)):n.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>YT(n||void 0,o))):n.close({isDenied:!0,value:e})},A_=(n,e)=>{n.close({isConfirmed:!0,value:e})},YT=(n,e)=>{n.rejectPromise(e)},mg=(n,e)=>{const t=et.innerParams.get(n||void 0);t.showLoaderOnConfirm&&Aa(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>Cu(t.preConfirm(e,t.validationMessage))).then(o=>{_n(wd())||o===!1?(n.hideLoading(),Pu(n)):A_(n,typeof o>"u"?e:o)}).catch(o=>YT(n||void 0,o))):A_(n,e)};function zh(){const n=et.innerParams.get(this);if(!n)return;const e=et.domCache.get(this);Zt(e.loader),_d()?n.icon&&Mt(Ma()):ID(e),Wn([e.popup,e.actions],W.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const ID=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?Mt(e[0],"inline-block"):Yx()&&Zt(n.actions)};function XT(){const n=et.innerParams.get(this),e=et.domCache.get(this);return e?Ed(e.popup,n.input):null}function JT(n,e,t){const i=et.domCache.get(n);e.forEach(o=>{i[o].disabled=t})}function ZT(n,e){const t=ze();if(!(!t||!n))if(n.type==="radio"){const i=t.querySelectorAll(`[name="${W.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else n.disabled=e}function eI(){JT(this,["confirmButton","denyButton","cancelButton"],!1)}function tI(){JT(this,["confirmButton","denyButton","cancelButton"],!0)}function nI(){ZT(this.getInput(),!1)}function rI(){ZT(this.getInput(),!0)}function iI(n){const e=et.domCache.get(this),t=et.innerParams.get(this);Nn(e.validationMessage,n),e.validationMessage.className=W["validation-message"],t.customClass&&t.customClass.validationMessage&&We(e.validationMessage,t.customClass.validationMessage),Mt(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",W["validation-message"]),PT(i),We(i,W.inputerror))}function sI(){const n=et.domCache.get(this);n.validationMessage&&Zt(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Wn(e,W.inputerror))}const ya={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},SD=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],CD={allowEnterKey:void 0},AD=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],oI=n=>Object.prototype.hasOwnProperty.call(ya,n),aI=n=>SD.indexOf(n)!==-1,lI=n=>CD[n],kD=n=>{oI(n)||an(`Unknown parameter "${n}"`)},RD=n=>{AD.includes(n)&&an(`The parameter "${n}" is incompatible with toasts`)},bD=n=>{const e=lI(n);e&&AT(n,e)},uI=n=>{n.backdrop===!1&&n.allowOutsideClick&&an('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(n.theme)&&an(`Invalid theme "${n.theme}"`);for(const e in n)kD(e),n.toast&&RD(e),bD(e)};function cI(n){const e=ln(),t=ze(),i=et.innerParams.get(this);if(!t||di(t,i.hideClass.popup)){an("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=PD(n),l=Object.assign({},i,o);uI(l),e.dataset.swal2Theme=l.theme,jT(this,l),et.innerParams.set(this,l),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const PD=n=>{const e={};return Object.keys(n).forEach(t=>{aI(t)?e[t]=n[t]:an(`Invalid parameter to update: ${t}`)}),e};function hI(){const n=et.domCache.get(this),e=et.innerParams.get(this);if(!e){dI(this);return}n.popup&&_e.swalCloseEventFinishedCallback&&(_e.swalCloseEventFinishedCallback(),delete _e.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),_e.eventEmitter.emit("didDestroy"),xD(this)}const xD=n=>{dI(n),delete n.params,delete _e.keydownHandler,delete _e.keydownTarget,delete _e.currentInstance},dI=n=>{n.isAwaitingPromise?(gp(et,n),n.isAwaitingPromise=!0):(gp(Ca,n),gp(et,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},gp=(n,e)=>{for(const t in n)n[t].delete(e)};var ND=Object.freeze({__proto__:null,_destroy:hI,close:Zi,closeModal:Zi,closePopup:Zi,closeToast:Zi,disableButtons:tI,disableInput:rI,disableLoading:zh,enableButtons:eI,enableInput:nI,getInput:XT,handleAwaitingPromise:Pu,hideLoading:zh,rejectPromise:KT,resetValidationMessage:sI,showValidationMessage:iI,update:cI});const DD=(n,e,t)=>{n.toast?OD(n,e,t):(VD(e),MD(e),FD(n,e,t))},OD=(n,e,t)=>{e.popup.onclick=()=>{n&&(LD(n)||n.timer||n.input)||t(ja.close)}},LD=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Hh=!1;const VD=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(Hh=!0)}}},MD=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(Hh=!0)}}},FD=(n,e,t)=>{e.container.onclick=i=>{if(Hh){Hh=!1;return}i.target===e.container&&yd(n.allowOutsideClick)&&t(ja.backdrop)}},UD=n=>typeof n=="object"&&n.jquery,k_=n=>n instanceof Element||UD(n),jD=n=>{const e={};return typeof n[0]=="object"&&!k_(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,i)=>{const o=n[i];typeof o=="string"||k_(o)?e[t]=o:o!==void 0&&ho(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function BD(...n){return new this(...n)}function $D(n){class e extends this{_main(i,o){return super._main(i,Object.assign({},n,o))}}return e}const zD=()=>_e.timeout&&_e.timeout.getTimerLeft(),fI=()=>{if(_e.timeout)return Jx(),_e.timeout.stop()},pI=()=>{if(_e.timeout){const n=_e.timeout.start();return cg(n),n}},HD=()=>{const n=_e.timeout;return n&&(n.running?fI():pI())},qD=n=>{if(_e.timeout){const e=_e.timeout.increase(n);return cg(e,!0),e}},WD=()=>!!(_e.timeout&&_e.timeout.isRunning());let R_=!1;const Yp={};function KD(n="data-swal-template"){Yp[n]=this,R_||(document.body.addEventListener("click",GD),R_=!0)}const GD=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in Yp){const i=e.getAttribute(t);if(i){Yp[t].fire({template:i});return}}};class QD{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const i=this._getHandlersByEventName(e);i.includes(t)||i.push(t)}once(e,t){const i=(...o)=>{this.removeListener(e,i),t.apply(this,o)};this.on(e,i)}emit(e,...t){this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const i=this._getHandlersByEventName(e),o=i.indexOf(t);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}_e.eventEmitter=new QD;const YD=(n,e)=>{_e.eventEmitter.on(n,e)},XD=(n,e)=>{_e.eventEmitter.once(n,e)},JD=(n,e)=>{if(!n){_e.eventEmitter.reset();return}e?_e.eventEmitter.removeListener(n,e):_e.eventEmitter.removeAllListeners(n)};var ZD=Object.freeze({__proto__:null,argsToParams:jD,bindClickHandler:KD,clickCancel:jN,clickConfirm:BT,clickDeny:UN,enableLoading:Aa,fire:BD,getActions:ku,getCancelButton:Fa,getCloseButton:og,getConfirmButton:Ur,getContainer:ln,getDenyButton:fo,getFocusableElements:ag,getFooter:bT,getHtmlContainer:ig,getIcon:Ma,getIconContent:qx,getImage:RT,getInputLabel:Wx,getLoader:Ua,getPopup:ze,getProgressSteps:sg,getTimerLeft:zD,getTimerProgressBar:vd,getTitle:kT,getValidationMessage:wd,increaseTimer:qD,isDeprecatedParameter:lI,isLoading:Gx,isTimerRunning:WD,isUpdatableParameter:aI,isValidParameter:oI,isVisible:FN,mixin:$D,off:JD,on:YD,once:XD,resumeTimer:pI,showLoading:Aa,stopTimer:fI,toggleTimer:HD});class eO{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const mI=["swal-title","swal-html","swal-footer"],tO=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return uO(t),Object.assign(nO(t),rO(t),iO(t),sO(t),oO(t),aO(t),lO(t,mI))},nO=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{io(i,["name","value"]);const o=i.getAttribute("name"),l=i.getAttribute("value");!o||!l||(typeof ya[o]=="boolean"?e[o]=l!=="false":typeof ya[o]=="object"?e[o]=JSON.parse(l):e[o]=l)}),e},rO=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{const o=i.getAttribute("name"),l=i.getAttribute("value");!o||!l||(e[o]=new Function(`return ${l}`)())}),e},iO=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{io(i,["type","color","aria-label"]);const o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${tg(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},sO=n=>{const e={},t=n.querySelector("swal-image");return t&&(io(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},oO=n=>{const e={},t=n.querySelector("swal-icon");return t&&(io(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},aO=n=>{const e={},t=n.querySelector("swal-input");t&&(io(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{io(o,["value"]);const l=o.getAttribute("value");if(!l)return;const c=o.innerHTML;e.inputOptions[l]=c})),e},lO=(n,e)=>{const t={};for(const i in e){const o=e[i],l=n.querySelector(o);l&&(io(l,[]),t[o.replace(/^swal-/,"")]=l.innerHTML.trim())}return t},uO=n=>{const e=mI.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const i=t.tagName.toLowerCase();e.includes(i)||an(`Unrecognized element <${i}>`)})},io=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&an([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},gI=10,cO=n=>{const e=ln(),t=ze();typeof n.willOpen=="function"&&n.willOpen(t),_e.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;fO(e,t,n),setTimeout(()=>{hO(e,t)},gI),lg()&&(dO(e,n.scrollbarPadding,o),GN()),!_d()&&!_e.previousActiveElement&&(_e.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),_e.eventEmitter.emit("didOpen",t),Wn(e,W["no-transition"])},qh=n=>{const e=ze();if(n.target!==e)return;const t=ln();e.removeEventListener("animationend",qh),e.removeEventListener("transitionend",qh),t.style.overflowY="auto"},hO=(n,e)=>{NT(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",qh),e.addEventListener("transitionend",qh)):n.style.overflowY="auto"},dO=(n,e,t)=>{QN(),e&&t!=="hidden"&&nD(t),setTimeout(()=>{n.scrollTop=0})},fO=(n,e,t)=>{We(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Mt(e,"grid"),setTimeout(()=>{We(e,t.showClass.popup),e.style.removeProperty("opacity")},gI)):Mt(e,"grid"),We([document.documentElement,document.body],W.shown),t.heightAuto&&t.backdrop&&!t.toast&&We([document.documentElement,document.body],W["height-auto"])};var b_={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function pO(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=b_.email),n.input==="url"&&(n.inputValidator=b_.url))}function mO(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(an('Target parameter is not valid, defaulting to "body"'),n.target="body")}function gO(n){pO(n),n.showLoaderOnConfirm&&!n.preConfirm&&an(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),mO(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),oN(n)}let Rr;var eh=new WeakMap;class vt{constructor(...e){if(Mx(this,eh,void 0),typeof window>"u")return;Rr=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,Fx(eh,this,this._main(Rr.params))}_main(e,t={}){if(uI(Object.assign({},t,e)),_e.currentInstance){const l=Ca.swalPromiseResolve.get(_e.currentInstance),{isAwaitingPromise:c}=_e.currentInstance;_e.currentInstance._destroy(),c||l({isDismissed:!0}),lg()&&HT()}_e.currentInstance=Rr;const i=wO(e,t);gO(i),Object.freeze(i),_e.timeout&&(_e.timeout.stop(),delete _e.timeout),clearTimeout(_e.restoreFocusTimeout);const o=vO(Rr);return jT(Rr,i),et.innerParams.set(Rr,i),yO(Rr,o,i)}then(e){return v_(eh,this).then(e)}finally(e){return v_(eh,this).finally(e)}}const yO=(n,e,t)=>new Promise((i,o)=>{const l=c=>{n.close({isDismissed:!0,dismiss:c})};Ca.swalPromiseResolve.set(n,i),Ca.swalPromiseReject.set(n,o),e.confirmButton.onclick=()=>{vD(n)},e.denyButton.onclick=()=>{_D(n)},e.cancelButton.onclick=()=>{ED(n,l)},e.closeButton.onclick=()=>{l(ja.close)},DD(t,e,l),BN(_e,t,l),cD(n,t),cO(t),_O(_e,t,l),EO(e,t),setTimeout(()=>{e.container.scrollTop=0})}),wO=(n,e)=>{const t=tO(n),i=Object.assign({},ya,e,t,n);return i.showClass=Object.assign({},ya.showClass,i.showClass),i.hideClass=Object.assign({},ya.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},vO=n=>{const e={popup:ze(),container:ln(),actions:ku(),confirmButton:Ur(),denyButton:fo(),cancelButton:Fa(),loader:Ua(),closeButton:og(),validationMessage:wd(),progressSteps:sg()};return et.domCache.set(n,e),e},_O=(n,e,t)=>{const i=vd();Zt(i),e.timer&&(n.timeout=new eO(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(Mt(i),Pn(i,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&cg(e.timer)})))},EO=(n,e)=>{if(!e.toast){if(!yd(e.allowEnterKey)){AT("allowEnterKey"),SO();return}TO(n)||IO(n,e)||Qp(-1,1)}},TO=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&_n(t))return t.focus(),!0;return!1},IO=(n,e)=>e.focusDeny&&_n(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&_n(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&_n(n.confirmButton)?(n.confirmButton.focus(),!0):!1,SO=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};vt.prototype.disableButtons=tI;vt.prototype.enableButtons=eI;vt.prototype.getInput=XT;vt.prototype.disableInput=rI;vt.prototype.enableInput=nI;vt.prototype.hideLoading=zh;vt.prototype.disableLoading=zh;vt.prototype.showValidationMessage=iI;vt.prototype.resetValidationMessage=sI;vt.prototype.close=Zi;vt.prototype.closePopup=Zi;vt.prototype.closeModal=Zi;vt.prototype.closeToast=Zi;vt.prototype.rejectPromise=KT;vt.prototype.update=cI;vt.prototype._destroy=hI;Object.assign(vt,ZD);Object.keys(ND).forEach(n=>{vt[n]=function(...e){return Rr&&Rr[n]?Rr[n](...e):null}});vt.DismissReason=ja;vt.version="11.23.0";const oi=vt;oi.default=oi;typeof document<"u"&&(function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const lu="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",cr="/Fantasy-Casadillos/assets/SinPerfil-HNB6URqh.jpg",CO="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",AO="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",kO="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",RO="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",Fl=Ra(pr),P_=uo(pr),bO=new ai,PO=()=>{const[n,e]=z.useState(!1),[t,i]=z.useState(!1),[o,l]=z.useState(CO),c=Ym();z.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const d=async v=>{v.preventDefault();const E=new FormData(v.currentTarget),I=E.get("email"),N=E.get("password");if(t)try{const{user:V}=await bC(Fl,I,N),$=E.get("nick");await Ap(Fl.currentUser,{displayName:$});const L={nick:$,correo:I,puntos:0,rol:"usuario",dinero:1e8,equipo:{formacion:"2-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:cr,puntuaciones:[0],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await f_(lr(P_,"usuarios",V.uid),L,{merge:!0})}catch(V){console.error("Error registrando usuario:",V);let $="No se pudo crear la cuenta. Revisa los datos.";V.code==="auth/email-already-in-use"?$="Ya existe una cuenta con este correo.":V.code==="auth/weak-password"?$="La contrasea debe tener al menos 6 caracteres.":V.code==="auth/invalid-email"?$="El correo electrnico no es vlido.":$=`Error desconocido: ${V.code}`,oi.fire({icon:"error",title:"Error",text:$})}else try{await PC(Fl,I,N),console.log("Inicio de sesin exitoso"),c("/home")}catch(V){console.error("Error iniciando sesin:",V);let $="Error al iniciar sesin.";(V.code==="auth/invalid-credential"||V.code==="auth/wrong-password"||V.code==="auth/user-not-found")&&($="Correo o contrasea incorrectos."),oi.fire({icon:"error",title:"Error al iniciar sesin",text:$})}},p=async()=>{const{value:v}=await oi.fire({title:"Recuperar contrasea",input:"email",inputLabel:"Introduce tu correo electrnico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:E=>{if(!E)return"El correo es obligatorio"}});if(v)try{await RC(Fl,v),oi.fire("Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(E){oi.fire("Error",E.message,"error")}},y=async()=>{try{const v=await nA(Fl,bO);if(!v?.user)throw new Error("No se obtuvo el usuario de Google.");const E=v.user,I=lr(P_,"usuarios",E.uid);(await Tu(I)).exists()||await f_(I,{nick:E.displayName||"",correo:E.email,puntos:0,rol:"usuario",dinero:1e8,equipo:{formacion:"2-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:cr,puntuaciones:[0],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(v){if(v.code==="auth/popup-closed-by-user"||v.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",v),oi.fire({icon:"error",title:"Error",text:v.message||"No se pudo iniciar sesin con Google"})}};return O.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${lu})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[O.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),O.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[O.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),O.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:O.jsx("label",{style:{cursor:"default",display:"inline-block"},children:O.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),O.jsxs("form",{onSubmit:d,children:[O.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),t&&O.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),O.jsxs("div",{className:"cajaContainerContrasea",children:[O.jsx("input",{type:n?"text":"password",name:"password",placeholder:"Introducir contrasea",className:"cajacontrasea",required:!0}),O.jsx("img",{src:n?kO:RO,alt:"Mostrar contrasea",className:"toggle-password-icon",onClick:()=>e(v=>!v)})]}),!t&&O.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:O.jsx("button",{type:"button",onClick:p,className:"link-style",children:"Has olvidado la contrasea?"})}),t?O.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):O.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[O.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesin"}),O.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),O.jsxs("button",{type:"button",onClick:y,className:"btn-google",style:{width:"auto"},children:[O.jsx("img",{src:AO,alt:"Google"}),"Google"]})]})]}),O.jsxs("h4",{className:"texto",children:[t?"Si ya tienes cuenta":"Si no tienes cuenta",O.jsx("button",{className:"btnswitch",type:"button",onClick:()=>i(!t),children:t?"Inicia sesin":"Regstrate"})]})]})]})},x_={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="firebasestorage.googleapis.com",wI="storageBucket",xO=120*1e3,NO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends jr{constructor(e,t,i=0){super(yp(e),`Firebase Storage: ${t} (${yp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dt||(dt={}));function yp(n){return"storage/"+n}function gg(){const n="An unknown error occurred, please check the error payload for server response.";return new ft(dt.UNKNOWN,n)}function DO(n){return new ft(dt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function OO(n){return new ft(dt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function LO(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft(dt.UNAUTHENTICATED,n)}function VO(){return new ft(dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function MO(n){return new ft(dt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function FO(){return new ft(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UO(){return new ft(dt.CANCELED,"User canceled the upload/download.")}function jO(n){return new ft(dt.INVALID_URL,"Invalid URL '"+n+"'.")}function BO(n){return new ft(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function $O(){return new ft(dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wI+"' property when initializing the app?")}function zO(){return new ft(dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HO(){return new ft(dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qO(n){return new ft(dt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Xp(n){return new ft(dt.INVALID_ARGUMENT,n)}function vI(){return new ft(dt.APP_DELETED,"The Firebase app was deleted.")}function WO(n){return new ft(dt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zl(n,e){return new ft(dt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ul(n){throw new ft(dt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=bn.makeFromUrl(e,t)}catch{return new bn(e,"")}if(i.path==="")return i;throw BO(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function y(ue){ue.path_=decodeURIComponent(ue.path)}const v="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",N=new RegExp(`^https?://${E}/${v}/b/${o}/o${I}`,"i"),V={bucket:1,path:3},$=t===yI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",Y=new RegExp(`^https?://${$}/${o}/${L}`,"i"),ne=[{regex:d,indices:p,postModify:l},{regex:N,indices:V,postModify:y},{regex:Y,indices:{bucket:1,path:2},postModify:y}];for(let ue=0;ue<ne.length;ue++){const Ce=ne[ue],Ie=Ce.regex.exec(e);if(Ie){const P=Ie[Ce.indices.bucket];let C=Ie[Ce.indices.path];C||(C=""),i=new bn(P,C),Ce.postModify(i);break}}if(i==null)throw jO(e);return i}}class KO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n,e,t){let i=1,o=null,l=null,c=!1,d=0;function p(){return d===2}let y=!1;function v(...L){y||(y=!0,e.apply(null,L))}function E(L){o=setTimeout(()=>{o=null,n(N,p())},L)}function I(){l&&clearTimeout(l)}function N(L,...Y){if(y){I();return}if(L){I(),v.call(null,L,...Y);return}if(p()||c){I(),v.call(null,L,...Y);return}i<64&&(i*=2);let ne;d===1?(d=2,ne=0):ne=(i+Math.random())*1e3,E(ne)}let V=!1;function $(L){V||(V=!0,I(),!y&&(o!==null?(L||(d=2),clearTimeout(o),E(0)):L||(d=1)))}return E(0),l=setTimeout(()=>{c=!0,$(!0)},t),$}function QO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(n){return n!==void 0}function XO(n){return typeof n=="object"&&!Array.isArray(n)}function yg(n){return typeof n=="string"||n instanceof String}function N_(n){return wg()&&n instanceof Blob}function wg(){return typeof Blob<"u"}function D_(n,e,t,i){if(i<e)throw Xp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Xp(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function _I(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Xs;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Xs||(Xs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t,i,o,l,c,d,p,y,v,E,I=!0,N=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=E,this.retry=I,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,$)=>{this.resolve_=V,this.reject_=$,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new th(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Xs.NO_ERROR,p=l.getStatus();if(!d||JO(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Xs.ABORT;i(!1,new th(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;i(!0,new th(y,l))})},t=(i,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());YO(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=gg();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?vI():UO();c(p)}else{const p=FO();c(p)}};this.canceled_?t(!1,new th(!1,null,!0)):this.backoffId_=GO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function eL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function tL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function rL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function iL(n,e,t,i,o,l,c=!0,d=!1){const p=_I(n.urlParams),y=n.url+p,v=Object.assign({},n.headers);return nL(v,e),eL(v,t),tL(v,l),rL(v,i),new ZO(y,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function oL(...n){const e=sL();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(wg())return new Blob(n);throw new ft(dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function aL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(n){if(typeof atob>"u")throw qO("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wp{constructor(e,t){this.data=e,this.contentType=t||null}}function uL(n,e){switch(n){case br.RAW:return new wp(EI(e));case br.BASE64:case br.BASE64URL:return new wp(TI(n,e));case br.DATA_URL:return new wp(hL(e),dL(e))}throw gg()}function EI(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function cL(n){let e;try{e=decodeURIComponent(n)}catch{throw Zl(br.DATA_URL,"Malformed data URL.")}return EI(e)}function TI(n,e){switch(n){case br.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Zl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case br.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Zl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=lL(e)}catch(o){throw o.message.includes("polyfill")?o:Zl(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class II{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Zl(br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=fL(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function hL(n){const e=new II(n);return e.base64?TI(br.BASE64,e.rest):cL(e.rest)}function dL(n){return new II(n).contentType}function fL(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t){let i=0,o="";N_(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(N_(this.data_)){const i=this.data_,o=aL(i,e,t);return o===null?null:new Yi(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Yi(i,!0)}}static getBlob(...e){if(wg()){const t=e.map(i=>i instanceof Yi?i.data_:i);return new Yi(oL.apply(null,t))}else{const t=e.map(c=>yg(c)?uL(br.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)o[l++]=c[d]}),new Yi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n){let e;try{e=JSON.parse(n)}catch{return null}return XO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function mL(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function CI(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(n,e){return e}class sn{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||gL}}let nh=null;function yL(n){return!yg(n)||n.length<2?n:CI(n)}function AI(){if(nh)return nh;const n=[];n.push(new sn("bucket")),n.push(new sn("generation")),n.push(new sn("metageneration")),n.push(new sn("name","fullPath",!0));function e(l,c){return yL(c)}const t=new sn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const o=new sn("size");return o.xform=i,n.push(o),n.push(new sn("timeCreated")),n.push(new sn("updated")),n.push(new sn("md5Hash",null,!0)),n.push(new sn("cacheControl",null,!0)),n.push(new sn("contentDisposition",null,!0)),n.push(new sn("contentEncoding",null,!0)),n.push(new sn("contentLanguage",null,!0)),n.push(new sn("contentType",null,!0)),n.push(new sn("metadata","customMetadata",!0)),nh=n,nh}function wL(n,e){function t(){const i=n.bucket,o=n.fullPath,l=new bn(i,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function vL(n,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return wL(i,n),i}function kI(n,e,t){const i=SI(e);return i===null?null:vL(n,i,t)}function _L(n,e,t,i){const o=SI(e);if(o===null||!yg(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(y=>{const v=n.bucket,E=n.fullPath,I="/b/"+c(v)+"/o/"+c(E),N=vg(I,t,i),V=_I({alt:"media",token:y});return N+V})[0]}function EL(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class RI{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n){if(!n)throw gg()}function TL(n,e){function t(i,o){const l=kI(n,o,e);return bI(l!==null),l}return t}function IL(n,e){function t(i,o){const l=kI(n,o,e);return bI(l!==null),_L(l,o,n.host,n._protocol)}return t}function PI(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=VO():o=LO():t.getStatus()===402?o=OO(n.bucket):t.getStatus()===403?o=MO(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function SL(n){const e=PI(n);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=DO(n.path)),l.serverResponse=o.serverResponse,l}return t}function CL(n,e,t){const i=e.fullServerUrl(),o=vg(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new RI(o,l,IL(n,t),c);return d.errorHandler=SL(e),d}function AL(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function kL(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=AL(null,e)),i}function RL(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let ne="";for(let ue=0;ue<2;ue++)ne=ne+Math.random().toString().slice(2);return ne}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const y=kL(e,i,o),v=EL(y,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,I=`\r
--`+p+"--",N=Yi.getBlob(E,i,I);if(N===null)throw zO();const V={name:y.fullPath},$=vg(l,n.host,n._protocol),L="POST",Y=n.maxUploadRetryTime,K=new RI($,L,TL(n,t),Y);return K.urlParams=V,K.headers=c,K.body=N.uploadData(),K.errorHandler=PI(e),K}class bL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o,l){if(this.sent_)throw Ul("cannot .send() more than once");if(ds(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class PL extends bL{initXhr(){this.xhr_.responseType="text"}}function xI(){return new PL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t){this._service=e,t instanceof bn?this._location=t:this._location=bn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new so(e,t)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CI(this._location.path)}get storage(){return this._service}get parent(){const e=pL(this._location.path);if(e===null)return null;const t=new bn(this._location.bucket,e);return new so(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw WO(e)}}function xL(n,e,t){n._throwIfRoot("uploadBytes");const i=RL(n.storage,n._location,AI(),new Yi(e,!0),t);return n.storage.makeRequestWithTokens(i,xI).then(o=>({metadata:o,ref:n}))}function NL(n){n._throwIfRoot("getDownloadURL");const e=CL(n.storage,n._location,AI());return n.storage.makeRequestWithTokens(e,xI).then(t=>{if(t===null)throw HO();return t})}function DL(n,e){const t=mL(n._location.path,e),i=new bn(n._location.bucket,t);return new so(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(n){return/^[A-Za-z]+:\/\//.test(n)}function LL(n,e){return new so(n,e)}function NI(n,e){if(n instanceof _g){const t=n;if(t._bucket==null)throw $O();const i=new so(t,t._bucket);return e!=null?NI(i,e):i}else return e!==void 0?DL(n,e):n}function VL(n,e){if(e&&OL(e)){if(n instanceof _g)return LL(n,e);throw Xp("To use ref(service, url), the first argument must be a Storage instance.")}else return NI(n,e)}function O_(n,e){const t=e?.[wI];return t==null?null:bn.makeFromBucketSpec(t,n)}function ML(n,e,t,i={}){n.host=`${e}:${t}`;const o=ds(e);o&&(Zp(`https://${n.host}/b`),em("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:H_(l,n.app.options.projectId))}class _g{constructor(e,t,i,o,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=yI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xO,this._maxUploadRetryTime=NO,this._requests=new Set,o!=null?this._bucket=bn.makeFromBucketSpec(o,this._host):this._bucket=O_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=O_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){D_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){D_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new so(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new KO(vI());{const c=iL(e,this._appId,i,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const L_="@firebase/storage",V_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="storage";function FL(n,e,t){return n=at(n),xL(n,e,t)}function UL(n){return n=at(n),NL(n)}function jL(n,e){return n=at(n),VL(n,e)}function BL(n=rm(),e){n=at(n);const i=Kh(n,DI).getImmediate({identifier:e}),o=B_("storage");return o&&$L(i,...o),i}function $L(n,e,t,i={}){ML(n,e,t,i)}function zL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new _g(t,i,o,e,oo)}function HL(){Js(new ss(DI,zL,"PUBLIC").setMultipleInstances(!0)),Pr(L_,V_,""),Pr(L_,V_,"esm2020")}HL();function qL({usuario:n,openModal:e,setOpenModal:t}){const i=Ra(),o=uo(),l=BL(),c=n?.fotoPerfil||cr,[d,p]=z.useState(!1),[y,v]=z.useState(!1),[E,I]=z.useState(c),[N,V]=z.useState(null),[$,L]=z.useState(n.nick),[Y,K]=z.useState(n.correo),[ne,ue]=z.useState(""),[Ce,Ie]=z.useState(!1),[P,C]=z.useState(""),[k,b]=z.useState(""),D=z.useRef();z.useEffect(()=>{e&&(I(n.fotoPerfil),V(null),L(n.nick),K(n.correo),ue(""),C(n.nick),b(n.correo))},[e,n]),z.useEffect(()=>{const me=$!==P||Y!==k||ne.length>0||N!==null;v(me)},[$,Y,ne,N,P,k]);const M=me=>{me.target===D.current&&t(!1)},S=me=>{const xe=me.target.files[0];if(!xe)return;V(xe);const be=new FileReader;be.onloadend=()=>I(be.result),be.readAsDataURL(xe)},Re=async()=>{try{Ie(!0);const me=i.currentUser;let xe=n.fotoPerfil;if(N){const te=N.type.split("/")[1],he=jL(l,`usuarios/${me.uid}/perfil.${te}`);await FL(he,N),xe=await UL(he),await Ap(me,{photoURL:xe})}$!==n.nick&&await Ap(me,{displayName:$}),Y!==n.correo&&await NC(me,Y),ne&&await DC(me,ne);const be=lr(o,"usuarios",me.uid);await Wl(be,{fotoPerfil:xe,nick:$,correo:Y}),t(!1)}catch(me){console.error("Error guardando perfil:",me),alert("No se pudo guardar los cambios: "+me.message)}finally{Ie(!1)}};return e?O.jsx("div",{className:"modal-overlay",ref:D,onClick:M,children:O.jsxs("div",{className:"modal-perfil",children:[O.jsx("button",{className:"modal-close-btn",onClick:()=>t(!1),children:""}),O.jsxs("div",{className:"modal-header",children:[O.jsxs("label",{className:"modal-avatar",children:[O.jsx("img",{src:E,alt:"Avatar"}),O.jsx("input",{type:"file",accept:"image/*",onChange:S})]}),O.jsxs("div",{className:"modal-userinfo",children:[O.jsx("h2",{children:n.nick}),O.jsx("small",{children:n.correo})]})]}),O.jsx("hr",{}),O.jsxs("div",{className:"modal-body",children:[O.jsxs("div",{className:"field-group",children:[O.jsx("label",{children:"Nick"}),O.jsxs("div",{className:"field-with-icon",children:[O.jsx("input",{type:"text",value:$,onChange:me=>L(me.target.value),disabled:!d}),O.jsx("button",{className:"icon-pencil",onClick:()=>p(!d),title:"Editar nick",children:""})]})]}),O.jsxs("div",{className:"field-group",children:[O.jsx("label",{children:"Correo"}),O.jsx("input",{type:"email",value:Y,onChange:me=>K(me.target.value),disabled:!0})]}),O.jsxs("div",{className:"field-group",children:[O.jsx("label",{children:"Nueva contrasea"}),O.jsx("input",{type:"password",placeholder:"",value:ne,onChange:me=>ue(me.target.value)})]})]}),O.jsx("div",{className:"modal-footer",children:y&&O.jsx("button",{className:"modal-save-btn",onClick:Re,disabled:Ce,children:Ce?"Guardando":"Guardar cambios"})})]})}):null}const qs=uo(pr),WL=Ra(pr);function KL({usuario:n}){const[e,t]=z.useState(!1),[i,o]=z.useState(null),[l,c]=z.useState(!1),d=n?.fotoPerfil||cr;n?.equipo?.formacion;const p=n?.equipo?.titulares||[];n?.equipo?.banquillo;const[y,v]=z.useState([]),E=n?.equipo?.capitan||"",I=Object.keys(x_),[N,V]=z.useState(n?.equipo?.formacion||"2-1-1"),[$,L]=z.useState(N),[Y,K]=z.useState(!1),[ne,ue]=z.useState(n?.equipocreado),[Ce,Ie]=z.useState(!1),P=S=>{L(S.target.value)},C=async()=>{try{K(!0);const S=lr(qs,"usuarios",n.uid);await Wl(S,{"equipo.formacion":$}),V($)}catch(S){console.error("Error al guardar formacin:",S)}finally{K(!1)}},k=()=>{c(!l)},b=S=>S>=1e6?(S/1e6).toFixed(2)+"M":S>=1e3?(S/1e3).toFixed(2)+"K":S.toFixed(2),D=S=>{if(!S)return"";const Re=12,me=S.indexOf(" ");let xe;return me!==-1&&me<=Re?(xe=me,S.slice(0,xe)):S.length>Re?(xe=Re-3,S.slice(0,xe)+"..."):S},M=async()=>{try{K(!0);const S=await d_(o_(qs,"jugadores"));let Re=[];if(S.forEach(te=>{const he=te.data();he.stockLibre>0&&Re.push({id:te.id,...he})}),console.log(Re.length),Re.length<4){alert("No hay suficientes jugadores disponibles"),K(!1);return}let me=[];for(let te=0;te<4;te++){const he=Math.floor(Math.random()*Re.length);me.push(Re[he]),Re.splice(he,1)}const xe=me.map(async te=>{const he=lr(qs,"jugadores",te.id);return Wl(he,{stockLibre:te.stockLibre-1,dueos:cP(n.uid)})});await Promise.all(xe);const be=lr(qs,"usuarios",n.uid);await Wl(be,{"equipo.titulares":me.map(te=>te.id),equipocreado:!0}),ue(!0)}catch(S){console.error("Error al crear equipo:",S)}finally{K(!1)}};return z.useEffect(()=>{if(n&&n?.onboarding===!1){t(!0);const Re=setTimeout(async()=>{try{const me=lr(qs,"usuarios",WL.currentUser.uid);await Wl(me,{onboarding:!0}),window.location.reload()}catch(me){console.error("Error actualizando onboarding:",me)}},500);return()=>clearTimeout(Re)}if(console.log("Foto de perfil desde Firestore o Auth:",n?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),n){const Re=lr(qs,"usuarios",n.uid);Tu(Re).then(me=>{me.exists()&&o(me.data().dinero)})}(async()=>{if(!p||p.length===0)return;const Re=o_(qs,"jugadores"),me=iP(Re,sP("__name__","in",p)),be=(await d_(me)).docs.map(te=>({id:te.id,...te.data()}));v(be)})()},[n],[p]),ne?O.jsxs("div",{children:[O.jsxs("header",{className:"Cabecera",children:[O.jsxs("div",{className:"container-profile",children:[O.jsx("div",{className:"img-profile-small",children:O.jsx("img",{src:d,onError:S=>{S.currentTarget.onerror=null,S.currentTarget.src=cr},onClick:()=>Ie(!0),alt:"Foto de perfil"})}),O.jsxs("div",{className:"info-profile",children:[O.jsx("h2",{className:"nombre-usuario",children:D(n?.nick||n?.displayName)}),i!==null&&O.jsxs("p",{className:"dinero-usuario",children:["",O.jsx("strong",{children:b(i)})]})]})]}),O.jsx("button",{onClick:k,className:"Cabecera-button",children:O.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:O.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),O.jsx("nav",{className:`Cabecera-nav ${l?"isActive":""}`,children:O.jsxs("ul",{className:"Cabecera-ul",children:[O.jsx("li",{className:"Cabecera-li",children:O.jsx(wn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),O.jsx("li",{className:"Cabecera-li",children:O.jsx(wn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),O.jsx("li",{className:"Cabecera-li",children:O.jsx(wn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})})]})})]}),O.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${lu})`},children:[O.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Ce&&O.jsx(qL,{usuario:n,openModal:Ce,setOpenModal:Ie}),O.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[O.jsxs("div",{className:"formacion-selector",children:[O.jsx("label",{htmlFor:"formacion-select",children:"Formacin:"}),O.jsx("select",{id:"formacion-select",value:$,onChange:P,children:I.map(S=>O.jsx("option",{value:S,children:S},S))}),$!==N&&O.jsx("button",{onClick:C,disabled:Y,children:Y?"Guardando...":"Guardar cambios"})]}),O.jsx("div",{className:"campo",children:x_[$]?.map((S,Re)=>{const me=p[Re],xe=y.find(be=>be.id===me);return O.jsxs("div",{className:"jugador",style:{position:"absolute",top:S.top,left:S.left,transform:"translate(-50%, -50%)"},children:[O.jsxs("div",{className:"jugador-wrapper",children:[O.jsx("img",{src:xe?.foto||cr,alt:xe?.nombre||"Vaco",className:"jugador-img"}),E===xe?.id&&O.jsx("div",{className:"capitan-badge",children:"C"})]}),O.jsx("p",{className:"jugador-nombre",children:xe?.nombre||"Vaco"})]},xe?.id||Re)})})]})]}),e&&O.jsx("div",{className:"onboarding-overlay",children:O.jsx("div",{className:"loader",children:"Cargando..."})})]}):O.jsxs("div",{children:[O.jsxs("header",{className:"Cabecera",children:[O.jsxs("div",{className:"container-profile",children:[O.jsx("div",{className:"img-profile-small",children:O.jsx("img",{src:d,onError:S=>{S.currentTarget.onerror=null,S.currentTarget.src=cr},alt:"Foto de perfil"})}),O.jsxs("div",{className:"info-profile",children:[O.jsx("h2",{className:"nombre-usuario",children:D(n?.nick||n?.displayName)}),i!==null&&O.jsxs("p",{className:"dinero-usuario",children:["",O.jsx("strong",{children:b(i)})]})]})]}),O.jsx("button",{onClick:k,className:"Cabecera-button",children:O.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:O.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),O.jsx("nav",{className:`Cabecera-nav ${l?"isActive":""}`,children:O.jsxs("ul",{className:"Cabecera-ul",children:[O.jsx("li",{className:"Cabecera-li",children:O.jsx(wn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),O.jsx("li",{className:"Cabecera-li",children:O.jsx(wn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),O.jsx("li",{className:"Cabecera-li",children:O.jsx(wn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})})]})})]}),O.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${lu})`},children:[O.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),O.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:O.jsx("div",{className:"campo",children:O.jsx("button",{className:"crear-equipo-btn",onClick:M,disabled:Y,children:Y?"Creando equipo...":"Crear equipo"})})})]}),e&&O.jsx("div",{className:"onboarding-overlay",children:O.jsx("div",{className:"loader",children:"Cargando..."})})]})}const GL=uo(pr);Ra(pr);function QL({usuario:n}){const[e,t]=z.useState(!1),[i,o]=z.useState(null),[l,c]=z.useState(!1),d=n?.fotoPerfil||cr,p=()=>{c(!l)},y=E=>E>=1e6?(E/1e6).toFixed(2)+"M":E>=1e3?(E/1e3).toFixed(2)+"K":E.toFixed(2),v=E=>{if(!E)return"";const I=12,N=E.indexOf(" ");let V;return N!==-1&&N<=I?(V=N,E.slice(0,V)):E.length>I?(V=I-3,E.slice(0,V)+"..."):E};return z.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),n){const E=lr(GL,"usuarios",n.uid);Tu(E).then(I=>{I.exists()&&o(I.data().dinero)})}},[n]),O.jsxs("div",{children:[O.jsxs("header",{className:"Cabecera",children:[O.jsxs("div",{className:"container-profile",children:[O.jsx("div",{className:"img-profile-small",children:O.jsx("img",{src:d,onError:E=>{E.currentTarget.onerror=null,E.currentTarget.src=cr},alt:"Foto de perfil"})}),O.jsxs("div",{className:"info-profile",children:[O.jsx("h2",{className:"nombre-usuario",children:v(n?.nick||n?.displayName)}),i!==null&&O.jsxs("p",{className:"dinero-usuario",children:["",O.jsx("strong",{children:y(i)})]})]})]}),O.jsx("button",{onClick:p,className:"Cabecera-button",children:O.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:O.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),O.jsx("nav",{className:`Cabecera-nav ${l?"isActive":""}`,children:O.jsxs("ul",{className:"Cabecera-ul",children:[O.jsx("li",{className:"Cabecera-li",children:O.jsx(wn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),O.jsx("li",{className:"Cabecera-li",children:O.jsx(wn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),O.jsx("li",{className:"Cabecera-li",children:O.jsx(wn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})})]})})]}),O.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${lu})`},children:[O.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),O.jsx("div",{className:"form-card-Home",style:{textAlign:"center",position:"relative",zIndex:1}})]}),O.jsxs("div",{className:"contenido-negro",children:[O.jsx("h2",{children:"Contenido debajo del fondo"}),O.jsx("p",{children:"Aqu puedes seguir aadiendo secciones."})]})]})}const YL=uo(pr);Ra(pr);function XL({usuario:n}){const[e,t]=z.useState(!1),[i,o]=z.useState(null),[l,c]=z.useState(!1),d=n?.fotoPerfil||cr,p=()=>{c(!l)},y=E=>E>=1e6?(E/1e6).toFixed(2)+"M":E>=1e3?(E/1e3).toFixed(2)+"K":E.toFixed(2),v=E=>{if(!E)return"";const I=12,N=E.indexOf(" ");let V;return N!==-1&&N<=I?(V=N,E.slice(0,V)):E.length>I?(V=I-3,E.slice(0,V)+"..."):E};return z.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),n){const E=lr(YL,"usuarios",n.uid);Tu(E).then(I=>{I.exists()&&o(I.data().dinero)})}},[n]),O.jsxs("div",{children:[O.jsxs("header",{className:"Cabecera",children:[O.jsxs("div",{className:"container-profile",children:[O.jsx("div",{className:"img-profile-small",children:O.jsx("img",{src:d,onError:E=>{E.currentTarget.onerror=null,E.currentTarget.src=cr},alt:"Foto de perfil"})}),O.jsxs("div",{className:"info-profile",children:[O.jsx("h2",{className:"nombre-usuario",children:v(n?.nick||n?.displayName)}),i!==null&&O.jsxs("p",{className:"dinero-usuario",children:["",O.jsx("strong",{children:y(i)})]})]})]}),O.jsx("button",{onClick:p,className:"Cabecera-button",children:O.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:O.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),O.jsx("nav",{className:`Cabecera-nav ${l?"isActive":""}`,children:O.jsxs("ul",{className:"Cabecera-ul",children:[O.jsx("li",{className:"Cabecera-li",children:O.jsx(wn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),O.jsx("li",{className:"Cabecera-li",children:O.jsx(wn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),O.jsx("li",{className:"Cabecera-li",children:O.jsx(wn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})})]})})]}),O.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${lu})`},children:[O.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),O.jsx("div",{className:"form-card-Home",style:{textAlign:"center",position:"relative",zIndex:1}})]})]})}const JL=Ra(pr),ZL=uo(pr);function eV(){const[n,e]=z.useState(null),[t,i]=z.useState(!0);return z.useEffect(()=>{const o=VC(JL,async l=>{if(l)try{const c=await Tu(lr(ZL,"usuarios",l.uid));c.exists()?e({uid:l.uid,...c.data()}):e({uid:l.uid,correo:l.email,onboarding:!1})}catch(c){console.error("Error obteniendo datos de usuario:",c),e(null)}else e(null);i(!1)});return()=>o()},[]),t?O.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):O.jsx(Ax,{children:O.jsxs(rx,{children:[O.jsx(ca,{path:"/",element:n?O.jsx(Vl,{to:"/home",replace:!0}):O.jsx(PO,{})}),O.jsx(ca,{path:"/home",element:n?O.jsx(KL,{usuario:n}):O.jsx(Vl,{to:"/",replace:!0})}),O.jsx(ca,{path:"/mercado",element:n?O.jsx(QL,{usuario:n}):O.jsx(Vl,{to:"/",replace:!0})}),O.jsx(ca,{path:"/clasificacion",element:n?O.jsx(XL,{usuario:n}):O.jsx(Vl,{to:"/",replace:!0})}),O.jsx(ca,{path:"*",element:O.jsx(Vl,{to:n?"/home":"/",replace:!0})})]})})}q1.createRoot(document.getElementById("root")).render(O.jsx(z.StrictMode,{children:O.jsx(eV,{})}));
