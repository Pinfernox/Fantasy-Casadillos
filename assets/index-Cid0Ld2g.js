(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function vS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vm={exports:{}},Vc={},_m={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function _S(){if(E_)return Ye;E_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,$={};function j(R,B,Z){this.props=R,this.context=B,this.refs=$,this.updater=Z||N}j.prototype.isReactComponent={},j.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},j.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function W(){}W.prototype=j.prototype;function M(R,B,Z){this.props=R,this.context=B,this.refs=$,this.updater=Z||N}var z=M.prototype=new W;z.constructor=M,L(z,j.prototype),z.isPureReactComponent=!0;var J=Array.isArray,se=Object.prototype.hasOwnProperty,K={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(R,B,Z){var oe,fe={},he=null,me=null;if(B!=null)for(oe in B.ref!==void 0&&(me=B.ref),B.key!==void 0&&(he=""+B.key),B)se.call(B,oe)&&!S.hasOwnProperty(oe)&&(fe[oe]=B[oe]);var Ce=arguments.length-2;if(Ce===1)fe.children=Z;else if(1<Ce){for(var Se=Array(Ce),qe=0;qe<Ce;qe++)Se[qe]=arguments[qe+2];fe.children=Se}if(R&&R.defaultProps)for(oe in Ce=R.defaultProps,Ce)fe[oe]===void 0&&(fe[oe]=Ce[oe]);return{$$typeof:t,type:R,key:he,ref:me,props:fe,_owner:K.current}}function k(R,B){return{$$typeof:t,type:R.type,key:B,ref:R.ref,props:R.props,_owner:R._owner}}function P(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function O(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Z){return B[Z]})}var F=/\/+/g;function A(R,B){return typeof R=="object"&&R!==null&&R.key!=null?O(""+R.key):B.toString(36)}function je(R,B,Z,oe,fe){var he=typeof R;(he==="undefined"||he==="boolean")&&(R=null);var me=!1;if(R===null)me=!0;else switch(he){case"string":case"number":me=!0;break;case"object":switch(R.$$typeof){case t:case e:me=!0}}if(me)return me=R,fe=fe(me),R=oe===""?"."+A(me,0):oe,J(fe)?(Z="",R!=null&&(Z=R.replace(F,"$&/")+"/"),je(fe,B,Z,"",function(qe){return qe})):fe!=null&&(P(fe)&&(fe=k(fe,Z+(!fe.key||me&&me.key===fe.key?"":(""+fe.key).replace(F,"$&/")+"/")+R)),B.push(fe)),1;if(me=0,oe=oe===""?".":oe+":",J(R))for(var Ce=0;Ce<R.length;Ce++){he=R[Ce];var Se=oe+A(he,Ce);me+=je(he,B,Z,Se,fe)}else if(Se=T(R),typeof Se=="function")for(R=Se.call(R),Ce=0;!(he=R.next()).done;)he=he.value,Se=oe+A(he,Ce++),me+=je(he,B,Z,Se,fe);else if(he==="object")throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return me}function Ie(R,B,Z){if(R==null)return R;var oe=[],fe=0;return je(R,oe,"","",function(he){return B.call(Z,he,fe++)}),oe}function He(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(Z){(R._status===0||R._status===-1)&&(R._status=1,R._result=Z)},function(Z){(R._status===0||R._status===-1)&&(R._status=2,R._result=Z)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var De={current:null},X={transition:null},re={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:X,ReactCurrentOwner:K};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:Ie,forEach:function(R,B,Z){Ie(R,function(){B.apply(this,arguments)},Z)},count:function(R){var B=0;return Ie(R,function(){B++}),B},toArray:function(R){return Ie(R,function(B){return B})||[]},only:function(R){if(!P(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ye.Component=j,Ye.Fragment=n,Ye.Profiler=o,Ye.PureComponent=M,Ye.StrictMode=r,Ye.Suspense=f,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Ye.act=te,Ye.cloneElement=function(R,B,Z){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var oe=L({},R.props),fe=R.key,he=R.ref,me=R._owner;if(B!=null){if(B.ref!==void 0&&(he=B.ref,me=K.current),B.key!==void 0&&(fe=""+B.key),R.type&&R.type.defaultProps)var Ce=R.type.defaultProps;for(Se in B)se.call(B,Se)&&!S.hasOwnProperty(Se)&&(oe[Se]=B[Se]===void 0&&Ce!==void 0?Ce[Se]:B[Se])}var Se=arguments.length-2;if(Se===1)oe.children=Z;else if(1<Se){Ce=Array(Se);for(var qe=0;qe<Se;qe++)Ce[qe]=arguments[qe+2];oe.children=Ce}return{$$typeof:t,type:R.type,key:fe,ref:he,props:oe,_owner:me}},Ye.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},Ye.createElement=I,Ye.createFactory=function(R){var B=I.bind(null,R);return B.type=R,B},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(R){return{$$typeof:h,render:R}},Ye.isValidElement=P,Ye.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:He}},Ye.memo=function(R,B){return{$$typeof:y,type:R,compare:B===void 0?null:B}},Ye.startTransition=function(R){var B=X.transition;X.transition={};try{R()}finally{X.transition=B}},Ye.unstable_act=te,Ye.useCallback=function(R,B){return De.current.useCallback(R,B)},Ye.useContext=function(R){return De.current.useContext(R)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(R){return De.current.useDeferredValue(R)},Ye.useEffect=function(R,B){return De.current.useEffect(R,B)},Ye.useId=function(){return De.current.useId()},Ye.useImperativeHandle=function(R,B,Z){return De.current.useImperativeHandle(R,B,Z)},Ye.useInsertionEffect=function(R,B){return De.current.useInsertionEffect(R,B)},Ye.useLayoutEffect=function(R,B){return De.current.useLayoutEffect(R,B)},Ye.useMemo=function(R,B){return De.current.useMemo(R,B)},Ye.useReducer=function(R,B,Z){return De.current.useReducer(R,B,Z)},Ye.useRef=function(R){return De.current.useRef(R)},Ye.useState=function(R){return De.current.useState(R)},Ye.useSyncExternalStore=function(R,B,Z){return De.current.useSyncExternalStore(R,B,Z)},Ye.useTransition=function(){return De.current.useTransition()},Ye.version="18.3.1",Ye}var b_;function Fg(){return b_||(b_=1,_m.exports=_S()),_m.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function ES(){if(C_)return Vc;C_=1;var t=Fg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,y){var v,b={},T=null,N=null;y!==void 0&&(T=""+y),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(N=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(b[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)b[v]===void 0&&(b[v]=f[v]);return{$$typeof:e,type:h,key:T,ref:N,props:b,_owner:o.current}}return Vc.Fragment=n,Vc.jsx=u,Vc.jsxs=u,Vc}var T_;function bS(){return T_||(T_=1,vm.exports=ES()),vm.exports}var m=bS(),C=Fg();const Je=vS(C);var qd={},Em={exports:{}},or={},bm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function CS(){return I_||(I_=1,(function(t){function e(X,re){var te=X.length;X.push(re);e:for(;0<te;){var R=te-1>>>1,B=X[R];if(0<o(B,re))X[R]=re,X[te]=B,te=R;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var re=X[0],te=X.pop();if(te!==re){X[0]=te;e:for(var R=0,B=X.length,Z=B>>>1;R<Z;){var oe=2*(R+1)-1,fe=X[oe],he=oe+1,me=X[he];if(0>o(fe,te))he<B&&0>o(me,fe)?(X[R]=me,X[he]=te,R=he):(X[R]=fe,X[oe]=te,R=oe);else if(he<B&&0>o(me,te))X[R]=me,X[he]=te,R=he;else break e}}return re}function o(X,re){var te=X.sortIndex-re.sortIndex;return te!==0?te:X.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],y=[],v=1,b=null,T=3,N=!1,L=!1,$=!1,j=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(X){for(var re=n(y);re!==null;){if(re.callback===null)r(y);else if(re.startTime<=X)r(y),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(y)}}function J(X){if($=!1,z(X),!L)if(n(f)!==null)L=!0,He(se);else{var re=n(y);re!==null&&De(J,re.startTime-X)}}function se(X,re){L=!1,$&&($=!1,W(I),I=-1),N=!0;var te=T;try{for(z(re),b=n(f);b!==null&&(!(b.expirationTime>re)||X&&!O());){var R=b.callback;if(typeof R=="function"){b.callback=null,T=b.priorityLevel;var B=R(b.expirationTime<=re);re=t.unstable_now(),typeof B=="function"?b.callback=B:b===n(f)&&r(f),z(re)}else r(f);b=n(f)}if(b!==null)var Z=!0;else{var oe=n(y);oe!==null&&De(J,oe.startTime-re),Z=!1}return Z}finally{b=null,T=te,N=!1}}var K=!1,S=null,I=-1,k=5,P=-1;function O(){return!(t.unstable_now()-P<k)}function F(){if(S!==null){var X=t.unstable_now();P=X;var re=!0;try{re=S(!0,X)}finally{re?A():(K=!1,S=null)}}else K=!1}var A;if(typeof M=="function")A=function(){M(F)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Ie=je.port2;je.port1.onmessage=F,A=function(){Ie.postMessage(null)}}else A=function(){j(F,0)};function He(X){S=X,K||(K=!0,A())}function De(X,re){I=j(function(){X(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){L||N||(L=!0,He(se))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(X){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var te=T;T=re;try{return X()}finally{T=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var te=T;T=X;try{return re()}finally{T=te}},t.unstable_scheduleCallback=function(X,re,te){var R=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?R+te:R):te=R,X){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=te+B,X={id:v++,callback:re,priorityLevel:X,startTime:te,expirationTime:B,sortIndex:-1},te>R?(X.sortIndex=te,e(y,X),n(f)===null&&X===n(y)&&($?(W(I),I=-1):$=!0,De(J,te-R))):(X.sortIndex=B,e(f,X),L||N||(L=!0,He(se))),X},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(X){var re=T;return function(){var te=T;T=re;try{return X.apply(this,arguments)}finally{T=te}}}})(Cm)),Cm}var S_;function TS(){return S_||(S_=1,bm.exports=CS()),bm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function IS(){if(x_)return or;x_=1;var t=Fg(),e=TS();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function T(s){return f.call(b,s)?!0:f.call(v,s)?!1:y.test(s)?b[s]=!0:(v[s]=!0,!1)}function N(s,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function L(s,i,l,d){if(i===null||typeof i>"u"||N(s,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function $(s,i,l,d,p,w,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=w,this.removeEmptyString=E}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){j[s]=new $(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];j[i]=new $(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){j[s]=new $(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){j[s]=new $(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){j[s]=new $(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){j[s]=new $(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){j[s]=new $(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){j[s]=new $(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){j[s]=new $(s,5,!1,s.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(W,M);j[i]=new $(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(W,M);j[i]=new $(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(W,M);j[i]=new $(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){j[s]=new $(s,1,!1,s.toLowerCase(),null,!1,!1)}),j.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){j[s]=new $(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,i,l,d){var p=j.hasOwnProperty(i)?j[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(L(i,l,p,d)&&(l=null),d||p===null?T(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?s.setAttributeNS(d,i,l):s.setAttribute(i,l))))}var J=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),K=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),X=Symbol.iterator;function re(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var te=Object.assign,R;function B(s){if(R===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);R=i&&i[1]||""}return`
`+R+s}var Z=!1;function oe(s,i){if(!s||Z)return"";Z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Q){var d=Q}Reflect.construct(s,[],i)}else{try{i.call()}catch(Q){d=Q}s.call(i.prototype)}else{try{throw Error()}catch(Q){d=Q}s()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var p=Q.stack.split(`
`),w=d.stack.split(`
`),E=p.length-1,D=w.length-1;1<=E&&0<=D&&p[E]!==w[D];)D--;for(;1<=E&&0<=D;E--,D--)if(p[E]!==w[D]){if(E!==1||D!==1)do if(E--,D--,0>D||p[E]!==w[D]){var V=`
`+p[E].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=E&&0<=D);break}}}finally{Z=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?B(s):""}function fe(s){switch(s.tag){case 5:return B(s.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return s=oe(s.type,!1),s;case 11:return s=oe(s.type.render,!1),s;case 1:return s=oe(s.type,!0),s;default:return""}}function he(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case K:return"Portal";case k:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case je:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case P:return(s._context.displayName||"Context")+".Provider";case F:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ie:return i=s.displayName||null,i!==null?i:he(s.type)||"Memo";case He:i=s._payload,s=s._init;try{return he(s(i))}catch{}}return null}function me(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ce(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Se(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qe(s){var i=Se(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,w=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,w.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function bt(s){s._valueTracker||(s._valueTracker=qe(s))}function kt(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=Se(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function $n(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Un(s,i){var l=i.checked;return te({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function fr(s,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=Ce(i.value!=null?i.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Jr(s,i){i=i.checked,i!=null&&z(s,"checked",i,!1)}function $e(s,i){Jr(s,i);var l=Ce(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?it(s,i.type,l):i.hasOwnProperty("defaultValue")&&it(s,i.type,Ce(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function ve(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function it(s,i,l){(i!=="number"||$n(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Le=Array.isArray;function We(s,i,l,d){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&d&&(s[l].defaultSelected=!0)}else{for(l=""+Ce(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function wt(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ke(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Le(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:Ce(l)}}function Ze(s,i){var l=Ce(i.value),d=Ce(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function et(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function tt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?tt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var pr,Po=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,d,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(pr=pr||document.createElement("div"),pr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=pr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function gs(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ws=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(s){ws.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),ys[i]=ys[s]})});function Ao(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ys.hasOwnProperty(s)&&ys[s]?(""+i).trim():i+"px"}function No(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Ao(l,i[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,p):s[l]=p}}var ki=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Do(s,i){if(i){if(ki[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Oo(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gs=null;function Ks(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ri=null,Bn=null,mr=null;function Rr(s){if(s=Cc(s)){if(typeof Ri!="function")throw Error(n(280));var i=s.stateNode;i&&(i=od(i),Ri(s.stateNode,s.type,i))}}function Pr(s){Bn?mr?mr.push(s):mr=[s]:Bn=s}function jo(){if(Bn){var s=Bn,i=mr;if(mr=Bn=null,Rr(s),i)for(s=0;s<i.length;s++)Rr(i[s])}}function vs(s,i){return s(i)}function Pi(){}var Ar=!1;function Ai(s,i,l){if(Ar)return s(i,l);Ar=!0;try{return vs(s,i,l)}finally{Ar=!1,(Bn!==null||mr!==null)&&(Pi(),jo())}}function Ot(s,i){var l=s.stateNode;if(l===null)return null;var d=od(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Js=!1;if(h)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){Js=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{Js=!1}function _s(s,i,l,d,p,w,E,D,V){var Q=Array.prototype.slice.call(arguments,3);try{i.apply(l,Q)}catch(le){this.onError(le)}}var Qs=!1,Ni=null,Yt=!1,_n=null,Lo={onError:function(s){Qs=!0,Ni=s}};function Ys(s,i,l,d,p,w,E,D,V){Qs=!1,Ni=null,_s.apply(Lo,arguments)}function Mo(s,i,l,d,p,w,E,D,V){if(Ys.apply(this,arguments),Qs){if(Qs){var Q=Ni;Qs=!1,Ni=null}else throw Error(n(198));Yt||(Yt=!0,_n=Q)}}function Bt(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Yn(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function gr(s){if(Bt(s)!==s)throw Error(n(188))}function Nr(s){var i=s.alternate;if(!i){if(i=Bt(s),i===null)throw Error(n(188));return i!==s?null:s}for(var l=s,d=i;;){var p=l.return;if(p===null)break;var w=p.alternate;if(w===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===w.child){for(w=p.child;w;){if(w===l)return gr(p),s;if(w===d)return gr(p),i;w=w.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=w;else{for(var E=!1,D=p.child;D;){if(D===l){E=!0,l=p,d=w;break}if(D===d){E=!0,d=p,l=w;break}D=D.sibling}if(!E){for(D=w.child;D;){if(D===l){E=!0,l=w,d=p;break}if(D===d){E=!0,d=w,l=p;break}D=D.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:i}function Di(s){return s=Nr(s),s!==null?Qr(s):null}function Qr(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Qr(s);if(i!==null)return i;s=s.sibling}return null}var Xs=e.unstable_scheduleCallback,Vo=e.unstable_cancelCallback,ja=e.unstable_shouldYield,ac=e.unstable_requestPaint,_t=e.unstable_now,Wt=e.unstable_getCurrentPriorityLevel,yr=e.unstable_ImmediatePriority,Es=e.unstable_UserBlockingPriority,Xn=e.unstable_NormalPriority,Fo=e.unstable_LowPriority,La=e.unstable_IdlePriority,Zs=null,zn=null;function Ma(s){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Zs,s,void 0,(s.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Fa,$o=Math.log,Va=Math.LN2;function Fa(s){return s>>>=0,s===0?32:31-($o(s)/Va|0)|0}var ke=64,Qe=4194304;function jt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function on(s,i){var l=s.pendingLanes;if(l===0)return 0;var d=0,p=s.suspendedLanes,w=s.pingedLanes,E=l&268435455;if(E!==0){var D=E&~p;D!==0?d=jt(D):(w&=E,w!==0&&(d=jt(w)))}else E=l&~p,E!==0?d=jt(E):w!==0&&(d=jt(w));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,w=i&-i,p>=w||p===16&&(w&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)l=31-zt(i),p=1<<l,d|=s[l],i&=~p;return d}function Me(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,w=s.pendingLanes;0<w;){var E=31-zt(w),D=1<<E,V=p[E];V===-1?((D&l)===0||(D&d)!==0)&&(p[E]=Me(D,i)):V<=i&&(s.expiredLanes|=D),w&=~D}}function Xt(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Rn(){var s=ke;return ke<<=1,(ke&4194240)===0&&(ke=64),s}function Oi(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ji(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-zt(i),s[i]=l}function Et(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-zt(l),w=1<<p;i[p]=0,d[p]=-1,s[p]=-1,l&=~w}}function Li(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-zt(l),p=1<<d;p&i|s[d]&i&&(s[d]|=i),l&=~p}}var ot=0;function Mi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Fu,$a,$u,Uu,Bu,lc=!1,bs=[],En=null,Yr=null,Xr=null,Vi=new Map,Dr=new Map,Cs=[],Qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zu(s,i){switch(s){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Vi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(i.pointerId)}}function Zn(s,i,l,d,p,w){return s===null||s.nativeEvent!==w?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:w,targetContainers:[p]},i!==null&&(i=Cc(i),i!==null&&$a(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function Yf(s,i,l,d,p){switch(i){case"focusin":return En=Zn(En,s,i,l,d,p),!0;case"dragenter":return Yr=Zn(Yr,s,i,l,d,p),!0;case"mouseover":return Xr=Zn(Xr,s,i,l,d,p),!0;case"pointerover":var w=p.pointerId;return Vi.set(w,Zn(Vi.get(w)||null,s,i,l,d,p)),!0;case"gotpointercapture":return w=p.pointerId,Dr.set(w,Zn(Dr.get(w)||null,s,i,l,d,p)),!0}return!1}function Hu(s){var i=qo(s.target);if(i!==null){var l=Bt(i);if(l!==null){if(i=l.tag,i===13){if(i=Yn(l),i!==null){s.blockedOn=i,Bu(s.priority,function(){$u(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ei(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Ua(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Gs=d,l.target.dispatchEvent(d),Gs=null}else return i=Cc(l),i!==null&&$a(i),s.blockedOn=l,!1;i.shift()}return!0}function Uo(s,i,l){ei(s)&&l.delete(i)}function qu(){lc=!1,En!==null&&ei(En)&&(En=null),Yr!==null&&ei(Yr)&&(Yr=null),Xr!==null&&ei(Xr)&&(Xr=null),Vi.forEach(Uo),Dr.forEach(Uo)}function Zr(s,i){s.blockedOn===i&&(s.blockedOn=null,lc||(lc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qu)))}function es(s){function i(p){return Zr(p,s)}if(0<bs.length){Zr(bs[0],s);for(var l=1;l<bs.length;l++){var d=bs[l];d.blockedOn===s&&(d.blockedOn=null)}}for(En!==null&&Zr(En,s),Yr!==null&&Zr(Yr,s),Xr!==null&&Zr(Xr,s),Vi.forEach(i),Dr.forEach(i),l=0;l<Cs.length;l++)d=Cs[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<Cs.length&&(l=Cs[0],l.blockedOn===null);)Hu(l),l.blockedOn===null&&Cs.shift()}var ti=J.ReactCurrentBatchConfig,Fi=!0;function Lt(s,i,l,d){var p=ot,w=ti.transition;ti.transition=null;try{ot=1,cc(s,i,l,d)}finally{ot=p,ti.transition=w}}function Xf(s,i,l,d){var p=ot,w=ti.transition;ti.transition=null;try{ot=4,cc(s,i,l,d)}finally{ot=p,ti.transition=w}}function cc(s,i,l,d){if(Fi){var p=Ua(s,i,l,d);if(p===null)cp(s,i,d,Bo,l),zu(s,d);else if(Yf(p,s,i,l,d))d.stopPropagation();else if(zu(s,d),i&4&&-1<Qf.indexOf(s)){for(;p!==null;){var w=Cc(p);if(w!==null&&Fu(w),w=Ua(s,i,l,d),w===null&&cp(s,i,d,Bo,l),w===p)break;p=w}p!==null&&d.stopPropagation()}else cp(s,i,d,null,l)}}var Bo=null;function Ua(s,i,l,d){if(Bo=null,s=Ks(d),s=qo(s),s!==null)if(i=Bt(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Yn(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Bo=s,null}function uc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wt()){case yr:return 1;case Es:return 4;case Xn:case Fo:return 16;case La:return 536870912;default:return 16}default:return 16}}var vr=null,Ba=null,er=null;function dc(){if(er)return er;var s,i=Ba,l=i.length,d,p="value"in vr?vr.value:vr.textContent,w=p.length;for(s=0;s<l&&i[s]===p[s];s++);var E=l-s;for(d=1;d<=E&&i[l-d]===p[w-d];d++);return er=p.slice(s,1<d?1-d:void 0)}function za(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Ts(){return!0}function hc(){return!1}function bn(s){function i(l,d,p,w,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(l=s[D],this[D]=l?l(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ts:hc,this.isPropagationStopped=hc,this}return te(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),i}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=bn(ts),Is=te({},ts,{view:0,detail:0}),Zf=bn(Is),qa,ni,$i,zo=te({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$i&&($i&&s.type==="mousemove"?(qa=s.screenX-$i.screenX,ni=s.screenY-$i.screenY):ni=qa=0,$i=s),qa)},movementY:function(s){return"movementY"in s?s.movementY:ni}}),Wa=bn(zo),fc=te({},zo,{dataTransfer:0}),Wu=bn(fc),Ga=te({},Is,{relatedTarget:0}),Ka=bn(Ga),Gu=te({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),ri=bn(Gu),Ku=te({},ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ju=bn(Ku),Qu=te({},ts,{data:0}),pc=bn(Qu),Ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Yu[s])?!!i[s]:!1}function Ss(){return Xu}var c=te({},Is,{key:function(s){if(s.key){var i=Ja[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=za(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(s){return s.type==="keypress"?za(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?za(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=bn(c),_=te({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=bn(_),H=te({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),Y=bn(H),pe=te({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),yt=bn(pe),an=te({},zo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),at=bn(an),fn=[9,13,27,32],Zt=h&&"CompositionEvent"in window,Or=null;h&&"documentMode"in document&&(Or=document.documentMode);var _r=h&&"TextEvent"in window&&!Or,Ho=h&&(!Zt||Or&&8<Or&&11>=Or),Qa=" ",mw=!1;function gw(s,i){switch(s){case"keyup":return fn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ya=!1;function gI(s,i){switch(s){case"compositionend":return yw(i);case"keypress":return i.which!==32?null:(mw=!0,Qa);case"textInput":return s=i.data,s===Qa&&mw?null:s;default:return null}}function yI(s,i){if(Ya)return s==="compositionend"||!Zt&&gw(s,i)?(s=dc(),er=Ba=vr=null,Ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ho&&i.locale!=="ko"?null:i.data;default:return null}}var wI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ww(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!wI[s.type]:i==="textarea"}function vw(s,i,l,d){Pr(d),i=rd(i,"onChange"),0<i.length&&(l=new Ha("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var mc=null,gc=null;function vI(s){Mw(s,0)}function Zu(s){var i=nl(s);if(kt(i))return s}function _I(s,i){if(s==="change")return i}var _w=!1;if(h){var ep;if(h){var tp="oninput"in document;if(!tp){var Ew=document.createElement("div");Ew.setAttribute("oninput","return;"),tp=typeof Ew.oninput=="function"}ep=tp}else ep=!1;_w=ep&&(!document.documentMode||9<document.documentMode)}function bw(){mc&&(mc.detachEvent("onpropertychange",Cw),gc=mc=null)}function Cw(s){if(s.propertyName==="value"&&Zu(gc)){var i=[];vw(i,gc,s,Ks(s)),Ai(vI,i)}}function EI(s,i,l){s==="focusin"?(bw(),mc=i,gc=l,mc.attachEvent("onpropertychange",Cw)):s==="focusout"&&bw()}function bI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Zu(gc)}function CI(s,i){if(s==="click")return Zu(i)}function TI(s,i){if(s==="input"||s==="change")return Zu(i)}function II(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var ns=typeof Object.is=="function"?Object.is:II;function yc(s,i){if(ns(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(i,p)||!ns(s[p],i[p]))return!1}return!0}function Tw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Iw(s,i){var l=Tw(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Tw(l)}}function Sw(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Sw(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function xw(){for(var s=window,i=$n();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=$n(s.document)}return i}function np(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function SI(s){var i=xw(),l=s.focusedElem,d=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Sw(l.ownerDocument.documentElement,l)){if(d!==null&&np(l)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,w=Math.min(d.start,p);d=d.end===void 0?w:Math.min(d.end,p),!s.extend&&w>d&&(p=d,d=w,w=p),p=Iw(l,w);var E=Iw(l,d);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),w>d?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var xI=h&&"documentMode"in document&&11>=document.documentMode,Xa=null,rp=null,wc=null,sp=!1;function kw(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;sp||Xa==null||Xa!==$n(d)||(d=Xa,"selectionStart"in d&&np(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),wc&&yc(wc,d)||(wc=d,d=rd(rp,"onSelect"),0<d.length&&(i=new Ha("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=Xa)))}function ed(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Za={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},ip={},Rw={};h&&(Rw=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function td(s){if(ip[s])return ip[s];if(!Za[s])return s;var i=Za[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Rw)return ip[s]=i[l];return s}var Pw=td("animationend"),Aw=td("animationiteration"),Nw=td("animationstart"),Dw=td("transitionend"),Ow=new Map,jw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(s,i){Ow.set(s,i),a(i,[s])}for(var op=0;op<jw.length;op++){var ap=jw[op],kI=ap.toLowerCase(),RI=ap[0].toUpperCase()+ap.slice(1);Ui(kI,"on"+RI)}Ui(Pw,"onAnimationEnd"),Ui(Aw,"onAnimationIteration"),Ui(Nw,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(Dw,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PI=new Set("cancel close invalid load scroll toggle".split(" ").concat(vc));function Lw(s,i,l){var d=s.type||"unknown-event";s.currentTarget=l,Mo(d,i,void 0,s),s.currentTarget=null}function Mw(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],p=d.event;d=d.listeners;e:{var w=void 0;if(i)for(var E=d.length-1;0<=E;E--){var D=d[E],V=D.instance,Q=D.currentTarget;if(D=D.listener,V!==w&&p.isPropagationStopped())break e;Lw(p,D,Q),w=V}else for(E=0;E<d.length;E++){if(D=d[E],V=D.instance,Q=D.currentTarget,D=D.listener,V!==w&&p.isPropagationStopped())break e;Lw(p,D,Q),w=V}}}if(Yt)throw s=_n,Yt=!1,_n=null,s}function Rt(s,i){var l=i[mp];l===void 0&&(l=i[mp]=new Set);var d=s+"__bubble";l.has(d)||(Vw(i,s,2,!1),l.add(d))}function lp(s,i,l){var d=0;i&&(d|=4),Vw(l,s,d,i)}var nd="_reactListening"+Math.random().toString(36).slice(2);function _c(s){if(!s[nd]){s[nd]=!0,r.forEach(function(l){l!=="selectionchange"&&(PI.has(l)||lp(l,!1,s),lp(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[nd]||(i[nd]=!0,lp("selectionchange",!1,i))}}function Vw(s,i,l,d){switch(uc(i)){case 1:var p=Lt;break;case 4:p=Xf;break;default:p=cc}l=p.bind(null,i,l,s),p=void 0,!Js||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function cp(s,i,l,d,p){var w=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var D=d.stateNode.containerInfo;if(D===p||D.nodeType===8&&D.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;E=E.return}for(;D!==null;){if(E=qo(D),E===null)return;if(V=E.tag,V===5||V===6){d=w=E;continue e}D=D.parentNode}}d=d.return}Ai(function(){var Q=w,le=Ks(l),ce=[];e:{var ae=Ow.get(s);if(ae!==void 0){var ye=Ha,Ee=s;switch(s){case"keypress":if(za(l)===0)break e;case"keydown":case"keyup":ye=g;break;case"focusin":Ee="focus",ye=Ka;break;case"focusout":Ee="blur",ye=Ka;break;case"beforeblur":case"afterblur":ye=Ka;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Y;break;case Pw:case Aw:case Nw:ye=ri;break;case Dw:ye=yt;break;case"scroll":ye=Zf;break;case"wheel":ye=at;break;case"copy":case"cut":case"paste":ye=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=x}var be=(i&4)!==0,Gt=!be&&s==="scroll",q=be?ae!==null?ae+"Capture":null:ae;be=[];for(var U=Q,G;U!==null;){G=U;var de=G.stateNode;if(G.tag===5&&de!==null&&(G=de,q!==null&&(de=Ot(U,q),de!=null&&be.push(Ec(U,de,G)))),Gt)break;U=U.return}0<be.length&&(ae=new ye(ae,Ee,null,l,le),ce.push({event:ae,listeners:be}))}}if((i&7)===0){e:{if(ae=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",ae&&l!==Gs&&(Ee=l.relatedTarget||l.fromElement)&&(qo(Ee)||Ee[si]))break e;if((ye||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,ye?(Ee=l.relatedTarget||l.toElement,ye=Q,Ee=Ee?qo(Ee):null,Ee!==null&&(Gt=Bt(Ee),Ee!==Gt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ye=null,Ee=Q),ye!==Ee)){if(be=Wa,de="onMouseLeave",q="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(be=x,de="onPointerLeave",q="onPointerEnter",U="pointer"),Gt=ye==null?ae:nl(ye),G=Ee==null?ae:nl(Ee),ae=new be(de,U+"leave",ye,l,le),ae.target=Gt,ae.relatedTarget=G,de=null,qo(le)===Q&&(be=new be(q,U+"enter",Ee,l,le),be.target=G,be.relatedTarget=Gt,de=be),Gt=de,ye&&Ee)t:{for(be=ye,q=Ee,U=0,G=be;G;G=el(G))U++;for(G=0,de=q;de;de=el(de))G++;for(;0<U-G;)be=el(be),U--;for(;0<G-U;)q=el(q),G--;for(;U--;){if(be===q||q!==null&&be===q.alternate)break t;be=el(be),q=el(q)}be=null}else be=null;ye!==null&&Fw(ce,ae,ye,be,!1),Ee!==null&&Gt!==null&&Fw(ce,Gt,Ee,be,!0)}}e:{if(ae=Q?nl(Q):window,ye=ae.nodeName&&ae.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ae.type==="file")var Te=_I;else if(ww(ae))if(_w)Te=TI;else{Te=bI;var Re=EI}else(ye=ae.nodeName)&&ye.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Te=CI);if(Te&&(Te=Te(s,Q))){vw(ce,Te,l,le);break e}Re&&Re(s,ae,Q),s==="focusout"&&(Re=ae._wrapperState)&&Re.controlled&&ae.type==="number"&&it(ae,"number",ae.value)}switch(Re=Q?nl(Q):window,s){case"focusin":(ww(Re)||Re.contentEditable==="true")&&(Xa=Re,rp=Q,wc=null);break;case"focusout":wc=rp=Xa=null;break;case"mousedown":sp=!0;break;case"contextmenu":case"mouseup":case"dragend":sp=!1,kw(ce,l,le);break;case"selectionchange":if(xI)break;case"keydown":case"keyup":kw(ce,l,le)}var Pe;if(Zt)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ya?gw(s,l)&&(Ue="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ho&&l.locale!=="ko"&&(Ya||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ya&&(Pe=dc()):(vr=le,Ba="value"in vr?vr.value:vr.textContent,Ya=!0)),Re=rd(Q,Ue),0<Re.length&&(Ue=new pc(Ue,s,null,l,le),ce.push({event:Ue,listeners:Re}),Pe?Ue.data=Pe:(Pe=yw(l),Pe!==null&&(Ue.data=Pe)))),(Pe=_r?gI(s,l):yI(s,l))&&(Q=rd(Q,"onBeforeInput"),0<Q.length&&(le=new pc("onBeforeInput","beforeinput",null,l,le),ce.push({event:le,listeners:Q}),le.data=Pe))}Mw(ce,i)})}function Ec(s,i,l){return{instance:s,listener:i,currentTarget:l}}function rd(s,i){for(var l=i+"Capture",d=[];s!==null;){var p=s,w=p.stateNode;p.tag===5&&w!==null&&(p=w,w=Ot(s,l),w!=null&&d.unshift(Ec(s,w,p)),w=Ot(s,i),w!=null&&d.push(Ec(s,w,p))),s=s.return}return d}function el(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Fw(s,i,l,d,p){for(var w=i._reactName,E=[];l!==null&&l!==d;){var D=l,V=D.alternate,Q=D.stateNode;if(V!==null&&V===d)break;D.tag===5&&Q!==null&&(D=Q,p?(V=Ot(l,w),V!=null&&E.unshift(Ec(l,V,D))):p||(V=Ot(l,w),V!=null&&E.push(Ec(l,V,D)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var AI=/\r\n?/g,NI=/\u0000|\uFFFD/g;function $w(s){return(typeof s=="string"?s:""+s).replace(AI,`
`).replace(NI,"")}function sd(s,i,l){if(i=$w(i),$w(s)!==i&&l)throw Error(n(425))}function id(){}var up=null,dp=null;function hp(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,DI=typeof clearTimeout=="function"?clearTimeout:void 0,Uw=typeof Promise=="function"?Promise:void 0,OI=typeof queueMicrotask=="function"?queueMicrotask:typeof Uw<"u"?function(s){return Uw.resolve(null).then(s).catch(jI)}:fp;function jI(s){setTimeout(function(){throw s})}function pp(s,i){var l=i,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){s.removeChild(p),es(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);es(i)}function Bi(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Bw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var tl=Math.random().toString(36).slice(2),xs="__reactFiber$"+tl,bc="__reactProps$"+tl,si="__reactContainer$"+tl,mp="__reactEvents$"+tl,LI="__reactListeners$"+tl,MI="__reactHandles$"+tl;function qo(s){var i=s[xs];if(i)return i;for(var l=s.parentNode;l;){if(i=l[si]||l[xs]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=Bw(s);s!==null;){if(l=s[xs])return l;s=Bw(s)}return i}s=l,l=s.parentNode}return null}function Cc(s){return s=s[xs]||s[si],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function nl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function od(s){return s[bc]||null}var gp=[],rl=-1;function zi(s){return{current:s}}function Pt(s){0>rl||(s.current=gp[rl],gp[rl]=null,rl--)}function Ct(s,i){rl++,gp[rl]=s.current,s.current=i}var Hi={},Pn=zi(Hi),tr=zi(!1),Wo=Hi;function sl(s,i){var l=s.type.contextTypes;if(!l)return Hi;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},w;for(w in l)p[w]=i[w];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function nr(s){return s=s.childContextTypes,s!=null}function ad(){Pt(tr),Pt(Pn)}function zw(s,i,l){if(Pn.current!==Hi)throw Error(n(168));Ct(Pn,i),Ct(tr,l)}function Hw(s,i,l){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,me(s)||"Unknown",p));return te({},l,d)}function ld(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hi,Wo=Pn.current,Ct(Pn,s),Ct(tr,tr.current),!0}function qw(s,i,l){var d=s.stateNode;if(!d)throw Error(n(169));l?(s=Hw(s,i,Wo),d.__reactInternalMemoizedMergedChildContext=s,Pt(tr),Pt(Pn),Ct(Pn,s)):Pt(tr),Ct(tr,l)}var ii=null,cd=!1,yp=!1;function Ww(s){ii===null?ii=[s]:ii.push(s)}function VI(s){cd=!0,Ww(s)}function qi(){if(!yp&&ii!==null){yp=!0;var s=0,i=ot;try{var l=ii;for(ot=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}ii=null,cd=!1}catch(p){throw ii!==null&&(ii=ii.slice(s+1)),Xs(yr,qi),p}finally{ot=i,yp=!1}}return null}var il=[],ol=0,ud=null,dd=0,jr=[],Lr=0,Go=null,oi=1,ai="";function Ko(s,i){il[ol++]=dd,il[ol++]=ud,ud=s,dd=i}function Gw(s,i,l){jr[Lr++]=oi,jr[Lr++]=ai,jr[Lr++]=Go,Go=s;var d=oi;s=ai;var p=32-zt(d)-1;d&=~(1<<p),l+=1;var w=32-zt(i)+p;if(30<w){var E=p-p%5;w=(d&(1<<E)-1).toString(32),d>>=E,p-=E,oi=1<<32-zt(i)+p|l<<p|d,ai=w+s}else oi=1<<w|l<<p|d,ai=s}function wp(s){s.return!==null&&(Ko(s,1),Gw(s,1,0))}function vp(s){for(;s===ud;)ud=il[--ol],il[ol]=null,dd=il[--ol],il[ol]=null;for(;s===Go;)Go=jr[--Lr],jr[Lr]=null,ai=jr[--Lr],jr[Lr]=null,oi=jr[--Lr],jr[Lr]=null}var Er=null,br=null,Mt=!1,rs=null;function Kw(s,i){var l=$r(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Jw(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Er=s,br=Bi(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Er=s,br=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Go!==null?{id:oi,overflow:ai}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=$r(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,Er=s,br=null,!0):!1;default:return!1}}function _p(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ep(s){if(Mt){var i=br;if(i){var l=i;if(!Jw(s,i)){if(_p(s))throw Error(n(418));i=Bi(l.nextSibling);var d=Er;i&&Jw(s,i)?Kw(d,l):(s.flags=s.flags&-4097|2,Mt=!1,Er=s)}}else{if(_p(s))throw Error(n(418));s.flags=s.flags&-4097|2,Mt=!1,Er=s}}}function Qw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Er=s}function hd(s){if(s!==Er)return!1;if(!Mt)return Qw(s),Mt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!hp(s.type,s.memoizedProps)),i&&(i=br)){if(_p(s))throw Yw(),Error(n(418));for(;i;)Kw(s,i),i=Bi(i.nextSibling)}if(Qw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){br=Bi(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}br=null}}else br=Er?Bi(s.stateNode.nextSibling):null;return!0}function Yw(){for(var s=br;s;)s=Bi(s.nextSibling)}function al(){br=Er=null,Mt=!1}function bp(s){rs===null?rs=[s]:rs.push(s)}var FI=J.ReactCurrentBatchConfig;function Tc(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,s));var p=d,w=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(E){var D=p.refs;E===null?delete D[w]:D[w]=E},i._stringRef=w,i)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function fd(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Xw(s){var i=s._init;return i(s._payload)}function Zw(s){function i(q,U){if(s){var G=q.deletions;G===null?(q.deletions=[U],q.flags|=16):G.push(U)}}function l(q,U){if(!s)return null;for(;U!==null;)i(q,U),U=U.sibling;return null}function d(q,U){for(q=new Map;U!==null;)U.key!==null?q.set(U.key,U):q.set(U.index,U),U=U.sibling;return q}function p(q,U){return q=Zi(q,U),q.index=0,q.sibling=null,q}function w(q,U,G){return q.index=G,s?(G=q.alternate,G!==null?(G=G.index,G<U?(q.flags|=2,U):G):(q.flags|=2,U)):(q.flags|=1048576,U)}function E(q){return s&&q.alternate===null&&(q.flags|=2),q}function D(q,U,G,de){return U===null||U.tag!==6?(U=fm(G,q.mode,de),U.return=q,U):(U=p(U,G),U.return=q,U)}function V(q,U,G,de){var Te=G.type;return Te===S?le(q,U,G.props.children,de,G.key):U!==null&&(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===He&&Xw(Te)===U.type)?(de=p(U,G.props),de.ref=Tc(q,U,G),de.return=q,de):(de=Md(G.type,G.key,G.props,null,q.mode,de),de.ref=Tc(q,U,G),de.return=q,de)}function Q(q,U,G,de){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=pm(G,q.mode,de),U.return=q,U):(U=p(U,G.children||[]),U.return=q,U)}function le(q,U,G,de,Te){return U===null||U.tag!==7?(U=na(G,q.mode,de,Te),U.return=q,U):(U=p(U,G),U.return=q,U)}function ce(q,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return U=fm(""+U,q.mode,G),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case se:return G=Md(U.type,U.key,U.props,null,q.mode,G),G.ref=Tc(q,null,U),G.return=q,G;case K:return U=pm(U,q.mode,G),U.return=q,U;case He:var de=U._init;return ce(q,de(U._payload),G)}if(Le(U)||re(U))return U=na(U,q.mode,G,null),U.return=q,U;fd(q,U)}return null}function ae(q,U,G,de){var Te=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Te!==null?null:D(q,U,""+G,de);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case se:return G.key===Te?V(q,U,G,de):null;case K:return G.key===Te?Q(q,U,G,de):null;case He:return Te=G._init,ae(q,U,Te(G._payload),de)}if(Le(G)||re(G))return Te!==null?null:le(q,U,G,de,null);fd(q,G)}return null}function ye(q,U,G,de,Te){if(typeof de=="string"&&de!==""||typeof de=="number")return q=q.get(G)||null,D(U,q,""+de,Te);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case se:return q=q.get(de.key===null?G:de.key)||null,V(U,q,de,Te);case K:return q=q.get(de.key===null?G:de.key)||null,Q(U,q,de,Te);case He:var Re=de._init;return ye(q,U,G,Re(de._payload),Te)}if(Le(de)||re(de))return q=q.get(G)||null,le(U,q,de,Te,null);fd(U,de)}return null}function Ee(q,U,G,de){for(var Te=null,Re=null,Pe=U,Ue=U=0,gn=null;Pe!==null&&Ue<G.length;Ue++){Pe.index>Ue?(gn=Pe,Pe=null):gn=Pe.sibling;var dt=ae(q,Pe,G[Ue],de);if(dt===null){Pe===null&&(Pe=gn);break}s&&Pe&&dt.alternate===null&&i(q,Pe),U=w(dt,U,Ue),Re===null?Te=dt:Re.sibling=dt,Re=dt,Pe=gn}if(Ue===G.length)return l(q,Pe),Mt&&Ko(q,Ue),Te;if(Pe===null){for(;Ue<G.length;Ue++)Pe=ce(q,G[Ue],de),Pe!==null&&(U=w(Pe,U,Ue),Re===null?Te=Pe:Re.sibling=Pe,Re=Pe);return Mt&&Ko(q,Ue),Te}for(Pe=d(q,Pe);Ue<G.length;Ue++)gn=ye(Pe,q,Ue,G[Ue],de),gn!==null&&(s&&gn.alternate!==null&&Pe.delete(gn.key===null?Ue:gn.key),U=w(gn,U,Ue),Re===null?Te=gn:Re.sibling=gn,Re=gn);return s&&Pe.forEach(function(eo){return i(q,eo)}),Mt&&Ko(q,Ue),Te}function be(q,U,G,de){var Te=re(G);if(typeof Te!="function")throw Error(n(150));if(G=Te.call(G),G==null)throw Error(n(151));for(var Re=Te=null,Pe=U,Ue=U=0,gn=null,dt=G.next();Pe!==null&&!dt.done;Ue++,dt=G.next()){Pe.index>Ue?(gn=Pe,Pe=null):gn=Pe.sibling;var eo=ae(q,Pe,dt.value,de);if(eo===null){Pe===null&&(Pe=gn);break}s&&Pe&&eo.alternate===null&&i(q,Pe),U=w(eo,U,Ue),Re===null?Te=eo:Re.sibling=eo,Re=eo,Pe=gn}if(dt.done)return l(q,Pe),Mt&&Ko(q,Ue),Te;if(Pe===null){for(;!dt.done;Ue++,dt=G.next())dt=ce(q,dt.value,de),dt!==null&&(U=w(dt,U,Ue),Re===null?Te=dt:Re.sibling=dt,Re=dt);return Mt&&Ko(q,Ue),Te}for(Pe=d(q,Pe);!dt.done;Ue++,dt=G.next())dt=ye(Pe,q,Ue,dt.value,de),dt!==null&&(s&&dt.alternate!==null&&Pe.delete(dt.key===null?Ue:dt.key),U=w(dt,U,Ue),Re===null?Te=dt:Re.sibling=dt,Re=dt);return s&&Pe.forEach(function(wS){return i(q,wS)}),Mt&&Ko(q,Ue),Te}function Gt(q,U,G,de){if(typeof G=="object"&&G!==null&&G.type===S&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case se:e:{for(var Te=G.key,Re=U;Re!==null;){if(Re.key===Te){if(Te=G.type,Te===S){if(Re.tag===7){l(q,Re.sibling),U=p(Re,G.props.children),U.return=q,q=U;break e}}else if(Re.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===He&&Xw(Te)===Re.type){l(q,Re.sibling),U=p(Re,G.props),U.ref=Tc(q,Re,G),U.return=q,q=U;break e}l(q,Re);break}else i(q,Re);Re=Re.sibling}G.type===S?(U=na(G.props.children,q.mode,de,G.key),U.return=q,q=U):(de=Md(G.type,G.key,G.props,null,q.mode,de),de.ref=Tc(q,U,G),de.return=q,q=de)}return E(q);case K:e:{for(Re=G.key;U!==null;){if(U.key===Re)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(q,U.sibling),U=p(U,G.children||[]),U.return=q,q=U;break e}else{l(q,U);break}else i(q,U);U=U.sibling}U=pm(G,q.mode,de),U.return=q,q=U}return E(q);case He:return Re=G._init,Gt(q,U,Re(G._payload),de)}if(Le(G))return Ee(q,U,G,de);if(re(G))return be(q,U,G,de);fd(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,U!==null&&U.tag===6?(l(q,U.sibling),U=p(U,G),U.return=q,q=U):(l(q,U),U=fm(G,q.mode,de),U.return=q,q=U),E(q)):l(q,U)}return Gt}var ll=Zw(!0),ev=Zw(!1),pd=zi(null),md=null,cl=null,Cp=null;function Tp(){Cp=cl=md=null}function Ip(s){var i=pd.current;Pt(pd),s._currentValue=i}function Sp(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function ul(s,i){md=s,Cp=cl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(rr=!0),s.firstContext=null)}function Mr(s){var i=s._currentValue;if(Cp!==s)if(s={context:s,memoizedValue:i,next:null},cl===null){if(md===null)throw Error(n(308));cl=s,md.dependencies={lanes:0,firstContext:s}}else cl=cl.next=s;return i}var Jo=null;function xp(s){Jo===null?Jo=[s]:Jo.push(s)}function tv(s,i,l,d){var p=i.interleaved;return p===null?(l.next=l,xp(i)):(l.next=p.next,p.next=l),i.interleaved=l,li(s,d)}function li(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Wi=!1;function kp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nv(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ci(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Gi(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(ct&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,li(s,l)}return p=d.interleaved,p===null?(i.next=i,xp(d)):(i.next=p.next,p.next=i),d.interleaved=i,li(s,l)}function gd(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Li(s,l)}}function rv(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};w===null?p=w=E:w=w.next=E,l=l.next}while(l!==null);w===null?p=w=i:w=w.next=i}else p=w=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:w,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function yd(s,i,l,d){var p=s.updateQueue;Wi=!1;var w=p.firstBaseUpdate,E=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var V=D,Q=V.next;V.next=null,E===null?w=Q:E.next=Q,E=V;var le=s.alternate;le!==null&&(le=le.updateQueue,D=le.lastBaseUpdate,D!==E&&(D===null?le.firstBaseUpdate=Q:D.next=Q,le.lastBaseUpdate=V))}if(w!==null){var ce=p.baseState;E=0,le=Q=V=null,D=w;do{var ae=D.lane,ye=D.eventTime;if((d&ae)===ae){le!==null&&(le=le.next={eventTime:ye,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var Ee=s,be=D;switch(ae=i,ye=l,be.tag){case 1:if(Ee=be.payload,typeof Ee=="function"){ce=Ee.call(ye,ce,ae);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=be.payload,ae=typeof Ee=="function"?Ee.call(ye,ce,ae):Ee,ae==null)break e;ce=te({},ce,ae);break e;case 2:Wi=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,ae=p.effects,ae===null?p.effects=[D]:ae.push(D))}else ye={eventTime:ye,lane:ae,tag:D.tag,payload:D.payload,callback:D.callback,next:null},le===null?(Q=le=ye,V=ce):le=le.next=ye,E|=ae;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;ae=D,D=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);if(le===null&&(V=ce),p.baseState=V,p.firstBaseUpdate=Q,p.lastBaseUpdate=le,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else w===null&&(p.shared.lanes=0);Xo|=E,s.lanes=E,s.memoizedState=ce}}function sv(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Ic={},ks=zi(Ic),Sc=zi(Ic),xc=zi(Ic);function Qo(s){if(s===Ic)throw Error(n(174));return s}function Rp(s,i){switch(Ct(xc,i),Ct(Sc,s),Ct(ks,Ic),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:vt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=vt(i,s)}Pt(ks),Ct(ks,i)}function dl(){Pt(ks),Pt(Sc),Pt(xc)}function iv(s){Qo(xc.current);var i=Qo(ks.current),l=vt(i,s.type);i!==l&&(Ct(Sc,s),Ct(ks,l))}function Pp(s){Sc.current===s&&(Pt(ks),Pt(Sc))}var Ft=zi(0);function wd(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ap=[];function Np(){for(var s=0;s<Ap.length;s++)Ap[s]._workInProgressVersionPrimary=null;Ap.length=0}var vd=J.ReactCurrentDispatcher,Dp=J.ReactCurrentBatchConfig,Yo=0,$t=null,ln=null,pn=null,_d=!1,kc=!1,Rc=0,$I=0;function An(){throw Error(n(321))}function Op(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!ns(s[l],i[l]))return!1;return!0}function jp(s,i,l,d,p,w){if(Yo=w,$t=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,vd.current=s===null||s.memoizedState===null?HI:qI,s=l(d,p),kc){w=0;do{if(kc=!1,Rc=0,25<=w)throw Error(n(301));w+=1,pn=ln=null,i.updateQueue=null,vd.current=WI,s=l(d,p)}while(kc)}if(vd.current=Cd,i=ln!==null&&ln.next!==null,Yo=0,pn=ln=$t=null,_d=!1,i)throw Error(n(300));return s}function Lp(){var s=Rc!==0;return Rc=0,s}function Rs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?$t.memoizedState=pn=s:pn=pn.next=s,pn}function Vr(){if(ln===null){var s=$t.alternate;s=s!==null?s.memoizedState:null}else s=ln.next;var i=pn===null?$t.memoizedState:pn.next;if(i!==null)pn=i,ln=s;else{if(s===null)throw Error(n(310));ln=s,s={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},pn===null?$t.memoizedState=pn=s:pn=pn.next=s}return pn}function Pc(s,i){return typeof i=="function"?i(s):i}function Mp(s){var i=Vr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=ln,p=d.baseQueue,w=l.pending;if(w!==null){if(p!==null){var E=p.next;p.next=w.next,w.next=E}d.baseQueue=p=w,l.pending=null}if(p!==null){w=p.next,d=d.baseState;var D=E=null,V=null,Q=w;do{var le=Q.lane;if((Yo&le)===le)V!==null&&(V=V.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:s(d,Q.action);else{var ce={lane:le,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};V===null?(D=V=ce,E=d):V=V.next=ce,$t.lanes|=le,Xo|=le}Q=Q.next}while(Q!==null&&Q!==w);V===null?E=d:V.next=D,ns(d,i.memoizedState)||(rr=!0),i.memoizedState=d,i.baseState=E,i.baseQueue=V,l.lastRenderedState=d}if(s=l.interleaved,s!==null){p=s;do w=p.lane,$t.lanes|=w,Xo|=w,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Vp(s){var i=Vr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=l.dispatch,p=l.pending,w=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do w=s(w,E.action),E=E.next;while(E!==p);ns(w,i.memoizedState)||(rr=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),l.lastRenderedState=w}return[w,d]}function ov(){}function av(s,i){var l=$t,d=Vr(),p=i(),w=!ns(d.memoizedState,p);if(w&&(d.memoizedState=p,rr=!0),d=d.queue,Fp(uv.bind(null,l,d,s),[s]),d.getSnapshot!==i||w||pn!==null&&pn.memoizedState.tag&1){if(l.flags|=2048,Ac(9,cv.bind(null,l,d,p,i),void 0,null),mn===null)throw Error(n(349));(Yo&30)!==0||lv(l,i,p)}return p}function lv(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=$t.updateQueue,i===null?(i={lastEffect:null,stores:null},$t.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function cv(s,i,l,d){i.value=l,i.getSnapshot=d,dv(i)&&hv(s)}function uv(s,i,l){return l(function(){dv(i)&&hv(s)})}function dv(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!ns(s,l)}catch{return!0}}function hv(s){var i=li(s,1);i!==null&&as(i,s,1,-1)}function fv(s){var i=Rs();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:s},i.queue=s,s=s.dispatch=zI.bind(null,$t,s),[i.memoizedState,s]}function Ac(s,i,l,d){return s={tag:s,create:i,destroy:l,deps:d,next:null},i=$t.updateQueue,i===null?(i={lastEffect:null,stores:null},$t.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s)),s}function pv(){return Vr().memoizedState}function Ed(s,i,l,d){var p=Rs();$t.flags|=s,p.memoizedState=Ac(1|i,l,void 0,d===void 0?null:d)}function bd(s,i,l,d){var p=Vr();d=d===void 0?null:d;var w=void 0;if(ln!==null){var E=ln.memoizedState;if(w=E.destroy,d!==null&&Op(d,E.deps)){p.memoizedState=Ac(i,l,w,d);return}}$t.flags|=s,p.memoizedState=Ac(1|i,l,w,d)}function mv(s,i){return Ed(8390656,8,s,i)}function Fp(s,i){return bd(2048,8,s,i)}function gv(s,i){return bd(4,2,s,i)}function yv(s,i){return bd(4,4,s,i)}function wv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function vv(s,i,l){return l=l!=null?l.concat([s]):null,bd(4,4,wv.bind(null,i,s),l)}function $p(){}function _v(s,i){var l=Vr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Op(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function Ev(s,i){var l=Vr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Op(i,d[1])?d[0]:(s=s(),l.memoizedState=[s,i],s)}function bv(s,i,l){return(Yo&21)===0?(s.baseState&&(s.baseState=!1,rr=!0),s.memoizedState=l):(ns(l,i)||(l=Rn(),$t.lanes|=l,Xo|=l,s.baseState=!0),i)}function UI(s,i){var l=ot;ot=l!==0&&4>l?l:4,s(!0);var d=Dp.transition;Dp.transition={};try{s(!1),i()}finally{ot=l,Dp.transition=d}}function Cv(){return Vr().memoizedState}function BI(s,i,l){var d=Yi(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Tv(s))Iv(i,l);else if(l=tv(s,i,l,d),l!==null){var p=Wn();as(l,s,d,p),Sv(l,i,d)}}function zI(s,i,l){var d=Yi(s),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Tv(s))Iv(i,p);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var E=i.lastRenderedState,D=w(E,l);if(p.hasEagerState=!0,p.eagerState=D,ns(D,E)){var V=i.interleaved;V===null?(p.next=p,xp(i)):(p.next=V.next,V.next=p),i.interleaved=p;return}}catch{}finally{}l=tv(s,i,p,d),l!==null&&(p=Wn(),as(l,s,d,p),Sv(l,i,d))}}function Tv(s){var i=s.alternate;return s===$t||i!==null&&i===$t}function Iv(s,i){kc=_d=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Sv(s,i,l){if((l&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Li(s,l)}}var Cd={readContext:Mr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},HI={readContext:Mr,useCallback:function(s,i){return Rs().memoizedState=[s,i===void 0?null:i],s},useContext:Mr,useEffect:mv,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,Ed(4194308,4,wv.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Ed(4194308,4,s,i)},useInsertionEffect:function(s,i){return Ed(4,2,s,i)},useMemo:function(s,i){var l=Rs();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var d=Rs();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=BI.bind(null,$t,s),[d.memoizedState,s]},useRef:function(s){var i=Rs();return s={current:s},i.memoizedState=s},useState:fv,useDebugValue:$p,useDeferredValue:function(s){return Rs().memoizedState=s},useTransition:function(){var s=fv(!1),i=s[0];return s=UI.bind(null,s[1]),Rs().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var d=$t,p=Rs();if(Mt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),mn===null)throw Error(n(349));(Yo&30)!==0||lv(d,i,l)}p.memoizedState=l;var w={value:l,getSnapshot:i};return p.queue=w,mv(uv.bind(null,d,w,s),[s]),d.flags|=2048,Ac(9,cv.bind(null,d,w,l,i),void 0,null),l},useId:function(){var s=Rs(),i=mn.identifierPrefix;if(Mt){var l=ai,d=oi;l=(d&~(1<<32-zt(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Rc++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=$I++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},qI={readContext:Mr,useCallback:_v,useContext:Mr,useEffect:Fp,useImperativeHandle:vv,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:Ev,useReducer:Mp,useRef:pv,useState:function(){return Mp(Pc)},useDebugValue:$p,useDeferredValue:function(s){var i=Vr();return bv(i,ln.memoizedState,s)},useTransition:function(){var s=Mp(Pc)[0],i=Vr().memoizedState;return[s,i]},useMutableSource:ov,useSyncExternalStore:av,useId:Cv,unstable_isNewReconciler:!1},WI={readContext:Mr,useCallback:_v,useContext:Mr,useEffect:Fp,useImperativeHandle:vv,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:Ev,useReducer:Vp,useRef:pv,useState:function(){return Vp(Pc)},useDebugValue:$p,useDeferredValue:function(s){var i=Vr();return ln===null?i.memoizedState=s:bv(i,ln.memoizedState,s)},useTransition:function(){var s=Vp(Pc)[0],i=Vr().memoizedState;return[s,i]},useMutableSource:ov,useSyncExternalStore:av,useId:Cv,unstable_isNewReconciler:!1};function ss(s,i){if(s&&s.defaultProps){i=te({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function Up(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:te({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Td={isMounted:function(s){return(s=s._reactInternals)?Bt(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var d=Wn(),p=Yi(s),w=ci(d,p);w.payload=i,l!=null&&(w.callback=l),i=Gi(s,w,p),i!==null&&(as(i,s,p,d),gd(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=Wn(),p=Yi(s),w=ci(d,p);w.tag=1,w.payload=i,l!=null&&(w.callback=l),i=Gi(s,w,p),i!==null&&(as(i,s,p,d),gd(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Wn(),d=Yi(s),p=ci(l,d);p.tag=2,i!=null&&(p.callback=i),i=Gi(s,p,d),i!==null&&(as(i,s,d,l),gd(i,s,d))}};function xv(s,i,l,d,p,w,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,w,E):i.prototype&&i.prototype.isPureReactComponent?!yc(l,d)||!yc(p,w):!0}function kv(s,i,l){var d=!1,p=Hi,w=i.contextType;return typeof w=="object"&&w!==null?w=Mr(w):(p=nr(i)?Wo:Pn.current,d=i.contextTypes,w=(d=d!=null)?sl(s,p):Hi),i=new i(l,w),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Td,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=w),i}function Rv(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&Td.enqueueReplaceState(i,i.state,null)}function Bp(s,i,l,d){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},kp(s);var w=i.contextType;typeof w=="object"&&w!==null?p.context=Mr(w):(w=nr(i)?Wo:Pn.current,p.context=sl(s,w)),p.state=s.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Up(s,i,w,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Td.enqueueReplaceState(p,p.state,null),yd(s,l,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function hl(s,i){try{var l="",d=i;do l+=fe(d),d=d.return;while(d);var p=l}catch(w){p=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:i,stack:p,digest:null}}function zp(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Hp(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var GI=typeof WeakMap=="function"?WeakMap:Map;function Pv(s,i,l){l=ci(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Ad||(Ad=!0,im=d),Hp(s,i)},l}function Av(s,i,l){l=ci(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){Hp(s,i)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(l.callback=function(){Hp(s,i),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function Nv(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new GI;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),s=aS.bind(null,s,i,l),i.then(s,s))}function Dv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Ov(s,i,l,d,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=ci(-1,1),i.tag=2,Gi(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var KI=J.ReactCurrentOwner,rr=!1;function qn(s,i,l,d){i.child=s===null?ev(i,null,l,d):ll(i,s.child,l,d)}function jv(s,i,l,d,p){l=l.render;var w=i.ref;return ul(i,p),d=jp(s,i,l,d,w,p),l=Lp(),s!==null&&!rr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ui(s,i,p)):(Mt&&l&&wp(i),i.flags|=1,qn(s,i,d,p),i.child)}function Lv(s,i,l,d,p){if(s===null){var w=l.type;return typeof w=="function"&&!hm(w)&&w.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=w,Mv(s,i,w,d,p)):(s=Md(l.type,null,d,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(w=s.child,(s.lanes&p)===0){var E=w.memoizedProps;if(l=l.compare,l=l!==null?l:yc,l(E,d)&&s.ref===i.ref)return ui(s,i,p)}return i.flags|=1,s=Zi(w,d),s.ref=i.ref,s.return=i,i.child=s}function Mv(s,i,l,d,p){if(s!==null){var w=s.memoizedProps;if(yc(w,d)&&s.ref===i.ref)if(rr=!1,i.pendingProps=d=w,(s.lanes&p)!==0)(s.flags&131072)!==0&&(rr=!0);else return i.lanes=s.lanes,ui(s,i,p)}return qp(s,i,l,d,p)}function Vv(s,i,l){var d=i.pendingProps,p=d.children,w=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(pl,Cr),Cr|=l;else{if((l&1073741824)===0)return s=w!==null?w.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Ct(pl,Cr),Cr|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=w!==null?w.baseLanes:l,Ct(pl,Cr),Cr|=d}else w!==null?(d=w.baseLanes|l,i.memoizedState=null):d=l,Ct(pl,Cr),Cr|=d;return qn(s,i,p,l),i.child}function Fv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function qp(s,i,l,d,p){var w=nr(l)?Wo:Pn.current;return w=sl(i,w),ul(i,p),l=jp(s,i,l,d,w,p),d=Lp(),s!==null&&!rr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ui(s,i,p)):(Mt&&d&&wp(i),i.flags|=1,qn(s,i,l,p),i.child)}function $v(s,i,l,d,p){if(nr(l)){var w=!0;ld(i)}else w=!1;if(ul(i,p),i.stateNode===null)Sd(s,i),kv(i,l,d),Bp(i,l,d,p),d=!0;else if(s===null){var E=i.stateNode,D=i.memoizedProps;E.props=D;var V=E.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Mr(Q):(Q=nr(l)?Wo:Pn.current,Q=sl(i,Q));var le=l.getDerivedStateFromProps,ce=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function";ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==d||V!==Q)&&Rv(i,E,d,Q),Wi=!1;var ae=i.memoizedState;E.state=ae,yd(i,d,E,p),V=i.memoizedState,D!==d||ae!==V||tr.current||Wi?(typeof le=="function"&&(Up(i,l,le,d),V=i.memoizedState),(D=Wi||xv(i,l,D,d,ae,V,Q))?(ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=V),E.props=d,E.state=V,E.context=Q,d=D):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{E=i.stateNode,nv(s,i),D=i.memoizedProps,Q=i.type===i.elementType?D:ss(i.type,D),E.props=Q,ce=i.pendingProps,ae=E.context,V=l.contextType,typeof V=="object"&&V!==null?V=Mr(V):(V=nr(l)?Wo:Pn.current,V=sl(i,V));var ye=l.getDerivedStateFromProps;(le=typeof ye=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==ce||ae!==V)&&Rv(i,E,d,V),Wi=!1,ae=i.memoizedState,E.state=ae,yd(i,d,E,p);var Ee=i.memoizedState;D!==ce||ae!==Ee||tr.current||Wi?(typeof ye=="function"&&(Up(i,l,ye,d),Ee=i.memoizedState),(Q=Wi||xv(i,l,Q,d,ae,Ee,V)||!1)?(le||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,Ee,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,Ee,V)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===s.memoizedProps&&ae===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ae===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Ee),E.props=d,E.state=Ee,E.context=V,d=Q):(typeof E.componentDidUpdate!="function"||D===s.memoizedProps&&ae===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ae===s.memoizedState||(i.flags|=1024),d=!1)}return Wp(s,i,l,d,w,p)}function Wp(s,i,l,d,p,w){Fv(s,i);var E=(i.flags&128)!==0;if(!d&&!E)return p&&qw(i,l,!1),ui(s,i,w);d=i.stateNode,KI.current=i;var D=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&E?(i.child=ll(i,s.child,null,w),i.child=ll(i,null,D,w)):qn(s,i,D,w),i.memoizedState=d.state,p&&qw(i,l,!0),i.child}function Uv(s){var i=s.stateNode;i.pendingContext?zw(s,i.pendingContext,i.pendingContext!==i.context):i.context&&zw(s,i.context,!1),Rp(s,i.containerInfo)}function Bv(s,i,l,d,p){return al(),bp(p),i.flags|=256,qn(s,i,l,d),i.child}var Gp={dehydrated:null,treeContext:null,retryLane:0};function Kp(s){return{baseLanes:s,cachePool:null,transitions:null}}function zv(s,i,l){var d=i.pendingProps,p=Ft.current,w=!1,E=(i.flags&128)!==0,D;if((D=E)||(D=s!==null&&s.memoizedState===null?!1:(p&2)!==0),D?(w=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Ct(Ft,p&1),s===null)return Ep(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=d.children,s=d.fallback,w?(d=i.mode,w=i.child,E={mode:"hidden",children:E},(d&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=E):w=Vd(E,d,0,null),s=na(s,d,l,null),w.return=i,s.return=i,w.sibling=s,i.child=w,i.child.memoizedState=Kp(l),i.memoizedState=Gp,s):Jp(i,E));if(p=s.memoizedState,p!==null&&(D=p.dehydrated,D!==null))return JI(s,i,E,d,D,p,l);if(w){w=d.fallback,E=i.mode,p=s.child,D=p.sibling;var V={mode:"hidden",children:d.children};return(E&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=V,i.deletions=null):(d=Zi(p,V),d.subtreeFlags=p.subtreeFlags&14680064),D!==null?w=Zi(D,w):(w=na(w,E,l,null),w.flags|=2),w.return=i,d.return=i,d.sibling=w,i.child=d,d=w,w=i.child,E=s.child.memoizedState,E=E===null?Kp(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},w.memoizedState=E,w.childLanes=s.childLanes&~l,i.memoizedState=Gp,d}return w=s.child,s=w.sibling,d=Zi(w,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=d,i.memoizedState=null,d}function Jp(s,i){return i=Vd({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Id(s,i,l,d){return d!==null&&bp(d),ll(i,s.child,null,l),s=Jp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function JI(s,i,l,d,p,w,E){if(l)return i.flags&256?(i.flags&=-257,d=zp(Error(n(422))),Id(s,i,E,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(w=d.fallback,p=i.mode,d=Vd({mode:"visible",children:d.children},p,0,null),w=na(w,p,E,null),w.flags|=2,d.return=i,w.return=i,d.sibling=w,i.child=d,(i.mode&1)!==0&&ll(i,s.child,null,E),i.child.memoizedState=Kp(E),i.memoizedState=Gp,w);if((i.mode&1)===0)return Id(s,i,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var D=d.dgst;return d=D,w=Error(n(419)),d=zp(w,d,void 0),Id(s,i,E,d)}if(D=(E&s.childLanes)!==0,rr||D){if(d=mn,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==w.retryLane&&(w.retryLane=p,li(s,p),as(d,s,p,-1))}return dm(),d=zp(Error(n(421))),Id(s,i,E,d)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=lS.bind(null,s),p._reactRetry=i,null):(s=w.treeContext,br=Bi(p.nextSibling),Er=i,Mt=!0,rs=null,s!==null&&(jr[Lr++]=oi,jr[Lr++]=ai,jr[Lr++]=Go,oi=s.id,ai=s.overflow,Go=i),i=Jp(i,d.children),i.flags|=4096,i)}function Hv(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),Sp(s.return,i,l)}function Qp(s,i,l,d,p){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=l,w.tailMode=p)}function qv(s,i,l){var d=i.pendingProps,p=d.revealOrder,w=d.tail;if(qn(s,i,d.children,l),d=Ft.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Hv(s,l,i);else if(s.tag===19)Hv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Ct(Ft,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&wd(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Qp(i,!1,p,l,w);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&wd(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Qp(i,!0,l,null,w);break;case"together":Qp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sd(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function ui(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Xo|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,l=Zi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Zi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function QI(s,i,l){switch(i.tag){case 3:Uv(i),al();break;case 5:iv(i);break;case 1:nr(i.type)&&ld(i);break;case 4:Rp(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;Ct(pd,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(Ct(Ft,Ft.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?zv(s,i,l):(Ct(Ft,Ft.current&1),s=ui(s,i,l),s!==null?s.sibling:null);Ct(Ft,Ft.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(s.flags&128)!==0){if(d)return qv(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ct(Ft,Ft.current),d)break;return null;case 22:case 23:return i.lanes=0,Vv(s,i,l)}return ui(s,i,l)}var Wv,Yp,Gv,Kv;Wv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Yp=function(){},Gv=function(s,i,l,d){var p=s.memoizedProps;if(p!==d){s=i.stateNode,Qo(ks.current);var w=null;switch(l){case"input":p=Un(s,p),d=Un(s,d),w=[];break;case"select":p=te({},p,{value:void 0}),d=te({},d,{value:void 0}),w=[];break;case"textarea":p=wt(s,p),d=wt(s,d),w=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=id)}Do(l,d);var E;l=null;for(Q in p)if(!d.hasOwnProperty(Q)&&p.hasOwnProperty(Q)&&p[Q]!=null)if(Q==="style"){var D=p[Q];for(E in D)D.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?w||(w=[]):(w=w||[]).push(Q,null));for(Q in d){var V=d[Q];if(D=p?.[Q],d.hasOwnProperty(Q)&&V!==D&&(V!=null||D!=null))if(Q==="style")if(D){for(E in D)!D.hasOwnProperty(E)||V&&V.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in V)V.hasOwnProperty(E)&&D[E]!==V[E]&&(l||(l={}),l[E]=V[E])}else l||(w||(w=[]),w.push(Q,l)),l=V;else Q==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,D=D?D.__html:void 0,V!=null&&D!==V&&(w=w||[]).push(Q,V)):Q==="children"?typeof V!="string"&&typeof V!="number"||(w=w||[]).push(Q,""+V):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(V!=null&&Q==="onScroll"&&Rt("scroll",s),w||D===V||(w=[])):(w=w||[]).push(Q,V))}l&&(w=w||[]).push("style",l);var Q=w;(i.updateQueue=Q)&&(i.flags|=4)}},Kv=function(s,i,l,d){l!==d&&(i.flags|=4)};function Nc(s,i){if(!Mt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Nn(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function YI(s,i,l){var d=i.pendingProps;switch(vp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(i),null;case 1:return nr(i.type)&&ad(),Nn(i),null;case 3:return d=i.stateNode,dl(),Pt(tr),Pt(Pn),Np(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(hd(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rs!==null&&(lm(rs),rs=null))),Yp(s,i),Nn(i),null;case 5:Pp(i);var p=Qo(xc.current);if(l=i.type,s!==null&&i.stateNode!=null)Gv(s,i,l,d,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Nn(i),null}if(s=Qo(ks.current),hd(i)){d=i.stateNode,l=i.type;var w=i.memoizedProps;switch(d[xs]=i,d[bc]=w,s=(i.mode&1)!==0,l){case"dialog":Rt("cancel",d),Rt("close",d);break;case"iframe":case"object":case"embed":Rt("load",d);break;case"video":case"audio":for(p=0;p<vc.length;p++)Rt(vc[p],d);break;case"source":Rt("error",d);break;case"img":case"image":case"link":Rt("error",d),Rt("load",d);break;case"details":Rt("toggle",d);break;case"input":fr(d,w),Rt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!w.multiple},Rt("invalid",d);break;case"textarea":Ke(d,w),Rt("invalid",d)}Do(l,w),p=null;for(var E in w)if(w.hasOwnProperty(E)){var D=w[E];E==="children"?typeof D=="string"?d.textContent!==D&&(w.suppressHydrationWarning!==!0&&sd(d.textContent,D,s),p=["children",D]):typeof D=="number"&&d.textContent!==""+D&&(w.suppressHydrationWarning!==!0&&sd(d.textContent,D,s),p=["children",""+D]):o.hasOwnProperty(E)&&D!=null&&E==="onScroll"&&Rt("scroll",d)}switch(l){case"input":bt(d),ve(d,w,!0);break;case"textarea":bt(d),et(d);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(d.onclick=id)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=tt(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=E.createElement(l,{is:d.is}):(s=E.createElement(l),l==="select"&&(E=s,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):s=E.createElementNS(s,l),s[xs]=i,s[bc]=d,Wv(s,i,!1,!1),i.stateNode=s;e:{switch(E=Oo(l,d),l){case"dialog":Rt("cancel",s),Rt("close",s),p=d;break;case"iframe":case"object":case"embed":Rt("load",s),p=d;break;case"video":case"audio":for(p=0;p<vc.length;p++)Rt(vc[p],s);p=d;break;case"source":Rt("error",s),p=d;break;case"img":case"image":case"link":Rt("error",s),Rt("load",s),p=d;break;case"details":Rt("toggle",s),p=d;break;case"input":fr(s,d),p=Un(s,d),Rt("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=te({},d,{value:void 0}),Rt("invalid",s);break;case"textarea":Ke(s,d),p=wt(s,d),Rt("invalid",s);break;default:p=d}Do(l,p),D=p;for(w in D)if(D.hasOwnProperty(w)){var V=D[w];w==="style"?No(s,V):w==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Po(s,V)):w==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&gs(s,V):typeof V=="number"&&gs(s,""+V):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?V!=null&&w==="onScroll"&&Rt("scroll",s):V!=null&&z(s,w,V,E))}switch(l){case"input":bt(s),ve(s,d,!1);break;case"textarea":bt(s),et(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Ce(d.value));break;case"select":s.multiple=!!d.multiple,w=d.value,w!=null?We(s,!!d.multiple,w,!1):d.defaultValue!=null&&We(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=id)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Nn(i),null;case 6:if(s&&i.stateNode!=null)Kv(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=Qo(xc.current),Qo(ks.current),hd(i)){if(d=i.stateNode,l=i.memoizedProps,d[xs]=i,(w=d.nodeValue!==l)&&(s=Er,s!==null))switch(s.tag){case 3:sd(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&sd(d.nodeValue,l,(s.mode&1)!==0)}w&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[xs]=i,i.stateNode=d}return Nn(i),null;case 13:if(Pt(Ft),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Mt&&br!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Yw(),al(),i.flags|=98560,w=!1;else if(w=hd(i),d!==null&&d.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[xs]=i}else al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nn(i),w=!1}else rs!==null&&(lm(rs),rs=null),w=!0;if(!w)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Ft.current&1)!==0?cn===0&&(cn=3):dm())),i.updateQueue!==null&&(i.flags|=4),Nn(i),null);case 4:return dl(),Yp(s,i),s===null&&_c(i.stateNode.containerInfo),Nn(i),null;case 10:return Ip(i.type._context),Nn(i),null;case 17:return nr(i.type)&&ad(),Nn(i),null;case 19:if(Pt(Ft),w=i.memoizedState,w===null)return Nn(i),null;if(d=(i.flags&128)!==0,E=w.rendering,E===null)if(d)Nc(w,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=wd(s),E!==null){for(i.flags|=128,Nc(w,!1),d=E.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)w=l,s=d,w.flags&=14680066,E=w.alternate,E===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=E.childLanes,w.lanes=E.lanes,w.child=E.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=E.memoizedProps,w.memoizedState=E.memoizedState,w.updateQueue=E.updateQueue,w.type=E.type,s=E.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Ct(Ft,Ft.current&1|2),i.child}s=s.sibling}w.tail!==null&&_t()>ml&&(i.flags|=128,d=!0,Nc(w,!1),i.lanes=4194304)}else{if(!d)if(s=wd(E),s!==null){if(i.flags|=128,d=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Nc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!Mt)return Nn(i),null}else 2*_t()-w.renderingStartTime>ml&&l!==1073741824&&(i.flags|=128,d=!0,Nc(w,!1),i.lanes=4194304);w.isBackwards?(E.sibling=i.child,i.child=E):(l=w.last,l!==null?l.sibling=E:i.child=E,w.last=E)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=_t(),i.sibling=null,l=Ft.current,Ct(Ft,d?l&1|2:l&1),i):(Nn(i),null);case 22:case 23:return um(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Cr&1073741824)!==0&&(Nn(i),i.subtreeFlags&6&&(i.flags|=8192)):Nn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function XI(s,i){switch(vp(i),i.tag){case 1:return nr(i.type)&&ad(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return dl(),Pt(tr),Pt(Pn),Np(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Pp(i),null;case 13:if(Pt(Ft),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));al()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Pt(Ft),null;case 4:return dl(),null;case 10:return Ip(i.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var xd=!1,Dn=!1,ZI=typeof WeakSet=="function"?WeakSet:Set,_e=null;function fl(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Ht(s,i,d)}else l.current=null}function Xp(s,i,l){try{l()}catch(d){Ht(s,i,d)}}var Jv=!1;function eS(s,i){if(up=Fi,s=xw(),np(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var E=0,D=-1,V=-1,Q=0,le=0,ce=s,ae=null;t:for(;;){for(var ye;ce!==l||p!==0&&ce.nodeType!==3||(D=E+p),ce!==w||d!==0&&ce.nodeType!==3||(V=E+d),ce.nodeType===3&&(E+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)ae=ce,ce=ye;for(;;){if(ce===s)break t;if(ae===l&&++Q===p&&(D=E),ae===w&&++le===d&&(V=E),(ye=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=ye}l=D===-1||V===-1?null:{start:D,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(dp={focusedElem:s,selectionRange:l},Fi=!1,_e=i;_e!==null;)if(i=_e,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,_e=s;else for(;_e!==null;){i=_e;try{var Ee=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var be=Ee.memoizedProps,Gt=Ee.memoizedState,q=i.stateNode,U=q.getSnapshotBeforeUpdate(i.elementType===i.type?be:ss(i.type,be),Gt);q.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var G=i.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){Ht(i,i.return,de)}if(s=i.sibling,s!==null){s.return=i.return,_e=s;break}_e=i.return}return Ee=Jv,Jv=!1,Ee}function Dc(s,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var w=p.destroy;p.destroy=void 0,w!==void 0&&Xp(i,l,w)}p=p.next}while(p!==d)}}function kd(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Zp(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function Qv(s){var i=s.alternate;i!==null&&(s.alternate=null,Qv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[xs],delete i[bc],delete i[mp],delete i[LI],delete i[MI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Yv(s){return s.tag===5||s.tag===3||s.tag===4}function Xv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function em(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=id));else if(d!==4&&(s=s.child,s!==null))for(em(s,i,l),s=s.sibling;s!==null;)em(s,i,l),s=s.sibling}function tm(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(tm(s,i,l),s=s.sibling;s!==null;)tm(s,i,l),s=s.sibling}var Cn=null,is=!1;function Ki(s,i,l){for(l=l.child;l!==null;)Zv(s,i,l),l=l.sibling}function Zv(s,i,l){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Zs,l)}catch{}switch(l.tag){case 5:Dn||fl(l,i);case 6:var d=Cn,p=is;Cn=null,Ki(s,i,l),Cn=d,is=p,Cn!==null&&(is?(s=Cn,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Cn.removeChild(l.stateNode));break;case 18:Cn!==null&&(is?(s=Cn,l=l.stateNode,s.nodeType===8?pp(s.parentNode,l):s.nodeType===1&&pp(s,l),es(s)):pp(Cn,l.stateNode));break;case 4:d=Cn,p=is,Cn=l.stateNode.containerInfo,is=!0,Ki(s,i,l),Cn=d,is=p;break;case 0:case 11:case 14:case 15:if(!Dn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var w=p,E=w.destroy;w=w.tag,E!==void 0&&((w&2)!==0||(w&4)!==0)&&Xp(l,i,E),p=p.next}while(p!==d)}Ki(s,i,l);break;case 1:if(!Dn&&(fl(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(D){Ht(l,i,D)}Ki(s,i,l);break;case 21:Ki(s,i,l);break;case 22:l.mode&1?(Dn=(d=Dn)||l.memoizedState!==null,Ki(s,i,l),Dn=d):Ki(s,i,l);break;default:Ki(s,i,l)}}function e_(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new ZI),i.forEach(function(d){var p=cS.bind(null,s,d);l.has(d)||(l.add(d),d.then(p,p))})}}function os(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var w=s,E=i,D=E;e:for(;D!==null;){switch(D.tag){case 5:Cn=D.stateNode,is=!1;break e;case 3:Cn=D.stateNode.containerInfo,is=!0;break e;case 4:Cn=D.stateNode.containerInfo,is=!0;break e}D=D.return}if(Cn===null)throw Error(n(160));Zv(w,E,p),Cn=null,is=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(Q){Ht(p,i,Q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)t_(i,s),i=i.sibling}function t_(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(os(i,s),Ps(s),d&4){try{Dc(3,s,s.return),kd(3,s)}catch(be){Ht(s,s.return,be)}try{Dc(5,s,s.return)}catch(be){Ht(s,s.return,be)}}break;case 1:os(i,s),Ps(s),d&512&&l!==null&&fl(l,l.return);break;case 5:if(os(i,s),Ps(s),d&512&&l!==null&&fl(l,l.return),s.flags&32){var p=s.stateNode;try{gs(p,"")}catch(be){Ht(s,s.return,be)}}if(d&4&&(p=s.stateNode,p!=null)){var w=s.memoizedProps,E=l!==null?l.memoizedProps:w,D=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{D==="input"&&w.type==="radio"&&w.name!=null&&Jr(p,w),Oo(D,E);var Q=Oo(D,w);for(E=0;E<V.length;E+=2){var le=V[E],ce=V[E+1];le==="style"?No(p,ce):le==="dangerouslySetInnerHTML"?Po(p,ce):le==="children"?gs(p,ce):z(p,le,ce,Q)}switch(D){case"input":$e(p,w);break;case"textarea":Ze(p,w);break;case"select":var ae=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!w.multiple;var ye=w.value;ye!=null?We(p,!!w.multiple,ye,!1):ae!==!!w.multiple&&(w.defaultValue!=null?We(p,!!w.multiple,w.defaultValue,!0):We(p,!!w.multiple,w.multiple?[]:"",!1))}p[bc]=w}catch(be){Ht(s,s.return,be)}}break;case 6:if(os(i,s),Ps(s),d&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,w=s.memoizedProps;try{p.nodeValue=w}catch(be){Ht(s,s.return,be)}}break;case 3:if(os(i,s),Ps(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{es(i.containerInfo)}catch(be){Ht(s,s.return,be)}break;case 4:os(i,s),Ps(s);break;case 13:os(i,s),Ps(s),p=s.child,p.flags&8192&&(w=p.memoizedState!==null,p.stateNode.isHidden=w,!w||p.alternate!==null&&p.alternate.memoizedState!==null||(sm=_t())),d&4&&e_(s);break;case 22:if(le=l!==null&&l.memoizedState!==null,s.mode&1?(Dn=(Q=Dn)||le,os(i,s),Dn=Q):os(i,s),Ps(s),d&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!le&&(s.mode&1)!==0)for(_e=s,le=s.child;le!==null;){for(ce=_e=le;_e!==null;){switch(ae=_e,ye=ae.child,ae.tag){case 0:case 11:case 14:case 15:Dc(4,ae,ae.return);break;case 1:fl(ae,ae.return);var Ee=ae.stateNode;if(typeof Ee.componentWillUnmount=="function"){d=ae,l=ae.return;try{i=d,Ee.props=i.memoizedProps,Ee.state=i.memoizedState,Ee.componentWillUnmount()}catch(be){Ht(d,l,be)}}break;case 5:fl(ae,ae.return);break;case 22:if(ae.memoizedState!==null){s_(ce);continue}}ye!==null?(ye.return=ae,_e=ye):s_(ce)}le=le.sibling}e:for(le=null,ce=s;;){if(ce.tag===5){if(le===null){le=ce;try{p=ce.stateNode,Q?(w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(D=ce.stateNode,V=ce.memoizedProps.style,E=V!=null&&V.hasOwnProperty("display")?V.display:null,D.style.display=Ao("display",E))}catch(be){Ht(s,s.return,be)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=Q?"":ce.memoizedProps}catch(be){Ht(s,s.return,be)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:os(i,s),Ps(s),d&4&&e_(s);break;case 21:break;default:os(i,s),Ps(s)}}function Ps(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(Yv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(gs(p,""),d.flags&=-33);var w=Xv(s);tm(s,w,p);break;case 3:case 4:var E=d.stateNode.containerInfo,D=Xv(s);em(s,D,E);break;default:throw Error(n(161))}}catch(V){Ht(s,s.return,V)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function tS(s,i,l){_e=s,n_(s)}function n_(s,i,l){for(var d=(s.mode&1)!==0;_e!==null;){var p=_e,w=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||xd;if(!E){var D=p.alternate,V=D!==null&&D.memoizedState!==null||Dn;D=xd;var Q=Dn;if(xd=E,(Dn=V)&&!Q)for(_e=p;_e!==null;)E=_e,V=E.child,E.tag===22&&E.memoizedState!==null?i_(p):V!==null?(V.return=E,_e=V):i_(p);for(;w!==null;)_e=w,n_(w),w=w.sibling;_e=p,xd=D,Dn=Q}r_(s)}else(p.subtreeFlags&8772)!==0&&w!==null?(w.return=p,_e=w):r_(s)}}function r_(s){for(;_e!==null;){var i=_e;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Dn||kd(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Dn)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:ss(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&sv(i,w,d);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}sv(i,E,l)}break;case 5:var D=i.stateNode;if(l===null&&i.flags&4){l=D;var V=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Q=i.alternate;if(Q!==null){var le=Q.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&es(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dn||i.flags&512&&Zp(i)}catch(ae){Ht(i,i.return,ae)}}if(i===s){_e=null;break}if(l=i.sibling,l!==null){l.return=i.return,_e=l;break}_e=i.return}}function s_(s){for(;_e!==null;){var i=_e;if(i===s){_e=null;break}var l=i.sibling;if(l!==null){l.return=i.return,_e=l;break}_e=i.return}}function i_(s){for(;_e!==null;){var i=_e;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{kd(4,i)}catch(V){Ht(i,l,V)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(V){Ht(i,p,V)}}var w=i.return;try{Zp(i)}catch(V){Ht(i,w,V)}break;case 5:var E=i.return;try{Zp(i)}catch(V){Ht(i,E,V)}}}catch(V){Ht(i,i.return,V)}if(i===s){_e=null;break}var D=i.sibling;if(D!==null){D.return=i.return,_e=D;break}_e=i.return}}var nS=Math.ceil,Rd=J.ReactCurrentDispatcher,nm=J.ReactCurrentOwner,Fr=J.ReactCurrentBatchConfig,ct=0,mn=null,en=null,Tn=0,Cr=0,pl=zi(0),cn=0,Oc=null,Xo=0,Pd=0,rm=0,jc=null,sr=null,sm=0,ml=1/0,di=null,Ad=!1,im=null,Ji=null,Nd=!1,Qi=null,Dd=0,Lc=0,om=null,Od=-1,jd=0;function Wn(){return(ct&6)!==0?_t():Od!==-1?Od:Od=_t()}function Yi(s){return(s.mode&1)===0?1:(ct&2)!==0&&Tn!==0?Tn&-Tn:FI.transition!==null?(jd===0&&(jd=Rn()),jd):(s=ot,s!==0||(s=window.event,s=s===void 0?16:uc(s.type)),s)}function as(s,i,l,d){if(50<Lc)throw Lc=0,om=null,Error(n(185));ji(s,l,d),((ct&2)===0||s!==mn)&&(s===mn&&((ct&2)===0&&(Pd|=l),cn===4&&Xi(s,Tn)),ir(s,d),l===1&&ct===0&&(i.mode&1)===0&&(ml=_t()+500,cd&&qi()))}function ir(s,i){var l=s.callbackNode;wr(s,i);var d=on(s,s===mn?Tn:0);if(d===0)l!==null&&Vo(l),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(l!=null&&Vo(l),i===1)s.tag===0?VI(a_.bind(null,s)):Ww(a_.bind(null,s)),OI(function(){(ct&6)===0&&qi()}),l=null;else{switch(Mi(d)){case 1:l=yr;break;case 4:l=Es;break;case 16:l=Xn;break;case 536870912:l=La;break;default:l=Xn}l=m_(l,o_.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function o_(s,i){if(Od=-1,jd=0,(ct&6)!==0)throw Error(n(327));var l=s.callbackNode;if(gl()&&s.callbackNode!==l)return null;var d=on(s,s===mn?Tn:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=Ld(s,d);else{i=d;var p=ct;ct|=2;var w=c_();(mn!==s||Tn!==i)&&(di=null,ml=_t()+500,ea(s,i));do try{iS();break}catch(D){l_(s,D)}while(!0);Tp(),Rd.current=w,ct=p,en!==null?i=0:(mn=null,Tn=0,i=cn)}if(i!==0){if(i===2&&(p=Xt(s),p!==0&&(d=p,i=am(s,p))),i===1)throw l=Oc,ea(s,0),Xi(s,d),ir(s,_t()),l;if(i===6)Xi(s,d);else{if(p=s.current.alternate,(d&30)===0&&!rS(p)&&(i=Ld(s,d),i===2&&(w=Xt(s),w!==0&&(d=w,i=am(s,w))),i===1))throw l=Oc,ea(s,0),Xi(s,d),ir(s,_t()),l;switch(s.finishedWork=p,s.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:ta(s,sr,di);break;case 3:if(Xi(s,d),(d&130023424)===d&&(i=sm+500-_t(),10<i)){if(on(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){Wn(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=fp(ta.bind(null,s,sr,di),i);break}ta(s,sr,di);break;case 4:if(Xi(s,d),(d&4194240)===d)break;for(i=s.eventTimes,p=-1;0<d;){var E=31-zt(d);w=1<<E,E=i[E],E>p&&(p=E),d&=~w}if(d=p,d=_t()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*nS(d/1960))-d,10<d){s.timeoutHandle=fp(ta.bind(null,s,sr,di),d);break}ta(s,sr,di);break;case 5:ta(s,sr,di);break;default:throw Error(n(329))}}}return ir(s,_t()),s.callbackNode===l?o_.bind(null,s):null}function am(s,i){var l=jc;return s.current.memoizedState.isDehydrated&&(ea(s,i).flags|=256),s=Ld(s,i),s!==2&&(i=sr,sr=l,i!==null&&lm(i)),s}function lm(s){sr===null?sr=s:sr.push.apply(sr,s)}function rS(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],w=p.getSnapshot;p=p.value;try{if(!ns(w(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xi(s,i){for(i&=~rm,i&=~Pd,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-zt(i),d=1<<l;s[l]=-1,i&=~d}}function a_(s){if((ct&6)!==0)throw Error(n(327));gl();var i=on(s,0);if((i&1)===0)return ir(s,_t()),null;var l=Ld(s,i);if(s.tag!==0&&l===2){var d=Xt(s);d!==0&&(i=d,l=am(s,d))}if(l===1)throw l=Oc,ea(s,0),Xi(s,i),ir(s,_t()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,ta(s,sr,di),ir(s,_t()),null}function cm(s,i){var l=ct;ct|=1;try{return s(i)}finally{ct=l,ct===0&&(ml=_t()+500,cd&&qi())}}function Zo(s){Qi!==null&&Qi.tag===0&&(ct&6)===0&&gl();var i=ct;ct|=1;var l=Fr.transition,d=ot;try{if(Fr.transition=null,ot=1,s)return s()}finally{ot=d,Fr.transition=l,ct=i,(ct&6)===0&&qi()}}function um(){Cr=pl.current,Pt(pl)}function ea(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,DI(l)),en!==null)for(l=en.return;l!==null;){var d=l;switch(vp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ad();break;case 3:dl(),Pt(tr),Pt(Pn),Np();break;case 5:Pp(d);break;case 4:dl();break;case 13:Pt(Ft);break;case 19:Pt(Ft);break;case 10:Ip(d.type._context);break;case 22:case 23:um()}l=l.return}if(mn=s,en=s=Zi(s.current,null),Tn=Cr=i,cn=0,Oc=null,rm=Pd=Xo=0,sr=jc=null,Jo!==null){for(i=0;i<Jo.length;i++)if(l=Jo[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,w=l.pending;if(w!==null){var E=w.next;w.next=p,d.next=E}l.pending=d}Jo=null}return s}function l_(s,i){do{var l=en;try{if(Tp(),vd.current=Cd,_d){for(var d=$t.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}_d=!1}if(Yo=0,pn=ln=$t=null,kc=!1,Rc=0,nm.current=null,l===null||l.return===null){cn=1,Oc=i,en=null;break}e:{var w=s,E=l.return,D=l,V=i;if(i=Tn,D.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var Q=V,le=D,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var ye=Dv(E);if(ye!==null){ye.flags&=-257,Ov(ye,E,D,w,i),ye.mode&1&&Nv(w,Q,i),i=ye,V=Q;var Ee=i.updateQueue;if(Ee===null){var be=new Set;be.add(V),i.updateQueue=be}else Ee.add(V);break e}else{if((i&1)===0){Nv(w,Q,i),dm();break e}V=Error(n(426))}}else if(Mt&&D.mode&1){var Gt=Dv(E);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),Ov(Gt,E,D,w,i),bp(hl(V,D));break e}}w=V=hl(V,D),cn!==4&&(cn=2),jc===null?jc=[w]:jc.push(w),w=E;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var q=Pv(w,V,i);rv(w,q);break e;case 1:D=V;var U=w.type,G=w.stateNode;if((w.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ji===null||!Ji.has(G)))){w.flags|=65536,i&=-i,w.lanes|=i;var de=Av(w,D,i);rv(w,de);break e}}w=w.return}while(w!==null)}d_(l)}catch(Te){i=Te,en===l&&l!==null&&(en=l=l.return);continue}break}while(!0)}function c_(){var s=Rd.current;return Rd.current=Cd,s===null?Cd:s}function dm(){(cn===0||cn===3||cn===2)&&(cn=4),mn===null||(Xo&268435455)===0&&(Pd&268435455)===0||Xi(mn,Tn)}function Ld(s,i){var l=ct;ct|=2;var d=c_();(mn!==s||Tn!==i)&&(di=null,ea(s,i));do try{sS();break}catch(p){l_(s,p)}while(!0);if(Tp(),ct=l,Rd.current=d,en!==null)throw Error(n(261));return mn=null,Tn=0,cn}function sS(){for(;en!==null;)u_(en)}function iS(){for(;en!==null&&!ja();)u_(en)}function u_(s){var i=p_(s.alternate,s,Cr);s.memoizedProps=s.pendingProps,i===null?d_(s):en=i,nm.current=null}function d_(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=YI(l,i,Cr),l!==null){en=l;return}}else{if(l=XI(l,i),l!==null){l.flags&=32767,en=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cn=6,en=null;return}}if(i=i.sibling,i!==null){en=i;return}en=i=s}while(i!==null);cn===0&&(cn=5)}function ta(s,i,l){var d=ot,p=Fr.transition;try{Fr.transition=null,ot=1,oS(s,i,l,d)}finally{Fr.transition=p,ot=d}return null}function oS(s,i,l,d){do gl();while(Qi!==null);if((ct&6)!==0)throw Error(n(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=l.lanes|l.childLanes;if(Et(s,w),s===mn&&(en=mn=null,Tn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Nd||(Nd=!0,m_(Xn,function(){return gl(),null})),w=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||w){w=Fr.transition,Fr.transition=null;var E=ot;ot=1;var D=ct;ct|=4,nm.current=null,eS(s,l),t_(l,s),SI(dp),Fi=!!up,dp=up=null,s.current=l,tS(l),ac(),ct=D,ot=E,Fr.transition=w}else s.current=l;if(Nd&&(Nd=!1,Qi=s,Dd=p),w=s.pendingLanes,w===0&&(Ji=null),Ma(l.stateNode),ir(s,_t()),i!==null)for(d=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Ad)throw Ad=!1,s=im,im=null,s;return(Dd&1)!==0&&s.tag!==0&&gl(),w=s.pendingLanes,(w&1)!==0?s===om?Lc++:(Lc=0,om=s):Lc=0,qi(),null}function gl(){if(Qi!==null){var s=Mi(Dd),i=Fr.transition,l=ot;try{if(Fr.transition=null,ot=16>s?16:s,Qi===null)var d=!1;else{if(s=Qi,Qi=null,Dd=0,(ct&6)!==0)throw Error(n(331));var p=ct;for(ct|=4,_e=s.current;_e!==null;){var w=_e,E=w.child;if((_e.flags&16)!==0){var D=w.deletions;if(D!==null){for(var V=0;V<D.length;V++){var Q=D[V];for(_e=Q;_e!==null;){var le=_e;switch(le.tag){case 0:case 11:case 15:Dc(8,le,w)}var ce=le.child;if(ce!==null)ce.return=le,_e=ce;else for(;_e!==null;){le=_e;var ae=le.sibling,ye=le.return;if(Qv(le),le===Q){_e=null;break}if(ae!==null){ae.return=ye,_e=ae;break}_e=ye}}}var Ee=w.alternate;if(Ee!==null){var be=Ee.child;if(be!==null){Ee.child=null;do{var Gt=be.sibling;be.sibling=null,be=Gt}while(be!==null)}}_e=w}}if((w.subtreeFlags&2064)!==0&&E!==null)E.return=w,_e=E;else e:for(;_e!==null;){if(w=_e,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Dc(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,_e=q;break e}_e=w.return}}var U=s.current;for(_e=U;_e!==null;){E=_e;var G=E.child;if((E.subtreeFlags&2064)!==0&&G!==null)G.return=E,_e=G;else e:for(E=U;_e!==null;){if(D=_e,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:kd(9,D)}}catch(Te){Ht(D,D.return,Te)}if(D===E){_e=null;break e}var de=D.sibling;if(de!==null){de.return=D.return,_e=de;break e}_e=D.return}}if(ct=p,qi(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Zs,s)}catch{}d=!0}return d}finally{ot=l,Fr.transition=i}}return!1}function h_(s,i,l){i=hl(l,i),i=Pv(s,i,1),s=Gi(s,i,1),i=Wn(),s!==null&&(ji(s,1,i),ir(s,i))}function Ht(s,i,l){if(s.tag===3)h_(s,s,l);else for(;i!==null;){if(i.tag===3){h_(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ji===null||!Ji.has(d))){s=hl(l,s),s=Av(i,s,1),i=Gi(i,s,1),s=Wn(),i!==null&&(ji(i,1,s),ir(i,s));break}}i=i.return}}function aS(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),i=Wn(),s.pingedLanes|=s.suspendedLanes&l,mn===s&&(Tn&l)===l&&(cn===4||cn===3&&(Tn&130023424)===Tn&&500>_t()-sm?ea(s,0):rm|=l),ir(s,i)}function f_(s,i){i===0&&((s.mode&1)===0?i=1:(i=Qe,Qe<<=1,(Qe&130023424)===0&&(Qe=4194304)));var l=Wn();s=li(s,i),s!==null&&(ji(s,i,l),ir(s,l))}function lS(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),f_(s,l)}function cS(s,i){var l=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),f_(s,l)}var p_;p_=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||tr.current)rr=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return rr=!1,QI(s,i,l);rr=(s.flags&131072)!==0}else rr=!1,Mt&&(i.flags&1048576)!==0&&Gw(i,dd,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Sd(s,i),s=i.pendingProps;var p=sl(i,Pn.current);ul(i,l),p=jp(null,i,d,s,p,l);var w=Lp();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,nr(d)?(w=!0,ld(i)):w=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,kp(i),p.updater=Td,i.stateNode=p,p._reactInternals=i,Bp(i,d,s,l),i=Wp(null,i,d,!0,w,l)):(i.tag=0,Mt&&w&&wp(i),qn(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(Sd(s,i),s=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=dS(d),s=ss(d,s),p){case 0:i=qp(null,i,d,s,l);break e;case 1:i=$v(null,i,d,s,l);break e;case 11:i=jv(null,i,d,s,l);break e;case 14:i=Lv(null,i,d,ss(d.type,s),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),qp(s,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),$v(s,i,d,p,l);case 3:e:{if(Uv(i),s===null)throw Error(n(387));d=i.pendingProps,w=i.memoizedState,p=w.element,nv(s,i),yd(i,d,null,l);var E=i.memoizedState;if(d=E.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){p=hl(Error(n(423)),i),i=Bv(s,i,d,l,p);break e}else if(d!==p){p=hl(Error(n(424)),i),i=Bv(s,i,d,l,p);break e}else for(br=Bi(i.stateNode.containerInfo.firstChild),Er=i,Mt=!0,rs=null,l=ev(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(al(),d===p){i=ui(s,i,l);break e}qn(s,i,d,l)}i=i.child}return i;case 5:return iv(i),s===null&&Ep(i),d=i.type,p=i.pendingProps,w=s!==null?s.memoizedProps:null,E=p.children,hp(d,p)?E=null:w!==null&&hp(d,w)&&(i.flags|=32),Fv(s,i),qn(s,i,E,l),i.child;case 6:return s===null&&Ep(i),null;case 13:return zv(s,i,l);case 4:return Rp(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=ll(i,null,d,l):qn(s,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),jv(s,i,d,p,l);case 7:return qn(s,i,i.pendingProps,l),i.child;case 8:return qn(s,i,i.pendingProps.children,l),i.child;case 12:return qn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,w=i.memoizedProps,E=p.value,Ct(pd,d._currentValue),d._currentValue=E,w!==null)if(ns(w.value,E)){if(w.children===p.children&&!tr.current){i=ui(s,i,l);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var D=w.dependencies;if(D!==null){E=w.child;for(var V=D.firstContext;V!==null;){if(V.context===d){if(w.tag===1){V=ci(-1,l&-l),V.tag=2;var Q=w.updateQueue;if(Q!==null){Q=Q.shared;var le=Q.pending;le===null?V.next=V:(V.next=le.next,le.next=V),Q.pending=V}}w.lanes|=l,V=w.alternate,V!==null&&(V.lanes|=l),Sp(w.return,l,i),D.lanes|=l;break}V=V.next}}else if(w.tag===10)E=w.type===i.type?null:w.child;else if(w.tag===18){if(E=w.return,E===null)throw Error(n(341));E.lanes|=l,D=E.alternate,D!==null&&(D.lanes|=l),Sp(E,l,i),E=w.sibling}else E=w.child;if(E!==null)E.return=w;else for(E=w;E!==null;){if(E===i){E=null;break}if(w=E.sibling,w!==null){w.return=E.return,E=w;break}E=E.return}w=E}qn(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,ul(i,l),p=Mr(p),d=d(p),i.flags|=1,qn(s,i,d,l),i.child;case 14:return d=i.type,p=ss(d,i.pendingProps),p=ss(d.type,p),Lv(s,i,d,p,l);case 15:return Mv(s,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),Sd(s,i),i.tag=1,nr(d)?(s=!0,ld(i)):s=!1,ul(i,l),kv(i,d,p),Bp(i,d,p,l),Wp(null,i,d,!0,s,l);case 19:return qv(s,i,l);case 22:return Vv(s,i,l)}throw Error(n(156,i.tag))};function m_(s,i){return Xs(s,i)}function uS(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(s,i,l,d){return new uS(s,i,l,d)}function hm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function dS(s){if(typeof s=="function")return hm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===Ie)return 14}return 2}function Zi(s,i){var l=s.alternate;return l===null?(l=$r(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Md(s,i,l,d,p,w){var E=2;if(d=s,typeof s=="function")hm(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case S:return na(l.children,p,w,i);case I:E=8,p|=8;break;case k:return s=$r(12,l,i,p|2),s.elementType=k,s.lanes=w,s;case A:return s=$r(13,l,i,p),s.elementType=A,s.lanes=w,s;case je:return s=$r(19,l,i,p),s.elementType=je,s.lanes=w,s;case De:return Vd(l,p,w,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:E=10;break e;case O:E=9;break e;case F:E=11;break e;case Ie:E=14;break e;case He:E=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=$r(E,l,i,p),i.elementType=s,i.type=d,i.lanes=w,i}function na(s,i,l,d){return s=$r(7,s,d,i),s.lanes=l,s}function Vd(s,i,l,d){return s=$r(22,s,d,i),s.elementType=De,s.lanes=l,s.stateNode={isHidden:!1},s}function fm(s,i,l){return s=$r(6,s,null,i),s.lanes=l,s}function pm(s,i,l){return i=$r(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function hS(s,i,l,d,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function mm(s,i,l,d,p,w,E,D,V){return s=new hS(s,i,l,D,V),i===1?(i=1,w===!0&&(i|=8)):i=0,w=$r(3,null,null,i),s.current=w,w.stateNode=s,w.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},kp(w),s}function fS(s,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:d==null?null:""+d,children:s,containerInfo:i,implementation:l}}function g_(s){if(!s)return Hi;s=s._reactInternals;e:{if(Bt(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(nr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(nr(l))return Hw(s,l,i)}return i}function y_(s,i,l,d,p,w,E,D,V){return s=mm(l,d,!0,s,p,w,E,D,V),s.context=g_(null),l=s.current,d=Wn(),p=Yi(l),w=ci(d,p),w.callback=i??null,Gi(l,w,p),s.current.lanes=p,ji(s,p,d),ir(s,d),s}function Fd(s,i,l,d){var p=i.current,w=Wn(),E=Yi(p);return l=g_(l),i.context===null?i.context=l:i.pendingContext=l,i=ci(w,E),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=Gi(p,i,E),s!==null&&(as(s,p,E,w),gd(s,p,E)),E}function $d(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function w_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function gm(s,i){w_(s,i),(s=s.alternate)&&w_(s,i)}function pS(){return null}var v_=typeof reportError=="function"?reportError:function(s){console.error(s)};function ym(s){this._internalRoot=s}Ud.prototype.render=ym.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));Fd(s,i,null,null)},Ud.prototype.unmount=ym.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Zo(function(){Fd(null,s,null,null)}),i[si]=null}};function Ud(s){this._internalRoot=s}Ud.prototype.unstable_scheduleHydration=function(s){if(s){var i=Uu();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Cs.length&&i!==0&&i<Cs[l].priority;l++);Cs.splice(l,0,s),l===0&&Hu(s)}};function wm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Bd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function __(){}function mS(s,i,l,d,p){if(p){if(typeof d=="function"){var w=d;d=function(){var Q=$d(E);w.call(Q)}}var E=y_(i,d,s,0,null,!1,!1,"",__);return s._reactRootContainer=E,s[si]=E.current,_c(s.nodeType===8?s.parentNode:s),Zo(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var D=d;d=function(){var Q=$d(V);D.call(Q)}}var V=mm(s,0,!1,null,null,!1,!1,"",__);return s._reactRootContainer=V,s[si]=V.current,_c(s.nodeType===8?s.parentNode:s),Zo(function(){Fd(i,V,l,d)}),V}function zd(s,i,l,d,p){var w=l._reactRootContainer;if(w){var E=w;if(typeof p=="function"){var D=p;p=function(){var V=$d(E);D.call(V)}}Fd(i,E,s,p)}else E=mS(l,i,s,p,d);return $d(E)}Fu=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=jt(i.pendingLanes);l!==0&&(Li(i,l|1),ir(i,_t()),(ct&6)===0&&(ml=_t()+500,qi()))}break;case 13:Zo(function(){var d=li(s,1);if(d!==null){var p=Wn();as(d,s,1,p)}}),gm(s,1)}},$a=function(s){if(s.tag===13){var i=li(s,134217728);if(i!==null){var l=Wn();as(i,s,134217728,l)}gm(s,134217728)}},$u=function(s){if(s.tag===13){var i=Yi(s),l=li(s,i);if(l!==null){var d=Wn();as(l,s,i,d)}gm(s,i)}},Uu=function(){return ot},Bu=function(s,i){var l=ot;try{return ot=s,i()}finally{ot=l}},Ri=function(s,i,l){switch(i){case"input":if($e(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var p=od(d);if(!p)throw Error(n(90));kt(d),$e(d,p)}}}break;case"textarea":Ze(s,l);break;case"select":i=l.value,i!=null&&We(s,!!l.multiple,i,!1)}},vs=cm,Pi=Zo;var gS={usingClientEntryPoint:!1,Events:[Cc,nl,od,Pr,jo,cm]},Mc={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yS={bundleType:Mc.bundleType,version:Mc.version,rendererPackageName:Mc.rendererPackageName,rendererConfig:Mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Di(s),s===null?null:s.stateNode},findFiberByHostInstance:Mc.findFiberByHostInstance||pS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{Zs=Hd.inject(yS),zn=Hd}catch{}}return or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gS,or.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wm(i))throw Error(n(200));return fS(s,i,null,l)},or.createRoot=function(s,i){if(!wm(s))throw Error(n(299));var l=!1,d="",p=v_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=mm(s,1,!1,null,null,l,!1,d,p),s[si]=i.current,_c(s.nodeType===8?s.parentNode:s),new ym(i)},or.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Di(i),s=s===null?null:s.stateNode,s},or.flushSync=function(s){return Zo(s)},or.hydrate=function(s,i,l){if(!Bd(i))throw Error(n(200));return zd(null,s,i,!0,l)},or.hydrateRoot=function(s,i,l){if(!wm(s))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,w="",E=v_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=y_(i,null,s,1,l??null,p,!1,w,E),s[si]=i.current,_c(s),d)for(s=0;s<d.length;s++)l=d[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new Ud(i)},or.render=function(s,i,l){if(!Bd(i))throw Error(n(200));return zd(null,s,i,!1,l)},or.unmountComponentAtNode=function(s){if(!Bd(s))throw Error(n(40));return s._reactRootContainer?(Zo(function(){zd(null,null,s,!1,function(){s._reactRootContainer=null,s[si]=null})}),!0):!1},or.unstable_batchedUpdates=cm,or.unstable_renderSubtreeIntoContainer=function(s,i,l,d){if(!Bd(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return zd(s,i,l,!1,d)},or.version="18.3.1-next-f1338f8080-20240426",or}var k_;function SS(){if(k_)return Em.exports;k_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Em.exports=IS(),Em.exports}var R_;function xS(){if(R_)return qd;R_=1;var t=SS();return qd.createRoot=t.createRoot,qd.hydrateRoot=t.hydrateRoot,qd}var kS=xS();const RS=()=>{};var P_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},PS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},rb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,h=u?t[o+1]:0,f=o+2<t.length,y=f?t[o+2]:0,v=a>>2,b=(a&3)<<4|h>>4;let T=(h&15)<<2|y>>6,N=y&63;f||(N=64,u||(T=64)),r.push(n[v],n[b],n[T],n[N])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const y=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||y==null||b==null)throw new AS;const T=a<<2|h>>4;if(r.push(T),y!==64){const N=h<<4&240|y>>2;if(r.push(N),b!==64){const L=y<<6&192|b;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NS=function(t){const e=nb(t);return rb.encodeByteArray(e,!0)},Ch=function(t){return NS(t).replace(/\./g,"")},sb=function(t){try{return rb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=()=>DS().__FIREBASE_DEFAULTS__,jS=()=>{if(typeof process>"u"||typeof P_>"u")return;const t=P_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sb(t[1]);return e&&JSON.parse(e)},lf=()=>{try{return RS()||OS()||jS()||LS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ib=t=>lf()?.emulatorHosts?.[t],ob=t=>{const e=ib(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ab=()=>lf()?.config,lb=t=>lf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $g(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(u)),""].join(".")}const Jc={};function VS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jc))Jc[e]?t.emulator.push(e):t.prod.push(e);return t}function FS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let A_=!1;function Ug(t,e){if(typeof window>"u"||typeof document>"u"||!Ta(window.location.host)||Jc[t]===e||Jc[t]||A_)return;Jc[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=VS().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,N){T.setAttribute("width","24"),T.setAttribute("id",N),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{A_=!0,u()},T}function v(T,N){T.setAttribute("id",N),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=FS(r),N=n("text"),L=document.getElementById(N)||document.createElement("span"),$=n("learnmore"),j=document.getElementById($)||document.createElement("a"),W=n("preprendIcon"),M=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;h(z),v(j,$);const J=y();f(M,W),z.append(M,L,j,J),document.body.appendChild(z)}a?(L.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function US(){const t=lf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qS(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WS(){return!US()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GS(){try{return typeof indexedDB=="object"}catch{return!1}}function KS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="FirebaseError";class qs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JS,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?QS(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new qs(o,h,r)}}function QS(t,e){return t.replace(YS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const YS=/\{\$([^}]+)}/g;function XS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],u=e[o];if(N_(a)&&N_(u)){if(!vi(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function N_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function zc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZS(t,e){const n=new ex(t,e);return n.subscribe.bind(n)}class ex{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Tm),o.error===void 0&&(o.error=Tm),o.complete===void 0&&(o.complete=Tm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class _o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sx(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rx(t){return t===sa?void 0:t}function sx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const ox={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},ax=nt.INFO,lx={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},cx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=lx[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bg{constructor(e){this.name=e,this._logLevel=ax,this._logHandler=cx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ox[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const ux=(t,e)=>e.some(n=>t instanceof n);let D_,O_;function dx(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hx(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ub=new WeakMap,Qm=new WeakMap,db=new WeakMap,Im=new WeakMap,zg=new WeakMap;function fx(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(mo(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&ub.set(n,t)}).catch(()=>{}),zg.set(e,t),e}function px(t){if(Qm.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Qm.set(t,e)}let Ym={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||db.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mx(t){Ym=t(Ym)}function gx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sm(this),e,...n);return db.set(r,e.sort?e.sort():[e]),mo(r)}:hx().includes(t)?function(...e){return t.apply(Sm(this),e),mo(ub.get(this))}:function(...e){return mo(t.apply(Sm(this),e))}}function yx(t){return typeof t=="function"?gx(t):(t instanceof IDBTransaction&&px(t),ux(t,dx())?new Proxy(t,Ym):t)}function mo(t){if(t instanceof IDBRequest)return fx(t);if(Im.has(t))return Im.get(t);const e=yx(t);return e!==t&&(Im.set(t,e),zg.set(e,t)),e}const Sm=t=>zg.get(t);function wx(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),h=mo(u);return r&&u.addEventListener("upgradeneeded",f=>{r(mo(u.result),f.oldVersion,f.newVersion,mo(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const vx=["get","getKey","getAll","getAllKeys","count"],_x=["put","add","delete","clear"],xm=new Map;function j_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=_x.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||vx.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let y=f.store;return r&&(y=y.index(h.shift())),(await Promise.all([y[n](...h),o&&f.done]))[0]};return xm.set(e,a),a}mx(t=>({...t,get:(e,n,r)=>j_(e,n)||t.get(e,n,r),has:(e,n)=>!!j_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bx(t){return t.getComponent()?.type==="VERSION"}const Xm="@firebase/app",L_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Bg("@firebase/app"),Cx="@firebase/app-compat",Tx="@firebase/analytics-compat",Ix="@firebase/analytics",Sx="@firebase/app-check-compat",xx="@firebase/app-check",kx="@firebase/auth",Rx="@firebase/auth-compat",Px="@firebase/database",Ax="@firebase/data-connect",Nx="@firebase/database-compat",Dx="@firebase/functions",Ox="@firebase/functions-compat",jx="@firebase/installations",Lx="@firebase/installations-compat",Mx="@firebase/messaging",Vx="@firebase/messaging-compat",Fx="@firebase/performance",$x="@firebase/performance-compat",Ux="@firebase/remote-config",Bx="@firebase/remote-config-compat",zx="@firebase/storage",Hx="@firebase/storage-compat",qx="@firebase/firestore",Wx="@firebase/ai",Gx="@firebase/firestore-compat",Kx="firebase",Jx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",Qx={[Xm]:"fire-core",[Cx]:"fire-core-compat",[Ix]:"fire-analytics",[Tx]:"fire-analytics-compat",[xx]:"fire-app-check",[Sx]:"fire-app-check-compat",[kx]:"fire-auth",[Rx]:"fire-auth-compat",[Px]:"fire-rtdb",[Ax]:"fire-data-connect",[Nx]:"fire-rtdb-compat",[Dx]:"fire-fn",[Ox]:"fire-fn-compat",[jx]:"fire-iid",[Lx]:"fire-iid-compat",[Mx]:"fire-fcm",[Vx]:"fire-fcm-compat",[Fx]:"fire-perf",[$x]:"fire-perf-compat",[Ux]:"fire-rc",[Bx]:"fire-rc-compat",[zx]:"fire-gcs",[Hx]:"fire-gcs-compat",[qx]:"fire-fst",[Gx]:"fire-fst-compat",[Wx]:"fire-vertex","fire-js":"fire-js",[Kx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,Yx=new Map,eg=new Map;function M_(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(eg.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;eg.set(e,t);for(const n of Th.values())M_(n,t);for(const n of Yx.values())M_(n,t);return!0}function cf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new mu("app","Firebase",Xx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=Jx;function hb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Zm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw go.create("bad-app-name",{appName:String(o)});if(n||(n=ab()),!n)throw go.create("no-options");const a=Th.get(o);if(a){if(vi(n,a.options)&&vi(r,a.config))return a;throw go.create("duplicate-app",{appName:o})}const u=new ix(o);for(const f of eg.values())u.addComponent(f);const h=new Zx(n,r,u);return Th.set(o,h),h}function Hg(t=Zm){const e=Th.get(t);if(!e&&t===Zm&&ab())return hb();if(!e)throw go.create("no-app",{appName:t});return e}function Ls(t,e,n){let r=Qx[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(u.join(" "));return}fa(new _o(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="firebase-heartbeat-database",tk=1,su="firebase-heartbeat-store";let km=null;function fb(){return km||(km=wx(ek,tk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(t=>{throw go.create("idb-open",{originalErrorMessage:t.message})})),km}async function nk(t){try{const n=(await fb()).transaction(su),r=await n.objectStore(su).get(pb(t));return await n.done,r}catch(e){if(e instanceof qs)_i.warn(e.message);else{const n=go.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}}async function V_(t,e){try{const r=(await fb()).transaction(su,"readwrite");await r.objectStore(su).put(e,pb(t)),await r.done}catch(n){if(n instanceof qs)_i.warn(n.message);else{const r=go.create("idb-set",{originalErrorMessage:n?.message});_i.warn(r.message)}}}function pb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=1024,sk=30;class ik{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ak(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=F_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>sk){const o=lk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F_(),{heartbeatsToSend:n,unsentEntries:r}=ok(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _i.warn(e),""}}}function F_(){return new Date().toISOString().substring(0,10)}function ok(t,e=rk){const n=[];let r=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),$_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),$_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ak{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GS()?KS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return V_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return V_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $_(t){return Ch(JSON.stringify({version:2,heartbeats:t})).length}function lk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){fa(new _o("platform-logger",e=>new Ex(e),"PRIVATE")),fa(new _o("heartbeat",e=>new ik(e),"PRIVATE")),Ls(Xm,L_,t),Ls(Xm,L_,"esm2020"),Ls("fire-js","")}ck("");function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uk=mb,gb=new mu("auth","Firebase",mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Bg("@firebase/auth");function dk(t,...e){Ih.logLevel<=nt.WARN&&Ih.warn(`Auth (${Ia}): ${t}`,...e)}function ih(t,...e){Ih.logLevel<=nt.ERROR&&Ih.error(`Auth (${Ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,...e){throw Wg(t,...e)}function Br(t,...e){return Wg(t,...e)}function qg(t,e,n){const r={...uk(),[e]:n};return new mu("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return qg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Hr(t,"argument-error"),qg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gb.create(t,...e)}function Ve(t,e,...n){if(!t)throw Wg(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ih(e),new Error(e)}function Ei(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(){return typeof self<"u"&&self.location?.href||""}function hk(){return U_()==="http:"||U_()==="https:"}function U_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hk()||zS()||"connection"in navigator)?navigator.onLine:!0}function pk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=$S()||HS()}get(){return fk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yk=new yu(3e4,6e4);function Si(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fs(t,e,n,r,o={}){return vb(t,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=gu({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:f,...a};return BS()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(y.credentials="include"),wb.fetch()(await _b(t,t.config.apiHost,n,h),y)})}async function vb(t,e,n){t._canInitEmulator=!1;const r={...mk,...e};try{const o=new vk(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Wd(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,y]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Wd(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Wd(t,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw qg(t,v,y);Hr(t,v)}}catch(o){if(o instanceof qs)throw o;Hr(t,"network-request-failed",{message:String(o)})}}async function wu(t,e,n,r,o={}){const a=await fs(t,e,n,r,o);return"mfaPendingCredential"in a&&Hr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function _b(t,e,n,r){const o=`${e}${n}?${r}`,a=t,u=a.config.emulator?Gg(t.config,o):`${t.config.apiScheme}://${o}`;return gk.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function wk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),yk.get())})}}function Wd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Br(t,e,r);return o.customData._tokenResponse=n,o}function B_(t){return t!==void 0&&t.enterprise!==void 0}class _k{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ek(t,e){return fs(t,"GET","/v2/recaptchaConfig",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e){return fs(t,"POST","/v1/accounts:delete",e)}async function Sh(t,e){return fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ck(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),o=Kg(r);Ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Qc(Rm(o.auth_time)),issuedAtTime:Qc(Rm(o.iat)),expirationTime:Qc(Rm(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Rm(t){return Number(t)*1e3}function Kg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=sb(n);return o?JSON.parse(o):(ih("Failed to decode base64 JWT payload"),null)}catch(o){return ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function z_(t){const e=Kg(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qs&&Tk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Tk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(t){const e=t.auth,n=await t.getIdToken(),r=await pa(t,Sh(e,{idToken:n}));Ve(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=o.providerUserInfo?.length?Eb(o.providerUserInfo):[],u=xk(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!u?.length,y=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ng(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,v)}async function Sk(t){const e=Dt(t);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xk(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Eb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(t,e){const n=await vb(t,{},async()=>{const r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,u=await _b(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(f.credentials="include"),wb.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Rk(t,e){return fs(t,"POST","/v2/accounts:revokeToken",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=z_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await kk(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,u=new Tl;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ve(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ve(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ls{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Ik(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ng(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await pa(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ck(this,e)}reload(){return Sk(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ls({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await pa(this,bk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,y=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:T,isAnonymous:N,providerData:L,stsTokenManager:$}=n;Ve(b&&$,e,"internal-error");const j=Tl.fromJSON(this.name,$);Ve(typeof b=="string",e,"internal-error"),to(r,e.name),to(o,e.name),Ve(typeof T=="boolean",e,"internal-error"),Ve(typeof N=="boolean",e,"internal-error"),to(a,e.name),to(u,e.name),to(h,e.name),to(f,e.name),to(y,e.name),to(v,e.name);const W=new ls({uid:b,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:N,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:j,createdAt:y,lastLoginAt:v});return L&&Array.isArray(L)&&(W.providerData=L.map(M=>({...M}))),f&&(W._redirectEventId=f),W}static async _fromIdTokenResponse(e,n,r=!1){const o=new Tl;o.updateFromServerResponse(n);const a=new ls({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await xh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ve(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Eb(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,h=new Tl;h.updateFromIdToken(r);const f=new ls({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ng(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;function pi(t){Ei(t instanceof Function,"Expected a class definition");let e=H_.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bb.type="NONE";const q_=bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n){return`firebase:${t}:${e}:${n}`}class Il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,a),this.fullPersistenceKey=oh("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?ls._fromGetAccountInfoResponse(this.auth,n,e):null}return ls._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Il(pi(q_),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||pi(q_);const u=oh(r,e.config.apiKey,e.name);let h=null;for(const y of n)try{const v=await y._get(u);if(v){let b;if(typeof v=="string"){const T=await Sh(e,{idToken:v}).catch(()=>{});if(!T)break;b=await ls._fromGetAccountInfoResponse(e,T,v)}else b=ls._fromJSON(e,v);y!==a&&(h=b),a=y;break}}catch{}const f=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Il(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(n.map(async y=>{if(y!==a)try{await y._remove(u)}catch{}})),new Il(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kb(e))return"Blackberry";if(Rb(e))return"Webos";if(Tb(e))return"Safari";if((e.includes("chrome/")||Ib(e))&&!e.includes("edge/"))return"Chrome";if(xb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Cb(t=Vn()){return/firefox\//i.test(t)}function Tb(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ib(t=Vn()){return/crios\//i.test(t)}function Sb(t=Vn()){return/iemobile/i.test(t)}function xb(t=Vn()){return/android/i.test(t)}function kb(t=Vn()){return/blackberry/i.test(t)}function Rb(t=Vn()){return/webos/i.test(t)}function Jg(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pk(t=Vn()){return Jg(t)&&!!window.navigator?.standalone}function Ak(){return qS()&&document.documentMode===10}function Pb(t=Vn()){return Jg(t)||xb(t)||Rb(t)||kb(t)||/windows phone/i.test(t)||Sb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e=[]){let n;switch(t){case"Browser":n=W_(Vn());break;case"Worker":n=`${W_(Vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(t,e={}){return fs(t,"GET","/v2/passwordPolicy",Si(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=6;class jk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Ok,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new Nk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),r=await ls._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(mi(this));const n=e?Dt(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dk(this),n=new jk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xi(t){return Dt(t)}class G_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZS(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mk(t){uf=t}function Nb(t){return uf.loadJS(t)}function Vk(){return uf.recaptchaEnterpriseScript}function Fk(){return uf.gapiScript}function $k(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Uk{constructor(){this.enterprise=new Bk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Bk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zk="recaptcha-enterprise",Db="NO_RECAPTCHA";class Hk{constructor(e){this.type=zk,this.auth=xi(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{Ek(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new _k(f);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,u(y.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;B_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(y=>{u(y)}).catch(()=>{u(Db)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!n&&B_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Vk();f.length!==0&&(f+=h),Nb(f).then(()=>{o(h,a,u)}).catch(y=>{u(y)})}}).catch(h=>{u(h)})})}}async function K_(t,e,n,r=!1,o=!1){const a=new Hk(t);let u;if(o)u=Db;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function kh(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await K_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await K_(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t,e){const n=cf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(vi(a,e??{}))return o;Hr(o,"already-initialized")}return n.initialize({options:e})}function Wk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Gk(t,e,n){const r=xi(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=Ob(e),{host:u,port:h}=Kk(e),f=h===null?"":`:${h}`,y={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(vi(y,r.config.emulator)&&vi(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Ta(u)?($g(`${a}//${u}${f}`),Ug("Auth",!0)):Jk()}function Ob(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kk(t){const e=Ob(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:J_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:J_(u)}}}function J_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Jk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function Qk(t,e){return fs(t,"POST","/v1/accounts:update",e)}async function Yk(t,e){return fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e){return wu(t,"POST","/v1/accounts:signInWithPassword",Si(t,e))}async function Zk(t,e){return fs(t,"POST","/v1/accounts:sendOobCode",Si(t,e))}async function eR(t,e){return Zk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(t,e){return wu(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}async function nR(t,e){return wu(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Qg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new iu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kh(e,n,"signInWithPassword",Xk);case"emailLink":return tR(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kh(e,r,"signUpPassword",Yk);case"emailLink":return nR(e,{idToken:n,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return wu(t,"POST","/v1/accounts:signInWithIdp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="http://localhost";class ma extends Qg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=n;if(!r||!o)return null;const u=new ma(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sl(e,n)}buildRequest(){const e={requestUri:rR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iR(t){const e=Bc(zc(t)).link,n=e?Bc(zc(e)).deep_link_id:null,r=Bc(zc(t)).deep_link_id;return(r?Bc(zc(r)).link:null)||r||n||e||t}class Yg{constructor(e){const n=Bc(zc(e)),r=n.apiKey??null,o=n.oobCode??null,a=sR(n.mode??null);Ve(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=iR(e);try{return new Yg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.providerId=Sa.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Yg.parseLink(n);return Ve(r,"argument-error"),iu._fromEmailAndCode(e,r.code,r.tenantId)}}Sa.PROVIDER_ID="password";Sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends df{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends vu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return js.credential(n,r)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends vu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends vu{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(t,e){return wu(t,"POST","/v1/accounts:signUp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await ls._fromIdTokenResponse(e,r,o),u=Q_(r);return new ga({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Q_(r);return new ga({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Q_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends qs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Rh(e,n,r,o)}}function jb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(t,a,e,r):a})}async function aR(t,e,n=!1){const r=await pa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ga._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t,e,n=!1){const{auth:r}=t;if(Gn(r.app))return Promise.reject(mi(r));const o="reauthenticate";try{const a=await pa(t,jb(r,o,e,t),n);Ve(a.idToken,r,"internal-error");const u=Kg(a.idToken);Ve(u,r,"internal-error");const{sub:h}=u;return Ve(t.uid===h,r,"user-mismatch"),ga._forOperation(t,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Hr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(t,e,n=!1){if(Gn(t.app))return Promise.reject(mi(t));const r="signIn",o=await jb(t,r,e),a=await ga._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function lR(t,e){return Mb(xi(t),e)}async function cR(t,e){return Lb(Dt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(t){const e=xi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fb(t,e,n){const r=xi(t);await kh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",eR)}async function uR(t,e,n){if(Gn(t.app))return Promise.reject(mi(t));const r=xi(t),u=await kh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Vb(t),f}),h=await ga._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function dR(t,e,n){return Gn(t.app)?Promise.reject(mi(t)):lR(Dt(t),Sa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Vb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e){return fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Dt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await pa(r,hR(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function fR(t,e){return pR(Dt(t),null,e)}async function pR(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const u=await pa(t,Qk(r,a));await t._updateTokensIfNecessary(u,!0)}function mR(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function gR(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function yR(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function _u(t){return Dt(t).signOut()}async function wR(t){return Dt(t).delete()}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=1e3,_R=10;class Bb extends Ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Ak()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_R):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bb.type="LOCAL";const ER=Bb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb extends Ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zb.type="SESSION";const Hb=zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new hf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async y=>y(n.origin,a)),f=await bR(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const y=Xg("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(b){const T=b;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return window}function TR(t){Ms().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(){return typeof Ms().WorkerGlobalScope<"u"&&typeof Ms().importScripts=="function"}async function IR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SR(){return navigator?.serviceWorker?.controller||null}function xR(){return qb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="firebaseLocalStorageDb",kR=1,Ah="firebaseLocalStorage",Gb="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(t,e){return t.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function RR(){const t=indexedDB.deleteDatabase(Wb);return new Eu(t).toPromise()}function rg(){const t=indexedDB.open(Wb,kR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ah,{keyPath:Gb})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await RR(),e(await rg()))})})}async function Y_(t,e,n){const r=ff(t,!0).put({[Gb]:e,value:n});return new Eu(r).toPromise()}async function PR(t,e){const n=ff(t,!1).get(e),r=await new Eu(n).toPromise();return r===void 0?null:r.value}function X_(t,e){const n=ff(t,!0).delete(e);return new Eu(n).toPromise()}const AR=800,NR=3;class Kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>NR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(xR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IR(),!this.activeServiceWorker)return;this.sender=new CR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rg();return await Y_(e,Ph,"1"),await X_(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>PR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>X_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=ff(o,!1).getAll();return new Eu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kb.type="LOCAL";const DR=Kb;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){return e?pi(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends Qg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OR(t){return Mb(t.auth,new ey(t),t.bypassAuthState)}function jR(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),Lb(n,new ey(t),t.bypassAuthState)}async function LR(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),aR(n,new ey(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return LR;case"reauthViaPopup":case"reauthViaRedirect":return jR;default:Hr(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new yu(2e3,1e4);async function VR(t,e,n){if(Gn(t.app))return Promise.reject(Br(t,"operation-not-supported-in-this-environment"));const r=xi(t);yb(t,e,df);const o=Zg(r,n);return new uo(r,"signInViaPopup",e,o).executeNotNull()}async function FR(t,e,n){const r=Dt(t);if(Gn(r.auth.app))return Promise.reject(Br(r.auth,"operation-not-supported-in-this-environment"));yb(r.auth,e,df);const o=Zg(r.auth,n);return new uo(r.auth,"reauthViaPopup",e,o,r).executeNotNull()}class uo extends Jb{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=Xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MR.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="pendingRedirect",ah=new Map;class UR extends Jb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await BR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BR(t,e){const n=qR(e),r=HR(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function zR(t,e){ah.set(t._key(),e)}function HR(t){return pi(t._redirectPersistence)}function qR(t){return oh($R,t.config.apiKey,t.name)}async function WR(t,e,n=!1){if(Gn(t.app))return Promise.reject(mi(t));const r=xi(t),o=Zg(r,e),u=await new UR(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=600*1e3;class KR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Qb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Br(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(e))}saveEventToCache(e){this.cachedEventUids.add(Z_(e)),this.lastProcessedEventTime=Date.now()}}function Z_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Qb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function JR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t,e={}){return fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XR=/^https?/;async function ZR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QR(t);for(const n of e)try{if(eP(n))return}catch{}Hr(t,"unauthorized-domain")}function eP(t){const e=tg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!XR.test(n))return!1;if(YR.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new yu(3e4,6e4);function e0(){const t=Ms().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nP(t){return new Promise((e,n)=>{function r(){e0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e0(),n(Br(t,"network-request-failed"))},timeout:tP.get()})}if(Ms().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ms().gapi?.load)r();else{const o=$k("iframefcb");return Ms()[o]=()=>{gapi.load?r():n(Br(t,"network-request-failed"))},Nb(`${Fk()}?onload=${o}`).catch(a=>n(a))}}).catch(e=>{throw lh=null,e})}let lh=null;function rP(t){return lh=lh||nP(t),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=new yu(5e3,15e3),iP="__/auth/iframe",oP="emulator/auth/iframe",aP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cP(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gg(e,oP):`https://${t.config.authDomain}/${iP}`,r={apiKey:e.apiKey,appName:t.name,v:Ia},o=lP.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${gu(r).slice(1)}`}async function uP(t){const e=await rP(t),n=Ms().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:cP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aP,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Br(t,"network-request-failed"),h=Ms().setTimeout(()=>{a(u)},sP.get());function f(){Ms().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hP=500,fP=600,pP="_blank",mP="http://localhost";class t0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gP(t,e,n,r=hP,o=fP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...dP,width:r.toString(),height:o.toString(),top:a,left:u},y=Vn().toLowerCase();n&&(h=Ib(y)?pP:n),Cb(y)&&(e=e||mP,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[N,L])=>`${T}${N}=${L},`,"");if(Pk(y)&&h!=="_self")return yP(e||"",h),new t0(null);const b=window.open(e||"",h,v);Ve(b,t,"popup-blocked");try{b.focus()}catch{}return new t0(b)}function yP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="__/auth/handler",vP="emulator/auth/handler",_P=encodeURIComponent("fac");async function n0(t,e,n,r,o,a){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ia,eventId:o};if(e instanceof df){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",XS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof vu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await t._getAppCheckToken(),y=f?`#${_P}=${encodeURIComponent(f)}`:"";return`${EP(t)}?${gu(h).slice(1)}${y}`}function EP({config:t}){return t.emulator?Gg(t,vP):`https://${t.authDomain}/${wP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class bP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hb,this._completeRedirectFn=WR,this._overrideRedirectResult=zR}async _openPopup(e,n,r,o){Ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await n0(e,n,r,tg(),o);return gP(e,a,Xg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await n0(e,n,r,tg(),o);return TR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(Ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uP(e),r=new KR(e);return n.register("authEvent",o=>(Ve(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},o=>{const a=o?.[0]?.[Pm];a!==void 0&&n(!!a),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Pb()||Tb()||Jg()}}const CP=bP;var r0="@firebase/auth",s0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SP(t){fa(new _o("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ab(t)},y=new Lk(r,o,a,f);return Wk(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fa(new _o("auth-internal",e=>{const n=xi(e.getProvider("auth").getImmediate());return(r=>new TP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(r0,s0,IP(t)),Ls(r0,s0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=300,kP=lb("authIdTokenMaxAge")||xP;let i0=null;const RP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kP)return;const o=n?.token;i0!==o&&(i0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Kr(t=Hg()){const e=cf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qk(t,{popupRedirectResolver:CP,persistence:[DR,ER,Hb]}),r=lb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=RP(a.toString());gR(n,u,()=>u(n.currentUser)),mR(n,h=>u(h))}}const o=ib("auth");return o&&Gk(n,`http://${o}`),n}function PP(){return document.getElementsByTagName("head")?.[0]??document}Mk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=Br("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",PP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SP("Browser");var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yo,Yb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function k(){}k.prototype=I.prototype,S.D=I.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(P,O,F){for(var A=Array(arguments.length-2),je=2;je<arguments.length;je++)A[je-2]=arguments[je];return I.prototype[O].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,I,k){k||(k=0);var P=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)P[O]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(O=0;16>O;++O)P[O]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=S.g[0],k=S.g[1],O=S.g[2];var F=S.g[3],A=I+(F^k&(O^F))+P[0]+3614090360&4294967295;I=k+(A<<7&4294967295|A>>>25),A=F+(O^I&(k^O))+P[1]+3905402710&4294967295,F=I+(A<<12&4294967295|A>>>20),A=O+(k^F&(I^k))+P[2]+606105819&4294967295,O=F+(A<<17&4294967295|A>>>15),A=k+(I^O&(F^I))+P[3]+3250441966&4294967295,k=O+(A<<22&4294967295|A>>>10),A=I+(F^k&(O^F))+P[4]+4118548399&4294967295,I=k+(A<<7&4294967295|A>>>25),A=F+(O^I&(k^O))+P[5]+1200080426&4294967295,F=I+(A<<12&4294967295|A>>>20),A=O+(k^F&(I^k))+P[6]+2821735955&4294967295,O=F+(A<<17&4294967295|A>>>15),A=k+(I^O&(F^I))+P[7]+4249261313&4294967295,k=O+(A<<22&4294967295|A>>>10),A=I+(F^k&(O^F))+P[8]+1770035416&4294967295,I=k+(A<<7&4294967295|A>>>25),A=F+(O^I&(k^O))+P[9]+2336552879&4294967295,F=I+(A<<12&4294967295|A>>>20),A=O+(k^F&(I^k))+P[10]+4294925233&4294967295,O=F+(A<<17&4294967295|A>>>15),A=k+(I^O&(F^I))+P[11]+2304563134&4294967295,k=O+(A<<22&4294967295|A>>>10),A=I+(F^k&(O^F))+P[12]+1804603682&4294967295,I=k+(A<<7&4294967295|A>>>25),A=F+(O^I&(k^O))+P[13]+4254626195&4294967295,F=I+(A<<12&4294967295|A>>>20),A=O+(k^F&(I^k))+P[14]+2792965006&4294967295,O=F+(A<<17&4294967295|A>>>15),A=k+(I^O&(F^I))+P[15]+1236535329&4294967295,k=O+(A<<22&4294967295|A>>>10),A=I+(O^F&(k^O))+P[1]+4129170786&4294967295,I=k+(A<<5&4294967295|A>>>27),A=F+(k^O&(I^k))+P[6]+3225465664&4294967295,F=I+(A<<9&4294967295|A>>>23),A=O+(I^k&(F^I))+P[11]+643717713&4294967295,O=F+(A<<14&4294967295|A>>>18),A=k+(F^I&(O^F))+P[0]+3921069994&4294967295,k=O+(A<<20&4294967295|A>>>12),A=I+(O^F&(k^O))+P[5]+3593408605&4294967295,I=k+(A<<5&4294967295|A>>>27),A=F+(k^O&(I^k))+P[10]+38016083&4294967295,F=I+(A<<9&4294967295|A>>>23),A=O+(I^k&(F^I))+P[15]+3634488961&4294967295,O=F+(A<<14&4294967295|A>>>18),A=k+(F^I&(O^F))+P[4]+3889429448&4294967295,k=O+(A<<20&4294967295|A>>>12),A=I+(O^F&(k^O))+P[9]+568446438&4294967295,I=k+(A<<5&4294967295|A>>>27),A=F+(k^O&(I^k))+P[14]+3275163606&4294967295,F=I+(A<<9&4294967295|A>>>23),A=O+(I^k&(F^I))+P[3]+4107603335&4294967295,O=F+(A<<14&4294967295|A>>>18),A=k+(F^I&(O^F))+P[8]+1163531501&4294967295,k=O+(A<<20&4294967295|A>>>12),A=I+(O^F&(k^O))+P[13]+2850285829&4294967295,I=k+(A<<5&4294967295|A>>>27),A=F+(k^O&(I^k))+P[2]+4243563512&4294967295,F=I+(A<<9&4294967295|A>>>23),A=O+(I^k&(F^I))+P[7]+1735328473&4294967295,O=F+(A<<14&4294967295|A>>>18),A=k+(F^I&(O^F))+P[12]+2368359562&4294967295,k=O+(A<<20&4294967295|A>>>12),A=I+(k^O^F)+P[5]+4294588738&4294967295,I=k+(A<<4&4294967295|A>>>28),A=F+(I^k^O)+P[8]+2272392833&4294967295,F=I+(A<<11&4294967295|A>>>21),A=O+(F^I^k)+P[11]+1839030562&4294967295,O=F+(A<<16&4294967295|A>>>16),A=k+(O^F^I)+P[14]+4259657740&4294967295,k=O+(A<<23&4294967295|A>>>9),A=I+(k^O^F)+P[1]+2763975236&4294967295,I=k+(A<<4&4294967295|A>>>28),A=F+(I^k^O)+P[4]+1272893353&4294967295,F=I+(A<<11&4294967295|A>>>21),A=O+(F^I^k)+P[7]+4139469664&4294967295,O=F+(A<<16&4294967295|A>>>16),A=k+(O^F^I)+P[10]+3200236656&4294967295,k=O+(A<<23&4294967295|A>>>9),A=I+(k^O^F)+P[13]+681279174&4294967295,I=k+(A<<4&4294967295|A>>>28),A=F+(I^k^O)+P[0]+3936430074&4294967295,F=I+(A<<11&4294967295|A>>>21),A=O+(F^I^k)+P[3]+3572445317&4294967295,O=F+(A<<16&4294967295|A>>>16),A=k+(O^F^I)+P[6]+76029189&4294967295,k=O+(A<<23&4294967295|A>>>9),A=I+(k^O^F)+P[9]+3654602809&4294967295,I=k+(A<<4&4294967295|A>>>28),A=F+(I^k^O)+P[12]+3873151461&4294967295,F=I+(A<<11&4294967295|A>>>21),A=O+(F^I^k)+P[15]+530742520&4294967295,O=F+(A<<16&4294967295|A>>>16),A=k+(O^F^I)+P[2]+3299628645&4294967295,k=O+(A<<23&4294967295|A>>>9),A=I+(O^(k|~F))+P[0]+4096336452&4294967295,I=k+(A<<6&4294967295|A>>>26),A=F+(k^(I|~O))+P[7]+1126891415&4294967295,F=I+(A<<10&4294967295|A>>>22),A=O+(I^(F|~k))+P[14]+2878612391&4294967295,O=F+(A<<15&4294967295|A>>>17),A=k+(F^(O|~I))+P[5]+4237533241&4294967295,k=O+(A<<21&4294967295|A>>>11),A=I+(O^(k|~F))+P[12]+1700485571&4294967295,I=k+(A<<6&4294967295|A>>>26),A=F+(k^(I|~O))+P[3]+2399980690&4294967295,F=I+(A<<10&4294967295|A>>>22),A=O+(I^(F|~k))+P[10]+4293915773&4294967295,O=F+(A<<15&4294967295|A>>>17),A=k+(F^(O|~I))+P[1]+2240044497&4294967295,k=O+(A<<21&4294967295|A>>>11),A=I+(O^(k|~F))+P[8]+1873313359&4294967295,I=k+(A<<6&4294967295|A>>>26),A=F+(k^(I|~O))+P[15]+4264355552&4294967295,F=I+(A<<10&4294967295|A>>>22),A=O+(I^(F|~k))+P[6]+2734768916&4294967295,O=F+(A<<15&4294967295|A>>>17),A=k+(F^(O|~I))+P[13]+1309151649&4294967295,k=O+(A<<21&4294967295|A>>>11),A=I+(O^(k|~F))+P[4]+4149444226&4294967295,I=k+(A<<6&4294967295|A>>>26),A=F+(k^(I|~O))+P[11]+3174756917&4294967295,F=I+(A<<10&4294967295|A>>>22),A=O+(I^(F|~k))+P[2]+718787259&4294967295,O=F+(A<<15&4294967295|A>>>17),A=k+(F^(O|~I))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+F&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var k=I-this.blockSize,P=this.B,O=this.h,F=0;F<I;){if(O==0)for(;F<=k;)o(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<I;)if(P[O++]=S.charCodeAt(F++),O==this.blockSize){o(this,P),O=0;break}}else for(;F<I;)if(P[O++]=S[F++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var k=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=k&255,k/=256;for(this.u(S),S=Array(16),I=k=0;4>I;++I)for(var P=0;32>P;P+=8)S[k++]=this.g[I]>>>P&255;return S};function a(S,I){var k=h;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=I(S)}function u(S,I){this.h=I;for(var k=[],P=!0,O=S.length-1;0<=O;O--){var F=S[O]|0;P&&F==I||(k[O]=F,P=!1)}this.g=k}var h={};function f(S){return-128<=S&&128>S?a(S,function(I){return new u([I|0],0>I?-1:0)}):new u([S|0],0>S?-1:0)}function y(S){if(isNaN(S)||!isFinite(S))return b;if(0>S)return j(y(-S));for(var I=[],k=1,P=0;S>=k;P++)I[P]=S/k|0,k*=4294967296;return new u(I,0)}function v(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return j(v(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=y(Math.pow(I,8)),P=b,O=0;O<S.length;O+=8){var F=Math.min(8,S.length-O),A=parseInt(S.substring(O,O+F),I);8>F?(F=y(Math.pow(I,F)),P=P.j(F).add(y(A))):(P=P.j(k),P=P.add(y(A)))}return P}var b=f(0),T=f(1),N=f(16777216);t=u.prototype,t.m=function(){if($(this))return-j(this).m();for(var S=0,I=1,k=0;k<this.g.length;k++){var P=this.i(k);S+=(0<=P?P:4294967296+P)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(L(this))return"0";if($(this))return"-"+j(this).toString(S);for(var I=y(Math.pow(S,6)),k=this,P="";;){var O=J(k,I).g;k=W(k,O.j(I));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=O,L(k))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function L(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function $(S){return S.h==-1}t.l=function(S){return S=W(this,S),$(S)?-1:L(S)?0:1};function j(S){for(var I=S.g.length,k=[],P=0;P<I;P++)k[P]=~S.g[P];return new u(k,~S.h).add(T)}t.abs=function(){return $(this)?j(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),k=[],P=0,O=0;O<=I;O++){var F=P+(this.i(O)&65535)+(S.i(O)&65535),A=(F>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);P=A>>>16,F&=65535,A&=65535,k[O]=A<<16|F}return new u(k,k[k.length-1]&-2147483648?-1:0)};function W(S,I){return S.add(j(I))}t.j=function(S){if(L(this)||L(S))return b;if($(this))return $(S)?j(this).j(j(S)):j(j(this).j(S));if($(S))return j(this.j(j(S)));if(0>this.l(N)&&0>S.l(N))return y(this.m()*S.m());for(var I=this.g.length+S.g.length,k=[],P=0;P<2*I;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<S.g.length;O++){var F=this.i(P)>>>16,A=this.i(P)&65535,je=S.i(O)>>>16,Ie=S.i(O)&65535;k[2*P+2*O]+=A*Ie,M(k,2*P+2*O),k[2*P+2*O+1]+=F*Ie,M(k,2*P+2*O+1),k[2*P+2*O+1]+=A*je,M(k,2*P+2*O+1),k[2*P+2*O+2]+=F*je,M(k,2*P+2*O+2)}for(P=0;P<I;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=I;P<2*I;P++)k[P]=0;return new u(k,0)};function M(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function z(S,I){this.g=S,this.h=I}function J(S,I){if(L(I))throw Error("division by zero");if(L(S))return new z(b,b);if($(S))return I=J(j(S),I),new z(j(I.g),j(I.h));if($(I))return I=J(S,j(I)),new z(j(I.g),I.h);if(30<S.g.length){if($(S)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var k=T,P=I;0>=P.l(S);)k=se(k),P=se(P);var O=K(k,1),F=K(P,1);for(P=K(P,2),k=K(k,2);!L(P);){var A=F.add(P);0>=A.l(S)&&(O=O.add(k),F=A),P=K(P,1),k=K(k,1)}return I=W(S,O.j(I)),new z(O,I)}for(O=b;0<=S.l(I);){for(k=Math.max(1,Math.floor(S.m()/I.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=y(k),A=F.j(I);$(A)||0<A.l(S);)k-=P,F=y(k),A=F.j(I);L(F)&&(F=T),O=O.add(F),S=W(S,A)}return new z(O,S)}t.A=function(S){return J(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),k=[],P=0;P<I;P++)k[P]=this.i(P)&S.i(P);return new u(k,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),k=[],P=0;P<I;P++)k[P]=this.i(P)|S.i(P);return new u(k,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),k=[],P=0;P<I;P++)k[P]=this.i(P)^S.i(P);return new u(k,this.h^S.h)};function se(S){for(var I=S.g.length+1,k=[],P=0;P<I;P++)k[P]=S.i(P)<<1|S.i(P-1)>>>31;return new u(k,S.h)}function K(S,I){var k=I>>5;I%=32;for(var P=S.g.length-k,O=[],F=0;F<P;F++)O[F]=0<I?S.i(F+k)>>>I|S.i(F+k+1)<<32-I:S.i(F+k);return new u(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Yb=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,yo=u}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xb,Hc,Zb,ch,sg,e1,t1,n1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gd=="object"&&Gd];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var x=0;x<c.length-1;x++){var H=c[x];if(!(H in _))break e;_=_[H]}c=c[c.length-1],x=_[c],g=g(x),g!=x&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,x=!1,H={next:function(){if(!x&&_<c.length){var Y=_++;return{value:g(Y,c[Y]),done:!1}}return x=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,x),c.apply(g,H)}}return function(){return c.apply(g,arguments)}}function T(c,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,T.apply(null,arguments)}function N(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function L(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(x,H,Y){for(var pe=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)pe[yt-2]=arguments[yt];return g.prototype[H].apply(x,pe)}}function $(c){const g=c.length;if(0<g){const _=Array(g);for(let x=0;x<g;x++)_[x]=c[x];return _}return[]}function j(c,g){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(f(x)){const H=c.length||0,Y=x.length||0;c.length=H+Y;for(let pe=0;pe<Y;pe++)c[H+pe]=x[pe]}else c.push(x)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function M(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var se=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function K(c,g,_){for(const x in c)g.call(_,c[x],x,c)}function S(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function I(c){const g={};for(const _ in c)g[_]=c[_];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,g){let _,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(_ in x)c[_]=x[_];for(let Y=0;Y<k.length;Y++)_=k[Y],Object.prototype.hasOwnProperty.call(x,_)&&(c[_]=x[_])}}function O(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function F(c){h.setTimeout(()=>{throw c},0)}function A(){var c=re;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class je{constructor(){this.h=this.g=null}add(g,_){const x=Ie.get();x.set(g,_),this.h?this.h.next=x:this.g=x,this.h=x}}var Ie=new W(()=>new He,c=>c.reset());class He{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let De,X=!1,re=new je,te=()=>{const c=h.Promise.resolve(void 0);De=()=>{c.then(R)}};var R=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(_){F(_)}var g=Ie;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}X=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var oe=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c})();function fe(c,g){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(se){e:{try{J(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:he[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fe.aa.h.call(this)}}L(fe,Z);var he={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Se(c,g,_,x,H){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!x,this.ha=H,this.key=++Ce,this.da=this.fa=!1}function qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bt(c){this.src=c,this.g={},this.h=0}bt.prototype.add=function(c,g,_,x,H){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var pe=$n(c,g,x,H);return-1<pe?(g=c[pe],_||(g.fa=!1)):(g=new Se(g,this.src,Y,!!x,H),g.fa=_,c.push(g)),g};function kt(c,g){var _=g.type;if(_ in c.g){var x=c.g[_],H=Array.prototype.indexOf.call(x,g,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(x,H,1),Y&&(qe(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function $n(c,g,_,x){for(var H=0;H<c.length;++H){var Y=c[H];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==x)return H}return-1}var Un="closure_lm_"+(1e6*Math.random()|0),fr={};function Jr(c,g,_,x,H){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)Jr(c,g[Y],_,x,H);return null}return _=et(_),c&&c[me]?c.K(g,_,y(x)?!!x.capture:!1,H):$e(c,g,_,!1,x,H)}function $e(c,g,_,x,H,Y){if(!g)throw Error("Invalid event type");var pe=y(H)?!!H.capture:!!H,yt=Ke(c);if(yt||(c[Un]=yt=new bt(c)),_=yt.add(g,_,x,pe,Y),_.proxy)return _;if(x=ve(),_.proxy=x,x.src=c,x.listener=_,c.addEventListener)oe||(H=pe),H===void 0&&(H=!1),c.addEventListener(g.toString(),x,H);else if(c.attachEvent)c.attachEvent(We(g.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ve(){function c(_){return g.call(c.src,c.listener,_)}const g=wt;return c}function it(c,g,_,x,H){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)it(c,g[Y],_,x,H);else x=y(x)?!!x.capture:!!x,_=et(_),c&&c[me]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],_=$n(Y,_,x,H),-1<_&&(qe(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ke(c))&&(g=c.g[g.toString()],c=-1,g&&(c=$n(g,_,x,H)),(_=-1<c?g[c]:null)&&Le(_))}function Le(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[me])kt(g.i,c);else{var _=c.type,x=c.proxy;g.removeEventListener?g.removeEventListener(_,x,c.capture):g.detachEvent?g.detachEvent(We(_),x):g.addListener&&g.removeListener&&g.removeListener(x),(_=Ke(g))?(kt(_,c),_.h==0&&(_.src=null,g[Un]=null)):qe(c)}}}function We(c){return c in fr?fr[c]:fr[c]="on"+c}function wt(c,g){if(c.da)c=!0;else{g=new fe(g,this);var _=c.listener,x=c.ha||c.src;c.fa&&Le(c),c=_.call(x,g)}return c}function Ke(c){return c=c[Un],c instanceof bt?c:null}var Ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(c){return typeof c=="function"?c:(c[Ze]||(c[Ze]=function(g){return c.handleEvent(g)}),c[Ze])}function tt(){B.call(this),this.i=new bt(this),this.M=this,this.F=null}L(tt,B),tt.prototype[me]=!0,tt.prototype.removeEventListener=function(c,g,_,x){it(this,c,g,_,x)};function vt(c,g){var _,x=c.F;if(x)for(_=[];x;x=x.F)_.push(x);if(c=c.M,x=g.type||g,typeof g=="string")g=new Z(g,c);else if(g instanceof Z)g.target=g.target||c;else{var H=g;g=new Z(x,c),P(g,H)}if(H=!0,_)for(var Y=_.length-1;0<=Y;Y--){var pe=g.g=_[Y];H=pr(pe,x,!0,g)&&H}if(pe=g.g=c,H=pr(pe,x,!0,g)&&H,H=pr(pe,x,!1,g)&&H,_)for(Y=0;Y<_.length;Y++)pe=g.g=_[Y],H=pr(pe,x,!1,g)&&H}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],x=0;x<_.length;x++)qe(_[x]);delete c.g[g],c.h--}}this.F=null},tt.prototype.K=function(c,g,_,x){return this.i.add(String(c),g,!1,_,x)},tt.prototype.L=function(c,g,_,x){return this.i.add(String(c),g,!0,_,x)};function pr(c,g,_,x){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,Y=0;Y<g.length;++Y){var pe=g[Y];if(pe&&!pe.da&&pe.capture==_){var yt=pe.listener,an=pe.ha||pe.src;pe.fa&&kt(c.i,pe),H=yt.call(an,x)!==!1&&H}}return H&&!x.defaultPrevented}function Po(c,g,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function gs(c){c.g=Po(()=>{c.g=null,c.i&&(c.i=!1,gs(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ys extends B{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){B.call(this),this.h=c,this.g={}}L(ws,B);var Ao=[];function No(c){K(c.g,function(g,_){this.g.hasOwnProperty(_)&&Le(g)},c),c.g={}}ws.prototype.N=function(){ws.aa.N.call(this),No(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=h.JSON.stringify,Do=h.JSON.parse,Oo=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Gs(){}Gs.prototype.h=null;function Ks(c){return c.h||(c.h=c.i())}function Ri(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){Z.call(this,"d")}L(mr,Z);function Rr(){Z.call(this,"c")}L(Rr,Z);var Pr={},jo=null;function vs(){return jo=jo||new tt}Pr.La="serverreachability";function Pi(c){Z.call(this,Pr.La,c)}L(Pi,Z);function Ar(c){const g=vs();vt(g,new Pi(g))}Pr.STAT_EVENT="statevent";function Ai(c,g){Z.call(this,Pr.STAT_EVENT,c),this.stat=g}L(Ai,Z);function Ot(c){const g=vs();vt(g,new Ai(g,c))}Pr.Ma="timingevent";function Js(c,g){Z.call(this,Pr.Ma,c),this.size=g}L(Js,Z);function Qn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function Qs(c,g,_,x,H,Y){c.info(function(){if(c.g)if(Y)for(var pe="",yt=Y.split("&"),an=0;an<yt.length;an++){var at=yt[an].split("=");if(1<at.length){var fn=at[0];at=at[1];var Zt=fn.split("_");pe=2<=Zt.length&&Zt[1]=="type"?pe+(fn+"="+at+"&"):pe+(fn+"=redacted&")}}else pe=null;else pe=Y;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+g+`
`+_+`
`+pe})}function Ni(c,g,_,x,H,Y,pe){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+g+`
`+_+`
`+Y+" "+pe})}function Yt(c,g,_,x){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Lo(c,_)+(x?" "+x:"")})}function _n(c,g){c.info(function(){return"TIMEOUT: "+g})}_s.prototype.info=function(){};function Lo(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var x=_[c];if(!(2>x.length)){var H=x[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var pe=1;pe<H.length;pe++)H[pe]=""}}}}return ki(_)}catch{return g}}var Ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bt;function Yn(){}L(Yn,Gs),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Bt=new Yn;function gr(c,g,_,x){this.j=c,this.i=g,this.l=_,this.R=x||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nr}function Nr(){this.i=null,this.g="",this.h=!1}var Di={},Qr={};function Xs(c,g,_){c.L=1,c.v=Li(Xt(g)),c.m=_,c.P=!0,Vo(c,null)}function Vo(c,g){c.F=Date.now(),_t(c),c.A=Xt(c.v);var _=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),Vi(_.i,"t",x),c.C=0,_=c.j.J,c.h=new Nr,c.g=Qu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new ys(T(c.Y,c,c.g),c.O)),g=c.U,_=c.g,x=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ao[0]=H.toString()),H=Ao);for(var Y=0;Y<H.length;Y++){var pe=Jr(_,H[Y],x||g.handleEvent,!1,g.h||g);if(!pe)break;g.g[pe.key]=pe}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ar(),Qs(c.i,c.u,c.A,c.l,c.R,c.m)}gr.prototype.ca=function(c){c=c.target;const g=this.M;g&&er(c)==3?g.j():this.Y(c)},gr.prototype.Y=function(c){try{if(c==this.g)e:{const Zt=er(this.g);var g=this.g.Ba();const Or=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||dc(this.g)))){this.J||Zt!=4||g==7||(g==8||0>=Or?Ar(3):Ar(2)),yr(this);var _=this.g.Z();this.X=_;t:if(ja(this)){var x=dc(this.g);c="";var H=x.length,Y=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xn(this),Es(this);var pe="";break t}this.h.i=new h.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,c+=this.h.i.decode(x[g],{stream:!(Y&&g==H-1)});x.length=0,this.h.g+=c,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=_==200,Ni(this.i,this.u,this.A,this.l,this.R,Zt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,an=this.g;if((yt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(yt)){var at=yt;break t}}at=null}if(_=at)Yt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fo(this,_);else{this.o=!1,this.s=3,Ot(12),Xn(this),Es(this);break e}}if(this.P){_=!0;let _r;for(;!this.J&&this.C<pe.length;)if(_r=ac(this,pe),_r==Qr){Zt==4&&(this.s=4,Ot(14),_=!1),Yt(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==Di){this.s=4,Ot(15),Yt(this.i,this.l,pe,"[Invalid Chunk]"),_=!1;break}else Yt(this.i,this.l,_r,null),Fo(this,_r);if(ja(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||pe.length!=0||this.h.h||(this.s=1,Ot(16),_=!1),this.o=this.o&&_,!_)Yt(this.i,this.l,pe,"[Invalid Chunked Response]"),Xn(this),Es(this);else if(0<pe.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),fc(fn),fn.M=!0,Ot(11))}}else Yt(this.i,this.l,pe,null),Fo(this,pe);Zt==4&&Xn(this),this.o&&!this.J&&(Zt==4?Ka(this.j,this):(this.o=!1,_t(this)))}else za(this.g),_==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Xn(this),Es(this)}}}catch{}finally{}};function ja(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ac(c,g){var _=c.C,x=g.indexOf(`
`,_);return x==-1?Qr:(_=Number(g.substring(_,x)),isNaN(_)?Di:(x+=1,x+_>g.length?Qr:(g=g.slice(x,x+_),c.C=x+_,g)))}gr.prototype.cancel=function(){this.J=!0,Xn(this)};function _t(c){c.S=Date.now()+c.I,Wt(c,c.I)}function Wt(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Qn(T(c.ba,c),g)}function yr(c){c.B&&(h.clearTimeout(c.B),c.B=null)}gr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_n(this.i,this.A),this.L!=2&&(Ar(),Ot(17)),Xn(this),this.s=2,Es(this)):Wt(this,this.S-c)};function Es(c){c.j.G==0||c.J||Ka(c.j,c)}function Xn(c){yr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,No(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Fo(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||zt(_.h,c))){if(!c.K&&zt(_.h,c)&&_.G==3){try{var x=_.Da.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ga(_),ts(_);else break e;Wa(_),Ot(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Qn(T(_.Za,_),6e3));if(1>=Ma(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ri(_,11)}else if((c.K||_.g==c)&&Ga(_),!M(g))for(H=_.Da.g.parse(g),g=0;g<H.length;g++){let at=H[g];if(_.T=at[0],at=at[1],_.G==2)if(at[0]=="c"){_.K=at[1],_.ia=at[2];const fn=at[3];fn!=null&&(_.la=fn,_.j.info("VER="+_.la));const Zt=at[4];Zt!=null&&(_.Aa=Zt,_.j.info("SVER="+_.Aa));const Or=at[5];Or!=null&&typeof Or=="number"&&0<Or&&(x=1.5*Or,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const _r=c.g;if(_r){const Ho=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ho){var Y=x.h;Y.g||Ho.indexOf("spdy")==-1&&Ho.indexOf("quic")==-1&&Ho.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&($o(Y,Y.h),Y.h=null))}if(x.D){const Qa=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(x.ya=Qa,Et(x.I,x.D,Qa))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var pe=c;if(x.qa=Ju(x,x.J?x.ia:null,x.W),pe.K){Va(x.h,pe);var yt=pe,an=x.L;an&&(yt.I=an),yt.B&&(yr(yt),_t(yt)),x.g=pe}else zo(x);0<_.i.length&&Is(_)}else at[0]!="stop"&&at[0]!="close"||ri(_,7);else _.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?ri(_,7):bn(_):at[0]!="noop"&&_.l&&_.l.ta(at),_.v=0)}}Ar(4)}catch{}}var La=class{constructor(c,g){this.g=c,this.map=g}};function Zs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ma(c){return c.h?1:c.g?c.g.size:0}function zt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function $o(c,g){c.g?c.g.add(g):c.h=g}function Va(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Zs.prototype.cancel=function(){if(this.i=Fa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return $(c.i)}function ke(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,x=0;x<_;x++)g.push(c[x]);return g}g=[],_=0;for(x in c)g[_++]=c[x];return g}function Qe(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const x in c)g[_++]=x;return g}}}function jt(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Qe(c),x=ke(c),H=x.length,Y=0;Y<H;Y++)g.call(void 0,x[Y],_&&_[Y],c)}var on=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Me(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var x=c[_].indexOf("="),H=null;if(0<=x){var Y=c[_].substring(0,x);H=c[_].substring(x+1)}else Y=c[_];g(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function wr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wr){this.h=c.h,Rn(this,c.j),this.o=c.o,this.g=c.g,Oi(this,c.s),this.l=c.l;var g=c.i,_=new bs;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ji(this,_),this.m=c.m}else c&&(g=String(c).match(on))?(this.h=!1,Rn(this,g[1]||"",!0),this.o=ot(g[2]||""),this.g=ot(g[3]||"",!0),Oi(this,g[4]),this.l=ot(g[5]||"",!0),ji(this,g[6]||"",!0),this.m=ot(g[7]||"")):(this.h=!1,this.i=new bs(null,this.h))}wr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Mi(g,$a,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Mi(g,$a,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Mi(_,_.charAt(0)=="/"?Uu:$u,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Mi(_,lc)),c.join("")};function Xt(c){return new wr(c)}function Rn(c,g,_){c.j=_?ot(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Oi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ji(c,g,_){g instanceof bs?(c.i=g,Cs(c.i,c.h)):(_||(g=Mi(g,Bu)),c.i=new bs(g,c.h))}function Et(c,g,_){c.i.set(g,_)}function Li(c){return Et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ot(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Mi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Fu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Fu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $a=/[#\/\?@]/g,$u=/[#\?:]/g,Uu=/[#\?]/g,Bu=/[#\?@]/g,lc=/#/g;function bs(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&Me(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=bs.prototype,t.add=function(c,g){En(this),this.i=null,c=Dr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Yr(c,g){En(c),g=Dr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Xr(c,g){return En(c),g=Dr(c,g),c.g.has(g)}t.forEach=function(c,g){En(this),this.g.forEach(function(_,x){_.forEach(function(H){c.call(g,H,x,this)},this)},this)},t.na=function(){En(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let x=0;x<g.length;x++){const H=c[x];for(let Y=0;Y<H.length;Y++)_.push(g[x])}return _},t.V=function(c){En(this);let g=[];if(typeof c=="string")Xr(this,c)&&(g=g.concat(this.g.get(Dr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},t.set=function(c,g){return En(this),this.i=null,c=Dr(this,c),Xr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Vi(c,g,_){Yr(c,g),0<_.length&&(c.i=null,c.g.set(Dr(c,g),$(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var x=g[_];const Y=encodeURIComponent(String(x)),pe=this.V(x);for(x=0;x<pe.length;x++){var H=Y;pe[x]!==""&&(H+="="+encodeURIComponent(String(pe[x]))),c.push(H)}}return this.i=c.join("&")};function Dr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Cs(c,g){g&&!c.j&&(En(c),c.i=null,c.g.forEach(function(_,x){var H=x.toLowerCase();x!=H&&(Yr(this,x),Vi(this,H,_))},c)),c.j=g}function Qf(c,g){const _=new _s;if(h.Image){const x=new Image;x.onload=N(Zn,_,"TestLoadImage: loaded",!0,g,x),x.onerror=N(Zn,_,"TestLoadImage: error",!1,g,x),x.onabort=N(Zn,_,"TestLoadImage: abort",!1,g,x),x.ontimeout=N(Zn,_,"TestLoadImage: timeout",!1,g,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else g(!1)}function zu(c,g){const _=new _s,x=new AbortController,H=setTimeout(()=>{x.abort(),Zn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:x.signal}).then(Y=>{clearTimeout(H),Y.ok?Zn(_,"TestPingServer: ok",!0,g):Zn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),Zn(_,"TestPingServer: error",!1,g)})}function Zn(c,g,_,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(_)}catch{}}function Yf(){this.g=new Oo}function Hu(c,g,_){const x=_||"";try{jt(c,function(H,Y){let pe=H;y(H)&&(pe=ki(H)),g.push(x+Y+"="+encodeURIComponent(pe))})}catch(H){throw g.push(x+"type="+encodeURIComponent("_badmap")),H}}function ei(c){this.l=c.Ub||null,this.j=c.eb||!1}L(ei,Gs),ei.prototype.g=function(){return new Uo(this.l,this.j)},ei.prototype.i=(function(c){return function(){return c}})({});function Uo(c,g){tt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Uo,tt),t=Uo.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,es(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Zr(this):es(this),this.readyState==3&&qu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Zr(this))},t.Qa=function(c){this.g&&(this.response=c,Zr(this))},t.ga=function(){this.g&&Zr(this)};function Zr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,es(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function es(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ti(c){let g="";return K(c,function(_,x){g+=x,g+=":",g+=_,g+=`\r
`}),g}function Fi(c,g,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=ti(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Et(c,g,_))}function Lt(c){tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Lt,tt);var Xf=/^https?$/i,cc=["POST","PUT"];t=Lt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bt.g(),this.v=this.o?Ks(this.o):Ks(Bt),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){Bo(this,Y);return}if(c=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)_.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())_.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(cc,g,void 0))||x||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,pe]of _)this.g.setRequestHeader(Y,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Bo(this,Y)}};function Bo(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ua(c),vr(c)}function Ua(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),Lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uc(this):this.bb())},t.bb=function(){uc(this)};function uc(c){if(c.h&&typeof u<"u"&&(!c.v[1]||er(c)!=4||c.Z()!=2)){if(c.u&&er(c)==4)Po(c.Ea,0,c);else if(vt(c,"readystatechange"),er(c)==4){c.h=!1;try{const pe=c.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var x;if(x=pe===0){var H=String(c.D).match(on)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),x=!Xf.test(H?H.toLowerCase():"")}_=x}if(_)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var Y=2<er(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Ua(c)}}finally{vr(c)}}}}function vr(c,g){if(c.g){Ba(c);const _=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||vt(c,"ready");try{_.onreadystatechange=x}catch{}}}function Ba(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Do(g)}};function dc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function za(c){const g={};c=(c.g&&2<=er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(M(c[x]))continue;var _=O(c[x]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[H]||[];g[H]=Y,Y.push(_)}S(g,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function hc(c){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Zs(c&&c.concurrentRequestLimit),this.Da=new Yf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hc.prototype,t.la=8,t.G=1,t.connect=function(c,g,_,x){Ot(0),this.W=c,this.H=g||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=Ju(this,null,this.W),Is(this)};function bn(c){if(Ha(c),c.G==3){var g=c.U++,_=Xt(c.I);if(Et(_,"SID",c.K),Et(_,"RID",g),Et(_,"TYPE","terminate"),ni(c,_),g=new gr(c,c.j,g),g.L=2,g.v=Li(Xt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=Qu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),_t(g)}Ku(c)}function ts(c){c.g&&(fc(c),c.g.cancel(),c.g=null)}function Ha(c){ts(c),c.u&&(h.clearTimeout(c.u),c.u=null),Ga(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Is(c){if(!zn(c.h)&&!c.s){c.s=!0;var g=c.Ga;De||te(),X||(De(),X=!0),re.add(g,c),c.B=0}}function Zf(c,g){return Ma(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Qn(T(c.Ga,c,g),Gu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new gr(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=I(Y),P(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(g+=x,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=$i(this,H,g),_=Xt(this.I),Et(_,"RID",c),Et(_,"CVER",22),this.D&&Et(_,"X-HTTP-Session-Id",this.D),ni(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(ti(Y)))+"&"+g:this.m&&Fi(_,this.m,Y)),$o(this.h,H),this.Ua&&Et(_,"TYPE","init"),this.P?(Et(_,"$req",g),Et(_,"SID","null"),H.T=!0,Xs(H,_,null)):Xs(H,_,g),this.G=2}}else this.G==3&&(c?qa(this,c):this.i.length==0||zn(this.h)||qa(this))};function qa(c,g){var _;g?_=g.l:_=c.U++;const x=Xt(c.I);Et(x,"SID",c.K),Et(x,"RID",_),Et(x,"AID",c.T),ni(c,x),c.m&&c.o&&Fi(x,c.m,c.o),_=new gr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=$i(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$o(c.h,_),Xs(_,x,g)}function ni(c,g){c.H&&K(c.H,function(_,x){Et(g,x,_)}),c.l&&jt({},function(_,x){Et(g,x,_)})}function $i(c,g,_){_=Math.min(c.i.length,_);var x=c.l?T(c.l.Na,c.l,c):null;e:{var H=c.i;let Y=-1;for(;;){const pe=["count="+_];Y==-1?0<_?(Y=H[0].g,pe.push("ofs="+Y)):Y=0:pe.push("ofs="+Y);let yt=!0;for(let an=0;an<_;an++){let at=H[an].g;const fn=H[an].map;if(at-=Y,0>at)Y=Math.max(0,H[an].g-100),yt=!1;else try{Hu(fn,pe,"req"+at+"_")}catch{x&&x(fn)}}if(yt){x=pe.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,x}function zo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;De||te(),X||(De(),X=!0),re.add(g,c),c.v=0}}function Wa(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Qn(T(c.Fa,c),Gu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Qn(T(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),ts(this),Wu(this))};function fc(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Wu(c){c.g=new gr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Xt(c.qa);Et(g,"RID","rpc"),Et(g,"SID",c.K),Et(g,"AID",c.T),Et(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Et(g,"TO",c.ja),Et(g,"TYPE","xmlhttp"),ni(c,g),c.m&&c.o&&Fi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Li(Xt(g)),_.m=null,_.P=!0,Vo(_,c)}t.Za=function(){this.C!=null&&(this.C=null,ts(this),Wa(this),Ot(19))};function Ga(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ka(c,g){var _=null;if(c.g==g){Ga(c),fc(c),c.g=null;var x=2}else if(zt(c.h,g))_=g.D,Va(c.h,g),x=1;else return;if(c.G!=0){if(g.o)if(x==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var H=c.B;x=vs(),vt(x,new Js(x,_)),Is(c)}else zo(c);else if(H=g.s,H==3||H==0&&0<g.X||!(x==1&&Zf(c,g)||x==2&&Wa(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),H){case 1:ri(c,5);break;case 4:ri(c,10);break;case 3:ri(c,6);break;default:ri(c,2)}}}function Gu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function ri(c,g){if(c.j.info("Error code "+g),g==2){var _=T(c.fb,c),x=c.Xa;const H=!x;x=new wr(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Rn(x,"https"),Li(x),H?Qf(x.toString(),_):zu(x.toString(),_)}else Ot(2);c.G=0,c.l&&c.l.sa(g),Ku(c),Ha(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const g=Fa(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ka,g),j(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Ju(c,g,_){var x=_ instanceof wr?Xt(_):new wr(_);if(x.g!="")g&&(x.g=g+"."+x.g),Oi(x,x.s);else{var H=h.location;x=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var Y=new wr(null);x&&Rn(Y,x),g&&(Y.g=g),H&&Oi(Y,H),_&&(Y.l=_),x=Y}return _=c.D,g=c.ya,_&&g&&Et(x,_,g),Et(x,"VER",c.la),ni(c,x),x}function Qu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Lt(new ei({eb:_})):new Lt(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pc(){}t=pc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ja(){}Ja.prototype.g=function(c,g){return new Hn(c,g)};function Hn(c,g){tt.call(this),this.g=new hc(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!M(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!M(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ss(this)}L(Hn,tt),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){bn(this.g)},Hn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ki(c),c=_);g.i.push(new La(g.Ya++,c)),g.G==3&&Is(g)},Hn.prototype.N=function(){this.g.l=null,delete this.j,bn(this.g),delete this.g,Hn.aa.N.call(this)};function Yu(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}L(Yu,mr);function Xu(){Rr.call(this),this.status=1}L(Xu,Rr);function Ss(c){this.g=c}L(Ss,pc),Ss.prototype.ua=function(){vt(this.g,"a")},Ss.prototype.ta=function(c){vt(this.g,new Yu(c))},Ss.prototype.sa=function(c){vt(this.g,new Xu)},Ss.prototype.ra=function(){vt(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,n1=function(){return new Ja},t1=function(){return vs()},e1=Pr,sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,ch=Ys,Mo.COMPLETE="complete",Zb=Mo,Ri.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Hc=Ri,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,Xb=Lt}).apply(typeof Gd<"u"?Gd:typeof self<"u"?self:typeof window<"u"?window:{});const a0="@firebase/firestore",l0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Bg("@firebase/firestore");function vl(){return ya.logLevel}function we(t,...e){if(ya.logLevel<=nt.DEBUG){const n=e.map(ty);ya.debug(`Firestore (${Jl}): ${t}`,...n)}}function bi(t,...e){if(ya.logLevel<=nt.ERROR){const n=e.map(ty);ya.error(`Firestore (${Jl}): ${t}`,...n)}}function Pl(t,...e){if(ya.logLevel<=nt.WARN){const n=e.map(ty);ya.warn(`Firestore (${Jl}): ${t}`,...n)}}function ty(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,r1(t,r,n)}function r1(t,e,n){let r=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bi(r),new Error(r)}function gt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||r1(e,o,r)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(jn.UNAUTHENTICATED)))}shutdown(){}}class NP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DP{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gi,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new s1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}class OP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class c0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){gt(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new c0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new c0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=MP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function rt(t,e){return t<e?-1:t>e?1:0}function ig(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),a=e.charAt(r);if(o!==a)return Am(o)===Am(a)?rt(o,a):Am(o)?1:-1}return rt(t.length,e.length)}const VP=55296,FP=57343;function Am(t){const e=t.charCodeAt(0);return e>=VP&&e<=FP}function Al(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="__name__";class Ns{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ns.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=Ns.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return rt(e.length,n.length)}static compareSegments(e,n){const r=Ns.isNumericId(e),o=Ns.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ns.extractNumericId(e).compare(Ns.extractNumericId(n)):ig(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yo.fromString(e.substring(4,e.length-2))}}class It extends Ns{construct(e,n,r){return new It(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new It(n)}static emptyPath(){return new It([])}}const $P=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends Ns{construct(e,n,r){return new Sn(e,n,r)}static isValidIdentifier(e){return $P.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u0}static keyField(){return new Sn([u0])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(It.fromString(e))}static fromName(e){return new xe(It.fromString(e).popFirst(5))}static empty(){return new xe(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new It(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e,n){if(!n)throw new ge(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UP(t,e,n,r){if(e===!0&&r===!0)throw new ge(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function d0(t){if(!xe.isDocumentKey(t))throw new ge(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function h0(t){if(xe.isDocumentKey(t))throw new ge(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function o1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function pf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pf(t);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!o1(t))throw new ge(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(o&&typeof u!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ge(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=-62135596800,p0=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*p0);return new Nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<f0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p0}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-f0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:sn("string",Nt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Nt(0,0))}static max(){return new Be(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function BP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Be.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new Eo(o,xe.empty(),e)}function zP(t){return new Eo(t.readTime,t.key,ou)}class Eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Eo(Be.min(),xe.empty(),ou)}static max(){return new Eo(Be.max(),xe.empty(),ou)}}function HP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==qP)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let o=0,a=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++a,u&&a===o&&n()}),(f=>r(f)))})),u=!0,a===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((o=>o?ie.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,a)=>{r.push(n.call(this,o,a))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const y=f;n(e[y]).next((v=>{u[y]=v,++h,h===a&&r(u)}),(v=>o(v)))}}))}static doWhile(e,n){return new ie(((r,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):r()};a()}))}}function GP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=-1;function gf(t){return t==null}function Nh(t){return t===0&&1/t==-1/0}function KP(t){return typeof t=="number"&&Number.isInteger(t)&&!Nh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="";function JP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=m0(e)),e=QP(t.get(n),e);return m0(e)}function QP(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case a1:n+="";break;default:n+=a}}return n}function m0(t){return t+a1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kd(this.root,e,this.comparator,!0)}}class Kd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??In.RED,this.left=o??In.EMPTY,this.right=a??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new In(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return In.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y0(this.data.getIterator())}getIteratorFrom(e){return new y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new Ir([])}unionWith(e){let n=new dn(Sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new c1("Invalid base64 string: "+a):a}})(e);return new xn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const YP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(gt(!!t,39018),typeof t=="string"){let e=0;const n=YP.exec(t);if(gt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="server_timestamp",d1="__type__",h1="__previous_value__",f1="__local_write_time__";function sy(t){return(t?.mapValue?.fields||{})[d1]?.stringValue===u1}function yf(t){const e=t.mapValue.fields[h1];return sy(e)?yf(e):e}function au(t){const e=bo(t.mapValue.fields[f1].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n,r,o,a,u,h,f,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=y,this.isUsingEmulator=v}}const Dh="(default)";class lu{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="__type__",ZP="__max__",Jd={mapValue:{}},m1="__vector__",Oh="value";function To(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sy(t)?4:tA(t)?9007199254740991:eA(t)?10:11:Fe(28295,{value:t})}function Bs(t,e){if(t===e)return!0;const n=To(t);if(n!==To(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return au(t).isEqual(au(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=bo(o.timestampValue),h=bo(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return Co(o.bytesValue).isEqual(Co(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Jt(o.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(o.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Jt(o.integerValue)===Jt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Jt(o.doubleValue),h=Jt(a.doubleValue);return u===h?Nh(u)===Nh(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Al(t.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(g0(u)!==g0(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Bs(u[f],h[f])))return!1;return!0})(t,e);default:return Fe(52216,{left:t})}}function cu(t,e){return(t.values||[]).find((n=>Bs(n,e)))!==void 0}function Nl(t,e){if(t===e)return 0;const n=To(t),r=To(e);if(n!==r)return rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=Jt(a.integerValue||a.doubleValue),f=Jt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return w0(t.timestampValue,e.timestampValue);case 4:return w0(au(t),au(e));case 5:return ig(t.stringValue,e.stringValue);case 6:return(function(a,u){const h=Co(a),f=Co(u);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let y=0;y<h.length&&y<f.length;y++){const v=rt(h[y],f[y]);if(v!==0)return v}return rt(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=rt(Jt(a.latitude),Jt(u.latitude));return h!==0?h:rt(Jt(a.longitude),Jt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return v0(t.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},y=h[Oh]?.arrayValue,v=f[Oh]?.arrayValue,b=rt(y?.values?.length||0,v?.values?.length||0);return b!==0?b:v0(y,v)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Jd.mapValue&&u===Jd.mapValue)return 0;if(a===Jd.mapValue)return 1;if(u===Jd.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),y=u.fields||{},v=Object.keys(y);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const T=ig(f[b],v[b]);if(T!==0)return T;const N=Nl(h[f[b]],y[v[b]]);if(N!==0)return N}return rt(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Fe(23264,{he:n})}}function w0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=bo(t),r=bo(e),o=rt(n.seconds,r.seconds);return o!==0?o:rt(n.nanos,r.nanos)}function v0(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=Nl(n[o],r[o]);if(a)return a}return rt(n.length,r.length)}function Dl(t){return og(t)}function og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=bo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Co(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=og(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${og(n.fields[u])}`;return o+"}"})(t.mapValue):Fe(61005,{value:t})}function uh(t){switch(To(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yf(t);return e?16+uh(e):16;case 5:return 2*t.stringValue.length;case 6:return Co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+uh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return xo(r.fields,((a,u)=>{o+=a.length+uh(u)})),o})(t.mapValue);default:throw Fe(13486,{value:t})}}function _0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ag(t){return!!t&&"integerValue"in t}function iy(t){return!!t&&"arrayValue"in t}function E0(t){return!!t&&"nullValue"in t}function b0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dh(t){return!!t&&"mapValue"in t}function eA(t){return(t?.mapValue?.fields||{})[p1]?.stringValue===m1}function Yc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Yc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yc(t.arrayValue.values[n]);return e}return{...t}}function tA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(n)}setAll(e){let n=Sn.emptyPath(),r={},o=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,o),r={},o=[],n=h.popLast()}u?r[h.lastSegment()]=Yc(u):o.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){xo(n,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new lr(Yc(this.value))}}function g1(t){const e=[];return xo(t.fields,((n,r)=>{const o=new Sn([n]);if(dh(r)){const a=g1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r,o,a,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Ln(e,0,Be.min(),Be.min(),Be.min(),lr.empty(),0)}static newFoundDocument(e,n,r,o){return new Ln(e,1,n,Be.min(),r,o,0)}static newNoDocument(e,n){return new Ln(e,2,n,Be.min(),Be.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,Be.min(),Be.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.position=e,this.inclusive=n}}function C0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?r=xe.comparator(xe.fromName(u.referenceValue),n.key):r=Nl(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function T0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function nA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{}class rn extends y1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sA(e,n,r):n==="array-contains"?new aA(e,r):n==="in"?new lA(e,r):n==="not-in"?new cA(e,r):n==="array-contains-any"?new uA(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iA(e,r):new oA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nl(n,this.value)):n!==null&&To(this.value)===To(n)&&this.matchesComparison(Nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends y1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ds(e,n)}matches(e){return w1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w1(t){return t.op==="and"}function v1(t){return rA(t)&&w1(t)}function rA(t){for(const e of t.filters)if(e instanceof ds)return!1;return!0}function lg(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Dl(t.value);if(v1(t))return t.filters.map((e=>lg(e))).join(",");{const e=t.filters.map((n=>lg(n))).join(",");return`${t.op}(${e})`}}function _1(t,e){return t instanceof rn?(function(r,o){return o instanceof rn&&r.op===o.op&&r.field.isEqual(o.field)&&Bs(r.value,o.value)})(t,e):t instanceof ds?(function(r,o){return o instanceof ds&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,h)=>a&&_1(u,o.filters[h])),!0):!1})(t,e):void Fe(19439)}function E1(t){return t instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Dl(n.value)}`})(t):t instanceof ds?(function(n){return n.op.toString()+" {"+n.getFilters().map(E1).join(" ,")+"}"})(t):"Filter"}class sA extends rn{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class iA extends rn{constructor(e,n){super(e,"in",n),this.keys=b1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oA extends rn{constructor(e,n){super(e,"not-in",n),this.keys=b1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function b1(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class aA extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iy(n)&&cu(n.arrayValue,this.value)}}class lA extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class cA extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class uA extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>cu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function I0(t,e=null,n=[],r=[],o=null,a=null,u=null){return new dA(t,e,n,r,o,a,u)}function oy(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>lg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Dl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Dl(r))).join(",")),e.Te=n}return e.Te}function ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T0(t.startAt,e.startAt)&&T0(t.endAt,e.endAt)}function cg(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n=null,r=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hA(t,e,n,r,o,a,u,h){return new Cu(t,e,n,r,o,a,u,h)}function wf(t){return new Cu(t)}function S0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function C1(t){return t.collectionGroup!==null}function Xc(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new dn(Sn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((y=>{y.isInequality()&&(h=h.add(y.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Lh(a,r))})),n.has(Sn.keyField().canonicalString())||e.Ie.push(new Lh(Sn.keyField(),r))}return e.Ie}function Vs(t){const e=ze(t);return e.Ee||(e.Ee=fA(e,Xc(t))),e.Ee}function fA(t,e){if(t.limitType==="F")return I0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Lh(o.field,a)}));const n=t.endAt?new jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jh(t.startAt.position,t.startAt.inclusive):null;return I0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ug(t,e){const n=t.filters.concat([e]);return new Cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dg(t,e,n){return new Cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vf(t,e){return ay(Vs(t),Vs(e))&&t.limitType===e.limitType}function T1(t){return`${oy(Vs(t))}|lt:${t.limitType}`}function _l(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>E1(o))).join(", ")}]`),gf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Dl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Dl(o))).join(",")),`Target(${r})`})(Vs(t))}; limitType=${t.limitType})`}function _f(t,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,o){for(const a of Xc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(u,h,f){const y=C0(u,h,f);return u.inclusive?y<=0:y<0})(r.startAt,Xc(r),o)||r.endAt&&!(function(u,h,f){const y=C0(u,h,f);return u.inclusive?y>=0:y>0})(r.endAt,Xc(r),o))})(t,e)}function pA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function I1(t){return(e,n)=>{let r=!1;for(const o of Xc(t)){const a=mA(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function mA(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(a,u,h){const f=u.data.field(a),y=h.data.field(a);return f!==null&&y!==null?Nl(f,y):Fe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,((n,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return l1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new Ut(xe.comparator);function Ci(){return gA}const S1=new Ut(xe.comparator);function qc(...t){let e=S1;for(const n of t)e=e.insert(n.key,n);return e}function x1(t){let e=S1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function oa(){return Zc()}function k1(){return Zc()}function Zc(){return new xa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const yA=new Ut(xe.comparator),wA=new dn(xe.comparator);function st(...t){let e=wA;for(const n of t)e=e.add(n);return e}const vA=new dn(rt);function _A(){return vA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function R1(t){return{integerValue:""+t}}function P1(t,e){return KP(e)?R1(e):ly(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function EA(t,e,n){return t instanceof uu?(function(o,a){const u={fields:{[d1]:{stringValue:u1},[f1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&sy(a)&&(a=yf(a)),a&&(u.fields[h1]=a),{mapValue:u}})(n,e):t instanceof Ol?N1(t,e):t instanceof jl?D1(t,e):(function(o,a){const u=A1(o,a),h=x0(u)+x0(o.Ae);return ag(u)&&ag(o.Ae)?R1(h):ly(o.serializer,h)})(t,e)}function bA(t,e,n){return t instanceof Ol?N1(t,e):t instanceof jl?D1(t,e):n}function A1(t,e){return t instanceof du?(function(r){return ag(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class uu extends Ef{}class Ol extends Ef{constructor(e){super(),this.elements=e}}function N1(t,e){const n=O1(e);for(const r of t.elements)n.some((o=>Bs(o,r)))||n.push(r);return{arrayValue:{values:n}}}class jl extends Ef{constructor(e){super(),this.elements=e}}function D1(t,e){let n=O1(e);for(const r of t.elements)n=n.filter((o=>!Bs(o,r)));return{arrayValue:{values:n}}}class du extends Ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function x0(t){return Jt(t.integerValue||t.doubleValue)}function O1(t){return iy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.field=e,this.transform=n}}function CA(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Ol&&o instanceof Ol||r instanceof jl&&o instanceof jl?Al(r.elements,o.elements,Bs):r instanceof du&&o instanceof du?Bs(r.Ae,o.Ae):r instanceof uu&&o instanceof uu})(t.transform,e.transform)}class TA{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cf{}function j1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cy(t.key,zr.none()):new Tu(t.key,t.data,zr.none());{const n=t.data,r=lr.empty();let o=new dn(Sn.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new ko(t.key,r,new Ir(o.toArray()),zr.none())}}function IA(t,e,n){t instanceof Tu?(function(o,a,u){const h=o.value.clone(),f=R0(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ko?(function(o,a,u){if(!hh(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=R0(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(L1(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function eu(t,e,n,r){return t instanceof Tu?(function(a,u,h,f){if(!hh(a.precondition,u))return h;const y=a.value.clone(),v=P0(a.fieldTransforms,f,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,n,r):t instanceof ko?(function(a,u,h,f){if(!hh(a.precondition,u))return h;const y=P0(a.fieldTransforms,f,u),v=u.data;return v.setAll(L1(a)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(a,u,h){return hh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function SA(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=A1(r.transform,o||null);a!=null&&(n===null&&(n=lr.empty()),n.set(r.field,a))}return n||null}function k0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Al(r,o,((a,u)=>CA(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tu extends Cf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ko extends Cf{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function L1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function R0(t,e,n){const r=new Map;gt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,bA(u,h,n[o]))}return r}function P0(t,e,n){const r=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);r.set(o.field,EA(a,u,e))}return r}class cy extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xA extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&IA(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=k1();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(o.key)?null:h;const f=j1(u,h);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),st())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((n,r)=>k0(n,r)))&&Al(this.baseMutations,e.baseMutations,((n,r)=>k0(n,r)))}}class uy{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){gt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return yA})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new uy(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,lt;function AA(t){switch(t){case ne.OK:return Fe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function M1(t){if(t===void 0)return bi("GRPC error has no .code"),ne.UNKNOWN;switch(t){case tn.OK:return ne.OK;case tn.CANCELLED:return ne.CANCELLED;case tn.UNKNOWN:return ne.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ne.INTERNAL;case tn.UNAVAILABLE:return ne.UNAVAILABLE;case tn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case tn.NOT_FOUND:return ne.NOT_FOUND;case tn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case tn.ABORTED:return ne.ABORTED;case tn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case tn.DATA_LOSS:return ne.DATA_LOSS;default:return Fe(39323,{code:t})}}(lt=tn||(tn={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new yo([4294967295,4294967295],0);function A0(t){const e=NA().encode(t),n=new Yb;return n.update(e),new Uint8Array(n.digest())}function N0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new yo([n,r],0),new yo([o,a],0)]}class dy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wc(`Invalid padding: ${n}`);if(r<0)throw new Wc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=yo.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(yo.fromNumber(r)));return o.compare(DA)===1&&(o=new yo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=A0(e),[r,o]=N0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new dy(a,o,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=A0(e),[r,o]=N0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tf(Be.min(),o,new Ut(rt),Ci(),st())}}class Iu{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class V1{constructor(e,n){this.targetId=e,this.Ce=n}}class F1{constructor(e,n,r=xn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class D0{constructor(){this.ve=0,this.Fe=O0(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=st(),n=st(),r=st();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Fe(38017,{changeType:a})}})),new Iu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=O0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ci(),this.Je=Qd(),this.He=Qd(),this.Ye=new Ut(rt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(cg(a))if(r===0){const u=new xe(a.path);this.et(n,u,Ln.newNoDocument(u,Be.min()))}else gt(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let u,h;try{u=Co(r).toUint8Array()}catch(f){if(f instanceof c1)return Pl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new dy(u,o,a)}catch(f){return Pl(f instanceof Wc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&cg(h.target)){const f=new xe(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Ln.newNoDocument(f,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let r=st();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const y=this.ot(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new Tf(e,n,this.Ye,this.je,r);return this.je=Ci(),this.Je=Qd(),this.He=Qd(),this.Ye=new Ut(rt),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new D0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dn(rt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dn(rt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new D0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qd(){return new Ut(xe.comparator)}function O0(){return new Ut(xe.comparator)}const jA={asc:"ASCENDING",desc:"DESCENDING"},LA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MA={and:"AND",or:"OR"};class VA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hg(t,e){return t.useProto3Json||gf(e)?e:{value:e}}function Mh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FA(t,e){return Mh(t,e.toTimestamp())}function Fs(t){return gt(!!t,49232),Be.fromTimestamp((function(n){const r=bo(n);return new Nt(r.seconds,r.nanos)})(t))}function hy(t,e){return fg(t,e).canonicalString()}function fg(t,e){const n=(function(o){return new It(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function U1(t){const e=It.fromString(t);return gt(W1(e),10190,{key:e.toString()}),e}function pg(t,e){return hy(t.databaseId,e.path)}function Nm(t,e){const n=U1(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(z1(n))}function B1(t,e){return hy(t.databaseId,e)}function $A(t){const e=U1(t);return e.length===4?It.emptyPath():z1(e)}function mg(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z1(t){return gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function j0(t,e,n){return{name:pg(t,e),fields:n.value.mapValue.fields}}function UA(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Fe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(y,v){return y.useProto3Json?(gt(v===void 0||typeof v=="string",58123),xn.fromBase64String(v||"")):(gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),xn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(y){const v=y.code===void 0?ne.UNKNOWN:M1(y.code);return new ge(v,y.message||"")})(u);n=new F1(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Nm(t,r.document.name),a=Fs(r.document.updateTime),u=r.document.createTime?Fs(r.document.createTime):Be.min(),h=new lr({mapValue:{fields:r.document.fields}}),f=Ln.newFoundDocument(o,a,u,h),y=r.targetIds||[],v=r.removedTargetIds||[];n=new fh(y,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Nm(t,r.document),a=r.readTime?Fs(r.readTime):Be.min(),u=Ln.newNoDocument(o,a),h=r.removedTargetIds||[];n=new fh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Nm(t,r.document),a=r.removedTargetIds||[];n=new fh([],a,o,null)}else{if(!("filter"in e))return Fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new PA(o,a),h=r.targetId;n=new V1(h,u)}}return n}function BA(t,e){let n;if(e instanceof Tu)n={update:j0(t,e.key,e.value)};else if(e instanceof cy)n={delete:pg(t,e.key)};else if(e instanceof ko)n={update:j0(t,e.key,e.data),updateMask:YA(e.fieldMask)};else{if(!(e instanceof xA))return Fe(16599,{Vt:e.type});n={verify:pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof uu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ol)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof jl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof du)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Fe(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:FA(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(t,e.precondition)),n}function zA(t,e){return t&&t.length>0?(gt(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?Fs(o.updateTime):Fs(a);return u.isEqual(Be.min())&&(u=Fs(a)),new TA(u,o.transformResults||[])})(n,e)))):[]}function HA(t,e){return{documents:[B1(t,e.path)]}}function qA(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=B1(t,o);const a=(function(y){if(y.length!==0)return q1(ds.create(y,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(y){if(y.length!==0)return y.map((v=>(function(T){return{field:El(T.field),direction:KA(T.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=hg(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function WA(t){let e=$A(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){gt(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=(function(b){const T=H1(b);return T instanceof ds&&v1(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((T=>(function(L){return new Lh(bl(L.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let T;return T=typeof b=="object"?b.value:b,gf(T)?null:T})(n.limit));let f=null;n.startAt&&(f=(function(b){const T=!!b.before,N=b.values||[];return new jh(N,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const T=!b.before,N=b.values||[];return new jh(N,T)})(n.endAt)),hA(e,o,u,a,h,"F",f,y)}function GA(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function H1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bl(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=bl(n.unaryFilter.field);return rn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=bl(n.unaryFilter.field);return rn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bl(n.unaryFilter.field);return rn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rn.create(bl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ds.create(n.compositeFilter.filters.map((r=>H1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(n.compositeFilter.op))})(t):Fe(30097,{filter:t})}function KA(t){return jA[t]}function JA(t){return LA[t]}function QA(t){return MA[t]}function El(t){return{fieldPath:t.canonicalString()}}function bl(t){return Sn.fromServerFormat(t.fieldPath)}function q1(t){return t instanceof rn?(function(n){if(n.op==="=="){if(b0(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NAN"}};if(E0(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b0(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NAN"}};if(E0(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(n.field),op:JA(n.op),value:n.value}}})(t):t instanceof ds?(function(n){const r=n.getFilters().map((o=>q1(o)));return r.length===1?r[0]:{compositeFilter:{op:QA(n.op),filters:r}}})(t):Fe(54877,{filter:t})}function YA(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function W1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,o,a=Be.min(),u=Be.min(),h=xn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.yt=e}}function ZA(t){const e=WA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.Cn=new t2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Eo.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class t2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new dn(It.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new dn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G1=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(G1,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ll(0)}static cr(){return new Ll(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="LruGarbageCollector",n2=1048576;function V0([t,e],[n,r]){const o=rt(t,n);return o===0?rt(e,r):o}class r2{constructor(e){this.Ir=e,this.buffer=new dn(V0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();V0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class s2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(M0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yl(n)?we(M0,"Ignoring IndexedDB error during garbage collection: ",n):await Ql(n)}await this.Vr(3e5)}))}}class i2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(mf.ce);const r=new r2(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(L0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,a,u,h,f,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,n)))).next((b=>(a=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),vl()<=nt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(y-f)+`ms
Total Duration: ${y-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:b}))))}}function o2(t,e){return new i2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.changes=new xa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&eu(r.mutation,o,Ir.empty(),Nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,st()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=st()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((a=>{let u=qc();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=oa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,st())))}populateOverlays(e,n,r){const o=[];return r.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,o){let a=Ci();const u=Zc(),h=(function(){return Zc()})();return n.forEach(((f,y)=>{const v=r.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof ko)?a=a.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),eu(v.mutation,y,v.mutation.getFieldMask(),Nt.now())):u.set(y.key,Ir.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((y,v)=>u.set(y,v))),n.forEach(((y,v)=>h.set(y,new l2(v,u.get(y)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Zc();let o=new Ut(((u,h)=>u-h)),a=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((f=>{const y=n.get(f);if(y===null)return;let v=r.get(f)||Ir.empty();v=h.applyToLocalView(y,v),r.set(f,v);const b=(o.get(h.batchId)||st()).add(f);o=o.insert(h.batchId,b)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),y=f.key,v=f.value,b=k1();v.forEach((T=>{if(!a.has(T)){const N=j1(n.get(T),r.get(T));N!==null&&b.set(T,N),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ie.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(u){return xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):ie.resolve(oa());let h=ou,f=a;return u.next((y=>ie.forEach(y,((v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),a.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,f,y,st()))).next((v=>({batchId:h,changes:x1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let o=qc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let u=qc();return this.indexManager.getCollectionParents(e,a).next((h=>ie.forEach(h,(f=>{const y=(function(b,T){return new Cu(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((v=>{v.forEach(((b,T)=>{u=u.insert(b,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o)))).next((u=>{a.forEach(((f,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,Ln.newInvalidDocument(v)))}));let h=qc();return u.forEach(((f,y)=>{const v=a.get(f);v!==void 0&&eu(v.mutation,y,Ir.empty(),Nt.now()),_f(n,y)&&(h=h.insert(f,y))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Fs(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:ZA(o.bundledQuery),readTime:Fs(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.overlays=new Ut(xe.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oa();return ie.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,a)=>{this.St(e,n,a)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const o=oa(),a=n.length+1,u=new xe(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,y=f.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new Ut(((y,v)=>y-v));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let v=a.get(y.largestBatchId);v===null&&(v=oa(),a=a.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const h=oa(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((y,v)=>h.set(y,v))),!(h.size()>=o)););return ie.resolve(h)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new RA(n,r));let a=this.qr.get(n);a===void 0&&(a=st(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.Qr=new dn(yn.$r),this.Ur=new dn(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new yn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new xe(new It([])),r=new yn(n,e),o=new yn(n,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new It([])),r=new yn(n,e),o=new yn(n,e+1);let a=st();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new yn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||rt(e.Yr,n.Yr)}static Kr(e,n){return rt(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dn(yn.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new kA(a,n,r,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new yn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),a=o<0?0:o;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?ry:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),o=new yn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const h=this.Xr(u.Yr);a.push(h)})),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(rt);return n.forEach((o=>{const a=new yn(o,0),u=new yn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{r=r.add(h.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;xe.isDocumentKey(a)||(a=a.child(""));const u=new yn(new xe(a),0);let h=new dn(rt);return this.Zr.forEachWhile((f=>{const y=f.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(h=h.add(f.Yr)),!0)}),u),ie.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){gt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(o=>{const a=new yn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new yn(n,0),o=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.ri=e,this.docs=(function(){return new Ut(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Ln.newInvalidDocument(o))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=Ci();const u=n.path,h=new xe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:y,value:{document:v}}=f.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||HP(zP(v),r)<=0||(o.has(v.key)||_f(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,n,r,o){Fe(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new m2(this)}getSize(e){return ie.resolve(this.size)}}class m2 extends a2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.persistence=e,this.si=new xa((n=>oy(n)),ay),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new fy,this.targetCount=0,this.ai=Ll.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ll(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ie.waitFor(a).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),ie.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.ui={},this.overlays={},this.ci=new mf(0),this.li=!1,this.li=!0,this.hi=new h2,this.referenceDelegate=e(this),this.Pi=new g2(this),this.indexManager=new e2,this.remoteDocumentCache=(function(o){return new p2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new XA(n),this.Ii=new u2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new f2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const o=new y2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class y2 extends WP{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Ri=new fy,this.Vi=null}static mi(e){return new py(e)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const o=xe.fromPath(r);return this.gi(e,o).next((a=>{a||n.removeEntry(o,Be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vh{constructor(e,n){this.persistence=e,this.pi=new xa((r=>JP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=o2(this,n)}static mi(e,n){return new Vh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?ie.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,a.removeEntry(u,Be.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=st(),o=st();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new my(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WS()?8:GP(Vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new w2;return this.Ss(e,n,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>a.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(vl()<=nt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",_l(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(vl()<=nt.DEBUG&&we("QueryEngine","Query:",_l(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(vl()<=nt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",_l(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(n))):ie.resolve())}ys(e,n){if(S0(n))return ie.resolve(null);let r=Vs(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=dg(n,null,"F"),r=Vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=st(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const y=this.Ds(n,h);return this.Cs(n,y,u,f.readTime)?this.ys(e,dg(n,null,"F")):this.vs(e,y,n,f)}))))})))))}ws(e,n,r,o){return S0(n)||o.isEqual(Be.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,r,o)?ie.resolve(null):(vl()<=nt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_l(n)),this.vs(e,u,n,BP(o,ou)).next((h=>h)))}))}Ds(e,n){let r=new dn(I1(e));return n.forEach(((o,a)=>{_f(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return vl()<=nt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",_l(n)),this.ps.getDocumentsMatchingQuery(e,n,Eo.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="LocalStore",_2=3e8;class E2{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Ut(rt),this.xs=new xa((a=>oy(a)),ay),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function b2(t,e,n,r){return new E2(t,e,n,r)}async function J1(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let f=st();for(const y of o){u.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}for(const y of a){h.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(r,f).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:h})))}))}))}function C2(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,y,v){const b=y.batch,T=b.keys();let N=ie.resolve();return T.forEach((L=>{N=N.next((()=>v.getEntry(f,L))).next(($=>{const j=y.docVersions.get(L);gt(j!==null,48541),$.version.compareTo(j)<0&&(b.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),v.addEntry($)))}))})),N.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=st();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(f=f.add(h.batch.mutations[y].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Q1(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function T2(t,e){const n=ze(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const h=[];e.targetChanges.forEach(((v,b)=>{const T=o.get(b);if(!T)return;h.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(a,v.addedDocuments,b))));let N=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(xn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,r)),o=o.insert(b,N),(function($,j,W){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=_2?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(T,N,v)&&h.push(n.Pi.updateTargetData(a,N))}));let f=Ci(),y=st();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(I2(a,u,e.documentUpdates).next((v=>{f=v.ks,y=v.qs}))),!r.isEqual(Be.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next((b=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(v)}return ie.waitFor(h).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,y))).next((()=>f))})).then((a=>(n.Ms=o,a)))}function I2(t,e,n){let r=st(),o=st();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let u=Ci();return n.forEach(((h,f)=>{const y=a.get(h);f.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Be.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):we(gy,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function S2(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ry),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function x2(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((a=>a?(o=a,ie.resolve(o)):n.Pi.allocateTargetId(r).next((u=>(o=new ho(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function gg(t,e,n){const r=ze(t),o=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Yl(u))throw u;we(gy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function F0(t,e,n){const r=ze(t);let o=Be.min(),a=st();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,y,v){const b=ze(f),T=b.xs.get(v);return T!==void 0?ie.resolve(b.Ms.get(T)):b.Pi.getTargetData(y,v)})(r,u,Vs(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?o:Be.min(),n?a:st()))).next((h=>(k2(r,pA(e),h),{documents:h,Qs:a})))))}function k2(t,e,n){let r=t.Os.get(e)||Be.min();n.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class $0{constructor(){this.activeTargetIds=_A()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R2{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="ConnectivityMonitor";class B0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(U0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(U0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function yg(){return Yd===null?Yd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="RestConnection",A2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Dh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,a){const u=yg(),h=this.zo(e,n.toUriEncodedString());we(Dm,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:y}=new URL(h),v=Ta(y);return this.Jo(e,h,f,r,v).then((b=>(we(Dm,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Pl(Dm,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",r),b}))}Ho(e,n,r,o,a,u){return this.Go(e,n,r,o,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const r=A2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class O2 extends N2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const u=yg();return new Promise(((h,f)=>{const y=new Xb;y.setWithCredentials(!0),y.listenOnce(Zb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ch.NO_ERROR:const b=y.getResponseJson();we(On,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case ch.TIMEOUT:we(On,`RPC '${e}' ${u} timed out`),f(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const T=y.getStatus();if(we(On,`RPC '${e}' ${u} failed with status:`,T,"response text:",y.getResponseText()),T>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const L=N?.error;if(L&&L.status&&L.message){const $=(function(W){const M=W.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(M)>=0?M:ne.UNKNOWN})(L.status);f(new ge($,L.message))}else f(new ge(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{we(On,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);we(On,`RPC '${e}' ${u} sending request:`,o),y.send(n,"POST",v,r,15)}))}T_(e,n,r){const o=yg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=n1(),h=t1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const v=a.join("");we(On,`Creating RPC '${e}' stream ${o}: ${v}`,f);const b=u.createWebChannel(v,f);this.I_(b);let T=!1,N=!1;const L=new D2({Yo:j=>{N?we(On,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(T||(we(On,`Opening RPC '${e}' stream ${o} transport.`),b.open(),T=!0),we(On,`RPC '${e}' stream ${o} sending:`,j),b.send(j))},Zo:()=>b.close()}),$=(j,W,M)=>{j.listen(W,(z=>{try{M(z)}catch(J){setTimeout((()=>{throw J}),0)}}))};return $(b,Hc.EventType.OPEN,(()=>{N||(we(On,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),$(b,Hc.EventType.CLOSE,(()=>{N||(N=!0,we(On,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(b))})),$(b,Hc.EventType.ERROR,(j=>{N||(N=!0,Pl(On,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),L.a_(new ge(ne.UNAVAILABLE,"The operation could not be completed")))})),$(b,Hc.EventType.MESSAGE,(j=>{if(!N){const W=j.data[0];gt(!!W,16349);const M=W,z=M?.error||M[0]?.error;if(z){we(On,`RPC '${e}' stream ${o} received error:`,z);const J=z.status;let se=(function(I){const k=tn[I];if(k!==void 0)return M1(k)})(J),K=z.message;se===void 0&&(se=ne.INTERNAL,K="Unknown error status: "+J+" with message "+z.message),N=!0,L.a_(new ge(se,K)),b.close()}else we(On,`RPC '${e}' stream ${o} received:`,W),L.u_(W)}})),$(h,e1.STAT_EVENT,(j=>{j.stat===sg.PROXY?we(On,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===sg.NOPROXY&&we(On,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){return new VA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="PersistentStream";class X1{constructor(e,n,r,o,a,u,h,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ge(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(z0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(we(z0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class j2 extends X1{constructor(e,n,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UA(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Be.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?Fs(u.readTime):Be.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=mg(this.serializer),n.addTarget=(function(a,u){let h;const f=u.target;if(h=cg(f)?{documents:HA(a,f)}:{query:qA(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=$1(a,u.resumeToken);const y=hg(a,u.expectedCount);y!==null&&(h.expectedCount=y)}else if(u.snapshotVersion.compareTo(Be.min())>0){h.readTime=Mh(a,u.snapshotVersion.toTimestamp());const y=hg(a,u.expectedCount);y!==null&&(h.expectedCount=y)}return h})(this.serializer,e);const r=GA(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=mg(this.serializer),n.removeTarget=e,this.q_(n)}}class L2 extends X1{constructor(e,n,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zA(e.writeResults,e.commitTime),r=Fs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=mg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>BA(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{}class V2 extends M2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,fg(n,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(ne.UNKNOWN,a.toString())}))}Ho(e,n,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,fg(n,r),o,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class F2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class $2{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{ka(this)&&(we(wa,"Restarting streams for network reachability change."),await(async function(f){const y=ze(f);y.Ea.add(4),await Su(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Sf(y)})(this))}))})),this.Ra=new F2(r,o)}}async function Sf(t){if(ka(t))for(const e of t.da)await e(!0)}async function Su(t){for(const e of t.da)await e(!1)}function Z1(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_y(n)?vy(n):Xl(n).O_()&&wy(n,e))}function yy(t,e){const n=ze(t),r=Xl(n);n.Ia.delete(e),r.O_()&&eC(n,e),n.Ia.size===0&&(r.O_()?r.L_():ka(n)&&n.Ra.set("Unknown"))}function wy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xl(t).Y_(e)}function eC(t,e){t.Va.Ue(e),Xl(t).Z_(e)}function vy(t){t.Va=new OA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xl(t).start(),t.Ra.ua()}function _y(t){return ka(t)&&!Xl(t).x_()&&t.Ia.size>0}function ka(t){return ze(t).Ea.size===0}function tC(t){t.Va=void 0}async function U2(t){t.Ra.set("Online")}async function B2(t){t.Ia.forEach(((e,n)=>{wy(t,e)}))}async function z2(t,e){tC(t),_y(t)?(t.Ra.ha(e),vy(t)):t.Ra.set("Unknown")}async function H2(t,e,n){if(t.Ra.set("Online"),e instanceof F1&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))})(t,e)}catch(r){we(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fh(t,r)}else if(e instanceof fh?t.Va.Ze(e):e instanceof V1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Be.min()))try{const r=await Q1(t.localStore);n.compareTo(r)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(y);v&&a.Ia.set(y,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,y)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(xn.EMPTY_BYTE_STRING,v.snapshotVersion)),eC(a,f);const b=new ho(v.target,f,y,v.sequenceNumber);wy(a,b)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){we(wa,"Failed to raise snapshot:",r),await Fh(t,r)}}async function Fh(t,e,n){if(!Yl(e))throw e;t.Ea.add(1),await Su(t),t.Ra.set("Offline"),n||(n=()=>Q1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(wa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sf(t)}))}function nC(t,e){return e().catch((n=>Fh(t,n,e)))}async function xf(t){const e=ze(t),n=Io(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ry;for(;q2(e);)try{const o=await S2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,W2(e,o)}catch(o){await Fh(e,o)}rC(e)&&sC(e)}function q2(t){return ka(t)&&t.Ta.length<10}function W2(t,e){t.Ta.push(e);const n=Io(t);n.O_()&&n.X_&&n.ea(e.mutations)}function rC(t){return ka(t)&&!Io(t).x_()&&t.Ta.length>0}function sC(t){Io(t).start()}async function G2(t){Io(t).ra()}async function K2(t){const e=Io(t);for(const n of t.Ta)e.ea(n.mutations)}async function J2(t,e,n){const r=t.Ta.shift(),o=uy.from(r,e,n);await nC(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await xf(t)}async function Q2(t,e){e&&Io(t).X_&&await(async function(r,o){if((function(u){return AA(u)&&u!==ne.ABORTED})(o.code)){const a=r.Ta.shift();Io(r).B_(),await nC(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await xf(r)}})(t,e),rC(t)&&sC(t)}async function H0(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),we(wa,"RemoteStore received new credentials");const r=ka(n);n.Ea.add(3),await Su(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sf(n)}async function Y2(t,e){const n=ze(t);e?(n.Ea.delete(2),await Sf(n)):e||(n.Ea.add(2),await Su(n),n.Ra.set("Unknown"))}function Xl(t){return t.ma||(t.ma=(function(n,r,o){const a=ze(n);return a.sa(),new j2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:U2.bind(null,t),t_:B2.bind(null,t),r_:z2.bind(null,t),H_:H2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),_y(t)?vy(t):t.Ra.set("Unknown")):(await t.ma.stop(),tC(t))}))),t.ma}function Io(t){return t.fa||(t.fa=(function(n,r,o){const a=ze(n);return a.sa(),new L2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:G2.bind(null,t),r_:Q2.bind(null,t),ta:K2.bind(null,t),na:J2.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await xf(t)):(await t.fa.stop(),t.Ta.length>0&&(we(wa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const u=Date.now()+r,h=new Ey(e,n,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(t,e){if(bi("AsyncQueue",`${e}: ${t}`),Yl(t))return new ge(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=qc(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.ga=new Ut(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ml{constructor(e,n,r,o,a,u,h,f,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,a){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Ml(e,n,xl.emptySet(n),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Z2{constructor(){this.queries=W0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=ze(n),a=o.queries;o.queries=W0(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function W0(){return new xa((t=>T1(t)),vf)}async function Cy(t,e){const n=ze(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new X2,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=by(u,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Iy(n)}async function Ty(t,e){const n=ze(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eN(t,e){const n=ze(t);let r=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const h of u.Sa)h.Fa(o)&&(r=!0);u.wa=o}}r&&Iy(n)}function tN(t,e,n){const r=ze(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function Iy(t){t.Ca.forEach((e=>{e.next()}))}var wg,G0;(G0=wg||(wg={})).Ma="default",G0.Cache="cache";class Sy{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.key=e}}class oC{constructor(e){this.key=e}}class nN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=st(),this.mutatedKeys=st(),this.eu=I1(e),this.tu=new xl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new q0,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const T=o.get(v),N=_f(this.query,b)?b:null,L=!!T&&this.mutatedKeys.has(T.key),$=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let j=!1;T&&N?T.data.isEqual(N.data)?L!==$&&(r.track({type:3,doc:N}),j=!0):this.su(T,N)||(r.track({type:2,doc:N}),j=!0,(f&&this.eu(N,f)>0||y&&this.eu(N,y)<0)&&(h=!0)):!T&&N?(r.track({type:0,doc:N}),j=!0):T&&!N&&(r.track({type:1,doc:T}),j=!0,(f||y)&&(h=!0)),j&&(N?(u=u.add(N),a=$?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(N,L){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:j})}};return $(N)-$(L)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const h=n&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,y=f!==this.Za;return this.Za=f,u.length!==0||y?{snapshot:new Ml(this.query,e.tu,a,u,e.mutatedKeys,f===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=st(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new oC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new iC(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=st();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xy="SyncEngine";class rN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sN{constructor(e){this.key=e,this.hu=!1}}class iN{constructor(e,n,r,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new xa((h=>T1(h)),vf),this.Iu=new Map,this.Eu=new Set,this.du=new Ut(xe.comparator),this.Au=new Map,this.Ru=new fy,this.Vu={},this.mu=new Map,this.fu=Ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oN(t,e,n=!0){const r=hC(t);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await aC(r,e,n,!0),o}async function aN(t,e){const n=hC(t);await aC(n,e,!0,!1)}async function aC(t,e,n,r){const o=await x2(t.localStore,Vs(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await lN(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&Z1(t.remoteStore,o),h}async function lN(t,e,n,r,o){t.pu=(b,T,N)=>(async function($,j,W,M){let z=j.view.ru(W);z.Cs&&(z=await F0($.localStore,j.query,!1).then((({documents:S})=>j.view.ru(S,z))));const J=M&&M.targetChanges.get(j.targetId),se=M&&M.targetMismatches.get(j.targetId)!=null,K=j.view.applyChanges(z,$.isPrimaryClient,J,se);return J0($,j.targetId,K.au),K.snapshot})(t,b,T,N);const a=await F0(t.localStore,e,!0),u=new nN(e,a.Qs),h=u.ru(a.documents),f=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),y=u.applyChanges(h,t.isPrimaryClient,f);J0(t,n,y.au);const v=new rN(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function cN(t,e,n){const r=ze(t),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!vf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await gg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&yy(r.remoteStore,o.targetId),vg(r,o.targetId)})).catch(Ql)):(vg(r,o.targetId),await gg(r.localStore,o.targetId,!0))}async function uN(t,e){const n=ze(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yy(n.remoteStore,r.targetId))}async function dN(t,e,n){const r=wN(t);try{const o=await(function(u,h){const f=ze(u),y=Nt.now(),v=h.reduce(((N,L)=>N.add(L.key)),st());let b,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let L=Ci(),$=st();return f.Ns.getEntries(N,v).next((j=>{L=j,L.forEach(((W,M)=>{M.isValidDocument()||($=$.add(W))}))})).next((()=>f.localDocuments.getOverlayedDocuments(N,L))).next((j=>{b=j;const W=[];for(const M of h){const z=SA(M,b.get(M.key).overlayedDocument);z!=null&&W.push(new ko(M.key,z,g1(z.value.mapValue),zr.exists(!0)))}return f.mutationQueue.addMutationBatch(N,y,W,h)})).next((j=>{T=j;const W=j.applyToLocalDocumentSet(b,$);return f.documentOverlayCache.saveOverlays(N,j.batchId,W)}))})).then((()=>({batchId:T.batchId,changes:x1(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,h,f){let y=u.Vu[u.currentUser.toKey()];y||(y=new Ut(rt)),y=y.insert(h,f),u.Vu[u.currentUser.toKey()]=y})(r,o.batchId,n),await xu(r,o.changes),await xf(r.remoteStore)}catch(o){const a=by(o,"Failed to persist write");n.reject(a)}}async function lC(t,e){const n=ze(t);try{const r=await T2(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?gt(u.hu,14607):o.removedDocuments.size>0&&(gt(u.hu,42227),u.hu=!1))})),await xu(n,r,e)}catch(r){await Ql(r)}}function K0(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const f=ze(u);f.onlineState=h;let y=!1;f.queries.forEach(((v,b)=>{for(const T of b.Sa)T.va(h)&&(y=!0)})),y&&Iy(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hN(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new Ut(xe.comparator);u=u.insert(a,Ln.newNoDocument(a,Be.min()));const h=st().add(a),f=new Tf(Be.min(),new Map,new Ut(rt),u,h);await lC(r,f),r.du=r.du.remove(a),r.Au.delete(e),ky(r)}else await gg(r.localStore,e,!1).then((()=>vg(r,e,n))).catch(Ql)}async function fN(t,e){const n=ze(t),r=e.batch.batchId;try{const o=await C2(n.localStore,e);uC(n,r,null),cC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xu(n,o)}catch(o){await Ql(o)}}async function pN(t,e,n){const r=ze(t);try{const o=await(function(u,h){const f=ze(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return f.mutationQueue.lookupMutationBatch(y,h).next((b=>(gt(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(y,b)))).next((()=>f.mutationQueue.performConsistencyCheck(y))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(y,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>f.localDocuments.getDocuments(y,v)))}))})(r.localStore,e);uC(r,e,n),cC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xu(r,o)}catch(o){await Ql(o)}}function cC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function uC(t,e,n){const r=ze(t);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||dC(t,r)}))}function dC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(yy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ky(t))}function J0(t,e,n){for(const r of n)r instanceof iC?(t.Ru.addReference(r.key,e),mN(t,r)):r instanceof oC?(we(xy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||dC(t,r.key)):Fe(19791,{wu:r})}function mN(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(xy,"New document in limbo: "+n),t.Eu.add(r),ky(t))}function ky(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(It.fromString(e)),r=t.fu.next();t.Au.set(r,new sN(n)),t.du=t.du.insert(n,r),Z1(t.remoteStore,new ho(Vs(wf(n.path)),r,"TargetPurposeLimboResolution",mf.ce))}}async function xu(t,e,n){const r=ze(t),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const v=y?!y.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(y){o.push(y);const v=my.As(f.targetId,y);a.push(v)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(f,y){const v=ze(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(y,(T=>ie.forEach(T.Es,(N=>v.persistence.referenceDelegate.addReference(b,T.targetId,N))).next((()=>ie.forEach(T.ds,(N=>v.persistence.referenceDelegate.removeReference(b,T.targetId,N)))))))))}catch(b){if(!Yl(b))throw b;we(gy,"Failed to update sequence numbers: "+b)}for(const b of y){const T=b.targetId;if(!b.fromCache){const N=v.Ms.get(T),L=N.snapshotVersion,$=N.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(T,$)}}})(r.localStore,a))}async function gN(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){we(xy,"User change. New user:",e.toKey());const r=await J1(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new ge(ne.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xu(n,r.Ls)}}function yN(t,e){const n=ze(t),r=n.Au.get(e);if(r&&r.hu)return st().add(r.key);{let o=st();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const h=n.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function hC(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hN.bind(null,e),e.Pu.H_=eN.bind(null,e.eventManager),e.Pu.yu=tN.bind(null,e.eventManager),e}function wN(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pN.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return b2(this.persistence,new v2,e.initialUser,this.serializer)}Cu(e){return new K1(py.mi,this.serializer)}Du(e){return new R2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class vN extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){gt(this.persistence.referenceDelegate instanceof Vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new s2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new K1((r=>Vh.mi(r,n)),this.serializer)}}class _g{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gN.bind(null,this.syncEngine),await Y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Z2})()}createDatastore(e){const n=If(e.databaseInfo.databaseId),r=(function(a){return new O2(a)})(e.databaseInfo);return(function(a,u,h,f){return new V2(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,a,u,h){return new $2(r,o,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>K0(this.syncEngine,n,0)),(function(){return B0.v()?new B0:new P2})())}createSyncEngine(e,n){return(function(o,a,u,h,f,y,v){const b=new iN(o,a,u,h,f,y);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ze(n);we(wa,"RemoteStore shutting down."),r.Ea.add(5),await Su(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_g.provider={build:()=>new _g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="FirestoreClient";class _N{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=jn.UNAUTHENTICATED,this.clientId=ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{we(So,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(we(So,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=by(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jm(t,e){t.asyncQueue.verifyOperationInProgress(),we(So,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await J1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Q0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EN(t);we(So,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>H0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>H0(e.remoteStore,o))),t._onlineComponents=e}async function EN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(So,"Using user provided OfflineComponentProvider");try{await jm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Pl("Error using user provided cache. Falling back to memory cache: "+n),await jm(t,new $h)}}else we(So,"Using default OfflineComponentProvider"),await jm(t,new vN(void 0));return t._offlineComponents}async function fC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(So,"Using user provided OnlineComponentProvider"),await Q0(t,t._uninitializedComponentsProvider._online)):(we(So,"Using default OnlineComponentProvider"),await Q0(t,new _g))),t._onlineComponents}function bN(t){return fC(t).then((e=>e.syncEngine))}async function Uh(t){const e=await fC(t),n=e.eventManager;return n.onListen=oN.bind(null,e.syncEngine),n.onUnlisten=cN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uN.bind(null,e.syncEngine),n}function CN(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,y){const v=new Ry({next:T=>{v.Nu(),u.enqueueAndForget((()=>Ty(a,b)));const N=T.docs.has(h);!N&&T.fromCache?y.reject(new ge(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&T.fromCache&&f&&f.source==="server"?y.reject(new ge(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new Sy(wf(h.path),v,{includeMetadataChanges:!0,qa:!0});return Cy(a,b)})(await Uh(t),t.asyncQueue,e,n,r))),r.promise}function TN(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,y){const v=new Ry({next:T=>{v.Nu(),u.enqueueAndForget((()=>Ty(a,b))),T.fromCache&&f.source==="server"?y.reject(new ge(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new Sy(h,v,{includeMetadataChanges:!0,qa:!0});return Cy(a,b)})(await Uh(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="firestore.googleapis.com",X0=!0;class Z0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mC,this.ssl=X0}else this.host=e.host,this.ssl=e.ssl??X0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n2)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new AP;switch(r.type){case"firstParty":return new jP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Y0.get(n);r&&(we("ComponentProvider","Removing Datastore"),Y0.delete(n),r.terminate())})(this),Promise.resolve()}}function IN(t,e,n,r={}){t=cr(t,kf);const o=Ta(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&($g(`https://${h}`),Ug("Firestore",!0)),a.host!==mC&&a.host!==h&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:o,emulatorOptions:r};if(!vi(f,u)&&(t._setSettings(f),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=jn.MOCK_USER;else{y=cb(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new jn(b)}t._authCredentials=new NP(new s1(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ra(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,qt._jsonSchema))return new qt(e,r||null,new xe(It.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:sn("string",qt._jsonSchemaVersion),referencePath:sn("string")};class wo extends Ra{constructor(e,n,r){super(e,n,wf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new xe(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function ur(t,e,...n){if(t=Dt(t),i1("collection","path",e),t instanceof kf){const r=It.fromString(e,...n);return h0(r),new wo(t,null,r)}{if(!(t instanceof qt||t instanceof wo))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return h0(r),new wo(t.firestore,null,r)}}function Ae(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=ny.newId()),i1("doc","path",e),t instanceof kf){const r=It.fromString(e,...n);return d0(r),new qt(t,null,new xe(r))}{if(!(t instanceof qt||t instanceof wo))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return d0(r),new qt(t.firestore,t instanceof wo?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y1(this,"async_queue_retry"),this._c=()=>{const r=Om();r&&we(eE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yl(e))throw e;we(eE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",nE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ey.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Fe(47125,{Pc:nE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Ti extends kf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new tE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function hr(t,e){const n=typeof t=="object"?t:Hg(),r=typeof t=="string"?t:Dh,o=cf(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=ob("firestore");a&&IN(o,...a)}return o}function Rf(t){if(t._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SN(t),t._firestoreClient}function SN(t){const e=t._freezeSettings(),n=(function(o,a,u,h){return new XP(o,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,pC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _N(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ur(xn.fromBase64String(e))}catch(n){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ur(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,Ur._jsonSchema))return Ur.fromBase64String(e.bytes)}}Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:sn("string",Ur._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$s._jsonSchemaVersion}}static fromJSON(e){if(bu(e,$s._jsonSchema))return new $s(e.latitude,e.longitude)}}$s._jsonSchemaVersion="firestore/geoPoint/1.0",$s._jsonSchema={type:sn("string",$s._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Us(e.vectorValues);throw new ge(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Us._jsonSchemaVersion="firestore/vectorValue/1.0",Us._jsonSchema={type:sn("string",Us._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=/^__.*__$/;class kN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}class gC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:t})}}class Af{constructor(e,n,r,o,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Af({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yC(this.Ac)&&xN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||If(e)}Cc(e,n,r,o=!1){return new Af({Ac:e,methodName:n,Dc:r,path:Sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nf(t){const e=t._freezeSettings(),n=If(t._databaseId);return new RN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wC(t,e,n,r,o,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);Oy("Data must be an object, but it was:",u,r);const h=_C(r,u);let f,y;if(a.merge)f=new Ir(u.fieldMask),y=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const b of a.mergeFields){const T=Eg(e,b,n);if(!u.contains(T))throw new ge(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);bC(v,T)||v.push(T)}f=new Ir(v),y=u.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,y=u.fieldTransforms;return new kN(new lr(h),f,y)}class Df extends Pa{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}function vC(t,e,n){return new Af({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Py extends Pa{_toFieldTransform(e){return new bf(e.path,new uu)}isEqual(e){return e instanceof Py}}class Ay extends Pa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=vC(this,e,!0),r=this.vc.map((a=>Aa(a,n))),o=new Ol(r);return new bf(e.path,o)}isEqual(e){return e instanceof Ay&&vi(this.vc,e.vc)}}class Ny extends Pa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=vC(this,e,!0),r=this.vc.map((a=>Aa(a,n))),o=new jl(r);return new bf(e.path,o)}isEqual(e){return e instanceof Ny&&vi(this.vc,e.vc)}}class Dy extends Pa{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new du(e.serializer,P1(e.serializer,this.Fc));return new bf(e.path,n)}isEqual(e){return e instanceof Dy&&this.Fc===e.Fc}}function PN(t,e,n,r){const o=t.Cc(1,e,n);Oy("Data must be an object, but it was:",o,r);const a=[],u=lr.empty();xo(r,((f,y)=>{const v=jy(e,f,n);y=Dt(y);const b=o.yc(v);if(y instanceof Df)a.push(v);else{const T=Aa(y,b);T!=null&&(a.push(v),u.set(v,T))}}));const h=new Ir(a);return new gC(u,h,o.fieldTransforms)}function AN(t,e,n,r,o,a){const u=t.Cc(1,e,n),h=[Eg(e,r,n)],f=[o];if(a.length%2!=0)throw new ge(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(Eg(e,a[T])),f.push(a[T+1]);const y=[],v=lr.empty();for(let T=h.length-1;T>=0;--T)if(!bC(y,h[T])){const N=h[T];let L=f[T];L=Dt(L);const $=u.yc(N);if(L instanceof Df)y.push(N);else{const j=Aa(L,$);j!=null&&(y.push(N),v.set(N,j))}}const b=new Ir(y);return new gC(v,b,u.fieldTransforms)}function NN(t,e,n,r=!1){return Aa(n,t.Cc(r?4:3,e))}function Aa(t,e){if(EC(t=Dt(t)))return Oy("Unsupported field value:",e,t),_C(t,e);if(t instanceof Pa)return(function(r,o){if(!yC(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const h of r){let f=Aa(h,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(r,o){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Nt.fromDate(r);return{timestampValue:Mh(o.serializer,a)}}if(r instanceof Nt){const a=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,a)}}if(r instanceof $s)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:$1(o.serializer,r._byteString)};if(r instanceof qt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Us)return(function(u,h){return{mapValue:{fields:{[p1]:{stringValue:m1},[Oh]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw h.Sc("VectorValues must only contain numeric values.");return ly(h.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${pf(r)}`)})(t,e)}function _C(t,e){const n={};return l1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,((r,o)=>{const a=Aa(o,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function EC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof $s||t instanceof Ur||t instanceof qt||t instanceof Pa||t instanceof Us)}function Oy(t,e,n){if(!EC(n)||!o1(n)){const r=pf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Eg(t,e,n){if((e=Dt(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return jy(t,e);throw Bh("Field path arguments must be of type string or ",t,!1,void 0,n)}const DN=new RegExp("[~\\*/\\[\\]]");function jy(t,e,n){if(e.search(DN)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pf(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bh(t,e,n,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new ge(ne.INVALID_ARGUMENT,h+t+f)}function bC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ON(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ly("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ON extends CC{data(){return super.data()}}function Ly(t,e){return typeof e=="string"?jy(t,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class My{}class jN extends My{}function ku(t,e,...n){let r=[];e instanceof My&&r.push(e),r=r.concat(n),(function(a){const u=a.filter((f=>f instanceof Vy)).length,h=a.filter((f=>f instanceof Of)).length;if(u>1||u>0&&h>0)throw new ge(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Of extends jN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Of(e,n,r)}_apply(e){const n=this._parse(e);return IC(e._query,n),new Ra(e.firestore,e.converter,ug(e._query,n))}_parse(e){const n=Nf(e.firestore);return(function(a,u,h,f,y,v,b){let T;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){iE(b,v);const L=[];for(const $ of b)L.push(sE(f,a,$));T={arrayValue:{values:L}}}else T=sE(f,a,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||iE(b,v),T=NN(h,u,b,v==="in"||v==="not-in");return rn.create(y,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ru(t,e,n){const r=e,o=Ly("where",t);return Of._create(o,r,n)}class Vy extends My{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)IC(u,f),u=ug(u,f)})(e._query,n),new Ra(e.firestore,e.converter,ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sE(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new ge(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C1(e)&&n.indexOf("/")!==-1)throw new ge(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(It.fromString(n));if(!xe.isDocumentKey(r))throw new ge(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _0(t,new xe(r))}if(n instanceof qt)return _0(t,n._key);throw new ge(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(n)}.`)}function iE(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IC(t,e){const n=(function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LN{convertValue(e,n="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xo(e,((o,a)=>{r[o]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Oh].arrayValue?.values?.map((r=>Jt(r.doubleValue)));return new Us(n)}convertGeoPoint(e){return new $s(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const n=bo(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=It.fromString(e);gt(W1(r),9688,{name:e});const o=new lu(r.get(1),r.get(3)),a=new xe(r.popFirst(5));return o.isEqual(n)||bi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends CC{constructor(e,n,r,o,a,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ly("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:sn("string",la._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class ph extends la{data(e={}){return super.data(e)}}class ca{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ph(this._firestore,this._userDataWriter,r.key,r,new Gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const f=new ph(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Gc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new ph(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Gc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return h.type!==0&&(y=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:MN(h.type),doc:f,oldIndex:y,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ny.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){t=cr(t,qt);const e=cr(t.firestore,Ti);return CN(Rf(e),t._key).then((n=>xC(e,t,n)))}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:sn("string",ca._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class Fy extends LN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function hs(t){t=cr(t,Ra);const e=cr(t.firestore,Ti),n=Rf(e),r=new Fy(e);return TC(t._query),TN(n,t._query).then((o=>new ca(e,r,t,o)))}function bg(t,e,n){t=cr(t,qt);const r=cr(t.firestore,Ti),o=SC(t.converter,e,n);return jf(r,[wC(Nf(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,zr.none())])}function ut(t,e,n,...r){t=cr(t,qt);const o=cr(t.firestore,Ti),a=Nf(o);let u;return u=typeof(e=Dt(e))=="string"||e instanceof Pf?AN(a,"updateDoc",t._key,e,n,r):PN(a,"updateDoc",t._key,e),jf(o,[u.toMutation(t._key,zr.exists(!0))])}function $y(t){return jf(cr(t.firestore,Ti),[new cy(t._key,zr.none())])}function Cg(t,e){const n=cr(t.firestore,Ti),r=Ae(t),o=SC(t.converter,e);return jf(n,[wC(Nf(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then((()=>r))}function oE(t,...e){t=Dt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||rE(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(rE(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,u,h;if(t instanceof qt)u=cr(t.firestore,Ti),h=wf(t._key.path),a={next:f=>{e[r]&&e[r](xC(u,t,f))},error:e[r+1],complete:e[r+2]};else{const f=cr(t,Ra);u=cr(f.firestore,Ti),h=f._query;const y=new Fy(u);a={next:v=>{e[r]&&e[r](new ca(u,y,f,v))},error:e[r+1],complete:e[r+2]},TC(t._query)}return(function(y,v,b,T){const N=new Ry(T),L=new Sy(v,N,b);return y.asyncQueue.enqueueAndForget((async()=>Cy(await Uh(y),L))),()=>{N.Nu(),y.asyncQueue.enqueueAndForget((async()=>Ty(await Uh(y),L)))}})(Rf(u),h,o,a)}function jf(t,e){return(function(r,o){const a=new gi;return r.asyncQueue.enqueueAndForget((async()=>dN(await bN(r),o,a))),a.promise})(Rf(t),e)}function xC(t,e,n){const r=n.docs.get(e._key),o=new Fy(t);return new la(t,o,e._key,r,new Gc(n.hasPendingWrites,n.fromCache),e.converter)}function kC(){return new Py("serverTimestamp")}function Lf(...t){return new Ay("arrayUnion",t)}function Vl(...t){return new Ny("arrayRemove",t)}function va(t){return new Dy("increment",t)}(function(e,n=!0){(function(o){Jl=o})(Ia),fa(new _o("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Ti(new DP(r.getProvider("auth-internal")),new LP(u,r.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(y.options.projectId,v)})(u,o),u);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Ls(a0,l0,e),Ls(a0,l0,"esm2020")})();var VN="firebase",FN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(VN,FN,"app");const $N={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},kn=hb($N);hr(kn);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aE="popstate";function UN(t={}){function e(o,a){let{pathname:u="/",search:h="",hash:f=""}=Na(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Tg("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=o.location.href,y=f.indexOf("#");h=y===-1?f:f.slice(0,y)}return h+"#"+(typeof a=="string"?a:hu(a))}function r(o,a){qr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return zN(e,n,r,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BN(){return Math.random().toString(36).substring(2,10)}function lE(t,e){return{usr:t.state,key:t.key,idx:e}}function Tg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:n,key:e&&e.key||r||BN()}}function hu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function zN(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h="POP",f=null,y=v();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function v(){return(u.state||{idx:null}).idx}function b(){h="POP";let j=v(),W=j==null?null:j-y;y=j,f&&f({action:h,location:$.location,delta:W})}function T(j,W){h="PUSH";let M=Tg($.location,j,W);n&&n(M,j),y=v()+1;let z=lE(M,y),J=$.createHref(M);try{u.pushState(z,"",J)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(J)}a&&f&&f({action:h,location:$.location,delta:1})}function N(j,W){h="REPLACE";let M=Tg($.location,j,W);n&&n(M,j),y=v();let z=lE(M,y),J=$.createHref(M);u.replaceState(z,"",J),a&&f&&f({action:h,location:$.location,delta:0})}function L(j){return HN(j)}let $={get action(){return h},get location(){return t(o,u)},listen(j){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(aE,b),f=j,()=>{o.removeEventListener(aE,b),f=null}},createHref(j){return e(o,j)},createURL:L,encodeLocation(j){let W=L(j);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:N,go(j){return u.go(j)}};return $}function HN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:hu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function RC(t,e,n="/"){return qN(t,e,n,!1)}function qN(t,e,n,r){let o=typeof e=="string"?Na(e):e,a=Ii(o.pathname||"/",n);if(a==null)return null;let u=PC(t);WN(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let y=rD(a);h=tD(u[f],y,r)}return h}function PC(t,e=[],n=[],r="",o=!1){let a=(u,h,f=o,y)=>{let v={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;Vt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let b=yi([r,v.relativePath]),T=n.concat(v);u.children&&u.children.length>0&&(Vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),PC(u.children,e,T,b,f)),!(u.path==null&&!u.index)&&e.push({path:b,score:ZN(b,u.index),routesMeta:T})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))a(u,h);else for(let f of AC(u.path))a(u,h,!0,f)}),e}function AC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=AC(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function WN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var GN=/^:[\w-]+$/,KN=3,JN=2,QN=1,YN=10,XN=-2,cE=t=>t==="*";function ZN(t,e){let n=t.split("/"),r=n.length;return n.some(cE)&&(r+=XN),e&&(r+=JN),n.filter(o=>!cE(o)).reduce((o,a)=>o+(GN.test(a)?KN:a===""?QN:YN),r)}function eD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function tD(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],y=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",b=zh({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},v),T=f.route;if(!b&&y&&n&&!r[r.length-1].route.index&&(b=zh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:yi([a,b.pathname]),pathnameBase:aD(yi([a,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(a=yi([a,b.pathnameBase]))}return u}function zh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nD(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((y,{paramName:v,isOptional:b},T)=>{if(v==="*"){let L=h[T]||"";u=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const N=h[T];return b&&!N?y[v]=void 0:y[v]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:u,pattern:t}}function nD(t,e=!1,n=!0){qr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function rD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ii(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sD(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Na(t):t;return{pathname:n?n.startsWith("/")?n:iD(n,e):e,search:lD(r),hash:cD(o)}}function iD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Lm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Uy(t){let e=oD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function By(t,e,n,r=!1){let o;typeof t=="string"?o=Na(t):(o={...t},Vt(!o.pathname||!o.pathname.includes("?"),Lm("?","pathname","search",o)),Vt(!o.pathname||!o.pathname.includes("#"),Lm("#","pathname","hash",o)),Vt(!o.search||!o.search.includes("#"),Lm("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),b-=1;o.pathname=T.join("/")}h=b>=0?e[b]:"/"}let f=sD(o,h),y=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(y||v)&&(f.pathname+="/"),f}var yi=t=>t.join("/").replace(/\/\/+/g,"/"),aD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var NC=["POST","PUT","PATCH","DELETE"];new Set(NC);var dD=["GET",...NC];new Set(dD);var Zl=C.createContext(null);Zl.displayName="DataRouter";var Mf=C.createContext(null);Mf.displayName="DataRouterState";C.createContext(!1);var DC=C.createContext({isTransitioning:!1});DC.displayName="ViewTransition";var hD=C.createContext(new Map);hD.displayName="Fetchers";var fD=C.createContext(null);fD.displayName="Await";var ps=C.createContext(null);ps.displayName="Navigation";var Pu=C.createContext(null);Pu.displayName="Location";var ms=C.createContext({outlet:null,matches:[],isDataRoute:!1});ms.displayName="Route";var zy=C.createContext(null);zy.displayName="RouteError";function pD(t,{relative:e}={}){Vt(ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(ps),{hash:o,pathname:a,search:u}=Au(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:yi([n,a])),r.createHref({pathname:h,search:u,hash:o})}function ec(){return C.useContext(Pu)!=null}function Ro(){return Vt(ec(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Pu).location}var OC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jC(t){C.useContext(ps).static||C.useLayoutEffect(t)}function Hy(){let{isDataRoute:t}=C.useContext(ms);return t?kD():mD()}function mD(){Vt(ec(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Zl),{basename:e,navigator:n}=C.useContext(ps),{matches:r}=C.useContext(ms),{pathname:o}=Ro(),a=JSON.stringify(Uy(r)),u=C.useRef(!1);return jC(()=>{u.current=!0}),C.useCallback((f,y={})=>{if(qr(u.current,OC),!u.current)return;if(typeof f=="number"){n.go(f);return}let v=By(f,JSON.parse(a),o,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:yi([e,v.pathname])),(y.replace?n.replace:n.push)(v,y.state,y)},[e,n,a,o,t])}C.createContext(null);function gD(){let{matches:t}=C.useContext(ms),e=t[t.length-1];return e?e.params:{}}function Au(t,{relative:e}={}){let{matches:n}=C.useContext(ms),{pathname:r}=Ro(),o=JSON.stringify(Uy(n));return C.useMemo(()=>By(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function yD(t,e){return LC(t,e)}function LC(t,e,n,r,o){Vt(ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=C.useContext(ps),{matches:u}=C.useContext(ms),h=u[u.length-1],f=h?h.params:{},y=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let M=b&&b.path||"";MC(y,!b||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let T=Ro(),N;if(e){let M=typeof e=="string"?Na(e):e;Vt(v==="/"||M.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),N=M}else N=T;let L=N.pathname||"/",$=L;if(v!=="/"){let M=v.replace(/^\//,"").split("/");$="/"+L.replace(/^\//,"").split("/").slice(M.length).join("/")}let j=RC(t,{pathname:$});qr(b||j!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),qr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=bD(j&&j.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:yi([v,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:yi([v,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),u,n,r,o);return e&&W?C.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},W):W}function wD(){let t=xD(),e=uD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:o},n):null,u)}var vD=C.createElement(wD,null),_D=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(ms.Provider,{value:this.props.routeContext},C.createElement(zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ED({routeContext:t,match:e,children:n}){let r=C.useContext(Zl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ms.Provider,{value:t},n)}function bD(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n?.errors;if(u!=null){let y=a.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Vt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let h=!1,f=-1;if(n)for(let y=0;y<a.length;y++){let v=a[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=y),v.route.id){let{loaderData:b,errors:T}=n,N=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||N){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((y,v,b)=>{let T,N=!1,L=null,$=null;n&&(T=u&&v.route.id?u[v.route.id]:void 0,L=v.route.errorElement||vD,h&&(f<0&&b===0?(MC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,$=null):f===b&&(N=!0,$=v.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,b+1)),W=()=>{let M;return T?M=L:N?M=$:v.route.Component?M=C.createElement(v.route.Component,null):v.route.element?M=v.route.element:M=y,C.createElement(ED,{match:v,routeContext:{outlet:y,matches:j,isDataRoute:n!=null},children:M})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?C.createElement(_D,{location:n.location,revalidation:n.revalidation,component:L,error:T,children:W(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):W()},null)}function qy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CD(t){let e=C.useContext(Zl);return Vt(e,qy(t)),e}function TD(t){let e=C.useContext(Mf);return Vt(e,qy(t)),e}function ID(t){let e=C.useContext(ms);return Vt(e,qy(t)),e}function Wy(t){let e=ID(t),n=e.matches[e.matches.length-1];return Vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function SD(){return Wy("useRouteId")}function xD(){let t=C.useContext(zy),e=TD("useRouteError"),n=Wy("useRouteError");return t!==void 0?t:e.errors?.[n]}function kD(){let{router:t}=CD("useNavigate"),e=Wy("useNavigate"),n=C.useRef(!1);return jC(()=>{n.current=!0}),C.useCallback(async(o,a={})=>{qr(n.current,OC),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var uE={};function MC(t,e,n){!e&&!uE[t]&&(uE[t]=!0,qr(!1,n))}C.memo(RD);function RD({routes:t,future:e,state:n,unstable_onError:r}){return LC(t,void 0,n,r,e)}function yl({to:t,replace:e,state:n,relative:r}){Vt(ec(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(ps);qr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(ms),{pathname:u}=Ro(),h=Hy(),f=By(t,Uy(a),u,r==="path"),y=JSON.stringify(f);return C.useEffect(()=>{h(JSON.parse(y),{replace:e,state:n,relative:r})},[h,y,r,e,n]),null}function ro(t){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){Vt(!ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=Na(n));let{pathname:f="/",search:y="",hash:v="",state:b=null,key:T="default"}=n,N=C.useMemo(()=>{let L=Ii(f,u);return L==null?null:{location:{pathname:L,search:y,hash:v,state:b,key:T},navigationType:r}},[u,f,y,v,b,T,r]);return qr(N!=null,`<Router basename="${u}"> is not able to match the URL "${f}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:C.createElement(ps.Provider,{value:h},C.createElement(Pu.Provider,{children:e,value:N}))}function AD({children:t,location:e}){return yD(Ig(t),e)}function Ig(t,e=[]){let n=[];return C.Children.forEach(t,(r,o)=>{if(!C.isValidElement(r))return;let a=[...e,o];if(r.type===C.Fragment){n.push.apply(n,Ig(r.props.children,a));return}Vt(r.type===ro,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Ig(r.props.children,a)),n.push(u)}),n}var mh="get",gh="application/x-www-form-urlencoded";function Vf(t){return t!=null&&typeof t.tagName=="string"}function ND(t){return Vf(t)&&t.tagName.toLowerCase()==="button"}function DD(t){return Vf(t)&&t.tagName.toLowerCase()==="form"}function OD(t){return Vf(t)&&t.tagName.toLowerCase()==="input"}function jD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LD(t,e){return t.button===0&&(!e||e==="_self")&&!jD(t)}var Xd=null;function MD(){if(Xd===null)try{new FormData(document.createElement("form"),0),Xd=!1}catch{Xd=!0}return Xd}var VD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(t){return t!=null&&!VD.has(t)?(qr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):t}function FD(t,e){let n,r,o,a,u;if(DD(t)){let h=t.getAttribute("action");r=h?Ii(h,e):null,n=t.getAttribute("method")||mh,o=Mm(t.getAttribute("enctype"))||gh,a=new FormData(t)}else if(ND(t)||OD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ii(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||mh,o=Mm(t.getAttribute("formenctype"))||Mm(h.getAttribute("enctype"))||gh,a=new FormData(h,t),!MD()){let{name:y,type:v,value:b}=t;if(v==="image"){let T=y?`${y}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else y&&a.append(y,b)}}else{if(Vf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,r=null,o=gh,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $D(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ii(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function UD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zD(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await UD(a,n);return u.links?u.links():[]}return[]}));return GD(r.flat(1).filter(BD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dE(t,e,n,r,o,a){let u=(f,y)=>n[y]?f.route.id!==n[y].route.id:!0,h=(f,y)=>n[y].pathname!==f.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,y)=>u(f,y)||h(f,y)):a==="data"?e.filter((f,y)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,y)||h(f,y))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function HD(t,e,{includeHydrateFallback:n}={}){return qD(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function qD(t){return[...new Set(t)]}function WD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function GD(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(WD(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function VC(){let t=C.useContext(Zl);return Gy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function KD(){let t=C.useContext(Mf);return Gy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ky=C.createContext(void 0);Ky.displayName="FrameworkContext";function FC(){let t=C.useContext(Ky);return Gy(t,"You must render this element inside a <HydratedRouter> element"),t}function JD(t,e){let n=C.useContext(Ky),[r,o]=C.useState(!1),[a,u]=C.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:y,onMouseLeave:v,onTouchStart:b}=e,T=C.useRef(null);C.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let $=W=>{W.forEach(M=>{u(M.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return T.current&&j.observe(T.current),()=>{j.disconnect()}}},[t]),C.useEffect(()=>{if(r){let $=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout($)}}},[r]);let N=()=>{o(!0)},L=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,T,{}]:[a,T,{onFocus:Fc(h,N),onBlur:Fc(f,L),onMouseEnter:Fc(y,N),onMouseLeave:Fc(v,L),onTouchStart:Fc(b,N)}]:[!1,T,{}]}function Fc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QD({page:t,...e}){let{router:n}=VC(),r=C.useMemo(()=>RC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(XD,{page:t,matches:r,...e}):null}function YD(t){let{manifest:e,routeModules:n}=FC(),[r,o]=C.useState([]);return C.useEffect(()=>{let a=!1;return zD(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),r}function XD({page:t,matches:e,...n}){let r=Ro(),{manifest:o,routeModules:a}=FC(),{basename:u}=VC(),{loaderData:h,matches:f}=KD(),y=C.useMemo(()=>dE(t,e,f,o,r,"data"),[t,e,f,o,r]),v=C.useMemo(()=>dE(t,e,f,o,r,"assets"),[t,e,f,o,r]),b=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let L=new Set,$=!1;if(e.forEach(W=>{let M=o.routes[W.route.id];!M||!M.hasLoader||(!y.some(z=>z.route.id===W.route.id)&&W.route.id in h&&a[W.route.id]?.shouldRevalidate||M.hasClientLoader?$=!0:L.add(W.route.id))}),L.size===0)return[];let j=$D(t,u,"data");return $&&L.size>0&&j.searchParams.set("_routes",e.filter(W=>L.has(W.route.id)).map(W=>W.route.id).join(",")),[j.pathname+j.search]},[u,h,r,o,y,e,t,a]),T=C.useMemo(()=>HD(v,o),[v,o]),N=YD(v);return C.createElement(C.Fragment,null,b.map(L=>C.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),T.map(L=>C.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),N.map(({key:L,link:$})=>C.createElement("link",{key:L,nonce:n.nonce,...$})))}function ZD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$C&&(window.__reactRouterVersion="7.8.2")}catch{}function eO({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=UN({window:n,v5Compat:!0}));let o=r.current,[a,u]=C.useState({action:o.action,location:o.location}),h=C.useCallback(f=>{C.startTransition(()=>u(f))},[u]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.createElement(PD,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var UC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:y,preventScrollReset:v,viewTransition:b,...T},N){let{basename:L}=C.useContext(ps),$=typeof y=="string"&&UC.test(y),j,W=!1;if(typeof y=="string"&&$&&(j=y,$C))try{let k=new URL(window.location.href),P=y.startsWith("//")?new URL(k.protocol+y):new URL(y),O=Ii(P.pathname,L);P.origin===k.origin&&O!=null?y=O+P.search+P.hash:W=!0}catch{qr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=pD(y,{relative:o}),[z,J,se]=JD(r,T),K=sO(y,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:b});function S(k){e&&e(k),k.defaultPrevented||K(k)}let I=C.createElement("a",{...T,...se,href:j||M,onClick:W||a?e:S,ref:ZD(N,J),target:f,"data-discover":!$&&n==="render"?"true":void 0});return z&&!$?C.createElement(C.Fragment,null,I,C.createElement(QD,{page:M})):I});ft.displayName="Link";var tO=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...y},v){let b=Au(u,{relative:y.relative}),T=Ro(),N=C.useContext(Mf),{navigator:L,basename:$}=C.useContext(ps),j=N!=null&&cO(b)&&h===!0,W=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,M=T.pathname,z=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(M=M.toLowerCase(),z=z?z.toLowerCase():null,W=W.toLowerCase()),z&&$&&(z=Ii(z,$)||z);const J=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let se=M===W||!o&&M.startsWith(W)&&M.charAt(J)==="/",K=z!=null&&(z===W||!o&&z.startsWith(W)&&z.charAt(W.length)==="/"),S={isActive:se,isPending:K,isTransitioning:j},I=se?e:void 0,k;typeof r=="function"?k=r(S):k=[r,se?"active":null,K?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(S):a;return C.createElement(ft,{...y,"aria-current":I,className:k,ref:v,style:P,to:u,viewTransition:h},typeof f=="function"?f(S):f)});tO.displayName="NavLink";var nO=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:u=mh,action:h,onSubmit:f,relative:y,preventScrollReset:v,viewTransition:b,...T},N)=>{let L=aO(),$=lO(h,{relative:y}),j=u.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&UC.test(h),M=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let J=z.nativeEvent.submitter,se=J?.getAttribute("formmethod")||u;L(J||z.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:a,relative:y,preventScrollReset:v,viewTransition:b})};return C.createElement("form",{ref:N,method:j,action:$,onSubmit:r?f:M,...T,"data-discover":!W&&t==="render"?"true":void 0})});nO.displayName="Form";function rO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BC(t){let e=C.useContext(Zl);return Vt(e,rO(t)),e}function sO(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=Hy(),f=Ro(),y=Au(t,{relative:a});return C.useCallback(v=>{if(LD(v,e)){v.preventDefault();let b=n!==void 0?n:hu(f)===hu(y);h(t,{replace:b,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,y,n,r,e,t,o,a,u])}var iO=0,oO=()=>`__${String(++iO)}__`;function aO(){let{router:t}=BC("useSubmit"),{basename:e}=C.useContext(ps),n=SD();return C.useCallback(async(r,o={})=>{let{action:a,method:u,encType:h,formData:f,body:y}=FD(r,e);if(o.navigate===!1){let v=o.fetcherKey||oO();await t.fetch(v,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function lO(t,{relative:e}={}){let{basename:n}=C.useContext(ps),r=C.useContext(ms);Vt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Au(t||".",{relative:e})},u=Ro();if(t==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:yi([n,a.pathname])),hu(a)}function cO(t,{relative:e}={}){let n=C.useContext(DC);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BC("useViewTransitionState"),o=Au(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ii(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ii(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zh(o.pathname,u)!=null||zh(o.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function zC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function uO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hE(t,e){return t.get(zC(t,e))}function dO(t,e,n){uO(t,e),e.set(t,n)}function hO(t,e,n){return t.set(zC(t,e),n),n}const fO=100,Ne={},pO=()=>{Ne.previousActiveElement instanceof HTMLElement?(Ne.previousActiveElement.focus(),Ne.previousActiveElement=null):document.body&&document.body.focus()},mO=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;Ne.restoreFocusTimeout=setTimeout(()=>{pO(),e()},fO),window.scrollTo(n,r)}),HC="swal2-",gO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],ee=gO.reduce((t,e)=>(t[e]=HC+e,t),{}),yO=["success","warning","info","question","error"],Hh=yO.reduce((t,e)=>(t[e]=HC+e,t),{}),qC="SweetAlert2:",Jy=t=>t.charAt(0).toUpperCase()+t.slice(1),Kn=t=>{console.warn(`${qC} ${typeof t=="object"?t.join(" "):t}`)},Da=t=>{console.error(`${qC} ${t}`)},fE=[],wO=t=>{fE.includes(t)||(fE.push(t),Kn(t))},WC=(t,e=null)=>{wO(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Ff=t=>typeof t=="function"?t():t,Qy=t=>t&&typeof t.toPromise=="function",Nu=t=>Qy(t)?t.toPromise():Promise.resolve(t),Yy=t=>t&&Promise.resolve(t)===t,Jn=()=>document.body.querySelector(`.${ee.container}`),Du=t=>{const e=Jn();return e?e.querySelector(t):null},xr=t=>Du(`.${t}`),ht=()=>xr(ee.popup),tc=()=>xr(ee.icon),vO=()=>xr(ee["icon-content"]),GC=()=>xr(ee.title),Xy=()=>xr(ee["html-container"]),KC=()=>xr(ee.image),Zy=()=>xr(ee["progress-steps"]),$f=()=>xr(ee["validation-message"]),zs=()=>Du(`.${ee.actions} .${ee.confirm}`),nc=()=>Du(`.${ee.actions} .${ee.cancel}`),Oa=()=>Du(`.${ee.actions} .${ee.deny}`),_O=()=>xr(ee["input-label"]),rc=()=>Du(`.${ee.loader}`),Ou=()=>xr(ee.actions),JC=()=>xr(ee.footer),Uf=()=>xr(ee["timer-progress-bar"]),ew=()=>xr(ee.close),EO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,tw=()=>{const t=ht();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,u)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(u.getAttribute("tabindex")||"0");return h>f?1:h<f?-1:0}),r=t.querySelectorAll(EO),o=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>dr(a))},nw=()=>wi(document.body,ee.shown)&&!wi(document.body,ee["toast-shown"])&&!wi(document.body,ee["no-backdrop"]),Bf=()=>{const t=ht();return t?wi(t,ee.toast):!1},bO=()=>{const t=ht();return t?t.hasAttribute("data-loading"):!1},kr=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(u=>{t.appendChild(u)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?t.appendChild(u.cloneNode(!0)):t.appendChild(u)})}},wi=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},CO=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(ee).includes(n)&&!Object.values(Hh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Sr=(t,e,n)=>{if(CO(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Kn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}pt(t,r)}},zf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${ee.popup} > .${ee[e]}`);case"checkbox":return t.querySelector(`.${ee.popup} > .${ee.checkbox} input`);case"radio":return t.querySelector(`.${ee.popup} > .${ee.radio} input:checked`)||t.querySelector(`.${ee.popup} > .${ee.radio} input:first-child`);case"range":return t.querySelector(`.${ee.popup} > .${ee.range} input`);default:return t.querySelector(`.${ee.popup} > .${ee.input}`)}},QC=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},YC=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(r):o.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},pt=(t,e)=>{YC(t,e,!0)},Wr=(t,e)=>{YC(t,e,!1)},fo=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const o=n[r];if(o instanceof HTMLElement&&wi(o,e))return o}},ua=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},vn=(t,e="flex")=>{t&&(t.style.display=e)},Fn=t=>{t&&(t.style.display="none")},rw=(t,e="block")=>{t&&new MutationObserver(()=>{ju(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},pE=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},ju=(t,e,n="flex")=>{e?vn(t,n):Fn(t)},dr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),TO=()=>!dr(zs())&&!dr(Oa())&&!dr(nc()),Sg=t=>t.scrollHeight>t.clientHeight,IO=(t,e)=>{let n=t;for(;n&&n!==e;){if(Sg(n))return!0;n=n.parentElement}return!1},XC=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},sw=(t,e=!1)=>{const n=Uf();n&&dr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},SO=()=>{const t=Uf();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},xO=()=>typeof window>"u"||typeof document>"u",kO=`
 <div aria-labelledby="${ee.title}" aria-describedby="${ee["html-container"]}" class="${ee.popup}" tabindex="-1">
   <button type="button" class="${ee.close}"></button>
   <ul class="${ee["progress-steps"]}"></ul>
   <div class="${ee.icon}"></div>
   <img class="${ee.image}" />
   <h2 class="${ee.title}" id="${ee.title}"></h2>
   <div class="${ee["html-container"]}" id="${ee["html-container"]}"></div>
   <input class="${ee.input}" id="${ee.input}" />
   <input type="file" class="${ee.file}" />
   <div class="${ee.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${ee.select}" id="${ee.select}"></select>
   <div class="${ee.radio}"></div>
   <label class="${ee.checkbox}">
     <input type="checkbox" id="${ee.checkbox}" />
     <span class="${ee.label}"></span>
   </label>
   <textarea class="${ee.textarea}" id="${ee.textarea}"></textarea>
   <div class="${ee["validation-message"]}" id="${ee["validation-message"]}"></div>
   <div class="${ee.actions}">
     <div class="${ee.loader}"></div>
     <button type="button" class="${ee.confirm}"></button>
     <button type="button" class="${ee.deny}"></button>
     <button type="button" class="${ee.cancel}"></button>
   </div>
   <div class="${ee.footer}"></div>
   <div class="${ee["timer-progress-bar-container"]}">
     <div class="${ee["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),RO=()=>{const t=Jn();return t?(t.remove(),Wr([document.documentElement,document.body],[ee["no-backdrop"],ee["toast-shown"],ee["has-column"]]),!0):!1},ra=()=>{Ne.currentInstance.resetValidationMessage()},PO=()=>{const t=ht(),e=fo(t,ee.input),n=fo(t,ee.file),r=t.querySelector(`.${ee.range} input`),o=t.querySelector(`.${ee.range} output`),a=fo(t,ee.select),u=t.querySelector(`.${ee.checkbox} input`),h=fo(t,ee.textarea);e.oninput=ra,n.onchange=ra,a.onchange=ra,u.onchange=ra,h.oninput=ra,r.oninput=()=>{ra(),o.value=r.value},r.onchange=()=>{ra(),o.value=r.value}},AO=t=>typeof t=="string"?document.querySelector(t):t,NO=t=>{const e=ht();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},DO=t=>{window.getComputedStyle(t).direction==="rtl"&&pt(Jn(),ee.rtl)},OO=t=>{const e=RO();if(xO()){Da("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=ee.container,e&&pt(n,ee["no-transition"]),kr(n,kO),n.dataset.swal2Theme=t.theme;const r=AO(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),NO(t),DO(r),PO()},iw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?jO(t,e):t&&kr(e,t)},jO=(t,e)=>{t.jquery?LO(e,t):kr(e,t.toString())},LO=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},MO=(t,e)=>{const n=Ou(),r=rc();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Fn(n):vn(n),Sr(n,e,"actions"),VO(n,r,e),kr(r,e.loaderHtml||""),Sr(r,e,"loader"))};function VO(t,e,n){const r=zs(),o=Oa(),a=nc();!r||!o||!a||(Fm(r,"confirm",n),Fm(o,"deny",n),Fm(a,"cancel",n),FO(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}function FO(t,e,n,r){if(!r.buttonsStyling){Wr([t,e,n],ee.styled);return}pt([t,e,n],ee.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Vm(t),Vm(e),Vm(n)}function Vm(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Fm(t,e,n){const r=Jy(e);ju(t,n[`show${r}Button`],"inline-block"),kr(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=ee[e],Sr(t,n,`${e}Button`)}const $O=(t,e)=>{const n=ew();n&&(kr(n,e.closeButtonHtml||""),Sr(n,e,"closeButton"),ju(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},UO=(t,e)=>{const n=Jn();n&&(BO(n,e.backdrop),zO(n,e.position),HO(n,e.grow),Sr(n,e,"container"))};function BO(t,e){typeof e=="string"?t.style.background=e:e||pt([document.documentElement,document.body],ee["no-backdrop"])}function zO(t,e){e&&(e in ee?pt(t,ee[e]):(Kn('The "position" parameter is not valid, defaulting to "center"'),pt(t,ee.center)))}function HO(t,e){e&&pt(t,ee[`grow-${e}`])}var xt={innerParams:new WeakMap,domCache:new WeakMap};const qO=["input","file","range","select","radio","checkbox","textarea"],WO=(t,e)=>{const n=ht();if(!n)return;const r=xt.innerParams.get(t),o=!r||e.input!==r.input;qO.forEach(a=>{const u=fo(n,ee[a]);u&&(JO(a,e.inputAttributes),u.className=ee[a],o&&Fn(u))}),e.input&&(o&&GO(e),QO(e))},GO=t=>{if(!t.input)return;if(!Kt[t.input]){Da(`Unexpected type of input! Expected ${Object.keys(Kt).join(" | ")}, got "${t.input}"`);return}const e=ZC(t.input);if(!e)return;const n=Kt[t.input](e,t);vn(e),t.inputAutoFocus&&setTimeout(()=>{QC(n)})},KO=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},JO=(t,e)=>{const n=ht();if(!n)return;const r=zf(n,t);if(r){KO(r);for(const o in e)r.setAttribute(o,e[o])}},QO=t=>{if(!t.input)return;const e=ZC(t.input);e&&Sr(e,t,"input")},ow=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Lu=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=ee["input-label"];r.setAttribute("for",t.id),r.className=o,typeof n.customClass=="object"&&pt(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},ZC=t=>{const e=ht();if(e)return fo(e,ee[t]||ee.input)},qh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Yy(e)||Kn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Kt={};Kt.text=Kt.email=Kt.password=Kt.number=Kt.tel=Kt.url=Kt.search=Kt.date=Kt["datetime-local"]=Kt.time=Kt.week=Kt.month=(t,e)=>(qh(t,e.inputValue),Lu(t,t,e),ow(t,e),t.type=e.input,t);Kt.file=(t,e)=>(Lu(t,t,e),ow(t,e),t);Kt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return qh(n,e.inputValue),n.type=e.input,qh(r,e.inputValue),Lu(n,t,e),t};Kt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");kr(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Lu(t,t,e),t};Kt.radio=t=>(t.textContent="",t);Kt.checkbox=(t,e)=>{const n=zf(ht(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return kr(r,e.inputPlaceholder||e.inputLabel),n};Kt.textarea=(t,e)=>{qh(t,e.inputValue),ow(t,e),Lu(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(ht()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?ht().style.width=`${a}px`:ua(ht(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const YO=(t,e)=>{const n=Xy();n&&(rw(n),Sr(n,e,"htmlContainer"),e.html?(iw(e.html,n),vn(n,"block")):e.text?(n.textContent=e.text,vn(n,"block")):Fn(n),WO(t,e))},XO=(t,e)=>{const n=JC();n&&(rw(n),ju(n,e.footer,"block"),e.footer&&iw(e.footer,n),Sr(n,e,"footer"))},ZO=(t,e)=>{const n=xt.innerParams.get(t),r=tc();if(!r)return;if(n&&e.icon===n.icon){gE(r,e),mE(r,e);return}if(!e.icon&&!e.iconHtml){Fn(r);return}if(e.icon&&Object.keys(Hh).indexOf(e.icon)===-1){Da(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Fn(r);return}vn(r),gE(r,e),mE(r,e),pt(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",eT)},mE=(t,e)=>{for(const[n,r]of Object.entries(Hh))e.icon!==n&&Wr(t,r);pt(t,e.icon&&Hh[e.icon]),nj(t,e),eT(),Sr(t,e,"icon")},eT=()=>{const t=ht();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},ej=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,tj=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,gE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=yE(e.iconHtml):e.icon==="success"?(r=ej(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=tj:e.icon&&(r=yE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&kr(t,r)},nj=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])pE(t,n,"background-color",e.iconColor);pE(t,".swal2-success-ring","border-color",e.iconColor)}},yE=t=>`<div class="${ee["icon-content"]}">${t}</div>`,rj=(t,e)=>{const n=KC();if(n){if(!e.imageUrl){Fn(n);return}vn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),ua(n,"width",e.imageWidth),ua(n,"height",e.imageHeight),n.className=ee.image,Sr(n,e,"image")}};let aw=!1,tT=0,nT=0,rT=0,sT=0;const sj=t=>{t.addEventListener("mousedown",Wh),document.body.addEventListener("mousemove",Gh),t.addEventListener("mouseup",Kh),t.addEventListener("touchstart",Wh),document.body.addEventListener("touchmove",Gh),t.addEventListener("touchend",Kh)},ij=t=>{t.removeEventListener("mousedown",Wh),document.body.removeEventListener("mousemove",Gh),t.removeEventListener("mouseup",Kh),t.removeEventListener("touchstart",Wh),document.body.removeEventListener("touchmove",Gh),t.removeEventListener("touchend",Kh)},Wh=t=>{const e=ht();if(t.target===e||tc().contains(t.target)){aw=!0;const n=iT(t);tT=n.clientX,nT=n.clientY,rT=parseInt(e.style.insetInlineStart)||0,sT=parseInt(e.style.insetBlockStart)||0,pt(e,"swal2-dragging")}},Gh=t=>{const e=ht();if(aw){let{clientX:n,clientY:r}=iT(t);e.style.insetInlineStart=`${rT+(n-tT)}px`,e.style.insetBlockStart=`${sT+(r-nT)}px`}},Kh=()=>{const t=ht();aw=!1,Wr(t,"swal2-dragging")},iT=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},oj=(t,e)=>{const n=Jn(),r=ht();if(!(!n||!r)){if(e.toast){ua(n,"width",e.width),r.style.width="100%";const o=rc();o&&r.insertBefore(o,tc())}else ua(r,"width",e.width);ua(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Fn($f()),aj(r,e),e.draggable&&!e.toast?(pt(r,ee.draggable),sj(r)):(Wr(r,ee.draggable),ij(r))}},aj=(t,e)=>{const n=e.showClass||{};t.className=`${ee.popup} ${dr(t)?n.popup:""}`,e.toast?(pt([document.documentElement,document.body],ee["toast-shown"]),pt(t,ee.toast)):pt(t,ee.modal),Sr(t,e,"popup"),typeof e.customClass=="string"&&pt(t,e.customClass),e.icon&&pt(t,ee[`icon-${e.icon}`])},lj=(t,e)=>{const n=Zy();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){Fn(n);return}vn(n),n.textContent="",o>=r.length&&Kn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,u)=>{const h=cj(a);if(n.appendChild(h),u===o&&pt(h,ee["active-progress-step"]),u!==r.length-1){const f=uj(e);n.appendChild(f)}})},cj=t=>{const e=document.createElement("li");return pt(e,ee["progress-step"]),kr(e,t),e},uj=t=>{const e=document.createElement("li");return pt(e,ee["progress-step-line"]),t.progressStepsDistance&&ua(e,"width",t.progressStepsDistance),e},dj=(t,e)=>{const n=GC();n&&(rw(n),ju(n,e.title||e.titleText,"block"),e.title&&iw(e.title,n),e.titleText&&(n.innerText=e.titleText),Sr(n,e,"title"))},oT=(t,e)=>{oj(t,e),UO(t,e),lj(t,e),ZO(t,e),rj(t,e),dj(t,e),$O(t,e),YO(t,e),MO(t,e),XO(t,e);const n=ht();typeof e.didRender=="function"&&n&&e.didRender(n),Ne.eventEmitter.emit("didRender",n)},hj=()=>dr(ht()),aT=()=>{var t;return(t=zs())===null||t===void 0?void 0:t.click()},fj=()=>{var t;return(t=Oa())===null||t===void 0?void 0:t.click()},pj=()=>{var t;return(t=nc())===null||t===void 0?void 0:t.click()},sc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),lT=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},mj=(t,e,n)=>{lT(t),e.toast||(t.keydownHandler=r=>yj(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:ht(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},xg=(t,e)=>{var n;const r=tw();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=ht())===null||n===void 0||n.focus()},cT=["ArrowRight","ArrowDown"],gj=["ArrowLeft","ArrowUp"],yj=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?wj(e,t):e.key==="Tab"?vj(e):[...cT,...gj].includes(e.key)?_j(e.key):e.key==="Escape"&&Ej(e,t,n)))},wj=(t,e)=>{if(!Ff(e.allowEnterKey))return;const n=zf(ht(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;aT(),t.preventDefault()}},vj=t=>{const e=t.target,n=tw();let r=-1;for(let o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?xg(r,-1):xg(r,1),t.stopPropagation(),t.preventDefault()},_j=t=>{const e=Ou(),n=zs(),r=Oa(),o=nc();if(!e||!n||!r||!o)return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const u=cT.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let f=0;f<e.children.length;f++){if(h=h[u],!h)return;if(h instanceof HTMLButtonElement&&dr(h))break}h instanceof HTMLButtonElement&&h.focus()}},Ej=(t,e,n)=>{t.preventDefault(),Ff(e.allowEscapeKey)&&n(sc.esc)};var Fl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const bj=()=>{const t=Jn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},uT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},dT=typeof window<"u"&&!!window.GestureEvent,Cj=()=>{if(dT&&!wi(document.body,ee.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,pt(document.body,ee.iosfix),Tj()}},Tj=()=>{const t=Jn();if(!t)return;let e;t.ontouchstart=n=>{e=Ij(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},Ij=t=>{const e=t.target,n=Jn(),r=Xy();return!n||!r||Sj(t)||xj(t)?!1:e===n||!Sg(n)&&e instanceof HTMLElement&&!IO(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Sg(r)&&r.contains(e))},Sj=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",xj=t=>t.touches&&t.touches.length>1,kj=()=>{if(wi(document.body,ee.iosfix)){const t=parseInt(document.body.style.top,10);Wr(document.body,ee.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},Rj=()=>{const t=document.createElement("div");t.className=ee["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let kl=null;const Pj=t=>{kl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(kl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${kl+Rj()}px`)},Aj=()=>{kl!==null&&(document.body.style.paddingRight=`${kl}px`,kl=null)};function hT(t,e,n,r){Bf()?wE(t,r):(mO(n).then(()=>wE(t,r)),lT(Ne)),dT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),nw()&&(Aj(),kj(),uT()),Nj()}function Nj(){Wr([document.documentElement,document.body],[ee.shown,ee["height-auto"],ee["no-backdrop"],ee["toast-shown"]])}function po(t){t=Oj(t);const e=Fl.swalPromiseResolve.get(this),n=Dj(this);this.isAwaitingPromise?t.isDismissed||(Mu(this),e(t)):n&&e(t)}const Dj=t=>{const e=ht();if(!e)return!1;const n=xt.innerParams.get(t);if(!n||wi(e,n.hideClass.popup))return!1;Wr(e,n.showClass.popup),pt(e,n.hideClass.popup);const r=Jn();return Wr(r,n.showClass.backdrop),pt(r,n.hideClass.backdrop),jj(t,e,n),!0};function fT(t){const e=Fl.swalPromiseReject.get(this);Mu(this),e&&e(t)}const Mu=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,xt.innerParams.get(t)||t._destroy())},Oj=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),jj=(t,e,n)=>{var r;const o=Jn(),a=XC(e);typeof n.willClose=="function"&&n.willClose(e),(r=Ne.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?Lj(t,e,o,n.returnFocus,n.didClose):hT(t,o,n.returnFocus,n.didClose)},Lj=(t,e,n,r,o)=>{Ne.swalCloseEventFinishedCallback=hT.bind(null,t,n,r,o);const a=function(u){if(u.target===e){var h;(h=Ne.swalCloseEventFinishedCallback)===null||h===void 0||h.call(Ne),delete Ne.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},wE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Ne.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},$l=t=>{let e=ht();if(e||new Oe,e=ht(),!e)return;const n=rc();Bf()?Fn(tc()):Mj(e,t),vn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Mj=(t,e)=>{const n=Ou(),r=rc();!n||!r||(!e&&dr(zs())&&(e=zs()),vn(n),e&&(Fn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),pt([t,n],ee.loading))},Vj=(t,e)=>{e.input==="select"||e.input==="radio"?zj(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Qy(e.inputValue)||Yy(e.inputValue))&&($l(zs()),Hj(t,e))},Fj=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return $j(n);case"radio":return Uj(n);case"file":return Bj(n);default:return e.inputAutoTrim?n.value.trim():n.value}},$j=t=>t.checked?1:0,Uj=t=>t.checked?t.value:null,Bj=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,zj=(t,e)=>{const n=ht();if(!n)return;const r=o=>{e.input==="select"?qj(n,Jh(o),e):e.input==="radio"&&Wj(n,Jh(o),e)};Qy(e.inputOptions)||Yy(e.inputOptions)?($l(zs()),Nu(e.inputOptions).then(o=>{t.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):Da(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},Hj=(t,e)=>{const n=t.getInput();n&&(Fn(n),Nu(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,vn(n),n.focus(),t.hideLoading()}).catch(r=>{Da(`Error in inputValue promise: ${r}`),n.value="",vn(n),n.focus(),t.hideLoading()}))};function qj(t,e,n){const r=fo(t,ee.select);if(!r)return;const o=(a,u,h)=>{const f=document.createElement("option");f.value=h,kr(f,u),f.selected=pT(h,n.inputValue),a.appendChild(f)};e.forEach(a=>{const u=a[0],h=a[1];if(Array.isArray(h)){const f=document.createElement("optgroup");f.label=u,f.disabled=!1,r.appendChild(f),h.forEach(y=>o(f,y[1],y[0]))}else o(r,h,u)}),r.focus()}function Wj(t,e,n){const r=fo(t,ee.radio);if(!r)return;e.forEach(a=>{const u=a[0],h=a[1],f=document.createElement("input"),y=document.createElement("label");f.type="radio",f.name=ee.radio,f.value=u,pT(u,n.inputValue)&&(f.checked=!0);const v=document.createElement("span");kr(v,h),v.className=ee.label,y.appendChild(f),y.appendChild(v),r.appendChild(y)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const Jh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let o=n;typeof o=="object"&&(o=Jh(o)),e.push([r,o])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Jh(r)),e.push([n,r])}),e},pT=(t,e)=>!!e&&e.toString()===t.toString(),Gj=t=>{const e=xt.innerParams.get(t);t.disableButtons(),e.input?mT(t,"confirm"):cw(t,!0)},Kj=t=>{const e=xt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?mT(t,"deny"):lw(t,!1)},Jj=(t,e)=>{t.disableButtons(),e(sc.cancel)},mT=(t,e)=>{const n=xt.innerParams.get(t);if(!n.input){Da(`The "input" parameter is needed to be set when using returnInputValueOn${Jy(e)}`);return}const r=t.getInput(),o=Fj(t,n);n.inputValidator?Qj(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?lw(t,o):cw(t,o)},Qj=(t,e,n)=>{const r=xt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Nu(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?lw(t,e):cw(t,e)})},lw=(t,e)=>{const n=xt.innerParams.get(t||void 0);n.showLoaderOnDeny&&$l(Oa()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Nu(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),Mu(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>gT(t||void 0,o))):t.close({isDenied:!0,value:e})},vE=(t,e)=>{t.close({isConfirmed:!0,value:e})},gT=(t,e)=>{t.rejectPromise(e)},cw=(t,e)=>{const n=xt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&$l(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Nu(n.preConfirm(e,n.validationMessage))).then(o=>{dr($f())||o===!1?(t.hideLoading(),Mu(t)):vE(t,typeof o>"u"?e:o)}).catch(o=>gT(t||void 0,o))):vE(t,e)};function Qh(){const t=xt.innerParams.get(this);if(!t)return;const e=xt.domCache.get(this);Fn(e.loader),Bf()?t.icon&&vn(tc()):Yj(e),Wr([e.popup,e.actions],ee.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Yj=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?vn(e[0],"inline-block"):TO()&&Fn(t.actions)};function yT(){const t=xt.innerParams.get(this),e=xt.domCache.get(this);return e?zf(e.popup,t.input):null}function wT(t,e,n){const r=xt.domCache.get(t);e.forEach(o=>{r[o].disabled=n})}function vT(t,e){const n=ht();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${ee.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else t.disabled=e}function _T(){wT(this,["confirmButton","denyButton","cancelButton"],!1)}function ET(){wT(this,["confirmButton","denyButton","cancelButton"],!0)}function bT(){vT(this.getInput(),!1)}function CT(){vT(this.getInput(),!0)}function TT(t){const e=xt.domCache.get(this),n=xt.innerParams.get(this);kr(e.validationMessage,t),e.validationMessage.className=ee["validation-message"],n.customClass&&n.customClass.validationMessage&&pt(e.validationMessage,n.customClass.validationMessage),vn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",ee["validation-message"]),QC(r),pt(r,ee.inputerror))}function IT(){const t=xt.domCache.get(this);t.validationMessage&&Fn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Wr(e,ee.inputerror))}const Rl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Xj=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Zj={allowEnterKey:void 0},eL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ST=t=>Object.prototype.hasOwnProperty.call(Rl,t),xT=t=>Xj.indexOf(t)!==-1,kT=t=>Zj[t],tL=t=>{ST(t)||Kn(`Unknown parameter "${t}"`)},nL=t=>{eL.includes(t)&&Kn(`The parameter "${t}" is incompatible with toasts`)},rL=t=>{const e=kT(t);e&&WC(t,e)},RT=t=>{t.backdrop===!1&&t.allowOutsideClick&&Kn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Kn(`Invalid theme "${t.theme}"`);for(const e in t)tL(e),t.toast&&nL(e),rL(e)};function PT(t){const e=Jn(),n=ht(),r=xt.innerParams.get(this);if(!n||wi(n,r.hideClass.popup)){Kn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=sL(t),a=Object.assign({},r,o);RT(a),e.dataset.swal2Theme=a.theme,oT(this,a),xt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const sL=t=>{const e={};return Object.keys(t).forEach(n=>{xT(n)?e[n]=t[n]:Kn(`Invalid parameter to update: ${n}`)}),e};function AT(){const t=xt.domCache.get(this),e=xt.innerParams.get(this);if(!e){NT(this);return}t.popup&&Ne.swalCloseEventFinishedCallback&&(Ne.swalCloseEventFinishedCallback(),delete Ne.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Ne.eventEmitter.emit("didDestroy"),iL(this)}const iL=t=>{NT(t),delete t.params,delete Ne.keydownHandler,delete Ne.keydownTarget,delete Ne.currentInstance},NT=t=>{t.isAwaitingPromise?($m(xt,t),t.isAwaitingPromise=!0):($m(Fl,t),$m(xt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},$m=(t,e)=>{for(const n in t)t[n].delete(e)};var oL=Object.freeze({__proto__:null,_destroy:AT,close:po,closeModal:po,closePopup:po,closeToast:po,disableButtons:ET,disableInput:CT,disableLoading:Qh,enableButtons:_T,enableInput:bT,getInput:yT,handleAwaitingPromise:Mu,hideLoading:Qh,rejectPromise:fT,resetValidationMessage:IT,showValidationMessage:TT,update:PT});const aL=(t,e,n)=>{t.toast?lL(t,e,n):(uL(e),dL(e),hL(t,e,n))},lL=(t,e,n)=>{e.popup.onclick=()=>{t&&(cL(t)||t.timer||t.input)||n(sc.close)}},cL=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Yh=!1;const uL=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Yh=!0)}}},dL=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Yh=!0)}}},hL=(t,e,n)=>{e.container.onclick=r=>{if(Yh){Yh=!1;return}r.target===e.container&&Ff(t.allowOutsideClick)&&n(sc.backdrop)}},fL=t=>typeof t=="object"&&t.jquery,_E=t=>t instanceof Element||fL(t),pL=t=>{const e={};return typeof t[0]=="object"&&!_E(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const o=t[r];typeof o=="string"||_E(o)?e[n]=o:o!==void 0&&Da(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function mL(...t){return new this(...t)}function gL(t){class e extends this{_main(r,o){return super._main(r,Object.assign({},t,o))}}return e}const yL=()=>Ne.timeout&&Ne.timeout.getTimerLeft(),DT=()=>{if(Ne.timeout)return SO(),Ne.timeout.stop()},OT=()=>{if(Ne.timeout){const t=Ne.timeout.start();return sw(t),t}},wL=()=>{const t=Ne.timeout;return t&&(t.running?DT():OT())},vL=t=>{if(Ne.timeout){const e=Ne.timeout.increase(t);return sw(e,!0),e}},_L=()=>!!(Ne.timeout&&Ne.timeout.isRunning());let EE=!1;const kg={};function EL(t="data-swal-template"){kg[t]=this,EE||(document.body.addEventListener("click",bL),EE=!0)}const bL=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in kg){const r=e.getAttribute(n);if(r){kg[n].fire({template:r});return}}};class CL{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...o)=>{this.removeListener(e,r),n.apply(this,o)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Ne.eventEmitter=new CL;const TL=(t,e)=>{Ne.eventEmitter.on(t,e)},IL=(t,e)=>{Ne.eventEmitter.once(t,e)},SL=(t,e)=>{if(!t){Ne.eventEmitter.reset();return}e?Ne.eventEmitter.removeListener(t,e):Ne.eventEmitter.removeAllListeners(t)};var xL=Object.freeze({__proto__:null,argsToParams:pL,bindClickHandler:EL,clickCancel:pj,clickConfirm:aT,clickDeny:fj,enableLoading:$l,fire:mL,getActions:Ou,getCancelButton:nc,getCloseButton:ew,getConfirmButton:zs,getContainer:Jn,getDenyButton:Oa,getFocusableElements:tw,getFooter:JC,getHtmlContainer:Xy,getIcon:tc,getIconContent:vO,getImage:KC,getInputLabel:_O,getLoader:rc,getPopup:ht,getProgressSteps:Zy,getTimerLeft:yL,getTimerProgressBar:Uf,getTitle:GC,getValidationMessage:$f,increaseTimer:vL,isDeprecatedParameter:kT,isLoading:bO,isTimerRunning:_L,isUpdatableParameter:xT,isValidParameter:ST,isVisible:hj,mixin:gL,off:SL,on:TL,once:IL,resumeTimer:OT,showLoading:$l,stopTimer:DT,toggleTimer:wL});class kL{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const jT=["swal-title","swal-html","swal-footer"],RL=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return ML(n),Object.assign(PL(n),AL(n),NL(n),DL(n),OL(n),jL(n),LL(n,jT))},PL=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{_a(r,["name","value"]);const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(typeof Rl[o]=="boolean"?e[o]=a!=="false":typeof Rl[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},AL=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},NL=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{_a(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${Jy(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},DL=t=>{const e={},n=t.querySelector("swal-image");return n&&(_a(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},OL=t=>{const e={},n=t.querySelector("swal-icon");return n&&(_a(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},jL=t=>{const e={},n=t.querySelector("swal-input");n&&(_a(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{_a(o,["value"]);const a=o.getAttribute("value");if(!a)return;const u=o.innerHTML;e.inputOptions[a]=u})),e},LL=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(_a(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},ML=t=>{const e=jT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Kn(`Unrecognized element <${r}>`)})},_a=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Kn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},LT=10,VL=t=>{const e=Jn(),n=ht();typeof t.willOpen=="function"&&t.willOpen(n),Ne.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;UL(e,n,t),setTimeout(()=>{FL(e,n)},LT),nw()&&($L(e,t.scrollbarPadding,o),bj()),!Bf()&&!Ne.previousActiveElement&&(Ne.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Ne.eventEmitter.emit("didOpen",n),Wr(e,ee["no-transition"])},Xh=t=>{const e=ht();if(t.target!==e)return;const n=Jn();e.removeEventListener("animationend",Xh),e.removeEventListener("transitionend",Xh),n.style.overflowY="auto"},FL=(t,e)=>{XC(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Xh),e.addEventListener("transitionend",Xh)):t.style.overflowY="auto"},$L=(t,e,n)=>{Cj(),e&&n!=="hidden"&&Pj(n),setTimeout(()=>{t.scrollTop=0})},UL=(t,e,n)=>{pt(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),vn(e,"grid"),setTimeout(()=>{pt(e,n.showClass.popup),e.style.removeProperty("opacity")},LT)):vn(e,"grid"),pt([document.documentElement,document.body],ee.shown),n.heightAuto&&n.backdrop&&!n.toast&&pt([document.documentElement,document.body],ee["height-auto"])};var bE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function BL(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=bE.email),t.input==="url"&&(t.inputValidator=bE.url))}function zL(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Kn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function HL(t){BL(t),t.showLoaderOnConfirm&&!t.preConfirm&&Kn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),zL(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),OO(t)}let Ds;var Zd=new WeakMap;class Qt{constructor(...e){if(dO(this,Zd,void 0),typeof window>"u")return;Ds=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,hO(Zd,this,this._main(Ds.params))}_main(e,n={}){if(RT(Object.assign({},n,e)),Ne.currentInstance){const a=Fl.swalPromiseResolve.get(Ne.currentInstance),{isAwaitingPromise:u}=Ne.currentInstance;Ne.currentInstance._destroy(),u||a({isDismissed:!0}),nw()&&uT()}Ne.currentInstance=Ds;const r=WL(e,n);HL(r),Object.freeze(r),Ne.timeout&&(Ne.timeout.stop(),delete Ne.timeout),clearTimeout(Ne.restoreFocusTimeout);const o=GL(Ds);return oT(Ds,r),xt.innerParams.set(Ds,r),qL(Ds,o,r)}then(e){return hE(Zd,this).then(e)}finally(e){return hE(Zd,this).finally(e)}}const qL=(t,e,n)=>new Promise((r,o)=>{const a=u=>{t.close({isDismissed:!0,dismiss:u})};Fl.swalPromiseResolve.set(t,r),Fl.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{Gj(t)},e.denyButton.onclick=()=>{Kj(t)},e.cancelButton.onclick=()=>{Jj(t,a)},e.closeButton.onclick=()=>{a(sc.close)},aL(n,e,a),mj(Ne,n,a),Vj(t,n),VL(n),KL(Ne,n,a),JL(e,n),setTimeout(()=>{e.container.scrollTop=0})}),WL=(t,e)=>{const n=RL(t),r=Object.assign({},Rl,e,n,t);return r.showClass=Object.assign({},Rl.showClass,r.showClass),r.hideClass=Object.assign({},Rl.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},GL=t=>{const e={popup:ht(),container:Jn(),actions:Ou(),confirmButton:zs(),denyButton:Oa(),cancelButton:nc(),loader:rc(),closeButton:ew(),validationMessage:$f(),progressSteps:Zy()};return xt.domCache.set(t,e),e},KL=(t,e,n)=>{const r=Uf();Fn(r),e.timer&&(t.timeout=new kL(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(vn(r),Sr(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&sw(e.timer)})))},JL=(t,e)=>{if(!e.toast){if(!Ff(e.allowEnterKey)){WC("allowEnterKey"),XL();return}QL(t)||YL(t,e)||xg(-1,1)}},QL=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&dr(n))return n.focus(),!0;return!1},YL=(t,e)=>e.focusDeny&&dr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&dr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&dr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,XL=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Qt.prototype.disableButtons=ET;Qt.prototype.enableButtons=_T;Qt.prototype.getInput=yT;Qt.prototype.disableInput=CT;Qt.prototype.enableInput=bT;Qt.prototype.hideLoading=Qh;Qt.prototype.disableLoading=Qh;Qt.prototype.showValidationMessage=TT;Qt.prototype.resetValidationMessage=IT;Qt.prototype.close=po;Qt.prototype.closePopup=po;Qt.prototype.closeModal=po;Qt.prototype.closeToast=po;Qt.prototype.rejectPromise=fT;Qt.prototype.update=PT;Qt.prototype._destroy=AT;Object.assign(Qt,xL);Object.keys(oL).forEach(t=>{Qt[t]=function(...e){return Ds&&Ds[t]?Ds[t](...e):null}});Qt.DismissReason=sc;Qt.version="11.23.0";const Oe=Qt;Oe.default=Oe;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Ea="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",Tt="/Fantasy-Casadillos/SinPerfil.jpg",ZL="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",eM="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",tM="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",nM="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",$c=Kr(kn),Um=hr(kn),rM=new js,sM=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(!1),[o,a]=C.useState(ZL),u=Hy();C.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async v=>{v.preventDefault();const b=new FormData(v.currentTarget),T=b.get("email"),N=b.get("password");if(n)try{const L=b.get("nick"),$=ur(Um,"usuarios"),j=ku($,Ru("nick","==",L));if(!(await hs(j)).empty){Oe.fire({icon:"error",title:"Nick en uso",text:"Ese nombre de usuario ya está ocupado. Elige otro."});return}const{user:M}=await uR($c,T,N);await $b($c.currentUser,{displayName:L});const z={nick:L,correo:T,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await bg(Ae(Um,"usuarios",M.uid),z,{merge:!0})}catch(L){console.error("Error registrando usuario:",L);let $="No se pudo crear la cuenta. Revisa los datos.";L.code==="auth/email-already-in-use"?$="Ya existe una cuenta con este correo.":L.code==="auth/weak-password"?$="La contraseña debe tener al menos 6 caracteres.":L.code==="auth/invalid-email"?$="El correo electrónico no es válido.":$=`Error desconocido: ${L.code}`,Oe.fire({icon:"error",title:"Error",text:$})}else try{await dR($c,T,N),console.log("Inicio de sesión exitoso"),u("/home")}catch(L){console.error("Error iniciando sesión:",L);let $="Error al iniciar sesión.";(L.code==="auth/invalid-credential"||L.code==="auth/wrong-password"||L.code==="auth/user-not-found")&&($="Correo o contraseña incorrectos."),Oe.fire({icon:"error",title:"Error al iniciar sesión",text:$})}},f=async()=>{const{value:v}=await Oe.fire({title:"Recuperar contraseña",input:"email",inputLabel:"Introduce tu correo electrónico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:b=>{if(!b)return"El correo es obligatorio"}});if(v)try{await Fb($c,v),Oe.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(b){Oe.fire("Error",b.message,"error")}},y=async()=>{try{const v=await VR($c,rM);if(!v?.user)throw new Error("No se obtuvo el usuario de Google.");const b=v.user,T=Ae(Um,"usuarios",b.uid);(await St(T)).exists()||await bg(T,{nick:b.displayName||"",correo:b.email,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(v){if(v.code==="auth/popup-closed-by-user"||v.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",v),Oe.fire({icon:"error",title:"Error",text:v.message||"No se pudo iniciar sesión con Google"})}};return m.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${Ea})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),m.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[m.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),m.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:m.jsx("label",{style:{cursor:"default",display:"inline-block"},children:m.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),m.jsxs("form",{onSubmit:h,children:[m.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&m.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),m.jsxs("div",{className:"cajaContainerContraseña",children:[m.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contraseña",className:"cajacontraseña",required:!0}),m.jsx("img",{src:t?tM:nM,alt:"Mostrar contraseña",className:"toggle-password-icon",onClick:()=>e(v=>!v)})]}),!n&&m.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:m.jsx("button",{type:"button",onClick:f,className:"link-style",children:"¿Has olvidado la contraseña?"})}),n?m.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[m.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesión"}),m.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),m.jsxs("button",{type:"button",onClick:y,className:"btn-google",style:{width:"auto"},children:[m.jsx("img",{src:eM,alt:"Google"}),"Google"]})]})]}),m.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",m.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesión":"Regístrate"})]})]})]})},Rg={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firebasestorage.googleapis.com",iM="storageBucket",oM=120*1e3,aM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends qs{constructor(e,n,r=0){super(Bm(e),`Firebase Storage: ${n} (${Bm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ws.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hs||(Hs={}));function Bm(t){return"storage/"+t}function lM(){const t="An unknown error occurred, please check the error payload for server response.";return new Ws(Hs.UNKNOWN,t)}function cM(){return new Ws(Hs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uM(){return new Ws(Hs.CANCELED,"User canceled the upload/download.")}function dM(t){return new Ws(Hs.INVALID_URL,"Invalid URL '"+t+"'.")}function hM(t){return new Ws(Hs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function CE(t){return new Ws(Hs.INVALID_ARGUMENT,t)}function VT(){return new Ws(Hs.APP_DELETED,"The Firebase app was deleted.")}function fM(t){return new Ws(Hs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cs.makeFromUrl(e,n)}catch{return new cs(e,"")}if(r.path==="")return r;throw hM(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function y(J){J.path_=decodeURIComponent(J.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",N=new RegExp(`^https?://${b}/${v}/b/${o}/o${T}`,"i"),L={bucket:1,path:3},$=n===MT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",W=new RegExp(`^https?://${$}/${o}/${j}`,"i"),z=[{regex:h,indices:f,postModify:a},{regex:N,indices:L,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let J=0;J<z.length;J++){const se=z[J],K=se.regex.exec(e);if(K){const S=K[se.indices.bucket];let I=K[se.indices.path];I||(I=""),r=new cs(S,I),se.postModify(r);break}}if(r==null)throw dM(e);return r}}class pM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t,e,n){let r=1,o=null,a=null,u=!1,h=0;function f(){return h===2}let y=!1;function v(...j){y||(y=!0,e.apply(null,j))}function b(j){o=setTimeout(()=>{o=null,t(N,f())},j)}function T(){a&&clearTimeout(a)}function N(j,...W){if(y){T();return}if(j){T(),v.call(null,j,...W);return}if(f()||u){T(),v.call(null,j,...W);return}r<64&&(r*=2);let z;h===1?(h=2,z=0):z=(r+Math.random())*1e3,b(z)}let L=!1;function $(j){L||(L=!0,T(),!y&&(o!==null?(j||(h=2),clearTimeout(o),b(0)):j||(h=1)))}return b(0),a=setTimeout(()=>{u=!0,$(!0)},n),$}function gM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){return t!==void 0}function TE(t,e,n,r){if(r<e)throw CE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw CE(`Invalid value for '${t}'. Expected ${n} or less.`)}function wM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Zh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zh||(Zh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,r,o,a,u,h,f,y,v,b,T=!0,N=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=b,this.retry=T,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,$)=>{this.resolve_=L,this.reject_=$,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new eh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,y=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,y)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===Zh.NO_ERROR,f=a.getStatus();if(!h||vM(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Zh.ABORT;r(!1,new eh(!1,null,v));return}const y=this.successCodes_.indexOf(f)!==-1;r(!0,new eh(y,a))})},n=(r,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());yM(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=lM();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(o.canceled){const f=this.appDelete_?VT():uM();u(f)}else{const f=cM();u(f)}};this.canceled_?n(!1,new eh(!1,null,!0)):this.backoffId_=mM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function EM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function TM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function IM(t,e,n,r,o,a,u=!0,h=!1){const f=wM(t.urlParams),y=t.url+f,v=Object.assign({},t.headers);return CM(v,e),EM(v,n),bM(v,a),TM(v,r),new _M(y,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this._service=e,n instanceof cs?this._location=n:this._location=cs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ef(e,n)}get root(){const e=new cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xM(this._location.path)}get storage(){return this._service}get parent(){const e=SM(this._location.path);if(e===null)return null;const n=new cs(this._location.bucket,e);return new ef(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fM(e)}}function IE(t,e){const n=e?.[iM];return n==null?null:cs.makeFromBucketSpec(n,t)}function kM(t,e,n,r={}){t.host=`${e}:${n}`;const o=Ta(e);o&&($g(`https://${t.host}/b`),Ug("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:cb(a,t.app.options.projectId))}class RM{constructor(e,n,r,o,a,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=MT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oM,this._maxUploadRetryTime=aM,this._requests=new Set,o!=null?this._bucket=cs.makeFromBucketSpec(o,this._host):this._bucket=IE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cs.makeFromBucketSpec(this._url,e):this._bucket=IE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ef(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new pM(VT());{const u=IM(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const SE="@firebase/storage",xE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="storage";function Vu(t=Hg(),e){t=Dt(t);const r=cf(t,FT).getImmediate({identifier:e}),o=ob("storage");return o&&PM(r,...o),r}function PM(t,e,n,r={}){kM(t,e,n,r)}function AM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new RM(n,r,o,e,Ia)}function NM(){fa(new _o(FT,AM,"PUBLIC").setMultipleInstances(!0)),Ls(SE,xE,""),Ls(SE,xE,"esm2020")}NM();function Ul({usuario:t,openModal:e,setOpenModal:n}){const r=Kr(),o=hr();Vu();const a=t?.fotoPerfil||Tt,[u,h]=C.useState(!1),[f,y]=C.useState(!1),[v,b]=C.useState(a),[T,N]=C.useState(null),[L,$]=C.useState(t.nick),[j,W]=C.useState(t.correo),[M,z]=C.useState(""),[J,se]=C.useState(!1),[K,S]=C.useState(""),[I,k]=C.useState(""),P=C.useRef();C.useEffect(()=>{e&&(b(t.fotoPerfil),N(null),$(t.nick),W(t.correo),z(""),S(t.nick),k(t.correo))},[e,t]),C.useEffect(()=>{const X=L!==K||j!==I||M.length>0||T!==null;y(X)},[L,j,M,T,K,I]);const O=async()=>{const X=r.currentUser?.email;if(!X){Oe.fire("Error","No se encontró un correo asociado al usuario","error");return}try{await Fb(r,X),await Oe.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(re){Oe.fire("Error",re.message,"error")}},F=X=>X.toLocaleString("es-ES")+"€",A=X=>{X.target===P.current&&n(!1)},je=X=>{const re=X.target.files[0];if(!re)return;N(re);const te=new FileReader;te.onloadend=()=>b(te.result),te.readAsDataURL(re)},Ie=async()=>{try{se(!0);const X=r.currentUser;let re=t.fotoPerfil;if(T){if(T.size>1*1024*1024){await Oe.fire({icon:"error",title:"Error",text:"La imagen es demasiado grande (máx. 1 MB)."});return}const R=new FormData;R.append("file",T),R.append("upload_preset","perfil_preset");const fe=await(await fetch("https://api.cloudinary.com/v1_1/drmoefeeq/image/upload",{method:"POST",body:R})).json();if(fe.secure_url)re=fe.secure_url;else{Oe.fire({icon:"error",title:"Error",text:"Error subiendo a Cloudinary"});return}}L!==t.nick&&await $b(X,{displayName:L}),M&&await fR(X,M);const te=Ae(o,"usuarios",X.uid);await ut(te,{fotoPerfil:re,nick:L}),await Oe.fire("Datos actualizados","Se han guardado sus modificaciones correctamente.","success")}catch(X){console.error("Error guardando perfil:",X),alert("No se pudo guardar los cambios: "+X.message)}finally{se(!1),window.location.reload()}},He=async()=>{const X=r.currentUser;if(!X)throw new Error("No hay usuario autenticado.");const re=X.uid;if(X.providerData[0].providerId==="password"){const{value:oe}=await Oe.fire({title:"Confirma tu contraseña",input:"password",inputLabel:"Introduce tu contraseña para continuar",inputPlaceholder:"Tu contraseña",inputAttributes:{autocapitalize:"off",autocorrect:"off"},showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"});if(!oe)throw new Error("Se canceló la reautenticación");const fe=Sa.credential(X.email,oe);await cR(X,fe)}else if(X.providerData[0].providerId==="google.com"){const oe=new js;await FR(X,oe)}else throw new Error("Proveedor no soportado para reautenticación.");const te=ku(ur(o,"jugadores"),Ru("dueños","array-contains",re)),B=(await hs(te)).docs.map(async oe=>{const fe=oe.ref;await ut(fe,{stockLibre:va(1),dueños:Vl(re)})});await Promise.all(B);const Z=Ae(o,"usuarios",re);await $y(Z),await wR(X)},De=async()=>{if((await Oe.fire({title:"¿Estás seguro?",text:"Esta acción eliminará tu cuenta permanentemente. No podrás deshacerlo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, borrar cuenta",cancelButtonText:"Cancelar"})).isConfirmed)try{se(!0),await He(),await Oe.fire("Cuenta eliminada","Tu cuenta ha sido borrada exitosamente.","success")}catch(re){console.error("Error al borrar la cuenta:",re),Oe.fire("Error","No se pudo borrar la cuenta: "+re.message,"error")}finally{se(!1)}};return e?m.jsx("div",{className:"modal-overlay",ref:P,onClick:A,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsxs("label",{className:"modal-avatar",children:[m.jsx("img",{src:v,alt:"Perfil"}),m.jsx("input",{type:"file",accept:"image/*",onChange:je}),m.jsx("span",{className:"modal-avatar-overlay",children:"Editar"})]}),m.jsxs("div",{className:"modal-userinfo",children:[m.jsx("h2",{children:t.nick}),m.jsx("small",{children:t.correo}),m.jsxs("small",{children:["Dinero: ",m.jsx("span",{className:"dinero-verde",children:F(t.dinero)})]}),m.jsx("div",{className:"ultimas-jornadas",children:t.puntuaciones&&t.puntuaciones.length>0?t.puntuaciones.slice(-5).map((X,re,te)=>{const R=X??"-",B=te.length<5?re+1:t.puntuaciones.length-5+re+1;let Z="";return typeof X=="number"&&(X>=36?Z="verde":X<28?Z="rojo":Z="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",B]}),m.jsx("div",{className:`jornada-cuadro ${Z}`,children:R})]},re)}):[...Array(5)].map((X,re)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",re+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},re))})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-body",children:[m.jsxs("div",{className:"field-group",children:[m.jsxs("label",{children:["Nick ",m.jsx("small",{children:"(Recomendado máximo 12 caracteres)"})]}),m.jsxs("div",{className:"field-with-icon",children:[m.jsx("input",{type:"text",value:L,onChange:X=>$(X.target.value),disabled:!u}),m.jsx("button",{className:"icon-pencil",onClick:()=>h(!u),title:"Editar nick",children:"✎"})]})]}),m.jsx("div",{style:{textAlign:"left"},children:m.jsx("button",{type:"button",onClick:O,className:"link-style",children:"Cambiar contraseña"})})]}),m.jsxs("div",{className:"modal-footer",children:[f&&m.jsx("button",{className:"modal-save-btn",onClick:Ie,disabled:J,children:J?"Guardando…":"Guardar cambios"}),m.jsx("button",{className:"modal-delete-btn",onClick:De,disabled:J,children:"Borrar cuenta"})]})]})}):null}function DM({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,user:o,edicionActiva:a}){const u=Kr(),h=hr(kn);Vu();const f=t?.foto||Tt,[y,v]=C.useState(null),b=u.currentUser,[T,N]=C.useState(!1);C.useEffect(()=>{const K=async()=>{try{const S=Ae(h,"mercadoUsuarios","actual"),I=await St(S);if(!I.exists()){N(!1);return}const O=(I.data().jugadores||[]).some(F=>F.jugadorId===t.id);N(O)}catch(S){console.error("Error al comprobar venta:",S),N(!1)}};t?.id&&K()},[t]);const L=async()=>{if(!t||!o)return;if(!a){await Oe.fire({icon:"error",title:"Jornada Empezada",text:"No se puede vender con la jornada empezada.",confirmButtonText:"Ok"});return}const K=Math.round(t.precio*.6),S=Ae(h,"usuarios",o.uid),I=Ae(h,"jugadores",t.id);try{await ut(S,{dinero:va(K)}),await ut(I,{stockLibre:va(1),dueños:Vl(o.uid)});const k=await St(S);if(k.exists()){const P=k.data(),O=P.equipo.titulares.map(A=>A.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:A),F=P.equipo.banquillo.map(A=>A.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:A);await ut(S,{"equipo.titulares":O,"equipo.banquillo":F})}await Cg(ur(h,"historial"),{tipo:"venta directa",vendedorId:b.uid,vendedorNick:o.nick,jugadorId:t.id,jugadorNombre:t.nombre,precio:K,fecha:new Date}),await Oe.fire({icon:"success",title:"¡Jugador vendido!",html:`Has recibido <strong>${K.toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"}),window.location.reload()}catch(k){console.error("Error en la venta:",k),await Oe.fire({icon:"error",title:"Error",text:"No se pudo completar la venta.",confirmButtonText:"Ok"})}},$=async(K,S)=>{try{const I=u.currentUser;if(!I)throw new Error("Usuario no autenticado");const k=Ae(h,"usuarios",I.uid),O=(await St(k)).data();if(!O)throw new Error("No se encontró el usuario en Firestore");const F={jugadorId:K.id,precioVenta:S,vendedorUid:I.uid,vendedorNick:O.nick,fecha:new Date().toISOString()},A=Ae(h,"mercadoUsuarios","actual");await bg(A,{jugadores:Lf(F),ultimaActualizacion:kC()},{merge:!0}),await Oe.fire({icon:"success",title:"¡Jugador puesto en venta!",confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"})}catch(I){console.error("Error al poner en mercado:",I)}},j=()=>{const K=Math.round(t.precio*.6);Oe.fire({title:"¿Cómo quieres vender?",showDenyButton:!0,confirmButtonText:"💰 Poner en el Mercado",denyButtonText:`Venta Directa
(<span style="color:#2ecc71">+${K.toLocaleString("es-ES")}€</span>)`,confirmButtonColor:"#28a745",denyButtonColor:"#4878a4ff",background:"#1e1e1e",color:"#fff"}).then(async S=>{if(S.isConfirmed){const{value:I}=await Oe.fire({title:"Introduce el precio de venta",input:"number",inputLabel:"Precio en €",inputPlaceholder:"Ej: 5.000.000",confirmButtonText:"Poner en venta",cancelButtonText:"Cancelar",showCancelButton:!0,background:"#1e1e1e",color:"#fff",inputValidator:k=>{if(!k||k<=0)return"Debes introducir un precio válido";if(k<t.precio)return"Debes introducir un precio que sea mínimo superior al valor de mercado"}});I&&(console.log("Venta en mercado por",I),$(t,parseInt(I,10)))}else S.isDenied&&(console.log("Venta directa por",K),L())})},W=K=>{switch(K){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return K||"Sin posición"}},M=C.useRef();C.useEffect(()=>{(async()=>{if(!o)return;const S=Ae(h,"usuarios",o.uid),I=await St(S);if(I.exists()){const k=I.data();v(k.equipo?.capitan||null)}})()},[o,h,n]);const z=async K=>{try{const S=Ae(h,"usuarios",o.uid);await ut(S,{"equipo.capitan":K}),v(K),await Oe.fire({icon:"success",title:"¡Capitán asignado!",text:`${t.nombre} ahora es tu capitán.`,confirmButtonColor:"#28a745"})}catch(S){console.error("Error al asignar capitán:",S),Oe.fire({icon:"error",title:"Error",text:"No se pudo asignar el capitán, inténtalo de nuevo."})}finally{window.location.reload()}},J=K=>{K.target===M.current&&r(!1)},se=K=>K.toLocaleString("es-ES")+"€";return n?m.jsx("div",{className:"modal-overlay",ref:M,onClick:J,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:f,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:W(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",se(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const K=t.historialPrecios||[];if(K.length===0)return m.jsx("small",{children:"(±0€)"});const S=K[K.length-1].precio||0,I=t.precio-S,k=I>0?"+":I<0?"-":"±";return m.jsxs("small",{className:I>0?"subida":I<0?"bajada":"igual",children:["(",k,se(Math.abs(I)),")"]})})()})]}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",se(e)]})}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Media de puntos:"})," ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(K=>typeof K=="number").reduce((K,S,I,k)=>K+S/k.length,0).toFixed(2):"-"]})})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((K,S,I)=>{const k=K??"-",P=I.length<5?S+1:t.puntosPorJornada.length-5+S+1;let O="";return typeof K=="number"&&(K>=9?O="verde":K<7?O="rojo":O="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",P]}),m.jsx("div",{className:`jornada-cuadro ${O}`,children:k})]},S)}):[...Array(5)].map((K,S)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",S+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},S))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoración"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:a?m.jsxs(m.Fragment,{children:[T?m.jsx("button",{className:"btn-accion",disabled:!0,children:"Ya está en venta"}):m.jsx("button",{className:"btn-accion",onClick:()=>j(),children:"Vender"}),m.jsx("button",{className:"btn-capitan",disabled:y===t.id,onClick:()=>z(t.id),children:y===t.id?"Ya es capitán":"Nombrar capitán"})]}):m.jsx("button",{className:"btn-accion",disabled:!0,children:"🔒 Jornada empezada"})})]})}):null}const co=hr(kn),OM=async()=>{try{const t=Ae(co,"mercado","actual"),e=await St(t);if(e.exists()){const f=e.data();for(const y of f.jugadores)if(y.stock>0){const v=Ae(co,"jugadores",y.idJugador);await ut(v,{stockLibre:va(y.stock),dueños:Vl("mercado")})}}const o=(await hs(ur(co,"jugadores"))).docs.map(f=>({idJugador:f.id,...f.data()})).filter(f=>f.stockLibre>0).sort(()=>.5-Math.random()).slice(0,15);for(const f of o){const y=Ae(co,"jugadores",f.idJugador);await ut(y,{stockLibre:va(-1),dueños:Lf("mercado")})}await ut(t,{jugadores:o.map(f=>({idJugador:f.idJugador,nombre:f.nombre,vendedor:"Fantasy Casadillos"})),ultimaActualizacion:kC()});const a=ur(co,"mercado/actual/usuarios"),h=(await hs(a)).docs.map(f=>({idVenta:f.id,...f.data(),vendedor:f.data().vendedorNick||"Usuario"}));return[...o,...h]}catch(t){throw console.error("Error al refrescar mercado:",t),t}},jM=async()=>{try{const t=Ae(co,"mercado","actual"),e=await St(t);if(!e.exists())return;const n=e.data();for(const a of n.jugadores||[])if(a.vendedor==="Fantasy Casadillos"){const u=Ae(co,"jugadores",a.idJugador);await ut(u,{stockLibre:va(a.stock||1),dueños:Vl("mercado")})}const r=ur(co,"mercado/actual/usuarios"),o=await hs(r);for(const a of o.docs)await $y(a.ref);return await ut(t,{jugadores:[],ultimaActualizacion:null}),!0}catch(t){throw console.error("Error al resetear mercado:",t),t}};function Bl({user:t,openModal:e,setOpenModal:n}){Kr();const r=hr();Vu();const o=C.useRef(),[a,u]=C.useState(!1),[h,f]=C.useState(!1),y=v=>{v.target===o.current&&n(!1)};return e?m.jsx("div",{className:"modal-overlay",ref:o,onClick:y,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),m.jsxs("div",{className:"modal-footer-grid",children:[m.jsx("button",{type:"button",className:"modal-admin-btn",disabled:a,onClick:async()=>{u(!0);try{await OM(),(await Oe.fire({title:"Mercado actualizado",text:"Se ha refrescado el mercado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch(v){console.error(v),await Oe.fire({title:"Error",text:"No se pudo actualizar el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{u(!1)}},children:a?"⏳ Cargando...":"🔄 Actualizar mercado"}),m.jsx("button",{type:"button",className:"modal-admin-btn",disabled:h,onClick:async()=>{f(!0);try{await jM(),(await Oe.fire({title:"Éxito",text:"El mercado se ha reseteado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch{await Oe.fire({title:"Error",text:"No se pudo resetear el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{f(!1)}},children:h?"⏳ Reseteando...":"♻️ Resetear mercado"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Ae(r,"admin","controles");await ut(v,{edicionActiva:!1}),await Oe.fire({title:"Jornada iniciada",text:"Se han bloqueado los cambios de formaciones y mercado",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al empezar jornada:",v),await Oe.fire({title:"Error",text:"No se pudo empezar la jornada",icon:"error",confirmButtonText:"Aceptar"})}},children:"⏱️ Empezar jornada"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Ae(r,"admin","controles");await ut(v,{edicionActiva:!0}),await ut(v,{clausulaPermitida:!0}),await Oe.fire({title:"Jornada finalizada",text:"Se han repartido los puntos y desbloqueado la edición",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al finalizar la jornada:",v),await Oe.fire({title:"Error",text:"No se pudo acabar la jornada",icon:"error",confirmButtonText:"Aceptar"})}},children:"📊 Repartir puntos"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Ae(r,"admin","controles");await ut(v,{clausulaPermitida:!0}),await Oe.fire({title:"Cláusulas activadas",text:"Los jugadores pueden ser comprados por cláusula",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al activar cláusulas:",v),await Oe.fire({title:"Error",text:"No se pudo activar la cláusula",icon:"error",confirmButtonText:"Aceptar"})}},children:"📝 Activar cláusulas"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Ae(r,"admin","controles");await ut(v,{clausulaPermitida:!1}),await Oe.fire({title:"Cláusulas desactivadas",text:"Las cláusulas de rescisión han sido bloqueadas",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al desactivar cláusulas:",v),await Oe.fire({title:"Error",text:"No se pudo desactivar la cláusula",icon:"error",confirmButtonText:"Aceptar"})}},children:"🚫 Bloquear cláusulas"})]})]})}):null}const no=hr(kn),kE=Kr(kn),LM={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function RE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=LM[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function MM({usuario:t}){const[e,n]=C.useState(!1),[r,o]=C.useState(null),[a,u]=C.useState(!1),h=t?.fotoPerfil||Tt,f=t?.equipo?.titulares||[],y=t?.equipo?.banquillo||[],[v,b]=C.useState(f),[T,N]=C.useState(y),[L,$]=C.useState([]),[j,W]=C.useState(null),M=t?.equipo?.capitan||"",z=Object.keys(Rg),[J,se]=C.useState(t?.equipo?.formacion||"2-1-1"),[K,S]=C.useState(J),[I,k]=C.useState(!1),[P,O]=C.useState(!1),[F,A]=C.useState(t?.equipocreado),[je,Ie]=C.useState(!1),[He,De]=C.useState(!1),[X,re]=C.useState(!1),[te,R]=C.useState(!1),B=C.useRef(null),Z=()=>_u(kE),[oe,fe]=C.useState(!1),[he,me]=C.useState(null),[Ce,Se]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const ve=Ae(no,"admin","controles"),it=await St(ve);if(it.exists()){const Le=it.data();Se(Le.edicionActiva===!0)}}catch(ve){console.error("Error al obtener estado de edición:",ve)}})()},[]);const qe=()=>{fe(!oe),me(null)},bt=($e,ve,it)=>{if(oe)if(it==="titulares"?[...v]:[...T],!he)me({jugadorId:$e,index:ve,tipo:it});else{const{index:Le,tipo:We}=he,wt=We==="titulares"?v[Le]:T[Le],Ke=it==="titulares"?v[ve]:T[ve];if(wt===null&&Ke===null){me(null);return}if(We==="titulares"&&it==="titulares"){const Ze=[...v];[Ze[Le],Ze[ve]]=[Ze[ve],Ze[Le]],b(Ze)}else if(We==="banquillo"&&it==="banquillo"){const Ze=[...T];[Ze[Le],Ze[ve]]=[Ze[ve],Ze[Le]],N(Ze)}else{const Ze=[...v],et=[...T];We==="titulares"?[Ze[Le],et[ve]]=[et[ve],Ze[Le]]:[et[Le],Ze[ve]]=[Ze[ve],et[Le]],b(Ze),N(et)}O(!0),me(null)}};C.useEffect(()=>{const $e=ve=>{B.current&&!B.current.contains(ve.target)&&R(!1)};return document.addEventListener("mousedown",$e),()=>{document.removeEventListener("mousedown",$e)}},[]);const kt=$e=>{S($e.target.value)},$n=async()=>{try{k(!0);const $e=Ae(no,"usuarios",t.uid);await ut($e,{"equipo.formacion":K,"equipo.titulares":v,"equipo.banquillo":T}),se(K),O(!1)}catch($e){console.error("Error al guardar formación:",$e)}finally{k(!1),fe(!1)}},Un=()=>{u(!a)},fr=$e=>$e.toLocaleString("es-ES")+"€",Jr=async()=>{try{k(!0);const $e=await hs(ur(no,"jugadores"));let ve=[];if($e.forEach(et=>{const tt=et.data();tt.stockLibre>0&&ve.push({id:et.id,...tt})}),ve.length<4){await Oe.fire({icon:"warning",title:"No hay suficientes jugadores disponibles",text:"Se necesitan al menos 4 jugadores con stock para crear un equipo.",confirmButtonText:"Entendido"}),k(!1);return}const it=ve.filter(et=>et.precio>15e6&&et.precio<=4e7),Le=ve.filter(et=>et.precio<=15e6);let We=[],wt=0;if(it.length>=1&&Le.length>=3){const et=Math.floor(Math.random()*it.length);We.push(it[et]);for(let tt=0;tt<3;tt++){const vt=Math.floor(Math.random()*Le.length);We.push(Le[vt]),Le.splice(vt,1)}}else{const et=ve.filter(tt=>tt.precio<=4e7);if(et.length<4){await Oe.fire({icon:"error",title:"No hay jugadores válidos",text:"No hay suficiente stock para crear un equipo bajo las condiciones establecidas.",confirmButtonText:"Ok"}),k(!1);return}for(let tt=0;tt<4;tt++){const vt=Math.floor(Math.random()*et.length);We.push(et[vt]),et.splice(vt,1)}We.every(tt=>tt.precio<15e6)&&(wt=1e7)}const Ke=We.map(async et=>{const tt=Ae(no,"jugadores",et.id);return ut(tt,{stockLibre:et.stockLibre-1,dueños:Lf(t.uid)})});await Promise.all(Ke);const Ze=Ae(no,"usuarios",t.uid);await ut(Ze,{"equipo.titulares":We.map(et=>({jugadorId:et.id,clausulaPersonal:et.precioClausula})),"equipo.banquillo":[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],equipocreado:!0,...wt>0&&{dinero:increment(wt)}}),A(!0)}catch($e){console.error("Error al crear equipo:",$e),await Oe.fire({icon:"error",title:"Error al crear el equipo",text:"Inténtalo de nuevo más tarde."})}finally{k(!1),window.location.reload()}};return C.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const ve=setTimeout(async()=>{try{const it=Ae(no,"usuarios",kE.currentUser.uid);await ut(it,{onboarding:!0}),window.location.reload()}catch(it){console.error("Error actualizando onboarding:",it)}},500);return()=>clearTimeout(ve)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const ve=Ae(no,"usuarios",t.uid);St(ve).then(it=>{it.exists()&&o(it.data().dinero)})}(async()=>{const ve=[...f?.map(Ke=>Ke?.jugadorId)||[],...y?.map(Ke=>Ke?.jugadorId)||[]].filter(Boolean);if(ve.length===0)return;const it=ur(no,"jugadores"),Le=[];for(let Ke=0;Ke<ve.length;Ke+=10){const Ze=ve.slice(Ke,Ke+10),et=ku(it,Ru("__name__","in",Ze));Le.push(hs(et))}const wt=(await Promise.all(Le)).flatMap(Ke=>Ke.docs.map(Ze=>({id:Ze.id,...Ze.data()})));$(wt)})()},[t],[f,y]),F?m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:$e=>{$e.currentTarget.onerror=null,$e.currentTarget.src=Tt},alt:"Foto de perfil",onClick:()=>R(!te),onMouseEnter:()=>R(!0)}),te&&m.jsxs("div",{className:"perfil-bocadillo",ref:B,onMouseLeave:()=>R(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{Ie(!0),R(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:Z,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{re(!0),R(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:fr(r)})]})]})]}),m.jsx("button",{onClick:Un,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),je&&m.jsx(Ul,{usuario:t,openModal:je,setOpenModal:Ie}),X&&m.jsx(Bl,{usuario:t,openModal:X,setOpenModal:re}),He&&j&&m.jsx(DM,{jugador:j,clausulaPersonal:t?.equipo?.titulares?.find($e=>$e.jugadorId===j.id)?.clausulaPersonal??t?.equipo?.banquillo?.find($e=>$e.jugadorId===j.id)?.clausulaPersonal,openModal:He,setOpenModal:De,user:t,edicionActiva:Ce}),m.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[m.jsxs("div",{className:"formacion-selector",children:[m.jsx("label",{htmlFor:"formacion-select",children:"Formación:"}),m.jsx("select",{id:"formacion-select",value:K,onChange:kt,disabled:!Ce,children:z.map($e=>m.jsx("option",{value:$e,children:$e},$e))}),(K!==J||P)&&m.jsx("button",{onClick:$n,disabled:I,children:I?"Guardando...":"Guardar"})]}),m.jsx("div",{className:"modo-edicion-buttons",children:m.jsx("button",{onClick:qe,disabled:!Ce,children:Ce?oe?"Desactivar modo edición":"Activar modo edición":"🔒 Jornada Empezada"})}),m.jsx("div",{className:"campo",children:Rg[K]?.map(($e,ve)=>{const it=v[ve],Le=it?.jugadorId||null;it?.clausulaPersonal;const We=L.find(Ke=>Ke.id===Le),wt=he?.index===ve&&he?.tipo==="titulares";return m.jsxs("div",{className:`jugador ${oe?"modo-edicion":""} ${wt?"seleccionado":""}`,style:{position:"absolute",top:$e.top,left:$e.left,transform:"translate(-50%, -50%)"},onClick:()=>{oe?bt(We?.id||null,ve,"titulares"):We&&(De(!0),W(We))},children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:We?.foto||Tt,alt:We?.nombre||"Vacío",className:"jugador-img",style:RE(We,ve,K).style}),(()=>{const{status:Ke}=RE(We,ve,K);if(!Ke)return null;if(Ke==="green")return m.jsx("div",{className:"status-badge green",children:"✓"});if(Ke==="orange")return m.jsx("div",{className:"status-badge orange",children:"!"});if(Ke==="red")return m.jsx("div",{className:"status-badge red",children:"✕"})})(),M===We?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!We?.puntosPorJornada?.length)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const Ke=We.puntosPorJornada[We.puntosPorJornada.length-1];if(Ke==null)return null;let Ze=Ke==="-"?"gray":Ke<7?"red":Ke<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${Ze}`,children:Ke})})()]}),m.jsx("p",{className:"jugador-nombre",children:We?.nombre||"Vacío"})]},We?.id||ve)})}),m.jsxs("div",{className:"banquillo-section",children:[m.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),m.jsx("div",{className:"banquillo-container",children:T.map(($e,ve)=>{const it=$e?.jugadorId||null,Le=L.find(wt=>wt.id===it),We=he?.index===ve&&he?.tipo==="banquillo";return m.jsx("div",{className:`banquillo-slot ${oe?"modo-edicion":""} ${We?"seleccionado":""}`,onClick:()=>{oe?bt(Le?.id||null,ve,"banquillo"):Le&&(De(!0),W(Le))},children:Le?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:Le?.foto||Tt,alt:Le?.nombre||"Vacío",className:"jugador-img"}),M===Le?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!Le?.puntosPorJornada?.length)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const wt=Le.puntosPorJornada[Le.puntosPorJornada.length-1];if(wt==null)return null;let Ke=wt==="-"?"gray":wt<7?"red":wt<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${Ke}`,children:wt})})()]}),m.jsx("p",{className:"jugador-nombre-banquillo",children:Le?.nombre})]}):m.jsx(ft,{to:oe?"#":"/mercado",className:`banquillo-add ${oe?"disabled":""}`,onClick:wt=>{oe&&wt.preventDefault()},children:"+"})},Le?.id||ve)})})]})]})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]}):m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:$e=>{$e.currentTarget.onerror=null,$e.currentTarget.src=Tt},alt:"Foto de perfil",onClick:()=>R(!te),onMouseEnter:()=>R(!0)}),te&&m.jsxs("div",{className:"perfil-bocadillo",ref:B,onMouseLeave:()=>R(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{Ie(!0),R(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:Z,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{re(!0),R(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:fr(r)})]})]})]}),m.jsx("button",{onClick:Un,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),je&&m.jsx(Ul,{usuario:t,openModal:je,setOpenModal:Ie}),X&&m.jsx(Bl,{usuario:t,openModal:X,setOpenModal:re}),m.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:m.jsx("div",{className:"campo",children:m.jsx("button",{className:"crear-equipo-btn",onClick:Jr,disabled:I,children:I?"Creando equipo...":"Crear equipo"})})})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}function VM({jugador:t,openModal:e,setOpenModal:n}){Kr(),hr(),Vu();const r=t?.foto||Tt,o=f=>{switch(f){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return f||"Sin posición"}},a=C.useRef(),u=f=>{f.target===a.current&&n(!1)},h=f=>typeof f!="number"||isNaN(f)?"—":f.toLocaleString("es-ES")+"€";return e?m.jsx("div",{className:"modal-overlay",ref:a,onClick:u,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:r,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:o(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",h(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const f=t.historialPrecios||[];if(f.length===0)return m.jsx("small",{children:"(±0€)"});const y=f[f.length-1].precio||0,v=t.precio-y,b=v>0?"+":v<0?"-":"±";return m.jsxs("small",{className:v>0?"subida":v<0?"bajada":"igual",children:["(",b,h(Math.abs(v)),")"]})})()})]}),m.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",m.jsx("span",{className:"vendedor",children:t?.vendedor})]}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos: ",m.jsxs("span",{className:"media",children:[" ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(f=>typeof f=="number").reduce((f,y,v,b)=>f+y/b.length,0).toFixed(2):"-"]})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((f,y,v)=>{const b=f??"-",T=v.length<5?y+1:t.puntosPorJornada.length-5+y+1;let N="";return typeof f=="number"&&(f>=9?N="verde":f<7?N="rojo":N="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",T]}),m.jsx("div",{className:`jornada-cuadro ${N}`,children:b})]},y)}):[...Array(5)].map((f,y)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",y+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},y))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoración"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]})]})}):null}const As=hr(kn),PE=Kr(kn);function FM({usuario:t}){const[e,n]=C.useState(!1),[r,o]=C.useState(null),[a,u]=C.useState(!1),h=t?.fotoPerfil||Tt;t?.equipo?.titulares;const[f,y]=C.useState(!1);t?.equipo?.banquillo;const[v,b]=C.useState([]),[T,N]=C.useState([]),[L,$]=C.useState([]),[j,W]=C.useState([]),[M,z]=C.useState(!1),[J,se]=C.useState(!1),[K,S]=C.useState(!1),[I,k]=C.useState(null),[P,O]=C.useState(!1),[F,A]=C.useState(!1),je=C.useRef(null),[Ie,He]=C.useState("mercado"),De=()=>_u(PE),X=R=>typeof R!="number"||isNaN(R)?"—":R.toLocaleString("es-ES")+"€",re=R=>{switch(R){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return R||"Sin posición"}};C.useEffect(()=>{const R=Ae(As,"mercado","actual"),B=oE(R,async Z=>{const oe=Z.exists()?Z.data().jugadores||[]:[];try{const fe=await Promise.all(oe.map(async he=>{const me=Ae(As,"jugadores",he.idJugador),Ce=await St(me),Se=Ce.exists()?Ce.data():{};return{source:"system",idJugador:he.idJugador,nombre:Se.nombre||he.nombre||"Sin nombre",foto:Se.foto||he.foto||Tt,posicion:Se.posicion||he.posicion||"—",precio:typeof he.precio=="number"?he.precio:Number(he.precio)||Se.precio||0,stock:he.stock??1,historialPrecios:Se.historialPrecios||he.historialPrecios||[],puntosPorJornada:Se.puntosPorJornada||he.puntosPorJornada||[],vendedor:he.vendedor||"Fantasy Casadillos",goles:Se.goles,asistencias:Se.asistencias,partidos:Se.partidos,valoracion:Se.valoracion,nota:Se.nota,puntosTotales:Se.puntosTotales,_raw:he}}));b(fe.filter(Boolean))}catch(fe){console.error("Error enriqueciendo mercado sistema:",fe),b([])}});return()=>B()},[]),C.useEffect(()=>{const R=Ae(As,"mercadoUsuarios","actual"),B=oE(R,async Z=>{const oe=Z.exists()?Z.data().jugadores||[]:[];try{const he=(await Promise.all(oe.map(async me=>{if(!me||!me.jugadorId)return null;const Ce=Ae(As,"jugadores",me.jugadorId),Se=await St(Ce),qe=Se.exists()?Se.data():null;return qe?{source:"user",idJugador:me.jugadorId,nombre:qe.nombre||"Sin nombre",foto:qe.foto||Tt,posicion:qe.posicion||"—",precio:qe.precio||0,precioVenta:typeof me.precioVenta=="number"?me.precioVenta:Number(me.precioVenta),historialPrecios:qe.historialPrecios||[],puntosPorJornada:qe.puntosPorJornada||[],vendedor:me.vendedorNick||"Usuario",vendedorUid:me.vendedorUid,goles:qe.goles,asistencias:qe.asistencias,partidos:qe.partidos,valoracion:qe.valoracion,nota:qe.nota,puntosTotales:qe.puntosTotales,fecha:me.fecha||null}:{source:"user",idJugador:me.jugadorId,nombre:"Jugador no encontrado",foto:Tt,posicion:"—",precio:me.precioVenta??0,historialPrecios:[],puntosPorJornada:[],vendedor:me.vendedorNick||"Usuario",vendedorUid:me.vendedorUid,fecha:me.fecha||null}}))).filter(Boolean);N(he),t&&t.uid?W(he.filter(me=>me.vendedorUid===t.uid)):W([])}catch(fe){console.error("Error enriqueciendo mercado usuarios:",fe),N([]),W([])}});return()=>B()},[t]),C.useEffect(()=>{$([...v,...T])},[v,T]),C.useEffect(()=>{(async()=>{try{const B=Ae(As,"admin","controles"),Z=await St(B);if(Z.exists()){const oe=Z.data();A(oe.edicionActiva===!0)}}catch(B){console.error("Error al obtener estado de edición:",B)}})()},[]);const te=async R=>{if(R.source!=="system"){alert("Las pujas directas solo están permitidas para jugadores del mercado del sistema. Para jugadores puestos por usuarios, abre el detalle.");return}if(R.stock<=0){alert("Ya no queda stock de este jugador");return}try{const B=Ae(As,"mercado","actual"),Z=await St(B);if(!Z.exists())return;const fe=(Z.data().jugadores||[]).map(me=>me.idJugador===R.idJugador?{...me,stock:me.stock-1}:me);await ut(B,{jugadores:fe}),await ut(Ae(As,"jugadores",R.idJugador),{stockTotal:va(-1)});const he=Ae(As,"usuarios",PE.currentUser.uid);await ut(he,{"equipo.banquillo":[...t.equipo?.banquillo||[],R.idJugador]}),b(me=>me.map(Ce=>Ce.idJugador===R.idJugador?{...Ce,stock:(Ce.stock||1)-1}:Ce)),alert(`Has comprado a ${R.nombre}`)}catch(B){console.error("Error comprando jugador:",B),alert("Error al comprar el jugador")}};return C.useEffect(()=>{const R=B=>{je.current&&!je.current.contains(B.target)&&O(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),C.useEffect(()=>{if(t){if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t?.onboarding===!1){n(!0);const R=setTimeout(async()=>{try{const B=Ae(As,"usuarios",t.uid);await ut(B,{onboarding:!0}),window.location.reload()}catch(B){console.error(B)}},500);return()=>clearTimeout(R)}(async()=>{try{const R=Ae(As,"usuarios",t.uid),B=await St(R);B.exists()&&o(B.data().dinero)}catch{}})()}},[t]),m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:R=>{R.currentTarget.onerror=null,R.currentTarget.src=Tt},alt:"Foto de perfil",onClick:()=>O(!P),onMouseEnter:()=>O(!0)}),P&&m.jsxs("div",{className:"perfil-bocadillo",ref:je,onMouseLeave:()=>O(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{z(!0),O(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:De,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{S(!0),O(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:X(r)})]})]})]}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),M&&m.jsx(Ul,{usuario:t,openModal:M,setOpenModal:z}),K&&m.jsx(Bl,{usuario:t,openModal:K,setOpenModal:S}),J&&I&&m.jsx(VM,{jugador:I,openModal:J,setOpenModal:se}),m.jsxs("div",{className:"tabs-wrapper",children:[m.jsxs("div",{className:"tabs-container",children:[m.jsx("button",{className:`tab-btn ${Ie==="mercado"?"active":""}`,onClick:()=>He("mercado"),children:"Mercado"}),m.jsx("button",{className:`tab-btn ${Ie==="operaciones"?"active":""}`,onClick:()=>He("operaciones"),children:"Mis operaciones"})]}),Ie==="mercado"&&m.jsx("div",{className:"mercado-jugadores",children:L.length===0?m.jsx("div",{className:"sin-mercado",children:m.jsx("p",{children:"No hay mercado disponible"})}):m.jsx("ul",{className:"lista-jugadores",children:L.map(R=>{const B=`${R.idJugador}-${R.source}-${R.vendedorUid||"system"}`;return m.jsx("li",{className:"jugador-card",onClick:()=>{k(R),se(!0)},children:m.jsxs("div",{className:"jugador-perfil",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:R.foto||Tt,alt:R.nombre,onError:Z=>{Z.currentTarget.onerror=null,Z.currentTarget.src=Tt}})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:R.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${R.posicion||""}`,children:m.jsx("small",{children:re(R.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",Number(R.precio)?X(Number(R.precio)):"—"]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const Z=R.historialPrecios||[];if(Z.length===0)return m.jsx("small",{children:"(±0€)"});const oe=Z[Z.length-1]?.precio||0,fe=(R.precio||0)-oe,he=fe>0?"+":fe<0?"-":"±";return m.jsxs("small",{className:fe>0?"subida":fe<0?"bajada":"igual",children:["(",he,X(Math.abs(fe)),")"]})})()})]}),m.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",m.jsx("span",{className:"vendedor",children:R.vendedor})]}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos: ",m.jsx("span",{className:"media",children:R.puntosPorJornada&&R.puntosPorJornada.length>0?R.puntosPorJornada.filter(Z=>typeof Z=="number").reduce((Z,oe,fe,he)=>Z+oe/he.length,0).toFixed(2):"-"})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:(R.puntosPorJornada||[]).slice(-5).map((Z,oe)=>{const fe=Z??"-",he=R.puntosPorJornada?R.puntosPorJornada.length:0,me=Math.max(1,he-5+oe+1);let Ce="";return typeof Z=="number"&&(Z>=9?Ce="verde":Z<7&&(Ce="rojo")),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",me]}),m.jsx("div",{className:`jornada-cuadro ${Ce}`,children:fe})]},oe)})})})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:m.jsx("button",{className:"btn-comprar",disabled:!F||R.source!=="system",onClick:Z=>{Z.stopPropagation(),R.source==="system"?te(R):(k(R),se(!0))},children:R.source==="system"?"Pujar por el jugador":"Ver detalles"})})]})},B)})})}),Ie==="operaciones"&&m.jsx("div",{className:"operaciones-container",children:m.jsxs("div",{className:"operaciones-animacion",children:[m.jsx("h2",{children:"Mis operaciones pendientes"}),j&&j.length>0?m.jsx("ul",{children:j.map((R,B)=>m.jsxs("li",{children:[R.nombre," — ",X(R.precio)," (puesto en venta)"]},`${R.idJugador}-${B}`))}):m.jsx("p",{children:"No tienes operaciones pendientes"})]})})]})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}var Mn=function(){return Mn=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mn.apply(this,arguments)};function tf(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var At="-ms-",tu="-moz-",mt="-webkit-",$T="comm",Hf="rule",uw="decl",$M="@import",UT="@keyframes",UM="@layer",BT=Math.abs,dw=String.fromCharCode,Pg=Object.assign;function BM(t,e){return wn(t,0)^45?(((e<<2^wn(t,0))<<2^wn(t,1))<<2^wn(t,2))<<2^wn(t,3):0}function zT(t){return t.trim()}function hi(t,e){return(t=e.exec(t))?t[0]:t}function Ge(t,e,n){return t.replace(e,n)}function yh(t,e,n){return t.indexOf(e,n)}function wn(t,e){return t.charCodeAt(e)|0}function zl(t,e,n){return t.slice(e,n)}function Os(t){return t.length}function HT(t){return t.length}function Kc(t,e){return e.push(t),t}function zM(t,e){return t.map(e).join("")}function AE(t,e){return t.filter(function(n){return!hi(n,e)})}var qf=1,Hl=1,qT=0,Gr=0,nn=0,ic="";function Wf(t,e,n,r,o,a,u,h){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:qf,column:Hl,length:u,return:"",siblings:h}}function so(t,e){return Pg(Wf("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function wl(t){for(;t.root;)t=so(t.root,{children:[t]});Kc(t,t.siblings)}function HM(){return nn}function qM(){return nn=Gr>0?wn(ic,--Gr):0,Hl--,nn===10&&(Hl=1,qf--),nn}function us(){return nn=Gr<qT?wn(ic,Gr++):0,Hl++,nn===10&&(Hl=1,qf++),nn}function da(){return wn(ic,Gr)}function wh(){return Gr}function Gf(t,e){return zl(ic,t,e)}function Ag(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WM(t){return qf=Hl=1,qT=Os(ic=t),Gr=0,[]}function GM(t){return ic="",t}function zm(t){return zT(Gf(Gr-1,Ng(t===91?t+2:t===40?t+1:t)))}function KM(t){for(;(nn=da())&&nn<33;)us();return Ag(t)>2||Ag(nn)>3?"":" "}function JM(t,e){for(;--e&&us()&&!(nn<48||nn>102||nn>57&&nn<65||nn>70&&nn<97););return Gf(t,wh()+(e<6&&da()==32&&us()==32))}function Ng(t){for(;us();)switch(nn){case t:return Gr;case 34:case 39:t!==34&&t!==39&&Ng(nn);break;case 40:t===41&&Ng(t);break;case 92:us();break}return Gr}function QM(t,e){for(;us()&&t+nn!==57;)if(t+nn===84&&da()===47)break;return"/*"+Gf(e,Gr-1)+"*"+dw(t===47?t:us())}function YM(t){for(;!Ag(da());)us();return Gf(t,Gr)}function XM(t){return GM(vh("",null,null,null,[""],t=WM(t),0,[0],t))}function vh(t,e,n,r,o,a,u,h,f){for(var y=0,v=0,b=u,T=0,N=0,L=0,$=1,j=1,W=1,M=0,z="",J=o,se=a,K=r,S=z;j;)switch(L=M,M=us()){case 40:if(L!=108&&wn(S,b-1)==58){yh(S+=Ge(zm(M),"&","&\f"),"&\f",BT(y?h[y-1]:0))!=-1&&(W=-1);break}case 34:case 39:case 91:S+=zm(M);break;case 9:case 10:case 13:case 32:S+=KM(L);break;case 92:S+=JM(wh()-1,7);continue;case 47:switch(da()){case 42:case 47:Kc(ZM(QM(us(),wh()),e,n,f),f);break;default:S+="/"}break;case 123*$:h[y++]=Os(S)*W;case 125*$:case 59:case 0:switch(M){case 0:case 125:j=0;case 59+v:W==-1&&(S=Ge(S,/\f/g,"")),N>0&&Os(S)-b&&Kc(N>32?DE(S+";",r,n,b-1,f):DE(Ge(S," ","")+";",r,n,b-2,f),f);break;case 59:S+=";";default:if(Kc(K=NE(S,e,n,y,v,o,h,z,J=[],se=[],b,a),a),M===123)if(v===0)vh(S,e,K,K,J,a,b,h,se);else switch(T===99&&wn(S,3)===110?100:T){case 100:case 108:case 109:case 115:vh(t,K,K,r&&Kc(NE(t,K,K,0,0,o,h,z,o,J=[],b,se),se),o,se,b,h,r?J:se);break;default:vh(S,K,K,K,[""],se,0,h,se)}}y=v=N=0,$=W=1,z=S="",b=u;break;case 58:b=1+Os(S),N=L;default:if($<1){if(M==123)--$;else if(M==125&&$++==0&&qM()==125)continue}switch(S+=dw(M),M*$){case 38:W=v>0?1:(S+="\f",-1);break;case 44:h[y++]=(Os(S)-1)*W,W=1;break;case 64:da()===45&&(S+=zm(us())),T=da(),v=b=Os(z=S+=YM(wh())),M++;break;case 45:L===45&&Os(S)==2&&($=0)}}return a}function NE(t,e,n,r,o,a,u,h,f,y,v,b){for(var T=o-1,N=o===0?a:[""],L=HT(N),$=0,j=0,W=0;$<r;++$)for(var M=0,z=zl(t,T+1,T=BT(j=u[$])),J=t;M<L;++M)(J=zT(j>0?N[M]+" "+z:Ge(z,/&\f/g,N[M])))&&(f[W++]=J);return Wf(t,e,n,o===0?Hf:h,f,y,v,b)}function ZM(t,e,n,r){return Wf(t,e,n,$T,dw(HM()),zl(t,2,-2),0,r)}function DE(t,e,n,r,o){return Wf(t,e,n,uw,zl(t,0,r),zl(t,r+1,-1),r,o)}function WT(t,e,n){switch(BM(t,e)){case 5103:return mt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mt+t+t;case 4789:return tu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return mt+t+tu+t+At+t+t;case 5936:switch(wn(t,e+11)){case 114:return mt+t+At+Ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return mt+t+At+Ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return mt+t+At+Ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return mt+t+At+t+t;case 6165:return mt+t+At+"flex-"+t+t;case 5187:return mt+t+Ge(t,/(\w+).+(:[^]+)/,mt+"box-$1$2"+At+"flex-$1$2")+t;case 5443:return mt+t+At+"flex-item-"+Ge(t,/flex-|-self/g,"")+(hi(t,/flex-|baseline/)?"":At+"grid-row-"+Ge(t,/flex-|-self/g,""))+t;case 4675:return mt+t+At+"flex-line-pack"+Ge(t,/align-content|flex-|-self/g,"")+t;case 5548:return mt+t+At+Ge(t,"shrink","negative")+t;case 5292:return mt+t+At+Ge(t,"basis","preferred-size")+t;case 6060:return mt+"box-"+Ge(t,"-grow","")+mt+t+At+Ge(t,"grow","positive")+t;case 4554:return mt+Ge(t,/([^-])(transform)/g,"$1"+mt+"$2")+t;case 6187:return Ge(Ge(Ge(t,/(zoom-|grab)/,mt+"$1"),/(image-set)/,mt+"$1"),t,"")+t;case 5495:case 3959:return Ge(t,/(image-set\([^]*)/,mt+"$1$`$1");case 4968:return Ge(Ge(t,/(.+:)(flex-)?(.*)/,mt+"box-pack:$3"+At+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mt+t+t;case 4200:if(!hi(t,/flex-|baseline/))return At+"grid-column-align"+zl(t,e)+t;break;case 2592:case 3360:return At+Ge(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,hi(r.props,/grid-\w+-end/)})?~yh(t+(n=n[e].value),"span",0)?t:At+Ge(t,"-start","")+t+At+"grid-row-span:"+(~yh(n,"span",0)?hi(n,/\d+/):+hi(n,/\d+/)-+hi(t,/\d+/))+";":At+Ge(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return hi(r.props,/grid-\w+-start/)})?t:At+Ge(Ge(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ge(t,/(.+)-inline(.+)/,mt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Os(t)-1-e>6)switch(wn(t,e+1)){case 109:if(wn(t,e+4)!==45)break;case 102:return Ge(t,/(.+:)(.+)-([^]+)/,"$1"+mt+"$2-$3$1"+tu+(wn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~yh(t,"stretch",0)?WT(Ge(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ge(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,a,u,h,f,y){return At+o+":"+a+y+(u?At+o+"-span:"+(h?f:+f-+a)+y:"")+t});case 4949:if(wn(t,e+6)===121)return Ge(t,":",":"+mt)+t;break;case 6444:switch(wn(t,wn(t,14)===45?18:11)){case 120:return Ge(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+mt+(wn(t,14)===45?"inline-":"")+"box$3$1"+mt+"$2$3$1"+At+"$2box$3")+t;case 100:return Ge(t,":",":"+At)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ge(t,"scroll-","scroll-snap-")+t}return t}function nf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function e5(t,e,n,r){switch(t.type){case UM:if(t.children.length)break;case $M:case uw:return t.return=t.return||t.value;case $T:return"";case UT:return t.return=t.value+"{"+nf(t.children,r)+"}";case Hf:if(!Os(t.value=t.props.join(",")))return""}return Os(n=nf(t.children,r))?t.return=t.value+"{"+n+"}":""}function t5(t){var e=HT(t);return function(n,r,o,a){for(var u="",h=0;h<e;h++)u+=t[h](n,r,o,a)||"";return u}}function n5(t){return function(e){e.root||(e=e.return)&&t(e)}}function r5(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case uw:t.return=WT(t.value,t.length,n);return;case UT:return nf([so(t,{value:Ge(t.value,"@","@"+mt)})],r);case Hf:if(t.length)return zM(n=t.props,function(o){switch(hi(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":wl(so(t,{props:[Ge(o,/:(read-\w+)/,":"+tu+"$1")]})),wl(so(t,{props:[o]})),Pg(t,{props:AE(n,r)});break;case"::placeholder":wl(so(t,{props:[Ge(o,/:(plac\w+)/,":"+mt+"input-$1")]})),wl(so(t,{props:[Ge(o,/:(plac\w+)/,":"+tu+"$1")]})),wl(so(t,{props:[Ge(o,/:(plac\w+)/,At+"input-$1")]})),wl(so(t,{props:[o]})),Pg(t,{props:AE(n,r)});break}return""})}}var s5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tr={},ql=typeof process<"u"&&Tr!==void 0&&(Tr.REACT_APP_SC_ATTR||Tr.SC_ATTR)||"data-styled",GT="active",KT="data-styled-version",Kf="6.1.19",hw=`/*!sc*/
`,rf=typeof window<"u"&&typeof document<"u",i5=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Tr!==void 0&&Tr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Tr.REACT_APP_SC_DISABLE_SPEEDY!==""?Tr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Tr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Tr!==void 0&&Tr.SC_DISABLE_SPEEDY!==void 0&&Tr.SC_DISABLE_SPEEDY!==""&&Tr.SC_DISABLE_SPEEDY!=="false"&&Tr.SC_DISABLE_SPEEDY),Jf=Object.freeze([]),Wl=Object.freeze({});function o5(t,e,n){return n===void 0&&(n=Wl),t.theme!==n.theme&&t.theme||e||n.theme}var JT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),a5=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,l5=/(^-|-$)/g;function OE(t){return t.replace(a5,"-").replace(l5,"")}var c5=/(a)(d)/gi,th=52,jE=function(t){return String.fromCharCode(t+(t>25?39:97))};function Dg(t){var e,n="";for(e=Math.abs(t);e>th;e=e/th|0)n=jE(e%th)+n;return(jE(e%th)+n).replace(c5,"$1-$2")}var Hm,QT=5381,Cl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},YT=function(t){return Cl(QT,t)};function u5(t){return Dg(YT(t)>>>0)}function d5(t){return t.displayName||t.name||"Component"}function qm(t){return typeof t=="string"&&!0}var XT=typeof Symbol=="function"&&Symbol.for,ZT=XT?Symbol.for("react.memo"):60115,h5=XT?Symbol.for("react.forward_ref"):60112,f5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},p5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},eI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},m5=((Hm={})[h5]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Hm[ZT]=eI,Hm);function LE(t){return("type"in(e=t)&&e.type.$$typeof)===ZT?eI:"$$typeof"in t?m5[t.$$typeof]:f5;var e}var g5=Object.defineProperty,y5=Object.getOwnPropertyNames,ME=Object.getOwnPropertySymbols,w5=Object.getOwnPropertyDescriptor,v5=Object.getPrototypeOf,VE=Object.prototype;function tI(t,e,n){if(typeof e!="string"){if(VE){var r=v5(e);r&&r!==VE&&tI(t,r,n)}var o=y5(e);ME&&(o=o.concat(ME(e)));for(var a=LE(t),u=LE(e),h=0;h<o.length;++h){var f=o[h];if(!(f in p5||n&&n[f]||u&&f in u||a&&f in a)){var y=w5(e,f);try{g5(t,f,y)}catch{}}}}return t}function ba(t){return typeof t=="function"}function fw(t){return typeof t=="object"&&"styledComponentId"in t}function aa(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function FE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function fu(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Og(t,e,n){if(n===void 0&&(n=!1),!n&&!fu(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Og(t[r],e[r]);else if(fu(e))for(var r in e)t[r]=Og(t[r],e[r]);return t}function pw(t,e){Object.defineProperty(t,"toString",{value:e})}function Ca(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var _5=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,a=o;e>=a;)if((a<<=1)<0)throw Ca(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var u=o;u<a;u++)this.groupSizes[u]=0}for(var h=this.indexOfGroup(e+1),f=(u=0,n.length);u<f;u++)this.tag.insertRule(h,n[u])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var a=r;a<o;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),a=o+r,u=o;u<a;u++)n+="".concat(this.tag.getRule(u)).concat(hw);return n},t})(),_h=new Map,sf=new Map,Eh=1,nh=function(t){if(_h.has(t))return _h.get(t);for(;sf.has(Eh);)Eh++;var e=Eh++;return _h.set(t,e),sf.set(e,t),e},E5=function(t,e){Eh=e+1,_h.set(t,e),sf.set(e,t)},b5="style[".concat(ql,"][").concat(KT,'="').concat(Kf,'"]'),C5=new RegExp("^".concat(ql,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),T5=function(t,e,n){for(var r,o=n.split(","),a=0,u=o.length;a<u;a++)(r=o[a])&&t.registerName(e,r)},I5=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(hw),o=[],a=0,u=r.length;a<u;a++){var h=r[a].trim();if(h){var f=h.match(C5);if(f){var y=0|parseInt(f[1],10),v=f[2];y!==0&&(E5(v,y),T5(t,v,f[3]),t.getTag().insertRules(y,o)),o.length=0}else o.push(h)}}},$E=function(t){for(var e=document.querySelectorAll(b5),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute(ql)!==GT&&(I5(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function S5(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var nI=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=(function(h){var f=Array.from(h.querySelectorAll("style[".concat(ql,"]")));return f[f.length-1]})(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(ql,GT),r.setAttribute(KT,Kf);var u=S5();return u&&r.setAttribute("nonce",u),n.insertBefore(r,a),r},x5=(function(){function t(e){this.element=nI(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,a=r.length;o<a;o++){var u=r[o];if(u.ownerNode===n)return u}throw Ca(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),k5=(function(){function t(e){this.element=nI(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),R5=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),UE=rf,P5={isServer:!rf,useCSSOMInjection:!i5},rI=(function(){function t(e,n,r){e===void 0&&(e=Wl),n===void 0&&(n={});var o=this;this.options=Mn(Mn({},P5),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&rf&&UE&&(UE=!1,$E(this)),pw(this,function(){return(function(a){for(var u=a.getTag(),h=u.length,f="",y=function(b){var T=(function(W){return sf.get(W)})(b);if(T===void 0)return"continue";var N=a.names.get(T),L=u.getGroup(b);if(N===void 0||!N.size||L.length===0)return"continue";var $="".concat(ql,".g").concat(b,'[id="').concat(T,'"]'),j="";N!==void 0&&N.forEach(function(W){W.length>0&&(j+="".concat(W,","))}),f+="".concat(L).concat($,'{content:"').concat(j,'"}').concat(hw)},v=0;v<h;v++)y(v);return f})(o)})}return t.registerId=function(e){return nh(e)},t.prototype.rehydrate=function(){!this.server&&rf&&$E(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Mn(Mn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new R5(o):r?new x5(o):new k5(o)})(this.options),new _5(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(nh(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(nh(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(nh(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),A5=/&/g,N5=/^\s*\/\/.*$/gm;function sI(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=sI(n.children,e)),n})}function D5(t){var e,n,r,o=Wl,a=o.options,u=a===void 0?Wl:a,h=o.plugins,f=h===void 0?Jf:h,y=function(T,N,L){return L.startsWith(n)&&L.endsWith(n)&&L.replaceAll(n,"").length>0?".".concat(e):T},v=f.slice();v.push(function(T){T.type===Hf&&T.value.includes("&")&&(T.props[0]=T.props[0].replace(A5,n).replace(r,y))}),u.prefix&&v.push(r5),v.push(e5);var b=function(T,N,L,$){N===void 0&&(N=""),L===void 0&&(L=""),$===void 0&&($="&"),e=$,n=N,r=new RegExp("\\".concat(n,"\\b"),"g");var j=T.replace(N5,""),W=XM(L||N?"".concat(L," ").concat(N," { ").concat(j," }"):j);u.namespace&&(W=sI(W,u.namespace));var M=[];return nf(W,t5(v.concat(n5(function(z){return M.push(z)})))),M};return b.hash=f.length?f.reduce(function(T,N){return N.name||Ca(15),Cl(T,N.name)},QT).toString():"",b}var O5=new rI,jg=D5(),iI=Je.createContext({shouldForwardProp:void 0,styleSheet:O5,stylis:jg});iI.Consumer;Je.createContext(void 0);function BE(){return C.useContext(iI)}var j5=(function(){function t(e,n){var r=this;this.inject=function(o,a){a===void 0&&(a=jg);var u=r.name+a.hash;o.hasNameForId(r.id,u)||o.insertRules(r.id,u,a(r.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,pw(this,function(){throw Ca(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=jg),this.name+e.hash},t})(),L5=function(t){return t>="A"&&t<="Z"};function zE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;L5(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var oI=function(t){return t==null||t===!1||t===""},aI=function(t){var e,n,r=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!oI(a)&&(Array.isArray(a)&&a.isCss||ba(a)?r.push("".concat(zE(o),":"),a,";"):fu(a)?r.push.apply(r,tf(tf(["".concat(o," {")],aI(a),!1),["}"],!1)):r.push("".concat(zE(o),": ").concat((e=o,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in s5||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ha(t,e,n,r){if(oI(t))return[];if(fw(t))return[".".concat(t.styledComponentId)];if(ba(t)){if(!ba(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var o=t(e);return ha(o,e,n,r)}var a;return t instanceof j5?n?(t.inject(n,r),[t.getName(r)]):[t]:fu(t)?aI(t):Array.isArray(t)?Array.prototype.concat.apply(Jf,t.map(function(u){return ha(u,e,n,r)})):[t.toString()]}function M5(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ba(n)&&!fw(n))return!1}return!0}var V5=YT(Kf),F5=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&M5(e),this.componentId=n,this.baseHash=Cl(V5,n),this.baseStyle=r,rI.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=aa(o,this.staticRulesId);else{var a=FE(ha(this.rules,e,n,r)),u=Dg(Cl(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,u)){var h=r(a,".".concat(u),void 0,this.componentId);n.insertRules(this.componentId,u,h)}o=aa(o,u),this.staticRulesId=u}else{for(var f=Cl(this.baseHash,r.hash),y="",v=0;v<this.rules.length;v++){var b=this.rules[v];if(typeof b=="string")y+=b;else if(b){var T=FE(ha(b,e,n,r));f=Cl(f,T+v),y+=T}}if(y){var N=Dg(f>>>0);n.hasNameForId(this.componentId,N)||n.insertRules(this.componentId,N,r(y,".".concat(N),void 0,this.componentId)),o=aa(o,N)}}return o},t})(),of=Je.createContext(void 0);of.Consumer;function $5(t){var e=Je.useContext(of),n=C.useMemo(function(){return(function(r,o){if(!r)throw Ca(14);if(ba(r)){var a=r(o);return a}if(Array.isArray(r)||typeof r!="object")throw Ca(8);return o?Mn(Mn({},o),r):r})(t.theme,e)},[t.theme,e]);return t.children?Je.createElement(of.Provider,{value:n},t.children):null}var Wm={};function U5(t,e,n){var r=fw(t),o=t,a=!qm(t),u=e.attrs,h=u===void 0?Jf:u,f=e.componentId,y=f===void 0?(function(J,se){var K=typeof J!="string"?"sc":OE(J);Wm[K]=(Wm[K]||0)+1;var S="".concat(K,"-").concat(u5(Kf+K+Wm[K]));return se?"".concat(se,"-").concat(S):S})(e.displayName,e.parentComponentId):f,v=e.displayName,b=v===void 0?(function(J){return qm(J)?"styled.".concat(J):"Styled(".concat(d5(J),")")})(t):v,T=e.displayName&&e.componentId?"".concat(OE(e.displayName),"-").concat(e.componentId):e.componentId||y,N=r&&o.attrs?o.attrs.concat(h).filter(Boolean):h,L=e.shouldForwardProp;if(r&&o.shouldForwardProp){var $=o.shouldForwardProp;if(e.shouldForwardProp){var j=e.shouldForwardProp;L=function(J,se){return $(J,se)&&j(J,se)}}else L=$}var W=new F5(n,T,r?o.componentStyle:void 0);function M(J,se){return(function(K,S,I){var k=K.attrs,P=K.componentStyle,O=K.defaultProps,F=K.foldedComponentIds,A=K.styledComponentId,je=K.target,Ie=Je.useContext(of),He=BE(),De=K.shouldForwardProp||He.shouldForwardProp,X=o5(S,Ie,O)||Wl,re=(function(fe,he,me){for(var Ce,Se=Mn(Mn({},he),{className:void 0,theme:me}),qe=0;qe<fe.length;qe+=1){var bt=ba(Ce=fe[qe])?Ce(Se):Ce;for(var kt in bt)Se[kt]=kt==="className"?aa(Se[kt],bt[kt]):kt==="style"?Mn(Mn({},Se[kt]),bt[kt]):bt[kt]}return he.className&&(Se.className=aa(Se.className,he.className)),Se})(k,S,X),te=re.as||je,R={};for(var B in re)re[B]===void 0||B[0]==="$"||B==="as"||B==="theme"&&re.theme===X||(B==="forwardedAs"?R.as=re.forwardedAs:De&&!De(B,te)||(R[B]=re[B]));var Z=(function(fe,he){var me=BE(),Ce=fe.generateAndInjectStyles(he,me.styleSheet,me.stylis);return Ce})(P,re),oe=aa(F,A);return Z&&(oe+=" "+Z),re.className&&(oe+=" "+re.className),R[qm(te)&&!JT.has(te)?"class":"className"]=oe,I&&(R.ref=I),C.createElement(te,R)})(z,J,se)}M.displayName=b;var z=Je.forwardRef(M);return z.attrs=N,z.componentStyle=W,z.displayName=b,z.shouldForwardProp=L,z.foldedComponentIds=r?aa(o.foldedComponentIds,o.styledComponentId):"",z.styledComponentId=T,z.target=r?o.target:t,Object.defineProperty(z,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(J){this._foldedDefaultProps=r?(function(se){for(var K=[],S=1;S<arguments.length;S++)K[S-1]=arguments[S];for(var I=0,k=K;I<k.length;I++)Og(se,k[I],!0);return se})({},o.defaultProps,J):J}}),pw(z,function(){return".".concat(z.styledComponentId)}),a&&tI(z,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),z}function HE(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var qE=function(t){return Object.assign(t,{isCss:!0})};function hn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ba(t)||fu(t))return qE(ha(HE(Jf,tf([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ha(r):qE(ha(HE(r,e)))}function Lg(t,e,n){if(n===void 0&&(n=Wl),!e)throw Ca(1,e);var r=function(o){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];return t(e,n,hn.apply(void 0,tf([o],a,!1)))};return r.attrs=function(o){return Lg(t,e,Mn(Mn({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Lg(t,e,Mn(Mn({},n),o))},r}var lI=function(t){return Lg(U5,t)},Xe=lI;JT.forEach(function(t){Xe[t]=lI(t)});var vo;function Gl(t,e){return t[e]}function B5(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function z5(t=[],e,n="id"){const r=t.slice(),o=Gl(e,n);return o?r.splice(r.findIndex((a=>Gl(a,n)===o)),1):r.splice(r.findIndex((a=>a===e)),1),r}function WE(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function nu(t,e){return Math.ceil(t/e)}function Gm(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(vo||(vo={}));const un=()=>null;function cI(t,e=[],n=[]){let r={},o=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(o=[...o,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:o.join(" ")}}function bh(t,e=[],n="id"){const r=Gl(t,n);return r?e.some((o=>Gl(o,n)===r)):e.some((o=>o===t))}function rh(t,e){return e?t.findIndex((n=>ru(n.id,e))):-1}function ru(t,e){return t==e}function H5(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:o,rowCount:a,mergeSelections:u}=e,h=!t.allSelected,f=!t.toggleOnSelectedRowsChange;if(u){const y=h?[...t.selectedRows,...o.filter((v=>!bh(v,t.selectedRows,r)))]:t.selectedRows.filter((v=>!bh(v,o,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:y.length,selectedRows:y,toggleOnSelectedRowsChange:f})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?o:[],toggleOnSelectedRowsChange:f})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:o,isSelected:a,rowCount:u,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[o],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:z5(t.selectedRows,o,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===u,selectedRows:B5(t.selectedRows,o),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:o,totalRows:a,mergeSelections:u}=e;if(u){const h=[...t.selectedRows,...o.filter((f=>!bh(f,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:o.length,allSelected:o.length===a,selectedRows:o,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:o,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:o,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:o,visibleOnly:a,persistSelectedOnPageChange:u}=e,h=o&&u,f=o&&!u||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),f&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:o}=e;return Object.assign(Object.assign({},t),{currentPage:o,rowsPerPage:r})}}}const q5=hn`
	pointer-events: none;
	opacity: 0.4;
`,W5=Xe.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&q5};
	${({theme:t})=>t.table.style};
`,G5=hn`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,K5=Xe.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&G5};
	${({theme:t})=>t.head.style};
`,J5=Xe.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,uI=(t,...e)=>hn`
		@media screen and (max-width: ${599}px) {
			${hn(t,...e)}
		}
	`,Q5=(t,...e)=>hn`
		@media screen and (max-width: ${959}px) {
			${hn(t,...e)}
		}
	`,Y5=(t,...e)=>hn`
		@media screen and (max-width: ${1280}px) {
			${hn(t,...e)}
		}
	`,X5=t=>(e,...n)=>hn`
			@media screen and (max-width: ${t}px) {
				${hn(e,...n)}
			}
		`,oc=Xe.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,dI=Xe(oc)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&hn`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&uI`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&Q5`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&Y5`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&X5(t)`
    display: none;
  `};
`,Z5=hn`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,eV=Xe(dI).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&Z5};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var tV=C.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:o,isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:y,onDragLeave:v}){const{conditionalStyle:b,classNames:T}=cI(n,e.conditionalCellStyles,["rdt_TableCell"]);return C.createElement(eV,{id:t,"data-column-id":e.id,role:"cell",className:T,"data-tag":o,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:b,$isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:y,onDragLeave:v},!e.cell&&C.createElement("div",{"data-tag":o},(function(N,L,$,j){return L?$&&typeof $=="function"?$(N,j):L(N,j):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const GE="input";var hI=C.memo((function({name:t,component:e=GE,componentOptions:n={style:{}},indeterminate:r=!1,checked:o=!1,disabled:a=!1,onClick:u=un}){const h=e,f=h!==GE?n.style:(v=>Object.assign(Object.assign({fontSize:"18px"},!v&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),y=C.useMemo((()=>(function(v,...b){let T;return Object.keys(v).map((N=>v[N])).forEach(((N,L)=>{typeof N=="function"&&(T=Object.assign(Object.assign({},v),{[Object.keys(v)[L]]:N(...b)}))})),T||v})(n,r)),[n,r]);return C.createElement(h,Object.assign({type:"checkbox",ref:v=>{v&&(v.indeterminate=r)},style:f,onClick:a?un:u,name:t,"aria-label":t,checked:o,disabled:a},y,{onChange:un}))}));const nV=Xe(oc)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function rV({name:t,keyField:e,row:n,rowCount:r,selected:o,selectableRowsComponent:a,selectableRowsComponentProps:u,selectableRowsSingle:h,selectableRowDisabled:f,onSelectedRow:y}){const v=!(!f||!f(n));return C.createElement(nV,{onClick:b=>b.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},C.createElement(hI,{name:t,component:a,componentOptions:u,checked:o,"aria-checked":o,onClick:()=>{y({type:"SELECT_SINGLE_ROW",row:n,isSelected:o,keyField:e,rowCount:r,singleSelect:h})},disabled:v}))}const sV=Xe.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function iV({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:o,onToggled:a}){const u=e?n.expanded:n.collapsed;return C.createElement(sV,{"aria-disabled":t,onClick:()=>a&&a(o),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},u)}const oV=Xe(oc)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function aV({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:o,disabled:a=!1}){return C.createElement(oV,{onClick:u=>u.stopPropagation(),$noPadding:!0},C.createElement(iV,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:o}))}const lV=Xe.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var cV=C.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:o}){const a=["rdt_ExpanderRow",...o.split(" ").filter((u=>u!=="rdt_TableRow"))].join(" ");return C.createElement(lV,{className:a,$extendedRowStyle:r},C.createElement(e,Object.assign({data:t},n)))}));const Km="allowRowEvents";var af,Mg,KE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(af||(af={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(Mg||(Mg={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(KE||(KE={}));const uV=hn`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,dV=hn`
	&:hover {
		cursor: pointer;
	}
`,hV=Xe.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&uV};
	${({$pointerOnHover:t})=>t&&dV};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function fV({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:o=!1,expandableIcon:a,expandableRows:u=!1,expandableRowsComponent:h,expandableRowsComponentProps:f,expandableRowsHideExpander:y,expandOnRowClicked:v=!1,expandOnRowDoubleClicked:b=!1,highlightOnHover:T=!1,id:N,expandableInheritConditionalStyles:L,keyField:$,onRowClicked:j=un,onRowDoubleClicked:W=un,onRowMouseEnter:M=un,onRowMouseLeave:z=un,onRowExpandToggled:J=un,onSelectedRow:se=un,pointerOnHover:K=!1,row:S,rowCount:I,rowIndex:k,selectableRowDisabled:P=null,selectableRows:O=!1,selectableRowsComponent:F,selectableRowsComponentProps:A,selectableRowsHighlight:je=!1,selectableRowsSingle:Ie=!1,selected:He,striped:De=!1,draggingColumnId:X,onDragStart:re,onDragOver:te,onDragEnd:R,onDragEnter:B,onDragLeave:Z}){const[oe,fe]=C.useState(n);C.useEffect((()=>{fe(n)}),[n]);const he=C.useCallback((()=>{fe(!oe),J(!oe,S)}),[oe,J,S]),me=K||u&&(v||b),Ce=C.useCallback((ve=>{ve.target.getAttribute("data-tag")===Km&&(j(S,ve),!r&&u&&v&&he())}),[r,v,u,he,j,S]),Se=C.useCallback((ve=>{ve.target.getAttribute("data-tag")===Km&&(W(S,ve),!r&&u&&b&&he())}),[r,b,u,he,W,S]),qe=C.useCallback((ve=>{M(S,ve)}),[M,S]),bt=C.useCallback((ve=>{z(S,ve)}),[z,S]),kt=Gl(S,$),{conditionalStyle:$n,classNames:Un}=cI(S,e,["rdt_TableRow"]),fr=je&&He,Jr=L?$n:{},$e=De&&k%2==0;return C.createElement(C.Fragment,null,C.createElement(hV,{id:`row-${N}`,role:"row",$striped:$e,$highlightOnHover:T,$pointerOnHover:!r&&me,$dense:o,onClick:Ce,onDoubleClick:Se,onMouseEnter:qe,onMouseLeave:bt,className:Un,$selected:fr,$conditionalStyle:$n},O&&C.createElement(rV,{name:`select-row-${kt}`,keyField:$,row:S,rowCount:I,selected:He,selectableRowsComponent:F,selectableRowsComponentProps:A,selectableRowDisabled:P,selectableRowsSingle:Ie,onSelectedRow:se}),u&&!y&&C.createElement(aV,{id:kt,expandableIcon:a,expanded:oe,row:S,onToggled:he,disabled:r}),t.map((ve=>ve.omit?null:C.createElement(tV,{id:`cell-${ve.id}-${kt}`,key:`cell-${ve.id}-${kt}`,dataTag:ve.ignoreRowClick||ve.button?null:Km,column:ve,row:S,rowIndex:k,isDragging:ru(X,ve.id),onDragStart:re,onDragOver:te,onDragEnd:R,onDragEnter:B,onDragLeave:Z})))),u&&oe&&C.createElement(cV,{key:`expander-${kt}`,data:S,extendedRowStyle:Jr,extendedClassNames:Un,ExpanderComponent:h,expanderComponentProps:f}))}const pV=Xe.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,mV=({sortActive:t,sortDirection:e})=>Je.createElement(pV,{$sortActive:t,$sortDirection:e},"▲"),gV=Xe(dI)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,yV=hn`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&hn`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,wV=Xe.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&yV};
`,vV=Xe.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var _V=C.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:o,sortIcon:a,sortServer:u,pagination:h,paginationServer:f,persistSelectedOnSort:y,selectableRowsVisibleOnly:v,onSort:b,onDragStart:T,onDragOver:N,onDragEnd:L,onDragEnter:$,onDragLeave:j}){C.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[W,M]=C.useState(!1),z=C.useRef(null);if(C.useEffect((()=>{z.current&&M(z.current.scrollWidth>z.current.clientWidth)}),[W]),t.omit)return null;const J=()=>{if(!t.sortable&&!t.selector)return;let A=o;ru(r.id,t.id)&&(A=o===vo.ASC?vo.DESC:vo.ASC),b({type:"SORT_CHANGE",sortDirection:A,selectedColumn:t,clearSelectedOnSort:h&&f&&!y||u||v})},se=A=>C.createElement(mV,{sortActive:A,sortDirection:o}),K=()=>C.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},a),S=!(!t.sortable||!ru(r.id,t.id)),I=!t.sortable||e,k=t.sortable&&!a&&!t.right,P=t.sortable&&!a&&t.right,O=t.sortable&&a&&!t.right,F=t.sortable&&a&&t.right;return C.createElement(gV,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:ru(t.id,n),onDragStart:T,onDragOver:N,onDragEnd:L,onDragEnter:$,onDragLeave:j},t.name&&C.createElement(wV,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:I?void 0:J,onKeyPress:I?void 0:A=>{A.key==="Enter"&&J()},$sortActive:!I&&S,disabled:I},!I&&F&&K(),!I&&P&&se(S),typeof t.name=="string"?C.createElement(vV,{title:W?t.name:void 0,ref:z,"data-column-id":t.id},t.name):t.name,!I&&O&&K(),!I&&k&&se(S)))}));const EV=Xe(oc)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function bV({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:o,selectedRows:a,selectableRowsComponent:u,selectableRowsComponentProps:h,selectableRowDisabled:f,onSelectAllRows:y}){const v=a.length>0&&!r,b=f?e.filter((L=>!f(L))):e,T=b.length===0,N=Math.min(e.length,b.length);return C.createElement(EV,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},C.createElement(hI,{name:"select-all-rows",component:u,componentOptions:h,onClick:()=>{y({type:"SELECT_ALL_ROWS",rows:b,rowCount:N,mergeSelections:o,keyField:n})},checked:r,indeterminate:v,disabled:T}))}function fI(t=af.AUTO){const e=typeof window=="object",[n,r]=C.useState(!1);return C.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const o=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],u=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||u.dir==="rtl";r(o&&h)}}),[t,e]),n}const CV=Xe.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,TV=Xe.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,JE=Xe.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function IV({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:o}){const a=fI(o),u=r>0;return n?C.createElement(JE,{$visible:u},C.cloneElement(n,{selectedCount:r})):C.createElement(JE,{$visible:u,$rtl:a},C.createElement(CV,null,((h,f,y)=>{if(f===0)return null;const v=f===1?h.singular:h.plural;return y?`${f} ${h.message||""} ${v}`:`${f} ${v} ${h.message||""}`})(t,r,a)),C.createElement(TV,null,e))}const SV=Xe.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,xV=Xe.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,kV=Xe.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,RV=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:o,selectedCount:a,direction:u,showMenu:h=!0})=>C.createElement(SV,{className:"rdt_TableHeader",role:"heading","aria-level":1},C.createElement(xV,null,t),e&&C.createElement(kV,null,e),h&&C.createElement(IV,{contextMessage:n,contextActions:r,contextComponent:o,direction:u,selectedCount:a}));function pI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const PV={left:"flex-start",right:"flex-end",center:"center"},AV=Xe.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>PV[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,NV=t=>{var{align:e="right",wrapContent:n=!0}=t,r=pI(t,["align","wrapContent"]);return C.createElement(AV,Object.assign({align:e,$wrapContent:n},r))},DV=Xe.div`
	display: flex;
	flex-direction: column;
`,OV=Xe.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&hn`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&hn`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,QE=Xe.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,jV=Xe.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,LV=Xe(oc)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,MV=Xe.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,VV=()=>Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Je.createElement("path",{d:"M7 10l5 5 5-5z"}),Je.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),FV=Xe.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,$V=Xe.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,UV=t=>{var{defaultValue:e,onChange:n}=t,r=pI(t,["defaultValue","onChange"]);return C.createElement($V,null,C.createElement(FV,Object.assign({onChange:n,defaultValue:e},r)),C.createElement(VV,null))},ue={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return Je.createElement("div",null,"To add an expander pass in a component instance via ",Je.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:Je.createElement((()=>Je.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Je.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),Je.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:Je.createElement((()=>Je.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Je.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),Je.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:Je.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:Je.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Mg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:Je.createElement((()=>Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Je.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),Je.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:Je.createElement((()=>Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Je.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),Je.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:Je.createElement((()=>Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Je.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),Je.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:Je.createElement((()=>Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Je.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),Je.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:af.AUTO,onChangePage:un,onChangeRowsPerPage:un,onRowClicked:un,onRowDoubleClicked:un,onRowMouseEnter:un,onRowMouseLeave:un,onRowExpandToggled:un,onSelectedRowsChange:un,onSort:un,onColumnOrderChange:un},BV={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},zV=Xe.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,sh=Xe.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,HV=Xe.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${uI`
    width: 100%;
    justify-content: space-around;
  `};
`,mI=Xe.span`
	flex-shrink: 1;
	user-select: none;
`,qV=Xe(mI)`
	margin: 0 24px;
`,WV=Xe(mI)`
	margin: 0 4px;
`;var GV=C.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=ue.direction,paginationRowsPerPageOptions:o=ue.paginationRowsPerPageOptions,paginationIconLastPage:a=ue.paginationIconLastPage,paginationIconFirstPage:u=ue.paginationIconFirstPage,paginationIconNext:h=ue.paginationIconNext,paginationIconPrevious:f=ue.paginationIconPrevious,paginationComponentOptions:y=ue.paginationComponentOptions,onChangeRowsPerPage:v=ue.onChangeRowsPerPage,onChangePage:b=ue.onChangePage}){const T=(()=>{const A=typeof window=="object";function je(){return{width:A?window.innerWidth:void 0,height:A?window.innerHeight:void 0}}const[Ie,He]=C.useState(je);return C.useEffect((()=>{if(!A)return()=>null;function De(){He(je())}return window.addEventListener("resize",De),()=>window.removeEventListener("resize",De)}),[]),Ie})(),N=fI(r),L=T.width&&T.width>599,$=nu(e,t),j=n*t,W=j-t+1,M=n===1,z=n===$,J=Object.assign(Object.assign({},BV),y),se=n===$?`${W}-${e} ${J.rangeSeparatorText} ${e}`:`${W}-${j} ${J.rangeSeparatorText} ${e}`,K=C.useCallback((()=>b(n-1)),[n,b]),S=C.useCallback((()=>b(n+1)),[n,b]),I=C.useCallback((()=>b(1)),[b]),k=C.useCallback((()=>b(nu(e,t))),[b,e,t]),P=C.useCallback((A=>v(Number(A.target.value),n)),[n,v]),O=o.map((A=>C.createElement("option",{key:A,value:A},A)));J.selectAllRowsItem&&O.push(C.createElement("option",{key:-1,value:e},J.selectAllRowsItemText));const F=C.createElement(UV,{onChange:P,defaultValue:t,"aria-label":J.rowsPerPageText},O);return C.createElement(zV,{className:"rdt_Pagination"},!J.noRowsPerPage&&L&&C.createElement(C.Fragment,null,C.createElement(WV,null,J.rowsPerPageText),F),L&&C.createElement(qV,null,se),C.createElement(HV,null,C.createElement(sh,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":M,onClick:I,disabled:M,$isRTL:N},u),C.createElement(sh,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":M,onClick:K,disabled:M,$isRTL:N},f),!J.noRowsPerPage&&!L&&F,C.createElement(sh,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":z,onClick:S,disabled:z,$isRTL:N},h),C.createElement(sh,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":z,onClick:k,disabled:z,$isRTL:N},a)))}));const ia=(t,e)=>{const n=C.useRef(!0);C.useEffect((()=>{n.current?n.current=!1:t()}),e)};function KV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JV=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===QV})(e)})(t)},QV=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function pu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Kl((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function YV(t,e,n){return t.concat(e).map((function(r){return pu(r,n)}))}function YE(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function XE(t,e){try{return e in t}catch{return!1}}function XV(t,e,n){var r={};return n.isMergeableObject(t)&&YE(t).forEach((function(o){r[o]=pu(t[o],n)})),YE(e).forEach((function(o){(function(a,u){return XE(a,u)&&!(Object.hasOwnProperty.call(a,u)&&Object.propertyIsEnumerable.call(a,u))})(t,o)||(XE(t,o)&&n.isMergeableObject(e[o])?r[o]=(function(a,u){if(!u.customMerge)return Kl;var h=u.customMerge(a);return typeof h=="function"?h:Kl})(o,n)(t[o],e[o],n):r[o]=pu(e[o],n))})),r}function Kl(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||YV,n.isMergeableObject=n.isMergeableObject||JV,n.cloneUnlessOtherwiseSpecified=pu;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):XV(t,e,n):pu(e,n)}Kl.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return Kl(n,r,e)}),{})};var Vg=KV(Kl);const ZE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},io={default:ZE,light:ZE,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function ZV(t="default",e,n="default"){return io[t]||(io[t]=Vg(io[n],e||{})),io[t]=Vg(io[t],e||{}),io[t]}function e4(t,e,n,r){const[o,a]=C.useState((()=>WE(t))),[u,h]=C.useState(""),f=C.useRef("");ia((()=>{a(WE(t))}),[t]);const y=C.useCallback((j=>{var W,M,z;const{attributes:J}=j.target,se=(W=J.getNamedItem("data-column-id"))===null||W===void 0?void 0:W.value;se&&(f.current=((z=(M=o[rh(o,se)])===null||M===void 0?void 0:M.id)===null||z===void 0?void 0:z.toString())||"",h(f.current))}),[o]),v=C.useCallback((j=>{var W;const{attributes:M}=j.target,z=(W=M.getNamedItem("data-column-id"))===null||W===void 0?void 0:W.value;if(z&&f.current&&z!==f.current){const J=rh(o,f.current),se=rh(o,z),K=[...o];K[J]=o[se],K[se]=o[J],a(K),e(K)}}),[e,o]),b=C.useCallback((j=>{j.preventDefault()}),[]),T=C.useCallback((j=>{j.preventDefault()}),[]),N=C.useCallback((j=>{j.preventDefault(),f.current="",h("")}),[]),L=(function(j=!1){return j?vo.ASC:vo.DESC})(r),$=C.useMemo((()=>o[rh(o,n?.toString())]||{}),[n,o]);return{tableColumns:o,draggingColumnId:u,handleDragStart:y,handleDragEnter:v,handleDragOver:b,handleDragLeave:T,handleDragEnd:N,defaultSortDirection:L,defaultSortColumn:$}}var t4=C.memo((function(t){const{data:e=ue.data,columns:n=ue.columns,title:r=ue.title,actions:o=ue.actions,keyField:a=ue.keyField,striped:u=ue.striped,highlightOnHover:h=ue.highlightOnHover,pointerOnHover:f=ue.pointerOnHover,dense:y=ue.dense,selectableRows:v=ue.selectableRows,selectableRowsSingle:b=ue.selectableRowsSingle,selectableRowsHighlight:T=ue.selectableRowsHighlight,selectableRowsNoSelectAll:N=ue.selectableRowsNoSelectAll,selectableRowsVisibleOnly:L=ue.selectableRowsVisibleOnly,selectableRowSelected:$=ue.selectableRowSelected,selectableRowDisabled:j=ue.selectableRowDisabled,selectableRowsComponent:W=ue.selectableRowsComponent,selectableRowsComponentProps:M=ue.selectableRowsComponentProps,onRowExpandToggled:z=ue.onRowExpandToggled,onSelectedRowsChange:J=ue.onSelectedRowsChange,expandableIcon:se=ue.expandableIcon,onChangeRowsPerPage:K=ue.onChangeRowsPerPage,onChangePage:S=ue.onChangePage,paginationServer:I=ue.paginationServer,paginationServerOptions:k=ue.paginationServerOptions,paginationTotalRows:P=ue.paginationTotalRows,paginationDefaultPage:O=ue.paginationDefaultPage,paginationResetDefaultPage:F=ue.paginationResetDefaultPage,paginationPerPage:A=ue.paginationPerPage,paginationRowsPerPageOptions:je=ue.paginationRowsPerPageOptions,paginationIconLastPage:Ie=ue.paginationIconLastPage,paginationIconFirstPage:He=ue.paginationIconFirstPage,paginationIconNext:De=ue.paginationIconNext,paginationIconPrevious:X=ue.paginationIconPrevious,paginationComponent:re=ue.paginationComponent,paginationComponentOptions:te=ue.paginationComponentOptions,responsive:R=ue.responsive,progressPending:B=ue.progressPending,progressComponent:Z=ue.progressComponent,persistTableHead:oe=ue.persistTableHead,noDataComponent:fe=ue.noDataComponent,disabled:he=ue.disabled,noTableHead:me=ue.noTableHead,noHeader:Ce=ue.noHeader,fixedHeader:Se=ue.fixedHeader,fixedHeaderScrollHeight:qe=ue.fixedHeaderScrollHeight,pagination:bt=ue.pagination,subHeader:kt=ue.subHeader,subHeaderAlign:$n=ue.subHeaderAlign,subHeaderWrap:Un=ue.subHeaderWrap,subHeaderComponent:fr=ue.subHeaderComponent,noContextMenu:Jr=ue.noContextMenu,contextMessage:$e=ue.contextMessage,contextActions:ve=ue.contextActions,contextComponent:it=ue.contextComponent,expandableRows:Le=ue.expandableRows,onRowClicked:We=ue.onRowClicked,onRowDoubleClicked:wt=ue.onRowDoubleClicked,onRowMouseEnter:Ke=ue.onRowMouseEnter,onRowMouseLeave:Ze=ue.onRowMouseLeave,sortIcon:et=ue.sortIcon,onSort:tt=ue.onSort,sortFunction:vt=ue.sortFunction,sortServer:pr=ue.sortServer,expandableRowsComponent:Po=ue.expandableRowsComponent,expandableRowsComponentProps:gs=ue.expandableRowsComponentProps,expandableRowDisabled:ys=ue.expandableRowDisabled,expandableRowsHideExpander:ws=ue.expandableRowsHideExpander,expandOnRowClicked:Ao=ue.expandOnRowClicked,expandOnRowDoubleClicked:No=ue.expandOnRowDoubleClicked,expandableRowExpanded:ki=ue.expandableRowExpanded,expandableInheritConditionalStyles:Do=ue.expandableInheritConditionalStyles,defaultSortFieldId:Oo=ue.defaultSortFieldId,defaultSortAsc:Gs=ue.defaultSortAsc,clearSelectedRows:Ks=ue.clearSelectedRows,conditionalRowStyles:Ri=ue.conditionalRowStyles,theme:Bn=ue.theme,customStyles:mr=ue.customStyles,direction:Rr=ue.direction,onColumnOrderChange:Pr=ue.onColumnOrderChange,className:jo,ariaLabel:vs}=t,{tableColumns:Pi,draggingColumnId:Ar,handleDragStart:Ai,handleDragEnter:Ot,handleDragOver:Js,handleDragLeave:Qn,handleDragEnd:_s,defaultSortDirection:Qs,defaultSortColumn:Ni}=e4(n,Pr,Oo,Gs),[{rowsPerPage:Yt,currentPage:_n,selectedRows:Lo,allSelected:Ys,selectedCount:Mo,selectedColumn:Bt,sortDirection:Yn,toggleOnSelectedRowsChange:gr},Nr]=C.useReducer(H5,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Ni,toggleOnSelectedRowsChange:!1,sortDirection:Qs,currentPage:O,rowsPerPage:A,selectedRowsFlag:!1,contextMessage:ue.contextMessage}),{persistSelectedOnSort:Di=!1,persistSelectedOnPageChange:Qr=!1}=k,Xs=!(!I||!Qr&&!Di),Vo=bt&&!B&&e.length>0,ja=re||GV,ac=C.useMemo((()=>((ke={},Qe="default",jt="default")=>{const on=io[Qe]?Qe:jt;return Vg({table:{style:{color:(Me=io[on]).text.primary,backgroundColor:Me.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:Me.text.primary,backgroundColor:Me.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:Me.background.default,minHeight:"52px"}},head:{style:{color:Me.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:Me.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:Me.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:Me.context.background,fontSize:"18px",fontWeight:400,color:Me.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:Me.text.primary,backgroundColor:Me.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:Me.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:Me.selected.text,backgroundColor:Me.selected.default,borderBottomColor:Me.background.default}},highlightOnHoverStyle:{color:Me.highlightOnHover.text,backgroundColor:Me.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:Me.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:Me.background.default},stripedStyle:{color:Me.striped.text,backgroundColor:Me.striped.default}},expanderRow:{style:{color:Me.text.primary,backgroundColor:Me.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:Me.button.default,fill:Me.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:Me.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:Me.button.hover},"&:focus":{outline:"none",backgroundColor:Me.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:Me.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:Me.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:Me.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:Me.button.default,fill:Me.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:Me.button.disabled,fill:Me.button.disabled},"&:hover:not(:disabled)":{backgroundColor:Me.button.hover},"&:focus":{outline:"none",backgroundColor:Me.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Me.text.primary,backgroundColor:Me.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Me.text.primary,backgroundColor:Me.background.default}}},ke);var Me})(mr,Bn)),[mr,Bn]),_t=C.useMemo((()=>Object.assign({},Rr!=="auto"&&{dir:Rr})),[Rr]),Wt=C.useMemo((()=>{if(pr)return e;if(Bt?.sortFunction&&typeof Bt.sortFunction=="function"){const ke=Bt.sortFunction,Qe=Yn===vo.ASC?ke:(jt,on)=>-1*ke(jt,on);return[...e].sort(Qe)}return(function(ke,Qe,jt,on){return Qe?on&&typeof on=="function"?on(ke.slice(0),Qe,jt):ke.slice(0).sort(((Me,wr)=>{const Xt=Qe(Me),Rn=Qe(wr);if(jt==="asc"){if(Xt<Rn)return-1;if(Xt>Rn)return 1}if(jt==="desc"){if(Xt>Rn)return-1;if(Xt<Rn)return 1}return 0})):ke})(e,Bt?.selector,Yn,vt)}),[pr,Bt,Yn,e,vt]),yr=C.useMemo((()=>{if(bt&&!I){const ke=_n*Yt,Qe=ke-Yt;return Wt.slice(Qe,ke)}return Wt}),[_n,bt,I,Yt,Wt]),Es=C.useCallback((ke=>{Nr(ke)}),[]),Xn=C.useCallback((ke=>{Nr(ke)}),[]),Fo=C.useCallback((ke=>{Nr(ke)}),[]),La=C.useCallback(((ke,Qe)=>We(ke,Qe)),[We]),Zs=C.useCallback(((ke,Qe)=>wt(ke,Qe)),[wt]),zn=C.useCallback(((ke,Qe)=>Ke(ke,Qe)),[Ke]),Ma=C.useCallback(((ke,Qe)=>Ze(ke,Qe)),[Ze]),zt=C.useCallback((ke=>Nr({type:"CHANGE_PAGE",page:ke,paginationServer:I,visibleOnly:L,persistSelectedOnPageChange:Qr})),[I,Qr,L]),$o=C.useCallback((ke=>{const Qe=nu(P||yr.length,ke),jt=Gm(_n,Qe);I||zt(jt),Nr({type:"CHANGE_ROWS_PER_PAGE",page:jt,rowsPerPage:ke})}),[_n,zt,I,P,yr.length]);if(bt&&!I&&Wt.length>0&&yr.length===0){const ke=nu(Wt.length,Yt),Qe=Gm(_n,ke);zt(Qe)}ia((()=>{J({allSelected:Ys,selectedCount:Mo,selectedRows:Lo.slice(0)})}),[gr]),ia((()=>{tt(Bt,Yn,Wt.slice(0))}),[Bt,Yn]),ia((()=>{S(_n,P||Wt.length)}),[_n]),ia((()=>{K(Yt,_n)}),[Yt]),ia((()=>{zt(O)}),[O,F]),ia((()=>{if(bt&&I&&P>0){const ke=nu(P,Yt),Qe=Gm(_n,ke);_n!==Qe&&zt(Qe)}}),[P]),C.useEffect((()=>{Nr({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Ks})}),[b,Ks]),C.useEffect((()=>{if(!$)return;const ke=Wt.filter((jt=>$(jt))),Qe=b?ke.slice(0,1):ke;Nr({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:Qe,totalRows:Wt.length,mergeSelections:Xs})}),[e,$]);const Va=L?yr:Wt,Fa=Qr||b||N;return C.createElement($5,{theme:ac},!Ce&&(!!r||!!o)&&C.createElement(RV,{title:r,actions:o,showMenu:!Jr,selectedCount:Mo,direction:Rr,contextActions:ve,contextComponent:it,contextMessage:$e}),kt&&C.createElement(NV,{align:$n,wrapContent:Un},fr),C.createElement(OV,Object.assign({$responsive:R,$fixedHeader:Se,$fixedHeaderScrollHeight:qe,className:jo},_t),C.createElement(jV,null,B&&!oe&&C.createElement(QE,null,Z),C.createElement(W5,Object.assign({disabled:he,className:"rdt_Table",role:"table"},vs&&{"aria-label":vs}),!me&&(!!oe||Wt.length>0&&!B)&&C.createElement(K5,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:Se},C.createElement(J5,{className:"rdt_TableHeadRow",role:"row",$dense:y},v&&(Fa?C.createElement(oc,{style:{flex:"0 0 48px"}}):C.createElement(bV,{allSelected:Ys,selectedRows:Lo,selectableRowsComponent:W,selectableRowsComponentProps:M,selectableRowDisabled:j,rowData:Va,keyField:a,mergeSelections:Xs,onSelectAllRows:Xn})),Le&&!ws&&C.createElement(LV,null),Pi.map((ke=>C.createElement(_V,{key:ke.id,column:ke,selectedColumn:Bt,disabled:B||Wt.length===0,pagination:bt,paginationServer:I,persistSelectedOnSort:Di,selectableRowsVisibleOnly:L,sortDirection:Yn,sortIcon:et,sortServer:pr,onSort:Es,onDragStart:Ai,onDragOver:Js,onDragEnd:_s,onDragEnter:Ot,onDragLeave:Qn,draggingColumnId:Ar}))))),!Wt.length&&!B&&C.createElement(MV,null,fe),B&&oe&&C.createElement(QE,null,Z),!B&&Wt.length>0&&C.createElement(DV,{className:"rdt_TableBody",role:"rowgroup"},yr.map(((ke,Qe)=>{const jt=Gl(ke,a),on=(function(Rn=""){return typeof Rn!="number"&&(!Rn||Rn.length===0)})(jt)?Qe:jt,Me=bh(ke,Lo,a),wr=!!(Le&&ki&&ki(ke)),Xt=!!(Le&&ys&&ys(ke));return C.createElement(fV,{id:on,key:on,keyField:a,"data-row-id":on,columns:Pi,row:ke,rowCount:Wt.length,rowIndex:Qe,selectableRows:v,expandableRows:Le,expandableIcon:se,highlightOnHover:h,pointerOnHover:f,dense:y,expandOnRowClicked:Ao,expandOnRowDoubleClicked:No,expandableRowsComponent:Po,expandableRowsComponentProps:gs,expandableRowsHideExpander:ws,defaultExpanderDisabled:Xt,defaultExpanded:wr,expandableInheritConditionalStyles:Do,conditionalRowStyles:Ri,selected:Me,selectableRowsHighlight:T,selectableRowsComponent:W,selectableRowsComponentProps:M,selectableRowDisabled:j,selectableRowsSingle:b,striped:u,onRowExpandToggled:z,onRowClicked:La,onRowDoubleClicked:Zs,onRowMouseEnter:zn,onRowMouseLeave:Ma,onSelectedRow:Fo,draggingColumnId:Ar,onDragStart:Ai,onDragOver:Js,onDragEnd:_s,onDragEnter:Ot,onDragLeave:Qn})})))))),Vo&&C.createElement("div",null,C.createElement(ja,{onChangePage:zt,onChangeRowsPerPage:$o,rowCount:P||Wt.length,currentPage:_n,rowsPerPage:Yt,direction:Rr,paginationRowsPerPageOptions:je,paginationIconLastPage:Ie,paginationIconFirstPage:He,paginationIconNext:De,paginationIconPrevious:X,paginationComponentOptions:te})))}));const eb=hr(kn),n4=Kr(kn);ZV("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function r4({usuario:t}){const[e,n]=C.useState(!1),[r,o]=C.useState(null),[a,u]=C.useState(!1),[h,f]=C.useState(!1),[y,v]=C.useState(!1),[b,T]=C.useState(!1),N=C.useRef(null),L=()=>_u(n4);C.useEffect(()=>{const P=O=>{N.current&&!N.current.contains(O.target)&&T(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const $=P=>parseInt(P),j=t?.fotoPerfil||Tt,W=[{when:P=>P.pos==="1º",style:{background:"linear-gradient(135deg, rgb(255, 215, 0), rgb(218, 165, 32))",boxShadow:"0 0 8px rgba(255, 215, 0, 0.7), inset 0 0 4px rgba(255, 255, 255, 0.6)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:P=>P.pos==="2º",style:{background:"linear-gradient(135deg, rgb(192,192,192), rgb(169,169,169))",boxShadow:"0 0 8px rgba(192,192,192, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.5)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:P=>P.pos==="3º",style:{background:"linear-gradient(135deg, rgb(205, 127, 50), rgb(139, 69, 19))",boxShadow:"0 0 8px rgba(205, 127, 50, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.4)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:P=>$(P.pos)>3&&$(P.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:P=>$(P.pos)>3&&$(P.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],M=[{name:"Pos.",selector:P=>P.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:P=>P.jugador,cell:P=>m.jsxs(ft,{to:P.id===t.uid?"/home":`/equipo/${P.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit",cursor:"pointer"},children:[m.jsx("img",{src:P.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"1px solid black"}}),m.jsx("span",{children:P.jugador})]})},{name:"Puntos",selector:P=>P.puntos,width:"5.5rem",center:!0}],z=()=>{u(!a)},J=P=>P>=1e6?(P/1e6).toFixed(2)+"M":P>=1e3?(P/1e3).toFixed(2)+"K":P.toFixed(2);C.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const P=Ae(eb,"usuarios",t.uid);St(P).then(O=>{O.exists()&&o(O.data().dinero)})}},[t]);const[se,K]=C.useState([]),[S,I]=C.useState(!1);C.useEffect(()=>{(async()=>{I(!0);try{const O=ur(eb,"usuarios");let je=(await hs(O)).docs.map(Ie=>({id:Ie.id,...Ie.data()})).sort((Ie,He)=>(He.puntos||0)-(Ie.puntos||0)).map((Ie,He)=>({id:Ie.id,pos:`${He+1}º`,jugador:Ie.nick||"Sin nombre",puntos:Ie.puntos||0,fotoPerfil:Ie.fotoPerfil||Tt}));K(je)}catch(O){console.error("Error al cargar usuarios:",O)}finally{I(!1)}})()},[]);const k={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:j,onError:P=>{P.currentTarget.onerror=null,P.currentTarget.src=Tt},alt:"Foto de perfil",onClick:()=>T(!b),onMouseEnter:()=>T(!0)}),b&&m.jsxs("div",{className:"perfil-bocadillo",ref:N,onMouseLeave:()=>T(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{f(!0),T(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:L,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{v(!0),T(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:J(r)})]})]})]}),m.jsx("button",{onClick:z,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&m.jsx(Ul,{usuario:t,openModal:h,setOpenModal:f}),y&&m.jsx(Bl,{usuario:t,openModal:y,setOpenModal:v}),m.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:m.jsx(t4,{title:"CLASIFICACIÓN",columns:M,data:se,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:S,progressComponent:m.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:W,customStyles:k,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:m.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}function s4({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,idUsuario:o}){const a=Kr(),u=hr();Vu();const h=t?.foto||Tt,[f,y]=C.useState(!1),[v,b]=C.useState(!1),T=async()=>{if(!t||!a.currentUser)return;if(!v||!f){await Oe.fire({icon:"error",title:"Jornada Empezada",text:"No se puede pagar clausulas un día antes de la jornada.",confirmButtonText:"Ok"});return}const M=a.currentUser,z=Ae(u,"usuarios",M.uid),J=Ae(u,"usuarios",o),se=Ae(u,"jugadores",t.id);try{const[K,S]=await Promise.all([St(z),St(J)]);if(!K.exists()||!S.exists())throw new Error("Usuario no encontrado en la base de datos");const I=K.data(),k=S.data(),P=I.equipo.titulares.findIndex(re=>re.jugadorId===null),O=I.equipo.banquillo.findIndex(re=>re.jugadorId===null);if(P===-1&&O===-1){await Oe.fire({icon:"error",title:"Equipo completo",text:"No tienes hueco en tu plantilla para fichar a este jugador.",confirmButtonText:"Ok"});return}if(I.dinero<e){await Oe.fire({icon:"error",title:"Fondos insuficientes",text:"No tienes suficiente dinero para pagar esta cláusula.",confirmButtonText:"Ok"});return}await ut(z,{dinero:I.dinero-e}),await ut(J,{dinero:k.dinero+e});let F=[...I.equipo.titulares],A=[...I.equipo.banquillo];P!==-1?F[P]={jugadorId:t.id,clausulaPersonal:Math.round(e*1.5)}:A[O]={jugadorId:t.id,clausulaPersonal:Math.round(e*1.5)},await ut(z,{"equipo.titulares":F,"equipo.banquillo":A});let je=[...k.equipo.titulares],Ie=[...k.equipo.banquillo];je=je.map(re=>re.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:re),Ie=Ie.map(re=>re.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:re),await ut(J,{"equipo.titulares":je,"equipo.banquillo":Ie}),await ut(se,{dueños:Vl(o)}),await ut(se,{dueños:Lf(M.uid)}),await Cg(ur(u,"historial"),{tipo:"clausulazo",compradorUid:M.uid,compradorNombre:I.nick,vendedorUid:o,vendedorNombre:k.nick,jugadorId:t.id,jugadorNombre:t.nombre,precio:e,fecha:new Date}),await Oe.fire({icon:"success",title:"¡Cláusula pagada!",html:`Has fichado a <strong>${t.nombre}</strong> por <strong>${e.toLocaleString("es-ES")}€</strong><br/>Nueva cláusula: <strong>${Math.round(e*1.5).toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"});const He=ur(u,"mercado/usuarios"),De=ku(He,Ru("jugadorId","==",t.id)),X=await hs(De);for(const re of X.docs)await $y(Ae(u,"mercado/usuarios",re.id));window.location.reload()}catch(K){console.error("Error al pagar cláusula:",K),await Oe.fire({icon:"error",title:"Error",text:"No se pudo completar el pago de la cláusula.",confirmButtonText:"Ok"})}},N=async()=>{if(!t||!user)return;if(!f){await Oe.fire({icon:"error",title:"Jornada Empezada",text:"No se puede vender con la jornada empezada.",confirmButtonText:"Ok"});return}const M=Math.round(t.precio*.6),z=Ae(u,"usuarios",user.uid),J=Ae(u,"jugadores",t.id);try{await ut(z,{dinero:increment(M)}),await ut(J,{stockLibre:increment(1),dueños:Vl(user.uid)});const se=await St(z);if(se.exists()){const K=se.data(),S=K.equipo.titulares.map(k=>k.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:k),I=K.equipo.banquillo.map(k=>k.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:k);await ut(z,{"equipo.titulares":S,"equipo.banquillo":I})}await Cg(ur(u,"historial"),{tipo:"venta directa",vendedorNombre:user.nick,compradorNombre:"",jugadorNombre:t.nombre,fotoJugador:t?.foto,precio:M,fecha:new Date}),await Oe.fire({icon:"success",title:"¡Jugador vendido!",html:`Has recibido <strong>${M.toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"}),window.location.reload()}catch(se){console.error("Error en la venta:",se),await Oe.fire({icon:"error",title:"Error",text:"No se pudo completar la venta.",confirmButtonText:"Ok"})}};C.useEffect(()=>{(async()=>{try{const z=Ae(u,"admin","controles"),J=await St(z);if(J.exists()){const se=J.data();y(se.edicionActiva===!0),b(se.clausulaPermitida===!0)}}catch(z){console.error("Error al obtener estado de edición:",z)}})()},[]);const L=M=>{switch(M){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return M||"Sin posición"}},$=C.useRef(),j=M=>{M.target===$.current&&r(!1)},W=M=>M.toLocaleString("es-ES")+"€";return n?m.jsx("div",{className:"modal-overlay",ref:$,onClick:j,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:h,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:L(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",W(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const M=t.historialPrecios||[];if(M.length===0)return m.jsx("small",{children:"(±0€)"});const z=M[M.length-1].precio||0,J=t.precio-z,se=J>0?"+":J<0?"-":"±";return m.jsxs("small",{className:J>0?"subida":J<0?"bajada":"igual",children:["(",se,W(Math.abs(J)),")"]})})()})]}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",W(e)]})}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Media de puntos:"})," ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(M=>typeof M=="number").reduce((M,z,J,se)=>M+z/se.length,0).toFixed(2):"-"]})})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((M,z,J)=>{const se=M??"-",K=J.length<5?z+1:t.puntosPorJornada.length-5+z+1;let S="";return typeof M=="number"&&(M>=9?S="verde":M<7?S="rojo":S="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",K]}),m.jsx("div",{className:`jornada-cuadro ${S}`,children:se})]},z)}):[...Array(5)].map((M,z)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",z+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},z))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoración"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-footer",children:[m.jsxs("button",{className:"btn-accion",disabled:!v||!f,onClick:()=>{T()},children:["Pagar Cláusula",m.jsxs("small",{className:"precio-compra",children:["(-",W(t.precioClausula),")"]})]}),m.jsx("button",{className:"btn-accion",disabled:!f,onClick:()=>{N()},children:"Hacer oferta"})]})]})}):null}const Jm=hr(kn),i4=Kr(kn),o4={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function tb(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=o4[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function a4({usuario:t}){const{jugadorId:e}=gD(),[n,r]=C.useState(!0),[o,a]=C.useState(null),[u,h]=C.useState(!1),[f,y]=C.useState(!1),[v,b]=C.useState(null),T=t?.fotoPerfil||Tt,N=o?.equipo?.titulares||[],L=o?.equipo?.banquillo||[],[$,j]=C.useState([]),W=o?.equipo?.capitan||"",[M,z]=C.useState(o?.equipo?.formacion||"2-1-1"),[J,se]=C.useState(M);C.useEffect(()=>{o?.equipo?.formacion&&(z(o.equipo.formacion),se(o.equipo.formacion))},[o]);const[K,S]=C.useState(!1),[I,k]=C.useState(!1),[P,O]=C.useState(!1),[F,A]=C.useState(null),[je,Ie]=C.useState(!1),He=C.useRef(null),De=()=>_u(i4);C.useEffect(()=>{const te=R=>{He.current&&!He.current.contains(R.target)&&Ie(!1)};return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[]),C.useEffect(()=>{if(window.particlesJS&&document.getElementById("particles-js")&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const te=Ae(Jm,"usuarios",t.uid);St(te).then(R=>{R.exists()&&b(R.data().dinero)})}},[t]),C.useEffect(()=>{(async()=>{if(e){r(!0);try{const R=await St(Ae(Jm,"usuarios",e));R.exists()?a({id:R.id,...R.data()}):a(null)}catch(R){console.error("Error fetching jugador:",R)}finally{r(!1)}}})()},[e]),C.useEffect(()=>{(async()=>{if(o?.equipo)try{const R=[...(o.equipo.titulares||[]).map(he=>he?.jugadorId).filter(Boolean),...(o.equipo.banquillo||[]).map(he=>he?.jugadorId).filter(Boolean)];if(R.length===0){j([]);return}const B=ur(Jm,"jugadores"),Z=ku(B,Ru("__name__","in",R)),fe=(await hs(Z)).docs.map(he=>({id:he.id,...he.data()}));j(fe)}catch(R){console.error("Error cargando jugadores:",R)}})()},[o]);const X=()=>{h(!u)},re=te=>te.toLocaleString("es-ES")+"€";return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:T,onError:te=>{te.currentTarget.onerror=null,te.currentTarget.src=Tt},alt:"Foto de perfil",onClick:()=>Ie(!je),onMouseEnter:()=>Ie(!0)}),je&&m.jsxs("div",{className:"perfil-bocadillo",ref:He,onMouseLeave:()=>Ie(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{S(!0),Ie(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:De,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{O(!0),Ie(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),v!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:re(v)})]})]})]}),m.jsx("button",{onClick:X,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${u?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),K&&m.jsx(Ul,{usuario:t,openModal:K,setOpenModal:S}),P&&m.jsx(Bl,{usuario:t,openModal:P,setOpenModal:O}),I&&F&&m.jsx(s4,{jugador:F,clausulaPersonal:o?.equipo?.titulares?.find(te=>te.jugadorId===F.id)?.clausulaPersonal??o?.equipo?.banquillo?.find(te=>te.jugadorId===F.id)?.clausulaPersonal,openModal:I,setOpenModal:k,idUsuario:o?.id}),m.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1,marginTop:"0rem"},children:[m.jsxs("div",{className:"datos-equipo",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Formación:"})," ",m.jsx("small",{children:J})," "]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Dinero:"})," ",m.jsx("small",{children:m.jsx("span",{className:"verde",children:re(o?.dinero||0)})})]})]}),m.jsx("div",{className:"ultimas-jornadas-equipo-jugador",children:o?.puntuaciones&&o?.puntuaciones.length>0?o?.puntuaciones.slice(-5).map((te,R,B)=>{const Z=te??"-",oe=B.length<5?R+1:o?.puntuaciones.length-5+R+1;let fe="";return typeof te=="number"&&(te>=36?fe="verde":te<28?fe="rojo":fe="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",oe]}),m.jsx("div",{className:`jornada-cuadro ${fe}`,children:Z})]},R)}):[...Array(5)].map((te,R)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",R+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},R))}),m.jsx("div",{className:"campo",children:Rg[J]?.map((te,R)=>{const B=N[R],Z=$.find(oe=>oe.id===B?.jugadorId);return m.jsxs("div",{className:"jugador",style:{position:"absolute",top:te.top,left:te.left,transform:"translate(-50%, -50%)"},children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:Z?.foto||Tt,alt:Z?.nombre||"Vacío",className:"jugador-img",style:tb(Z,R,J).style,onClick:()=>{k(!0),A(Z)}}),(()=>{const{status:oe}=tb(Z,R,J);return console.log(oe),oe?oe==="green"?m.jsx("div",{className:"status-badge green",children:"✓"}):oe==="orange"?m.jsx("div",{className:"status-badge orange",children:"!"}):oe==="red"?m.jsx("div",{className:"status-badge red",children:"✕"}):null:null})(),W===Z?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(Z?.puntosPorJornada.length===0)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const oe=Z?.puntosPorJornada?.length?Z?.puntosPorJornada[Z?.puntosPorJornada.length-1]:null;if(oe==null)return null;let fe=oe==="-"?"gray":oe<7?"red":oe<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${fe}`,children:oe})})()]}),m.jsx("p",{className:"jugador-nombre",children:Z?.nombre||"Vacío"})]},Z?.id||R)})}),m.jsxs("div",{className:"banquillo-section",children:[m.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),m.jsx("div",{className:"banquillo-container",children:L.map((te,R)=>{const B=$.find(Z=>Z.id===te?.jugadorId);return m.jsx("div",{className:"banquillo-slot",children:B?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:B?.foto||Tt,alt:B?.nombre||"Vacío",className:"jugador-img",onClick:()=>{k(!0),A(B)}}),(()=>{if(B?.puntosPorJornada?.length===0)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const Z=B?.puntosPorJornada?.length?B?.puntosPorJornada[B?.puntosPorJornada.length-1]:null;if(Z==null)return null;let oe=Z==="-"?"gray":Z<7?"red":Z<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${oe}`,children:Z})})()]}),m.jsx("p",{className:"jugador-nombre-banquillo",children:B?.nombre})]}):m.jsx(ft,{className:"banquillo-add",children:"+"})})})})]})]})]}),f&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}const Uc=hr(kn),l4=Kr(kn);function c4({usuario:t}){const[e,n]=C.useState([]),[r,o]=C.useState(!1),a=C.useRef(null),[u,h]=C.useState(null),[f,y]=C.useState(!1),[v,b]=C.useState(!1),[T,N]=C.useState(!1),L=t?.fotoPerfil||Tt,$=()=>_u(l4);C.useEffect(()=>{const M=z=>{a.current&&!a.current.contains(z.target)&&N(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]),C.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const z=Ae(Uc,"usuarios",t.uid);St(z).then(J=>{J.exists()&&h(J.data().dinero)})}(async()=>{try{const z=await hs(ur(Uc,"historial"));if(z.empty)n([]);else{const J=z.docs.map(S=>({id:S.id,...S.data()})),K=(await Promise.all(J.map(async S=>{let I={},k={},P={};if(S.jugadorId){const O=Ae(Uc,"jugadores",S.jugadorId),F=await St(O);F.exists()&&(I=F.data())}if(S.compradorUid){const O=Ae(Uc,"usuarios",S.compradorUid),F=await St(O);F.exists()&&(k=F.data())}if(S.vendedorUid){const O=Ae(Uc,"usuarios",S.vendedorUid),F=await St(O);F.exists()&&(P=F.data())}return{...S,jugadorNombre:I?.nombre||"Jugador desconocido",fotoJugador:I?.foto||Tt,compradorNombre:k?.nick||"Desconocido",vendedorNombre:P?.nick||"Desconocido"}}))).sort((S,I)=>(I.fecha?.toMillis?.()||0)-(S.fecha?.toMillis?.()||0));n(K)}}catch(z){console.error("Error cargando historial:",z),n([])}})()},[t]);const j=M=>typeof M!="number"||isNaN(M)?"—":M.toLocaleString("es-ES")+"€",W=()=>{o(!r)};return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:L,onError:M=>{M.currentTarget.onerror=null,M.currentTarget.src=Tt},alt:"Foto de perfil",onClick:()=>N(!T),onMouseEnter:()=>N(!0)}),T&&m.jsxs("div",{className:"perfil-bocadillo",ref:a,onMouseLeave:()=>N(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{y(!0),N(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:$,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{b(!0),N(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),u!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:j(u)})]})]})]}),m.jsx("button",{onClick:W,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${r?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ft,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),f&&m.jsx(Ul,{usuario:t,openModal:f,setOpenModal:y}),v&&m.jsx(Bl,{usuario:t,openModal:v,setOpenModal:b}),m.jsxs("div",{className:"tabs-wrapper",children:[m.jsx("div",{className:"tabs-container",children:m.jsx("button",{className:"tab-btn active",children:"Historial de transacciones"})}),m.jsx("div",{className:"historial-container",children:e.length===0?m.jsx("div",{className:"sin-historial",children:m.jsx("p",{children:"🕒 Todavía no ha habido ninguna transacción"})}):m.jsx("ul",{className:"lista-historial",children:e.map(M=>{let z,J="#2c2c2c";return M.tipo==="venta directa"?(J="rgba(59, 1, 1, 0.64)",z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:{color:"white"},children:M.vendedorNombre})," ha vendido de forma rápida a"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:M.jugadorNombre})," por"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:j(M.precio)})]})):M.tipo==="clausulazo"?(J="rgba(0, 67, 6, 0.64)",z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:{color:"white"},children:M.compradorNombre})," ha pagado la cláusula de"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:M.jugadorNombre})," a"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:M.vendedorNombre})," por"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:j(M.precio)})]})):(J="rgba(0, 0, 0, 0.65)",z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:{color:"white"},children:M.compradorNombre})," ha pagado"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:j(M.precio)})," por"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:M.jugadorNombre})," a"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:M.vendedorNombre})]})),m.jsx("li",{className:"historial-item",style:{backgroundColor:J},children:m.jsxs("div",{className:"historial-card",children:[m.jsx("img",{src:M.fotoJugador,alt:M.jugadorNombre,className:"historial-foto"}),m.jsxs("div",{className:"historial-info",children:[m.jsx("p",{children:z}),m.jsx("small",{children:M.fecha?.toDate?M.fecha.toDate().toLocaleString("es-ES"):""})]})]})},M.id)})})})]})]})]})}function u4({usuario:t}){return m.jsx("main",{className:"fallback-root",role:"main",children:m.jsxs("div",{className:"fallback-card","aria-live":"polite",children:[m.jsx("div",{className:"fallback-illustration","aria-hidden":"true",children:m.jsxs("svg",{viewBox:"0 0 600 400",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"g1",x1:"0",x2:"1",children:[m.jsx("stop",{offset:"0",stopColor:"#06202a"}),m.jsx("stop",{offset:"1",stopColor:"#072f34"})]})}),m.jsx("rect",{width:"100%",height:"100%",rx:"16",fill:"url(#g1)",opacity:"0.12"}),m.jsxs("g",{transform:"translate(50,40)",fill:"none",stroke:"#bfe7e8",strokeOpacity:"0.08",strokeWidth:"6",children:[m.jsx("path",{d:"M0 150 C 120 10, 360 10, 480 150",strokeLinecap:"round"}),m.jsx("circle",{cx:"120",cy:"120",r:"18"}),m.jsx("circle",{cx:"360",cy:"120",r:"18"})]})]})}),m.jsxs("div",{className:"fallback-body",children:[m.jsx("h1",{className:"fallback-title",children:"Página no encontrada"}),m.jsxs("p",{className:"fallback-sub",children:["Lo sentimos, la ruta que buscas no existe o ha sido movida.",t?" Vamos a llevarte a tu panel.":" Usa el botón para volver al inicio."]}),m.jsxs("div",{className:"fallback-actions",children:[m.jsx(ft,{to:t?"/home":"/",className:"btn-primary",children:"Volver al inicio"}),t&&m.jsx(ft,{to:"/mercado",className:"btn-ghost",children:"Ir al mercado"})]}),m.jsx("small",{className:"fallback-hint",children:"Si crees que esto es un error, revisa la URL o contacta con soporte."})]})]})})}const d4=Kr(kn),h4=hr(kn);function f4(){const[t,e]=C.useState(null),[n,r]=C.useState(!0);return C.useEffect(()=>{const o=yR(d4,async a=>{if(a)try{const u=await St(Ae(h4,"usuarios",a.uid));u.exists()?e({uid:a.uid,...u.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(u){console.error("Error obteniendo datos de usuario:",u),e(null)}else e(null);r(!1)});return()=>o()},[]),n?m.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):m.jsx(eO,{children:m.jsxs(AD,{children:[m.jsx(ro,{path:"/",element:t?m.jsx(yl,{to:"/home",replace:!0}):m.jsx(sM,{})}),m.jsx(ro,{path:"/home",element:t?m.jsx(MM,{usuario:t}):m.jsx(yl,{to:"/",replace:!0})}),m.jsx(ro,{path:"/mercado",element:t?m.jsx(FM,{usuario:t}):m.jsx(yl,{to:"/",replace:!0})}),m.jsx(ro,{path:"/clasificacion",element:t?m.jsx(r4,{usuario:t}):m.jsx(yl,{to:"/",replace:!0})}),m.jsx(ro,{path:"/equipo/:jugadorId",element:t?m.jsx(a4,{usuario:t}):m.jsx(yl,{to:"/",replace:!0})}),m.jsx(ro,{path:"/historial",element:t?m.jsx(c4,{usuario:t}):m.jsx(yl,{to:"/",replace:!0})}),m.jsx(ro,{path:"*",element:m.jsx(u4,{usuario:t})})]})})}kS.createRoot(document.getElementById("root")).render(m.jsx(C.StrictMode,{children:m.jsx(f4,{})}));
