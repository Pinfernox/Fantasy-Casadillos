(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Zm={exports:{}},lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function b1(){if(b_)return lu;b_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return lu.Fragment=e,lu.jsx=t,lu.jsxs=t,lu}var T_;function T1(){return T_||(T_=1,Zm.exports=b1()),Zm.exports}var X=T1(),Jm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function A1(){if(A_)return Ce;A_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,K={};function F(D,te,oe){this.props=D,this.context=te,this.refs=K,this.updater=oe||V}F.prototype.isReactComponent={},F.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ee(){}ee.prototype=F.prototype;function le(D,te,oe){this.props=D,this.context=te,this.refs=K,this.updater=oe||V}var se=le.prototype=new ee;se.constructor=le,B(se,F.prototype),se.isPureReactComponent=!0;var Re=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},Ve=Object.prototype.hasOwnProperty;function N(D,te,oe,ie,pe,De){return oe=De.ref,{$$typeof:i,type:D,key:te,ref:oe!==void 0?oe:null,props:De}}function S(D,te){return N(D.type,te,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function O(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return te[oe]})}var k=/\/+/g;function P(D,te){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):te.toString(36)}function I(){}function Ft(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ft(D,te,oe,ie,pe){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(De){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case i:case e:Te=!0;break;case _:return Te=D._init,ft(Te(D._payload),te,oe,ie,pe)}}if(Te)return pe=pe(D),Te=ie===""?"."+P(D,0):ie,Re(pe)?(oe="",Te!=null&&(oe=Te.replace(k,"$&/")+"/"),ft(pe,te,oe,"",function(ui){return ui})):pe!=null&&(C(pe)&&(pe=S(pe,oe+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(k,"$&/")+"/")+Te)),te.push(pe)),1;Te=0;var Vt=ie===""?".":ie+":";if(Re(D))for(var nt=0;nt<D.length;nt++)ie=D[nt],De=Vt+P(ie,nt),Te+=ft(ie,te,oe,De,pe);else if(nt=A(D),typeof nt=="function")for(D=nt.call(D),nt=0;!(ie=D.next()).done;)ie=ie.value,De=Vt+P(ie,nt++),Te+=ft(ie,te,oe,De,pe);else if(De==="object"){if(typeof D.then=="function")return ft(Ft(D),te,oe,ie,pe);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Y(D,te,oe){if(D==null)return D;var ie=[],pe=0;return ft(D,ie,"","",function(De){return te.call(oe,De,pe++)}),ie}function ae(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function qe(){}return Ce.Children={map:Y,forEach:function(D,te,oe){Y(D,function(){te.apply(this,arguments)},oe)},count:function(D){var te=0;return Y(D,function(){te++}),te},toArray:function(D){return Y(D,function(te){return te})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ce.Component=F,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=le,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(D){return de.H.useMemoCache(D)}},Ce.cache=function(D){return function(){return D.apply(null,arguments)}},Ce.cloneElement=function(D,te,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=B({},D.props),pe=D.key,De=void 0;if(te!=null)for(Te in te.ref!==void 0&&(De=void 0),te.key!==void 0&&(pe=""+te.key),te)!Ve.call(te,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&te.ref===void 0||(ie[Te]=te[Te]);var Te=arguments.length-2;if(Te===1)ie.children=oe;else if(1<Te){for(var Vt=Array(Te),nt=0;nt<Te;nt++)Vt[nt]=arguments[nt+2];ie.children=Vt}return N(D.type,pe,void 0,void 0,De,ie)},Ce.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ce.createElement=function(D,te,oe){var ie,pe={},De=null;if(te!=null)for(ie in te.key!==void 0&&(De=""+te.key),te)Ve.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=te[ie]);var Te=arguments.length-2;if(Te===1)pe.children=oe;else if(1<Te){for(var Vt=Array(Te),nt=0;nt<Te;nt++)Vt[nt]=arguments[nt+2];pe.children=Vt}if(D&&D.defaultProps)for(ie in Te=D.defaultProps,Te)pe[ie]===void 0&&(pe[ie]=Te[ie]);return N(D,De,void 0,void 0,null,pe)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(D){return{$$typeof:m,render:D}},Ce.isValidElement=C,Ce.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:ae}},Ce.memo=function(D,te){return{$$typeof:y,type:D,compare:te===void 0?null:te}},Ce.startTransition=function(D){var te=de.T,oe={};de.T=oe;try{var ie=D(),pe=de.S;pe!==null&&pe(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(qe,me)}catch(De){me(De)}finally{de.T=te}},Ce.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},Ce.use=function(D){return de.H.use(D)},Ce.useActionState=function(D,te,oe){return de.H.useActionState(D,te,oe)},Ce.useCallback=function(D,te){return de.H.useCallback(D,te)},Ce.useContext=function(D){return de.H.useContext(D)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(D,te){return de.H.useDeferredValue(D,te)},Ce.useEffect=function(D,te,oe){var ie=de.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(D,te)},Ce.useId=function(){return de.H.useId()},Ce.useImperativeHandle=function(D,te,oe){return de.H.useImperativeHandle(D,te,oe)},Ce.useInsertionEffect=function(D,te){return de.H.useInsertionEffect(D,te)},Ce.useLayoutEffect=function(D,te){return de.H.useLayoutEffect(D,te)},Ce.useMemo=function(D,te){return de.H.useMemo(D,te)},Ce.useOptimistic=function(D,te){return de.H.useOptimistic(D,te)},Ce.useReducer=function(D,te,oe){return de.H.useReducer(D,te,oe)},Ce.useRef=function(D){return de.H.useRef(D)},Ce.useState=function(D){return de.H.useState(D)},Ce.useSyncExternalStore=function(D,te,oe){return de.H.useSyncExternalStore(D,te,oe)},Ce.useTransition=function(){return de.H.useTransition()},Ce.version="19.1.1",Ce}var S_;function Wp(){return S_||(S_=1,Jm.exports=A1()),Jm.exports}var $=Wp(),ep={exports:{}},uu={},tp={exports:{}},np={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function S1(){return R_||(R_=1,(function(i){function e(Y,ae){var me=Y.length;Y.push(ae);e:for(;0<me;){var qe=me-1>>>1,D=Y[qe];if(0<o(D,ae))Y[qe]=ae,Y[me]=D,me=qe;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ae=Y[0],me=Y.pop();if(me!==ae){Y[0]=me;e:for(var qe=0,D=Y.length,te=D>>>1;qe<te;){var oe=2*(qe+1)-1,ie=Y[oe],pe=oe+1,De=Y[pe];if(0>o(ie,me))pe<D&&0>o(De,ie)?(Y[qe]=De,Y[pe]=me,qe=pe):(Y[qe]=ie,Y[oe]=me,qe=oe);else if(pe<D&&0>o(De,me))Y[qe]=De,Y[pe]=me,qe=pe;else break e}}return ae}function o(Y,ae){var me=Y.sortIndex-ae.sortIndex;return me!==0?me:Y.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],y=[],_=1,b=null,A=3,V=!1,B=!1,K=!1,F=!1,ee=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Re(Y){for(var ae=t(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=Y)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(y)}}function de(Y){if(K=!1,Re(Y),!B)if(t(p)!==null)B=!0,Ve||(Ve=!0,P());else{var ae=t(y);ae!==null&&ft(de,ae.startTime-Y)}}var Ve=!1,N=-1,S=5,C=-1;function O(){return F?!0:!(i.unstable_now()-C<S)}function k(){if(F=!1,Ve){var Y=i.unstable_now();C=Y;var ae=!0;try{e:{B=!1,K&&(K=!1,le(N),N=-1),V=!0;var me=A;try{t:{for(Re(Y),b=t(p);b!==null&&!(b.expirationTime>Y&&O());){var qe=b.callback;if(typeof qe=="function"){b.callback=null,A=b.priorityLevel;var D=qe(b.expirationTime<=Y);if(Y=i.unstable_now(),typeof D=="function"){b.callback=D,Re(Y),ae=!0;break t}b===t(p)&&s(p),Re(Y)}else s(p);b=t(p)}if(b!==null)ae=!0;else{var te=t(y);te!==null&&ft(de,te.startTime-Y),ae=!1}}break e}finally{b=null,A=me,V=!1}ae=void 0}}finally{ae?P():Ve=!1}}}var P;if(typeof se=="function")P=function(){se(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ft=I.port2;I.port1.onmessage=k,P=function(){Ft.postMessage(null)}}else P=function(){ee(k,0)};function ft(Y,ae){N=ee(function(){Y(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var me=A;A=ae;try{return Y()}finally{A=me}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=A;A=Y;try{return ae()}finally{A=me}},i.unstable_scheduleCallback=function(Y,ae,me){var qe=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?qe+me:qe):me=qe,Y){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=me+D,Y={id:_++,callback:ae,priorityLevel:Y,startTime:me,expirationTime:D,sortIndex:-1},me>qe?(Y.sortIndex=me,e(y,Y),t(p)===null&&Y===t(y)&&(K?(le(N),N=-1):K=!0,ft(de,me-qe))):(Y.sortIndex=D,e(p,Y),B||V||(B=!0,Ve||(Ve=!0,P()))),Y},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(Y){var ae=A;return function(){var me=A;A=ae;try{return Y.apply(this,arguments)}finally{A=me}}}})(np)),np}var C_;function R1(){return C_||(C_=1,tp.exports=S1()),tp.exports}var ip={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function C1(){if(I_)return nn;I_=1;var i=Wp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:_}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,_)},nn.flushSync=function(p){var y=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=_,s.d.f()}},nn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var _=y.as,b=m(_,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:V}):_==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},nn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,b=m(_,y.crossOrigin);s.d.L(p,_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(p,y){if(typeof p=="string")if(y){var _=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,y){return p(y)},nn.useFormState=function(p,y,_){return f.H.useFormState(p,y,_)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var D_;function I1(){if(D_)return ip.exports;D_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ip.exports=C1(),ip.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function D1(){if(x_)return uu;x_=1;var i=R1(),e=Wp(),t=I1();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var w=!1,E=h.child;E;){if(E===a){w=!0,a=h,l=d;break}if(E===l){w=!0,l=h,a=d;break}E=E.sibling}if(!w){for(E=d.child;E;){if(E===a){w=!0,a=d,l=h;break}if(E===l){w=!0,l=d,a=h;break}E=E.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),le=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Ft(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case F:return"Profiler";case K:return"StrictMode";case de:return"Suspense";case Ve:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case V:return"Portal";case se:return(n.displayName||"Context")+".Provider";case le:return(n._context.displayName||"Context")+".Consumer";case Re:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return r=n.displayName||null,r!==null?r:Ft(n.type)||"Memo";case S:r=n._payload,n=n._init;try{return Ft(n(r))}catch{}}return null}var ft=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},qe=[],D=-1;function te(n){return{current:n}}function oe(n){0>D||(n.current=qe[D],qe[D]=null,D--)}function ie(n,r){D++,qe[D]=n.current,n.current=r}var pe=te(null),De=te(null),Te=te(null),Vt=te(null);function nt(n,r){switch(ie(Te,r),ie(De,n),ie(pe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Xw(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Xw(r),n=Ww(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(pe),ie(pe,n)}function ui(){oe(pe),oe(De),oe(Te)}function Rr(n){n.memoizedState!==null&&ie(Vt,n);var r=pe.current,a=Ww(r,n.type);r!==a&&(ie(De,n),ie(pe,a))}function Bi(n){De.current===n&&(oe(pe),oe(De)),Vt.current===n&&(oe(Vt),iu._currentValue=me)}var Ts=Object.prototype.hasOwnProperty,As=i.unstable_scheduleCallback,Ss=i.unstable_cancelCallback,el=i.unstable_shouldYield,ic=i.unstable_requestPaint,Pn=i.unstable_now,Zf=i.unstable_getCurrentPriorityLevel,tl=i.unstable_ImmediatePriority,Ra=i.unstable_UserBlockingPriority,Rs=i.unstable_NormalPriority,Jf=i.unstable_LowPriority,Ca=i.unstable_IdlePriority,nl=i.log,rc=i.unstable_setDisableYieldValue,dt=null,Ye=null;function En(n){if(typeof nl=="function"&&rc(n),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(dt,n)}catch{}}var en=Math.clz32?Math.clz32:Cs,sc=Math.log,ed=Math.LN2;function Cs(n){return n>>>=0,n===0?32:31-(sc(n)/ed|0)|0}var Is=256,Ds=4194304;function Zn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ia(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=Zn(l):(w&=E,w!==0?h=Zn(w):a||(a=E&~n,a!==0&&(h=Zn(a))))):(E=l&~d,E!==0?h=Zn(E):w!==0?h=Zn(w):a||(a=l&~n,a!==0&&(h=Zn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function xs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function il(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rl(){var n=Is;return Is<<=1,(Is&4194048)===0&&(Is=256),n}function sl(){var n=Ds;return Ds<<=1,(Ds&62914560)===0&&(Ds=4194304),n}function zi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ji(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function al(n,r,a,l,h,d){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var E=n.entanglements,R=n.expirationTimes,z=n.hiddenUpdates;for(a=w&~a;0<a;){var Q=31-en(a),Z=1<<Q;E[Q]=0,R[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&ci(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(w&~r))}function ci(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-en(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function ol(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-en(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function Cr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Da(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ir(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:g_(n.type))}function ac(n,r){var a=ae.p;try{return ae.p=n,r()}finally{ae.p=a}}var at=Math.random().toString(36).slice(2),It="__reactFiber$"+at,bt="__reactProps$"+at,Vn="__reactContainer$"+at,ll="__reactEvents$"+at,td="__reactListeners$"+at,Dr="__reactHandles$"+at,oc="__reactResources$"+at,Os="__reactMarker$"+at;function xr(n){delete n[It],delete n[bt],delete n[ll],delete n[td],delete n[Dr]}function Hi(n){var r=n[It];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Vn]||a[It]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=t_(n);n!==null;){if(a=n[It])return a;n=t_(n)}return r}n=a,a=n.parentNode}return null}function hi(n){if(n=n[It]||n[Vn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function fi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function un(n){var r=n[oc];return r||(r=n[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(n){n[Os]=!0}var ul=new Set,xa={};function Jn(n,r){qi(n,r),qi(n+"Capture",r)}function qi(n,r){for(xa[n]=r,n=0;n<r.length;n++)ul.add(r[n])}var lc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uc={},Ns={};function cc(n){return Ts.call(Ns,n)?!0:Ts.call(uc,n)?!1:lc.test(n)?Ns[n]=!0:(uc[n]=!0,!1)}function Or(n,r,a){if(cc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function di(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Gt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var ks,hc;function Fi(n){if(ks===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ks=r&&r[1]||"",hc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+n+hc}var Oa=!1;function Na(n,r){if(!n||Oa)return"";Oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var j=H}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(H){j=H}n.call(Z.prototype)}}else{try{throw Error()}catch(H){j=H}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),w=d[0],E=d[1];if(w&&E){var R=w.split(`
`),z=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var Q=`
`+R[l].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Oa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Fi(a):""}function cl(n){switch(n.tag){case 26:case 27:case 5:return Fi(n.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return Na(n.type,!1);case 11:return Na(n.type.render,!1);case 1:return Na(n.type,!0);case 31:return Fi("Activity");default:return""}}function ka(n){try{var r="";do r+=cl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function hl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function nd(n){var r=hl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(w){l=""+w,d.call(this,w)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ma(n){n._valueTracker||(n._valueTracker=nd(n))}function fl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=hl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ms(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var id=/[\n"\\]/g;function Tt(n){return n.replace(id,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bn(n,r,a,l,h,d,w,E){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),r!=null?w==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+cn(r)):n.value!==""+cn(r)&&(n.value=""+cn(r)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),r!=null?Nr(n,w,cn(r)):a!=null?Nr(n,w,cn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+cn(E):n.removeAttribute("name")}function Ps(n,r,a,l,h,d,w,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+cn(a):"",r=r!=null?""+cn(r):a,E||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=E?n.checked:!!l,n.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function Nr(n,r,a){r==="number"&&Ms(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Gi(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+cn(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function We(n,r,a){if(r!=null&&(r=""+cn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+cn(a):""}function Vs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=cn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Ln(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fc(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Ls.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function dl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&fc(n,h,l)}else for(var d in r)r.hasOwnProperty(d)&&fc(n,d,r[d])}function ml(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(n){return sd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var $i=null;function Un(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ki=null,Yi=null;function pl(n){var r=hi(n);if(r&&(n=r.stateNode)){var a=n[bt]||null;e:switch(n=r.stateNode,r.type){case"input":if(bn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[bt]||null;if(!h)throw Error(s(90));bn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&fl(l)}break e;case"textarea":We(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Gi(n,!!a.multiple,r,!1)}}}var mi=!1;function dc(n,r,a){if(mi)return n(r,a);mi=!0;try{var l=n(r);return l}finally{if(mi=!1,(Ki!==null||Yi!==null)&&(ah(),Ki&&(r=Ki,n=Yi,Yi=Ki=null,pl(r),n)))for(r=0;r<n.length;r++)pl(n[r])}}function Us(n,r){var a=n.stateNode;if(a===null)return null;var l=a[bt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(ei)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Bn=!1}var pi=null,kr=null,Qi=null;function gl(){if(Qi)return Qi;var n,r=kr,a=r.length,l,h="value"in pi?pi.value:pi.textContent,d=h.length;for(n=0;n<a&&r[n]===h[n];n++);var w=a-n;for(l=1;l<=w&&r[a-l]===h[d-l];l++);return Qi=h.slice(n,1<l?1-l:void 0)}function gi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function yi(){return!0}function yl(){return!1}function Lt(n){function r(a,l,h,d,w){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=w,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(a=n[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?yi:yl,this.isPropagationStopped=yl,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),r}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Lt($e),zs=_({},$e,{view:0,detail:0}),mc=Lt(zs),La,Ua,vi,js=_({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vi&&(vi&&n.type==="mousemove"?(La=n.screenX-vi.screenX,Ua=n.screenY-vi.screenY):Ua=La=0,vi=n),La)},movementY:function(n){return"movementY"in n?n.movementY:Ua}}),zn=Lt(js),pc=_({},js,{dataTransfer:0}),ad=Lt(pc),Hs=_({},zs,{relatedTarget:0}),Ba=Lt(Hs),vl=_({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),za=Lt(vl),gc=_({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ja=Lt(gc),od=_({},$e,{data:0}),wl=Lt(od),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _l(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=vc[n])?!!r[n]:!1}function Fs(){return _l}var wc=_({},zs,{key:function(n){if(n.key){var r=qs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=gi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(n){return n.type==="keypress"?gi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ha=Lt(wc),_c=_({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),El=Lt(_c),Xi=_({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),Ec=Lt(Xi),bc=_({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tc=Lt(bc),Ac=_({},js,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=Lt(Ac),hn=_({},$e,{newState:0,oldState:0}),Sc=Lt(hn),Rc=[9,13,27,32],wi=ei&&"CompositionEvent"in window,c=null;ei&&"documentMode"in document&&(c=document.documentMode);var g=ei&&"TextEvent"in window&&!c,v=ei&&(!wi||c&&8<c&&11>=c),T=" ",L=!1;function q(n,r){switch(n){case"keyup":return Rc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Le=!1;function Dt(n,r){switch(n){case"compositionend":return re(r);case"keypress":return r.which!==32?null:(L=!0,T);case"textInput":return n=r.data,n===T&&L?null:n;default:return null}}function Ue(n,r){if(Le)return n==="compositionend"||!wi&&q(n,r)?(n=gl(),Qi=kr=pi=null,Le=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ut[n.type]:r==="textarea"}function Wi(n,r,a,l){Ki?Yi?Yi.push(l):Yi=[l]:Ki=l,r=fh(r,"onChange"),0<r.length&&(a=new Va("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var $t=null,_i=null;function bl(n){Gw(n,0)}function Cc(n){var r=fi(n);if(fl(r))return n}function fy(n,r){if(n==="change")return r}var dy=!1;if(ei){var ld;if(ei){var ud="oninput"in document;if(!ud){var my=document.createElement("div");my.setAttribute("oninput","return;"),ud=typeof my.oninput=="function"}ld=ud}else ld=!1;dy=ld&&(!document.documentMode||9<document.documentMode)}function py(){$t&&($t.detachEvent("onpropertychange",gy),_i=$t=null)}function gy(n){if(n.propertyName==="value"&&Cc(_i)){var r=[];Wi(r,_i,n,Un(n)),dc(bl,r)}}function Z2(n,r,a){n==="focusin"?(py(),$t=r,_i=a,$t.attachEvent("onpropertychange",gy)):n==="focusout"&&py()}function J2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cc(_i)}function eA(n,r){if(n==="click")return Cc(r)}function tA(n,r){if(n==="input"||n==="change")return Cc(r)}function nA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Tn=typeof Object.is=="function"?Object.is:nA;function Tl(n,r){if(Tn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ts.call(r,h)||!Tn(n[h],r[h]))return!1}return!0}function yy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vy(n,r){var a=yy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yy(a)}}function wy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?wy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function _y(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ms(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ms(n.document)}return r}function cd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var iA=ei&&"documentMode"in document&&11>=document.documentMode,Fa=null,hd=null,Al=null,fd=!1;function Ey(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fd||Fa==null||Fa!==Ms(l)||(l=Fa,"selectionStart"in l&&cd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Al&&Tl(Al,l)||(Al=l,l=fh(hd,"onSelect"),0<l.length&&(r=new Va("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Fa)))}function Gs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ga={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},dd={},by={};ei&&(by=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function $s(n){if(dd[n])return dd[n];if(!Ga[n])return n;var r=Ga[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in by)return dd[n]=r[a];return n}var Ty=$s("animationend"),Ay=$s("animationiteration"),Sy=$s("animationstart"),rA=$s("transitionrun"),sA=$s("transitionstart"),aA=$s("transitioncancel"),Ry=$s("transitionend"),Cy=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function ti(n,r){Cy.set(n,r),Jn(r,[n])}var Iy=new WeakMap;function jn(n,r){if(typeof n=="object"&&n!==null){var a=Iy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ka(r)},Iy.set(n,r),r)}return{value:n,source:r,stack:ka(r)}}var Hn=[],$a=0,pd=0;function Ic(){for(var n=$a,r=pd=$a=0;r<n;){var a=Hn[r];Hn[r++]=null;var l=Hn[r];Hn[r++]=null;var h=Hn[r];Hn[r++]=null;var d=Hn[r];if(Hn[r++]=null,l!==null&&h!==null){var w=l.pending;w===null?h.next=h:(h.next=w.next,w.next=h),l.pending=h}d!==0&&Dy(a,h,d)}}function Dc(n,r,a,l){Hn[$a++]=n,Hn[$a++]=r,Hn[$a++]=a,Hn[$a++]=l,pd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function gd(n,r,a,l){return Dc(n,r,a,l),xc(n)}function Ka(n,r){return Dc(n,null,null,r),xc(n)}function Dy(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&r!==null&&(h=31-en(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function xc(n){if(50<Ql)throw Ql=0,bm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ya={};function oA(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(n,r,a,l){return new oA(n,r,a,l)}function yd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Zi(n,r){var a=n.alternate;return a===null?(a=An(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function xy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Oc(n,r,a,l,h,d){var w=0;if(l=n,typeof n=="function")yd(n)&&(w=1);else if(typeof n=="string")w=u1(n,a,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=An(31,a,r,h),n.elementType=C,n.lanes=d,n;case B:return Ks(a.children,h,d,r);case K:w=8,h|=24;break;case F:return n=An(12,a,r,h|2),n.elementType=F,n.lanes=d,n;case de:return n=An(13,a,r,h),n.elementType=de,n.lanes=d,n;case Ve:return n=An(19,a,r,h),n.elementType=Ve,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ee:case se:w=10;break e;case le:w=9;break e;case Re:w=11;break e;case N:w=14;break e;case S:w=16,l=null;break e}w=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=An(w,a,r,h),r.elementType=n,r.type=l,r.lanes=d,r}function Ks(n,r,a,l){return n=An(7,n,l,r),n.lanes=a,n}function vd(n,r,a){return n=An(6,n,null,r),n.lanes=a,n}function wd(n,r,a){return r=An(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Qa=[],Xa=0,Nc=null,kc=0,qn=[],Fn=0,Ys=null,Ji=1,er="";function Qs(n,r){Qa[Xa++]=kc,Qa[Xa++]=Nc,Nc=n,kc=r}function Oy(n,r,a){qn[Fn++]=Ji,qn[Fn++]=er,qn[Fn++]=Ys,Ys=n;var l=Ji;n=er;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(r)+h;if(30<d){var w=h-h%5;d=(l&(1<<w)-1).toString(32),l>>=w,h-=w,Ji=1<<32-en(r)+h|a<<h|l,er=d+n}else Ji=1<<d|a<<h|l,er=n}function _d(n){n.return!==null&&(Qs(n,1),Oy(n,1,0))}function Ed(n){for(;n===Nc;)Nc=Qa[--Xa],Qa[Xa]=null,kc=Qa[--Xa],Qa[Xa]=null;for(;n===Ys;)Ys=qn[--Fn],qn[Fn]=null,er=qn[--Fn],qn[Fn]=null,Ji=qn[--Fn],qn[Fn]=null}var fn=null,mt=null,Fe=!1,Xs=null,Ei=!1,bd=Error(s(519));function Ws(n){var r=Error(s(418,""));throw Cl(jn(r,n)),bd}function Ny(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[It]=n,r[bt]=l,a){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(a=0;a<Wl.length;a++)Ne(Wl[a],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Ne("invalid",r),Ps(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ma(r);break;case"select":Ne("invalid",r);break;case"textarea":Ne("invalid",r),Vs(r,l.value,l.defaultValue,l.children),Ma(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Qw(r.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",r),Ne("toggle",r)),l.onScroll!=null&&Ne("scroll",r),l.onScrollEnd!=null&&Ne("scrollend",r),l.onClick!=null&&(r.onclick=dh),r=!0):r=!1,r||Ws(n)}function ky(n){for(fn=n.return;fn;)switch(fn.tag){case 5:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:fn=fn.return}}function Sl(n){if(n!==fn)return!1;if(!Fe)return ky(n),Fe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Um(n.type,n.memoizedProps)),a=!a),a&&mt&&Ws(n),ky(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){mt=ii(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}mt=null}}else r===27?(r=mt,Qr(n.type)?(n=Hm,Hm=null,mt=n):mt=r):mt=fn?ii(n.stateNode.nextSibling):null;return!0}function Rl(){mt=fn=null,Fe=!1}function My(){var n=Xs;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),Xs=null),n}function Cl(n){Xs===null?Xs=[n]:Xs.push(n)}var Td=te(null),Zs=null,tr=null;function Mr(n,r,a){ie(Td,r._currentValue),r._currentValue=a}function nr(n){n._currentValue=Td.current,oe(Td)}function Ad(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Sd(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var w=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var R=0;R<r.length;R++)if(E.context===r[R]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Ad(d.return,a,n),l||(w=null);break e}d=E.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(s(341));w.lanes|=a,d=w.alternate,d!==null&&(d.lanes|=a),Ad(w,a,n),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Il(n,r,a,l){n=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var E=h.type;Tn(h.pendingProps.value,w.value)||(n!==null?n.push(E):n=[E])}}else if(h===Vt.current){if(w=h.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(iu):n=[iu])}h=h.return}n!==null&&Sd(r,n,a,l),r.flags|=262144}function Mc(n){for(n=n.firstContext;n!==null;){if(!Tn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Js(n){Zs=n,tr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return Py(Zs,n)}function Pc(n,r){return Zs===null&&Js(n),Py(n,r)}function Py(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},tr===null){if(n===null)throw Error(s(308));tr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else tr=tr.next=r;return a}var lA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},uA=i.unstable_scheduleCallback,cA=i.unstable_NormalPriority,Ot={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new lA,data:new Map,refCount:0}}function Dl(n){n.refCount--,n.refCount===0&&uA(cA,function(){n.controller.abort()})}var xl=null,Cd=0,Wa=0,Za=null;function hA(n,r){if(xl===null){var a=xl=[];Cd=0,Wa=Dm(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Cd++,r.then(Vy,Vy),r}function Vy(){if(--Cd===0&&xl!==null){Za!==null&&(Za.status="fulfilled");var n=xl;xl=null,Wa=0,Za=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function fA(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ly=Y.S;Y.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&hA(n,r),Ly!==null&&Ly(n,r)};var ea=te(null);function Id(){var n=ea.current;return n!==null?n:it.pooledCache}function Vc(n,r){r===null?ie(ea,ea.current):ie(ea,r.pool)}function Uy(){var n=Id();return n===null?null:{parent:Ot._currentValue,pool:n}}var Ol=Error(s(460)),By=Error(s(474)),Lc=Error(s(542)),Dd={then:function(){}};function zy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Uc(){}function jy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Uc,Uc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,qy(n),n;default:if(typeof r.status=="string")r.then(Uc,Uc);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,qy(n),n}throw Nl=r,Ol}}var Nl=null;function Hy(){if(Nl===null)throw Error(s(459));var n=Nl;return Nl=null,n}function qy(n){if(n===Ol||n===Lc)throw Error(s(483))}var Pr=!1;function xd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Od(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Vr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Lr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=xc(n),Dy(n,null,a),r}return Dc(n,l,r,a),xc(n)}function kl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,ol(n,a)}}function Nd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=w:d=d.next=w,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var kd=!1;function Ml(){if(kd){var n=Za;if(n!==null)throw n}}function Pl(n,r,a,l){kd=!1;var h=n.updateQueue;Pr=!1;var d=h.firstBaseUpdate,w=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,w===null?d=z:w.next=z,w=R;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==w&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=R))}if(d!==null){var Z=h.baseState;w=0,Q=z=R=null,E=d;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Be&j)===j:(l&j)===j){j!==0&&j===Wa&&(kd=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var be=n,ve=E;j=r;var et=a;switch(ve.tag){case 1:if(be=ve.payload,typeof be=="function"){Z=be.call(et,Z,j);break e}Z=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ve.payload,j=typeof be=="function"?be.call(et,Z,j):be,j==null)break e;Z=_({},Z,j);break e;case 2:Pr=!0}}j=E.callback,j!==null&&(n.flags|=64,H&&(n.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,R=Z):Q=Q.next=H,w|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Gr|=w,n.lanes=w,n.memoizedState=Z}}function Fy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Gy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Fy(a[n],r)}var Ja=te(null),Bc=te(0);function $y(n,r){n=ur,ie(Bc,n),ie(Ja,r),ur=n|r.baseLanes}function Md(){ie(Bc,ur),ie(Ja,Ja.current)}function Pd(){ur=Bc.current,oe(Ja),oe(Bc)}var Ur=0,Ie=null,Ze=null,At=null,zc=!1,eo=!1,ta=!1,jc=0,Vl=0,to=null,dA=0;function yt(){throw Error(s(321))}function Vd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Tn(n[a],r[a]))return!1;return!0}function Ld(n,r,a,l,h,d){return Ur=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=n===null||n.memoizedState===null?Dv:xv,ta=!1,d=a(l,h),ta=!1,eo&&(d=Yy(r,a,l,h)),Ky(n),d}function Ky(n){Y.H=Kc;var r=Ze!==null&&Ze.next!==null;if(Ur=0,At=Ze=Ie=null,zc=!1,Vl=0,to=null,r)throw Error(s(300));n===null||Bt||(n=n.dependencies,n!==null&&Mc(n)&&(Bt=!0))}function Yy(n,r,a,l){Ie=n;var h=0;do{if(eo&&(to=null),Vl=0,eo=!1,25<=h)throw Error(s(301));if(h+=1,At=Ze=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=_A,d=r(a,l)}while(eo);return d}function mA(){var n=Y.H,r=n.useState()[0];return r=typeof r.then=="function"?Ll(r):r,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Ie.flags|=1024),r}function Ud(){var n=jc!==0;return jc=0,n}function Bd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function zd(n){if(zc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}zc=!1}Ur=0,At=Ze=Ie=null,eo=!1,Vl=jc=0,to=null}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ie.memoizedState=At=n:At=At.next=n,At}function St(){if(Ze===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var r=At===null?Ie.memoizedState:At.next;if(r!==null)At=r,Ze=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?Ie.memoizedState=At=n:At=At.next=n}return At}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(n){var r=Vl;return Vl+=1,to===null&&(to=[]),n=jy(to,n,r),r=Ie,(At===null?r.memoizedState:At.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?Dv:xv),n}function Hc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ll(n);if(n.$$typeof===se)return tn(n)}throw Error(s(438,String(n)))}function Hd(n){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=jd(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=O;return r.index++,a}function ir(n,r){return typeof r=="function"?r(n):r}function qc(n){var r=St();return qd(r,Ze,n)}function qd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var w=h.next;h.next=d.next,d.next=w}r.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{r=h.next;var E=w=null,R=null,z=r,Q=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Be&Z)===Z:(Ur&Z)===Z){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Wa&&(Q=!0);else if((Ur&j)===j){z=z.next,j===Wa&&(Q=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Z,w=d):R=R.next=Z,Ie.lanes|=j,Gr|=j;Z=z.action,ta&&a(d,Z),d=z.hasEagerState?z.eagerState:a(d,Z)}else j={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,w=d):R=R.next=j,Ie.lanes|=Z,Gr|=Z;z=z.next}while(z!==null&&z!==r);if(R===null?w=d:R.next=E,!Tn(d,n.memoizedState)&&(Bt=!0,Q&&(a=Za,a!==null)))throw a;n.memoizedState=d,n.baseState=w,n.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Fd(n){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var w=h=h.next;do d=n(d,w.action),w=w.next;while(w!==h);Tn(d,r.memoizedState)||(Bt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Qy(n,r,a){var l=Ie,h=St(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var w=!Tn((Ze||h).memoizedState,a);w&&(h.memoizedState=a,Bt=!0),h=h.queue;var E=Zy.bind(null,l,h,n);if(Ul(2048,8,E,[n]),h.getSnapshot!==r||w||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,no(9,Fc(),Wy.bind(null,l,h,a,r),null),it===null)throw Error(s(349));d||(Ur&124)!==0||Xy(l,r,a)}return a}function Xy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=jd(),Ie.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Wy(n,r,a,l){r.value=a,r.getSnapshot=l,Jy(r)&&ev(n)}function Zy(n,r,a){return a(function(){Jy(r)&&ev(n)})}function Jy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Tn(n,a)}catch{return!0}}function ev(n){var r=Ka(n,2);r!==null&&Dn(r,n,2)}function Gd(n){var r=pn();if(typeof n=="function"){var a=n;if(n=a(),ta){En(!0);try{a()}finally{En(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:n},r}function tv(n,r,a,l){return n.baseState=a,qd(n,Ze,typeof l=="function"?l:ir)}function pA(n,r,a,l,h){if($c(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){d.listeners.push(w)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,nv(r,d)):(d.next=a.next,r.pending=a.next=d)}}function nv(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var d=Y.T,w={};Y.T=w;try{var E=a(h,l),R=Y.S;R!==null&&R(w,E),iv(n,r,E)}catch(z){$d(n,r,z)}finally{Y.T=d}}else try{d=a(h,l),iv(n,r,d)}catch(z){$d(n,r,z)}}function iv(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){rv(n,r,l)},function(l){return $d(n,r,l)}):rv(n,r,a)}function rv(n,r,a){r.status="fulfilled",r.value=a,sv(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,nv(n,a)))}function $d(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,sv(r),r=r.next;while(r!==l)}n.action=null}function sv(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function av(n,r){return r}function ov(n,r){if(Fe){var a=it.formState;if(a!==null){e:{var l=Ie;if(Fe){if(mt){t:{for(var h=mt,d=Ei;h.nodeType!==8;){if(!d){h=null;break t}if(h=ii(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){mt=ii(h.nextSibling),l=h.data==="F!";break e}}Ws(l)}l=!1}l&&(r=a[0])}}return a=pn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:av,lastRenderedState:r},a.queue=l,a=Rv.bind(null,Ie,l),l.dispatch=a,l=Gd(!1),d=Wd.bind(null,Ie,!1,l.queue),l=pn(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=pA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function lv(n){var r=St();return uv(r,Ze,n)}function uv(n,r,a){if(r=qd(n,r,av)[0],n=qc(ir)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ll(r)}catch(w){throw w===Ol?Lc:w}else l=r;r=St();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,no(9,Fc(),gA.bind(null,h,a),null)),[l,d,n]}function gA(n,r){n.action=r}function cv(n){var r=St(),a=Ze;if(a!==null)return uv(r,a,n);St(),r=r.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function no(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=jd(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Fc(){return{destroy:void 0,resource:void 0}}function hv(){return St().memoizedState}function Gc(n,r,a,l){var h=pn();l=l===void 0?null:l,Ie.flags|=n,h.memoizedState=no(1|r,Fc(),a,l)}function Ul(n,r,a,l){var h=St();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Vd(l,Ze.memoizedState.deps)?h.memoizedState=no(r,d,a,l):(Ie.flags|=n,h.memoizedState=no(1|r,d,a,l))}function fv(n,r){Gc(8390656,8,n,r)}function dv(n,r){Ul(2048,8,n,r)}function mv(n,r){return Ul(4,2,n,r)}function pv(n,r){return Ul(4,4,n,r)}function gv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function yv(n,r,a){a=a!=null?a.concat([n]):null,Ul(4,4,gv.bind(null,r,n),a)}function Kd(){}function vv(n,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Vd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function wv(n,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Vd(r,l[1]))return l[0];if(l=n(),ta){En(!0);try{n()}finally{En(!1)}}return a.memoizedState=[l,r],l}function Yd(n,r,a){return a===void 0||(Ur&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=bw(),Ie.lanes|=n,Gr|=n,a)}function _v(n,r,a,l){return Tn(a,r)?a:Ja.current!==null?(n=Yd(n,a,l),Tn(n,r)||(Bt=!0),n):(Ur&42)===0?(Bt=!0,n.memoizedState=a):(n=bw(),Ie.lanes|=n,Gr|=n,r)}function Ev(n,r,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var w=Y.T,E={};Y.T=E,Wd(n,!1,r,a);try{var R=h(),z=Y.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=fA(R,l);Bl(n,r,Q,In(n))}else Bl(n,r,l,In(n))}catch(Z){Bl(n,r,{then:function(){},status:"rejected",reason:Z},In())}finally{ae.p=d,Y.T=w}}function yA(){}function Qd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=bv(n).queue;Ev(n,h,r,me,a===null?yA:function(){return Tv(n),a(l)})}function bv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Tv(n){var r=bv(n).next.queue;Bl(n,r,{},In())}function Xd(){return tn(iu)}function Av(){return St().memoizedState}function Sv(){return St().memoizedState}function vA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=In();n=Vr(a);var l=Lr(r,n,a);l!==null&&(Dn(l,r,a),kl(l,r,a)),r={cache:Rd()},n.payload=r;return}r=r.return}}function wA(n,r,a){var l=In();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},$c(n)?Cv(r,a):(a=gd(n,r,a,l),a!==null&&(Dn(a,n,l),Iv(a,r,l)))}function Rv(n,r,a){var l=In();Bl(n,r,a,l)}function Bl(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if($c(n))Cv(r,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var w=r.lastRenderedState,E=d(w,a);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,w))return Dc(n,r,h,0),it===null&&Ic(),!1}catch{}finally{}if(a=gd(n,r,h,l),a!==null)return Dn(a,n,l),Iv(a,r,l),!0}return!1}function Wd(n,r,a,l){if(l={lane:2,revertLane:Dm(),action:l,hasEagerState:!1,eagerState:null,next:null},$c(n)){if(r)throw Error(s(479))}else r=gd(n,a,l,2),r!==null&&Dn(r,n,2)}function $c(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function Cv(n,r){eo=zc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Iv(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,ol(n,a)}}var Kc={readContext:tn,use:Hc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},Dv={readContext:tn,use:Hc,useCallback:function(n,r){return pn().memoizedState=[n,r===void 0?null:r],n},useContext:tn,useEffect:fv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Gc(4194308,4,gv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Gc(4194308,4,n,r)},useInsertionEffect:function(n,r){Gc(4,2,n,r)},useMemo:function(n,r){var a=pn();r=r===void 0?null:r;var l=n();if(ta){En(!0);try{n()}finally{En(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=pn();if(a!==void 0){var h=a(r);if(ta){En(!0);try{a(r)}finally{En(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=wA.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var r=pn();return n={current:n},r.memoizedState=n},useState:function(n){n=Gd(n);var r=n.queue,a=Rv.bind(null,Ie,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Kd,useDeferredValue:function(n,r){var a=pn();return Yd(a,n,r)},useTransition:function(){var n=Gd(!1);return n=Ev.bind(null,Ie,n.queue,!0,!1),pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ie,h=pn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));(Be&124)!==0||Xy(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,fv(Zy.bind(null,l,d,n),[n]),l.flags|=2048,no(9,Fc(),Wy.bind(null,l,d,a,r),null),a},useId:function(){var n=pn(),r=it.identifierPrefix;if(Fe){var a=er,l=Ji;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r=""+r+"R"+a,a=jc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=dA++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Xd,useFormState:ov,useActionState:ov,useOptimistic:function(n){var r=pn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Wd.bind(null,Ie,!0,a),a.dispatch=r,[n,r]},useMemoCache:Hd,useCacheRefresh:function(){return pn().memoizedState=vA.bind(null,Ie)}},xv={readContext:tn,use:Hc,useCallback:vv,useContext:tn,useEffect:dv,useImperativeHandle:yv,useInsertionEffect:mv,useLayoutEffect:pv,useMemo:wv,useReducer:qc,useRef:hv,useState:function(){return qc(ir)},useDebugValue:Kd,useDeferredValue:function(n,r){var a=St();return _v(a,Ze.memoizedState,n,r)},useTransition:function(){var n=qc(ir)[0],r=St().memoizedState;return[typeof n=="boolean"?n:Ll(n),r]},useSyncExternalStore:Qy,useId:Av,useHostTransitionStatus:Xd,useFormState:lv,useActionState:lv,useOptimistic:function(n,r){var a=St();return tv(a,Ze,n,r)},useMemoCache:Hd,useCacheRefresh:Sv},_A={readContext:tn,use:Hc,useCallback:vv,useContext:tn,useEffect:dv,useImperativeHandle:yv,useInsertionEffect:mv,useLayoutEffect:pv,useMemo:wv,useReducer:Fd,useRef:hv,useState:function(){return Fd(ir)},useDebugValue:Kd,useDeferredValue:function(n,r){var a=St();return Ze===null?Yd(a,n,r):_v(a,Ze.memoizedState,n,r)},useTransition:function(){var n=Fd(ir)[0],r=St().memoizedState;return[typeof n=="boolean"?n:Ll(n),r]},useSyncExternalStore:Qy,useId:Av,useHostTransitionStatus:Xd,useFormState:cv,useActionState:cv,useOptimistic:function(n,r){var a=St();return Ze!==null?tv(a,Ze,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:Sv},io=null,zl=0;function Yc(n){var r=zl;return zl+=1,io===null&&(io=[]),jy(io,n,r)}function jl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Qc(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ov(n){var r=n._init;return r(n._payload)}function Nv(n){function r(M,x){if(n){var U=M.deletions;U===null?(M.deletions=[x],M.flags|=16):U.push(x)}}function a(M,x){if(!n)return null;for(;x!==null;)r(M,x),x=x.sibling;return null}function l(M){for(var x=new Map;M!==null;)M.key!==null?x.set(M.key,M):x.set(M.index,M),M=M.sibling;return x}function h(M,x){return M=Zi(M,x),M.index=0,M.sibling=null,M}function d(M,x,U){return M.index=U,n?(U=M.alternate,U!==null?(U=U.index,U<x?(M.flags|=67108866,x):U):(M.flags|=67108866,x)):(M.flags|=1048576,x)}function w(M){return n&&M.alternate===null&&(M.flags|=67108866),M}function E(M,x,U,W){return x===null||x.tag!==6?(x=vd(U,M.mode,W),x.return=M,x):(x=h(x,U),x.return=M,x)}function R(M,x,U,W){var ce=U.type;return ce===B?Q(M,x,U.props.children,W,U.key):x!==null&&(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===S&&Ov(ce)===x.type)?(x=h(x,U.props),jl(x,U),x.return=M,x):(x=Oc(U.type,U.key,U.props,null,M.mode,W),jl(x,U),x.return=M,x)}function z(M,x,U,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=wd(U,M.mode,W),x.return=M,x):(x=h(x,U.children||[]),x.return=M,x)}function Q(M,x,U,W,ce){return x===null||x.tag!==7?(x=Ks(U,M.mode,W,ce),x.return=M,x):(x=h(x,U),x.return=M,x)}function Z(M,x,U){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=vd(""+x,M.mode,U),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case A:return U=Oc(x.type,x.key,x.props,null,M.mode,U),jl(U,x),U.return=M,U;case V:return x=wd(x,M.mode,U),x.return=M,x;case S:var W=x._init;return x=W(x._payload),Z(M,x,U)}if(ft(x)||P(x))return x=Ks(x,M.mode,U,null),x.return=M,x;if(typeof x.then=="function")return Z(M,Yc(x),U);if(x.$$typeof===se)return Z(M,Pc(M,x),U);Qc(M,x)}return null}function j(M,x,U,W){var ce=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ce!==null?null:E(M,x,""+U,W);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===ce?R(M,x,U,W):null;case V:return U.key===ce?z(M,x,U,W):null;case S:return ce=U._init,U=ce(U._payload),j(M,x,U,W)}if(ft(U)||P(U))return ce!==null?null:Q(M,x,U,W,null);if(typeof U.then=="function")return j(M,x,Yc(U),W);if(U.$$typeof===se)return j(M,x,Pc(M,U),W);Qc(M,U)}return null}function H(M,x,U,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return M=M.get(U)||null,E(x,M,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return M=M.get(W.key===null?U:W.key)||null,R(x,M,W,ce);case V:return M=M.get(W.key===null?U:W.key)||null,z(x,M,W,ce);case S:var xe=W._init;return W=xe(W._payload),H(M,x,U,W,ce)}if(ft(W)||P(W))return M=M.get(U)||null,Q(x,M,W,ce,null);if(typeof W.then=="function")return H(M,x,U,Yc(W),ce);if(W.$$typeof===se)return H(M,x,U,Pc(x,W),ce);Qc(x,W)}return null}function be(M,x,U,W){for(var ce=null,xe=null,fe=x,we=x=0,jt=null;fe!==null&&we<U.length;we++){fe.index>we?(jt=fe,fe=null):jt=fe.sibling;var je=j(M,fe,U[we],W);if(je===null){fe===null&&(fe=jt);break}n&&fe&&je.alternate===null&&r(M,fe),x=d(je,x,we),xe===null?ce=je:xe.sibling=je,xe=je,fe=jt}if(we===U.length)return a(M,fe),Fe&&Qs(M,we),ce;if(fe===null){for(;we<U.length;we++)fe=Z(M,U[we],W),fe!==null&&(x=d(fe,x,we),xe===null?ce=fe:xe.sibling=fe,xe=fe);return Fe&&Qs(M,we),ce}for(fe=l(fe);we<U.length;we++)jt=H(fe,M,we,U[we],W),jt!==null&&(n&&jt.alternate!==null&&fe.delete(jt.key===null?we:jt.key),x=d(jt,x,we),xe===null?ce=jt:xe.sibling=jt,xe=jt);return n&&fe.forEach(function(es){return r(M,es)}),Fe&&Qs(M,we),ce}function ve(M,x,U,W){if(U==null)throw Error(s(151));for(var ce=null,xe=null,fe=x,we=x=0,jt=null,je=U.next();fe!==null&&!je.done;we++,je=U.next()){fe.index>we?(jt=fe,fe=null):jt=fe.sibling;var es=j(M,fe,je.value,W);if(es===null){fe===null&&(fe=jt);break}n&&fe&&es.alternate===null&&r(M,fe),x=d(es,x,we),xe===null?ce=es:xe.sibling=es,xe=es,fe=jt}if(je.done)return a(M,fe),Fe&&Qs(M,we),ce;if(fe===null){for(;!je.done;we++,je=U.next())je=Z(M,je.value,W),je!==null&&(x=d(je,x,we),xe===null?ce=je:xe.sibling=je,xe=je);return Fe&&Qs(M,we),ce}for(fe=l(fe);!je.done;we++,je=U.next())je=H(fe,M,we,je.value,W),je!==null&&(n&&je.alternate!==null&&fe.delete(je.key===null?we:je.key),x=d(je,x,we),xe===null?ce=je:xe.sibling=je,xe=je);return n&&fe.forEach(function(E1){return r(M,E1)}),Fe&&Qs(M,we),ce}function et(M,x,U,W){if(typeof U=="object"&&U!==null&&U.type===B&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var ce=U.key;x!==null;){if(x.key===ce){if(ce=U.type,ce===B){if(x.tag===7){a(M,x.sibling),W=h(x,U.props.children),W.return=M,M=W;break e}}else if(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===S&&Ov(ce)===x.type){a(M,x.sibling),W=h(x,U.props),jl(W,U),W.return=M,M=W;break e}a(M,x);break}else r(M,x);x=x.sibling}U.type===B?(W=Ks(U.props.children,M.mode,W,U.key),W.return=M,M=W):(W=Oc(U.type,U.key,U.props,null,M.mode,W),jl(W,U),W.return=M,M=W)}return w(M);case V:e:{for(ce=U.key;x!==null;){if(x.key===ce)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){a(M,x.sibling),W=h(x,U.children||[]),W.return=M,M=W;break e}else{a(M,x);break}else r(M,x);x=x.sibling}W=wd(U,M.mode,W),W.return=M,M=W}return w(M);case S:return ce=U._init,U=ce(U._payload),et(M,x,U,W)}if(ft(U))return be(M,x,U,W);if(P(U)){if(ce=P(U),typeof ce!="function")throw Error(s(150));return U=ce.call(U),ve(M,x,U,W)}if(typeof U.then=="function")return et(M,x,Yc(U),W);if(U.$$typeof===se)return et(M,x,Pc(M,U),W);Qc(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,x!==null&&x.tag===6?(a(M,x.sibling),W=h(x,U),W.return=M,M=W):(a(M,x),W=vd(U,M.mode,W),W.return=M,M=W),w(M)):a(M,x)}return function(M,x,U,W){try{zl=0;var ce=et(M,x,U,W);return io=null,ce}catch(fe){if(fe===Ol||fe===Lc)throw fe;var xe=An(29,fe,null,M.mode);return xe.lanes=W,xe.return=M,xe}finally{}}}var ro=Nv(!0),kv=Nv(!1),Gn=te(null),bi=null;function Br(n){var r=n.alternate;ie(Nt,Nt.current&1),ie(Gn,n),bi===null&&(r===null||Ja.current!==null||r.memoizedState!==null)&&(bi=n)}function Mv(n){if(n.tag===22){if(ie(Nt,Nt.current),ie(Gn,n),bi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(bi=n)}}else zr()}function zr(){ie(Nt,Nt.current),ie(Gn,Gn.current)}function rr(n){oe(Gn),bi===n&&(bi=null),oe(Nt)}var Nt=te(0);function Xc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||jm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Zd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Jd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=In(),h=Vr(l);h.payload=r,a!=null&&(h.callback=a),r=Lr(n,h,l),r!==null&&(Dn(r,n,l),kl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=In(),h=Vr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Lr(n,h,l),r!==null&&(Dn(r,n,l),kl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=In(),l=Vr(a);l.tag=2,r!=null&&(l.callback=r),r=Lr(n,l,a),r!==null&&(Dn(r,n,a),kl(r,n,a))}};function Pv(n,r,a,l,h,d,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,w):r.prototype&&r.prototype.isPureReactComponent?!Tl(a,l)||!Tl(h,d):!0}function Vv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Jd.enqueueReplaceState(r,r.state,null)}function na(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Wc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Lv(n){Wc(n)}function Uv(n){console.error(n)}function Bv(n){Wc(n)}function Zc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function zv(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function em(n,r,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Zc(n,r)},a}function jv(n){return n=Vr(n),n.tag=3,n}function Hv(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){zv(r,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){zv(r,a,l),typeof h!="function"&&($r===null?$r=new Set([this]):$r.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function EA(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Il(r,a,h,!0),a=Gn.current,a!==null){switch(a.tag){case 13:return bi===null?Am():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Dd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Rm(n,l,h)),!1;case 22:return a.flags|=65536,l===Dd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Rm(n,l,h)),!1}throw Error(s(435,a.tag))}return Rm(n,l,h),Am(),!1}if(Fe)return r=Gn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==bd&&(n=Error(s(422),{cause:l}),Cl(jn(n,a)))):(l!==bd&&(r=Error(s(423),{cause:l}),Cl(jn(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=jn(l,a),h=em(n.stateNode,l,h),Nd(n,h),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),Yl===null?Yl=[d]:Yl.push(d),pt!==4&&(pt=2),r===null)return!0;l=jn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=em(a.stateNode,l,n),Nd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($r===null||!$r.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jv(h),Hv(h,n,a,l),Nd(a,h),!1}a=a.return}while(a!==null);return!1}var qv=Error(s(461)),Bt=!1;function Kt(n,r,a,l){r.child=n===null?kv(r,null,a,l):ro(r,n.child,a,l)}function Fv(n,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var w={};for(var E in l)E!=="ref"&&(w[E]=l[E])}else w=l;return Js(r),l=Ld(n,r,a,w,d,h),E=Ud(),n!==null&&!Bt?(Bd(n,r,h),sr(n,r,h)):(Fe&&E&&_d(r),r.flags|=1,Kt(n,r,l,h),r.child)}function Gv(n,r,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!yd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,$v(n,r,d,l,h)):(n=Oc(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!lm(n,h)){var w=d.memoizedProps;if(a=a.compare,a=a!==null?a:Tl,a(w,l)&&n.ref===r.ref)return sr(n,r,h)}return r.flags|=1,n=Zi(d,l),n.ref=r.ref,n.return=r,r.child=n}function $v(n,r,a,l,h){if(n!==null){var d=n.memoizedProps;if(Tl(d,l)&&n.ref===r.ref)if(Bt=!1,r.pendingProps=l=d,lm(n,h))(n.flags&131072)!==0&&(Bt=!0);else return r.lanes=n.lanes,sr(n,r,h)}return tm(n,r,a,l,h)}function Kv(n,r,a){var l=r.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=r.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Yv(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Vc(r,d!==null?d.cachePool:null),d!==null?$y(r,d):Md(),Mv(r);else return r.lanes=r.childLanes=536870912,Yv(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Vc(r,d.cachePool),$y(r,d),zr(),r.memoizedState=null):(n!==null&&Vc(r,null),Md(),zr());return Kt(n,r,h,a),r.child}function Yv(n,r,a,l){var h=Id();return h=h===null?null:{parent:Ot._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&Vc(r,null),Md(),Mv(r),n!==null&&Il(n,r,l,!0),null}function Jc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function tm(n,r,a,l,h){return Js(r),a=Ld(n,r,a,l,void 0,h),l=Ud(),n!==null&&!Bt?(Bd(n,r,h),sr(n,r,h)):(Fe&&l&&_d(r),r.flags|=1,Kt(n,r,a,h),r.child)}function Qv(n,r,a,l,h,d){return Js(r),r.updateQueue=null,a=Yy(r,l,a,h),Ky(n),l=Ud(),n!==null&&!Bt?(Bd(n,r,d),sr(n,r,d)):(Fe&&l&&_d(r),r.flags|=1,Kt(n,r,a,d),r.child)}function Xv(n,r,a,l,h){if(Js(r),r.stateNode===null){var d=Ya,w=a.contextType;typeof w=="object"&&w!==null&&(d=tn(w)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},xd(r),w=a.contextType,d.context=typeof w=="object"&&w!==null?tn(w):Ya,d.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Zd(r,a,w,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(w=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),w!==d.state&&Jd.enqueueReplaceState(d,d.state,null),Pl(r,l,d,h),Ml(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var E=r.memoizedProps,R=na(a,E);d.props=R;var z=d.context,Q=a.contextType;w=Ya,typeof Q=="object"&&Q!==null&&(w=tn(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==w)&&Vv(r,d,l,w),Pr=!1;var j=r.memoizedState;d.state=j,Pl(r,l,d,h),Ml(),z=r.memoizedState,E||j!==z||Pr?(typeof Z=="function"&&(Zd(r,a,Z,l),z=r.memoizedState),(R=Pr||Pv(r,a,R,l,j,z,w))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=z),d.props=l,d.state=z,d.context=w,l=R):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Od(n,r),w=r.memoizedProps,Q=na(a,w),d.props=Q,Z=r.pendingProps,j=d.context,z=a.contextType,R=Ya,typeof z=="object"&&z!==null&&(R=tn(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w!==Z||j!==R)&&Vv(r,d,l,R),Pr=!1,j=r.memoizedState,d.state=j,Pl(r,l,d,h),Ml();var H=r.memoizedState;w!==Z||j!==H||Pr||n!==null&&n.dependencies!==null&&Mc(n.dependencies)?(typeof E=="function"&&(Zd(r,a,E,l),H=r.memoizedState),(Q=Pr||Pv(r,a,Q,l,j,H,R)||n!==null&&n.dependencies!==null&&Mc(n.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,R)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||w===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=R,l=Q):(typeof d.componentDidUpdate!="function"||w===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Jc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=ro(r,n.child,null,h),r.child=ro(r,null,a,h)):Kt(n,r,a,h),r.memoizedState=d.state,n=r.child):n=sr(n,r,h),n}function Wv(n,r,a,l){return Rl(),r.flags|=256,Kt(n,r,a,l),r.child}var nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function im(n){return{baseLanes:n,cachePool:Uy()}}function rm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=$n),n}function Zv(n,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,w;if((w=d)||(w=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),w&&(h=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,n===null){if(Fe){if(h?Br(r):zr(),Fe){var E=mt,R;if(R=E){e:{for(R=E,E=Ei;R.nodeType!==8;){if(!E){E=null;break e}if(R=ii(R.nextSibling),R===null){E=null;break e}}E=R}E!==null?(r.memoizedState={dehydrated:E,treeContext:Ys!==null?{id:Ji,overflow:er}:null,retryLane:536870912,hydrationErrors:null},R=An(18,null,null,0),R.stateNode=E,R.return=r,r.child=R,fn=r,mt=null,R=!0):R=!1}R||Ws(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return jm(E)?r.lanes=32:r.lanes=536870912,null;rr(r)}return E=l.children,l=l.fallback,h?(zr(),h=r.mode,E=eh({mode:"hidden",children:E},h),l=Ks(l,h,a,null),E.return=r,l.return=r,E.sibling=l,r.child=E,h=r.child,h.memoizedState=im(a),h.childLanes=rm(n,w,a),r.memoizedState=nm,l):(Br(r),sm(r,E))}if(R=n.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(d)r.flags&256?(Br(r),r.flags&=-257,r=am(n,r,a)):r.memoizedState!==null?(zr(),r.child=n.child,r.flags|=128,r=null):(zr(),h=l.fallback,E=r.mode,l=eh({mode:"visible",children:l.children},E),h=Ks(h,E,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ro(r,n.child,null,a),l=r.child,l.memoizedState=im(a),l.childLanes=rm(n,w,a),r.memoizedState=nm,r=h);else if(Br(r),jm(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var z=w.dgst;w=z,l=Error(s(419)),l.stack="",l.digest=w,Cl({value:l,source:null,stack:null}),r=am(n,r,a)}else if(Bt||Il(n,r,a,!1),w=(a&n.childLanes)!==0,Bt||w){if(w=it,w!==null&&(l=a&-a,l=(l&42)!==0?1:Cr(l),l=(l&(w.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Ka(n,l),Dn(w,n,l),qv;E.data==="$?"||Am(),r=am(n,r,a)}else E.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=R.treeContext,mt=ii(E.nextSibling),fn=r,Fe=!0,Xs=null,Ei=!1,n!==null&&(qn[Fn++]=Ji,qn[Fn++]=er,qn[Fn++]=Ys,Ji=n.id,er=n.overflow,Ys=r),r=sm(r,l.children),r.flags|=4096);return r}return h?(zr(),h=l.fallback,E=r.mode,R=n.child,z=R.sibling,l=Zi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?h=Zi(z,h):(h=Ks(h,E,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,E=n.child.memoizedState,E===null?E=im(a):(R=E.cachePool,R!==null?(z=Ot._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Uy(),E={baseLanes:E.baseLanes|a,cachePool:R}),h.memoizedState=E,h.childLanes=rm(n,w,a),r.memoizedState=nm,l):(Br(r),a=n.child,n=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(w=r.deletions,w===null?(r.deletions=[n],r.flags|=16):w.push(n)),r.child=a,r.memoizedState=null,a)}function sm(n,r){return r=eh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function eh(n,r){return n=An(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function am(n,r,a){return ro(r,n.child,null,a),n=sm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Jv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Ad(n.return,r,a)}function om(n,r,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ew(n,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Kt(n,r,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Jv(n,a,r);else if(n.tag===19)Jv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ie(Nt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&Xc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),om(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&Xc(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}om(r,!0,a,null,d);break;case"together":om(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function sr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Gr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Il(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Zi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Zi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function lm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Mc(n)))}function bA(n,r,a){switch(r.tag){case 3:nt(r,r.stateNode.containerInfo),Mr(r,Ot,n.memoizedState.cache),Rl();break;case 27:case 5:Rr(r);break;case 4:nt(r,r.stateNode.containerInfo);break;case 10:Mr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Br(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Zv(n,r,a):(Br(r),n=sr(n,r,a),n!==null?n.sibling:null);Br(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Il(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return ew(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Nt,Nt.current),l)break;return null;case 22:case 23:return r.lanes=0,Kv(n,r,a);case 24:Mr(r,Ot,n.memoizedState.cache)}return sr(n,r,a)}function tw(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Bt=!0;else{if(!lm(n,a)&&(r.flags&128)===0)return Bt=!1,bA(n,r,a);Bt=(n.flags&131072)!==0}else Bt=!1,Fe&&(r.flags&1048576)!==0&&Oy(r,kc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")yd(l)?(n=na(l,n),r.tag=1,r=Xv(null,r,l,n,a)):(r.tag=0,r=tm(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===Re){r.tag=11,r=Fv(null,r,l,n,a);break e}else if(h===N){r.tag=14,r=Gv(null,r,l,n,a);break e}}throw r=Ft(l)||l,Error(s(306,r,""))}}return r;case 0:return tm(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=na(l,r.pendingProps),Xv(n,r,l,h,a);case 3:e:{if(nt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Od(n,r),Pl(r,l,null,a);var w=r.memoizedState;if(l=w.cache,Mr(r,Ot,l),l!==d.cache&&Sd(r,[Ot],a,!0),Ml(),l=w.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Wv(n,r,l,a);break e}else if(l!==h){h=jn(Error(s(424)),r),Cl(h),r=Wv(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(mt=ii(n.firstChild),fn=r,Fe=!0,Xs=null,Ei=!0,a=kv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rl(),l===h){r=sr(n,r,a);break e}Kt(n,r,l,a)}r=r.child}return r;case 26:return Jc(n,r),n===null?(a=s_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,n=r.pendingProps,l=mh(Te.current).createElement(a),l[It]=r,l[bt]=n,Qt(l,a,n),gt(l),r.stateNode=l):r.memoizedState=s_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Rr(r),n===null&&Fe&&(l=r.stateNode=n_(r.type,r.pendingProps,Te.current),fn=r,Ei=!0,h=mt,Qr(r.type)?(Hm=h,mt=ii(l.firstChild)):mt=h),Kt(n,r,r.pendingProps.children,a),Jc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Fe&&((h=l=mt)&&(l=XA(l,r.type,r.pendingProps,Ei),l!==null?(r.stateNode=l,fn=r,mt=ii(l.firstChild),Ei=!1,h=!0):h=!1),h||Ws(r)),Rr(r),h=r.type,d=r.pendingProps,w=n!==null?n.memoizedProps:null,l=d.children,Um(h,d)?l=null:w!==null&&Um(h,w)&&(r.flags|=32),r.memoizedState!==null&&(h=Ld(n,r,mA,null,null,a),iu._currentValue=h),Jc(n,r),Kt(n,r,l,a),r.child;case 6:return n===null&&Fe&&((n=a=mt)&&(a=WA(a,r.pendingProps,Ei),a!==null?(r.stateNode=a,fn=r,mt=null,n=!0):n=!1),n||Ws(r)),null;case 13:return Zv(n,r,a);case 4:return nt(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=ro(r,null,l,a):Kt(n,r,l,a),r.child;case 11:return Fv(n,r,r.type,r.pendingProps,a);case 7:return Kt(n,r,r.pendingProps,a),r.child;case 8:return Kt(n,r,r.pendingProps.children,a),r.child;case 12:return Kt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Mr(r,r.type,l.value),Kt(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Js(r),h=tn(h),l=l(h),r.flags|=1,Kt(n,r,l,a),r.child;case 14:return Gv(n,r,r.type,r.pendingProps,a);case 15:return $v(n,r,r.type,r.pendingProps,a);case 19:return ew(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=eh(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Zi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Kv(n,r,a);case 24:return Js(r),l=tn(Ot),n===null?(h=Id(),h===null&&(h=it,d=Rd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},xd(r),Mr(r,Ot,h)):((n.lanes&a)!==0&&(Od(n,r),Pl(r,null,null,a),Ml()),h=n.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Mr(r,Ot,l)):(l=d.cache,Mr(r,Ot,l),l!==h.cache&&Sd(r,[Ot],a,!0))),Kt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ar(n){n.flags|=4}function nw(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!c_(r)){if(r=Gn.current,r!==null&&((Be&4194048)===Be?bi!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==bi))throw Nl=Dd,By;n.flags|=8192}}function th(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?sl():536870912,n.lanes|=r,lo|=r)}function Hl(n,r){if(!Fe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ut(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function TA(n,r,a){var l=r.pendingProps;switch(Ed(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),nr(Ot),ui(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Sl(r)?ar(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,My())),ut(r),null;case 26:return a=r.memoizedState,n===null?(ar(r),a!==null?(ut(r),nw(r,a)):(ut(r),r.flags&=-16777217)):a?a!==n.memoizedState?(ar(r),ut(r),nw(r,a)):(ut(r),r.flags&=-16777217):(n.memoizedProps!==l&&ar(r),ut(r),r.flags&=-16777217),null;case 27:Bi(r),a=Te.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&ar(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}n=pe.current,Sl(r)?Ny(r):(n=n_(h,l,a),r.stateNode=n,ar(r))}return ut(r),null;case 5:if(Bi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&ar(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(n=pe.current,Sl(r))Ny(r);else{switch(h=mh(Te.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[It]=r,n[bt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(Qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ar(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&ar(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Te.current,Sl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[It]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Qw(n.nodeValue,a)),n||Ws(r)}else n=mh(n).createTextNode(l),n[It]=r,r.stateNode=n}return ut(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Sl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=r}else Rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),h=!1}else h=My(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(rr(r),r):(rr(r),null)}if(rr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),th(r,r.updateQueue),ut(r),null;case 4:return ui(),n===null&&km(r.stateNode.containerInfo),ut(r),null;case 10:return nr(r.type),ut(r),null;case 19:if(oe(Nt),h=r.memoizedState,h===null)return ut(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Hl(h,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Xc(n),d!==null){for(r.flags|=128,Hl(h,!1),n=d.updateQueue,r.updateQueue=n,th(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)xy(a,n),a=a.sibling;return ie(Nt,Nt.current&1|2),r.child}n=n.sibling}h.tail!==null&&Pn()>rh&&(r.flags|=128,l=!0,Hl(h,!1),r.lanes=4194304)}else{if(!l)if(n=Xc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,th(r,n),Hl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ut(r),null}else 2*Pn()-h.renderingStartTime>rh&&a!==536870912&&(r.flags|=128,l=!0,Hl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(n=h.last,n!==null?n.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Pn(),r.sibling=null,n=Nt.current,ie(Nt,l?n&1|2:n&1),r):(ut(r),null);case 22:case 23:return rr(r),Pd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&th(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&oe(ea),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),nr(Ot),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function AA(n,r){switch(Ed(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return nr(Ot),ui(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Bi(r),null;case 13:if(rr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Rl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return oe(Nt),null;case 4:return ui(),null;case 10:return nr(r.type),null;case 22:case 23:return rr(r),Pd(),n!==null&&oe(ea),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return nr(Ot),null;case 25:return null;default:return null}}function iw(n,r){switch(Ed(r),r.tag){case 3:nr(Ot),ui();break;case 26:case 27:case 5:Bi(r);break;case 4:ui();break;case 13:rr(r);break;case 19:oe(Nt);break;case 10:nr(r.type);break;case 22:case 23:rr(r),Pd(),n!==null&&oe(ea);break;case 24:nr(Ot)}}function ql(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,w=a.inst;l=d(),w.destroy=l}a=a.next}while(a!==h)}}catch(E){tt(r,r.return,E)}}function jr(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var w=l.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,h=r;var R=a,z=E;try{z()}catch(Q){tt(h,R,Q)}}}l=l.next}while(l!==d)}}catch(Q){tt(r,r.return,Q)}}function rw(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Gy(r,a)}catch(l){tt(n,n.return,l)}}}function sw(n,r,a){a.props=na(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){tt(n,r,l)}}function Fl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){tt(n,r,h)}}function Ti(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(n,r,h)}else a.current=null}function aw(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(n,n.return,h)}}function um(n,r,a){try{var l=n.stateNode;GA(l,n.type,a,r),l[bt]=r}catch(h){tt(n,n.return,h)}}function ow(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qr(n.type)||n.tag===4}function cm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ow(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hm(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=dh));else if(l!==4&&(l===27&&Qr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(hm(n,r,a),n=n.sibling;n!==null;)hm(n,r,a),n=n.sibling}function nh(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Qr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(nh(n,r,a),n=n.sibling;n!==null;)nh(n,r,a),n=n.sibling}function lw(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Qt(r,l,a),r[It]=n,r[bt]=a}catch(d){tt(n,n.return,d)}}var or=!1,vt=!1,fm=!1,uw=typeof WeakSet=="function"?WeakSet:Set,zt=null;function SA(n,r){if(n=n.containerInfo,Vm=_h,n=_y(n),cd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var w=0,E=-1,R=-1,z=0,Q=0,Z=n,j=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(E=w+h),Z!==d||l!==0&&Z.nodeType!==3||(R=w+l),Z.nodeType===3&&(w+=Z.nodeValue.length),(H=Z.firstChild)!==null;)j=Z,Z=H;for(;;){if(Z===n)break t;if(j===a&&++z===h&&(E=w),j===d&&++Q===l&&(R=w),(H=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=H}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lm={focusedElem:n,selectionRange:a},_h=!1,zt=r;zt!==null;)if(r=zt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,zt=n;else for(;zt!==null;){switch(r=zt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=na(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){tt(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)zm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":zm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,zt=n;break}zt=r.return}}function cw(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Hr(n,a),l&4&&ql(5,a);break;case 1:if(Hr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(w){tt(a,a.return,w)}else{var h=na(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(w){tt(a,a.return,w)}}l&64&&rw(a),l&512&&Fl(a,a.return);break;case 3:if(Hr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Gy(n,r)}catch(w){tt(a,a.return,w)}}break;case 27:r===null&&l&4&&lw(a);case 26:case 5:Hr(n,a),r===null&&l&4&&aw(a),l&512&&Fl(a,a.return);break;case 12:Hr(n,a);break;case 13:Hr(n,a),l&4&&dw(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=MA.bind(null,a),ZA(n,a))));break;case 22:if(l=a.memoizedState!==null||or,!l){r=r!==null&&r.memoizedState!==null||vt,h=or;var d=vt;or=l,(vt=r)&&!d?qr(n,a,(a.subtreeFlags&8772)!==0):Hr(n,a),or=h,vt=d}break;case 30:break;default:Hr(n,a)}}function hw(n){var r=n.alternate;r!==null&&(n.alternate=null,hw(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&xr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ot=null,gn=!1;function lr(n,r,a){for(a=a.child;a!==null;)fw(n,r,a),a=a.sibling}function fw(n,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:vt||Ti(a,r),lr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||Ti(a,r);var l=ot,h=gn;Qr(a.type)&&(ot=a.stateNode,gn=!1),lr(n,r,a),Jl(a.stateNode),ot=l,gn=h;break;case 5:vt||Ti(a,r);case 6:if(l=ot,h=gn,ot=null,lr(n,r,a),ot=l,gn=h,ot!==null)if(gn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){tt(a,r,d)}else try{ot.removeChild(a.stateNode)}catch(d){tt(a,r,d)}break;case 18:ot!==null&&(gn?(n=ot,e_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),ou(n)):e_(ot,a.stateNode));break;case 4:l=ot,h=gn,ot=a.stateNode.containerInfo,gn=!0,lr(n,r,a),ot=l,gn=h;break;case 0:case 11:case 14:case 15:vt||jr(2,a,r),vt||jr(4,a,r),lr(n,r,a);break;case 1:vt||(Ti(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&sw(a,r,l)),lr(n,r,a);break;case 21:lr(n,r,a);break;case 22:vt=(l=vt)||a.memoizedState!==null,lr(n,r,a),vt=l;break;default:lr(n,r,a)}}function dw(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ou(n)}catch(a){tt(r,r.return,a)}}function RA(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new uw),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new uw),r;default:throw Error(s(435,n.tag))}}function dm(n,r){var a=RA(n);r.forEach(function(l){var h=PA.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Sn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,w=r,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(Qr(E.type)){ot=E.stateNode,gn=!1;break e}break;case 5:ot=E.stateNode,gn=!1;break e;case 3:case 4:ot=E.stateNode.containerInfo,gn=!0;break e}E=E.return}if(ot===null)throw Error(s(160));fw(d,w,h),ot=null,gn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)mw(r,n),r=r.sibling}var ni=null;function mw(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Sn(r,n),Rn(n),l&4&&(jr(3,n,n.return),ql(3,n),jr(5,n,n.return));break;case 1:Sn(r,n),Rn(n),l&512&&(vt||a===null||Ti(a,a.return)),l&64&&or&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ni;if(Sn(r,n),Rn(n),l&512&&(vt||a===null||Ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Os]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[It]=n,gt(d),l=d;break e;case"link":var w=l_("link","href",h).get(l+(a.href||""));if(w){for(var E=0;E<w.length;E++)if(d=w[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(E,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(w=l_("meta","content",h).get(l+(a.content||""))){for(E=0;E<w.length;E++)if(d=w[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(E,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=n,gt(d),l=d}n.stateNode=l}else u_(h,n.type,n.stateNode);else n.stateNode=o_(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?u_(h,n.type,n.stateNode):o_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&um(n,n.memoizedProps,a.memoizedProps)}break;case 27:Sn(r,n),Rn(n),l&512&&(vt||a===null||Ti(a,a.return)),a!==null&&l&4&&um(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Sn(r,n),Rn(n),l&512&&(vt||a===null||Ti(a,a.return)),n.flags&32){h=n.stateNode;try{Ln(h,"")}catch(H){tt(n,n.return,H)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,um(n,h,a!==null?a.memoizedProps:h)),l&1024&&(fm=!0);break;case 6:if(Sn(r,n),Rn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(H){tt(n,n.return,H)}}break;case 3:if(yh=null,h=ni,ni=ph(r.containerInfo),Sn(r,n),ni=h,Rn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ou(r.containerInfo)}catch(H){tt(n,n.return,H)}fm&&(fm=!1,pw(n));break;case 4:l=ni,ni=ph(n.stateNode.containerInfo),Sn(r,n),Rn(n),ni=l;break;case 12:Sn(r,n),Rn(n);break;case 13:Sn(r,n),Rn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wm=Pn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,dm(n,l)));break;case 22:h=n.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=or,Q=vt;if(or=z||h,vt=Q||R,Sn(r,n),vt=Q,or=z,Rn(n),l&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||R||or||vt||ia(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){R=a=r;try{if(d=R.stateNode,h)w=d.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=R.stateNode;var Z=R.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(H){tt(R,R.return,H)}}}else if(r.tag===6){if(a===null){R=r;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(H){tt(R,R.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dm(n,a))));break;case 19:Sn(r,n),Rn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,dm(n,l)));break;case 30:break;case 21:break;default:Sn(r,n),Rn(n)}}function Rn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(ow(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=cm(n);nh(n,d,h);break;case 5:var w=a.stateNode;a.flags&32&&(Ln(w,""),a.flags&=-33);var E=cm(n);nh(n,E,w);break;case 3:case 4:var R=a.stateNode.containerInfo,z=cm(n);hm(n,z,R);break;default:throw Error(s(161))}}catch(Q){tt(n,n.return,Q)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function pw(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;pw(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Hr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)cw(n,r.alternate,r),r=r.sibling}function ia(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:jr(4,r,r.return),ia(r);break;case 1:Ti(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&sw(r,r.return,a),ia(r);break;case 27:Jl(r.stateNode);case 26:case 5:Ti(r,r.return),ia(r);break;case 22:r.memoizedState===null&&ia(r);break;case 30:ia(r);break;default:ia(r)}n=n.sibling}}function qr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,d=r,w=d.flags;switch(d.tag){case 0:case 11:case 15:qr(h,d,a),ql(4,d);break;case 1:if(qr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){tt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Fy(R[h],E)}catch(z){tt(l,l.return,z)}}a&&w&64&&rw(d),Fl(d,d.return);break;case 27:lw(d);case 26:case 5:qr(h,d,a),a&&l===null&&w&4&&aw(d),Fl(d,d.return);break;case 12:qr(h,d,a);break;case 13:qr(h,d,a),a&&w&4&&dw(h,d);break;case 22:d.memoizedState===null&&qr(h,d,a),Fl(d,d.return);break;case 30:break;default:qr(h,d,a)}r=r.sibling}}function mm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Dl(a))}function pm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Dl(n))}function Ai(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)gw(n,r,a,l),r=r.sibling}function gw(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ai(n,r,a,l),h&2048&&ql(9,r);break;case 1:Ai(n,r,a,l);break;case 3:Ai(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Dl(n)));break;case 12:if(h&2048){Ai(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,w=d.id,E=d.onPostCommit;typeof E=="function"&&E(w,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){tt(r,r.return,R)}}else Ai(n,r,a,l);break;case 13:Ai(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,w=r.alternate,r.memoizedState!==null?d._visibility&2?Ai(n,r,a,l):Gl(n,r):d._visibility&2?Ai(n,r,a,l):(d._visibility|=2,so(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&mm(w,r);break;case 24:Ai(n,r,a,l),h&2048&&pm(r.alternate,r);break;default:Ai(n,r,a,l)}}function so(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,w=r,E=a,R=l,z=w.flags;switch(w.tag){case 0:case 11:case 15:so(d,w,E,R,h),ql(8,w);break;case 23:break;case 22:var Q=w.stateNode;w.memoizedState!==null?Q._visibility&2?so(d,w,E,R,h):Gl(d,w):(Q._visibility|=2,so(d,w,E,R,h)),h&&z&2048&&mm(w.alternate,w);break;case 24:so(d,w,E,R,h),h&&z&2048&&pm(w.alternate,w);break;default:so(d,w,E,R,h)}r=r.sibling}}function Gl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:Gl(a,l),h&2048&&mm(l.alternate,l);break;case 24:Gl(a,l),h&2048&&pm(l.alternate,l);break;default:Gl(a,l)}r=r.sibling}}var $l=8192;function ao(n){if(n.subtreeFlags&$l)for(n=n.child;n!==null;)yw(n),n=n.sibling}function yw(n){switch(n.tag){case 26:ao(n),n.flags&$l&&n.memoizedState!==null&&h1(ni,n.memoizedState,n.memoizedProps);break;case 5:ao(n);break;case 3:case 4:var r=ni;ni=ph(n.stateNode.containerInfo),ao(n),ni=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=$l,$l=16777216,ao(n),$l=r):ao(n));break;default:ao(n)}}function vw(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Kl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,_w(l,n)}vw(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ww(n),n=n.sibling}function ww(n){switch(n.tag){case 0:case 11:case 15:Kl(n),n.flags&2048&&jr(9,n,n.return);break;case 3:Kl(n);break;case 12:Kl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,ih(n)):Kl(n);break;default:Kl(n)}}function ih(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,_w(l,n)}vw(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:jr(8,r,r.return),ih(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ih(r));break;default:ih(r)}n=n.sibling}}function _w(n,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:jr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=n;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(hw(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var CA={getCacheForType:function(n){var r=tn(Ot),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},IA=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,Oe=null,Be=0,Xe=0,Cn=null,Fr=!1,oo=!1,gm=!1,ur=0,pt=0,Gr=0,ra=0,ym=0,$n=0,lo=0,Yl=null,yn=null,vm=!1,wm=0,rh=1/0,sh=null,$r=null,Yt=0,Kr=null,uo=null,co=0,_m=0,Em=null,Ew=null,Ql=0,bm=null;function In(){if((Qe&2)!==0&&Be!==0)return Be&-Be;if(Y.T!==null){var n=Wa;return n!==0?n:Dm()}return Ir()}function bw(){$n===0&&($n=(Be&536870912)===0||Fe?rl():536870912);var n=Gn.current;return n!==null&&(n.flags|=32),$n}function Dn(n,r,a){(n===it&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(ho(n,0),Yr(n,Be,$n,!1)),ji(n,a),((Qe&2)===0||n!==it)&&(n===it&&((Qe&2)===0&&(ra|=a),pt===4&&Yr(n,Be,$n,!1)),Si(n))}function Tw(n,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||xs(n,r),h=l?OA(n,r):Sm(n,r,!0),d=l;do{if(h===0){oo&&!l&&Yr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!DA(a)){h=Sm(n,r,!1),d=!1;continue}if(h===2){if(d=r,n.errorRecoveryDisabledLanes&d)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var E=n;h=Yl;var R=E.current.memoizedState.isDehydrated;if(R&&(ho(E,w).flags|=256),w=Sm(E,w,!1),w!==2){if(gm&&!R){E.errorRecoveryDisabledLanes|=d,ra|=d,h=4;break e}d=yn,yn=h,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}h=w}if(d=!1,h!==2)continue}}if(h===1){ho(n,0),Yr(n,r,0,!0);break}e:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Yr(l,r,$n,!Fr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=wm+300-Pn(),10<h)){if(Yr(l,r,$n,!Fr),Ia(l,0,!0)!==0)break e;l.timeoutHandle=Zw(Aw.bind(null,l,a,yn,sh,vm,r,$n,ra,lo,Fr,d,2,-0,0),h);break e}Aw(l,a,yn,sh,vm,r,$n,ra,lo,Fr,d,0,-0,0)}}break}while(!0);Si(n)}function Aw(n,r,a,l,h,d,w,E,R,z,Q,Z,j,H){if(n.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(nu={stylesheets:null,count:0,unsuspend:c1},yw(r),Z=f1(),Z!==null)){n.cancelPendingCommit=Z(Ow.bind(null,n,r,d,a,l,h,w,E,R,Q,1,j,H)),Yr(n,d,w,!z);return}Ow(n,r,d,a,l,h,w,E,R)}function DA(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yr(n,r,a,l){r&=~ym,r&=~ra,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var d=31-en(h),w=1<<d;l[d]=-1,h&=~w}a!==0&&ci(n,a,r)}function ah(){return(Qe&6)===0?(Xl(0),!1):!0}function Tm(){if(Oe!==null){if(Xe===0)var n=Oe.return;else n=Oe,tr=Zs=null,zd(n),io=null,zl=0,n=Oe;for(;n!==null;)iw(n.alternate,n),n=n.return;Oe=null}}function ho(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,KA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Tm(),it=n,Oe=a=Zi(n.current,null),Be=r,Xe=0,Cn=null,Fr=!1,oo=xs(n,r),gm=!1,lo=$n=ym=ra=Gr=pt=0,yn=Yl=null,vm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-en(l),d=1<<h;r|=n[h],l&=~d}return ur=r,Ic(),a}function Sw(n,r){Ie=null,Y.H=Kc,r===Ol||r===Lc?(r=Hy(),Xe=3):r===By?(r=Hy(),Xe=4):Xe=r===qv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,Oe===null&&(pt=1,Zc(n,jn(r,n.current)))}function Rw(){var n=Y.H;return Y.H=Kc,n===null?Kc:n}function Cw(){var n=Y.A;return Y.A=CA,n}function Am(){pt=4,Fr||(Be&4194048)!==Be&&Gn.current!==null||(oo=!0),(Gr&134217727)===0&&(ra&134217727)===0||it===null||Yr(it,Be,$n,!1)}function Sm(n,r,a){var l=Qe;Qe|=2;var h=Rw(),d=Cw();(it!==n||Be!==r)&&(sh=null,ho(n,r)),r=!1;var w=pt;e:do try{if(Xe!==0&&Oe!==null){var E=Oe,R=Cn;switch(Xe){case 8:Tm(),w=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(r=!0);var z=Xe;if(Xe=0,Cn=null,fo(n,E,R,z),a&&oo){w=0;break e}break;default:z=Xe,Xe=0,Cn=null,fo(n,E,R,z)}}xA(),w=pt;break}catch(Q){Sw(n,Q)}while(!0);return r&&n.shellSuspendCounter++,tr=Zs=null,Qe=l,Y.H=h,Y.A=d,Oe===null&&(it=null,Be=0,Ic()),w}function xA(){for(;Oe!==null;)Iw(Oe)}function OA(n,r){var a=Qe;Qe|=2;var l=Rw(),h=Cw();it!==n||Be!==r?(sh=null,rh=Pn()+500,ho(n,r)):oo=xs(n,r);e:do try{if(Xe!==0&&Oe!==null){r=Oe;var d=Cn;t:switch(Xe){case 1:Xe=0,Cn=null,fo(n,r,d,1);break;case 2:case 9:if(zy(d)){Xe=0,Cn=null,Dw(r);break}r=function(){Xe!==2&&Xe!==9||it!==n||(Xe=7),Si(n)},d.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:zy(d)?(Xe=0,Cn=null,Dw(r)):(Xe=0,Cn=null,fo(n,r,d,7));break;case 5:var w=null;switch(Oe.tag){case 26:w=Oe.memoizedState;case 5:case 27:var E=Oe;if(!w||c_(w)){Xe=0,Cn=null;var R=E.sibling;if(R!==null)Oe=R;else{var z=E.return;z!==null?(Oe=z,oh(z)):Oe=null}break t}}Xe=0,Cn=null,fo(n,r,d,5);break;case 6:Xe=0,Cn=null,fo(n,r,d,6);break;case 8:Tm(),pt=6;break e;default:throw Error(s(462))}}NA();break}catch(Q){Sw(n,Q)}while(!0);return tr=Zs=null,Y.H=l,Y.A=h,Qe=a,Oe!==null?0:(it=null,Be=0,Ic(),pt)}function NA(){for(;Oe!==null&&!el();)Iw(Oe)}function Iw(n){var r=tw(n.alternate,n,ur);n.memoizedProps=n.pendingProps,r===null?oh(n):Oe=r}function Dw(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Qv(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Qv(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:zd(r);default:iw(a,r),r=Oe=xy(r,ur),r=tw(a,r,ur)}n.memoizedProps=n.pendingProps,r===null?oh(n):Oe=r}function fo(n,r,a,l){tr=Zs=null,zd(r),io=null,zl=0;var h=r.return;try{if(EA(n,h,r,a,Be)){pt=1,Zc(n,jn(a,n.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;pt=1,Zc(n,jn(a,n.current)),Oe=null;return}r.flags&32768?(Fe||l===1?n=!0:oo||(Be&536870912)!==0?n=!1:(Fr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xw(r,n)):oh(r)}function oh(n){var r=n;do{if((r.flags&32768)!==0){xw(r,Fr);return}n=r.return;var a=TA(r.alternate,r,ur);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=n}while(r!==null);pt===0&&(pt=5)}function xw(n,r){do{var a=AA(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);pt=6,Oe=null}function Ow(n,r,a,l,h,d,w,E,R){n.cancelPendingCommit=null;do lh();while(Yt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=pd,al(n,a,d,w,E,R),n===it&&(Oe=it=null,Be=0),uo=r,Kr=n,co=a,_m=d,Em=h,Ew=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,VA(Rs,function(){return Vw(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ae.p,ae.p=2,w=Qe,Qe|=4;try{SA(n,r,a)}finally{Qe=w,ae.p=h,Y.T=l}}Yt=1,Nw(),kw(),Mw()}}function Nw(){if(Yt===1){Yt=0;var n=Kr,r=uo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Qe;Qe|=4;try{mw(r,n);var d=Lm,w=_y(n.containerInfo),E=d.focusedElem,R=d.selectionRange;if(w!==E&&E&&E.ownerDocument&&wy(E.ownerDocument.documentElement,E)){if(R!==null&&cd(E)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var Z=E.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var H=j.getSelection(),be=E.textContent.length,ve=Math.min(R.start,be),et=R.end===void 0?ve:Math.min(R.end,be);!H.extend&&ve>et&&(w=et,et=ve,ve=w);var M=vy(E,ve),x=vy(E,et);if(M&&x&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var U=Z.createRange();U.setStart(M.node,M.offset),H.removeAllRanges(),ve>et?(H.addRange(U),H.extend(x.node,x.offset)):(U.setEnd(x.node,x.offset),H.addRange(U))}}}}for(Z=[],H=E;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var W=Z[E];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}_h=!!Vm,Lm=Vm=null}finally{Qe=h,ae.p=l,Y.T=a}}n.current=r,Yt=2}}function kw(){if(Yt===2){Yt=0;var n=Kr,r=uo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Qe;Qe|=4;try{cw(n,r.alternate,r)}finally{Qe=h,ae.p=l,Y.T=a}}Yt=3}}function Mw(){if(Yt===4||Yt===3){Yt=0,ic();var n=Kr,r=uo,a=co,l=Ew;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Yt=5:(Yt=0,uo=Kr=null,Pw(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&($r=null),Da(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(dt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=ae.p,ae.p=2,Y.T=null;try{for(var d=n.onRecoverableError,w=0;w<l.length;w++){var E=l[w];d(E.value,{componentStack:E.stack})}}finally{Y.T=r,ae.p=h}}(co&3)!==0&&lh(),Si(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===bm?Ql++:(Ql=0,bm=n):Ql=0,Xl(0)}}function Pw(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Dl(r)))}function lh(n){return Nw(),kw(),Mw(),Vw()}function Vw(){if(Yt!==5)return!1;var n=Kr,r=_m;_m=0;var a=Da(co),l=Y.T,h=ae.p;try{ae.p=32>a?32:a,Y.T=null,a=Em,Em=null;var d=Kr,w=co;if(Yt=0,uo=Kr=null,co=0,(Qe&6)!==0)throw Error(s(331));var E=Qe;if(Qe|=4,ww(d.current),gw(d,d.current,w,a),Qe=E,Xl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{ae.p=h,Y.T=l,Pw(n,r)}}function Lw(n,r,a){r=jn(a,r),r=em(n.stateNode,r,2),n=Lr(n,r,2),n!==null&&(ji(n,2),Si(n))}function tt(n,r,a){if(n.tag===3)Lw(n,n,a);else for(;r!==null;){if(r.tag===3){Lw(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($r===null||!$r.has(l))){n=jn(a,n),a=jv(2),l=Lr(r,a,2),l!==null&&(Hv(a,l,r,n),ji(l,2),Si(l));break}}r=r.return}}function Rm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new IA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(gm=!0,h.add(a),n=kA.bind(null,n,r,a),r.then(n,n))}function kA(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,it===n&&(Be&a)===a&&(pt===4||pt===3&&(Be&62914560)===Be&&300>Pn()-wm?(Qe&2)===0&&ho(n,0):ym|=a,lo===Be&&(lo=0)),Si(n)}function Uw(n,r){r===0&&(r=sl()),n=Ka(n,r),n!==null&&(ji(n,r),Si(n))}function MA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Uw(n,a)}function PA(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Uw(n,a)}function VA(n,r){return As(n,r)}var uh=null,mo=null,Cm=!1,ch=!1,Im=!1,sa=0;function Si(n){n!==mo&&n.next===null&&(mo===null?uh=mo=n:mo=mo.next=n),ch=!0,Cm||(Cm=!0,UA())}function Xl(n,r){if(!Im&&ch){Im=!0;do for(var a=!1,l=uh;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var w=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-en(42|n)+1)-1,d&=h&~(w&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Hw(l,d))}else d=Be,d=Ia(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||xs(l,d)||(a=!0,Hw(l,d));l=l.next}while(a);Im=!1}}function LA(){Bw()}function Bw(){ch=Cm=!1;var n=0;sa!==0&&($A()&&(n=sa),sa=0);for(var r=Pn(),a=null,l=uh;l!==null;){var h=l.next,d=zw(l,r);d===0?(l.next=null,a===null?uh=h:a.next=h,h===null&&(mo=a)):(a=l,(n!==0||(d&3)!==0)&&(ch=!0)),l=h}Xl(n)}function zw(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var w=31-en(d),E=1<<w,R=h[w];R===-1?((E&a)===0||(E&l)!==0)&&(h[w]=il(E,r)):R<=r&&(n.expiredLanes|=E),d&=~E}if(r=it,a=Be,a=Ia(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ss(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||xs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Ss(l),Da(a)){case 2:case 8:a=Ra;break;case 32:a=Rs;break;case 268435456:a=Ca;break;default:a=Rs}return l=jw.bind(null,n),a=As(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Ss(l),n.callbackPriority=2,n.callbackNode=null,2}function jw(n,r){if(Yt!==0&&Yt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(lh()&&n.callbackNode!==a)return null;var l=Be;return l=Ia(n,n===it?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Tw(n,l,r),zw(n,Pn()),n.callbackNode!=null&&n.callbackNode===a?jw.bind(null,n):null)}function Hw(n,r){if(lh())return null;Tw(n,r,!0)}function UA(){YA(function(){(Qe&6)!==0?As(tl,LA):Bw()})}function Dm(){return sa===0&&(sa=rl()),sa}function qw(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Pa(""+n)}function Fw(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function BA(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=qw((h[bt]||null).action),w=l.submitter;w&&(r=(r=w[bt]||null)?qw(r.formAction):w.getAttribute("formAction"),r!==null&&(d=r,w=null));var E=new Va("action","action",null,l,h);n.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var R=w?Fw(h,w):new FormData(h);Qd(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(E.preventDefault(),R=w?Fw(h,w):new FormData(h),Qd(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var xm=0;xm<md.length;xm++){var Om=md[xm],zA=Om.toLowerCase(),jA=Om[0].toUpperCase()+Om.slice(1);ti(zA,"on"+jA)}ti(Ty,"onAnimationEnd"),ti(Ay,"onAnimationIteration"),ti(Sy,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(rA,"onTransitionRun"),ti(sA,"onTransitionStart"),ti(aA,"onTransitionCancel"),ti(Ry,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function Gw(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var w=l.length-1;0<=w;w--){var E=l[w],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=z;try{d(h)}catch(Q){Wc(Q)}h.currentTarget=null,d=R}else for(w=0;w<l.length;w++){if(E=l[w],R=E.instance,z=E.currentTarget,E=E.listener,R!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=z;try{d(h)}catch(Q){Wc(Q)}h.currentTarget=null,d=R}}}}function Ne(n,r){var a=r[ll];a===void 0&&(a=r[ll]=new Set);var l=n+"__bubble";a.has(l)||($w(r,n,2,!1),a.add(l))}function Nm(n,r,a){var l=0;r&&(l|=4),$w(a,n,l,r)}var hh="_reactListening"+Math.random().toString(36).slice(2);function km(n){if(!n[hh]){n[hh]=!0,ul.forEach(function(a){a!=="selectionchange"&&(HA.has(a)||Nm(a,!1,n),Nm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[hh]||(r[hh]=!0,Nm("selectionchange",!1,r))}}function $w(n,r,a,l){switch(g_(r)){case 2:var h=p1;break;case 8:h=g1;break;default:h=Km}a=h.bind(null,r,a,n),h=void 0,!Bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function Mm(n,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var E=l.stateNode.containerInfo;if(E===h)break;if(w===4)for(w=l.return;w!==null;){var R=w.tag;if((R===3||R===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;E!==null;){if(w=Hi(E),w===null)return;if(R=w.tag,R===5||R===6||R===26||R===27){l=d=w;continue e}E=E.parentNode}}l=l.return}dc(function(){var z=d,Q=Un(a),Z=[];e:{var j=Cy.get(n);if(j!==void 0){var H=Va,be=n;switch(n){case"keypress":if(gi(a)===0)break e;case"keydown":case"keyup":H=Ha;break;case"focusin":be="focus",H=Ba;break;case"focusout":be="blur",H=Ba;break;case"beforeblur":case"afterblur":H=Ba;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Ec;break;case Ty:case Ay:case Sy:H=za;break;case Ry:H=Tc;break;case"scroll":case"scrollend":H=mc;break;case"wheel":H=qa;break;case"copy":case"cut":case"paste":H=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=El;break;case"toggle":case"beforetoggle":H=Sc}var ve=(r&4)!==0,et=!ve&&(n==="scroll"||n==="scrollend"),M=ve?j!==null?j+"Capture":null:j;ve=[];for(var x=z,U;x!==null;){var W=x;if(U=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||U===null||M===null||(W=Us(x,M),W!=null&&ve.push(Zl(x,W,U))),et)break;x=x.return}0<ve.length&&(j=new H(j,be,null,a,Q),Z.push({event:j,listeners:ve}))}}if((r&7)===0){e:{if(j=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",j&&a!==$i&&(be=a.relatedTarget||a.fromElement)&&(Hi(be)||be[Vn]))break e;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(be=a.relatedTarget||a.toElement,H=z,be=be?Hi(be):null,be!==null&&(et=u(be),ve=be.tag,be!==et||ve!==5&&ve!==27&&ve!==6)&&(be=null)):(H=null,be=z),H!==be)){if(ve=zn,W="onMouseLeave",M="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(ve=El,W="onPointerLeave",M="onPointerEnter",x="pointer"),et=H==null?j:fi(H),U=be==null?j:fi(be),j=new ve(W,x+"leave",H,a,Q),j.target=et,j.relatedTarget=U,W=null,Hi(Q)===z&&(ve=new ve(M,x+"enter",be,a,Q),ve.target=U,ve.relatedTarget=et,W=ve),et=W,H&&be)t:{for(ve=H,M=be,x=0,U=ve;U;U=po(U))x++;for(U=0,W=M;W;W=po(W))U++;for(;0<x-U;)ve=po(ve),x--;for(;0<U-x;)M=po(M),U--;for(;x--;){if(ve===M||M!==null&&ve===M.alternate)break t;ve=po(ve),M=po(M)}ve=null}else ve=null;H!==null&&Kw(Z,j,H,ve,!1),be!==null&&et!==null&&Kw(Z,et,be,ve,!0)}}e:{if(j=z?fi(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var ce=fy;else if(xt(j))if(dy)ce=tA;else{ce=J2;var xe=Z2}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ml(z.elementType)&&(ce=fy):ce=eA;if(ce&&(ce=ce(n,z))){Wi(Z,ce,a,Q);break e}xe&&xe(n,j,z),n==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Nr(j,"number",j.value)}switch(xe=z?fi(z):window,n){case"focusin":(xt(xe)||xe.contentEditable==="true")&&(Fa=xe,hd=z,Al=null);break;case"focusout":Al=hd=Fa=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,Ey(Z,a,Q);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":Ey(Z,a,Q)}var fe;if(wi)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Le?q(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(v&&a.locale!=="ko"&&(Le||we!=="onCompositionStart"?we==="onCompositionEnd"&&Le&&(fe=gl()):(pi=Q,kr="value"in pi?pi.value:pi.textContent,Le=!0)),xe=fh(z,we),0<xe.length&&(we=new wl(we,n,null,a,Q),Z.push({event:we,listeners:xe}),fe?we.data=fe:(fe=re(a),fe!==null&&(we.data=fe)))),(fe=g?Dt(n,a):Ue(n,a))&&(we=fh(z,"onBeforeInput"),0<we.length&&(xe=new wl("onBeforeInput","beforeinput",null,a,Q),Z.push({event:xe,listeners:we}),xe.data=fe)),BA(Z,n,z,a,Q)}Gw(Z,r)})}function Zl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function fh(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Us(n,a),h!=null&&l.unshift(Zl(n,h,d)),h=Us(n,r),h!=null&&l.push(Zl(n,h,d))),n.tag===3)return l;n=n.return}return[]}function po(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Kw(n,r,a,l,h){for(var d=r._reactName,w=[];a!==null&&a!==l;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Us(a,d),z!=null&&w.unshift(Zl(a,z,R))):h||(z=Us(a,d),z!=null&&w.push(Zl(a,z,R)))),a=a.return}w.length!==0&&n.push({event:r,listeners:w})}var qA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function Yw(n){return(typeof n=="string"?n:""+n).replace(qA,`
`).replace(FA,"")}function Qw(n,r){return r=Yw(r),Yw(n)===r}function dh(){}function Je(n,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Ln(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Ln(n,""+l);break;case"className":di(n,"class",l);break;case"tabIndex":di(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":di(n,a,l);break;case"style":dl(n,l,d);break;case"data":if(r!=="object"){di(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Pa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(n,r,"name",h.name,h,null),Je(n,r,"formEncType",h.formEncType,h,null),Je(n,r,"formMethod",h.formMethod,h,null),Je(n,r,"formTarget",h.formTarget,h,null)):(Je(n,r,"encType",h.encType,h,null),Je(n,r,"method",h.method,h,null),Je(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Pa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=dh);break;case"onScroll":l!=null&&Ne("scroll",n);break;case"onScrollEnd":l!=null&&Ne("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Pa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ne("beforetoggle",n),Ne("toggle",n),Or(n,"popover",l);break;case"xlinkActuate":Gt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Or(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rd.get(a)||a,Or(n,a,l))}}function Pm(n,r,a,l,h,d){switch(a){case"style":dl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Ln(n,l):(typeof l=="number"||typeof l=="bigint")&&Ln(n,""+l);break;case"onScroll":l!=null&&Ne("scroll",n);break;case"onScrollEnd":l!=null&&Ne("scrollend",n);break;case"onClick":l!=null&&(n.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=n[bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Or(n,a,l)}}}function Qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",n),Ne("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var w=a[d];if(w!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,d,w,a,null)}}h&&Je(n,r,"srcSet",a.srcSet,a,null),l&&Je(n,r,"src",a.src,a,null);return;case"input":Ne("invalid",n);var E=d=w=h=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":w=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Je(n,r,l,Q,a,null)}}Ps(n,d,E,R,z,w,h,!1),Ma(n);return;case"select":Ne("invalid",n),l=w=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":w=E;break;case"multiple":l=E;default:Je(n,r,h,E,a,null)}r=d,a=w,n.multiple=!!l,r!=null?Gi(n,!!l,r,!1):a!=null&&Gi(n,!!l,a,!0);return;case"textarea":Ne("invalid",n),d=h=l=null;for(w in a)if(a.hasOwnProperty(w)&&(E=a[w],E!=null))switch(w){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Je(n,r,w,E,a,null)}Vs(n,l,h,d),Ma(n);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(n,r,R,l,a,null)}return;case"dialog":Ne("beforetoggle",n),Ne("toggle",n),Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":Ne("load",n);break;case"video":case"audio":for(l=0;l<Wl.length;l++)Ne(Wl[l],n);break;case"image":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"embed":case"source":case"link":Ne("error",n),Ne("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,z,l,a,null)}return;default:if(ml(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Pm(n,r,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Je(n,r,E,l,a,null))}function GA(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,w=null,E=null,R=null,z=null,Q=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(H)||Je(n,r,H,null,l,Z)}}for(var j in l){var H=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(H!=null||Z!=null))switch(j){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":w=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==Z&&Je(n,r,j,H,l,Z)}}bn(n,w,E,R,z,Q,d,h);return;case"select":H=w=E=j=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(d)||Je(n,r,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":j=d;break;case"defaultValue":E=d;break;case"multiple":w=d;default:d!==R&&Je(n,r,h,d,l,R)}r=E,a=w,l=H,j!=null?Gi(n,!!a,j,!1):!!l!=!!a&&(r!=null?Gi(n,!!a,r,!0):Gi(n,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(n,r,E,null,l,h)}for(w in l)if(h=l[w],d=a[w],l.hasOwnProperty(w)&&(h!=null||d!=null))switch(w){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(n,r,w,h,l,d)}We(n,j,H);return;case"option":for(var be in a)if(j=a[be],a.hasOwnProperty(be)&&j!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:Je(n,r,be,null,l,j)}for(R in l)if(j=l[R],H=a[R],l.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null))switch(R){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Je(n,r,R,j,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)j=a[ve],a.hasOwnProperty(ve)&&j!=null&&!l.hasOwnProperty(ve)&&Je(n,r,ve,null,l,j);for(z in l)if(j=l[z],H=a[z],l.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:Je(n,r,z,j,l,H)}return;default:if(ml(r)){for(var et in a)j=a[et],a.hasOwnProperty(et)&&j!==void 0&&!l.hasOwnProperty(et)&&Pm(n,r,et,void 0,l,j);for(Q in l)j=l[Q],H=a[Q],!l.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||Pm(n,r,Q,j,l,H);return}}for(var M in a)j=a[M],a.hasOwnProperty(M)&&j!=null&&!l.hasOwnProperty(M)&&Je(n,r,M,null,l,j);for(Z in l)j=l[Z],H=a[Z],!l.hasOwnProperty(Z)||j===H||j==null&&H==null||Je(n,r,Z,j,l,H)}var Vm=null,Lm=null;function mh(n){return n.nodeType===9?n:n.ownerDocument}function Xw(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ww(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Um(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bm=null;function $A(){var n=window.event;return n&&n.type==="popstate"?n===Bm?!1:(Bm=n,!0):(Bm=null,!1)}var Zw=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,Jw=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof Jw<"u"?function(n){return Jw.resolve(null).then(n).catch(QA)}:Zw;function QA(n){setTimeout(function(){throw n})}function Qr(n){return n==="head"}function e_(n,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var w=n.ownerDocument;if(a&1&&Jl(w.documentElement),a&2&&Jl(w.body),a&4)for(a=w.head,Jl(a),w=a.firstChild;w;){var E=w.nextSibling,R=w.nodeName;w[Os]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=E}}if(h===0){n.removeChild(d),ou(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ou(r)}function zm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zm(a),xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function XA(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Os])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ii(n.nextSibling),n===null)break}return null}function WA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ii(n.nextSibling),n===null))return null;return n}function jm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function ZA(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ii(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Hm=null;function t_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function n_(n,r,a){switch(r=mh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Jl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);xr(n)}var Kn=new Map,i_=new Set;function ph(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var cr=ae.d;ae.d={f:JA,r:e1,D:t1,C:n1,L:i1,m:r1,X:a1,S:s1,M:o1};function JA(){var n=cr.f(),r=ah();return n||r}function e1(n){var r=hi(n);r!==null&&r.tag===5&&r.type==="form"?Tv(r):cr.r(n)}var go=typeof document>"u"?null:document;function r_(n,r,a){var l=go;if(l&&typeof r=="string"&&r){var h=Tt(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),i_.has(h)||(i_.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Qt(r,"link",n),gt(r),l.head.appendChild(r)))}}function t1(n){cr.D(n),r_("dns-prefetch",n,null)}function n1(n,r){cr.C(n,r),r_("preconnect",n,r)}function i1(n,r,a){cr.L(n,r,a);var l=go;if(l&&n&&r){var h='link[rel="preload"][as="'+Tt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(n)+'"]';var d=h;switch(r){case"style":d=yo(n);break;case"script":d=vo(n)}Kn.has(d)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Kn.set(d,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(eu(d))||r==="script"&&l.querySelector(tu(d))||(r=l.createElement("link"),Qt(r,"link",n),gt(r),l.head.appendChild(r)))}}function r1(n,r){cr.m(n,r);var a=go;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vo(n)}if(!Kn.has(d)&&(n=_({rel:"modulepreload",href:n},r),Kn.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tu(d)))return}l=a.createElement("link"),Qt(l,"link",n),gt(l),a.head.appendChild(l)}}}function s1(n,r,a){cr.S(n,r,a);var l=go;if(l&&n){var h=un(l).hoistableStyles,d=yo(n);r=r||"default";var w=h.get(d);if(!w){var E={loading:0,preload:null};if(w=l.querySelector(eu(d)))E.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Kn.get(d))&&qm(n,a);var R=w=l.createElement("link");gt(R),Qt(R,"link",n),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gh(w,r,l)}w={type:"stylesheet",instance:w,count:1,state:E},h.set(d,w)}}}function a1(n,r){cr.X(n,r);var a=go;if(a&&n){var l=un(a).hoistableScripts,h=vo(n),d=l.get(h);d||(d=a.querySelector(tu(h)),d||(n=_({src:n,async:!0},r),(r=Kn.get(h))&&Fm(n,r),d=a.createElement("script"),gt(d),Qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function o1(n,r){cr.M(n,r);var a=go;if(a&&n){var l=un(a).hoistableScripts,h=vo(n),d=l.get(h);d||(d=a.querySelector(tu(h)),d||(n=_({src:n,async:!0,type:"module"},r),(r=Kn.get(h))&&Fm(n,r),d=a.createElement("script"),gt(d),Qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function s_(n,r,a,l){var h=(h=Te.current)?ph(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=yo(a.href),a=un(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=yo(a.href);var d=un(h).hoistableStyles,w=d.get(n);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,w),(d=h.querySelector(eu(n)))&&!d._p&&(w.instance=d,w.state.loading=5),Kn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(n,a),d||l1(h,n,a,w.state))),r&&l===null)throw Error(s(528,""));return w}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=vo(a),a=un(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function yo(n){return'href="'+Tt(n)+'"'}function eu(n){return'link[rel="stylesheet"]['+n+"]"}function a_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function l1(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Qt(r,"link",a),gt(r),n.head.appendChild(r))}function vo(n){return'[src="'+Tt(n)+'"]'}function tu(n){return"script[async]"+n}function o_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return r.instance=l,gt(l),l;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),gt(l),Qt(l,"style",h),gh(l,a.precedence,n),r.instance=l;case"stylesheet":h=yo(a.href);var d=n.querySelector(eu(h));if(d)return r.state.loading|=4,r.instance=d,gt(d),d;l=a_(a),(h=Kn.get(h))&&qm(l,h),d=(n.ownerDocument||n).createElement("link"),gt(d);var w=d;return w._p=new Promise(function(E,R){w.onload=E,w.onerror=R}),Qt(d,"link",l),r.state.loading|=4,gh(d,a.precedence,n),r.instance=d;case"script":return d=vo(a.src),(h=n.querySelector(tu(d)))?(r.instance=h,gt(h),h):(l=a,(h=Kn.get(d))&&(l=_({},a),Fm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),gt(h),Qt(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,gh(l,a.precedence,n));return r.instance}function gh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,w=0;w<l.length;w++){var E=l[w];if(E.dataset.precedence===r)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function qm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Fm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var yh=null;function l_(n,r,a){if(yh===null){var l=new Map,h=yh=new Map;h.set(a,l)}else h=yh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[Os]||d[It]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var w=d.getAttribute(r)||"";w=n+w;var E=l.get(w);E?E.push(d):l.set(w,[d])}}return l}function u_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function u1(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function c_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var nu=null;function c1(){}function h1(n,r,a){if(nu===null)throw Error(s(475));var l=nu;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=yo(a.href),d=n.querySelector(eu(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=vh.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,gt(d);return}d=n.ownerDocument||n,a=a_(a),(h=Kn.get(h))&&qm(a,h),d=d.createElement("link"),gt(d);var w=d;w._p=new Promise(function(E,R){w.onload=E,w.onerror=R}),Qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=vh.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function f1(){if(nu===null)throw Error(s(475));var n=nu;return n.stylesheets&&n.count===0&&Gm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Gm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function vh(){if(this.count--,this.count===0){if(this.stylesheets)Gm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var wh=null;function Gm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,wh=new Map,r.forEach(d1,n),wh=null,vh.call(n))}function d1(n,r){if(!(r.state.loading&4)){var a=wh.get(n);if(a)var l=a.get(null);else{a=new Map,wh.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var w=h[d];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}h=r.instance,w=h.getAttribute("data-precedence"),d=a.get(w)||l,d===l&&a.set(null,h),a.set(w,h),this.count++,l=vh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var iu={$$typeof:se,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function m1(n,r,a,l,h,d,w,E){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function h_(n,r,a,l,h,d,w,E,R,z,Q,Z){return n=new m1(n,r,a,w,E,R,z,Z),r=1,d===!0&&(r|=24),d=An(3,null,null,r),n.current=d,d.stateNode=n,r=Rd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},xd(d),n}function f_(n){return n?(n=Ya,n):Ya}function d_(n,r,a,l,h,d){h=f_(h),l.context===null?l.context=h:l.pendingContext=h,l=Vr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Lr(n,l,r),a!==null&&(Dn(a,n,r),kl(a,n,r))}function m_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function $m(n,r){m_(n,r),(n=n.alternate)&&m_(n,r)}function p_(n){if(n.tag===13){var r=Ka(n,67108864);r!==null&&Dn(r,n,67108864),$m(n,67108864)}}var _h=!0;function p1(n,r,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=2,Km(n,r,a,l)}finally{ae.p=d,Y.T=h}}function g1(n,r,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=8,Km(n,r,a,l)}finally{ae.p=d,Y.T=h}}function Km(n,r,a,l){if(_h){var h=Ym(l);if(h===null)Mm(n,r,l,Eh,a),y_(n,l);else if(v1(h,n,r,a,l))l.stopPropagation();else if(y_(n,l),r&4&&-1<y1.indexOf(n)){for(;h!==null;){var d=hi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var w=Zn(d.pendingLanes);if(w!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var R=1<<31-en(w);E.entanglements[1]|=R,w&=~R}Si(d),(Qe&6)===0&&(rh=Pn()+500,Xl(0))}}break;case 13:E=Ka(d,2),E!==null&&Dn(E,d,2),ah(),$m(d,2)}if(d=Ym(l),d===null&&Mm(n,r,l,Eh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Mm(n,r,l,null,a)}}function Ym(n){return n=Un(n),Qm(n)}var Eh=null;function Qm(n){if(Eh=null,n=Hi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=f(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Eh=n,null}function g_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zf()){case tl:return 2;case Ra:return 8;case Rs:case Jf:return 32;case Ca:return 268435456;default:return 32}default:return 32}}var Xm=!1,Xr=null,Wr=null,Zr=null,ru=new Map,su=new Map,Jr=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(n,r){switch(n){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":ru.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(r.pointerId)}}function au(n,r,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=hi(r),r!==null&&p_(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function v1(n,r,a,l,h){switch(r){case"focusin":return Xr=au(Xr,n,r,a,l,h),!0;case"dragenter":return Wr=au(Wr,n,r,a,l,h),!0;case"mouseover":return Zr=au(Zr,n,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return ru.set(d,au(ru.get(d)||null,n,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,su.set(d,au(su.get(d)||null,n,r,a,l,h)),!0}return!1}function v_(n){var r=Hi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){n.blockedOn=r,ac(n.priority,function(){if(a.tag===13){var l=In();l=Cr(l);var h=Ka(a,l);h!==null&&Dn(h,a,l),$m(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function bh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Ym(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);$i=l,a.target.dispatchEvent(l),$i=null}else return r=hi(a),r!==null&&p_(r),n.blockedOn=a,!1;r.shift()}return!0}function w_(n,r,a){bh(n)&&a.delete(r)}function w1(){Xm=!1,Xr!==null&&bh(Xr)&&(Xr=null),Wr!==null&&bh(Wr)&&(Wr=null),Zr!==null&&bh(Zr)&&(Zr=null),ru.forEach(w_),su.forEach(w_)}function Th(n,r){n.blockedOn===r&&(n.blockedOn=null,Xm||(Xm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,w1)))}var Ah=null;function __(n){Ah!==n&&(Ah=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ah===n&&(Ah=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(Qm(l||a)===null)continue;break}var d=hi(a);d!==null&&(n.splice(r,3),r-=3,Qd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ou(n){function r(R){return Th(R,n)}Xr!==null&&Th(Xr,n),Wr!==null&&Th(Wr,n),Zr!==null&&Th(Zr,n),ru.forEach(r),su.forEach(r);for(var a=0;a<Jr.length;a++){var l=Jr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)v_(a),a.blockedOn===null&&Jr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],w=h[bt]||null;if(typeof d=="function")w||__(a);else if(w){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,w=d[bt]||null)E=w.formAction;else if(Qm(h)!==null)continue}else E=w.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),__(a)}}}function Wm(n){this._internalRoot=n}Sh.prototype.render=Wm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=In();d_(a,l,n,r,null,null)},Sh.prototype.unmount=Wm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;d_(n.current,2,null,n,null,null),ah(),r[Vn]=null}};function Sh(n){this._internalRoot=n}Sh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ir();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Jr.length&&r!==0&&r<Jr[a].priority;a++);Jr.splice(a,0,n),a===0&&v_(n)}};var E_=e.version;if(E_!=="19.1.1")throw Error(s(527,E_,"19.1.1"));ae.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var _1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{dt=Rh.inject(_1),Ye=Rh}catch{}}return uu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=Lv,d=Uv,w=Bv,E=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=h_(n,1,!1,null,null,a,l,h,d,w,E,null),n[Vn]=r.current,km(n),new Wm(r)},uu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=Lv,w=Uv,E=Bv,R=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),r=h_(n,1,!0,r,a??null,l,h,d,w,E,R,z),r.context=f_(null),a=r.current,l=In(),l=Cr(l),h=Vr(l),h.callback=null,Lr(a,h,l),a=l,r.current.lanes=a,ji(r,a),Si(r),n[Vn]=r.current,km(n),new Sh(r)},uu.version="19.1.1",uu}var O_;function x1(){if(O_)return ep.exports;O_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ep.exports=D1(),ep.exports}var O1=x1();const N1=()=>{};var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},k1=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],f=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],f=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,_=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,V=y&63;p||(V=64,f||(A=64)),s.push(t[_],t[b],t[A],t[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Tb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):k1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new M1;const A=u<<2|m>>4;if(s.push(A),y!==64){const V=m<<4&240|y>>2;if(s.push(V),b!==64){const B=y<<6&192|b;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class M1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P1=function(i){const e=Tb(i);return Ab.encodeByteArray(e,!0)},Kh=function(i){return P1(i).replace(/\./g,"")},Sb=function(i){try{return Ab.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=()=>V1().__FIREBASE_DEFAULTS__,U1=()=>{if(typeof process>"u"||typeof N_>"u")return;const i=N_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},B1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Sb(i[1]);return e&&JSON.parse(e)},Sf=()=>{try{return N1()||L1()||U1()||B1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Rb=i=>Sf()?.emulatorHosts?.[i],z1=i=>{const e=Rb(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Cb=()=>Sf()?.config,Ib=i=>Sf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Db(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Kh(JSON.stringify(t)),Kh(JSON.stringify(f)),""].join(".")}const wu={};function q1(){const i={prod:[],emulator:[]};for(const e of Object.keys(wu))wu[e]?i.emulator.push(e):i.prod.push(e);return i}function F1(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let k_=!1;function xb(i,e){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||wu[i]===e||wu[i]||k_)return;wu[i]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=q1().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{k_=!0,f()},A}function _(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=F1(s),V=t("text"),B=document.getElementById(V)||document.createElement("span"),K=t("learnmore"),F=document.getElementById(K)||document.createElement("a"),ee=t("preprendIcon"),le=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const se=A.element;m(se),_(F,K);const Re=y();p(le,ee),se.append(le,B,F,Re),document.body.appendChild(se)}u?(B.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function $1(){const i=Sf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Q1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X1(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function W1(){return!$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z1(){try{return typeof indexedDB=="object"}catch{return!1}}function J1(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="FirebaseError";class Tr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=eS,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?tS(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Tr(o,m,s)}}function tS(i,e){return i.replace(nS,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const nS=/\{\$([^}]+)}/g;function iS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function fa(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(M_(u)&&M_(f)){if(!fa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function M_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function du(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function mu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function rS(i,e){const t=new sS(i,e);return t.subscribe.bind(t)}class sS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");aS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=rp),o.error===void 0&&(o.error=rp),o.complete===void 0&&(o.complete=rp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aS(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function rp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(i){return i&&i._delegate?i._delegate:i}class da{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new j1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uS(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lS(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(i){return i===oa?void 0:i}function uS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const hS={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},fS=ke.INFO,dS={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},mS=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=dS[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zp{constructor(e){this.name=e,this._logLevel=fS,this._logHandler=mS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const pS=(i,e)=>e.some(t=>i instanceof t);let P_,V_;function gS(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yS(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ob=new WeakMap,Ep=new WeakMap,Nb=new WeakMap,sp=new WeakMap,Jp=new WeakMap;function vS(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{t(ls(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&Ob.set(t,i)}).catch(()=>{}),Jp.set(e,i),e}function wS(i){if(Ep.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Ep.set(i,e)}let bp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Ep.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Nb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ls(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function _S(i){bp=i(bp)}function ES(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(ap(this),e,...t);return Nb.set(s,e.sort?e.sort():[e]),ls(s)}:yS().includes(i)?function(...e){return i.apply(ap(this),e),ls(Ob.get(this))}:function(...e){return ls(i.apply(ap(this),e))}}function bS(i){return typeof i=="function"?ES(i):(i instanceof IDBTransaction&&wS(i),pS(i,gS())?new Proxy(i,bp):i)}function ls(i){if(i instanceof IDBRequest)return vS(i);if(sp.has(i))return sp.get(i);const e=bS(i);return e!==i&&(sp.set(i,e),Jp.set(e,i)),e}const ap=i=>Jp.get(i);function TS(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=ls(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ls(f.result),p.oldVersion,p.newVersion,ls(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const AS=["get","getKey","getAll","getAllKeys","count"],SS=["put","add","delete","clear"],op=new Map;function L_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(op.get(e))return op.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=SS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||AS.includes(t)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&p.done]))[0]};return op.set(e,u),u}_S(i=>({...i,get:(e,t,s)=>L_(e,t)||i.get(e,t,s),has:(e,t)=>!!L_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CS(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function CS(i){return i.getComponent()?.type==="VERSION"}const Tp="@firebase/app",U_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new Zp("@firebase/app"),IS="@firebase/app-compat",DS="@firebase/analytics-compat",xS="@firebase/analytics",OS="@firebase/app-check-compat",NS="@firebase/app-check",kS="@firebase/auth",MS="@firebase/auth-compat",PS="@firebase/database",VS="@firebase/data-connect",LS="@firebase/database-compat",US="@firebase/functions",BS="@firebase/functions-compat",zS="@firebase/installations",jS="@firebase/installations-compat",HS="@firebase/messaging",qS="@firebase/messaging-compat",FS="@firebase/performance",GS="@firebase/performance-compat",$S="@firebase/remote-config",KS="@firebase/remote-config-compat",YS="@firebase/storage",QS="@firebase/storage-compat",XS="@firebase/firestore",WS="@firebase/ai",ZS="@firebase/firestore-compat",JS="firebase",eR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",tR={[Tp]:"fire-core",[IS]:"fire-core-compat",[xS]:"fire-analytics",[DS]:"fire-analytics-compat",[NS]:"fire-app-check",[OS]:"fire-app-check-compat",[kS]:"fire-auth",[MS]:"fire-auth-compat",[PS]:"fire-rtdb",[VS]:"fire-data-connect",[LS]:"fire-rtdb-compat",[US]:"fire-fn",[BS]:"fire-fn-compat",[zS]:"fire-iid",[jS]:"fire-iid-compat",[HS]:"fire-fcm",[qS]:"fire-fcm-compat",[FS]:"fire-perf",[GS]:"fire-perf-compat",[$S]:"fire-rc",[KS]:"fire-rc-compat",[YS]:"fire-gcs",[QS]:"fire-gcs-compat",[XS]:"fire-fst",[ZS]:"fire-fst-compat",[WS]:"fire-vertex","fire-js":"fire-js",[JS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,nR=new Map,Sp=new Map;function B_(i,e){try{i.container.addComponent(e)}catch(t){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function xo(i){const e=i.name;if(Sp.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;Sp.set(e,i);for(const t of Yh.values())B_(t,i);for(const t of nR.values())B_(t,i);return!0}function eg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function xn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new Vu("app","Firebase",iR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=eR;function kb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Ap,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(t||(t=Cb()),!t)throw us.create("no-options");const u=Yh.get(o);if(u){if(fa(t,u.options)&&fa(s,u.config))return u;throw us.create("duplicate-app",{appName:o})}const f=new cS(o);for(const p of Sp.values())f.addComponent(p);const m=new rR(t,s,f);return Yh.set(o,m),m}function Mb(i=Ap){const e=Yh.get(i);if(!e&&i===Ap&&Cb())return kb();if(!e)throw us.create("no-app",{appName:i});return e}function cs(i,e,t){let s=tR[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(f.join(" "));return}xo(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-heartbeat-database",aR=1,Ru="firebase-heartbeat-store";let lp=null;function Pb(){return lp||(lp=TS(sR,aR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ru)}catch(t){console.warn(t)}}}}).catch(i=>{throw us.create("idb-open",{originalErrorMessage:i.message})})),lp}async function oR(i){try{const t=(await Pb()).transaction(Ru),s=await t.objectStore(Ru).get(Vb(i));return await t.done,s}catch(e){if(e instanceof Tr)vr.warn(e.message);else{const t=us.create("idb-get",{originalErrorMessage:e?.message});vr.warn(t.message)}}}async function z_(i,e){try{const s=(await Pb()).transaction(Ru,"readwrite");await s.objectStore(Ru).put(e,Vb(i)),await s.done}catch(t){if(t instanceof Tr)vr.warn(t.message);else{const s=us.create("idb-set",{originalErrorMessage:t?.message});vr.warn(s.message)}}}function Vb(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=1024,uR=30;class cR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=j_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>uR){const o=dR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=j_(),{heartbeatsToSend:t,unsentEntries:s}=hR(this._heartbeatsCache.heartbeats),o=Kh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vr.warn(e),""}}}function j_(){return new Date().toISOString().substring(0,10)}function hR(i,e=lR){const t=[];let s=i.slice();for(const o of i){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),H_(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),H_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class fR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z1()?J1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await oR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H_(i){return Kh(JSON.stringify({version:2,heartbeats:i})).length}function dR(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(i){xo(new da("platform-logger",e=>new RS(e),"PRIVATE")),xo(new da("heartbeat",e=>new cR(e),"PRIVATE")),cs(Tp,U_,i),cs(Tp,U_,"esm2020"),cs("fire-js","")}mR("");function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pR=Lb,Ub=new Vu("auth","Firebase",Lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Zp("@firebase/auth");function gR(i,...e){Qh.logLevel<=ke.WARN&&Qh.warn(`Auth (${jo}): ${i}`,...e)}function Ph(i,...e){Qh.logLevel<=ke.ERROR&&Qh.error(`Auth (${jo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i,...e){throw ng(i,...e)}function si(i,...e){return ng(i,...e)}function tg(i,e,t){const s={...pR(),[e]:t};return new Vu("auth","Firebase",s).create(e,{appName:i.name})}function pr(i){return tg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yR(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Qn(i,"argument-error"),tg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ng(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Ub.create(i,...e)}function _e(i,e,...t){if(!i)throw ng(e,...t)}function dr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ph(e),new Error(e)}function wr(i,e){i||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){return typeof self<"u"&&self.location?.href||""}function vR(){return q_()==="http:"||q_()==="https:"}function q_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vR()||Y1()||"connection"in navigator)?navigator.onLine:!0}function _R(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t){this.shortDelay=e,this.longDelay=t,wr(t>e,"Short delay should be less than long delay!"),this.isMobile=G1()||Q1()}get(){return wR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(i,e){wr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TR=new Uu(3e4,6e4);function Ar(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Li(i,e,t,s,o={}){return zb(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Lu({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...u};return K1()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&zo(i.emulatorConfig.host)&&(y.credentials="include"),Bb.fetch()(await jb(i,i.config.apiHost,t,m),y)})}async function zb(i,e,t){i._canInitEmulator=!1;const s={...ER,...e};try{const o=new SR(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ch(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Ch(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Ch(i,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tg(i,_,y);Qn(i,_)}}catch(o){if(o instanceof Tr)throw o;Qn(i,"network-request-failed",{message:String(o)})}}async function Bu(i,e,t,s,o={}){const u=await Li(i,e,t,s,o);return"mfaPendingCredential"in u&&Qn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function jb(i,e,t,s){const o=`${e}${t}?${s}`,u=i,f=u.config.emulator?ig(i.config,o):`${i.config.apiScheme}://${o}`;return bR.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function AR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(si(this.auth,"network-request-failed")),TR.get())})}}function Ch(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=si(i,e,s);return o.customData._tokenResponse=t,o}function F_(i){return i!==void 0&&i.enterprise!==void 0}class RR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return AR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CR(i,e){return Li(i,"GET","/v2/recaptchaConfig",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(i,e){return Li(i,"POST","/v1/accounts:delete",e)}async function Xh(i,e){return Li(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DR(i,e=!1){const t=Zt(i),s=await t.getIdToken(e),o=rg(s);_e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:_u(up(o.auth_time)),issuedAtTime:_u(up(o.iat)),expirationTime:_u(up(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function up(i){return Number(i)*1e3}function rg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=Sb(t);return o?JSON.parse(o):(Ph("Failed to decode base64 JWT payload"),null)}catch(o){return Ph("Caught error parsing JWT payload as JSON",o?.toString()),null}}function G_(i){const e=rg(i);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Tr&&xR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function xR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(i){const e=i.auth,t=await i.getIdToken(),s=await Oo(i,Xh(e,{idToken:t}));_e(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Hb(o.providerUserInfo):[],f=kR(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,y=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,_)}async function NR(i){const e=Zt(i);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Hb(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(i,e){const t=await zb(i,{},async()=>{const s=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await jb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&zo(i.emulatorConfig.host)&&(p.credentials="include"),Bb.fetch()(f,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function PR(i,e){return Li(i,"POST","/v2/accounts:revokeToken",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const t=G_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await MR(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new Ao;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(i,e){_e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new OR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return DR(this,e)}reload(){return NR(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await Oo(this,IR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,f=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:V,providerData:B,stsTokenManager:K}=t;_e(b&&K,e,"internal-error");const F=Ao.fromJSON(this.name,K);_e(typeof b=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof V=="boolean",e,"internal-error"),ts(u,e.name),ts(f,e.name),ts(m,e.name),ts(p,e.name),ts(y,e.name),ts(_,e.name);const ee=new ri({uid:b,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:y,lastLoginAt:_});return B&&Array.isArray(B)&&(ee.providerData=B.map(le=>({...le}))),p&&(ee._redirectEventId=p),ee}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ao;o.updateFromServerResponse(t);const u=new ri({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Wh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Hb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ao;m.updateFromIdToken(s);const p=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new Map;function mr(i){wr(i instanceof Function,"Expected a class definition");let e=$_.get(i);return e?(wr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,$_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}qb.type="NONE";const K_=qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(i,e,t){return`firebase:${i}:${e}:${t}`}class So{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Vh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Xh(this.auth,{idToken:e}).catch(()=>{});return t?ri._fromGetAccountInfoResponse(this.auth,t,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new So(mr(K_),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||mr(K_);const f=Vh(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const _=await y._get(f);if(_){let b;if(typeof _=="string"){const A=await Xh(e,{idToken:_}).catch(()=>{});if(!A)break;b=await ri._fromGetAccountInfoResponse(e,A,_)}else b=ri._fromJSON(e,_);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new So(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new So(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qb(e))return"Blackberry";if(Xb(e))return"Webos";if(Gb(e))return"Safari";if((e.includes("chrome/")||$b(e))&&!e.includes("edge/"))return"Chrome";if(Yb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function Fb(i=on()){return/firefox\//i.test(i)}function Gb(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $b(i=on()){return/crios\//i.test(i)}function Kb(i=on()){return/iemobile/i.test(i)}function Yb(i=on()){return/android/i.test(i)}function Qb(i=on()){return/blackberry/i.test(i)}function Xb(i=on()){return/webos/i.test(i)}function sg(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function VR(i=on()){return sg(i)&&!!window.navigator?.standalone}function LR(){return X1()&&document.documentMode===10}function Wb(i=on()){return sg(i)||Yb(i)||Xb(i)||Qb(i)||/windows phone/i.test(i)||Kb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(i,e=[]){let t;switch(i){case"Browser":t=Y_(on());break;case"Worker":t=`${Y_(on())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(i,e={}){return Li(i,"GET","/v2/passwordPolicy",Ar(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=6;class jR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??zR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new UR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_R()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(pr(this));const t=e?Zt(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BR(this),t=new jR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await PR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mr(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Sr(i){return Zt(i)}class Q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=rS(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qR(i){Rf=i}function Jb(i){return Rf.loadJS(i)}function FR(){return Rf.recaptchaEnterpriseScript}function GR(){return Rf.gapiScript}function $R(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class KR{constructor(){this.enterprise=new YR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class YR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QR="recaptcha-enterprise",e0="NO_RECAPTCHA";class XR{constructor(e){this.type=QR,this.auth=Sr(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{CR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new RR(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;F_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(e0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!t&&F_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=FR();p.length!==0&&(p+=m),Jb(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function X_(i,e,t,s=!1,o=!1){const u=new XR(i);let f;if(o)f=e0;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Zh(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await X_(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await X_(i,e,t,t==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(i,e){const t=eg(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(fa(u,e??{}))return o;Qn(o,"already-initialized")}return t.initialize({options:e})}function ZR(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(mr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function JR(i,e,t){const s=Sr(i);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=t0(e),{host:f,port:m}=eC(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(fa(y,s.config.emulator)&&fa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,zo(f)?(Db(`${u}//${f}${p}`),xb("Auth",!0)):tC()}function t0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function eC(i){const e=t0(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:W_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:W_(f)}}}function W_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function tC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,t){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function nC(i,e){return Li(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(i,e){return Bu(i,"POST","/v1/accounts:signInWithPassword",Ar(i,e))}async function rC(i,e){return Li(i,"POST","/v1/accounts:sendOobCode",Ar(i,e))}async function sC(i,e){return rC(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(i,e){return Bu(i,"POST","/v1/accounts:signInWithEmailLink",Ar(i,e))}async function oC(i,e){return Bu(i,"POST","/v1/accounts:signInWithEmailLink",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends ag{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Cu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Cu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,t,"signInWithPassword",iC);case"emailLink":return aC(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,s,"signUpPassword",nC);case"emailLink":return oC(e,{idToken:t,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(i,e){return Bu(i,"POST","/v1/accounts:signInWithIdp",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="http://localhost";class ma extends ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const f=new ma(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Ro(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ro(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ro(e,t)}buildRequest(){const e={requestUri:lC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cC(i){const e=du(mu(i)).link,t=e?du(mu(e)).deep_link_id:null,s=du(mu(i)).deep_link_id;return(s?du(mu(s)).link:null)||s||t||e||i}class og{constructor(e){const t=du(mu(e)),s=t.apiKey??null,o=t.oobCode??null,u=uC(t.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=cC(e);try{return new og(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.providerId=Ho.PROVIDER_ID}static credential(e,t){return Cu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=og.parseLink(t);return _e(s,"argument-error"),Cu._fromEmailAndCode(e,s.code,s.tenantId)}}Ho.PROVIDER_ID="password";Ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends lg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends zu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ma._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return fr.credential(t,s)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends zu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends zu{constructor(){super("twitter.com")}static credential(e,t){return ma._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return rs.credential(t,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(i,e){return Bu(i,"POST","/v1/accounts:signUp",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),f=Z_(s);return new pa({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Z_(s);return new pa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Z_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends Tr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Jh(e,t,s,o)}}function n0(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(i,u,e,s):u})}async function fC(i,e,t=!1){const s=await Oo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return pa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(i,e,t=!1){const{auth:s}=i;if(xn(s.app))return Promise.reject(pr(s));const o="reauthenticate";try{const u=await Oo(i,n0(s,o,e,i),t);_e(u.idToken,s,"internal-error");const f=rg(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(i.uid===m,s,"user-mismatch"),pa._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i0(i,e,t=!1){if(xn(i.app))return Promise.reject(pr(i));const s="signIn",o=await n0(i,s,e),u=await pa._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function mC(i,e){return i0(Sr(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r0(i){const e=Sr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pC(i,e,t){const s=Sr(i);await Zh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sC)}async function gC(i,e,t){if(xn(i.app))return Promise.reject(pr(i));const s=Sr(i),f=await Zh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&r0(i),p}),m=await pa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function yC(i,e,t){return xn(i.app)?Promise.reject(pr(i)):mC(Zt(i),Ho.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&r0(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(i,e){return Li(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Zt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await Oo(s,vC(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function _C(i,e,t,s){return Zt(i).onIdTokenChanged(e,t,s)}function EC(i,e,t){return Zt(i).beforeAuthStateChanged(e,t)}function bC(i,e,t,s){return Zt(i).onAuthStateChanged(e,t,s)}function TC(i){return Zt(i).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=1e3,SC=10;class a0 extends s0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);LR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,SC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},AC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}a0.type="LOCAL";const RC=a0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends s0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}o0.type="SESSION";const l0=o0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!f?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(t.origin,u)),p=await CC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=ug("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function DC(i){Ii().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function xC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OC(){return navigator?.serviceWorker?.controller||null}function NC(){return u0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="firebaseLocalStorageDb",kC=1,tf="firebaseLocalStorage",h0="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function If(i,e){return i.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function MC(){const i=indexedDB.deleteDatabase(c0);return new ju(i).toPromise()}function Ip(){const i=indexedDB.open(c0,kC);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(tf,{keyPath:h0})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(tf)?e(s):(s.close(),await MC(),e(await Ip()))})})}async function J_(i,e,t){const s=If(i,!0).put({[h0]:e,value:t});return new ju(s).toPromise()}async function PC(i,e){const t=If(i,!1).get(e),s=await new ju(t).toPromise();return s===void 0?null:s.value}function eE(i,e){const t=If(i,!0).delete(e);return new ju(t).toPromise()}const VC=800,LC=3;class f0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ip(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>LC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cf._getInstance(NC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xC(),!this.activeServiceWorker)return;this.sender=new IC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ip();return await J_(e,ef,"1"),await eE(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>J_(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>PC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>eE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=If(o,!1).getAll();return new ju(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f0.type="LOCAL";const UC=f0;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(i,e){return e?mr(e):(_e(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BC(i){return i0(i.auth,new cg(i),i.bypassAuthState)}function zC(i){const{auth:e,user:t}=i;return _e(t,e,"internal-error"),dC(t,new cg(i),i.bypassAuthState)}async function jC(i){const{auth:e,user:t}=i;return _e(t,e,"internal-error"),fC(t,new cg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BC;case"linkViaPopup":case"linkViaRedirect":return jC;case"reauthViaPopup":case"reauthViaRedirect":return zC;default:Qn(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new Uu(2e3,1e4);async function qC(i,e,t){if(xn(i.app))return Promise.reject(si(i,"operation-not-supported-in-this-environment"));const s=Sr(i);yR(i,e,lg);const o=d0(s,t);return new la(s,"signInViaPopup",e,o).executeNotNull()}class la extends m0{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HC.get())};e()}}la.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="pendingRedirect",Lh=new Map;class GC extends m0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Lh.get(this.auth._key());if(!e){try{const s=await $C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Lh.set(this.auth._key(),e)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $C(i,e){const t=QC(e),s=YC(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function KC(i,e){Lh.set(i._key(),e)}function YC(i){return mr(i._redirectPersistence)}function QC(i){return Vh(FC,i.config.apiKey,i.name)}async function XC(i,e,t=!1){if(xn(i.app))return Promise.reject(pr(i));const s=Sr(i),o=d0(s,e),f=await new GC(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=600*1e3;class ZC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!p0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(si(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WC&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(e))}saveEventToCache(e){this.cachedEventUids.add(tE(e)),this.lastProcessedEventTime=Date.now()}}function tE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function p0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function JC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(i,e={}){return Li(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nI=/^https?/;async function iI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await eI(i);for(const t of e)try{if(rI(t))return}catch{}Qn(i,"unauthorized-domain")}function rI(i){const e=Rp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!nI.test(t))return!1;if(tI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Uu(3e4,6e4);function nE(){const i=Ii().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function aI(i){return new Promise((e,t)=>{function s(){nE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nE(),t(si(i,"network-request-failed"))},timeout:sI.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=$R("iframefcb");return Ii()[o]=()=>{gapi.load?s():t(si(i,"network-request-failed"))},Jb(`${GR()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function oI(i){return Uh=Uh||aI(i),Uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=new Uu(5e3,15e3),uI="__/auth/iframe",cI="emulator/auth/iframe",hI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dI(i){const e=i.config;_e(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?ig(e,cI):`https://${i.config.authDomain}/${uI}`,s={apiKey:e.apiKey,appName:i.name,v:jo},o=fI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Lu(s).slice(1)}`}async function mI(i){const e=await oI(i),t=Ii().gapi;return _e(t,i,"internal-error"),e.open({where:document.body,url:dI(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=si(i,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},lI.get());function p(){Ii().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gI=500,yI=600,vI="_blank",wI="http://localhost";class iE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _I(i,e,t,s=gI,o=yI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...pI,width:s.toString(),height:o.toString(),top:u,left:f},y=on().toLowerCase();t&&(m=$b(y)?vI:t),Fb(y)&&(e=e||wI,p.scrollbars="yes");const _=Object.entries(p).reduce((A,[V,B])=>`${A}${V}=${B},`,"");if(VR(y)&&m!=="_self")return EI(e||"",m),new iE(null);const b=window.open(e||"",m,_);_e(b,i,"popup-blocked");try{b.focus()}catch{}return new iE(b)}function EI(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="__/auth/handler",TI="emulator/auth/handler",AI=encodeURIComponent("fac");async function rE(i,e,t,s,o,u){_e(i.config.authDomain,i,"auth-domain-config-required"),_e(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:jo,eventId:o};if(e instanceof lg){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",iS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))f[_]=b}if(e instanceof zu){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(f.scopes=_.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),y=p?`#${AI}=${encodeURIComponent(p)}`:"";return`${SI(i)}?${Lu(m).slice(1)}${y}`}function SI({config:i}){return i.emulator?ig(i,TI):`https://${i.authDomain}/${bI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="webStorageSupport";class RI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l0,this._completeRedirectFn=XC,this._overrideRedirectResult=KC}async _openPopup(e,t,s,o){wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await rE(e,t,s,Rp(),o);return _I(e,u,ug())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await rE(e,t,s,Rp(),o);return DC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(wr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await mI(e),s=new ZC(e);return t.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cp,{type:cp},o=>{const u=o?.[0]?.[cp];u!==void 0&&t(!!u),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wb()||Gb()||sg()}}const CI=RI;var sE="@firebase/auth",aE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xI(i){xo(new da("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zb(i)},y=new HR(s,o,u,p);return ZR(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),xo(new da("auth-internal",e=>{const t=Sr(e.getProvider("auth").getImmediate());return(s=>new II(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(sE,aE,DI(i)),cs(sE,aE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=300,NI=Ib("authIdTokenMaxAge")||OI;let oE=null;const kI=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>NI)return;const o=t?.token;oE!==o&&(oE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Hu(i=Mb()){const e=eg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=WR(i,{popupRedirectResolver:CI,persistence:[UC,RC,l0]}),s=Ib("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=kI(u.toString());EC(t,f,()=>f(t.currentUser)),_C(t,m=>f(m))}}const o=Rb("auth");return o&&JR(t,`http://${o}`),t}function MI(){return document.getElementsByTagName("head")?.[0]??document}qR({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=si("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",MI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xI("Browser");var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,g0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function C(){}C.prototype=S.prototype,N.D=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(O,k,P){for(var I=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)I[Ft-2]=arguments[Ft];return S.prototype[k].apply(O,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,C){C||(C=0);var O=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)O[k]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(k=0;16>k;++k)O[k]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],k=N.g[2];var P=N.g[3],I=S+(P^C&(k^P))+O[0]+3614090360&4294967295;S=C+(I<<7&4294967295|I>>>25),I=P+(k^S&(C^k))+O[1]+3905402710&4294967295,P=S+(I<<12&4294967295|I>>>20),I=k+(C^P&(S^C))+O[2]+606105819&4294967295,k=P+(I<<17&4294967295|I>>>15),I=C+(S^k&(P^S))+O[3]+3250441966&4294967295,C=k+(I<<22&4294967295|I>>>10),I=S+(P^C&(k^P))+O[4]+4118548399&4294967295,S=C+(I<<7&4294967295|I>>>25),I=P+(k^S&(C^k))+O[5]+1200080426&4294967295,P=S+(I<<12&4294967295|I>>>20),I=k+(C^P&(S^C))+O[6]+2821735955&4294967295,k=P+(I<<17&4294967295|I>>>15),I=C+(S^k&(P^S))+O[7]+4249261313&4294967295,C=k+(I<<22&4294967295|I>>>10),I=S+(P^C&(k^P))+O[8]+1770035416&4294967295,S=C+(I<<7&4294967295|I>>>25),I=P+(k^S&(C^k))+O[9]+2336552879&4294967295,P=S+(I<<12&4294967295|I>>>20),I=k+(C^P&(S^C))+O[10]+4294925233&4294967295,k=P+(I<<17&4294967295|I>>>15),I=C+(S^k&(P^S))+O[11]+2304563134&4294967295,C=k+(I<<22&4294967295|I>>>10),I=S+(P^C&(k^P))+O[12]+1804603682&4294967295,S=C+(I<<7&4294967295|I>>>25),I=P+(k^S&(C^k))+O[13]+4254626195&4294967295,P=S+(I<<12&4294967295|I>>>20),I=k+(C^P&(S^C))+O[14]+2792965006&4294967295,k=P+(I<<17&4294967295|I>>>15),I=C+(S^k&(P^S))+O[15]+1236535329&4294967295,C=k+(I<<22&4294967295|I>>>10),I=S+(k^P&(C^k))+O[1]+4129170786&4294967295,S=C+(I<<5&4294967295|I>>>27),I=P+(C^k&(S^C))+O[6]+3225465664&4294967295,P=S+(I<<9&4294967295|I>>>23),I=k+(S^C&(P^S))+O[11]+643717713&4294967295,k=P+(I<<14&4294967295|I>>>18),I=C+(P^S&(k^P))+O[0]+3921069994&4294967295,C=k+(I<<20&4294967295|I>>>12),I=S+(k^P&(C^k))+O[5]+3593408605&4294967295,S=C+(I<<5&4294967295|I>>>27),I=P+(C^k&(S^C))+O[10]+38016083&4294967295,P=S+(I<<9&4294967295|I>>>23),I=k+(S^C&(P^S))+O[15]+3634488961&4294967295,k=P+(I<<14&4294967295|I>>>18),I=C+(P^S&(k^P))+O[4]+3889429448&4294967295,C=k+(I<<20&4294967295|I>>>12),I=S+(k^P&(C^k))+O[9]+568446438&4294967295,S=C+(I<<5&4294967295|I>>>27),I=P+(C^k&(S^C))+O[14]+3275163606&4294967295,P=S+(I<<9&4294967295|I>>>23),I=k+(S^C&(P^S))+O[3]+4107603335&4294967295,k=P+(I<<14&4294967295|I>>>18),I=C+(P^S&(k^P))+O[8]+1163531501&4294967295,C=k+(I<<20&4294967295|I>>>12),I=S+(k^P&(C^k))+O[13]+2850285829&4294967295,S=C+(I<<5&4294967295|I>>>27),I=P+(C^k&(S^C))+O[2]+4243563512&4294967295,P=S+(I<<9&4294967295|I>>>23),I=k+(S^C&(P^S))+O[7]+1735328473&4294967295,k=P+(I<<14&4294967295|I>>>18),I=C+(P^S&(k^P))+O[12]+2368359562&4294967295,C=k+(I<<20&4294967295|I>>>12),I=S+(C^k^P)+O[5]+4294588738&4294967295,S=C+(I<<4&4294967295|I>>>28),I=P+(S^C^k)+O[8]+2272392833&4294967295,P=S+(I<<11&4294967295|I>>>21),I=k+(P^S^C)+O[11]+1839030562&4294967295,k=P+(I<<16&4294967295|I>>>16),I=C+(k^P^S)+O[14]+4259657740&4294967295,C=k+(I<<23&4294967295|I>>>9),I=S+(C^k^P)+O[1]+2763975236&4294967295,S=C+(I<<4&4294967295|I>>>28),I=P+(S^C^k)+O[4]+1272893353&4294967295,P=S+(I<<11&4294967295|I>>>21),I=k+(P^S^C)+O[7]+4139469664&4294967295,k=P+(I<<16&4294967295|I>>>16),I=C+(k^P^S)+O[10]+3200236656&4294967295,C=k+(I<<23&4294967295|I>>>9),I=S+(C^k^P)+O[13]+681279174&4294967295,S=C+(I<<4&4294967295|I>>>28),I=P+(S^C^k)+O[0]+3936430074&4294967295,P=S+(I<<11&4294967295|I>>>21),I=k+(P^S^C)+O[3]+3572445317&4294967295,k=P+(I<<16&4294967295|I>>>16),I=C+(k^P^S)+O[6]+76029189&4294967295,C=k+(I<<23&4294967295|I>>>9),I=S+(C^k^P)+O[9]+3654602809&4294967295,S=C+(I<<4&4294967295|I>>>28),I=P+(S^C^k)+O[12]+3873151461&4294967295,P=S+(I<<11&4294967295|I>>>21),I=k+(P^S^C)+O[15]+530742520&4294967295,k=P+(I<<16&4294967295|I>>>16),I=C+(k^P^S)+O[2]+3299628645&4294967295,C=k+(I<<23&4294967295|I>>>9),I=S+(k^(C|~P))+O[0]+4096336452&4294967295,S=C+(I<<6&4294967295|I>>>26),I=P+(C^(S|~k))+O[7]+1126891415&4294967295,P=S+(I<<10&4294967295|I>>>22),I=k+(S^(P|~C))+O[14]+2878612391&4294967295,k=P+(I<<15&4294967295|I>>>17),I=C+(P^(k|~S))+O[5]+4237533241&4294967295,C=k+(I<<21&4294967295|I>>>11),I=S+(k^(C|~P))+O[12]+1700485571&4294967295,S=C+(I<<6&4294967295|I>>>26),I=P+(C^(S|~k))+O[3]+2399980690&4294967295,P=S+(I<<10&4294967295|I>>>22),I=k+(S^(P|~C))+O[10]+4293915773&4294967295,k=P+(I<<15&4294967295|I>>>17),I=C+(P^(k|~S))+O[1]+2240044497&4294967295,C=k+(I<<21&4294967295|I>>>11),I=S+(k^(C|~P))+O[8]+1873313359&4294967295,S=C+(I<<6&4294967295|I>>>26),I=P+(C^(S|~k))+O[15]+4264355552&4294967295,P=S+(I<<10&4294967295|I>>>22),I=k+(S^(P|~C))+O[6]+2734768916&4294967295,k=P+(I<<15&4294967295|I>>>17),I=C+(P^(k|~S))+O[13]+1309151649&4294967295,C=k+(I<<21&4294967295|I>>>11),I=S+(k^(C|~P))+O[4]+4149444226&4294967295,S=C+(I<<6&4294967295|I>>>26),I=P+(C^(S|~k))+O[11]+3174756917&4294967295,P=S+(I<<10&4294967295|I>>>22),I=k+(S^(P|~C))+O[2]+718787259&4294967295,k=P+(I<<15&4294967295|I>>>17),I=C+(P^(k|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+P&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var C=S-this.blockSize,O=this.B,k=this.h,P=0;P<S;){if(k==0)for(;P<=C;)o(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<S;)if(O[k++]=N.charCodeAt(P++),k==this.blockSize){o(this,O),k=0;break}}else for(;P<S;)if(O[k++]=N[P++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var C=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=C&255,C/=256;for(this.u(N),N=Array(16),S=C=0;4>S;++S)for(var O=0;32>O;O+=8)N[C++]=this.g[S]>>>O&255;return N};function u(N,S){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function f(N,S){this.h=S;for(var C=[],O=!0,k=N.length-1;0<=k;k--){var P=N[k]|0;O&&P==S||(C[k]=P,O=!1)}this.g=C}var m={};function p(N){return-128<=N&&128>N?u(N,function(S){return new f([S|0],0>S?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return F(y(-N));for(var S=[],C=1,O=0;N>=C;O++)S[O]=N/C|0,C*=4294967296;return new f(S,0)}function _(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return F(_(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),O=b,k=0;k<N.length;k+=8){var P=Math.min(8,N.length-k),I=parseInt(N.substring(k,k+P),S);8>P?(P=y(Math.pow(S,P)),O=O.j(P).add(y(I))):(O=O.j(C),O=O.add(y(I)))}return O}var b=p(0),A=p(1),V=p(16777216);i=f.prototype,i.m=function(){if(K(this))return-F(this).m();for(var N=0,S=1,C=0;C<this.g.length;C++){var O=this.i(C);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(B(this))return"0";if(K(this))return"-"+F(this).toString(N);for(var S=y(Math.pow(N,6)),C=this,O="";;){var k=Re(C,S).g;C=ee(C,k.j(S));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=k,B(C))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function B(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function K(N){return N.h==-1}i.l=function(N){return N=ee(this,N),K(N)?-1:B(N)?0:1};function F(N){for(var S=N.g.length,C=[],O=0;O<S;O++)C[O]=~N.g[O];return new f(C,~N.h).add(A)}i.abs=function(){return K(this)?F(this):this},i.add=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],O=0,k=0;k<=S;k++){var P=O+(this.i(k)&65535)+(N.i(k)&65535),I=(P>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);O=I>>>16,P&=65535,I&=65535,C[k]=I<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ee(N,S){return N.add(F(S))}i.j=function(N){if(B(this)||B(N))return b;if(K(this))return K(N)?F(this).j(F(N)):F(F(this).j(N));if(K(N))return F(this.j(F(N)));if(0>this.l(V)&&0>N.l(V))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,C=[],O=0;O<2*S;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<N.g.length;k++){var P=this.i(O)>>>16,I=this.i(O)&65535,Ft=N.i(k)>>>16,ft=N.i(k)&65535;C[2*O+2*k]+=I*ft,le(C,2*O+2*k),C[2*O+2*k+1]+=P*ft,le(C,2*O+2*k+1),C[2*O+2*k+1]+=I*Ft,le(C,2*O+2*k+1),C[2*O+2*k+2]+=P*Ft,le(C,2*O+2*k+2)}for(O=0;O<S;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=S;O<2*S;O++)C[O]=0;return new f(C,0)};function le(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function se(N,S){this.g=N,this.h=S}function Re(N,S){if(B(S))throw Error("division by zero");if(B(N))return new se(b,b);if(K(N))return S=Re(F(N),S),new se(F(S.g),F(S.h));if(K(S))return S=Re(N,F(S)),new se(F(S.g),S.h);if(30<N.g.length){if(K(N)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var C=A,O=S;0>=O.l(N);)C=de(C),O=de(O);var k=Ve(C,1),P=Ve(O,1);for(O=Ve(O,2),C=Ve(C,2);!B(O);){var I=P.add(O);0>=I.l(N)&&(k=k.add(C),P=I),O=Ve(O,1),C=Ve(C,1)}return S=ee(N,k.j(S)),new se(k,S)}for(k=b;0<=N.l(S);){for(C=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=y(C),I=P.j(S);K(I)||0<I.l(N);)C-=O,P=y(C),I=P.j(S);B(P)&&(P=A),k=k.add(P),N=ee(N,I)}return new se(k,N)}i.A=function(N){return Re(this,N).h},i.and=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)&N.i(O);return new f(C,this.h&N.h)},i.or=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)|N.i(O);return new f(C,this.h|N.h)},i.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)^N.i(O);return new f(C,this.h^N.h)};function de(N){for(var S=N.g.length+1,C=[],O=0;O<S;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(C,N.h)}function Ve(N,S){var C=S>>5;S%=32;for(var O=N.g.length-C,k=[],P=0;P<O;P++)k[P]=0<S?N.i(P+C)>>>S|N.i(P+C+1)<<32-S:N.i(P+C);return new f(k,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,g0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=_,hs=f}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y0,pu,v0,Bh,Dp,w0,_0,E0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var L=c[T];if(!(L in v))break e;v=v[L]}c=c[c.length-1],T=v[c],g=g(T),g!=T&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,T=!1,L={next:function(){if(!T&&v<c.length){var q=v++;return{value:g(q,c[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,v){return c.call.apply(c.bind,arguments)}function b(c,g,v){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),c.apply(g,L)}}return function(){return c.apply(g,arguments)}}function A(c,g,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,A.apply(null,arguments)}function V(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function B(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(T,L,q){for(var re=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)re[Le-2]=arguments[Le];return g.prototype[L].apply(T,re)}}function K(c){const g=c.length;if(0<g){const v=Array(g);for(let T=0;T<g;T++)v[T]=c[T];return v}return[]}function F(c,g){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const L=c.length||0,q=T.length||0;c.length=L+q;for(let re=0;re<q;re++)c[L+re]=T[re]}else c.push(T)}}class ee{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function le(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Re(c){return Re[" "](c),c}Re[" "]=function(){};var de=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function Ve(c,g,v){for(const T in c)g.call(v,c[T],T,c)}function N(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function S(c){const g={};for(const v in c)g[v]=c[v];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)c[v]=T[v];for(let q=0;q<C.length;q++)v=C[q],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function k(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function P(c){m.setTimeout(()=>{throw c},0)}function I(){var c=qe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ft{constructor(){this.h=this.g=null}add(g,v){const T=ft.get();T.set(g,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new ee(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,qe=new Ft,D=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(te)}};var te=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){P(v)}var g=ft;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var pe=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c})();function De(c,g){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(de){e:{try{Re(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}B(De,ie);var Te={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function ui(c,g,v,T,L){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!T,this.ha=L,this.key=++nt,this.da=this.fa=!1}function Rr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bi(c){this.src=c,this.g={},this.h=0}Bi.prototype.add=function(c,g,v,T,L){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var re=As(c,g,T,L);return-1<re?(g=c[re],v||(g.fa=!1)):(g=new ui(g,this.src,q,!!T,L),g.fa=v,c.push(g)),g};function Ts(c,g){var v=g.type;if(v in c.g){var T=c.g[v],L=Array.prototype.indexOf.call(T,g,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(Rr(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function As(c,g,v,T){for(var L=0;L<c.length;++L){var q=c[L];if(!q.da&&q.listener==g&&q.capture==!!v&&q.ha==T)return L}return-1}var Ss="closure_lm_"+(1e6*Math.random()|0),el={};function ic(c,g,v,T,L){if(Array.isArray(g)){for(var q=0;q<g.length;q++)ic(c,g[q],v,T,L);return null}return v=rc(v),c&&c[Vt]?c.K(g,v,y(T)?!!T.capture:!1,L):Pn(c,g,v,!1,T,L)}function Pn(c,g,v,T,L,q){if(!g)throw Error("Invalid event type");var re=y(L)?!!L.capture:!!L,Le=Ca(c);if(Le||(c[Ss]=Le=new Bi(c)),v=Le.add(g,v,T,re,q),v.proxy)return v;if(T=Zf(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)pe||(L=re),L===void 0&&(L=!1),c.addEventListener(g.toString(),T,L);else if(c.attachEvent)c.attachEvent(Rs(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zf(){function c(v){return g.call(c.src,c.listener,v)}const g=Jf;return c}function tl(c,g,v,T,L){if(Array.isArray(g))for(var q=0;q<g.length;q++)tl(c,g[q],v,T,L);else T=y(T)?!!T.capture:!!T,v=rc(v),c&&c[Vt]?(c=c.i,g=String(g).toString(),g in c.g&&(q=c.g[g],v=As(q,v,T,L),-1<v&&(Rr(q[v]),Array.prototype.splice.call(q,v,1),q.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ca(c))&&(g=c.g[g.toString()],c=-1,g&&(c=As(g,v,T,L)),(v=-1<c?g[c]:null)&&Ra(v))}function Ra(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Vt])Ts(g.i,c);else{var v=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(v,T,c.capture):g.detachEvent?g.detachEvent(Rs(v),T):g.addListener&&g.removeListener&&g.removeListener(T),(v=Ca(g))?(Ts(v,c),v.h==0&&(v.src=null,g[Ss]=null)):Rr(c)}}}function Rs(c){return c in el?el[c]:el[c]="on"+c}function Jf(c,g){if(c.da)c=!0;else{g=new De(g,this);var v=c.listener,T=c.ha||c.src;c.fa&&Ra(c),c=v.call(T,g)}return c}function Ca(c){return c=c[Ss],c instanceof Bi?c:null}var nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function rc(c){return typeof c=="function"?c:(c[nl]||(c[nl]=function(g){return c.handleEvent(g)}),c[nl])}function dt(){oe.call(this),this.i=new Bi(this),this.M=this,this.F=null}B(dt,oe),dt.prototype[Vt]=!0,dt.prototype.removeEventListener=function(c,g,v,T){tl(this,c,g,v,T)};function Ye(c,g){var v,T=c.F;if(T)for(v=[];T;T=T.F)v.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new ie(g,c);else if(g instanceof ie)g.target=g.target||c;else{var L=g;g=new ie(T,c),O(g,L)}if(L=!0,v)for(var q=v.length-1;0<=q;q--){var re=g.g=v[q];L=En(re,T,!0,g)&&L}if(re=g.g=c,L=En(re,T,!0,g)&&L,L=En(re,T,!1,g)&&L,v)for(q=0;q<v.length;q++)re=g.g=v[q],L=En(re,T,!1,g)&&L}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],T=0;T<v.length;T++)Rr(v[T]);delete c.g[g],c.h--}}this.F=null},dt.prototype.K=function(c,g,v,T){return this.i.add(String(c),g,!1,v,T)},dt.prototype.L=function(c,g,v,T){return this.i.add(String(c),g,!0,v,T)};function En(c,g,v,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,q=0;q<g.length;++q){var re=g[q];if(re&&!re.da&&re.capture==v){var Le=re.listener,Dt=re.ha||re.src;re.fa&&Ts(c.i,re),L=Le.call(Dt,T)!==!1&&L}}return L&&!T.defaultPrevented}function en(c,g,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function sc(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,sc(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ed extends oe{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:sc(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(c){oe.call(this),this.h=c,this.g={}}B(Cs,oe);var Is=[];function Ds(c){Ve(c.g,function(g,v){this.g.hasOwnProperty(v)&&Ra(g)},c),c.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Ds(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=m.JSON.stringify,Ia=m.JSON.parse,xs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function il(){}il.prototype.h=null;function rl(c){return c.h||(c.h=c.i())}function sl(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){ie.call(this,"d")}B(ji,ie);function al(){ie.call(this,"c")}B(al,ie);var ci={},ol=null;function Cr(){return ol=ol||new dt}ci.La="serverreachability";function Da(c){ie.call(this,ci.La,c)}B(Da,ie);function Ir(c){const g=Cr();Ye(g,new Da(g))}ci.STAT_EVENT="statevent";function ac(c,g){ie.call(this,ci.STAT_EVENT,c),this.stat=g}B(ac,ie);function at(c){const g=Cr();Ye(g,new ac(g,c))}ci.Ma="timingevent";function It(c,g){ie.call(this,ci.Ma,c),this.size=g}B(It,ie);function bt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function ll(c,g,v,T,L,q){c.info(function(){if(c.g)if(q)for(var re="",Le=q.split("&"),Dt=0;Dt<Le.length;Dt++){var Ue=Le[Dt].split("=");if(1<Ue.length){var Ut=Ue[0];Ue=Ue[1];var xt=Ut.split("_");re=2<=xt.length&&xt[1]=="type"?re+(Ut+"="+Ue+"&"):re+(Ut+"=redacted&")}}else re=null;else re=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+g+`
`+v+`
`+re})}function td(c,g,v,T,L,q,re){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+g+`
`+v+`
`+q+" "+re})}function Dr(c,g,v,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Os(c,v)+(T?" "+T:"")})}function oc(c,g){c.info(function(){return"TIMEOUT: "+g})}Vn.prototype.info=function(){};function Os(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var T=v[c];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var re=1;re<L.length;re++)L[re]=""}}}}return Zn(v)}catch{return g}}var xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hi;function fi(){}B(fi,il),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},hi=new fi;function un(c,g,v,T){this.j=c,this.i=g,this.l=v,this.R=T||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var ul={},xa={};function Jn(c,g,v){c.L=1,c.v=Vs(bn(g)),c.m=v,c.P=!0,qi(c,null)}function qi(c,g){c.F=Date.now(),Ns(c),c.A=bn(c.v);var v=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),pl(v.i,"t",T),c.C=0,v=c.j.J,c.h=new gt,c.g=Tc(c.j,v?g:null,!c.m),0<c.O&&(c.M=new ed(A(c.Y,c,c.g),c.O)),g=c.U,v=c.g,T=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(Is[0]=L.toString()),L=Is);for(var q=0;q<L.length;q++){var re=ic(v,L[q],T||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ir(),ll(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const g=this.M;g&&zn(c)==3?g.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)e:{const xt=zn(this.g);var g=this.g.Ba();const Wi=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||pc(this.g)))){this.J||xt!=4||g==7||(g==8||0>=Wi?Ir(3):Ir(2)),Or(this);var v=this.g.Z();this.X=v;t:if(lc(this)){var T=pc(this.g);c="";var L=T.length,q=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),di(this);var re="";break t}this.h.i=new m.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,c+=this.h.i.decode(T[g],{stream:!(q&&g==L-1)});T.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,td(this.i,this.u,this.A,this.l,this.R,xt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Dt=this.g;if((Le=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(Le)){var Ue=Le;break t}}Ue=null}if(v=Ue)Dr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ks(this,v);else{this.o=!1,this.s=3,at(12),Gt(this),di(this);break e}}if(this.P){v=!0;let $t;for(;!this.J&&this.C<re.length;)if($t=uc(this,re),$t==xa){xt==4&&(this.s=4,at(14),v=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if($t==ul){this.s=4,at(15),Dr(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else Dr(this.i,this.l,$t,null),ks(this,$t);if(lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||re.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)Dr(this.i,this.l,re,"[Invalid Chunked Response]"),Gt(this),di(this);else if(0<re.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Fs(Ut),Ut.M=!0,at(11))}}else Dr(this.i,this.l,re,null),ks(this,re);xt==4&&Gt(this),this.o&&!this.J&&(xt==4?_c(this.j,this):(this.o=!1,Ns(this)))}else ad(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Gt(this),di(this)}}}catch{}finally{}};function lc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function uc(c,g){var v=c.C,T=g.indexOf(`
`,v);return T==-1?xa:(v=Number(g.substring(v,T)),isNaN(v)?ul:(T+=1,T+v>g.length?xa:(g=g.slice(T,T+v),c.C=T+v,g)))}un.prototype.cancel=function(){this.J=!0,Gt(this)};function Ns(c){c.S=Date.now()+c.I,cc(c,c.I)}function cc(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=bt(A(c.ba,c),g)}function Or(c){c.B&&(m.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(oc(this.i,this.A),this.L!=2&&(Ir(),at(17)),Gt(this),this.s=2,di(this)):cc(this,this.S-c)};function di(c){c.j.G==0||c.J||_c(c.j,c)}function Gt(c){Or(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ds(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ks(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||cl(v.h,c))){if(!c.K&&cl(v.h,c)&&v.G==3){try{var T=v.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ha(v),za(v);else break e;_l(v),at(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=bt(A(v.Za,v),6e3));if(1>=Na(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Xi(v,11)}else if((c.K||v.g==c)&&Ha(v),!le(g))for(L=v.Da.g.parse(g),g=0;g<L.length;g++){let Ue=L[g];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const Ut=Ue[3];Ut!=null&&(v.la=Ut,v.j.info("VER="+v.la));const xt=Ue[4];xt!=null&&(v.Aa=xt,v.j.info("SVER="+v.Aa));const Wi=Ue[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(T=1.5*Wi,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const $t=c.g;if($t){const _i=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var q=T.h;q.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ka(q,q.h),q.h=null))}if(T.D){const bl=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;bl&&(T.ya=bl,We(T.I,T.D,bl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var re=c;if(T.qa=bc(T,T.J?T.ia:null,T.W),re.K){cn(T.h,re);var Le=re,Dt=T.L;Dt&&(Le.I=Dt),Le.B&&(Or(Le),Ns(Le)),T.g=re}else vc(T);0<v.i.length&&ja(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Xi(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Xi(v,7):vl(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}Ir(4)}catch{}}var hc=class{constructor(c,g){this.g=c,this.map=g}};function Fi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Na(c){return c.h?1:c.g?c.g.size:0}function cl(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ka(c,g){c.g?c.g.add(g):c.h=g}function cn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Fi.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function hl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return K(c.i)}function nd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,T=0;T<v;T++)g.push(c[T]);return g}g=[],v=0;for(T in c)g[v++]=c[T];return g}function Ma(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const T in c)g[v++]=T;return g}}}function fl(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=Ma(c),T=nd(c),L=T.length,q=0;q<L;q++)g.call(void 0,T[q],v&&v[q],c)}var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function id(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var T=c[v].indexOf("="),L=null;if(0<=T){var q=c[v].substring(0,T);L=c[v].substring(T+1)}else q=c[v];g(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,Ps(this,c.j),this.o=c.o,this.g=c.g,Nr(this,c.s),this.l=c.l;var g=c.i,v=new $i;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Gi(this,v),this.m=c.m}else c&&(g=String(c).match(Ms))?(this.h=!1,Ps(this,g[1]||"",!0),this.o=Ln(g[2]||""),this.g=Ln(g[3]||"",!0),Nr(this,g[4]),this.l=Ln(g[5]||"",!0),Gi(this,g[6]||"",!0),this.m=Ln(g[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}Tt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Ls(g,dl,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ls(g,dl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ls(v,v.charAt(0)=="/"?rd:ml,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ls(v,Pa)),c.join("")};function bn(c){return new Tt(c)}function Ps(c,g,v){c.j=v?Ln(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Nr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Gi(c,g,v){g instanceof $i?(c.i=g,dc(c.i,c.h)):(v||(g=Ls(g,sd)),c.i=new $i(g,c.h))}function We(c,g,v){c.i.set(g,v)}function Vs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ln(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ls(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,fc),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var dl=/[#\/\?@]/g,ml=/[#\?:]/g,rd=/[#\?]/g,sd=/[#\?@]/g,Pa=/#/g;function $i(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Un(c){c.g||(c.g=new Map,c.h=0,c.i&&id(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=$i.prototype,i.add=function(c,g){Un(this),this.i=null,c=mi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Ki(c,g){Un(c),g=mi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Yi(c,g){return Un(c),g=mi(c,g),c.g.has(g)}i.forEach=function(c,g){Un(this),this.g.forEach(function(v,T){v.forEach(function(L){c.call(g,L,T,this)},this)},this)},i.na=function(){Un(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let T=0;T<g.length;T++){const L=c[T];for(let q=0;q<L.length;q++)v.push(g[T])}return v},i.V=function(c){Un(this);let g=[];if(typeof c=="string")Yi(this,c)&&(g=g.concat(this.g.get(mi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},i.set=function(c,g){return Un(this),this.i=null,c=mi(this,c),Yi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function pl(c,g,v){Ki(c,g),0<v.length&&(c.i=null,c.g.set(mi(c,g),K(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var T=g[v];const q=encodeURIComponent(String(T)),re=this.V(T);for(T=0;T<re.length;T++){var L=q;re[T]!==""&&(L+="="+encodeURIComponent(String(re[T]))),c.push(L)}}return this.i=c.join("&")};function mi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function dc(c,g){g&&!c.j&&(Un(c),c.i=null,c.g.forEach(function(v,T){var L=T.toLowerCase();T!=L&&(Ki(this,T),pl(this,L,v))},c)),c.j=g}function Us(c,g){const v=new Vn;if(m.Image){const T=new Image;T.onload=V(Bn,v,"TestLoadImage: loaded",!0,g,T),T.onerror=V(Bn,v,"TestLoadImage: error",!1,g,T),T.onabort=V(Bn,v,"TestLoadImage: abort",!1,g,T),T.ontimeout=V(Bn,v,"TestLoadImage: timeout",!1,g,T),m.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function ei(c,g){const v=new Vn,T=new AbortController,L=setTimeout(()=>{T.abort(),Bn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Bn(v,"TestPingServer: ok",!0,g):Bn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Bn(v,"TestPingServer: error",!1,g)})}function Bn(c,g,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Bs(){this.g=new xs}function pi(c,g,v){const T=v||"";try{fl(c,function(L,q){let re=L;y(L)&&(re=Zn(L)),g.push(T+q+"="+encodeURIComponent(re))})}catch(L){throw g.push(T+"type="+encodeURIComponent("_badmap")),L}}function kr(c){this.l=c.Ub||null,this.j=c.eb||!1}B(kr,il),kr.prototype.g=function(){return new Qi(this.l,this.j)},kr.prototype.i=(function(c){return function(){return c}})({});function Qi(c,g){dt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Qi,dt),i=Qi.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,yi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?gi(this):yi(this),this.readyState==3&&gl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,gi(this))},i.Qa=function(c){this.g&&(this.response=c,gi(this))},i.ga=function(){this.g&&gi(this)};function gi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,yi(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function yi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function yl(c){let g="";return Ve(c,function(v,T){g+=T,g+=":",g+=v,g+=`\r
`}),g}function Lt(c,g,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=yl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):We(c,g,v))}function $e(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B($e,dt);var Va=/^https?$/i,zs=["POST","PUT"];i=$e.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?rl(this.o):rl(hi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){mc(this,q);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(zs,g,void 0))||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of v)this.g.setRequestHeader(q,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){mc(this,q)}};function mc(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,La(c),vi(c)}function La(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),vi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),$e.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},i.bb=function(){Ua(this)};function Ua(c){if(c.h&&typeof f<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)en(c.Ea,0,c);else if(Ye(c,"readystatechange"),zn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var T;if(T=re===0){var L=String(c.D).match(Ms)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),T=!Va.test(L?L.toLowerCase():"")}v=T}if(v)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var q=2<zn(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",La(c)}}finally{vi(c)}}}}function vi(c,g){if(c.g){js(c);const v=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ye(c,"ready");try{v.onreadystatechange=T}catch{}}}function js(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ia(g)}};function pc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ad(c){const g={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(le(c[T]))continue;var v=k(c[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=g[L]||[];g[L]=q,q.push(v)}N(g,function(T){return T.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Ba(c){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hs("baseRetryDelayMs",5e3,c),this.cb=Hs("retryDelaySeedMs",1e4,c),this.Wa=Hs("forwardChannelMaxRetries",2,c),this.wa=Hs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(c&&c.concurrentRequestLimit),this.Da=new Bs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ba.prototype,i.la=8,i.G=1,i.connect=function(c,g,v,T){at(0),this.W=c,this.H=g||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=bc(this,null,this.W),ja(this)};function vl(c){if(gc(c),c.G==3){var g=c.U++,v=bn(c.I);if(We(v,"SID",c.K),We(v,"RID",g),We(v,"TYPE","terminate"),qs(c,v),g=new un(c,c.j,g),g.L=2,g.v=Vs(bn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Tc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ns(g)}Ec(c)}function za(c){c.g&&(Fs(c),c.g.cancel(),c.g=null)}function gc(c){za(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ha(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ja(c){if(!Oa(c.h)&&!c.s){c.s=!0;var g=c.Ga;ae||D(),me||(ae(),me=!0),qe.add(g,c),c.B=0}}function od(c,g){return Na(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=bt(A(c.Ga,c,g),El(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new un(this,this.j,c);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=yc(this,L,g),v=bn(this.I),We(v,"RID",c),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),qs(this,v),q&&(this.O?g="headers="+encodeURIComponent(String(yl(q)))+"&"+g:this.m&&Lt(v,this.m,q)),ka(this.h,L),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",g),We(v,"SID","null"),L.T=!0,Jn(L,v,null)):Jn(L,v,g),this.G=2}}else this.G==3&&(c?wl(this,c):this.i.length==0||Oa(this.h)||wl(this))};function wl(c,g){var v;g?v=g.l:v=c.U++;const T=bn(c.I);We(T,"SID",c.K),We(T,"RID",v),We(T,"AID",c.T),qs(c,T),c.m&&c.o&&Lt(T,c.m,c.o),v=new un(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=yc(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ka(c.h,v),Jn(v,T,g)}function qs(c,g){c.H&&Ve(c.H,function(v,T){We(g,T,v)}),c.l&&fl({},function(v,T){We(g,T,v)})}function yc(c,g,v){v=Math.min(c.i.length,v);var T=c.l?A(c.l.Na,c.l,c):null;e:{var L=c.i;let q=-1;for(;;){const re=["count="+v];q==-1?0<v?(q=L[0].g,re.push("ofs="+q)):q=0:re.push("ofs="+q);let Le=!0;for(let Dt=0;Dt<v;Dt++){let Ue=L[Dt].g;const Ut=L[Dt].map;if(Ue-=q,0>Ue)q=Math.max(0,L[Dt].g-100),Le=!1;else try{pi(Ut,re,"req"+Ue+"_")}catch{T&&T(Ut)}}if(Le){T=re.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,T}function vc(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ae||D(),me||(ae(),me=!0),qe.add(g,c),c.v=0}}function _l(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=bt(A(c.Fa,c),El(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=bt(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),za(this),wc(this))};function Fs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function wc(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=bn(c.qa);We(g,"RID","rpc"),We(g,"SID",c.K),We(g,"AID",c.T),We(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(g,"TO",c.ja),We(g,"TYPE","xmlhttp"),qs(c,g),c.m&&c.o&&Lt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Vs(bn(g)),v.m=null,v.P=!0,qi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,za(this),_l(this),at(19))};function Ha(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function _c(c,g){var v=null;if(c.g==g){Ha(c),Fs(c),c.g=null;var T=2}else if(cl(c.h,g))v=g.D,cn(c.h,g),T=1;else return;if(c.G!=0){if(g.o)if(T==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var L=c.B;T=Cr(),Ye(T,new It(T,v)),ja(c)}else vc(c);else if(L=g.s,L==3||L==0&&0<g.X||!(T==1&&od(c,g)||T==2&&_l(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),L){case 1:Xi(c,5);break;case 4:Xi(c,10);break;case 3:Xi(c,6);break;default:Xi(c,2)}}}function El(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Xi(c,g){if(c.j.info("Error code "+g),g==2){var v=A(c.fb,c),T=c.Xa;const L=!T;T=new Tt(T||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ps(T,"https"),Vs(T),L?Us(T.toString(),v):ei(T.toString(),v)}else at(2);c.G=0,c.l&&c.l.sa(g),Ec(c),gc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Ec(c){if(c.G=0,c.ka=[],c.l){const g=hl(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ka,g),F(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function bc(c,g,v){var T=v instanceof Tt?bn(v):new Tt(v);if(T.g!="")g&&(T.g=g+"."+T.g),Nr(T,T.s);else{var L=m.location;T=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var q=new Tt(null);T&&Ps(q,T),g&&(q.g=g),L&&Nr(q,L),v&&(q.l=v),T=q}return v=c.D,g=c.ya,v&&g&&We(T,v,g),We(T,"VER",c.la),qs(c,T),T}function Tc(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new $e(new kr({eb:v})):new $e(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ac(){}i=Ac.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function qa(){}qa.prototype.g=function(c,g){return new hn(c,g)};function hn(c,g){dt.call(this),this.g=new Ba(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!le(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!le(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new wi(this)}B(hn,dt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){vl(this.g)},hn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Zn(c),c=v);g.i.push(new hc(g.Ya++,c)),g.G==3&&ja(g)},hn.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,hn.aa.N.call(this)};function Sc(c){ji.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}B(Sc,ji);function Rc(){al.call(this),this.status=1}B(Rc,al);function wi(c){this.g=c}B(wi,Ac),wi.prototype.ua=function(){Ye(this.g,"a")},wi.prototype.ta=function(c){Ye(this.g,new Sc(c))},wi.prototype.sa=function(c){Ye(this.g,new Rc)},wi.prototype.ra=function(){Ye(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,E0=function(){return new qa},_0=function(){return Cr()},w0=ci,Dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,Bh=xr,Hi.COMPLETE="complete",v0=Hi,sl.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",dt.prototype.listen=dt.prototype.K,pu=sl,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,y0=$e}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const uE="@firebase/firestore",cE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Zp("@firebase/firestore");function wo(){return ga.logLevel}function ue(i,...e){if(ga.logLevel<=ke.DEBUG){const t=e.map(hg);ga.debug(`Firestore (${qo}): ${i}`,...t)}}function _r(i,...e){if(ga.logLevel<=ke.ERROR){const t=e.map(hg);ga.error(`Firestore (${qo}): ${i}`,...t)}}function No(i,...e){if(ga.logLevel<=ke.WARN){const t=e.map(hg);ga.warn(`Firestore (${qo}): ${i}`,...t)}}function hg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,b0(i,s,t)}function b0(i,e,t){let s=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw _r(s),new Error(s)}function Ke(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||b0(e,o,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class VI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class LI{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fs)}}),0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new T0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class UI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new UI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function xp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return hp(o)===hp(u)?Me(o,u):hp(o)?1:-1}return Me(i.length,e.length)}const HI=55296,qI=57343;function hp(i){const e=i.charCodeAt(0);return e>=HI&&e<=qI}function ko(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__name__";class Ri{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Me(e.length,t.length)}static compareSegments(e,t){const s=Ri.isNumericId(e),o=Ri.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(t)):xp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class ct extends Ri{construct(e,t,s){return new ct(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const FI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ri{construct(e,t,s){return new Wt(e,t,s)}static isValidIdentifier(e){return FI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fE}static keyField(){return new Wt([fE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ct.fromString(e))}static fromName(e){return new ye(ct.fromString(e).popFirst(5))}static empty(){return new ye(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(i,e,t){if(!t)throw new he(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $I(i,e,t,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function dE(i){if(!ye.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function A0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function dg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function ya(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dg(i);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(i,e){const t={typeString:i};return e&&(t.value=e),t}function qu(i,e){if(!A0(i))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new he(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=-62135596800,pE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*pE);return new st(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mE)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pE}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Ct("string",st._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new st(0,0))}static max(){return new Ae(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=-1;function KI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new st(t+1,0):new st(t,s));return new ds(o,ye.empty(),e)}function YI(i){return new ds(i.readTime,i.key,Iu)}class ds{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ds(Ae.min(),ye.empty(),Iu)}static max(){return new ds(Ae.max(),ye.empty(),Iu)}}function QI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==XI)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,s)=>{t(e)}))}static reject(e){return new J(((t,s)=>{s(e)}))}static waitFor(e){return new J(((t,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&t()}),(p=>s(p)))})),f=!0,u===o&&t()}))}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next((o=>o?J.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new J(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;t(e[y]).next((_=>{f[y]=_,++m,m===u&&s(f)}),(_=>o(_)))}}))}static doWhile(e,t){return new J(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function ZI(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Go(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Df.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=-1;function xf(i){return i==null}function nf(i){return i===0&&1/i==-1/0}function JI(i){return typeof i=="number"&&Number.isInteger(i)&&!nf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="";function eD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=gE(e)),e=tD(i.get(t),e);return gE(e)}function tD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case S0:t+="";break;default:t+=u}}return t}function gE(i){return i+S0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function _s(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function R0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dh(this.root,e,this.comparator,!0)}}class Dh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Xt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new On([])}unionWith(e){let t=new Pt(Wt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new C0("Invalid base64 string: "+u):u}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const nD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const t=nD.exec(i);if(Ke(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ps(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="server_timestamp",D0="__type__",x0="__previous_value__",O0="__local_write_time__";function pg(i){return(i?.mapValue?.fields||{})[D0]?.stringValue===I0}function Of(i){const e=i.mapValue.fields[x0];return pg(e)?Of(e):e}function Du(i){const e=ms(i.mapValue.fields[O0].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,t,s,o,u,f,m,p,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=_}}const rf="(default)";class xu{constructor(e,t){this.projectId=e,this.database=t||rf}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="__type__",rD="__max__",xh={mapValue:{}},k0="__vector__",sf="value";function gs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?pg(i)?4:aD(i)?9007199254740991:sD(i)?10:11:Ee(28295,{value:i})}function Mi(i,e){if(i===e)return!0;const t=gs(i);if(t!==gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Du(i).isEqual(Du(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ms(o.timestampValue),m=ms(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ps(o.bytesValue).isEqual(ps(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?nf(f)===nf(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return ko(i.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(yE(f)!==yE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Mi(f[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function Ou(i,e){return(i.values||[]).find((t=>Mi(t,e)))!==void 0}function Mo(i,e){if(i===e)return 0;const t=gs(i),s=gs(e);if(t!==s)return Me(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return wE(i.timestampValue,e.timestampValue);case 4:return wE(Du(i),Du(e));case 5:return xp(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=ps(u),p=ps(f);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const _=Me(m[y],p[y]);if(_!==0)return _}return Me(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Me(_t(u.latitude),_t(f.latitude));return m!==0?m:Me(_t(u.longitude),_t(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return _E(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[sf]?.arrayValue,_=p[sf]?.arrayValue,b=Me(y?.values?.length||0,_?.values?.length||0);return b!==0?b:_E(y,_)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===xh.mapValue&&f===xh.mapValue)return 0;if(u===xh.mapValue)return 1;if(f===xh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const A=xp(p[b],_[b]);if(A!==0)return A;const V=Mo(m[p[b]],y[_[b]]);if(V!==0)return V}return Me(p.length,_.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function wE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const t=ms(i),s=ms(e),o=Me(t.seconds,s.seconds);return o!==0?o:Me(t.nanos,s.nanos)}function _E(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Mo(t[o],s[o]);if(u)return u}return Me(t.length,s.length)}function Po(i){return Op(i)}function Op(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=ms(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return ps(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ye.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Op(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Op(t.fields[f])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function zh(i){switch(gs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Of(i);return e?16+zh(e):16;case 5:return 2*i.stringValue.length;case 6:return ps(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+zh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return _s(s.fields,((u,f)=>{o+=u.length+zh(f)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function Np(i){return!!i&&"integerValue"in i}function gg(i){return!!i&&"arrayValue"in i}function EE(i){return!!i&&"nullValue"in i}function bE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function jh(i){return!!i&&"mapValue"in i}function sD(i){return(i?.mapValue?.fields||{})[N0]?.stringValue===k0}function Eu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return _s(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Eu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eu(i.arrayValue.values[t]);return e}return{...i}}function aD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===rD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!jh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(t)}setAll(e){let t=Wt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=Eu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];jh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){_s(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new wn(Eu(this.value))}}function M0(i){const e=[];return _s(i.fields,((t,s)=>{const o=new Wt([t]);if(jh(s)){const u=M0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Ae.min(),Ae.min(),Ae.min(),wn.empty(),0)}static newFoundDocument(e,t,s,o){return new an(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new an(e,2,t,Ae.min(),Ae.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Ae.min(),Ae.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.position=e,this.inclusive=t}}function TE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),t.key):s=Mo(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function AE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Mi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t="asc"){this.field=e,this.dir=t}}function oD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{}class kt extends P0{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new uD(e,t,s):t==="array-contains"?new fD(e,s):t==="in"?new dD(e,s):t==="not-in"?new mD(e,s):t==="array-contains-any"?new pD(e,s):new kt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new cD(e,s):new hD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Mo(t,this.value)):t!==null&&gs(this.value)===gs(t)&&this.matchesComparison(Mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends P0{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Pi(e,t)}matches(e){return V0(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V0(i){return i.op==="and"}function L0(i){return lD(i)&&V0(i)}function lD(i){for(const e of i.filters)if(e instanceof Pi)return!1;return!0}function kp(i){if(i instanceof kt)return i.field.canonicalString()+i.op.toString()+Po(i.value);if(L0(i))return i.filters.map((e=>kp(e))).join(",");{const e=i.filters.map((t=>kp(t))).join(",");return`${i.op}(${e})`}}function U0(i,e){return i instanceof kt?(function(s,o){return o instanceof kt&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)})(i,e):i instanceof Pi?(function(s,o){return o instanceof Pi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&U0(f,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function B0(i){return i instanceof kt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Po(t.value)}`})(i):i instanceof Pi?(function(t){return t.op.toString()+" {"+t.getFilters().map(B0).join(" ,")+"}"})(i):"Filter"}class uD extends kt{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class cD extends kt{constructor(e,t){super(e,"in",t),this.keys=z0("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class hD extends kt{constructor(e,t){super(e,"not-in",t),this.keys=z0("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function z0(i,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class fD extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gg(t)&&Ou(t.arrayValue,this.value)}}class dD extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ou(this.value.arrayValue,t)}}class mD extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ou(this.value.arrayValue,t)}}class pD extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Ou(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function SE(i,e=null,t=[],s=[],o=null,u=null,f=null){return new gD(i,e,t,s,o,u,f)}function yg(i){const e=Se(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>kp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Po(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Po(s))).join(",")),e.Te=t}return e.Te}function vg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!oD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!U0(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!AE(i.startAt,e.startAt)&&AE(i.endAt,e.endAt)}function Mp(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yD(i,e,t,s,o,u,f,m){return new Nf(i,e,t,s,o,u,f,m)}function wg(i){return new Nf(i)}function RE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vD(i){return i.collectionGroup!==null}function bu(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Wt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new of(u,s))})),t.has(Wt.keyField().canonicalString())||e.Ie.push(new of(Wt.keyField(),s))}return e.Ie}function Di(i){const e=Se(i);return e.Ee||(e.Ee=wD(e,bu(i))),e.Ee}function wD(i,e){if(i.limitType==="F")return SE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new of(o.field,u)}));const t=i.endAt?new af(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new af(i.startAt.position,i.startAt.inclusive):null;return SE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Pp(i,e,t){return new Nf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function kf(i,e){return vg(Di(i),Di(e))&&i.limitType===e.limitType}function j0(i){return`${yg(Di(i))}|lt:${i.limitType}`}function _o(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>B0(o))).join(", ")}]`),xf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Po(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Po(o))).join(",")),`Target(${s})`})(Di(i))}; limitType=${i.limitType})`}function Mf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of bu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=TE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,bu(s),o)||s.endAt&&!(function(f,m,p){const y=TE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,bu(s),o))})(i,e)}function _D(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function H0(i){return(e,t)=>{let s=!1;for(const o of bu(i)){const u=ED(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ED(i,e,t){const s=i.field.isKeyField()?ye.comparator(e.key,t.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Mo(p,y):Ee(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return R0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new ht(ye.comparator);function Er(){return bD}const q0=new ht(ye.comparator);function gu(...i){let e=q0;for(const t of i)e=e.insert(t.key,t);return e}function F0(i){let e=q0;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ua(){return Tu()}function G0(){return Tu()}function Tu(){return new Ea((i=>i.toString()),((i,e)=>i.isEqual(e)))}const TD=new ht(ye.comparator),AD=new Pt(ye.comparator);function Pe(...i){let e=AD;for(const t of i)e=e.add(t);return e}const SD=new Pt(Me);function RD(){return SD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function $0(i){return{integerValue:""+i}}function CD(i,e){return JI(e)?$0(e):_g(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this._=void 0}}function ID(i,e,t){return i instanceof lf?(function(o,u){const f={fields:{[D0]:{stringValue:I0},[O0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pg(u)&&(u=Of(u)),u&&(f.fields[x0]=u),{mapValue:f}})(t,e):i instanceof Nu?Y0(i,e):i instanceof ku?Q0(i,e):(function(o,u){const f=K0(o,u),m=CE(f)+CE(o.Ae);return Np(f)&&Np(o.Ae)?$0(m):_g(o.serializer,m)})(i,e)}function DD(i,e,t){return i instanceof Nu?Y0(i,e):i instanceof ku?Q0(i,e):t}function K0(i,e){return i instanceof uf?(function(s){return Np(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class lf extends Pf{}class Nu extends Pf{constructor(e){super(),this.elements=e}}function Y0(i,e){const t=X0(e);for(const s of i.elements)t.some((o=>Mi(o,s)))||t.push(s);return{arrayValue:{values:t}}}class ku extends Pf{constructor(e){super(),this.elements=e}}function Q0(i,e){let t=X0(e);for(const s of i.elements)t=t.filter((o=>!Mi(o,s)));return{arrayValue:{values:t}}}class uf extends Pf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function CE(i){return _t(i.integerValue||i.doubleValue)}function X0(i){return gg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function xD(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Nu&&o instanceof Nu||s instanceof ku&&o instanceof ku?ko(s.elements,o.elements,Mi):s instanceof uf&&o instanceof uf?Mi(s.Ae,o.Ae):s instanceof lf&&o instanceof lf})(i.transform,e.transform)}class OD{constructor(e,t){this.version=e,this.transformResults=t}}class xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Vf{}function W0(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new J0(i.key,xi.none()):new Fu(i.key,i.data,xi.none());{const t=i.data,s=wn.empty();let o=new Pt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Es(i.key,s,new On(o.toArray()),xi.none())}}function ND(i,e,t){i instanceof Fu?(function(o,u,f){const m=o.value.clone(),p=DE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,t):i instanceof Es?(function(o,u,f){if(!Hh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=DE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Z0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,t):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,t)}function Au(i,e,t,s){return i instanceof Fu?(function(u,f,m,p){if(!Hh(u.precondition,f))return m;const y=u.value.clone(),_=xE(u.fieldTransforms,p,f);return y.setAll(_),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(i,e,t,s):i instanceof Es?(function(u,f,m,p){if(!Hh(u.precondition,f))return m;const y=xE(u.fieldTransforms,p,f),_=f.data;return _.setAll(Z0(u)),_.setAll(y),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,t,s):(function(u,f,m){return Hh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,t)}function kD(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=K0(s.transform,o||null);u!=null&&(t===null&&(t=wn.empty()),t.set(s.field,u))}return t||null}function IE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ko(s,o,((u,f)=>xD(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Fu extends Vf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends Vf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Z0(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function DE(i,e,t){const s=new Map;Ke(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,DD(f,m,t[o]))}return s}function xE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,f=t.data.field(o.field);s.set(o.field,ID(u,f,e))}return s}class J0 extends Vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MD extends Vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ND(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Au(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Au(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=G0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const p=W0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,((t,s)=>IE(t,s)))&&ko(this.baseMutations,e.baseMutations,((t,s)=>IE(t,s)))}}class Eg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return TD})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Eg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,ze;function UD(i){switch(i){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function eT(i){if(i===void 0)return _r("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Rt.OK:return ne.OK;case Rt.CANCELLED:return ne.CANCELLED;case Rt.UNKNOWN:return ne.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ne.INTERNAL;case Rt.UNAVAILABLE:return ne.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ne.NOT_FOUND;case Rt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Rt.ABORTED:return ne.ABORTED;case Rt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Rt.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:i})}}(ze=Rt||(Rt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new hs([4294967295,4294967295],0);function OE(i){const e=BD().encode(i),t=new g0;return t.update(e),new Uint8Array(t.digest())}function NE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hs([t,s],0),new hs([o,u],0)]}class bg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new yu(`Invalid padding: ${t}`);if(s<0)throw new yu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new yu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=hs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(hs.fromNumber(s)));return o.compare(zD)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=OE(e),[s,o]=NE(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new bg(u,o,t);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const t=OE(e),[s,o]=NE(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Lf(Ae.min(),o,new ht(Me),Er(),Pe())}}class Gu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Gu(s,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class tT{constructor(e,t){this.targetId=e,this.Ce=t}}class nT{constructor(e,t,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class kE{constructor(){this.ve=0,this.Fe=ME(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),t=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Gu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=ME()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Er(),this.Je=Oh(),this.He=Oh(),this.Ye=new ht(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Mp(u))if(s===0){const f=new ye(u.path);this.et(t,f,an.newNoDocument(f,Ae.min()))}else Ke(s===1,20013,{expectedCount:s});else{const f=this._t(t);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=ps(s).toUint8Array()}catch(p){if(p instanceof C0)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new bg(f,o,u)}catch(p){return No(p instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Mp(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,an.newNoDocument(p,e))}u.Be&&(t.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Lf(e,t,this.Ye,this.je,s);return this.je=Er(),this.Je=Oh(),this.He=Oh(),this.Ye=new ht(Me),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new kE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Pt(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Pt(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Oh(){return new ht(ye.comparator)}function ME(){return new ht(ye.comparator)}const HD={asc:"ASCENDING",desc:"DESCENDING"},qD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FD={and:"AND",or:"OR"};class GD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vp(i,e){return i.useProto3Json||xf(e)?e:{value:e}}function cf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function $D(i,e){return cf(i,e.toTimestamp())}function Oi(i){return Ke(!!i,49232),Ae.fromTimestamp((function(t){const s=ms(t);return new st(s.seconds,s.nanos)})(i))}function Tg(i,e){return Lp(i,e).canonicalString()}function Lp(i,e){const t=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function rT(i){const e=ct.fromString(i);return Ke(uT(e),10190,{key:e.toString()}),e}function Up(i,e){return Tg(i.databaseId,e.path)}function fp(i,e){const t=rT(e);if(t.get(1)!==i.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(aT(t))}function sT(i,e){return Tg(i.databaseId,e)}function KD(i){const e=rT(i);return e.length===4?ct.emptyPath():aT(e)}function Bp(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function aT(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function PE(i,e,t){return{name:Up(i,e),fields:t.value.mapValue.fields}}function YD(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,_){return y.useProto3Json?(Ke(_===void 0||typeof _=="string",58123),Jt.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Jt.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const _=y.code===void 0?ne.UNKNOWN:eT(y.code);return new he(_,y.message||"")})(f);t=new nT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fp(i,s.document.name),u=Oi(s.document.updateTime),f=s.document.createTime?Oi(s.document.createTime):Ae.min(),m=new wn({mapValue:{fields:s.document.fields}}),p=an.newFoundDocument(o,u,f,m),y=s.targetIds||[],_=s.removedTargetIds||[];t=new qh(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fp(i,s.document),u=s.readTime?Oi(s.readTime):Ae.min(),f=an.newNoDocument(o,u),m=s.removedTargetIds||[];t=new qh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fp(i,s.document),u=s.removedTargetIds||[];t=new qh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new LD(o,u),m=s.targetId;t=new tT(m,f)}}return t}function QD(i,e){let t;if(e instanceof Fu)t={update:PE(i,e.key,e.value)};else if(e instanceof J0)t={delete:Up(i,e.key)};else if(e instanceof Es)t={update:PE(i,e.key,e.data),updateMask:rx(e.fieldMask)};else{if(!(e instanceof MD))return Ee(16599,{Vt:e.type});t={verify:Up(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof lf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ku)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uf)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:$D(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),t}function XD(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((t=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(Ae.min())&&(f=Oi(u)),new OD(f,o.transformResults||[])})(t,e)))):[]}function WD(i,e){return{documents:[sT(i,e.path)]}}function ZD(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=sT(i,o);const u=(function(y){if(y.length!==0)return lT(Pi.create(y,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((_=>(function(A){return{field:Eo(A.field),direction:tx(A.dir)}})(_)))})(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=Vp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function JD(i){let e=KD(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=(function(b){const A=oT(b);return A instanceof Pi&&L0(A)?A.getFilters():[A]})(t.where));let f=[];t.orderBy&&(f=(function(b){return b.map((A=>(function(B){return new of(bo(B.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(A)))})(t.orderBy));let m=null;t.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,xf(A)?null:A})(t.limit));let p=null;t.startAt&&(p=(function(b){const A=!!b.before,V=b.values||[];return new af(V,A)})(t.startAt));let y=null;return t.endAt&&(y=(function(b){const A=!b.before,V=b.values||[];return new af(V,A)})(t.endAt)),yD(e,o,f,u,m,"F",p,y)}function ex(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oT(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=bo(t.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(t.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=bo(t.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=bo(t.unaryFilter.field);return kt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(t){return kt.create(bo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Pi.create(t.compositeFilter.filters.map((s=>oT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(i):Ee(30097,{filter:i})}function tx(i){return HD[i]}function nx(i){return qD[i]}function ix(i){return FD[i]}function Eo(i){return{fieldPath:i.canonicalString()}}function bo(i){return Wt.fromServerFormat(i.fieldPath)}function lT(i){return i instanceof kt?(function(t){if(t.op==="=="){if(bE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(EE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(EE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:nx(t.op),value:t.value}}})(i):i instanceof Pi?(function(t){const s=t.getFilters().map((o=>lT(o)));return s.length===1?s[0]:{compositeFilter:{op:ix(t.op),filters:s}}})(i):Ee(54877,{filter:i})}function rx(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function uT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,t,s,o,u=Ae.min(),f=Ae.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.yt=e}}function ax(i){const e=JD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.Cn=new lx}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(ds.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class lx{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Pt(ct.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(cT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vo(0)}static cr(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="LruGarbageCollector",ux=1048576;function UE([i,e],[t,s]){const o=Me(i,t);return o===0?Me(e,s):o}class cx{constructor(e){this.Ir=e,this.buffer=new Pt(UE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();UE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hx{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(LE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Go(t)?ue(LE,"Ignoring IndexedDB error during garbage collection: ",t):await Fo(t)}await this.Vr(3e5)}))}}class fx{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Df.ce);const s=new cx(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(VE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,f,m,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,t)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),wo()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function dx(i,e){return new fx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.changes=new Ea((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Au(s.mutation,o,On.empty(),st.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Pe()){const o=ua();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let f=gu();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,t){const s=ua();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Pe())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{t.set(f,m)}))}))}computeViews(e,t,s,o){let u=Er();const f=Tu(),m=(function(){return Tu()})();return t.forEach(((p,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Es)?u=u.insert(y.key,y):_!==void 0?(f.set(y.key,_.mutation.getFieldMask()),Au(_.mutation,y,_.mutation.getFieldMask(),st.now())):f.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,_)=>f.set(y,_))),t.forEach(((y,_)=>m.set(y,new px(_,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=Tu();let o=new ht(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let _=s.get(p)||On.empty();_=m.applyToLocalView(y,_),s.set(p,_);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,_=p.value,b=G0();_.forEach((A=>{if(!u.has(A)){const V=W0(t.get(A),s.get(A));V!==null&&b.set(A,V),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return J.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):J.resolve(ua());let m=Iu,p=u;return f.next((y=>J.forEach(y,((_,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{p=p.insert(_,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Pe()))).next((_=>({batchId:m,changes:F0(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((s=>{let o=gu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=gu();return this.indexManager.getCollectionParents(e,u).next((m=>J.forEach(m,(p=>{const y=(function(b,A){return new Nf(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((_=>{_.forEach(((b,A)=>{f=f.insert(b,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const _=y.getKey();f.get(_)===null&&(f=f.insert(_,an.newInvalidDocument(_)))}));let m=gu();return f.forEach(((p,y)=>{const _=u.get(p);_!==void 0&&Au(_.mutation,y,On.empty(),st.now()),Mf(t,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:ax(o.bundledQuery),readTime:Oi(o.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.overlays=new ht(ye.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ua();return J.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=ua(),u=t.length+1,f=new ye(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ht(((y,_)=>y-_));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let _=u.get(y.largestBatchId);_===null&&(_=ua(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const m=ua(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,_)=>m.set(y,_))),!(m.size()>=o)););return J.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new VD(t,s));let u=this.qr.get(t);u===void 0&&(u=Pe(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.Qr=new Pt(Ht.$r),this.Ur=new Pt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Ht(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Ht(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ye(new ct([])),s=new Ht(t,e),o=new Ht(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new ct([])),s=new Ht(t,e),o=new Ht(t,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const t=new Ht(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Ht.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new PD(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?mg:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Pt(Me);return t.forEach((o=>{const u=new Ht(o,0),f=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Ht(new ye(u),0);let m=new Pt(Me);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),J.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(t.mutations,(o=>{const u=new Ht(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Ht(t,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.ri=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let s=Er();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Er();const f=t.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||QI(YI(_),s)<=0||(o.has(_.key)||Mf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ii(e,t){return J.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new bx(this)}getSize(e){return J.resolve(this.size)}}class bx extends mx{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.persistence=e,this.si=new Ea((t=>yg(t)),vg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Ag,this.targetCount=0,this.ai=Vo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Vo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Df(0),this.li=!1,this.li=!0,this.hi=new wx,this.referenceDelegate=e(this),this.Pi=new Tx(this),this.indexManager=new ox,this.remoteDocumentCache=(function(o){return new Ex(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new sx(t),this.Ii=new yx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new _x(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new Ax(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class Ax extends WI{constructor(e){super(),this.currentSequenceNumber=e}}class Sg{constructor(e){this.persistence=e,this.Ri=new Ag,this.Vi=null}static mi(e){return new Sg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class hf{constructor(e,t){this.persistence=e,this.pi=new Ea((s=>eD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=dx(this,t)}static mi(e,t){return new hf(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?J.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,t).next((m=>{m||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zh(e.data.value)),t}br(e,t,s){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Pe(),o=Pe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Rg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return W1()?8:ZI(on())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Sx;return this.Ss(e,t,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,t,f,m.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(wo()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(wo()<=ke.DEBUG&&ue("QueryEngine","Query:",_o(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(wo()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(t))):J.resolve())}ys(e,t){if(RE(t))return J.resolve(null);let s=Di(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Pp(t,null,"F"),s=Di(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(t,m);return this.Cs(t,y,f,p.readTime)?this.ys(e,Pp(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ws(e,t,s,o){return RE(t)||o.isEqual(Ae.min())?J.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(t,u);return this.Cs(t,f,s,o)?J.resolve(null):(wo()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.vs(e,f,t,KI(o,Iu)).next((m=>m)))}))}Ds(e,t){let s=new Pt(H0(e));return t.forEach(((o,u)=>{Mf(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return wo()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",_o(t)),this.ps.getDocumentsMatchingQuery(e,t,ds.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",Cx=3e8;class Ix{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ht(Me),this.xs=new Ea((u=>yg(u)),vg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Dx(i,e,t,s){return new Ix(i,e,t,s)}async function fT(i,e){const t=Se(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Pe();for(const y of o){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of u){m.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function xx(i,e){const t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,_){const b=y.batch,A=b.keys();let V=J.resolve();return A.forEach((B=>{V=V.next((()=>_.getEntry(p,B))).next((K=>{const F=y.docVersions.get(B);Ke(F!==null,48541),K.version.compareTo(F)<0&&(b.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),_.addEntry(K)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function dT(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Ox(i,e){const t=Se(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((_,b)=>{const A=o.get(b);if(!A)return;m.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(u,_.addedDocuments,b))));let V=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?V=V.withResumeToken(Jt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,s)),o=o.insert(b,V),(function(K,F,ee){return K.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Cx?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(A,V,_)&&m.push(t.Pi.updateTargetData(u,V))}));let p=Er(),y=Pe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(Nx(u,f,e.documentUpdates).next((_=>{p=_.ks,y=_.qs}))),!s.isEqual(Ae.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next((b=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(_)}return J.waitFor(m).next((()=>f.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(t.Ms=o,u)))}function Nx(i,e,t){let s=Pe(),o=Pe();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=Er();return t.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Cg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function kx(i,e){const t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=mg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Mx(i,e){const t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,J.resolve(o)):t.Pi.allocateTargetId(s).next((f=>(o=new ss(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function zp(i,e,t){const s=Se(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Go(f))throw f;ue(Cg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function BE(i,e,t){const s=Se(i);let o=Ae.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,_){const b=Se(p),A=b.xs.get(_);return A!==void 0?J.resolve(b.Ms.get(A)):b.Pi.getTargetData(y,_)})(s,f,Di(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,t?o:Ae.min(),t?u:Pe()))).next((m=>(Px(s,_D(e),m),{documents:m,Qs:u})))))}function Px(i,e,t){let s=i.Os.get(e)||Ae.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class zE{constructor(){this.activeTargetIds=RD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vx{constructor(){this.Mo=new zE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="ConnectivityMonitor";class HE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(jE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(jE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function jp(){return Nh===null?Nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="RestConnection",Ux={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===rf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const f=jp(),m=this.zo(e,t.toUriEncodedString());ue(dp,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),_=zo(y);return this.Jo(e,m,p,s,_).then((b=>(ue(dp,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw No(dp,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,t,s,o,u,f){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=Ux[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class jx extends Bx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const f=jp();return new Promise(((m,p)=>{const y=new y0;y.setWithCredentials(!0),y.listenOnce(v0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Bh.NO_ERROR:const b=y.getResponseJson();ue(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case Bh.TIMEOUT:ue(rn,`RPC '${e}' ${f} timed out`),p(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const A=y.getStatus();if(ue(rn,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const B=V?.error;if(B&&B.status&&B.message){const K=(function(ee){const le=ee.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(le)>=0?le:ne.UNKNOWN})(B.status);p(new he(K,B.message))}else p(new he(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(rn,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(o);ue(rn,`RPC '${e}' ${f} sending request:`,o),y.send(t,"POST",_,s,15)}))}T_(e,t,s){const o=jp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=E0(),m=_0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ue(rn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=f.createWebChannel(_,p);this.I_(b);let A=!1,V=!1;const B=new zx({Yo:F=>{V?ue(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(ue(rn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),ue(rn,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Zo:()=>b.close()}),K=(F,ee,le)=>{F.listen(ee,(se=>{try{le(se)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return K(b,pu.EventType.OPEN,(()=>{V||(ue(rn,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),K(b,pu.EventType.CLOSE,(()=>{V||(V=!0,ue(rn,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(b))})),K(b,pu.EventType.ERROR,(F=>{V||(V=!0,No(rn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),B.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),K(b,pu.EventType.MESSAGE,(F=>{if(!V){const ee=F.data[0];Ke(!!ee,16349);const le=ee,se=le?.error||le[0]?.error;if(se){ue(rn,`RPC '${e}' stream ${o} received error:`,se);const Re=se.status;let de=(function(S){const C=Rt[S];if(C!==void 0)return eT(C)})(Re),Ve=se.message;de===void 0&&(de=ne.INTERNAL,Ve="Unknown error status: "+Re+" with message "+se.message),V=!0,B.a_(new he(de,Ve)),b.close()}else ue(rn,`RPC '${e}' stream ${o} received:`,ee),B.u_(ee)}})),K(m,w0.STAT_EVENT,(F=>{F.stat===Dp.PROXY?ue(rn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Dp.NOPROXY&&ue(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(i){return new GD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="PersistentStream";class pT{constructor(e,t,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(qE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(qE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hx extends pT{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=YD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Oi(f.readTime):Ae.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Bp(this.serializer),t.addTarget=(function(u,f){let m;const p=f.target;if(m=Mp(p)?{documents:WD(u,p)}:{query:ZD(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=iT(u,f.resumeToken);const y=Vp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=cf(u,f.snapshotVersion.toTimestamp());const y=Vp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=ex(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Bp(this.serializer),t.removeTarget=e,this.q_(t)}}class qx extends pT{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=XD(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Bp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>QD(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{}class Gx extends Fx{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Lp(t,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Lp(t,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ne.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $x{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class Kx{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ba(this)&&(ue(va,"Restarting streams for network reachability change."),await(async function(p){const y=Se(p);y.Ea.add(4),await $u(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Bf(y)})(this))}))})),this.Ra=new $x(s,o)}}async function Bf(i){if(ba(i))for(const e of i.da)await e(!0)}async function $u(i){for(const e of i.da)await e(!1)}function gT(i,e){const t=Se(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Og(t)?xg(t):$o(t).O_()&&Dg(t,e))}function Ig(i,e){const t=Se(i),s=$o(t);t.Ia.delete(e),s.O_()&&yT(t,e),t.Ia.size===0&&(s.O_()?s.L_():ba(t)&&t.Ra.set("Unknown"))}function Dg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$o(i).Y_(e)}function yT(i,e){i.Va.Ue(e),$o(i).Z_(e)}function xg(i){i.Va=new jD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),$o(i).start(),i.Ra.ua()}function Og(i){return ba(i)&&!$o(i).x_()&&i.Ia.size>0}function ba(i){return Se(i).Ea.size===0}function vT(i){i.Va=void 0}async function Yx(i){i.Ra.set("Online")}async function Qx(i){i.Ia.forEach(((e,t)=>{Dg(i,e)}))}async function Xx(i,e){vT(i),Og(i)?(i.Ra.ha(e),xg(i)):i.Ra.set("Unknown")}async function Wx(i,e,t){if(i.Ra.set("Online"),e instanceof nT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ue(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ff(i,s)}else if(e instanceof qh?i.Va.Ze(e):e instanceof tT?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ae.min()))try{const s=await dT(i.localStore);t.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(y);_&&u.Ia.set(y,_.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Jt.EMPTY_BYTE_STRING,_.snapshotVersion)),yT(u,p);const b=new ss(_.target,p,y,_.sequenceNumber);Dg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){ue(va,"Failed to raise snapshot:",s),await ff(i,s)}}async function ff(i,e,t){if(!Go(e))throw e;i.Ea.add(1),await $u(i),i.Ra.set("Offline"),t||(t=()=>dT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(va,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Bf(i)}))}function wT(i,e){return e().catch((t=>ff(i,t,e)))}async function zf(i){const e=Se(i),t=ys(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mg;for(;Zx(e);)try{const o=await kx(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,Jx(e,o)}catch(o){await ff(e,o)}_T(e)&&ET(e)}function Zx(i){return ba(i)&&i.Ta.length<10}function Jx(i,e){i.Ta.push(e);const t=ys(i);t.O_()&&t.X_&&t.ea(e.mutations)}function _T(i){return ba(i)&&!ys(i).x_()&&i.Ta.length>0}function ET(i){ys(i).start()}async function eO(i){ys(i).ra()}async function tO(i){const e=ys(i);for(const t of i.Ta)e.ea(t.mutations)}async function nO(i,e,t){const s=i.Ta.shift(),o=Eg.from(s,e,t);await wT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await zf(i)}async function iO(i,e){e&&ys(i).X_&&await(async function(s,o){if((function(f){return UD(f)&&f!==ne.ABORTED})(o.code)){const u=s.Ta.shift();ys(s).B_(),await wT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await zf(s)}})(i,e),_T(i)&&ET(i)}async function FE(i,e){const t=Se(i);t.asyncQueue.verifyOperationInProgress(),ue(va,"RemoteStore received new credentials");const s=ba(t);t.Ea.add(3),await $u(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Bf(t)}async function rO(i,e){const t=Se(i);e?(t.Ea.delete(2),await Bf(t)):e||(t.Ea.add(2),await $u(t),t.Ra.set("Unknown"))}function $o(i){return i.ma||(i.ma=(function(t,s,o){const u=Se(t);return u.sa(),new Hx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:Yx.bind(null,i),t_:Qx.bind(null,i),r_:Xx.bind(null,i),H_:Wx.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Og(i)?xg(i):i.Ra.set("Unknown")):(await i.ma.stop(),vT(i))}))),i.ma}function ys(i){return i.fa||(i.fa=(function(t,s,o){const u=Se(t);return u.sa(),new qx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:eO.bind(null,i),r_:iO.bind(null,i),ta:tO.bind(null,i),na:nO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await zf(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(va,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new Ng(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Go(i))return new he(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=gu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.ga=new ht(ye.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Lo{constructor(e,t,s,o,u,f,m,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach((m=>{f.push({type:0,doc:m})})),new Lo(e,t,Co.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aO{constructor(){this.queries=$E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=$E(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function $E(){return new Ea((i=>j0(i)),kf)}async function oO(i,e){const t=Se(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new sO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=kg(f,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Mg(t)}async function lO(i,e){const t=Se(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function uO(i,e){const t=Se(i);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Mg(t)}function cO(i,e,t){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function Mg(i){i.Ca.forEach((e=>{e.next()}))}var Hp,KE;(KE=Hp||(Hp={})).Ma="default",KE.Cache="cache";class hO{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.key=e}}class TT{constructor(e){this.key=e}}class fO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=H0(e),this.tu=new Co(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new GE,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,b)=>{const A=o.get(_),V=Mf(this.query,b)?b:null,B=!!A&&this.mutatedKeys.has(A.key),K=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;A&&V?A.data.isEqual(V.data)?B!==K&&(s.track({type:3,doc:V}),F=!0):this.su(A,V)||(s.track({type:2,doc:V}),F=!0,(p&&this.eu(V,p)>0||y&&this.eu(V,y)<0)&&(m=!0)):!A&&V?(s.track({type:0,doc:V}),F=!0):A&&!V&&(s.track({type:1,doc:A}),F=!0,(p||y)&&(m=!0)),F&&(V?(f=f.add(V),u=K?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,b)=>(function(V,B){const K=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:F})}};return K(V)-K(B)})(_.type,b.type)||this.eu(_.doc,b.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new Lo(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new TT(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new bT(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Pe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pg="SyncEngine";class dO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class mO{constructor(e){this.key=e,this.hu=!1}}class pO{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ea((m=>j0(m)),kf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ye.comparator),this.Au=new Map,this.Ru=new Ag,this.Vu={},this.mu=new Map,this.fu=Vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gO(i,e,t=!0){const s=DT(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await AT(s,e,t,!0),o}async function yO(i,e){const t=DT(i);await AT(t,e,!0,!1)}async function AT(i,e,t,s){const o=await Mx(i.localStore,Di(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await vO(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&t&&gT(i.remoteStore,o),m}async function vO(i,e,t,s,o){i.pu=(b,A,V)=>(async function(K,F,ee,le){let se=F.view.ru(ee);se.Cs&&(se=await BE(K.localStore,F.query,!1).then((({documents:N})=>F.view.ru(N,se))));const Re=le&&le.targetChanges.get(F.targetId),de=le&&le.targetMismatches.get(F.targetId)!=null,Ve=F.view.applyChanges(se,K.isPrimaryClient,Re,de);return QE(K,F.targetId,Ve.au),Ve.snapshot})(i,b,A,V);const u=await BE(i.localStore,e,!0),f=new fO(e,u.Qs),m=f.ru(u.documents),p=Gu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,p);QE(i,t,y.au);const _=new dO(e,t,f);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),y.snapshot}async function wO(i,e,t){const s=Se(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!kf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Ig(s.remoteStore,o.targetId),qp(s,o.targetId)})).catch(Fo)):(qp(s,o.targetId),await zp(s.localStore,o.targetId,!0))}async function _O(i,e){const t=Se(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ig(t.remoteStore,s.targetId))}async function EO(i,e,t){const s=IO(i);try{const o=await(function(f,m){const p=Se(f),y=st.now(),_=m.reduce(((V,B)=>V.add(B.key)),Pe());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let B=Er(),K=Pe();return p.Ns.getEntries(V,_).next((F=>{B=F,B.forEach(((ee,le)=>{le.isValidDocument()||(K=K.add(ee))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,B))).next((F=>{b=F;const ee=[];for(const le of m){const se=kD(le,b.get(le.key).overlayedDocument);se!=null&&ee.push(new Es(le.key,se,M0(se.value.mapValue),xi.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,ee,m)})).next((F=>{A=F;const ee=F.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(V,F.batchId,ee)}))})).then((()=>({batchId:A.batchId,changes:F0(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ht(Me)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,t),await Ku(s,o.changes),await zf(s.remoteStore)}catch(o){const u=kg(o,"Failed to persist write");t.reject(u)}}async function ST(i,e){const t=Se(i);try{const s=await Ox(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=t.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await Ku(t,s,e)}catch(s){await Fo(s)}}function YE(i,e,t){const s=Se(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Se(f);p.onlineState=m;let y=!1;p.queries.forEach(((_,b)=>{for(const A of b.Sa)A.va(m)&&(y=!0)})),y&&Mg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bO(i,e,t){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(ye.comparator);f=f.insert(u,an.newNoDocument(u,Ae.min()));const m=Pe().add(u),p=new Lf(Ae.min(),new Map,new ht(Me),f,m);await ST(s,p),s.du=s.du.remove(u),s.Au.delete(e),Vg(s)}else await zp(s.localStore,e,!1).then((()=>qp(s,e,t))).catch(Fo)}async function TO(i,e){const t=Se(i),s=e.batch.batchId;try{const o=await xx(t.localStore,e);CT(t,s,null),RT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ku(t,o)}catch(o){await Fo(o)}}async function AO(i,e,t){const s=Se(i);try{const o=await(function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return p.mutationQueue.lookupMutationBatch(y,m).next((b=>(Ke(b!==null,37113),_=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>p.localDocuments.getDocuments(y,_)))}))})(s.localStore,e);CT(s,e,t),RT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ku(s,o)}catch(o){await Fo(o)}}function RT(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function CT(i,e,t){const s=Se(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function qp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||IT(i,s)}))}function IT(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Ig(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Vg(i))}function QE(i,e,t){for(const s of t)s instanceof bT?(i.Ru.addReference(s.key,e),SO(i,s)):s instanceof TT?(ue(Pg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||IT(i,s.key)):Ee(19791,{wu:s})}function SO(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ue(Pg,"New document in limbo: "+t),i.Eu.add(s),Vg(i))}function Vg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ye(ct.fromString(e)),s=i.fu.next();i.Au.set(s,new mO(t)),i.du=i.du.insert(t,s),gT(i.remoteStore,new ss(Di(wg(t.path)),s,"TargetPurposeLimboResolution",Df.ce))}}async function Ku(i,e,t){const s=Se(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const _=y?!y.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(y){o.push(y);const _=Rg.As(p.targetId,y);u.push(_)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const _=Se(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>J.forEach(y,(A=>J.forEach(A.Es,(V=>_.persistence.referenceDelegate.addReference(b,A.targetId,V))).next((()=>J.forEach(A.ds,(V=>_.persistence.referenceDelegate.removeReference(b,A.targetId,V)))))))))}catch(b){if(!Go(b))throw b;ue(Cg,"Failed to update sequence numbers: "+b)}for(const b of y){const A=b.targetId;if(!b.fromCache){const V=_.Ms.get(A),B=V.snapshotVersion,K=V.withLastLimboFreeSnapshotVersion(B);_.Ms=_.Ms.insert(A,K)}}})(s.localStore,u))}async function RO(i,e){const t=Se(i);if(!t.currentUser.isEqual(e)){ue(Pg,"User change. New user:",e.toKey());const s=await fT(t.localStore,e);t.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(ne.CANCELLED,f))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ku(t,s.Ls)}}function CO(i,e){const t=Se(i),s=t.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=t.Iu.get(e);if(!u)return o;for(const f of u){const m=t.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function DT(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ST.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bO.bind(null,e),e.Pu.H_=uO.bind(null,e.eventManager),e.Pu.yu=cO.bind(null,e.eventManager),e}function IO(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AO.bind(null,e),e}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Dx(this.persistence,new Rx,e.initialUser,this.serializer)}Cu(e){return new hT(Sg.mi,this.serializer)}Du(e){return new Vx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class DO extends df{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof hf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hx(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new hT((s=>hf.mi(s,t)),this.serializer)}}class Fp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>YE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RO.bind(null,this.syncEngine),await rO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aO})()}createDatastore(e){const t=Uf(e.databaseInfo.databaseId),s=(function(u){return new jx(u)})(e.databaseInfo);return(function(u,f,m,p){return new Gx(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,f,m){return new Kx(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>YE(this.syncEngine,t,0)),(function(){return HE.v()?new HE:new Lx})())}createSyncEngine(e,t){return(function(o,u,f,m,p,y,_){const b=new pO(o,u,f,m,p,y);return _&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Se(t);ue(va,"RemoteStore shutting down."),s.Ea.add(5),await $u(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fp.provider={build:()=>new Fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class OO{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(vs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(vs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=kg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function pp(i,e){i.asyncQueue.verifyOperationInProgress(),ue(vs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await fT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function XE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await NO(i);ue(vs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>FE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>FE(e.remoteStore,o))),i._onlineComponents=e}async function NO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(vs,"Using user provided OfflineComponentProvider");try{await pp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await pp(i,new df)}}else ue(vs,"Using default OfflineComponentProvider"),await pp(i,new DO(void 0));return i._offlineComponents}async function xT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(vs,"Using user provided OnlineComponentProvider"),await XE(i,i._uninitializedComponentsProvider._online)):(ue(vs,"Using default OnlineComponentProvider"),await XE(i,new Fp))),i._onlineComponents}function kO(i){return xT(i).then((e=>e.syncEngine))}async function MO(i){const e=await xT(i),t=e.eventManager;return t.onListen=gO.bind(null,e.syncEngine),t.onUnlisten=wO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_O.bind(null,e.syncEngine),t}function PO(i,e,t={}){const s=new fs;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const _=new xO({next:A=>{_.Nu(),f.enqueueAndForget((()=>lO(u,b)));const V=A.docs.has(m);!V&&A.fromCache?y.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&A.fromCache&&p&&p.source==="server"?y.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),b=new hO(wg(m.path),_,{includeMetadataChanges:!0,qa:!0});return oO(u,b)})(await MO(i),i.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firestore.googleapis.com",ZE=!0;class JE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NT,this.ssl=ZE}else this.host=e.host,this.ssl=e.ssl??ZE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ux)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$I("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lg{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new PI;switch(s.type){case"firstParty":return new BI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=WE.get(t);s&&(ue("ComponentProvider","Removing Datastore"),WE.delete(t),s.terminate())})(this),Promise.resolve()}}function VO(i,e,t,s={}){i=ya(i,Lg);const o=zo(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(Db(`https://${m}`),xb("Firestore",!0)),u.host!==NT&&u.host!==m&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!fa(p,f)&&(i._setSettings(p),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=sn.MOCK_USER;else{y=H1(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new sn(b)}i._authCredentials=new VI(new T0(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ug(this.firestore,e,this._query)}}class Mt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(qu(t,Mt._jsonSchema))return new Mt(e,s||null,new ye(ct.fromString(t.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Ct("string",Mt._jsonSchemaVersion),referencePath:Ct("string")};class Mu extends Ug{constructor(e,t,s){super(e,t,wg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ye(e))}withConverter(e){return new Mu(this.firestore,e,this._path)}}function wa(i,e,...t){if(i=Zt(i),arguments.length===1&&(e=fg.newId()),GI("doc","path",e),i instanceof Lg){const s=ct.fromString(e,...t);return dE(s),new Mt(i,null,new ye(s))}{if(!(i instanceof Mt||i instanceof Mu))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ct.fromString(e,...t));return dE(s),new Mt(i.firestore,i instanceof Mu?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="AsyncQueue";class tb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mT(this,"async_queue_retry"),this._c=()=>{const s=mp();s&&ue(eb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=mp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=mp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Go(e))throw e;ue(eb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",nb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Ng.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:nb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function nb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class jf extends Lg{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new tb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tb(e),this._firestoreClient=void 0,await e}}}function Ko(i,e){const t=typeof i=="object"?i:Mb(),s=typeof i=="string"?i:rf,o=eg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=z1("firestore");u&&VO(o,...u)}return o}function kT(i){if(i._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||LO(i),i._firestoreClient}function LO(i){const e=i._freezeSettings(),t=(function(o,u,f,m){return new iD(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,OT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new OO(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Jt.fromBase64String(e))}catch(t){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qu(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Ct("string",Yn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(qu(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ct("string",Ni._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ki(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Ct("string",ki._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=/^__.*__$/;class BO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fu(e,this.data,t,this.fieldTransforms)}}class MT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Es(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class zg{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PT(this.Ac)&&UO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Uf(e)}Cc(e,t,s,o=!1){return new zg({Ac:e,methodName:t,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VT(i){const e=i._freezeSettings(),t=Uf(i._databaseId);return new zO(i._databaseId,!!e.ignoreUndefinedProperties,t)}function jO(i,e,t,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);jg("Data must be an object, but it was:",f,s);const m=LT(s,f);let p,y;if(u.merge)p=new On(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const A=Gp(e,b,t);if(!f.contains(A))throw new he(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);BT(_,A)||_.push(A)}p=new On(_),y=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=f.fieldTransforms;return new BO(new wn(m),p,y)}class qf extends Bg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}function HO(i,e,t,s){const o=i.Cc(1,e,t);jg("Data must be an object, but it was:",o,s);const u=[],f=wn.empty();_s(s,((p,y)=>{const _=Hg(e,p,t);y=Zt(y);const b=o.yc(_);if(y instanceof qf)u.push(_);else{const A=Ff(y,b);A!=null&&(u.push(_),f.set(_,A))}}));const m=new On(u);return new MT(f,m,o.fieldTransforms)}function qO(i,e,t,s,o,u){const f=i.Cc(1,e,t),m=[Gp(e,s,t)],p=[o];if(u.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Gp(e,u[A])),p.push(u[A+1]);const y=[],_=wn.empty();for(let A=m.length-1;A>=0;--A)if(!BT(y,m[A])){const V=m[A];let B=p[A];B=Zt(B);const K=f.yc(V);if(B instanceof qf)y.push(V);else{const F=Ff(B,K);F!=null&&(y.push(V),_.set(V,F))}}const b=new On(y);return new MT(_,b,f.fieldTransforms)}function Ff(i,e){if(UT(i=Zt(i)))return jg("Unsupported field value:",e,i),LT(i,e);if(i instanceof Bg)return(function(s,o){if(!PT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Ff(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:cf(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cf(o.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:iT(o.serializer,s._byteString)};if(s instanceof Mt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ki)return(function(f,m){return{mapValue:{fields:{[N0]:{stringValue:k0},[sf]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return _g(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${dg(s)}`)})(i,e)}function LT(i,e){const t={};return R0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(i,((s,o)=>{const u=Ff(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function UT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof Ni||i instanceof Yn||i instanceof Mt||i instanceof Bg||i instanceof ki)}function jg(i,e,t){if(!UT(t)||!A0(t)){const s=dg(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Gp(i,e,t){if((e=Zt(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return Hg(i,e);throw mf("Field path arguments must be of type string or ",i,!1,void 0,t)}const FO=new RegExp("[~\\*/\\[\\]]");function Hg(i,e,t){if(e.search(FO)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Hf(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function mf(i,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(ne.INVALID_ARGUMENT,m+i+p)}function BT(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GO extends zT{data(){return super.data()}}function jT(i,e){return typeof e=="string"?Hg(i,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}class $O{convertValue(e,t="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return _s(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[sf].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new ki(t)}convertGeoPoint(e){return new Ni(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Of(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){const t=ms(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ct.fromString(e);Ke(uT(s),9688,{name:e});const o=new xu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(t)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends zT{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(jT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ca._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Ct("string",ca._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Fh extends ca{data(e={}){return super.data(e)}}class Su{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new vu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Fh(this._firestore,this._userDataWriter,s.key,s,new vu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),_=f.indexOf(m.doc.key)),{type:YO(m.type),doc:p,oldIndex:y,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Su._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(i){i=ya(i,Mt);const e=ya(i.firestore,jf);return PO(kT(e),i._key).then((t=>WO(e,i,t)))}Su._jsonSchemaVersion="firestore/querySnapshot/1.0",Su._jsonSchema={type:Ct("string",Su._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class QO extends $O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function ib(i,e,t){i=ya(i,Mt);const s=ya(i.firestore,jf),o=KO(i.converter,e,t);return HT(s,[jO(VT(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,xi.none())])}function XO(i,e,t,...s){i=ya(i,Mt);const o=ya(i.firestore,jf),u=VT(o);let f;return f=typeof(e=Zt(e))=="string"||e instanceof Hf?qO(u,"updateDoc",i._key,e,t,s):HO(u,"updateDoc",i._key,e),HT(o,[f.toMutation(i._key,xi.exists(!0))])}function HT(i,e){return(function(s,o){const u=new fs;return s.asyncQueue.enqueueAndForget((async()=>EO(await kO(s),o,u))),u.promise})(kT(i),e)}function WO(i,e,t){const s=t.docs.get(e._key),o=new QO(i);return new ca(i,o,e._key,s,new vu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){qo=o})(jo),xo(new da("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new jf(new LI(s.getProvider("auth-internal")),new zI(f,s.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(y.options.projectId,_)})(f,o),f);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),cs(uE,cE,e),cs(uE,cE,"esm2020")})();var ZO="firebase",JO="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(ZO,JO,"app");const eN={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.firebasestorage.app",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},oi=kb(eN);Ko(oi);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rb="popstate";function tN(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=Ta(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),$p("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:Pu(u))}function s(o,u){Xn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return iN(e,t,s,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Xn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nN(){return Math.random().toString(36).substring(2,10)}function sb(i,e){return{usr:i.state,key:i.key,idx:e}}function $p(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ta(e):e,state:t,key:e&&e.key||s||nN()}}function Pu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ta(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function iN(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=_();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function _(){return(f.state||{idx:null}).idx}function b(){m="POP";let F=_(),ee=F==null?null:F-y;y=F,p&&p({action:m,location:K.location,delta:ee})}function A(F,ee){m="PUSH";let le=$p(K.location,F,ee);t&&t(le,F),y=_()+1;let se=sb(le,y),Re=K.createHref(le);try{f.pushState(se,"",Re)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(Re)}u&&p&&p({action:m,location:K.location,delta:1})}function V(F,ee){m="REPLACE";let le=$p(K.location,F,ee);t&&t(le,F),y=_();let se=sb(le,y),Re=K.createHref(le);f.replaceState(se,"",Re),u&&p&&p({action:m,location:K.location,delta:0})}function B(F){return rN(F)}let K={get action(){return m},get location(){return i(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(rb,b),p=F,()=>{o.removeEventListener(rb,b),p=null}},createHref(F){return e(o,F)},createURL:B,encodeLocation(F){let ee=B(F);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:A,replace:V,go(F){return f.go(F)}};return K}function rN(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Pu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function qT(i,e,t="/"){return sN(i,e,t,!1)}function sN(i,e,t,s){let o=typeof e=="string"?Ta(e):e,u=br(o.pathname||"/",t);if(u==null)return null;let f=FT(i);aN(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=yN(u);m=pN(f[p],y,s)}return m}function FT(i,e=[],t=[],s="",o=!1){let u=(f,m,p=o,y)=>{let _={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;lt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let b=gr([s,_.relativePath]),A=t.concat(_);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),FT(f.children,e,A,b,p)),!(f.path==null&&!f.index)&&e.push({path:b,score:dN(b,f.index),routesMeta:A})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of GT(f.path))u(f,m,!0,p)}),e}function GT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=GT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function aN(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:mN(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var oN=/^:[\w-]+$/,lN=3,uN=2,cN=1,hN=10,fN=-2,ab=i=>i==="*";function dN(i,e){let t=i.split("/"),s=t.length;return t.some(ab)&&(s+=fN),e&&(s+=uN),t.filter(o=>!ab(o)).reduce((o,u)=>o+(oN.test(u)?lN:u===""?cN:hN),s)}function mN(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function pN(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=pf({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),A=p.route;if(!b&&y&&t&&!s[s.length-1].route.index&&(b=pf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:gr([u,b.pathname]),pathnameBase:EN(gr([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=gr([u,b.pathnameBase]))}return f}function pf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=gN(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:_,isOptional:b},A)=>{if(_==="*"){let B=m[A]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const V=m[A];return b&&!V?y[_]=void 0:y[_]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function gN(i,e=!1,t=!0){Xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function yN(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function br(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function vN(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Ta(i):i;return{pathname:t?t.startsWith("/")?t:wN(t,e):e,search:bN(s),hash:TN(o)}}function wN(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function gp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _N(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qg(i){let e=_N(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Fg(i,e,t,s=!1){let o;typeof i=="string"?o=Ta(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),gp("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),gp("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),gp("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=t;else{let b=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let p=vN(o,m),y=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var gr=i=>i.join("/").replace(/\/\/+/g,"/"),EN=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),bN=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,TN=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function AN(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var $T=["POST","PUT","PATCH","DELETE"];new Set($T);var SN=["GET",...$T];new Set(SN);var Yo=$.createContext(null);Yo.displayName="DataRouter";var Gf=$.createContext(null);Gf.displayName="DataRouterState";$.createContext(!1);var KT=$.createContext({isTransitioning:!1});KT.displayName="ViewTransition";var RN=$.createContext(new Map);RN.displayName="Fetchers";var CN=$.createContext(null);CN.displayName="Await";var li=$.createContext(null);li.displayName="Navigation";var Qu=$.createContext(null);Qu.displayName="Location";var Ui=$.createContext({outlet:null,matches:[],isDataRoute:!1});Ui.displayName="Route";var Gg=$.createContext(null);Gg.displayName="RouteError";function IN(i,{relative:e}={}){lt(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=$.useContext(li),{hash:o,pathname:u,search:f}=Xu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:gr([t,u])),s.createHref({pathname:m,search:f,hash:o})}function Qo(){return $.useContext(Qu)!=null}function bs(){return lt(Qo(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Qu).location}var YT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QT(i){$.useContext(li).static||$.useLayoutEffect(i)}function $g(){let{isDataRoute:i}=$.useContext(Ui);return i?jN():DN()}function DN(){lt(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(Yo),{basename:e,navigator:t}=$.useContext(li),{matches:s}=$.useContext(Ui),{pathname:o}=bs(),u=JSON.stringify(qg(s)),f=$.useRef(!1);return QT(()=>{f.current=!0}),$.useCallback((p,y={})=>{if(Xn(f.current,YT),!f.current)return;if(typeof p=="number"){t.go(p);return}let _=Fg(p,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:gr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,u,o,i])}$.createContext(null);function Xu(i,{relative:e}={}){let{matches:t}=$.useContext(Ui),{pathname:s}=bs(),o=JSON.stringify(qg(t));return $.useMemo(()=>Fg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function xN(i,e){return XT(i,e)}function XT(i,e,t,s){lt(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(li),{matches:u}=$.useContext(Ui),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let ee=_&&_.path||"";WT(p,!_||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let b=bs(),A;if(e){let ee=typeof e=="string"?Ta(e):e;lt(y==="/"||ee.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),A=ee}else A=b;let V=A.pathname||"/",B=V;if(y!=="/"){let ee=y.replace(/^\//,"").split("/");B="/"+V.replace(/^\//,"").split("/").slice(ee.length).join("/")}let K=qT(i,{pathname:B});Xn(_||K!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Xn(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=PN(K&&K.map(ee=>Object.assign({},ee,{params:Object.assign({},m,ee.params),pathname:gr([y,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?y:gr([y,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),u,t,s);return e&&F?$.createElement(Qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},F):F}function ON(){let i=zN(),e=AN(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,f)}var NN=$.createElement(ON,null),kN=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?$.createElement(Ui.Provider,{value:this.props.routeContext},$.createElement(Gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MN({routeContext:i,match:e,children:t}){let s=$.useContext(Yo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Ui.Provider,{value:i},t)}function PN(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t?.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:_,errors:b}=t,A=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let b,A=!1,V=null,B=null;t&&(b=u&&y.route.id?u[y.route.id]:void 0,V=y.route.errorElement||NN,f&&(m<0&&_===0?(WT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,B=null):m===_&&(A=!0,B=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,_+1)),F=()=>{let ee;return b?ee=V:A?ee=B:y.route.Component?ee=$.createElement(y.route.Component,null):y.route.element?ee=y.route.element:ee=p,$.createElement(MN,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:t!=null},children:ee})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?$.createElement(kN,{location:t.location,revalidation:t.revalidation,component:V,error:b,children:F(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):F()},null)}function Kg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VN(i){let e=$.useContext(Yo);return lt(e,Kg(i)),e}function LN(i){let e=$.useContext(Gf);return lt(e,Kg(i)),e}function UN(i){let e=$.useContext(Ui);return lt(e,Kg(i)),e}function Yg(i){let e=UN(i),t=e.matches[e.matches.length-1];return lt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function BN(){return Yg("useRouteId")}function zN(){let i=$.useContext(Gg),e=LN("useRouteError"),t=Yg("useRouteError");return i!==void 0?i:e.errors?.[t]}function jN(){let{router:i}=VN("useNavigate"),e=Yg("useNavigate"),t=$.useRef(!1);return QT(()=>{t.current=!0}),$.useCallback(async(o,u={})=>{Xn(t.current,YT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var ob={};function WT(i,e,t){!e&&!ob[i]&&(ob[i]=!0,Xn(!1,t))}$.memo(HN);function HN({routes:i,future:e,state:t}){return XT(i,void 0,t,e)}function cu({to:i,replace:e,state:t,relative:s}){lt(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=$.useContext(li);Xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=$.useContext(Ui),{pathname:f}=bs(),m=$g(),p=Fg(i,qg(u),f,s==="path"),y=JSON.stringify(p);return $.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:s})},[m,y,s,e,t]),null}function To(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qN({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=Ta(t));let{pathname:p="/",search:y="",hash:_="",state:b=null,key:A="default"}=t,V=$.useMemo(()=>{let B=br(p,f);return B==null?null:{location:{pathname:B,search:y,hash:_,state:b,key:A},navigationType:s}},[f,p,y,_,b,A,s]);return Xn(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:$.createElement(li.Provider,{value:m},$.createElement(Qu.Provider,{children:e,value:V}))}function FN({children:i,location:e}){return xN(Kp(i),e)}function Kp(i,e=[]){let t=[];return $.Children.forEach(i,(s,o)=>{if(!$.isValidElement(s))return;let u=[...e,o];if(s.type===$.Fragment){t.push.apply(t,Kp(s.props.children,u));return}lt(s.type===To,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Kp(s.props.children,u)),t.push(f)}),t}var Gh="get",$h="application/x-www-form-urlencoded";function $f(i){return i!=null&&typeof i.tagName=="string"}function GN(i){return $f(i)&&i.tagName.toLowerCase()==="button"}function $N(i){return $f(i)&&i.tagName.toLowerCase()==="form"}function KN(i){return $f(i)&&i.tagName.toLowerCase()==="input"}function YN(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function QN(i,e){return i.button===0&&(!e||e==="_self")&&!YN(i)}var kh=null;function XN(){if(kh===null)try{new FormData(document.createElement("form"),0),kh=!1}catch{kh=!0}return kh}var WN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yp(i){return i!=null&&!WN.has(i)?(Xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$h}"`),null):i}function ZN(i,e){let t,s,o,u,f;if($N(i)){let m=i.getAttribute("action");s=m?br(m,e):null,t=i.getAttribute("method")||Gh,o=yp(i.getAttribute("enctype"))||$h,u=new FormData(i)}else if(GN(i)||KN(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?br(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Gh,o=yp(i.getAttribute("formenctype"))||yp(m.getAttribute("enctype"))||$h,u=new FormData(m,i),!XN()){let{name:y,type:_,value:b}=i;if(_==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,b)}}else{if($f(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gh,s=null,o=$h,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function JN(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&br(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function ek(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tk(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function nk(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await ek(u,t);return f.links?f.links():[]}return[]}));return ak(s.flat(1).filter(tk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function lb(i,e,t,s,o,u){let f=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,m=(p,y)=>t[y].pathname!==p.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function ik(i,e,{includeHydrateFallback:t}={}){return rk(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function rk(i){return[...new Set(i)]}function sk(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function ak(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(sk(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function ZT(){let i=$.useContext(Yo);return Qg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ok(){let i=$.useContext(Gf);return Qg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Xg=$.createContext(void 0);Xg.displayName="FrameworkContext";function JT(){let i=$.useContext(Xg);return Qg(i,"You must render this element inside a <HydratedRouter> element"),i}function lk(i,e){let t=$.useContext(Xg),[s,o]=$.useState(!1),[u,f]=$.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:b}=e,A=$.useRef(null);$.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let K=ee=>{ee.forEach(le=>{f(le.isIntersecting)})},F=new IntersectionObserver(K,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[i]),$.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let V=()=>{o(!0)},B=()=>{o(!1),f(!1)};return t?i!=="intent"?[u,A,{}]:[u,A,{onFocus:hu(m,V),onBlur:hu(p,B),onMouseEnter:hu(y,V),onMouseLeave:hu(_,B),onTouchStart:hu(b,V)}]:[!1,A,{}]}function hu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function uk({page:i,...e}){let{router:t}=ZT(),s=$.useMemo(()=>qT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?$.createElement(hk,{page:i,matches:s,...e}):null}function ck(i){let{manifest:e,routeModules:t}=JT(),[s,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return nk(i,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,t]),s}function hk({page:i,matches:e,...t}){let s=bs(),{manifest:o,routeModules:u}=JT(),{basename:f}=ZT(),{loaderData:m,matches:p}=ok(),y=$.useMemo(()=>lb(i,e,p,o,s,"data"),[i,e,p,o,s]),_=$.useMemo(()=>lb(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=$.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let B=new Set,K=!1;if(e.forEach(ee=>{let le=o.routes[ee.route.id];!le||!le.hasLoader||(!y.some(se=>se.route.id===ee.route.id)&&ee.route.id in m&&u[ee.route.id]?.shouldRevalidate||le.hasClientLoader?K=!0:B.add(ee.route.id))}),B.size===0)return[];let F=JN(i,f,"data");return K&&B.size>0&&F.searchParams.set("_routes",e.filter(ee=>B.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,y,e,i,u]),A=$.useMemo(()=>ik(_,o),[_,o]),V=ck(_);return $.createElement($.Fragment,null,b.map(B=>$.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...t})),A.map(B=>$.createElement("link",{key:B,rel:"modulepreload",href:B,...t})),V.map(({key:B,link:K})=>$.createElement("link",{key:B,nonce:t.nonce,...K})))}function fk(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var e2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e2&&(window.__reactRouterVersion="7.8.1")}catch{}function dk({basename:i,children:e,window:t}){let s=$.useRef();s.current==null&&(s.current=tN({window:t,v5Compat:!0}));let o=s.current,[u,f]=$.useState({action:o.action,location:o.location}),m=$.useCallback(p=>{$.startTransition(()=>f(p))},[f]);return $.useLayoutEffect(()=>o.listen(m),[o,m]),$.createElement(qN,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var t2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ai=$.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:_,viewTransition:b,...A},V){let{basename:B}=$.useContext(li),K=typeof y=="string"&&t2.test(y),F,ee=!1;if(typeof y=="string"&&K&&(F=y,e2))try{let C=new URL(window.location.href),O=y.startsWith("//")?new URL(C.protocol+y):new URL(y),k=br(O.pathname,B);O.origin===C.origin&&k!=null?y=k+O.search+O.hash:ee=!0}catch{Xn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let le=IN(y,{relative:o}),[se,Re,de]=lk(s,A),Ve=yk(y,{replace:f,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:b});function N(C){e&&e(C),C.defaultPrevented||Ve(C)}let S=$.createElement("a",{...A,...de,href:F||le,onClick:ee||u?e:N,ref:fk(V,Re),target:p,"data-discover":!K&&t==="render"?"true":void 0});return se&&!K?$.createElement($.Fragment,null,S,$.createElement(uk,{page:le})):S});ai.displayName="Link";var mk=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},_){let b=Xu(f,{relative:y.relative}),A=bs(),V=$.useContext(Gf),{navigator:B,basename:K}=$.useContext(li),F=V!=null&&bk(b)&&m===!0,ee=B.encodeLocation?B.encodeLocation(b).pathname:b.pathname,le=A.pathname,se=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;t||(le=le.toLowerCase(),se=se?se.toLowerCase():null,ee=ee.toLowerCase()),se&&K&&(se=br(se,K)||se);const Re=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let de=le===ee||!o&&le.startsWith(ee)&&le.charAt(Re)==="/",Ve=se!=null&&(se===ee||!o&&se.startsWith(ee)&&se.charAt(ee.length)==="/"),N={isActive:de,isPending:Ve,isTransitioning:F},S=de?e:void 0,C;typeof s=="function"?C=s(N):C=[s,de?"active":null,Ve?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return $.createElement(ai,{...y,"aria-current":S,className:C,ref:_,style:O,to:f,viewTransition:m},typeof p=="function"?p(N):p)});mk.displayName="NavLink";var pk=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=Gh,action:m,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:b,...A},V)=>{let B=_k(),K=Ek(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",ee=typeof m=="string"&&t2.test(m),le=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let Re=se.nativeEvent.submitter,de=Re?.getAttribute("formmethod")||f;B(Re||se.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:o,state:u,relative:y,preventScrollReset:_,viewTransition:b})};return $.createElement("form",{ref:V,method:F,action:K,onSubmit:s?p:le,...A,"data-discover":!ee&&i==="render"?"true":void 0})});pk.displayName="Form";function gk(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n2(i){let e=$.useContext(Yo);return lt(e,gk(i)),e}function yk(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=$g(),p=bs(),y=Xu(i,{relative:u});return $.useCallback(_=>{if(QN(_,e)){_.preventDefault();let b=t!==void 0?t:Pu(p)===Pu(y);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,t,s,e,i,o,u,f])}var vk=0,wk=()=>`__${String(++vk)}__`;function _k(){let{router:i}=n2("useSubmit"),{basename:e}=$.useContext(li),t=BN();return $.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=ZN(s,e);if(o.navigate===!1){let _=o.fetcherKey||wk();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function Ek(i,{relative:e}={}){let{basename:t}=$.useContext(li),s=$.useContext(Ui);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Xu(i||".",{relative:e})},f=bs();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:gr([t,u.pathname])),Pu(u)}function bk(i,{relative:e}={}){let t=$.useContext(KT);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=n2("useViewTransitionState"),o=Xu(i,{relative:e});if(!t.isTransitioning)return!1;let u=br(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=br(t.nextLocation.pathname,s)||t.nextLocation.pathname;return pf(o.pathname,f)!=null||pf(o.pathname,u)!=null}/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function i2(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function Tk(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ub(i,e){return i.get(i2(i,e))}function Ak(i,e,t){Tk(i,e),e.set(i,t)}function Sk(i,e,t){return i.set(i2(i,e),t),t}const Rk=100,ge={},Ck=()=>{ge.previousActiveElement instanceof HTMLElement?(ge.previousActiveElement.focus(),ge.previousActiveElement=null):document.body&&document.body.focus()},Ik=i=>new Promise(e=>{if(!i)return e();const t=window.scrollX,s=window.scrollY;ge.restoreFocusTimeout=setTimeout(()=>{Ck(),e()},Rk),window.scrollTo(t,s)}),r2="swal2-",Dk=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],G=Dk.reduce((i,e)=>(i[e]=r2+e,i),{}),xk=["success","warning","info","question","error"],gf=xk.reduce((i,e)=>(i[e]=r2+e,i),{}),s2="SweetAlert2:",Wg=i=>i.charAt(0).toUpperCase()+i.slice(1),dn=i=>{console.warn(`${s2} ${typeof i=="object"?i.join(" "):i}`)},Aa=i=>{console.error(`${s2} ${i}`)},cb=[],Ok=i=>{cb.includes(i)||(cb.push(i),dn(i))},a2=(i,e=null)=>{Ok(`"${i}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Kf=i=>typeof i=="function"?i():i,Zg=i=>i&&typeof i.toPromise=="function",Wu=i=>Zg(i)?i.toPromise():Promise.resolve(i),Jg=i=>i&&Promise.resolve(i)===i,mn=()=>document.body.querySelector(`.${G.container}`),Zu=i=>{const e=mn();return e?e.querySelector(i):null},kn=i=>Zu(`.${i}`),He=()=>kn(G.popup),Xo=()=>kn(G.icon),Nk=()=>kn(G["icon-content"]),o2=()=>kn(G.title),ey=()=>kn(G["html-container"]),l2=()=>kn(G.image),ty=()=>kn(G["progress-steps"]),Yf=()=>kn(G["validation-message"]),Vi=()=>Zu(`.${G.actions} .${G.confirm}`),Wo=()=>Zu(`.${G.actions} .${G.cancel}`),Sa=()=>Zu(`.${G.actions} .${G.deny}`),kk=()=>kn(G["input-label"]),Zo=()=>Zu(`.${G.loader}`),Ju=()=>kn(G.actions),u2=()=>kn(G.footer),Qf=()=>kn(G["timer-progress-bar"]),ny=()=>kn(G.close),Mk=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,iy=()=>{const i=He();if(!i)return[];const e=i.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((u,f)=>{const m=parseInt(u.getAttribute("tabindex")||"0"),p=parseInt(f.getAttribute("tabindex")||"0");return m>p?1:m<p?-1:0}),s=i.querySelectorAll(Mk),o=Array.from(s).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(u=>_n(u))},ry=()=>yr(document.body,G.shown)&&!yr(document.body,G["toast-shown"])&&!yr(document.body,G["no-backdrop"]),Xf=()=>{const i=He();return i?yr(i,G.toast):!1},Pk=()=>{const i=He();return i?i.hasAttribute("data-loading"):!1},Mn=(i,e)=>{if(i.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),o=s.querySelector("head");o&&Array.from(o.childNodes).forEach(f=>{i.appendChild(f)});const u=s.querySelector("body");u&&Array.from(u.childNodes).forEach(f=>{f instanceof HTMLVideoElement||f instanceof HTMLAudioElement?i.appendChild(f.cloneNode(!0)):i.appendChild(f)})}},yr=(i,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let s=0;s<t.length;s++)if(!i.classList.contains(t[s]))return!1;return!0},Vk=(i,e)=>{Array.from(i.classList).forEach(t=>{!Object.values(G).includes(t)&&!Object.values(gf).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&i.classList.remove(t)})},Nn=(i,e,t)=>{if(Vk(i,e),!e.customClass)return;const s=e.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){dn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}Ge(i,s)}},Wf=(i,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return i.querySelector(`.${G.popup} > .${G[e]}`);case"checkbox":return i.querySelector(`.${G.popup} > .${G.checkbox} input`);case"radio":return i.querySelector(`.${G.popup} > .${G.radio} input:checked`)||i.querySelector(`.${G.popup} > .${G.radio} input:first-child`);case"range":return i.querySelector(`.${G.popup} > .${G.range} input`);default:return i.querySelector(`.${G.popup} > .${G.input}`)}},c2=i=>{if(i.focus(),i.type!=="file"){const e=i.value;i.value="",i.value=e}},h2=(i,e,t)=>{!i||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(i)?i.forEach(o=>{t?o.classList.add(s):o.classList.remove(s)}):t?i.classList.add(s):i.classList.remove(s)}))},Ge=(i,e)=>{h2(i,e,!0)},Wn=(i,e)=>{h2(i,e,!1)},as=(i,e)=>{const t=Array.from(i.children);for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof HTMLElement&&yr(o,e))return o}},ha=(i,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?i.style.setProperty(e,typeof t=="number"?`${t}px`:t):i.style.removeProperty(e)},qt=(i,e="flex")=>{i&&(i.style.display=e)},ln=i=>{i&&(i.style.display="none")},sy=(i,e="block")=>{i&&new MutationObserver(()=>{ec(i,i.innerHTML,e)}).observe(i,{childList:!0,subtree:!0})},hb=(i,e,t,s)=>{const o=i.querySelector(e);o&&o.style.setProperty(t,s)},ec=(i,e,t="flex")=>{e?qt(i,t):ln(i)},_n=i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),Lk=()=>!_n(Vi())&&!_n(Sa())&&!_n(Wo()),Yp=i=>i.scrollHeight>i.clientHeight,Uk=(i,e)=>{let t=i;for(;t&&t!==e;){if(Yp(t))return!0;t=t.parentElement}return!1},f2=i=>{const e=window.getComputedStyle(i),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||s>0},ay=(i,e=!1)=>{const t=Qf();t&&_n(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${i/1e3}s linear`,t.style.width="0%"},10))},Bk=()=>{const i=Qf();if(!i)return;const e=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";const t=parseInt(window.getComputedStyle(i).width),s=e/t*100;i.style.width=`${s}%`},zk=()=>typeof window>"u"||typeof document>"u",jk=`
 <div aria-labelledby="${G.title}" aria-describedby="${G["html-container"]}" class="${G.popup}" tabindex="-1">
   <button type="button" class="${G.close}"></button>
   <ul class="${G["progress-steps"]}"></ul>
   <div class="${G.icon}"></div>
   <img class="${G.image}" />
   <h2 class="${G.title}" id="${G.title}"></h2>
   <div class="${G["html-container"]}" id="${G["html-container"]}"></div>
   <input class="${G.input}" id="${G.input}" />
   <input type="file" class="${G.file}" />
   <div class="${G.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${G.select}" id="${G.select}"></select>
   <div class="${G.radio}"></div>
   <label class="${G.checkbox}">
     <input type="checkbox" id="${G.checkbox}" />
     <span class="${G.label}"></span>
   </label>
   <textarea class="${G.textarea}" id="${G.textarea}"></textarea>
   <div class="${G["validation-message"]}" id="${G["validation-message"]}"></div>
   <div class="${G.actions}">
     <div class="${G.loader}"></div>
     <button type="button" class="${G.confirm}"></button>
     <button type="button" class="${G.deny}"></button>
     <button type="button" class="${G.cancel}"></button>
   </div>
   <div class="${G.footer}"></div>
   <div class="${G["timer-progress-bar-container"]}">
     <div class="${G["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Hk=()=>{const i=mn();return i?(i.remove(),Wn([document.documentElement,document.body],[G["no-backdrop"],G["toast-shown"],G["has-column"]]),!0):!1},aa=()=>{ge.currentInstance.resetValidationMessage()},qk=()=>{const i=He(),e=as(i,G.input),t=as(i,G.file),s=i.querySelector(`.${G.range} input`),o=i.querySelector(`.${G.range} output`),u=as(i,G.select),f=i.querySelector(`.${G.checkbox} input`),m=as(i,G.textarea);e.oninput=aa,t.onchange=aa,u.onchange=aa,f.onchange=aa,m.oninput=aa,s.oninput=()=>{aa(),o.value=s.value},s.onchange=()=>{aa(),o.value=s.value}},Fk=i=>typeof i=="string"?document.querySelector(i):i,Gk=i=>{const e=He();e.setAttribute("role",i.toast?"alert":"dialog"),e.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||e.setAttribute("aria-modal","true")},$k=i=>{window.getComputedStyle(i).direction==="rtl"&&Ge(mn(),G.rtl)},Kk=i=>{const e=Hk();if(zk()){Aa("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=G.container,e&&Ge(t,G["no-transition"]),Mn(t,jk),t.dataset.swal2Theme=i.theme;const s=Fk(i.target);s.appendChild(t),i.topLayer&&(t.setAttribute("popover",""),t.showPopover()),Gk(i),$k(s),qk()},oy=(i,e)=>{i instanceof HTMLElement?e.appendChild(i):typeof i=="object"?Yk(i,e):i&&Mn(e,i)},Yk=(i,e)=>{i.jquery?Qk(e,i):Mn(e,i.toString())},Qk=(i,e)=>{if(i.textContent="",0 in e)for(let t=0;t in e;t++)i.appendChild(e[t].cloneNode(!0));else i.appendChild(e.cloneNode(!0))},Xk=(i,e)=>{const t=Ju(),s=Zo();!t||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?ln(t):qt(t),Nn(t,e,"actions"),Wk(t,s,e),Mn(s,e.loaderHtml||""),Nn(s,e,"loader"))};function Wk(i,e,t){const s=Vi(),o=Sa(),u=Wo();!s||!o||!u||(wp(s,"confirm",t),wp(o,"deny",t),wp(u,"cancel",t),Zk(s,o,u,t),t.reverseButtons&&(t.toast?(i.insertBefore(u,s),i.insertBefore(o,s)):(i.insertBefore(u,e),i.insertBefore(o,e),i.insertBefore(s,e))))}function Zk(i,e,t,s){if(!s.buttonsStyling){Wn([i,e,t],G.styled);return}Ge([i,e,t],G.styled),s.confirmButtonColor&&i.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),vp(i),vp(e),vp(t)}function vp(i){const e=window.getComputedStyle(i);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");i.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function wp(i,e,t){const s=Wg(e);ec(i,t[`show${s}Button`],"inline-block"),Mn(i,t[`${e}ButtonText`]||""),i.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),i.className=G[e],Nn(i,t,`${e}Button`)}const Jk=(i,e)=>{const t=ny();t&&(Mn(t,e.closeButtonHtml||""),Nn(t,e,"closeButton"),ec(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},eM=(i,e)=>{const t=mn();t&&(tM(t,e.backdrop),nM(t,e.position),iM(t,e.grow),Nn(t,e,"container"))};function tM(i,e){typeof e=="string"?i.style.background=e:e||Ge([document.documentElement,document.body],G["no-backdrop"])}function nM(i,e){e&&(e in G?Ge(i,G[e]):(dn('The "position" parameter is not valid, defaulting to "center"'),Ge(i,G.center)))}function iM(i,e){e&&Ge(i,G[`grow-${e}`])}var rt={innerParams:new WeakMap,domCache:new WeakMap};const rM=["input","file","range","select","radio","checkbox","textarea"],sM=(i,e)=>{const t=He();if(!t)return;const s=rt.innerParams.get(i),o=!s||e.input!==s.input;rM.forEach(u=>{const f=as(t,G[u]);f&&(lM(u,e.inputAttributes),f.className=G[u],o&&ln(f))}),e.input&&(o&&aM(e),uM(e))},aM=i=>{if(!i.input)return;if(!wt[i.input]){Aa(`Unexpected type of input! Expected ${Object.keys(wt).join(" | ")}, got "${i.input}"`);return}const e=d2(i.input);if(!e)return;const t=wt[i.input](e,i);qt(e),i.inputAutoFocus&&setTimeout(()=>{c2(t)})},oM=i=>{for(let e=0;e<i.attributes.length;e++){const t=i.attributes[e].name;["id","type","value","style"].includes(t)||i.removeAttribute(t)}},lM=(i,e)=>{const t=He();if(!t)return;const s=Wf(t,i);if(s){oM(s);for(const o in e)s.setAttribute(o,e[o])}},uM=i=>{if(!i.input)return;const e=d2(i.input);e&&Nn(e,i,"input")},ly=(i,e)=>{!i.placeholder&&e.inputPlaceholder&&(i.placeholder=e.inputPlaceholder)},tc=(i,e,t)=>{if(t.inputLabel){const s=document.createElement("label"),o=G["input-label"];s.setAttribute("for",i.id),s.className=o,typeof t.customClass=="object"&&Ge(s,t.customClass.inputLabel),s.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",s)}},d2=i=>{const e=He();if(e)return as(e,G[i]||G.input)},yf=(i,e)=>{["string","number"].includes(typeof e)?i.value=`${e}`:Jg(e)||dn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},wt={};wt.text=wt.email=wt.password=wt.number=wt.tel=wt.url=wt.search=wt.date=wt["datetime-local"]=wt.time=wt.week=wt.month=(i,e)=>(yf(i,e.inputValue),tc(i,i,e),ly(i,e),i.type=e.input,i);wt.file=(i,e)=>(tc(i,i,e),ly(i,e),i);wt.range=(i,e)=>{const t=i.querySelector("input"),s=i.querySelector("output");return yf(t,e.inputValue),t.type=e.input,yf(s,e.inputValue),tc(t,i,e),i};wt.select=(i,e)=>{if(i.textContent="",e.inputPlaceholder){const t=document.createElement("option");Mn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,i.appendChild(t)}return tc(i,i,e),i};wt.radio=i=>(i.textContent="",i);wt.checkbox=(i,e)=>{const t=Wf(He(),"checkbox");t.value="1",t.checked=!!e.inputValue;const s=i.querySelector("span");return Mn(s,e.inputPlaceholder||e.inputLabel),t};wt.textarea=(i,e)=>{yf(i,e.inputValue),ly(i,e),tc(i,i,e);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(He()).width),o=()=>{if(!document.body.contains(i))return;const u=i.offsetWidth+t(i);u>s?He().style.width=`${u}px`:ha(He(),"width",e.width)};new MutationObserver(o).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};const cM=(i,e)=>{const t=ey();t&&(sy(t),Nn(t,e,"htmlContainer"),e.html?(oy(e.html,t),qt(t,"block")):e.text?(t.textContent=e.text,qt(t,"block")):ln(t),sM(i,e))},hM=(i,e)=>{const t=u2();t&&(sy(t),ec(t,e.footer,"block"),e.footer&&oy(e.footer,t),Nn(t,e,"footer"))},fM=(i,e)=>{const t=rt.innerParams.get(i),s=Xo();if(!s)return;if(t&&e.icon===t.icon){db(s,e),fb(s,e);return}if(!e.icon&&!e.iconHtml){ln(s);return}if(e.icon&&Object.keys(gf).indexOf(e.icon)===-1){Aa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),ln(s);return}qt(s),db(s,e),fb(s,e),Ge(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",m2)},fb=(i,e)=>{for(const[t,s]of Object.entries(gf))e.icon!==t&&Wn(i,s);Ge(i,e.icon&&gf[e.icon]),pM(i,e),m2(),Nn(i,e,"icon")},m2=()=>{const i=He();if(!i)return;const e=window.getComputedStyle(i).getPropertyValue("background-color"),t=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=e},dM=i=>`
  ${i.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${i.animation?'<div class="swal2-success-fix"></div>':""}
  ${i.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,mM=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,db=(i,e)=>{if(!e.icon&&!e.iconHtml)return;let t=i.innerHTML,s="";e.iconHtml?s=mb(e.iconHtml):e.icon==="success"?(s=dM(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?s=mM:e.icon&&(s=mb({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==s.trim()&&Mn(i,s)},pM=(i,e)=>{if(e.iconColor){i.style.color=e.iconColor,i.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])hb(i,t,"background-color",e.iconColor);hb(i,".swal2-success-ring","border-color",e.iconColor)}},mb=i=>`<div class="${G["icon-content"]}">${i}</div>`,gM=(i,e)=>{const t=l2();if(t){if(!e.imageUrl){ln(t);return}qt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),ha(t,"width",e.imageWidth),ha(t,"height",e.imageHeight),t.className=G.image,Nn(t,e,"image")}};let uy=!1,p2=0,g2=0,y2=0,v2=0;const yM=i=>{i.addEventListener("mousedown",vf),document.body.addEventListener("mousemove",wf),i.addEventListener("mouseup",_f),i.addEventListener("touchstart",vf),document.body.addEventListener("touchmove",wf),i.addEventListener("touchend",_f)},vM=i=>{i.removeEventListener("mousedown",vf),document.body.removeEventListener("mousemove",wf),i.removeEventListener("mouseup",_f),i.removeEventListener("touchstart",vf),document.body.removeEventListener("touchmove",wf),i.removeEventListener("touchend",_f)},vf=i=>{const e=He();if(i.target===e||Xo().contains(i.target)){uy=!0;const t=w2(i);p2=t.clientX,g2=t.clientY,y2=parseInt(e.style.insetInlineStart)||0,v2=parseInt(e.style.insetBlockStart)||0,Ge(e,"swal2-dragging")}},wf=i=>{const e=He();if(uy){let{clientX:t,clientY:s}=w2(i);e.style.insetInlineStart=`${y2+(t-p2)}px`,e.style.insetBlockStart=`${v2+(s-g2)}px`}},_f=()=>{const i=He();uy=!1,Wn(i,"swal2-dragging")},w2=i=>{let e=0,t=0;return i.type.startsWith("mouse")?(e=i.clientX,t=i.clientY):i.type.startsWith("touch")&&(e=i.touches[0].clientX,t=i.touches[0].clientY),{clientX:e,clientY:t}},wM=(i,e)=>{const t=mn(),s=He();if(!(!t||!s)){if(e.toast){ha(t,"width",e.width),s.style.width="100%";const o=Zo();o&&s.insertBefore(o,Xo())}else ha(s,"width",e.width);ha(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),ln(Yf()),_M(s,e),e.draggable&&!e.toast?(Ge(s,G.draggable),yM(s)):(Wn(s,G.draggable),vM(s))}},_M=(i,e)=>{const t=e.showClass||{};i.className=`${G.popup} ${_n(i)?t.popup:""}`,e.toast?(Ge([document.documentElement,document.body],G["toast-shown"]),Ge(i,G.toast)):Ge(i,G.modal),Nn(i,e,"popup"),typeof e.customClass=="string"&&Ge(i,e.customClass),e.icon&&Ge(i,G[`icon-${e.icon}`])},EM=(i,e)=>{const t=ty();if(!t)return;const{progressSteps:s,currentProgressStep:o}=e;if(!s||s.length===0||o===void 0){ln(t);return}qt(t),t.textContent="",o>=s.length&&dn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((u,f)=>{const m=bM(u);if(t.appendChild(m),f===o&&Ge(m,G["active-progress-step"]),f!==s.length-1){const p=TM(e);t.appendChild(p)}})},bM=i=>{const e=document.createElement("li");return Ge(e,G["progress-step"]),Mn(e,i),e},TM=i=>{const e=document.createElement("li");return Ge(e,G["progress-step-line"]),i.progressStepsDistance&&ha(e,"width",i.progressStepsDistance),e},AM=(i,e)=>{const t=o2();t&&(sy(t),ec(t,e.title||e.titleText,"block"),e.title&&oy(e.title,t),e.titleText&&(t.innerText=e.titleText),Nn(t,e,"title"))},_2=(i,e)=>{wM(i,e),eM(i,e),EM(i,e),fM(i,e),gM(i,e),AM(i,e),Jk(i,e),cM(i,e),Xk(i,e),hM(i,e);const t=He();typeof e.didRender=="function"&&t&&e.didRender(t),ge.eventEmitter.emit("didRender",t)},SM=()=>_n(He()),E2=()=>{var i;return(i=Vi())===null||i===void 0?void 0:i.click()},RM=()=>{var i;return(i=Sa())===null||i===void 0?void 0:i.click()},CM=()=>{var i;return(i=Wo())===null||i===void 0?void 0:i.click()},Jo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),b2=i=>{i.keydownTarget&&i.keydownHandlerAdded&&(i.keydownTarget.removeEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!1)},IM=(i,e,t)=>{b2(i),e.toast||(i.keydownHandler=s=>xM(e,s,t),i.keydownTarget=e.keydownListenerCapture?window:He(),i.keydownListenerCapture=e.keydownListenerCapture,i.keydownTarget.addEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!0)},Qp=(i,e)=>{var t;const s=iy();if(s.length){i=i+e,i===-2&&(i=s.length-1),i===s.length?i=0:i===-1&&(i=s.length-1),s[i].focus();return}(t=He())===null||t===void 0||t.focus()},T2=["ArrowRight","ArrowDown"],DM=["ArrowLeft","ArrowUp"],xM=(i,e,t)=>{i&&(e.isComposing||e.keyCode===229||(i.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?OM(e,i):e.key==="Tab"?NM(e):[...T2,...DM].includes(e.key)?kM(e.key):e.key==="Escape"&&MM(e,i,t)))},OM=(i,e)=>{if(!Kf(e.allowEnterKey))return;const t=Wf(He(),e.input);if(i.target&&t&&i.target instanceof HTMLElement&&i.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;E2(),i.preventDefault()}},NM=i=>{const e=i.target,t=iy();let s=-1;for(let o=0;o<t.length;o++)if(e===t[o]){s=o;break}i.shiftKey?Qp(s,-1):Qp(s,1),i.stopPropagation(),i.preventDefault()},kM=i=>{const e=Ju(),t=Vi(),s=Sa(),o=Wo();if(!e||!t||!s||!o)return;const u=[t,s,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const f=T2.includes(i)?"nextElementSibling":"previousElementSibling";let m=document.activeElement;if(m){for(let p=0;p<e.children.length;p++){if(m=m[f],!m)return;if(m instanceof HTMLButtonElement&&_n(m))break}m instanceof HTMLButtonElement&&m.focus()}},MM=(i,e,t)=>{i.preventDefault(),Kf(e.allowEscapeKey)&&t(Jo.esc)};var Uo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const PM=()=>{const i=mn();Array.from(document.body.children).forEach(t=>{t.contains(i)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},A2=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},S2=typeof window<"u"&&!!window.GestureEvent,VM=()=>{if(S2&&!yr(document.body,G.iosfix)){const i=document.body.scrollTop;document.body.style.top=`${i*-1}px`,Ge(document.body,G.iosfix),LM()}},LM=()=>{const i=mn();if(!i)return;let e;i.ontouchstart=t=>{e=UM(t)},i.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},UM=i=>{const e=i.target,t=mn(),s=ey();return!t||!s||BM(i)||zM(i)?!1:e===t||!Yp(t)&&e instanceof HTMLElement&&!Uk(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Yp(s)&&s.contains(e))},BM=i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus",zM=i=>i.touches&&i.touches.length>1,jM=()=>{if(yr(document.body,G.iosfix)){const i=parseInt(document.body.style.top,10);Wn(document.body,G.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},HM=()=>{const i=document.createElement("div");i.className=G["scrollbar-measure"],document.body.appendChild(i);const e=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),e};let Io=null;const qM=i=>{Io===null&&(document.body.scrollHeight>window.innerHeight||i==="scroll")&&(Io=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Io+HM()}px`)},FM=()=>{Io!==null&&(document.body.style.paddingRight=`${Io}px`,Io=null)};function R2(i,e,t,s){Xf()?pb(i,s):(Ik(t).then(()=>pb(i,s)),b2(ge)),S2?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),ry()&&(FM(),jM(),A2()),GM()}function GM(){Wn([document.documentElement,document.body],[G.shown,G["height-auto"],G["no-backdrop"],G["toast-shown"]])}function os(i){i=KM(i);const e=Uo.swalPromiseResolve.get(this),t=$M(this);this.isAwaitingPromise?i.isDismissed||(nc(this),e(i)):t&&e(i)}const $M=i=>{const e=He();if(!e)return!1;const t=rt.innerParams.get(i);if(!t||yr(e,t.hideClass.popup))return!1;Wn(e,t.showClass.popup),Ge(e,t.hideClass.popup);const s=mn();return Wn(s,t.showClass.backdrop),Ge(s,t.hideClass.backdrop),YM(i,e,t),!0};function C2(i){const e=Uo.swalPromiseReject.get(this);nc(this),e&&e(i)}const nc=i=>{i.isAwaitingPromise&&(delete i.isAwaitingPromise,rt.innerParams.get(i)||i._destroy())},KM=i=>typeof i>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),YM=(i,e,t)=>{var s;const o=mn(),u=f2(e);typeof t.willClose=="function"&&t.willClose(e),(s=ge.eventEmitter)===null||s===void 0||s.emit("willClose",e),u?QM(i,e,o,t.returnFocus,t.didClose):R2(i,o,t.returnFocus,t.didClose)},QM=(i,e,t,s,o)=>{ge.swalCloseEventFinishedCallback=R2.bind(null,i,t,s,o);const u=function(f){if(f.target===e){var m;(m=ge.swalCloseEventFinishedCallback)===null||m===void 0||m.call(ge),delete ge.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},pb=(i,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(i.params)(),(t=ge.eventEmitter)===null||t===void 0||t.emit("didClose"),i._destroy&&i._destroy()})},Bo=i=>{let e=He();if(e||new hr,e=He(),!e)return;const t=Zo();Xf()?ln(Xo()):XM(e,i),qt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},XM=(i,e)=>{const t=Ju(),s=Zo();!t||!s||(!e&&_n(Vi())&&(e=Vi()),qt(t),e&&(ln(e),s.setAttribute("data-button-to-replace",e.className),t.insertBefore(s,e)),Ge([i,t],G.loading))},WM=(i,e)=>{e.input==="select"||e.input==="radio"?nP(i,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Zg(e.inputValue)||Jg(e.inputValue))&&(Bo(Vi()),iP(i,e))},ZM=(i,e)=>{const t=i.getInput();if(!t)return null;switch(e.input){case"checkbox":return JM(t);case"radio":return eP(t);case"file":return tP(t);default:return e.inputAutoTrim?t.value.trim():t.value}},JM=i=>i.checked?1:0,eP=i=>i.checked?i.value:null,tP=i=>i.files&&i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,nP=(i,e)=>{const t=He();if(!t)return;const s=o=>{e.input==="select"?rP(t,Ef(o),e):e.input==="radio"&&sP(t,Ef(o),e)};Zg(e.inputOptions)||Jg(e.inputOptions)?(Bo(Vi()),Wu(e.inputOptions).then(o=>{i.hideLoading(),s(o)})):typeof e.inputOptions=="object"?s(e.inputOptions):Aa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},iP=(i,e)=>{const t=i.getInput();t&&(ln(t),Wu(e.inputValue).then(s=>{t.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,qt(t),t.focus(),i.hideLoading()}).catch(s=>{Aa(`Error in inputValue promise: ${s}`),t.value="",qt(t),t.focus(),i.hideLoading()}))};function rP(i,e,t){const s=as(i,G.select);if(!s)return;const o=(u,f,m)=>{const p=document.createElement("option");p.value=m,Mn(p,f),p.selected=I2(m,t.inputValue),u.appendChild(p)};e.forEach(u=>{const f=u[0],m=u[1];if(Array.isArray(m)){const p=document.createElement("optgroup");p.label=f,p.disabled=!1,s.appendChild(p),m.forEach(y=>o(p,y[1],y[0]))}else o(s,m,f)}),s.focus()}function sP(i,e,t){const s=as(i,G.radio);if(!s)return;e.forEach(u=>{const f=u[0],m=u[1],p=document.createElement("input"),y=document.createElement("label");p.type="radio",p.name=G.radio,p.value=f,I2(f,t.inputValue)&&(p.checked=!0);const _=document.createElement("span");Mn(_,m),_.className=G.label,y.appendChild(p),y.appendChild(_),s.appendChild(y)});const o=s.querySelectorAll("input");o.length&&o[0].focus()}const Ef=i=>{const e=[];return i instanceof Map?i.forEach((t,s)=>{let o=t;typeof o=="object"&&(o=Ef(o)),e.push([s,o])}):Object.keys(i).forEach(t=>{let s=i[t];typeof s=="object"&&(s=Ef(s)),e.push([t,s])}),e},I2=(i,e)=>!!e&&e.toString()===i.toString(),aP=i=>{const e=rt.innerParams.get(i);i.disableButtons(),e.input?D2(i,"confirm"):hy(i,!0)},oP=i=>{const e=rt.innerParams.get(i);i.disableButtons(),e.returnInputValueOnDeny?D2(i,"deny"):cy(i,!1)},lP=(i,e)=>{i.disableButtons(),e(Jo.cancel)},D2=(i,e)=>{const t=rt.innerParams.get(i);if(!t.input){Aa(`The "input" parameter is needed to be set when using returnInputValueOn${Wg(e)}`);return}const s=i.getInput(),o=ZM(i,t);t.inputValidator?uP(i,o,e):s&&!s.checkValidity()?(i.enableButtons(),i.showValidationMessage(t.validationMessage||s.validationMessage)):e==="deny"?cy(i,o):hy(i,o)},uP=(i,e,t)=>{const s=rt.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>Wu(s.inputValidator(e,s.validationMessage))).then(u=>{i.enableButtons(),i.enableInput(),u?i.showValidationMessage(u):t==="deny"?cy(i,e):hy(i,e)})},cy=(i,e)=>{const t=rt.innerParams.get(i||void 0);t.showLoaderOnDeny&&Bo(Sa()),t.preDeny?(i.isAwaitingPromise=!0,Promise.resolve().then(()=>Wu(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(i.hideLoading(),nc(i)):i.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>x2(i||void 0,o))):i.close({isDenied:!0,value:e})},gb=(i,e)=>{i.close({isConfirmed:!0,value:e})},x2=(i,e)=>{i.rejectPromise(e)},hy=(i,e)=>{const t=rt.innerParams.get(i||void 0);t.showLoaderOnConfirm&&Bo(),t.preConfirm?(i.resetValidationMessage(),i.isAwaitingPromise=!0,Promise.resolve().then(()=>Wu(t.preConfirm(e,t.validationMessage))).then(o=>{_n(Yf())||o===!1?(i.hideLoading(),nc(i)):gb(i,typeof o>"u"?e:o)}).catch(o=>x2(i||void 0,o))):gb(i,e)};function bf(){const i=rt.innerParams.get(this);if(!i)return;const e=rt.domCache.get(this);ln(e.loader),Xf()?i.icon&&qt(Xo()):cP(e),Wn([e.popup,e.actions],G.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const cP=i=>{const e=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));e.length?qt(e[0],"inline-block"):Lk()&&ln(i.actions)};function O2(){const i=rt.innerParams.get(this),e=rt.domCache.get(this);return e?Wf(e.popup,i.input):null}function N2(i,e,t){const s=rt.domCache.get(i);e.forEach(o=>{s[o].disabled=t})}function k2(i,e){const t=He();if(!(!t||!i))if(i.type==="radio"){const s=t.querySelectorAll(`[name="${G.radio}"]`);for(let o=0;o<s.length;o++)s[o].disabled=e}else i.disabled=e}function M2(){N2(this,["confirmButton","denyButton","cancelButton"],!1)}function P2(){N2(this,["confirmButton","denyButton","cancelButton"],!0)}function V2(){k2(this.getInput(),!1)}function L2(){k2(this.getInput(),!0)}function U2(i){const e=rt.domCache.get(this),t=rt.innerParams.get(this);Mn(e.validationMessage,i),e.validationMessage.className=G["validation-message"],t.customClass&&t.customClass.validationMessage&&Ge(e.validationMessage,t.customClass.validationMessage),qt(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",G["validation-message"]),c2(s),Ge(s,G.inputerror))}function B2(){const i=rt.domCache.get(this);i.validationMessage&&ln(i.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Wn(e,G.inputerror))}const Do={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},hP=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],fP={allowEnterKey:void 0},dP=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],z2=i=>Object.prototype.hasOwnProperty.call(Do,i),j2=i=>hP.indexOf(i)!==-1,H2=i=>fP[i],mP=i=>{z2(i)||dn(`Unknown parameter "${i}"`)},pP=i=>{dP.includes(i)&&dn(`The parameter "${i}" is incompatible with toasts`)},gP=i=>{const e=H2(i);e&&a2(i,e)},q2=i=>{i.backdrop===!1&&i.allowOutsideClick&&dn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),i.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(i.theme)&&dn(`Invalid theme "${i.theme}"`);for(const e in i)mP(e),i.toast&&pP(e),gP(e)};function F2(i){const e=mn(),t=He(),s=rt.innerParams.get(this);if(!t||yr(t,s.hideClass.popup)){dn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=yP(i),u=Object.assign({},s,o);q2(u),e.dataset.swal2Theme=u.theme,_2(this,u),rt.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}const yP=i=>{const e={};return Object.keys(i).forEach(t=>{j2(t)?e[t]=i[t]:dn(`Invalid parameter to update: ${t}`)}),e};function G2(){const i=rt.domCache.get(this),e=rt.innerParams.get(this);if(!e){$2(this);return}i.popup&&ge.swalCloseEventFinishedCallback&&(ge.swalCloseEventFinishedCallback(),delete ge.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ge.eventEmitter.emit("didDestroy"),vP(this)}const vP=i=>{$2(i),delete i.params,delete ge.keydownHandler,delete ge.keydownTarget,delete ge.currentInstance},$2=i=>{i.isAwaitingPromise?(_p(rt,i),i.isAwaitingPromise=!0):(_p(Uo,i),_p(rt,i),delete i.isAwaitingPromise,delete i.disableButtons,delete i.enableButtons,delete i.getInput,delete i.disableInput,delete i.enableInput,delete i.hideLoading,delete i.disableLoading,delete i.showValidationMessage,delete i.resetValidationMessage,delete i.close,delete i.closePopup,delete i.closeModal,delete i.closeToast,delete i.rejectPromise,delete i.update,delete i._destroy)},_p=(i,e)=>{for(const t in i)i[t].delete(e)};var wP=Object.freeze({__proto__:null,_destroy:G2,close:os,closeModal:os,closePopup:os,closeToast:os,disableButtons:P2,disableInput:L2,disableLoading:bf,enableButtons:M2,enableInput:V2,getInput:O2,handleAwaitingPromise:nc,hideLoading:bf,rejectPromise:C2,resetValidationMessage:B2,showValidationMessage:U2,update:F2});const _P=(i,e,t)=>{i.toast?EP(i,e,t):(TP(e),AP(e),SP(i,e,t))},EP=(i,e,t)=>{e.popup.onclick=()=>{i&&(bP(i)||i.timer||i.input)||t(Jo.close)}},bP=i=>!!(i.showConfirmButton||i.showDenyButton||i.showCancelButton||i.showCloseButton);let Tf=!1;const TP=i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(e){i.container.onmouseup=()=>{},e.target===i.container&&(Tf=!0)}}},AP=i=>{i.container.onmousedown=e=>{e.target===i.container&&e.preventDefault(),i.popup.onmouseup=function(t){i.popup.onmouseup=()=>{},(t.target===i.popup||t.target instanceof HTMLElement&&i.popup.contains(t.target))&&(Tf=!0)}}},SP=(i,e,t)=>{e.container.onclick=s=>{if(Tf){Tf=!1;return}s.target===e.container&&Kf(i.allowOutsideClick)&&t(Jo.backdrop)}},RP=i=>typeof i=="object"&&i.jquery,yb=i=>i instanceof Element||RP(i),CP=i=>{const e={};return typeof i[0]=="object"&&!yb(i[0])?Object.assign(e,i[0]):["title","html","icon"].forEach((t,s)=>{const o=i[s];typeof o=="string"||yb(o)?e[t]=o:o!==void 0&&Aa(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function IP(...i){return new this(...i)}function DP(i){class e extends this{_main(s,o){return super._main(s,Object.assign({},i,o))}}return e}const xP=()=>ge.timeout&&ge.timeout.getTimerLeft(),K2=()=>{if(ge.timeout)return Bk(),ge.timeout.stop()},Y2=()=>{if(ge.timeout){const i=ge.timeout.start();return ay(i),i}},OP=()=>{const i=ge.timeout;return i&&(i.running?K2():Y2())},NP=i=>{if(ge.timeout){const e=ge.timeout.increase(i);return ay(e,!0),e}},kP=()=>!!(ge.timeout&&ge.timeout.isRunning());let vb=!1;const Xp={};function MP(i="data-swal-template"){Xp[i]=this,vb||(document.body.addEventListener("click",PP),vb=!0)}const PP=i=>{for(let e=i.target;e&&e!==document;e=e.parentNode)for(const t in Xp){const s=e.getAttribute(t);if(s){Xp[t].fire({template:s});return}}};class VP{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){const s=(...o)=>{this.removeListener(e,s),t.apply(this,o)};this.on(e,s)}emit(e,...t){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const s=this._getHandlersByEventName(e),o=s.indexOf(t);o>-1&&s.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ge.eventEmitter=new VP;const LP=(i,e)=>{ge.eventEmitter.on(i,e)},UP=(i,e)=>{ge.eventEmitter.once(i,e)},BP=(i,e)=>{if(!i){ge.eventEmitter.reset();return}e?ge.eventEmitter.removeListener(i,e):ge.eventEmitter.removeAllListeners(i)};var zP=Object.freeze({__proto__:null,argsToParams:CP,bindClickHandler:MP,clickCancel:CM,clickConfirm:E2,clickDeny:RM,enableLoading:Bo,fire:IP,getActions:Ju,getCancelButton:Wo,getCloseButton:ny,getConfirmButton:Vi,getContainer:mn,getDenyButton:Sa,getFocusableElements:iy,getFooter:u2,getHtmlContainer:ey,getIcon:Xo,getIconContent:Nk,getImage:l2,getInputLabel:kk,getLoader:Zo,getPopup:He,getProgressSteps:ty,getTimerLeft:xP,getTimerProgressBar:Qf,getTitle:o2,getValidationMessage:Yf,increaseTimer:NP,isDeprecatedParameter:H2,isLoading:Pk,isTimerRunning:kP,isUpdatableParameter:j2,isValidParameter:z2,isVisible:SM,mixin:DP,off:BP,on:LP,once:UP,resumeTimer:Y2,showLoading:Bo,stopTimer:K2,toggleTimer:OP});class jP{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Q2=["swal-title","swal-html","swal-footer"],HP=i=>{const e=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!e)return{};const t=e.content;return XP(t),Object.assign(qP(t),FP(t),GP(t),$P(t),KP(t),YP(t),QP(t,Q2))},qP=i=>{const e={};return Array.from(i.querySelectorAll("swal-param")).forEach(s=>{_a(s,["name","value"]);const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(typeof Do[o]=="boolean"?e[o]=u!=="false":typeof Do[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},FP=i=>{const e={};return Array.from(i.querySelectorAll("swal-function-param")).forEach(s=>{const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},GP=i=>{const e={};return Array.from(i.querySelectorAll("swal-button")).forEach(s=>{_a(s,["type","color","aria-label"]);const o=s.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=s.innerHTML,e[`show${Wg(o)}Button`]=!0,s.hasAttribute("color")&&(e[`${o}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},$P=i=>{const e={},t=i.querySelector("swal-image");return t&&(_a(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},KP=i=>{const e={},t=i.querySelector("swal-icon");return t&&(_a(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},YP=i=>{const e={},t=i.querySelector("swal-input");t&&(_a(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const s=Array.from(i.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(o=>{_a(o,["value"]);const u=o.getAttribute("value");if(!u)return;const f=o.innerHTML;e.inputOptions[u]=f})),e},QP=(i,e)=>{const t={};for(const s in e){const o=e[s],u=i.querySelector(o);u&&(_a(u,[]),t[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return t},XP=i=>{const e=Q2.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(i.children).forEach(t=>{const s=t.tagName.toLowerCase();e.includes(s)||dn(`Unrecognized element <${s}>`)})},_a=(i,e)=>{Array.from(i.attributes).forEach(t=>{e.indexOf(t.name)===-1&&dn([`Unrecognized attribute "${t.name}" on <${i.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},X2=10,WP=i=>{const e=mn(),t=He();typeof i.willOpen=="function"&&i.willOpen(t),ge.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;eV(e,t,i),setTimeout(()=>{ZP(e,t)},X2),ry()&&(JP(e,i.scrollbarPadding,o),PM()),!Xf()&&!ge.previousActiveElement&&(ge.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(t)),ge.eventEmitter.emit("didOpen",t),Wn(e,G["no-transition"])},Af=i=>{const e=He();if(i.target!==e)return;const t=mn();e.removeEventListener("animationend",Af),e.removeEventListener("transitionend",Af),t.style.overflowY="auto"},ZP=(i,e)=>{f2(e)?(i.style.overflowY="hidden",e.addEventListener("animationend",Af),e.addEventListener("transitionend",Af)):i.style.overflowY="auto"},JP=(i,e,t)=>{VM(),e&&t!=="hidden"&&qM(t),setTimeout(()=>{i.scrollTop=0})},eV=(i,e,t)=>{Ge(i,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),qt(e,"grid"),setTimeout(()=>{Ge(e,t.showClass.popup),e.style.removeProperty("opacity")},X2)):qt(e,"grid"),Ge([document.documentElement,document.body],G.shown),t.heightAuto&&t.backdrop&&!t.toast&&Ge([document.documentElement,document.body],G["height-auto"])};var wb={email:(i,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(i,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function tV(i){i.inputValidator||(i.input==="email"&&(i.inputValidator=wb.email),i.input==="url"&&(i.inputValidator=wb.url))}function nV(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(dn('Target parameter is not valid, defaulting to "body"'),i.target="body")}function iV(i){tV(i),i.showLoaderOnConfirm&&!i.preConfirm&&dn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),nV(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),Kk(i)}let Ci;var Mh=new WeakMap;class Et{constructor(...e){if(Ak(this,Mh,void 0),typeof window>"u")return;Ci=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,Sk(Mh,this,this._main(Ci.params))}_main(e,t={}){if(q2(Object.assign({},t,e)),ge.currentInstance){const u=Uo.swalPromiseResolve.get(ge.currentInstance),{isAwaitingPromise:f}=ge.currentInstance;ge.currentInstance._destroy(),f||u({isDismissed:!0}),ry()&&A2()}ge.currentInstance=Ci;const s=sV(e,t);iV(s),Object.freeze(s),ge.timeout&&(ge.timeout.stop(),delete ge.timeout),clearTimeout(ge.restoreFocusTimeout);const o=aV(Ci);return _2(Ci,s),rt.innerParams.set(Ci,s),rV(Ci,o,s)}then(e){return ub(Mh,this).then(e)}finally(e){return ub(Mh,this).finally(e)}}const rV=(i,e,t)=>new Promise((s,o)=>{const u=f=>{i.close({isDismissed:!0,dismiss:f})};Uo.swalPromiseResolve.set(i,s),Uo.swalPromiseReject.set(i,o),e.confirmButton.onclick=()=>{aP(i)},e.denyButton.onclick=()=>{oP(i)},e.cancelButton.onclick=()=>{lP(i,u)},e.closeButton.onclick=()=>{u(Jo.close)},_P(t,e,u),IM(ge,t,u),WM(i,t),WP(t),oV(ge,t,u),lV(e,t),setTimeout(()=>{e.container.scrollTop=0})}),sV=(i,e)=>{const t=HP(i),s=Object.assign({},Do,e,t,i);return s.showClass=Object.assign({},Do.showClass,s.showClass),s.hideClass=Object.assign({},Do.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},aV=i=>{const e={popup:He(),container:mn(),actions:Ju(),confirmButton:Vi(),denyButton:Sa(),cancelButton:Wo(),loader:Zo(),closeButton:ny(),validationMessage:Yf(),progressSteps:ty()};return rt.domCache.set(i,e),e},oV=(i,e,t)=>{const s=Qf();ln(s),e.timer&&(i.timeout=new jP(()=>{t("timer"),delete i.timeout},e.timer),e.timerProgressBar&&(qt(s),Nn(s,e,"timerProgressBar"),setTimeout(()=>{i.timeout&&i.timeout.running&&ay(e.timer)})))},lV=(i,e)=>{if(!e.toast){if(!Kf(e.allowEnterKey)){a2("allowEnterKey"),hV();return}uV(i)||cV(i,e)||Qp(-1,1)}},uV=i=>{const e=Array.from(i.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&_n(t))return t.focus(),!0;return!1},cV=(i,e)=>e.focusDeny&&_n(i.denyButton)?(i.denyButton.focus(),!0):e.focusCancel&&_n(i.cancelButton)?(i.cancelButton.focus(),!0):e.focusConfirm&&_n(i.confirmButton)?(i.confirmButton.focus(),!0):!1,hV=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Et.prototype.disableButtons=P2;Et.prototype.enableButtons=M2;Et.prototype.getInput=O2;Et.prototype.disableInput=L2;Et.prototype.enableInput=V2;Et.prototype.hideLoading=bf;Et.prototype.disableLoading=bf;Et.prototype.showValidationMessage=U2;Et.prototype.resetValidationMessage=B2;Et.prototype.close=os;Et.prototype.closePopup=os;Et.prototype.closeModal=os;Et.prototype.closeToast=os;Et.prototype.rejectPromise=C2;Et.prototype.update=F2;Et.prototype._destroy=G2;Object.assign(Et,zP);Object.keys(wP).forEach(i=>{Et[i]=function(...e){return Ci&&Ci[i]?Ci[i](...e):null}});Et.DismissReason=Jo;Et.version="11.22.4";const hr=Et;hr.default=hr;typeof document<"u"&&(function(i,e){var t=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const W2="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",ws="/Fantasy-Casadillos/assets/SinPerfil-HNB6URqh.jpg",fV="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",dV="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",mV="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",pV="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",fu=Hu(oi),_b=Ko(oi),gV=new fr,yV=()=>{const[i,e]=$.useState(!1),[t,s]=$.useState(!1),[o,u]=$.useState(fV),f=$g();$.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","/particles.json",()=>{console.log("Particles.js config cargado")})},[]);const m=async _=>{_.preventDefault();const b=new FormData(_.currentTarget),A=b.get("email"),V=b.get("password");if(t)try{const{user:B}=await gC(fu,A,V),K=b.get("nick");await wC(fu.currentUser,{displayName:K});const F={nick:K,correo:A,puntos:0,rol:"usuario",dinero:1e8,equipo:{formacion:"1-1-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:ws,puntuaciones:[0],onboarding:!1,creadoEn:new Date().toISOString()};await ib(wa(_b,"usuarios",B.uid),F,{merge:!0})}catch(B){console.error("Error registrando usuario:",B);let K="No se pudo crear la cuenta. Revisa los datos.";B.code==="auth/email-already-in-use"?K="Ya existe una cuenta con este correo.":B.code==="auth/weak-password"?K="La contrasea debe tener al menos 6 caracteres.":B.code==="auth/invalid-email"?K="El correo electrnico no es vlido.":K=`Error desconocido: ${B.code}`,hr.fire({icon:"error",title:"Error",text:K})}else try{await yC(fu,A,V),console.log("Inicio de sesin exitoso"),f("/home")}catch(B){console.error("Error iniciando sesin:",B);let K="Error al iniciar sesin.";(B.code==="auth/invalid-credential"||B.code==="auth/wrong-password"||B.code==="auth/user-not-found")&&(K="Correo o contrasea incorrectos."),hr.fire({icon:"error",title:"Error al iniciar sesin",text:K})}},p=async()=>{const{value:_}=await hr.fire({title:"Recuperar contrasea",input:"email",inputLabel:"Introduce tu correo electrnico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:b=>{if(!b)return"El correo es obligatorio"}});if(_)try{await pC(fu,_),hr.fire("Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(b){hr.fire("Error",b.message,"error")}},y=async()=>{try{const _=await qC(fu,gV);if(!_?.user)throw new Error("No se obtuvo el usuario de Google.");const b=_.user,A=wa(_b,"usuarios",b.uid);(await Yu(A)).exists()||await ib(A,{nick:b.displayName||"",correo:b.email,puntos:0,rol:"usuario",dinero:1e8,equipo:{formacion:"1-1-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:ws,puntuaciones:[0],onboarding:!1,creadoEn:new Date().toISOString()})}catch(_){if(_.code==="auth/popup-closed-by-user"||_.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",_),hr.fire({icon:"error",title:"Error",text:_.message||"No se pudo iniciar sesin con Google"})}};return X.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${W2})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[X.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),X.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[X.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),X.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:X.jsx("label",{style:{cursor:"default",display:"inline-block"},children:X.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),X.jsxs("form",{onSubmit:m,children:[X.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),t&&X.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),X.jsxs("div",{className:"cajaContainerContrasea",children:[X.jsx("input",{type:i?"text":"password",name:"password",placeholder:"Introducir contrasea",className:"cajacontrasea",required:!0}),X.jsx("img",{src:i?mV:pV,alt:"Mostrar contrasea",className:"toggle-password-icon",onClick:()=>e(_=>!_)})]}),!t&&X.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:X.jsx("button",{type:"button",onClick:p,className:"link-style",children:"Has olvidado la contrasea?"})}),t?X.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):X.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[X.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesin"}),X.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),X.jsxs("button",{type:"button",onClick:y,className:"btn-google",style:{width:"auto"},children:[X.jsx("img",{src:dV,alt:"Google"}),"Google"]})]})]}),X.jsxs("h4",{className:"texto",children:[t?"Si ya tienes cuenta":"Si no tienes cuenta",X.jsx("button",{className:"btnswitch",type:"button",onClick:()=>s(!t),children:t?"Inicia sesin":"Regstrate"})]})]})]})},Eb=Ko(oi),bb=Hu(oi);function vV({usuario:i}){const[e,t]=$.useState(!1),[s,o]=$.useState(null),[u,f]=$.useState(!1),m=i?.fotoPerfil||ws,p=()=>{f(!u)},y=b=>b>=1e6?(b/1e6).toFixed(2)+"M":b>=1e3?(b/1e3).toFixed(2)+"K":b.toFixed(2),_=b=>{if(!b)return"";const A=12,V=b.indexOf(" ");let B;return V!==-1&&V<=A?(B=V,b.slice(0,B)):b.length>A?(B=A-3,b.slice(0,B)+"..."):b};return $.useEffect(()=>{if(i&&i?.onboarding===!1){t(!0);const b=setTimeout(async()=>{try{const A=wa(Eb,"usuarios",bb.currentUser.uid);await XO(A,{onboarding:!0}),window.location.reload()}catch(A){console.error("Error actualizando onboarding:",A)}},500);return()=>clearTimeout(b)}if(console.log("Foto de perfil desde Firestore o Auth:",i?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","/particles.json",()=>{console.log("Particles.js config cargado")}),i){const b=wa(Eb,"usuarios",i.uid);Yu(b).then(A=>{A.exists()&&o(A.data().dinero)})}},[i]),X.jsxs("div",{children:[X.jsxs("header",{className:"Cabecera",children:[X.jsxs("div",{className:"container-profile",children:[X.jsx("div",{className:"img-profile-small",children:X.jsx("img",{src:m,onError:b=>{b.currentTarget.onerror=null,b.currentTarget.src=ws},onClick:()=>TC(bb),alt:"Foto de perfil"})}),X.jsxs("div",{className:"info-profile",children:[X.jsx("h2",{className:"nombre-usuario",children:_(i?.nick||i?.displayName)}),s!==null&&X.jsxs("p",{className:"dinero-usuario",children:["",X.jsx("strong",{children:y(s)})]})]})]}),X.jsx("button",{onClick:p,className:"Cabecera-button",children:X.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:X.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),X.jsx("nav",{className:`Cabecera-nav ${u?"isActive":""}`,children:X.jsxs("ul",{className:"Cabecera-ul",children:[X.jsx("li",{className:"Cabecera-li",children:X.jsx(ai,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),X.jsx("li",{className:"Cabecera-li",children:X.jsx(ai,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),X.jsx("li",{className:"Cabecera-li",children:X.jsx(ai,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})})]})})]}),X.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${W2})`},children:[X.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),X.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:X.jsx("div",{className:"campo"})})]}),X.jsxs("div",{className:"contenido-negro",children:[X.jsx("h2",{children:"Contenido debajo del fondo"}),X.jsx("p",{children:"Aqu puedes seguir aadiendo secciones."})]}),e&&X.jsx("div",{className:"onboarding-overlay",children:X.jsx("div",{className:"loader",children:"Cargando..."})})]})}const wV=Ko(oi);Hu(oi);function _V({usuario:i}){const[e,t]=$.useState(!1),[s,o]=$.useState(null),[u,f]=$.useState(!1),m=i?.fotoPerfil||ws,p=()=>{f(!u)},y=b=>b>=1e6?(b/1e6).toFixed(2)+"M":b>=1e3?(b/1e3).toFixed(2)+"K":b.toFixed(2),_=b=>{if(!b)return"";const A=12,V=b.indexOf(" ");let B;return V!==-1&&V<=A?(B=V,b.slice(0,B)):b.length>A?(B=A-3,b.slice(0,B)+"..."):b};return $.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","/particles.json",()=>{console.log("Particles.js config cargado")}),i){const b=wa(wV,"usuarios",i.uid);Yu(b).then(A=>{A.exists()&&o(A.data().dinero)})}},[i]),X.jsxs("div",{children:[X.jsxs("header",{className:"Cabecera",children:[X.jsxs("div",{className:"container-profile",children:[X.jsx("div",{className:"img-profile-small",children:X.jsx("img",{src:m,onError:b=>{b.currentTarget.onerror=null,b.currentTarget.src=ws},alt:"Foto de perfil"})}),X.jsxs("div",{className:"info-profile",children:[X.jsx("h2",{className:"nombre-usuario",children:_(i?.nick||i?.displayName)}),s!==null&&X.jsxs("p",{className:"dinero-usuario",children:["",X.jsx("strong",{children:y(s)})]})]})]}),X.jsx("button",{onClick:p,className:"Cabecera-button",children:X.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:X.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),X.jsx("nav",{className:`Cabecera-nav ${u?"isActive":""}`,children:X.jsxs("ul",{className:"Cabecera-ul",children:[X.jsx("li",{className:"Cabecera-li",children:X.jsx(ai,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),X.jsx("li",{className:"Cabecera-li",children:X.jsx(ai,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),X.jsx("li",{className:"Cabecera-li",children:X.jsx(ai,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})})]})})]}),X.jsxs("div",{className:"login-hero-Cabecera",children:[X.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),X.jsx("div",{className:"form-card-Home",style:{textAlign:"center",position:"relative",zIndex:1}})]}),X.jsxs("div",{className:"contenido-negro",children:[X.jsx("h2",{children:"Contenido debajo del fondo"}),X.jsx("p",{children:"Aqu puedes seguir aadiendo secciones."})]})]})}const EV=Ko(oi);Hu(oi);function bV({usuario:i}){const[e,t]=$.useState(!1),[s,o]=$.useState(null),[u,f]=$.useState(!1),m=i?.fotoPerfil||ws,p=()=>{f(!u)},y=b=>b>=1e6?(b/1e6).toFixed(2)+"M":b>=1e3?(b/1e3).toFixed(2)+"K":b.toFixed(2),_=b=>{if(!b)return"";const A=12,V=b.indexOf(" ");let B;return V!==-1&&V<=A?(B=V,b.slice(0,B)):b.length>A?(B=A-3,b.slice(0,B)+"..."):b};return $.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","/particles.json",()=>{console.log("Particles.js config cargado")}),i){const b=wa(EV,"usuarios",i.uid);Yu(b).then(A=>{A.exists()&&o(A.data().dinero)})}},[i]),X.jsxs("div",{children:[X.jsxs("header",{className:"Cabecera",children:[X.jsxs("div",{className:"container-profile",children:[X.jsx("div",{className:"img-profile-small",children:X.jsx("img",{src:m,onError:b=>{b.currentTarget.onerror=null,b.currentTarget.src=ws},alt:"Foto de perfil"})}),X.jsxs("div",{className:"info-profile",children:[X.jsx("h2",{className:"nombre-usuario",children:_(i?.nick||i?.displayName)}),s!==null&&X.jsxs("p",{className:"dinero-usuario",children:["",X.jsx("strong",{children:y(s)})]})]})]}),X.jsx("button",{onClick:p,className:"Cabecera-button",children:X.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:X.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),X.jsx("nav",{className:`Cabecera-nav ${u?"isActive":""}`,children:X.jsxs("ul",{className:"Cabecera-ul",children:[X.jsx("li",{className:"Cabecera-li",children:X.jsx(ai,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),X.jsx("li",{className:"Cabecera-li",children:X.jsx(ai,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),X.jsx("li",{className:"Cabecera-li",children:X.jsx(ai,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})})]})})]}),X.jsxs("div",{className:"login-hero-Cabecera",children:[X.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),X.jsx("div",{className:"form-card-Home",style:{textAlign:"center",position:"relative",zIndex:1}})]})]})}const TV=Hu(oi),AV=Ko(oi);function SV(){const[i,e]=$.useState(null),[t,s]=$.useState(!0);return $.useEffect(()=>{const o=bC(TV,async u=>{if(u)try{const f=await Yu(wa(AV,"usuarios",u.uid));f.exists()?e({uid:u.uid,...f.data()}):e({uid:u.uid,correo:u.email,onboarding:!1})}catch(f){console.error("Error obteniendo datos de usuario:",f),e(null)}else e(null);s(!1)});return()=>o()},[]),t?X.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):X.jsx(dk,{children:X.jsxs(FN,{children:[X.jsx(To,{path:"/",element:i?X.jsx(cu,{to:"/home",replace:!0}):X.jsx(yV,{})}),X.jsx(To,{path:"/home",element:i?X.jsx(vV,{usuario:i}):X.jsx(cu,{to:"/",replace:!0})}),X.jsx(To,{path:"/mercado",element:i?X.jsx(_V,{usuario:i}):X.jsx(cu,{to:"/",replace:!0})}),X.jsx(To,{path:"/clasificacion",element:i?X.jsx(bV,{usuario:i}):X.jsx(cu,{to:"/",replace:!0})}),X.jsx(To,{path:"*",element:X.jsx(cu,{to:i?"/home":"/",replace:!0})})]})})}O1.createRoot(document.getElementById("root")).render(X.jsx($.StrictMode,{children:X.jsx(SV,{})}));
