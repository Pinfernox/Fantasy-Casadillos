(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function pS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var om={exports:{}},Nu={},am={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function mS(){if(l_)return ze;l_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function b($){return $===null||typeof $!="object"?null:($=E&&$[E]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,M={};function D($,Y,ge){this.props=$,this.context=Y,this.refs=M,this.updater=ge||x}D.prototype.isReactComponent={},D.prototype.setState=function($,Y){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Y,"setState")},D.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function W(){}W.prototype=D.prototype;function z($,Y,ge){this.props=$,this.context=Y,this.refs=M,this.updater=ge||x}var q=z.prototype=new W;q.constructor=z,L(q,D.prototype),q.isPureReactComponent=!0;var Z=Array.isArray,X=Object.prototype.hasOwnProperty,ne={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I($,Y,ge){var Te,xe={},Ne=null,Fe=null;if(Y!=null)for(Te in Y.ref!==void 0&&(Fe=Y.ref),Y.key!==void 0&&(Ne=""+Y.key),Y)X.call(Y,Te)&&!R.hasOwnProperty(Te)&&(xe[Te]=Y[Te]);var Me=arguments.length-2;if(Me===1)xe.children=ge;else if(1<Me){for(var $e=Array(Me),ot=0;ot<Me;ot++)$e[ot]=arguments[ot+2];xe.children=$e}if($&&$.defaultProps)for(Te in Me=$.defaultProps,Me)xe[Te]===void 0&&(xe[Te]=Me[Te]);return{$$typeof:t,type:$,key:Ne,ref:Fe,props:xe,_owner:ne.current}}function k($,Y){return{$$typeof:t,type:$.type,key:Y,ref:$.ref,props:$.props,_owner:$._owner}}function A($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function O($){var Y={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ge){return Y[ge]})}var F=/\/+/g;function C($,Y){return typeof $=="object"&&$!==null&&$.key!=null?O(""+$.key):Y.toString(36)}function be($,Y,ge,Te,xe){var Ne=typeof $;(Ne==="undefined"||Ne==="boolean")&&($=null);var Fe=!1;if($===null)Fe=!0;else switch(Ne){case"string":case"number":Fe=!0;break;case"object":switch($.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=$,xe=xe(Fe),$=Te===""?"."+C(Fe,0):Te,Z(xe)?(ge="",$!=null&&(ge=$.replace(F,"$&/")+"/"),be(xe,Y,ge,"",function(ot){return ot})):xe!=null&&(A(xe)&&(xe=k(xe,ge+(!xe.key||Fe&&Fe.key===xe.key?"":(""+xe.key).replace(F,"$&/")+"/")+$)),Y.push(xe)),1;if(Fe=0,Te=Te===""?".":Te+":",Z($))for(var Me=0;Me<$.length;Me++){Ne=$[Me];var $e=Te+C(Ne,Me);Fe+=be(Ne,Y,ge,$e,xe)}else if($e=b($),typeof $e=="function")for($=$e.call($),Me=0;!(Ne=$.next()).done;)Ne=Ne.value,$e=Te+C(Ne,Me++),Fe+=be(Ne,Y,ge,$e,xe);else if(Ne==="object")throw Y=String($),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Fe}function De($,Y,ge){if($==null)return $;var Te=[],xe=0;return be($,Te,"","",function(Ne){return Y.call(ge,Ne,xe++)}),Te}function pe($){if($._status===-1){var Y=$._result;Y=Y(),Y.then(function(ge){($._status===0||$._status===-1)&&($._status=1,$._result=ge)},function(ge){($._status===0||$._status===-1)&&($._status=2,$._result=ge)}),$._status===-1&&($._status=0,$._result=Y)}if($._status===1)return $._result.default;throw $._result}var _e={current:null},te={transition:null},le={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:te,ReactCurrentOwner:ne};function ce(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:De,forEach:function($,Y,ge){De($,function(){Y.apply(this,arguments)},ge)},count:function($){var Y=0;return De($,function(){Y++}),Y},toArray:function($){return De($,function(Y){return Y})||[]},only:function($){if(!A($))throw Error("React.Children.only expected to receive a single React element child.");return $}},ze.Component=D,ze.Fragment=n,ze.Profiler=o,ze.PureComponent=z,ze.StrictMode=r,ze.Suspense=p,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,ze.act=ce,ze.cloneElement=function($,Y,ge){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Te=L({},$.props),xe=$.key,Ne=$.ref,Fe=$._owner;if(Y!=null){if(Y.ref!==void 0&&(Ne=Y.ref,Fe=ne.current),Y.key!==void 0&&(xe=""+Y.key),$.type&&$.type.defaultProps)var Me=$.type.defaultProps;for($e in Y)X.call(Y,$e)&&!R.hasOwnProperty($e)&&(Te[$e]=Y[$e]===void 0&&Me!==void 0?Me[$e]:Y[$e])}var $e=arguments.length-2;if($e===1)Te.children=ge;else if(1<$e){Me=Array($e);for(var ot=0;ot<$e;ot++)Me[ot]=arguments[ot+2];Te.children=Me}return{$$typeof:t,type:$.type,key:xe,ref:Ne,props:Te,_owner:Fe}},ze.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},ze.createElement=I,ze.createFactory=function($){var Y=I.bind(null,$);return Y.type=$,Y},ze.createRef=function(){return{current:null}},ze.forwardRef=function($){return{$$typeof:h,render:$}},ze.isValidElement=A,ze.lazy=function($){return{$$typeof:w,_payload:{_status:-1,_result:$},_init:pe}},ze.memo=function($,Y){return{$$typeof:y,type:$,compare:Y===void 0?null:Y}},ze.startTransition=function($){var Y=te.transition;te.transition={};try{$()}finally{te.transition=Y}},ze.unstable_act=ce,ze.useCallback=function($,Y){return _e.current.useCallback($,Y)},ze.useContext=function($){return _e.current.useContext($)},ze.useDebugValue=function(){},ze.useDeferredValue=function($){return _e.current.useDeferredValue($)},ze.useEffect=function($,Y){return _e.current.useEffect($,Y)},ze.useId=function(){return _e.current.useId()},ze.useImperativeHandle=function($,Y,ge){return _e.current.useImperativeHandle($,Y,ge)},ze.useInsertionEffect=function($,Y){return _e.current.useInsertionEffect($,Y)},ze.useLayoutEffect=function($,Y){return _e.current.useLayoutEffect($,Y)},ze.useMemo=function($,Y){return _e.current.useMemo($,Y)},ze.useReducer=function($,Y,ge){return _e.current.useReducer($,Y,ge)},ze.useRef=function($){return _e.current.useRef($)},ze.useState=function($){return _e.current.useState($)},ze.useSyncExternalStore=function($,Y,ge){return _e.current.useSyncExternalStore($,Y,ge)},ze.useTransition=function(){return _e.current.useTransition()},ze.version="18.3.1",ze}var u_;function Rg(){return u_||(u_=1,am.exports=mS()),am.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function gS(){if(c_)return Nu;c_=1;var t=Rg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,y){var w,E={},b=null,x=null;y!==void 0&&(b=""+y),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(x=p.ref);for(w in p)r.call(p,w)&&!a.hasOwnProperty(w)&&(E[w]=p[w]);if(h&&h.defaultProps)for(w in p=h.defaultProps,p)E[w]===void 0&&(E[w]=p[w]);return{$$typeof:e,type:h,key:b,ref:x,props:E,_owner:o.current}}return Nu.Fragment=n,Nu.jsx=c,Nu.jsxs=c,Nu}var d_;function yS(){return d_||(d_=1,om.exports=gS()),om.exports}var N=yS(),S=Rg();const Ue=pS(S);var Md={},lm={exports:{}},Kn={},um={exports:{}},cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function wS(){return h_||(h_=1,(function(t){function e(te,le){var ce=te.length;te.push(le);e:for(;0<ce;){var $=ce-1>>>1,Y=te[$];if(0<o(Y,le))te[$]=le,te[ce]=Y,ce=$;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var le=te[0],ce=te.pop();if(ce!==le){te[0]=ce;e:for(var $=0,Y=te.length,ge=Y>>>1;$<ge;){var Te=2*($+1)-1,xe=te[Te],Ne=Te+1,Fe=te[Ne];if(0>o(xe,ce))Ne<Y&&0>o(Fe,xe)?(te[$]=Fe,te[Ne]=ce,$=Ne):(te[$]=xe,te[Te]=ce,$=Te);else if(Ne<Y&&0>o(Fe,ce))te[$]=Fe,te[Ne]=ce,$=Ne;else break e}}return le}function o(te,le){var ce=te.sortIndex-le.sortIndex;return ce!==0?ce:te.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],y=[],w=1,E=null,b=3,x=!1,L=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(te){for(var le=n(y);le!==null;){if(le.callback===null)r(y);else if(le.startTime<=te)r(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(y)}}function Z(te){if(M=!1,q(te),!L)if(n(p)!==null)L=!0,pe(X);else{var le=n(y);le!==null&&_e(Z,le.startTime-te)}}function X(te,le){L=!1,M&&(M=!1,W(I),I=-1),x=!0;var ce=b;try{for(q(le),E=n(p);E!==null&&(!(E.expirationTime>le)||te&&!O());){var $=E.callback;if(typeof $=="function"){E.callback=null,b=E.priorityLevel;var Y=$(E.expirationTime<=le);le=t.unstable_now(),typeof Y=="function"?E.callback=Y:E===n(p)&&r(p),q(le)}else r(p);E=n(p)}if(E!==null)var ge=!0;else{var Te=n(y);Te!==null&&_e(Z,Te.startTime-le),ge=!1}return ge}finally{E=null,b=ce,x=!1}}var ne=!1,R=null,I=-1,k=5,A=-1;function O(){return!(t.unstable_now()-A<k)}function F(){if(R!==null){var te=t.unstable_now();A=te;var le=!0;try{le=R(!0,te)}finally{le?C():(ne=!1,R=null)}}else ne=!1}var C;if(typeof z=="function")C=function(){z(F)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,De=be.port2;be.port1.onmessage=F,C=function(){De.postMessage(null)}}else C=function(){D(F,0)};function pe(te){R=te,ne||(ne=!0,C())}function _e(te,le){I=D(function(){te(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){L||x||(L=!0,pe(X))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(te){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var ce=b;b=le;try{return te()}finally{b=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,le){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ce=b;b=te;try{return le()}finally{b=ce}},t.unstable_scheduleCallback=function(te,le,ce){var $=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?$+ce:$):ce=$,te){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ce+Y,te={id:w++,callback:le,priorityLevel:te,startTime:ce,expirationTime:Y,sortIndex:-1},ce>$?(te.sortIndex=ce,e(y,te),n(p)===null&&te===n(y)&&(M?(W(I),I=-1):M=!0,_e(Z,ce-$))):(te.sortIndex=Y,e(p,te),L||x||(L=!0,pe(X))),te},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(te){var le=b;return function(){var ce=b;b=le;try{return te.apply(this,arguments)}finally{b=ce}}}})(cm)),cm}var f_;function vS(){return f_||(f_=1,um.exports=wS()),um.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function _S(){if(p_)return Kn;p_=1;var t=Rg(),e=vS();function n(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){c(i,s),c(i+"Capture",s)}function c(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function b(i){return p.call(E,i)?!0:p.call(w,i)?!1:y.test(i)?E[i]=!0:(w[i]=!0,!1)}function x(i,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function L(i,s,l,d){if(s===null||typeof s>"u"||x(i,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(i,s,l,d,f,g,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=g,this.removeEmptyString=_}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){D[i]=new M(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];D[s]=new M(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){D[i]=new M(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){D[i]=new M(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){D[i]=new M(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){D[i]=new M(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){D[i]=new M(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){D[i]=new M(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){D[i]=new M(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(W,z);D[s]=new M(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(W,z);D[s]=new M(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(W,z);D[s]=new M(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){D[i]=new M(i,1,!1,i.toLowerCase(),null,!1,!1)}),D.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){D[i]=new M(i,1,!1,i.toLowerCase(),null,!0,!0)});function q(i,s,l,d){var f=D.hasOwnProperty(s)?D[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,l,f,d)&&(l=null),d||f===null?b(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):f.mustUseProperty?i[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,d=f.attributeNamespace,l===null?i.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?i.setAttributeNS(d,s,l):i.setAttribute(s,l))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ne=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),te=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=te&&i[te]||i["@@iterator"],typeof i=="function"?i:null)}var ce=Object.assign,$;function Y(i){if($===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+i}var ge=!1;function Te(i,s){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var d=G}Reflect.construct(i,[],s)}else{try{s.call()}catch(G){d=G}i.call(s.prototype)}else{try{throw Error()}catch(G){d=G}i()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var f=G.stack.split(`
`),g=d.stack.split(`
`),_=f.length-1,P=g.length-1;1<=_&&0<=P&&f[_]!==g[P];)P--;for(;1<=_&&0<=P;_--,P--)if(f[_]!==g[P]){if(_!==1||P!==1)do if(_--,P--,0>P||f[_]!==g[P]){var V=`
`+f[_].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=_&&0<=P);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function xe(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Te(i.type,!1),i;case 11:return i=Te(i.type.render,!1),i;case 1:return i=Te(i.type,!0),i;default:return""}}function Ne(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case ne:return"Portal";case k:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case be:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case A:return(i._context.displayName||"Context")+".Provider";case F:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case De:return s=i.displayName||null,s!==null?s:Ne(i.type)||"Memo";case pe:s=i._payload,i=i._init;try{return Ne(i(s))}catch{}}return null}function Fe(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $e(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ot(i){var s=$e(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){d=""+_,g.call(this,_)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function _t(i){i._valueTracker||(i._valueTracker=ot(i))}function Et(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return i&&(d=$e(i)?i.checked?"true":"false":i.value),i=d,i!==l?(s.setValue(i),!0):!1}function Zn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function yr(i,s){var l=s.checked;return ce({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function ti(i,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Me(s.value!=null?s.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ni(i,s){s=s.checked,s!=null&&q(i,"checked",s,!1)}function Oi(i,s){Ni(i,s);var l=Me(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?ws(i,s.type,l):s.hasOwnProperty("defaultValue")&&ws(i,s.type,Me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function pt(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function ws(i,s,l){(s!=="number"||Zn(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Mn=Array.isArray;function wr(i,s,l,d){if(i=i.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<i.length;l++)f=s.hasOwnProperty("$"+i[l].value),i[l].selected!==f&&(i[l].selected=f),f&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Me(l),s=null,f=0;f<i.length;f++){if(i[f].value===l){i[f].selected=!0,d&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function vs(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Di(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(Mn(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Me(l)}}function Li(i,s){var l=Me(s.value),d=Me(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function To(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Nt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Nt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var er,Co=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,f){MSApp.execUnsafeLocalFunction(function(){return i(s,l,d,f)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=er.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ni(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ii=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(i){ii.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),ri[s]=ri[i]})});function Io(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ri.hasOwnProperty(i)&&ri[i]?(""+s).trim():s+"px"}function So(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=Io(l,s[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,f):i[l]=f}}var _s=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ro(i,s){if(s){if(_s[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function ko(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vi=null;function Mi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Es=null,kn=null,tr=null;function vr(i){if(i=yu(i)){if(typeof Es!="function")throw Error(n(280));var s=i.stateNode;s&&(s=Jc(s),Es(i.stateNode,i.type,s))}}function _r(i){kn?tr?tr.push(i):tr=[i]:kn=i}function Ao(){if(kn){var i=kn,s=tr;if(tr=kn=null,vr(i),s)for(i=0;i<s.length;i++)vr(s[i])}}function si(i,s){return i(s)}function bs(){}var Er=!1;function Ts(i,s,l){if(Er)return i(s,l);Er=!0;try{return si(i,s,l)}finally{Er=!1,(kn!==null||tr!==null)&&(bs(),Ao())}}function mt(i,s){var l=i.stateNode;if(l===null)return null;var d=Jc(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var Fi=!1;if(h)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Fi=!1}function oi(i,s,l,d,f,g,_,P,V){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(ie){this.onError(ie)}}var ji=!1,Cs=null,jt=!1,un=null,Po={onError:function(i){ji=!0,Cs=i}};function $i(i,s,l,d,f,g,_,P,V){ji=!1,Cs=null,oi.apply(Po,arguments)}function xo(i,s,l,d,f,g,_,P,V){if($i.apply(this,arguments),ji){if(ji){var G=Cs;ji=!1,Cs=null}else throw Error(n(198));jt||(jt=!0,un=G)}}function Rt(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function jn(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function nr(i){if(Rt(i)!==i)throw Error(n(188))}function br(i){var s=i.alternate;if(!s){if(s=Rt(i),s===null)throw Error(n(188));return s!==i?null:i}for(var l=i,d=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return nr(f),i;if(g===d)return nr(f),s;g=g.sibling}throw Error(n(188))}if(l.return!==d.return)l=f,d=g;else{for(var _=!1,P=f.child;P;){if(P===l){_=!0,l=f,d=g;break}if(P===d){_=!0,d=f,l=g;break}P=P.sibling}if(!_){for(P=g.child;P;){if(P===l){_=!0,l=g,d=f;break}if(P===d){_=!0,d=g,l=f;break}P=P.sibling}if(!_)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:s}function Is(i){return i=br(i),i!==null?Vr(i):null}function Vr(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Vr(i);if(s!==null)return s;i=i.sibling}return null}var Ui=e.unstable_scheduleCallback,No=e.unstable_cancelCallback,Ra=e.unstable_shouldYield,tu=e.unstable_requestPaint,it=e.unstable_now,Ot=e.unstable_getCurrentPriorityLevel,rr=e.unstable_ImmediatePriority,ai=e.unstable_UserBlockingPriority,$n=e.unstable_NormalPriority,Oo=e.unstable_LowPriority,ka=e.unstable_IdlePriority,Bi=null,An=null;function Aa(i){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Bi,i,void 0,(i.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:xa,Do=Math.log,Pa=Math.LN2;function xa(i){return i>>>=0,i===0?32:31-(Do(i)/Pa|0)|0}var Ce=64,Be=4194304;function gt(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Gt(i,s){var l=i.pendingLanes;if(l===0)return 0;var d=0,f=i.suspendedLanes,g=i.pingedLanes,_=l&268435455;if(_!==0){var P=_&~f;P!==0?d=gt(P):(g&=_,g!==0&&(d=gt(g)))}else _=l&~f,_!==0?d=gt(_):g!==0&&(d=gt(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&f)===0&&(f=d&-d,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=d;0<s;)l=31-kt(s),f=1<<l,d|=i[l],s&=~f;return d}function ke(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ir(i,s){for(var l=i.suspendedLanes,d=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes;0<g;){var _=31-kt(g),P=1<<_,V=f[_];V===-1?((P&l)===0||(P&d)!==0)&&(f[_]=ke(P,s)):V<=s&&(i.expiredLanes|=P),g&=~P}}function $t(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yn(){var i=Ce;return Ce<<=1,(Ce&4194240)===0&&(Ce=64),i}function Ss(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Rs(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-kt(s),i[s]=l}function st(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var f=31-kt(l),g=1<<f;s[f]=0,d[f]=-1,i[f]=-1,l&=~g}}function ks(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var d=31-kt(l),f=1<<d;f&s|i[d]&s&&(i[d]|=s),l&=~f}}var Ke=0;function As(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var xc,Na,Nc,Oc,Dc,nu=!1,li=[],cn=null,Mr=null,Fr=null,Ps=new Map,Tr=new Map,ui=[],Mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(i,s){switch(i){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Ps.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(s.pointerId)}}function Un(i,s,l,d,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},s!==null&&(s=yu(s),s!==null&&Na(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function Ff(i,s,l,d,f){switch(s){case"focusin":return cn=Un(cn,i,s,l,d,f),!0;case"dragenter":return Mr=Un(Mr,i,s,l,d,f),!0;case"mouseover":return Fr=Un(Fr,i,s,l,d,f),!0;case"pointerover":var g=f.pointerId;return Ps.set(g,Un(Ps.get(g)||null,i,s,l,d,f)),!0;case"gotpointercapture":return g=f.pointerId,Tr.set(g,Un(Tr.get(g)||null,i,s,l,d,f)),!0}return!1}function Vc(i){var s=jo(i.target);if(s!==null){var l=Rt(s);if(l!==null){if(s=l.tag,s===13){if(s=jn(l),s!==null){i.blockedOn=s,Dc(i.priority,function(){Nc(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zi(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Oa(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Vi=d,l.target.dispatchEvent(d),Vi=null}else return s=yu(l),s!==null&&Na(s),i.blockedOn=l,!1;s.shift()}return!0}function Lo(i,s,l){zi(i)&&l.delete(s)}function Mc(){nu=!1,cn!==null&&zi(cn)&&(cn=null),Mr!==null&&zi(Mr)&&(Mr=null),Fr!==null&&zi(Fr)&&(Fr=null),Ps.forEach(Lo),Tr.forEach(Lo)}function jr(i,s){i.blockedOn===s&&(i.blockedOn=null,nu||(nu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Mc)))}function $r(i){function s(f){return jr(f,i)}if(0<li.length){jr(li[0],i);for(var l=1;l<li.length;l++){var d=li[l];d.blockedOn===i&&(d.blockedOn=null)}}for(cn!==null&&jr(cn,i),Mr!==null&&jr(Mr,i),Fr!==null&&jr(Fr,i),Ps.forEach(s),Tr.forEach(s),l=0;l<ui.length;l++)d=ui[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<ui.length&&(l=ui[0],l.blockedOn===null);)Vc(l),l.blockedOn===null&&ui.shift()}var Hi=Z.ReactCurrentBatchConfig,xs=!0;function yt(i,s,l,d){var f=Ke,g=Hi.transition;Hi.transition=null;try{Ke=1,ru(i,s,l,d)}finally{Ke=f,Hi.transition=g}}function jf(i,s,l,d){var f=Ke,g=Hi.transition;Hi.transition=null;try{Ke=4,ru(i,s,l,d)}finally{Ke=f,Hi.transition=g}}function ru(i,s,l,d){if(xs){var f=Oa(i,s,l,d);if(f===null)Yf(i,s,d,Vo,l),Lc(i,d);else if(Ff(f,i,s,l,d))d.stopPropagation();else if(Lc(i,d),s&4&&-1<Mf.indexOf(i)){for(;f!==null;){var g=yu(f);if(g!==null&&xc(g),g=Oa(i,s,l,d),g===null&&Yf(i,s,d,Vo,l),g===f)break;f=g}f!==null&&d.stopPropagation()}else Yf(i,s,d,null,l)}}var Vo=null;function Oa(i,s,l,d){if(Vo=null,i=Mi(d),i=jo(i),i!==null)if(s=Rt(i),s===null)i=null;else if(l=s.tag,l===13){if(i=jn(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Vo=i,null}function iu(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ot()){case rr:return 1;case ai:return 4;case $n:case Oo:return 16;case ka:return 536870912;default:return 16}default:return 16}}var sr=null,Da=null,Bn=null;function su(){if(Bn)return Bn;var i,s=Da,l=s.length,d,f="value"in sr?sr.value:sr.textContent,g=f.length;for(i=0;i<l&&s[i]===f[i];i++);var _=l-i;for(d=1;d<=_&&s[l-d]===f[g-d];d++);return Bn=f.slice(i,1<d?1-d:void 0)}function La(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ci(){return!0}function ou(){return!1}function dn(i){function s(l,d,f,g,_){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(g):g[P]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ci:ou,this.isPropagationStopped=ou,this}return ce(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),s}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=dn(Ur),di=ce({},Ur,{view:0,detail:0}),$f=dn(di),Ma,Wi,Ns,Mo=ce({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hi,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ns&&(Ns&&i.type==="mousemove"?(Ma=i.screenX-Ns.screenX,Wi=i.screenY-Ns.screenY):Wi=Ma=0,Ns=i),Ma)},movementY:function(i){return"movementY"in i?i.movementY:Wi}}),Fa=dn(Mo),au=ce({},Mo,{dataTransfer:0}),Fc=dn(au),ja=ce({},di,{relatedTarget:0}),$a=dn(ja),jc=ce({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),qi=dn(jc),$c=ce({},Ur,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Uc=dn($c),Bc=ce({},Ur,{data:0}),lu=dn(Bc),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=zc[i])?!!s[i]:!1}function hi(){return Hc}var u=ce({},di,{key:function(i){if(i.key){var s=Ua[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=La(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hi,charCode:function(i){return i.type==="keypress"?La(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?La(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),m=dn(u),v=ce({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=dn(v),U=ce({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hi}),K=dn(U),ue=ce({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),rt=dn(ue),Kt=ce({},Mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=dn(Kt),en=[9,13,27,32],Ut=h&&"CompositionEvent"in window,Cr=null;h&&"documentMode"in document&&(Cr=document.documentMode);var or=h&&"TextEvent"in window&&!Cr,Fo=h&&(!Ut||Cr&&8<Cr&&11>=Cr),Ba=" ",nw=!1;function rw(i,s){switch(i){case"keyup":return en.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var za=!1;function dI(i,s){switch(i){case"compositionend":return iw(s);case"keypress":return s.which!==32?null:(nw=!0,Ba);case"textInput":return i=s.data,i===Ba&&nw?null:i;default:return null}}function hI(i,s){if(za)return i==="compositionend"||!Ut&&rw(i,s)?(i=su(),Bn=Da=sr=null,za=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Fo&&s.locale!=="ko"?null:s.data;default:return null}}var fI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sw(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!fI[i.type]:s==="textarea"}function ow(i,s,l,d){_r(d),s=Qc(s,"onChange"),0<s.length&&(l=new Va("onChange","change",null,l,d),i.push({event:l,listeners:s}))}var uu=null,cu=null;function pI(i){Cw(i,0)}function Wc(i){var s=Ka(i);if(Et(s))return i}function mI(i,s){if(i==="change")return s}var aw=!1;if(h){var Uf;if(h){var Bf="oninput"in document;if(!Bf){var lw=document.createElement("div");lw.setAttribute("oninput","return;"),Bf=typeof lw.oninput=="function"}Uf=Bf}else Uf=!1;aw=Uf&&(!document.documentMode||9<document.documentMode)}function uw(){uu&&(uu.detachEvent("onpropertychange",cw),cu=uu=null)}function cw(i){if(i.propertyName==="value"&&Wc(cu)){var s=[];ow(s,cu,i,Mi(i)),Ts(pI,s)}}function gI(i,s,l){i==="focusin"?(uw(),uu=s,cu=l,uu.attachEvent("onpropertychange",cw)):i==="focusout"&&uw()}function yI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wc(cu)}function wI(i,s){if(i==="click")return Wc(s)}function vI(i,s){if(i==="input"||i==="change")return Wc(s)}function _I(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Br=typeof Object.is=="function"?Object.is:_I;function du(i,s){if(Br(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(s,f)||!Br(i[f],s[f]))return!1}return!0}function dw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hw(i,s){var l=dw(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=s&&d>=s)return{node:l,offset:s-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dw(l)}}function fw(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?fw(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function pw(){for(var i=window,s=Zn();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Zn(i.document)}return s}function zf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function EI(i){var s=pw(),l=i.focusedElem,d=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&fw(l.ownerDocument.documentElement,l)){if(d!==null&&zf(l)){if(s=d.start,i=d.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var f=l.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!i.extend&&g>d&&(f=d,d=g,g=f),f=hw(l,g);var _=hw(l,d);f&&_&&(i.rangeCount!==1||i.anchorNode!==f.node||i.anchorOffset!==f.offset||i.focusNode!==_.node||i.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),i.removeAllRanges(),g>d?(i.addRange(s),i.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var bI=h&&"documentMode"in document&&11>=document.documentMode,Ha=null,Hf=null,hu=null,Wf=!1;function mw(i,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Wf||Ha==null||Ha!==Zn(d)||(d=Ha,"selectionStart"in d&&zf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),hu&&du(hu,d)||(hu=d,d=Qc(Hf,"onSelect"),0<d.length&&(s=new Va("onSelect","select",null,s,l),i.push({event:s,listeners:d}),s.target=Ha)))}function qc(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Wa={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},qf={},gw={};h&&(gw=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Gc(i){if(qf[i])return qf[i];if(!Wa[i])return i;var s=Wa[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in gw)return qf[i]=s[l];return i}var yw=Gc("animationend"),ww=Gc("animationiteration"),vw=Gc("animationstart"),_w=Gc("transitionend"),Ew=new Map,bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(i,s){Ew.set(i,s),a(s,[i])}for(var Gf=0;Gf<bw.length;Gf++){var Kf=bw[Gf],TI=Kf.toLowerCase(),CI=Kf[0].toUpperCase()+Kf.slice(1);Os(TI,"on"+CI)}Os(yw,"onAnimationEnd"),Os(ww,"onAnimationIteration"),Os(vw,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(_w,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),II=new Set("cancel close invalid load scroll toggle".split(" ").concat(fu));function Tw(i,s,l){var d=i.type||"unknown-event";i.currentTarget=l,xo(d,s,void 0,i),i.currentTarget=null}function Cw(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],f=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var _=d.length-1;0<=_;_--){var P=d[_],V=P.instance,G=P.currentTarget;if(P=P.listener,V!==g&&f.isPropagationStopped())break e;Tw(f,P,G),g=V}else for(_=0;_<d.length;_++){if(P=d[_],V=P.instance,G=P.currentTarget,P=P.listener,V!==g&&f.isPropagationStopped())break e;Tw(f,P,G),g=V}}}if(jt)throw i=un,jt=!1,un=null,i}function ct(i,s){var l=s[np];l===void 0&&(l=s[np]=new Set);var d=i+"__bubble";l.has(d)||(Iw(s,i,2,!1),l.add(d))}function Qf(i,s,l){var d=0;s&&(d|=4),Iw(l,i,d,s)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function pu(i){if(!i[Kc]){i[Kc]=!0,r.forEach(function(l){l!=="selectionchange"&&(II.has(l)||Qf(l,!1,i),Qf(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Kc]||(s[Kc]=!0,Qf("selectionchange",!1,s))}}function Iw(i,s,l,d){switch(iu(s)){case 1:var f=yt;break;case 4:f=jf;break;default:f=ru}l=f.bind(null,s,l,i),f=void 0,!Fi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?i.addEventListener(s,l,{capture:!0,passive:f}):i.addEventListener(s,l,!0):f!==void 0?i.addEventListener(s,l,{passive:f}):i.addEventListener(s,l,!1)}function Yf(i,s,l,d,f){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var P=d.stateNode.containerInfo;if(P===f||P.nodeType===8&&P.parentNode===f)break;if(_===4)for(_=d.return;_!==null;){var V=_.tag;if((V===3||V===4)&&(V=_.stateNode.containerInfo,V===f||V.nodeType===8&&V.parentNode===f))return;_=_.return}for(;P!==null;){if(_=jo(P),_===null)return;if(V=_.tag,V===5||V===6){d=g=_;continue e}P=P.parentNode}}d=d.return}Ts(function(){var G=g,ie=Mi(l),se=[];e:{var re=Ew.get(i);if(re!==void 0){var he=Va,ye=i;switch(i){case"keypress":if(La(l)===0)break e;case"keydown":case"keyup":he=m;break;case"focusin":ye="focus",he=$a;break;case"focusout":ye="blur",he=$a;break;case"beforeblur":case"afterblur":he=$a;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=K;break;case yw:case ww:case vw:he=qi;break;case _w:he=rt;break;case"scroll":he=$f;break;case"wheel":he=Qe;break;case"copy":case"cut":case"paste":he=Uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=T}var we=(s&4)!==0,Dt=!we&&i==="scroll",B=we?re!==null?re+"Capture":null:re;we=[];for(var j=G,H;j!==null;){H=j;var ae=H.stateNode;if(H.tag===5&&ae!==null&&(H=ae,B!==null&&(ae=mt(j,B),ae!=null&&we.push(mu(j,ae,H)))),Dt)break;j=j.return}0<we.length&&(re=new he(re,ye,null,l,ie),se.push({event:re,listeners:we}))}}if((s&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",re&&l!==Vi&&(ye=l.relatedTarget||l.fromElement)&&(jo(ye)||ye[Gi]))break e;if((he||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,he?(ye=l.relatedTarget||l.toElement,he=G,ye=ye?jo(ye):null,ye!==null&&(Dt=Rt(ye),ye!==Dt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(he=null,ye=G),he!==ye)){if(we=Fa,ae="onMouseLeave",B="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(we=T,ae="onPointerLeave",B="onPointerEnter",j="pointer"),Dt=he==null?re:Ka(he),H=ye==null?re:Ka(ye),re=new we(ae,j+"leave",he,l,ie),re.target=Dt,re.relatedTarget=H,ae=null,jo(ie)===G&&(we=new we(B,j+"enter",ye,l,ie),we.target=H,we.relatedTarget=Dt,ae=we),Dt=ae,he&&ye)t:{for(we=he,B=ye,j=0,H=we;H;H=qa(H))j++;for(H=0,ae=B;ae;ae=qa(ae))H++;for(;0<j-H;)we=qa(we),j--;for(;0<H-j;)B=qa(B),H--;for(;j--;){if(we===B||B!==null&&we===B.alternate)break t;we=qa(we),B=qa(B)}we=null}else we=null;he!==null&&Sw(se,re,he,we,!1),ye!==null&&Dt!==null&&Sw(se,Dt,ye,we,!0)}}e:{if(re=G?Ka(G):window,he=re.nodeName&&re.nodeName.toLowerCase(),he==="select"||he==="input"&&re.type==="file")var ve=mI;else if(sw(re))if(aw)ve=vI;else{ve=yI;var Ie=gI}else(he=re.nodeName)&&he.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(ve=wI);if(ve&&(ve=ve(i,G))){ow(se,ve,l,ie);break e}Ie&&Ie(i,re,G),i==="focusout"&&(Ie=re._wrapperState)&&Ie.controlled&&re.type==="number"&&ws(re,"number",re.value)}switch(Ie=G?Ka(G):window,i){case"focusin":(sw(Ie)||Ie.contentEditable==="true")&&(Ha=Ie,Hf=G,hu=null);break;case"focusout":hu=Hf=Ha=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,mw(se,l,ie);break;case"selectionchange":if(bI)break;case"keydown":case"keyup":mw(se,l,ie)}var Se;if(Ut)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else za?rw(i,l)&&(Oe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(Fo&&l.locale!=="ko"&&(za||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&za&&(Se=su()):(sr=ie,Da="value"in sr?sr.value:sr.textContent,za=!0)),Ie=Qc(G,Oe),0<Ie.length&&(Oe=new lu(Oe,i,null,l,ie),se.push({event:Oe,listeners:Ie}),Se?Oe.data=Se:(Se=iw(l),Se!==null&&(Oe.data=Se)))),(Se=or?dI(i,l):hI(i,l))&&(G=Qc(G,"onBeforeInput"),0<G.length&&(ie=new lu("onBeforeInput","beforeinput",null,l,ie),se.push({event:ie,listeners:G}),ie.data=Se))}Cw(se,s)})}function mu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Qc(i,s){for(var l=s+"Capture",d=[];i!==null;){var f=i,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=mt(i,l),g!=null&&d.unshift(mu(i,g,f)),g=mt(i,s),g!=null&&d.push(mu(i,g,f))),i=i.return}return d}function qa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Sw(i,s,l,d,f){for(var g=s._reactName,_=[];l!==null&&l!==d;){var P=l,V=P.alternate,G=P.stateNode;if(V!==null&&V===d)break;P.tag===5&&G!==null&&(P=G,f?(V=mt(l,g),V!=null&&_.unshift(mu(l,V,P))):f||(V=mt(l,g),V!=null&&_.push(mu(l,V,P)))),l=l.return}_.length!==0&&i.push({event:s,listeners:_})}var SI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function Rw(i){return(typeof i=="string"?i:""+i).replace(SI,`
`).replace(RI,"")}function Yc(i,s,l){if(s=Rw(s),Rw(i)!==s&&l)throw Error(n(425))}function Xc(){}var Xf=null,Jf=null;function Zf(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ep=typeof setTimeout=="function"?setTimeout:void 0,kI=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,AI=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(i){return kw.resolve(null).then(i).catch(PI)}:ep;function PI(i){setTimeout(function(){throw i})}function tp(i,s){var l=s,d=0;do{var f=l.nextSibling;if(i.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){i.removeChild(f),$r(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);$r(s)}function Ds(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Aw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Ga=Math.random().toString(36).slice(2),fi="__reactFiber$"+Ga,gu="__reactProps$"+Ga,Gi="__reactContainer$"+Ga,np="__reactEvents$"+Ga,xI="__reactListeners$"+Ga,NI="__reactHandles$"+Ga;function jo(i){var s=i[fi];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Gi]||l[fi]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Aw(i);i!==null;){if(l=i[fi])return l;i=Aw(i)}return s}i=l,l=i.parentNode}return null}function yu(i){return i=i[fi]||i[Gi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ka(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Jc(i){return i[gu]||null}var rp=[],Qa=-1;function Ls(i){return{current:i}}function dt(i){0>Qa||(i.current=rp[Qa],rp[Qa]=null,Qa--)}function at(i,s){Qa++,rp[Qa]=i.current,i.current=s}var Vs={},wn=Ls(Vs),zn=Ls(!1),$o=Vs;function Ya(i,s){var l=i.type.contextTypes;if(!l)return Vs;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=f),f}function Hn(i){return i=i.childContextTypes,i!=null}function Zc(){dt(zn),dt(wn)}function Pw(i,s,l){if(wn.current!==Vs)throw Error(n(168));at(wn,s),at(zn,l)}function xw(i,s,l){var d=i.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(n(108,Fe(i)||"Unknown",f));return ce({},l,d)}function ed(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vs,$o=wn.current,at(wn,i),at(zn,zn.current),!0}function Nw(i,s,l){var d=i.stateNode;if(!d)throw Error(n(169));l?(i=xw(i,s,$o),d.__reactInternalMemoizedMergedChildContext=i,dt(zn),dt(wn),at(wn,i)):dt(zn),at(zn,l)}var Ki=null,td=!1,ip=!1;function Ow(i){Ki===null?Ki=[i]:Ki.push(i)}function OI(i){td=!0,Ow(i)}function Ms(){if(!ip&&Ki!==null){ip=!0;var i=0,s=Ke;try{var l=Ki;for(Ke=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Ki=null,td=!1}catch(f){throw Ki!==null&&(Ki=Ki.slice(i+1)),Ui(rr,Ms),f}finally{Ke=s,ip=!1}}return null}var Xa=[],Ja=0,nd=null,rd=0,Ir=[],Sr=0,Uo=null,Qi=1,Yi="";function Bo(i,s){Xa[Ja++]=rd,Xa[Ja++]=nd,nd=i,rd=s}function Dw(i,s,l){Ir[Sr++]=Qi,Ir[Sr++]=Yi,Ir[Sr++]=Uo,Uo=i;var d=Qi;i=Yi;var f=32-kt(d)-1;d&=~(1<<f),l+=1;var g=32-kt(s)+f;if(30<g){var _=f-f%5;g=(d&(1<<_)-1).toString(32),d>>=_,f-=_,Qi=1<<32-kt(s)+f|l<<f|d,Yi=g+i}else Qi=1<<g|l<<f|d,Yi=i}function sp(i){i.return!==null&&(Bo(i,1),Dw(i,1,0))}function op(i){for(;i===nd;)nd=Xa[--Ja],Xa[Ja]=null,rd=Xa[--Ja],Xa[Ja]=null;for(;i===Uo;)Uo=Ir[--Sr],Ir[Sr]=null,Yi=Ir[--Sr],Ir[Sr]=null,Qi=Ir[--Sr],Ir[Sr]=null}var ar=null,lr=null,wt=!1,zr=null;function Lw(i,s){var l=Pr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Vw(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,ar=i,lr=Ds(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,ar=i,lr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Uo!==null?{id:Qi,overflow:Yi}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Pr(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,ar=i,lr=null,!0):!1;default:return!1}}function ap(i){return(i.mode&1)!==0&&(i.flags&128)===0}function lp(i){if(wt){var s=lr;if(s){var l=s;if(!Vw(i,s)){if(ap(i))throw Error(n(418));s=Ds(l.nextSibling);var d=ar;s&&Vw(i,s)?Lw(d,l):(i.flags=i.flags&-4097|2,wt=!1,ar=i)}}else{if(ap(i))throw Error(n(418));i.flags=i.flags&-4097|2,wt=!1,ar=i}}}function Mw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ar=i}function id(i){if(i!==ar)return!1;if(!wt)return Mw(i),wt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Zf(i.type,i.memoizedProps)),s&&(s=lr)){if(ap(i))throw Fw(),Error(n(418));for(;s;)Lw(i,s),s=Ds(s.nextSibling)}if(Mw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){lr=Ds(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}lr=null}}else lr=ar?Ds(i.stateNode.nextSibling):null;return!0}function Fw(){for(var i=lr;i;)i=Ds(i.nextSibling)}function Za(){lr=ar=null,wt=!1}function up(i){zr===null?zr=[i]:zr.push(i)}var DI=Z.ReactCurrentBatchConfig;function wu(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,i));var f=d,g=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var P=f.refs;_===null?delete P[g]:P[g]=_},s._stringRef=g,s)}if(typeof i!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,i))}return i}function sd(i,s){throw i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function jw(i){var s=i._init;return s(i._payload)}function $w(i){function s(B,j){if(i){var H=B.deletions;H===null?(B.deletions=[j],B.flags|=16):H.push(j)}}function l(B,j){if(!i)return null;for(;j!==null;)s(B,j),j=j.sibling;return null}function d(B,j){for(B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function f(B,j){return B=Ws(B,j),B.index=0,B.sibling=null,B}function g(B,j,H){return B.index=H,i?(H=B.alternate,H!==null?(H=H.index,H<j?(B.flags|=2,j):H):(B.flags|=2,j)):(B.flags|=1048576,j)}function _(B){return i&&B.alternate===null&&(B.flags|=2),B}function P(B,j,H,ae){return j===null||j.tag!==6?(j=em(H,B.mode,ae),j.return=B,j):(j=f(j,H),j.return=B,j)}function V(B,j,H,ae){var ve=H.type;return ve===R?ie(B,j,H.props.children,ae,H.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===pe&&jw(ve)===j.type)?(ae=f(j,H.props),ae.ref=wu(B,j,H),ae.return=B,ae):(ae=Ad(H.type,H.key,H.props,null,B.mode,ae),ae.ref=wu(B,j,H),ae.return=B,ae)}function G(B,j,H,ae){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=tm(H,B.mode,ae),j.return=B,j):(j=f(j,H.children||[]),j.return=B,j)}function ie(B,j,H,ae,ve){return j===null||j.tag!==7?(j=Yo(H,B.mode,ae,ve),j.return=B,j):(j=f(j,H),j.return=B,j)}function se(B,j,H){if(typeof j=="string"&&j!==""||typeof j=="number")return j=em(""+j,B.mode,H),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case X:return H=Ad(j.type,j.key,j.props,null,B.mode,H),H.ref=wu(B,null,j),H.return=B,H;case ne:return j=tm(j,B.mode,H),j.return=B,j;case pe:var ae=j._init;return se(B,ae(j._payload),H)}if(Mn(j)||le(j))return j=Yo(j,B.mode,H,null),j.return=B,j;sd(B,j)}return null}function re(B,j,H,ae){var ve=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ve!==null?null:P(B,j,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case X:return H.key===ve?V(B,j,H,ae):null;case ne:return H.key===ve?G(B,j,H,ae):null;case pe:return ve=H._init,re(B,j,ve(H._payload),ae)}if(Mn(H)||le(H))return ve!==null?null:ie(B,j,H,ae,null);sd(B,H)}return null}function he(B,j,H,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return B=B.get(H)||null,P(j,B,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case X:return B=B.get(ae.key===null?H:ae.key)||null,V(j,B,ae,ve);case ne:return B=B.get(ae.key===null?H:ae.key)||null,G(j,B,ae,ve);case pe:var Ie=ae._init;return he(B,j,H,Ie(ae._payload),ve)}if(Mn(ae)||le(ae))return B=B.get(H)||null,ie(j,B,ae,ve,null);sd(j,ae)}return null}function ye(B,j,H,ae){for(var ve=null,Ie=null,Se=j,Oe=j=0,rn=null;Se!==null&&Oe<H.length;Oe++){Se.index>Oe?(rn=Se,Se=null):rn=Se.sibling;var Je=re(B,Se,H[Oe],ae);if(Je===null){Se===null&&(Se=rn);break}i&&Se&&Je.alternate===null&&s(B,Se),j=g(Je,j,Oe),Ie===null?ve=Je:Ie.sibling=Je,Ie=Je,Se=rn}if(Oe===H.length)return l(B,Se),wt&&Bo(B,Oe),ve;if(Se===null){for(;Oe<H.length;Oe++)Se=se(B,H[Oe],ae),Se!==null&&(j=g(Se,j,Oe),Ie===null?ve=Se:Ie.sibling=Se,Ie=Se);return wt&&Bo(B,Oe),ve}for(Se=d(B,Se);Oe<H.length;Oe++)rn=he(Se,B,Oe,H[Oe],ae),rn!==null&&(i&&rn.alternate!==null&&Se.delete(rn.key===null?Oe:rn.key),j=g(rn,j,Oe),Ie===null?ve=rn:Ie.sibling=rn,Ie=rn);return i&&Se.forEach(function(qs){return s(B,qs)}),wt&&Bo(B,Oe),ve}function we(B,j,H,ae){var ve=le(H);if(typeof ve!="function")throw Error(n(150));if(H=ve.call(H),H==null)throw Error(n(151));for(var Ie=ve=null,Se=j,Oe=j=0,rn=null,Je=H.next();Se!==null&&!Je.done;Oe++,Je=H.next()){Se.index>Oe?(rn=Se,Se=null):rn=Se.sibling;var qs=re(B,Se,Je.value,ae);if(qs===null){Se===null&&(Se=rn);break}i&&Se&&qs.alternate===null&&s(B,Se),j=g(qs,j,Oe),Ie===null?ve=qs:Ie.sibling=qs,Ie=qs,Se=rn}if(Je.done)return l(B,Se),wt&&Bo(B,Oe),ve;if(Se===null){for(;!Je.done;Oe++,Je=H.next())Je=se(B,Je.value,ae),Je!==null&&(j=g(Je,j,Oe),Ie===null?ve=Je:Ie.sibling=Je,Ie=Je);return wt&&Bo(B,Oe),ve}for(Se=d(B,Se);!Je.done;Oe++,Je=H.next())Je=he(Se,B,Oe,Je.value,ae),Je!==null&&(i&&Je.alternate!==null&&Se.delete(Je.key===null?Oe:Je.key),j=g(Je,j,Oe),Ie===null?ve=Je:Ie.sibling=Je,Ie=Je);return i&&Se.forEach(function(fS){return s(B,fS)}),wt&&Bo(B,Oe),ve}function Dt(B,j,H,ae){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case X:e:{for(var ve=H.key,Ie=j;Ie!==null;){if(Ie.key===ve){if(ve=H.type,ve===R){if(Ie.tag===7){l(B,Ie.sibling),j=f(Ie,H.props.children),j.return=B,B=j;break e}}else if(Ie.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===pe&&jw(ve)===Ie.type){l(B,Ie.sibling),j=f(Ie,H.props),j.ref=wu(B,Ie,H),j.return=B,B=j;break e}l(B,Ie);break}else s(B,Ie);Ie=Ie.sibling}H.type===R?(j=Yo(H.props.children,B.mode,ae,H.key),j.return=B,B=j):(ae=Ad(H.type,H.key,H.props,null,B.mode,ae),ae.ref=wu(B,j,H),ae.return=B,B=ae)}return _(B);case ne:e:{for(Ie=H.key;j!==null;){if(j.key===Ie)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){l(B,j.sibling),j=f(j,H.children||[]),j.return=B,B=j;break e}else{l(B,j);break}else s(B,j);j=j.sibling}j=tm(H,B.mode,ae),j.return=B,B=j}return _(B);case pe:return Ie=H._init,Dt(B,j,Ie(H._payload),ae)}if(Mn(H))return ye(B,j,H,ae);if(le(H))return we(B,j,H,ae);sd(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,j!==null&&j.tag===6?(l(B,j.sibling),j=f(j,H),j.return=B,B=j):(l(B,j),j=em(H,B.mode,ae),j.return=B,B=j),_(B)):l(B,j)}return Dt}var el=$w(!0),Uw=$w(!1),od=Ls(null),ad=null,tl=null,cp=null;function dp(){cp=tl=ad=null}function hp(i){var s=od.current;dt(od),i._currentValue=s}function fp(i,s,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===l)break;i=i.return}}function nl(i,s){ad=i,cp=tl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(Wn=!0),i.firstContext=null)}function Rr(i){var s=i._currentValue;if(cp!==i)if(i={context:i,memoizedValue:s,next:null},tl===null){if(ad===null)throw Error(n(308));tl=i,ad.dependencies={lanes:0,firstContext:i}}else tl=tl.next=i;return s}var zo=null;function pp(i){zo===null?zo=[i]:zo.push(i)}function Bw(i,s,l,d){var f=s.interleaved;return f===null?(l.next=l,pp(s)):(l.next=f.next,f.next=l),s.interleaved=l,Xi(i,d)}function Xi(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Fs=!1;function mp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zw(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ji(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function js(i,s,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Xe&2)!==0){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,Xi(i,l)}return f=d.interleaved,f===null?(s.next=s,pp(d)):(s.next=f.next,f.next=s),d.interleaved=s,Xi(i,l)}function ld(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,ks(i,l)}}function Hw(i,s){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=_:g=g.next=_,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function ud(i,s,l,d){var f=i.updateQueue;Fs=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var V=P,G=V.next;V.next=null,_===null?g=G:_.next=G,_=V;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,P=ie.lastBaseUpdate,P!==_&&(P===null?ie.firstBaseUpdate=G:P.next=G,ie.lastBaseUpdate=V))}if(g!==null){var se=f.baseState;_=0,ie=G=V=null,P=g;do{var re=P.lane,he=P.eventTime;if((d&re)===re){ie!==null&&(ie=ie.next={eventTime:he,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ye=i,we=P;switch(re=s,he=l,we.tag){case 1:if(ye=we.payload,typeof ye=="function"){se=ye.call(he,se,re);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,re=typeof ye=="function"?ye.call(he,se,re):ye,re==null)break e;se=ce({},se,re);break e;case 2:Fs=!0}}P.callback!==null&&P.lane!==0&&(i.flags|=64,re=f.effects,re===null?f.effects=[P]:re.push(P))}else he={eventTime:he,lane:re,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ie===null?(G=ie=he,V=se):ie=ie.next=he,_|=re;if(P=P.next,P===null){if(P=f.shared.pending,P===null)break;re=P,P=re.next,re.next=null,f.lastBaseUpdate=re,f.shared.pending=null}}while(!0);if(ie===null&&(V=se),f.baseState=V,f.firstBaseUpdate=G,f.lastBaseUpdate=ie,s=f.shared.interleaved,s!==null){f=s;do _|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);qo|=_,i.lanes=_,i.memoizedState=se}}function Ww(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var d=i[s],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(n(191,f));f.call(d)}}}var vu={},pi=Ls(vu),_u=Ls(vu),Eu=Ls(vu);function Ho(i){if(i===vu)throw Error(n(174));return i}function gp(i,s){switch(at(Eu,s),at(_u,i),at(pi,vu),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:St(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=St(s,i)}dt(pi),at(pi,s)}function rl(){dt(pi),dt(_u),dt(Eu)}function qw(i){Ho(Eu.current);var s=Ho(pi.current),l=St(s,i.type);s!==l&&(at(_u,i),at(pi,l))}function yp(i){_u.current===i&&(dt(pi),dt(_u))}var bt=Ls(0);function cd(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var wp=[];function vp(){for(var i=0;i<wp.length;i++)wp[i]._workInProgressVersionPrimary=null;wp.length=0}var dd=Z.ReactCurrentDispatcher,_p=Z.ReactCurrentBatchConfig,Wo=0,Tt=null,Qt=null,tn=null,hd=!1,bu=!1,Tu=0,LI=0;function vn(){throw Error(n(321))}function Ep(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Br(i[l],s[l]))return!1;return!0}function bp(i,s,l,d,f,g){if(Wo=g,Tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,dd.current=i===null||i.memoizedState===null?jI:$I,i=l(d,f),bu){g=0;do{if(bu=!1,Tu=0,25<=g)throw Error(n(301));g+=1,tn=Qt=null,s.updateQueue=null,dd.current=UI,i=l(d,f)}while(bu)}if(dd.current=md,s=Qt!==null&&Qt.next!==null,Wo=0,tn=Qt=Tt=null,hd=!1,s)throw Error(n(300));return i}function Tp(){var i=Tu!==0;return Tu=0,i}function mi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Tt.memoizedState=tn=i:tn=tn.next=i,tn}function kr(){if(Qt===null){var i=Tt.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var s=tn===null?Tt.memoizedState:tn.next;if(s!==null)tn=s,Qt=i;else{if(i===null)throw Error(n(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},tn===null?Tt.memoizedState=tn=i:tn=tn.next=i}return tn}function Cu(i,s){return typeof s=="function"?s(i):s}function Cp(i){var s=kr(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var d=Qt,f=d.baseQueue,g=l.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}d.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,d=d.baseState;var P=_=null,V=null,G=g;do{var ie=G.lane;if((Wo&ie)===ie)V!==null&&(V=V.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:i(d,G.action);else{var se={lane:ie,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};V===null?(P=V=se,_=d):V=V.next=se,Tt.lanes|=ie,qo|=ie}G=G.next}while(G!==null&&G!==g);V===null?_=d:V.next=P,Br(d,s.memoizedState)||(Wn=!0),s.memoizedState=d,s.baseState=_,s.baseQueue=V,l.lastRenderedState=d}if(i=l.interleaved,i!==null){f=i;do g=f.lane,Tt.lanes|=g,qo|=g,f=f.next;while(f!==i)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Ip(i){var s=kr(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var d=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var _=f=f.next;do g=i(g,_.action),_=_.next;while(_!==f);Br(g,s.memoizedState)||(Wn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,d]}function Gw(){}function Kw(i,s){var l=Tt,d=kr(),f=s(),g=!Br(d.memoizedState,f);if(g&&(d.memoizedState=f,Wn=!0),d=d.queue,Sp(Xw.bind(null,l,d,i),[i]),d.getSnapshot!==s||g||tn!==null&&tn.memoizedState.tag&1){if(l.flags|=2048,Iu(9,Yw.bind(null,l,d,f,s),void 0,null),nn===null)throw Error(n(349));(Wo&30)!==0||Qw(l,s,f)}return f}function Qw(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Tt.updateQueue,s===null?(s={lastEffect:null,stores:null},Tt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Yw(i,s,l,d){s.value=l,s.getSnapshot=d,Jw(s)&&Zw(i)}function Xw(i,s,l){return l(function(){Jw(s)&&Zw(i)})}function Jw(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Br(i,l)}catch{return!0}}function Zw(i){var s=Xi(i,1);s!==null&&Gr(s,i,1,-1)}function ev(i){var s=mi();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:i},s.queue=i,i=i.dispatch=FI.bind(null,Tt,i),[s.memoizedState,i]}function Iu(i,s,l,d){return i={tag:i,create:s,destroy:l,deps:d,next:null},s=Tt.updateQueue,s===null?(s={lastEffect:null,stores:null},Tt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,s.lastEffect=i)),i}function tv(){return kr().memoizedState}function fd(i,s,l,d){var f=mi();Tt.flags|=i,f.memoizedState=Iu(1|s,l,void 0,d===void 0?null:d)}function pd(i,s,l,d){var f=kr();d=d===void 0?null:d;var g=void 0;if(Qt!==null){var _=Qt.memoizedState;if(g=_.destroy,d!==null&&Ep(d,_.deps)){f.memoizedState=Iu(s,l,g,d);return}}Tt.flags|=i,f.memoizedState=Iu(1|s,l,g,d)}function nv(i,s){return fd(8390656,8,i,s)}function Sp(i,s){return pd(2048,8,i,s)}function rv(i,s){return pd(4,2,i,s)}function iv(i,s){return pd(4,4,i,s)}function sv(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function ov(i,s,l){return l=l!=null?l.concat([i]):null,pd(4,4,sv.bind(null,s,i),l)}function Rp(){}function av(i,s){var l=kr();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Ep(s,d[1])?d[0]:(l.memoizedState=[i,s],i)}function lv(i,s){var l=kr();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Ep(s,d[1])?d[0]:(i=i(),l.memoizedState=[i,s],i)}function uv(i,s,l){return(Wo&21)===0?(i.baseState&&(i.baseState=!1,Wn=!0),i.memoizedState=l):(Br(l,s)||(l=yn(),Tt.lanes|=l,qo|=l,i.baseState=!0),s)}function VI(i,s){var l=Ke;Ke=l!==0&&4>l?l:4,i(!0);var d=_p.transition;_p.transition={};try{i(!1),s()}finally{Ke=l,_p.transition=d}}function cv(){return kr().memoizedState}function MI(i,s,l){var d=zs(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},dv(i))hv(s,l);else if(l=Bw(i,s,l,d),l!==null){var f=Nn();Gr(l,i,d,f),fv(l,s,d)}}function FI(i,s,l){var d=zs(i),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(dv(i))hv(s,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,P=g(_,l);if(f.hasEagerState=!0,f.eagerState=P,Br(P,_)){var V=s.interleaved;V===null?(f.next=f,pp(s)):(f.next=V.next,V.next=f),s.interleaved=f;return}}catch{}finally{}l=Bw(i,s,f,d),l!==null&&(f=Nn(),Gr(l,i,d,f),fv(l,s,d))}}function dv(i){var s=i.alternate;return i===Tt||s!==null&&s===Tt}function hv(i,s){bu=hd=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function fv(i,s,l){if((l&4194240)!==0){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,ks(i,l)}}var md={readContext:Rr,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},jI={readContext:Rr,useCallback:function(i,s){return mi().memoizedState=[i,s===void 0?null:s],i},useContext:Rr,useEffect:nv,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,fd(4194308,4,sv.bind(null,s,i),l)},useLayoutEffect:function(i,s){return fd(4194308,4,i,s)},useInsertionEffect:function(i,s){return fd(4,2,i,s)},useMemo:function(i,s){var l=mi();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var d=mi();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},d.queue=i,i=i.dispatch=MI.bind(null,Tt,i),[d.memoizedState,i]},useRef:function(i){var s=mi();return i={current:i},s.memoizedState=i},useState:ev,useDebugValue:Rp,useDeferredValue:function(i){return mi().memoizedState=i},useTransition:function(){var i=ev(!1),s=i[0];return i=VI.bind(null,i[1]),mi().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var d=Tt,f=mi();if(wt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),nn===null)throw Error(n(349));(Wo&30)!==0||Qw(d,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,nv(Xw.bind(null,d,g,i),[i]),d.flags|=2048,Iu(9,Yw.bind(null,d,g,l,s),void 0,null),l},useId:function(){var i=mi(),s=nn.identifierPrefix;if(wt){var l=Yi,d=Qi;l=(d&~(1<<32-kt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Tu++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=LI++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},$I={readContext:Rr,useCallback:av,useContext:Rr,useEffect:Sp,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:lv,useReducer:Cp,useRef:tv,useState:function(){return Cp(Cu)},useDebugValue:Rp,useDeferredValue:function(i){var s=kr();return uv(s,Qt.memoizedState,i)},useTransition:function(){var i=Cp(Cu)[0],s=kr().memoizedState;return[i,s]},useMutableSource:Gw,useSyncExternalStore:Kw,useId:cv,unstable_isNewReconciler:!1},UI={readContext:Rr,useCallback:av,useContext:Rr,useEffect:Sp,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:lv,useReducer:Ip,useRef:tv,useState:function(){return Ip(Cu)},useDebugValue:Rp,useDeferredValue:function(i){var s=kr();return Qt===null?s.memoizedState=i:uv(s,Qt.memoizedState,i)},useTransition:function(){var i=Ip(Cu)[0],s=kr().memoizedState;return[i,s]},useMutableSource:Gw,useSyncExternalStore:Kw,useId:cv,unstable_isNewReconciler:!1};function Hr(i,s){if(i&&i.defaultProps){s=ce({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function kp(i,s,l,d){s=i.memoizedState,l=l(d,s),l=l==null?s:ce({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var gd={isMounted:function(i){return(i=i._reactInternals)?Rt(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var d=Nn(),f=zs(i),g=Ji(d,f);g.payload=s,l!=null&&(g.callback=l),s=js(i,g,f),s!==null&&(Gr(s,i,f,d),ld(s,i,f))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var d=Nn(),f=zs(i),g=Ji(d,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=js(i,g,f),s!==null&&(Gr(s,i,f,d),ld(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Nn(),d=zs(i),f=Ji(l,d);f.tag=2,s!=null&&(f.callback=s),s=js(i,f,d),s!==null&&(Gr(s,i,d,l),ld(s,i,d))}};function pv(i,s,l,d,f,g,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,g,_):s.prototype&&s.prototype.isPureReactComponent?!du(l,d)||!du(f,g):!0}function mv(i,s,l){var d=!1,f=Vs,g=s.contextType;return typeof g=="object"&&g!==null?g=Rr(g):(f=Hn(s)?$o:wn.current,d=s.contextTypes,g=(d=d!=null)?Ya(i,f):Vs),s=new s(l,g),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=gd,i.stateNode=s,s._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=f,i.__reactInternalMemoizedMaskedChildContext=g),s}function gv(i,s,l,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==i&&gd.enqueueReplaceState(s,s.state,null)}function Ap(i,s,l,d){var f=i.stateNode;f.props=l,f.state=i.memoizedState,f.refs={},mp(i);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Rr(g):(g=Hn(s)?$o:wn.current,f.context=Ya(i,g)),f.state=i.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(kp(i,s,g,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&gd.enqueueReplaceState(f,f.state,null),ud(i,l,f,d),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308)}function il(i,s){try{var l="",d=s;do l+=xe(d),d=d.return;while(d);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:i,source:s,stack:f,digest:null}}function Pp(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function xp(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var BI=typeof WeakMap=="function"?WeakMap:Map;function yv(i,s,l){l=Ji(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Td||(Td=!0,qp=d),xp(i,s)},l}function wv(i,s,l){l=Ji(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;l.payload=function(){return d(f)},l.callback=function(){xp(i,s)}}var g=i.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){xp(i,s),typeof d!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),l}function vv(i,s,l){var d=i.pingCache;if(d===null){d=i.pingCache=new BI;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(l)||(f.add(l),i=nS.bind(null,i,s,l),s.then(i,i))}function _v(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Ev(i,s,l,d,f){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Ji(-1,1),s.tag=2,js(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=f,i)}var zI=Z.ReactCurrentOwner,Wn=!1;function xn(i,s,l,d){s.child=i===null?Uw(s,null,l,d):el(s,i.child,l,d)}function bv(i,s,l,d,f){l=l.render;var g=s.ref;return nl(s,f),d=bp(i,s,l,d,g,f),l=Tp(),i!==null&&!Wn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,Zi(i,s,f)):(wt&&l&&sp(s),s.flags|=1,xn(i,s,d,f),s.child)}function Tv(i,s,l,d,f){if(i===null){var g=l.type;return typeof g=="function"&&!Zp(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Cv(i,s,g,d,f)):(i=Ad(l.type,null,d,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,(i.lanes&f)===0){var _=g.memoizedProps;if(l=l.compare,l=l!==null?l:du,l(_,d)&&i.ref===s.ref)return Zi(i,s,f)}return s.flags|=1,i=Ws(g,d),i.ref=s.ref,i.return=s,s.child=i}function Cv(i,s,l,d,f){if(i!==null){var g=i.memoizedProps;if(du(g,d)&&i.ref===s.ref)if(Wn=!1,s.pendingProps=d=g,(i.lanes&f)!==0)(i.flags&131072)!==0&&(Wn=!0);else return s.lanes=i.lanes,Zi(i,s,f)}return Np(i,s,l,d,f)}function Iv(i,s,l){var d=s.pendingProps,f=d.children,g=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(ol,ur),ur|=l;else{if((l&1073741824)===0)return i=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,at(ol,ur),ur|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,at(ol,ur),ur|=d}else g!==null?(d=g.baseLanes|l,s.memoizedState=null):d=l,at(ol,ur),ur|=d;return xn(i,s,f,l),s.child}function Sv(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Np(i,s,l,d,f){var g=Hn(l)?$o:wn.current;return g=Ya(s,g),nl(s,f),l=bp(i,s,l,d,g,f),d=Tp(),i!==null&&!Wn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,Zi(i,s,f)):(wt&&d&&sp(s),s.flags|=1,xn(i,s,l,f),s.child)}function Rv(i,s,l,d,f){if(Hn(l)){var g=!0;ed(s)}else g=!1;if(nl(s,f),s.stateNode===null)wd(i,s),mv(s,l,d),Ap(s,l,d,f),d=!0;else if(i===null){var _=s.stateNode,P=s.memoizedProps;_.props=P;var V=_.context,G=l.contextType;typeof G=="object"&&G!==null?G=Rr(G):(G=Hn(l)?$o:wn.current,G=Ya(s,G));var ie=l.getDerivedStateFromProps,se=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function";se||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==d||V!==G)&&gv(s,_,d,G),Fs=!1;var re=s.memoizedState;_.state=re,ud(s,d,_,f),V=s.memoizedState,P!==d||re!==V||zn.current||Fs?(typeof ie=="function"&&(kp(s,l,ie,d),V=s.memoizedState),(P=Fs||pv(s,l,P,d,re,V,G))?(se||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=V),_.props=d,_.state=V,_.context=G,d=P):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{_=s.stateNode,zw(i,s),P=s.memoizedProps,G=s.type===s.elementType?P:Hr(s.type,P),_.props=G,se=s.pendingProps,re=_.context,V=l.contextType,typeof V=="object"&&V!==null?V=Rr(V):(V=Hn(l)?$o:wn.current,V=Ya(s,V));var he=l.getDerivedStateFromProps;(ie=typeof he=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==se||re!==V)&&gv(s,_,d,V),Fs=!1,re=s.memoizedState,_.state=re,ud(s,d,_,f);var ye=s.memoizedState;P!==se||re!==ye||zn.current||Fs?(typeof he=="function"&&(kp(s,l,he,d),ye=s.memoizedState),(G=Fs||pv(s,l,G,d,re,ye,V)||!1)?(ie||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,ye,V),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,ye,V)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ye),_.props=d,_.state=ye,_.context=V,d=G):(typeof _.componentDidUpdate!="function"||P===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),d=!1)}return Op(i,s,l,d,g,f)}function Op(i,s,l,d,f,g){Sv(i,s);var _=(s.flags&128)!==0;if(!d&&!_)return f&&Nw(s,l,!1),Zi(i,s,g);d=s.stateNode,zI.current=s;var P=_&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,i!==null&&_?(s.child=el(s,i.child,null,g),s.child=el(s,null,P,g)):xn(i,s,P,g),s.memoizedState=d.state,f&&Nw(s,l,!0),s.child}function kv(i){var s=i.stateNode;s.pendingContext?Pw(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Pw(i,s.context,!1),gp(i,s.containerInfo)}function Av(i,s,l,d,f){return Za(),up(f),s.flags|=256,xn(i,s,l,d),s.child}var Dp={dehydrated:null,treeContext:null,retryLane:0};function Lp(i){return{baseLanes:i,cachePool:null,transitions:null}}function Pv(i,s,l){var d=s.pendingProps,f=bt.current,g=!1,_=(s.flags&128)!==0,P;if((P=_)||(P=i!==null&&i.memoizedState===null?!1:(f&2)!==0),P?(g=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(f|=1),at(bt,f&1),i===null)return lp(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=d.children,i=d.fallback,g?(d=s.mode,g=s.child,_={mode:"hidden",children:_},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Pd(_,d,0,null),i=Yo(i,d,l,null),g.return=s,i.return=s,g.sibling=i,s.child=g,s.child.memoizedState=Lp(l),s.memoizedState=Dp,i):Vp(s,_));if(f=i.memoizedState,f!==null&&(P=f.dehydrated,P!==null))return HI(i,s,_,d,P,f,l);if(g){g=d.fallback,_=s.mode,f=i.child,P=f.sibling;var V={mode:"hidden",children:d.children};return(_&1)===0&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=V,s.deletions=null):(d=Ws(f,V),d.subtreeFlags=f.subtreeFlags&14680064),P!==null?g=Ws(P,g):(g=Yo(g,_,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,_=i.child.memoizedState,_=_===null?Lp(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=i.childLanes&~l,s.memoizedState=Dp,d}return g=i.child,i=g.sibling,d=Ws(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=d,s.memoizedState=null,d}function Vp(i,s){return s=Pd({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function yd(i,s,l,d){return d!==null&&up(d),el(s,i.child,null,l),i=Vp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function HI(i,s,l,d,f,g,_){if(l)return s.flags&256?(s.flags&=-257,d=Pp(Error(n(422))),yd(i,s,_,d)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(g=d.fallback,f=s.mode,d=Pd({mode:"visible",children:d.children},f,0,null),g=Yo(g,f,_,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&el(s,i.child,null,_),s.child.memoizedState=Lp(_),s.memoizedState=Dp,g);if((s.mode&1)===0)return yd(i,s,_,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var P=d.dgst;return d=P,g=Error(n(419)),d=Pp(g,d,void 0),yd(i,s,_,d)}if(P=(_&i.childLanes)!==0,Wn||P){if(d=nn,d!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|_))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Xi(i,f),Gr(d,i,f,-1))}return Jp(),d=Pp(Error(n(421))),yd(i,s,_,d)}return f.data==="$?"?(s.flags|=128,s.child=i.child,s=rS.bind(null,i),f._reactRetry=s,null):(i=g.treeContext,lr=Ds(f.nextSibling),ar=s,wt=!0,zr=null,i!==null&&(Ir[Sr++]=Qi,Ir[Sr++]=Yi,Ir[Sr++]=Uo,Qi=i.id,Yi=i.overflow,Uo=s),s=Vp(s,d.children),s.flags|=4096,s)}function xv(i,s,l){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),fp(i.return,s,l)}function Mp(i,s,l,d,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=f)}function Nv(i,s,l){var d=s.pendingProps,f=d.revealOrder,g=d.tail;if(xn(i,s,d.children,l),d=bt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xv(i,l,s);else if(i.tag===19)xv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(at(bt,d),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)i=l.alternate,i!==null&&cd(i)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Mp(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&cd(i)===null){s.child=f;break}i=f.sibling,f.sibling=l,l=f,f=i}Mp(s,!0,l,null,g);break;case"together":Mp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function wd(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Zi(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),qo|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,l=Ws(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ws(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function WI(i,s,l){switch(s.tag){case 3:kv(s),Za();break;case 5:qw(s);break;case 1:Hn(s.type)&&ed(s);break;case 4:gp(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;at(od,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(at(bt,bt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Pv(i,s,l):(at(bt,bt.current&1),i=Zi(i,s,l),i!==null?i.sibling:null);at(bt,bt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(i.flags&128)!==0){if(d)return Nv(i,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(bt,bt.current),d)break;return null;case 22:case 23:return s.lanes=0,Iv(i,s,l)}return Zi(i,s,l)}var Ov,Fp,Dv,Lv;Ov=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Fp=function(){},Dv=function(i,s,l,d){var f=i.memoizedProps;if(f!==d){i=s.stateNode,Ho(pi.current);var g=null;switch(l){case"input":f=yr(i,f),d=yr(i,d),g=[];break;case"select":f=ce({},f,{value:void 0}),d=ce({},d,{value:void 0}),g=[];break;case"textarea":f=vs(i,f),d=vs(i,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Xc)}Ro(l,d);var _;l=null;for(G in f)if(!d.hasOwnProperty(G)&&f.hasOwnProperty(G)&&f[G]!=null)if(G==="style"){var P=f[G];for(_ in P)P.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?g||(g=[]):(g=g||[]).push(G,null));for(G in d){var V=d[G];if(P=f?.[G],d.hasOwnProperty(G)&&V!==P&&(V!=null||P!=null))if(G==="style")if(P){for(_ in P)!P.hasOwnProperty(_)||V&&V.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in V)V.hasOwnProperty(_)&&P[_]!==V[_]&&(l||(l={}),l[_]=V[_])}else l||(g||(g=[]),g.push(G,l)),l=V;else G==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,P=P?P.__html:void 0,V!=null&&P!==V&&(g=g||[]).push(G,V)):G==="children"?typeof V!="string"&&typeof V!="number"||(g=g||[]).push(G,""+V):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(V!=null&&G==="onScroll"&&ct("scroll",i),g||P===V||(g=[])):(g=g||[]).push(G,V))}l&&(g=g||[]).push("style",l);var G=g;(s.updateQueue=G)&&(s.flags|=4)}},Lv=function(i,s,l,d){l!==d&&(s.flags|=4)};function Su(i,s){if(!wt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function _n(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(s)for(var f=i.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=d,i.childLanes=l,s}function qI(i,s,l){var d=s.pendingProps;switch(op(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(s),null;case 1:return Hn(s.type)&&Zc(),_n(s),null;case 3:return d=s.stateNode,rl(),dt(zn),dt(wn),vp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(id(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zr!==null&&(Qp(zr),zr=null))),Fp(i,s),_n(s),null;case 5:yp(s);var f=Ho(Eu.current);if(l=s.type,i!==null&&s.stateNode!=null)Dv(i,s,l,d,f),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return _n(s),null}if(i=Ho(pi.current),id(s)){d=s.stateNode,l=s.type;var g=s.memoizedProps;switch(d[fi]=s,d[gu]=g,i=(s.mode&1)!==0,l){case"dialog":ct("cancel",d),ct("close",d);break;case"iframe":case"object":case"embed":ct("load",d);break;case"video":case"audio":for(f=0;f<fu.length;f++)ct(fu[f],d);break;case"source":ct("error",d);break;case"img":case"image":case"link":ct("error",d),ct("load",d);break;case"details":ct("toggle",d);break;case"input":ti(d,g),ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},ct("invalid",d);break;case"textarea":Di(d,g),ct("invalid",d)}Ro(l,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var P=g[_];_==="children"?typeof P=="string"?d.textContent!==P&&(g.suppressHydrationWarning!==!0&&Yc(d.textContent,P,i),f=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(g.suppressHydrationWarning!==!0&&Yc(d.textContent,P,i),f=["children",""+P]):o.hasOwnProperty(_)&&P!=null&&_==="onScroll"&&ct("scroll",d)}switch(l){case"input":_t(d),pt(d,g,!0);break;case"textarea":_t(d),To(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Xc)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Nt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=_.createElement(l,{is:d.is}):(i=_.createElement(l),l==="select"&&(_=i,d.multiple?_.multiple=!0:d.size&&(_.size=d.size))):i=_.createElementNS(i,l),i[fi]=s,i[gu]=d,Ov(i,s,!1,!1),s.stateNode=i;e:{switch(_=ko(l,d),l){case"dialog":ct("cancel",i),ct("close",i),f=d;break;case"iframe":case"object":case"embed":ct("load",i),f=d;break;case"video":case"audio":for(f=0;f<fu.length;f++)ct(fu[f],i);f=d;break;case"source":ct("error",i),f=d;break;case"img":case"image":case"link":ct("error",i),ct("load",i),f=d;break;case"details":ct("toggle",i),f=d;break;case"input":ti(i,d),f=yr(i,d),ct("invalid",i);break;case"option":f=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},f=ce({},d,{value:void 0}),ct("invalid",i);break;case"textarea":Di(i,d),f=vs(i,d),ct("invalid",i);break;default:f=d}Ro(l,f),P=f;for(g in P)if(P.hasOwnProperty(g)){var V=P[g];g==="style"?So(i,V):g==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Co(i,V)):g==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&ni(i,V):typeof V=="number"&&ni(i,""+V):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?V!=null&&g==="onScroll"&&ct("scroll",i):V!=null&&q(i,g,V,_))}switch(l){case"input":_t(i),pt(i,d,!1);break;case"textarea":_t(i),To(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Me(d.value));break;case"select":i.multiple=!!d.multiple,g=d.value,g!=null?wr(i,!!d.multiple,g,!1):d.defaultValue!=null&&wr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(i.onclick=Xc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return _n(s),null;case 6:if(i&&s.stateNode!=null)Lv(i,s,i.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(l=Ho(Eu.current),Ho(pi.current),id(s)){if(d=s.stateNode,l=s.memoizedProps,d[fi]=s,(g=d.nodeValue!==l)&&(i=ar,i!==null))switch(i.tag){case 3:Yc(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Yc(d.nodeValue,l,(i.mode&1)!==0)}g&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[fi]=s,s.stateNode=d}return _n(s),null;case 13:if(dt(bt),d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(wt&&lr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Fw(),Za(),s.flags|=98560,g=!1;else if(g=id(s),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[fi]=s}else Za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_n(s),g=!1}else zr!==null&&(Qp(zr),zr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(bt.current&1)!==0?Yt===0&&(Yt=3):Jp())),s.updateQueue!==null&&(s.flags|=4),_n(s),null);case 4:return rl(),Fp(i,s),i===null&&pu(s.stateNode.containerInfo),_n(s),null;case 10:return hp(s.type._context),_n(s),null;case 17:return Hn(s.type)&&Zc(),_n(s),null;case 19:if(dt(bt),g=s.memoizedState,g===null)return _n(s),null;if(d=(s.flags&128)!==0,_=g.rendering,_===null)if(d)Su(g,!1);else{if(Yt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=cd(i),_!==null){for(s.flags|=128,Su(g,!1),d=_.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)g=l,i=d,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=i,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,i=_.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return at(bt,bt.current&1|2),s.child}i=i.sibling}g.tail!==null&&it()>al&&(s.flags|=128,d=!0,Su(g,!1),s.lanes=4194304)}else{if(!d)if(i=cd(_),i!==null){if(s.flags|=128,d=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Su(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!wt)return _n(s),null}else 2*it()-g.renderingStartTime>al&&l!==1073741824&&(s.flags|=128,d=!0,Su(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(l=g.last,l!==null?l.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=it(),s.sibling=null,l=bt.current,at(bt,d?l&1|2:l&1),s):(_n(s),null);case 22:case 23:return Xp(),d=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(ur&1073741824)!==0&&(_n(s),s.subtreeFlags&6&&(s.flags|=8192)):_n(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function GI(i,s){switch(op(s),s.tag){case 1:return Hn(s.type)&&Zc(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return rl(),dt(zn),dt(wn),vp(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return yp(s),null;case 13:if(dt(bt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Za()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return dt(bt),null;case 4:return rl(),null;case 10:return hp(s.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var vd=!1,En=!1,KI=typeof WeakSet=="function"?WeakSet:Set,me=null;function sl(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){At(i,s,d)}else l.current=null}function jp(i,s,l){try{l()}catch(d){At(i,s,d)}}var Vv=!1;function QI(i,s){if(Xf=xs,i=pw(),zf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var _=0,P=-1,V=-1,G=0,ie=0,se=i,re=null;t:for(;;){for(var he;se!==l||f!==0&&se.nodeType!==3||(P=_+f),se!==g||d!==0&&se.nodeType!==3||(V=_+d),se.nodeType===3&&(_+=se.nodeValue.length),(he=se.firstChild)!==null;)re=se,se=he;for(;;){if(se===i)break t;if(re===l&&++G===f&&(P=_),re===g&&++ie===d&&(V=_),(he=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=he}l=P===-1||V===-1?null:{start:P,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jf={focusedElem:i,selectionRange:l},xs=!1,me=s;me!==null;)if(s=me,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,me=i;else for(;me!==null;){s=me;try{var ye=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var we=ye.memoizedProps,Dt=ye.memoizedState,B=s.stateNode,j=B.getSnapshotBeforeUpdate(s.elementType===s.type?we:Hr(s.type,we),Dt);B.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){At(s,s.return,ae)}if(i=s.sibling,i!==null){i.return=s.return,me=i;break}me=s.return}return ye=Vv,Vv=!1,ye}function Ru(i,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&i)===i){var g=f.destroy;f.destroy=void 0,g!==void 0&&jp(s,l,g)}f=f.next}while(f!==d)}}function _d(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function $p(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Mv(i){var s=i.alternate;s!==null&&(i.alternate=null,Mv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[fi],delete s[gu],delete s[np],delete s[xI],delete s[NI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Fv(i){return i.tag===5||i.tag===3||i.tag===4}function jv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Fv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Up(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Xc));else if(d!==4&&(i=i.child,i!==null))for(Up(i,s,l),i=i.sibling;i!==null;)Up(i,s,l),i=i.sibling}function Bp(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Bp(i,s,l),i=i.sibling;i!==null;)Bp(i,s,l),i=i.sibling}var hn=null,Wr=!1;function $s(i,s,l){for(l=l.child;l!==null;)$v(i,s,l),l=l.sibling}function $v(i,s,l){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Bi,l)}catch{}switch(l.tag){case 5:En||sl(l,s);case 6:var d=hn,f=Wr;hn=null,$s(i,s,l),hn=d,Wr=f,hn!==null&&(Wr?(i=hn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):hn.removeChild(l.stateNode));break;case 18:hn!==null&&(Wr?(i=hn,l=l.stateNode,i.nodeType===8?tp(i.parentNode,l):i.nodeType===1&&tp(i,l),$r(i)):tp(hn,l.stateNode));break;case 4:d=hn,f=Wr,hn=l.stateNode.containerInfo,Wr=!0,$s(i,s,l),hn=d,Wr=f;break;case 0:case 11:case 14:case 15:if(!En&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&jp(l,s,_),f=f.next}while(f!==d)}$s(i,s,l);break;case 1:if(!En&&(sl(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(P){At(l,s,P)}$s(i,s,l);break;case 21:$s(i,s,l);break;case 22:l.mode&1?(En=(d=En)||l.memoizedState!==null,$s(i,s,l),En=d):$s(i,s,l);break;default:$s(i,s,l)}}function Uv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new KI),s.forEach(function(d){var f=iS.bind(null,i,d);l.has(d)||(l.add(d),d.then(f,f))})}}function qr(i,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var g=i,_=s,P=_;e:for(;P!==null;){switch(P.tag){case 5:hn=P.stateNode,Wr=!1;break e;case 3:hn=P.stateNode.containerInfo,Wr=!0;break e;case 4:hn=P.stateNode.containerInfo,Wr=!0;break e}P=P.return}if(hn===null)throw Error(n(160));$v(g,_,f),hn=null,Wr=!1;var V=f.alternate;V!==null&&(V.return=null),f.return=null}catch(G){At(f,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Bv(s,i),s=s.sibling}function Bv(i,s){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(qr(s,i),gi(i),d&4){try{Ru(3,i,i.return),_d(3,i)}catch(we){At(i,i.return,we)}try{Ru(5,i,i.return)}catch(we){At(i,i.return,we)}}break;case 1:qr(s,i),gi(i),d&512&&l!==null&&sl(l,l.return);break;case 5:if(qr(s,i),gi(i),d&512&&l!==null&&sl(l,l.return),i.flags&32){var f=i.stateNode;try{ni(f,"")}catch(we){At(i,i.return,we)}}if(d&4&&(f=i.stateNode,f!=null)){var g=i.memoizedProps,_=l!==null?l.memoizedProps:g,P=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{P==="input"&&g.type==="radio"&&g.name!=null&&Ni(f,g),ko(P,_);var G=ko(P,g);for(_=0;_<V.length;_+=2){var ie=V[_],se=V[_+1];ie==="style"?So(f,se):ie==="dangerouslySetInnerHTML"?Co(f,se):ie==="children"?ni(f,se):q(f,ie,se,G)}switch(P){case"input":Oi(f,g);break;case"textarea":Li(f,g);break;case"select":var re=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var he=g.value;he!=null?wr(f,!!g.multiple,he,!1):re!==!!g.multiple&&(g.defaultValue!=null?wr(f,!!g.multiple,g.defaultValue,!0):wr(f,!!g.multiple,g.multiple?[]:"",!1))}f[gu]=g}catch(we){At(i,i.return,we)}}break;case 6:if(qr(s,i),gi(i),d&4){if(i.stateNode===null)throw Error(n(162));f=i.stateNode,g=i.memoizedProps;try{f.nodeValue=g}catch(we){At(i,i.return,we)}}break;case 3:if(qr(s,i),gi(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{$r(s.containerInfo)}catch(we){At(i,i.return,we)}break;case 4:qr(s,i),gi(i);break;case 13:qr(s,i),gi(i),f=i.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Wp=it())),d&4&&Uv(i);break;case 22:if(ie=l!==null&&l.memoizedState!==null,i.mode&1?(En=(G=En)||ie,qr(s,i),En=G):qr(s,i),gi(i),d&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!ie&&(i.mode&1)!==0)for(me=i,ie=i.child;ie!==null;){for(se=me=ie;me!==null;){switch(re=me,he=re.child,re.tag){case 0:case 11:case 14:case 15:Ru(4,re,re.return);break;case 1:sl(re,re.return);var ye=re.stateNode;if(typeof ye.componentWillUnmount=="function"){d=re,l=re.return;try{s=d,ye.props=s.memoizedProps,ye.state=s.memoizedState,ye.componentWillUnmount()}catch(we){At(d,l,we)}}break;case 5:sl(re,re.return);break;case 22:if(re.memoizedState!==null){Wv(se);continue}}he!==null?(he.return=re,me=he):Wv(se)}ie=ie.sibling}e:for(ie=null,se=i;;){if(se.tag===5){if(ie===null){ie=se;try{f=se.stateNode,G?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(P=se.stateNode,V=se.memoizedProps.style,_=V!=null&&V.hasOwnProperty("display")?V.display:null,P.style.display=Io("display",_))}catch(we){At(i,i.return,we)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=G?"":se.memoizedProps}catch(we){At(i,i.return,we)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:qr(s,i),gi(i),d&4&&Uv(i);break;case 21:break;default:qr(s,i),gi(i)}}function gi(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Fv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(ni(f,""),d.flags&=-33);var g=jv(i);Bp(i,g,f);break;case 3:case 4:var _=d.stateNode.containerInfo,P=jv(i);Up(i,P,_);break;default:throw Error(n(161))}}catch(V){At(i,i.return,V)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function YI(i,s,l){me=i,zv(i)}function zv(i,s,l){for(var d=(i.mode&1)!==0;me!==null;){var f=me,g=f.child;if(f.tag===22&&d){var _=f.memoizedState!==null||vd;if(!_){var P=f.alternate,V=P!==null&&P.memoizedState!==null||En;P=vd;var G=En;if(vd=_,(En=V)&&!G)for(me=f;me!==null;)_=me,V=_.child,_.tag===22&&_.memoizedState!==null?qv(f):V!==null?(V.return=_,me=V):qv(f);for(;g!==null;)me=g,zv(g),g=g.sibling;me=f,vd=P,En=G}Hv(i)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,me=g):Hv(i)}}function Hv(i){for(;me!==null;){var s=me;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:En||_d(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!En)if(l===null)d.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Hr(s.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Ww(s,g,d);break;case 3:var _=s.updateQueue;if(_!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ww(s,_,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var ie=G.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&$r(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}En||s.flags&512&&$p(s)}catch(re){At(s,s.return,re)}}if(s===i){me=null;break}if(l=s.sibling,l!==null){l.return=s.return,me=l;break}me=s.return}}function Wv(i){for(;me!==null;){var s=me;if(s===i){me=null;break}var l=s.sibling;if(l!==null){l.return=s.return,me=l;break}me=s.return}}function qv(i){for(;me!==null;){var s=me;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{_d(4,s)}catch(V){At(s,l,V)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(V){At(s,f,V)}}var g=s.return;try{$p(s)}catch(V){At(s,g,V)}break;case 5:var _=s.return;try{$p(s)}catch(V){At(s,_,V)}}}catch(V){At(s,s.return,V)}if(s===i){me=null;break}var P=s.sibling;if(P!==null){P.return=s.return,me=P;break}me=s.return}}var XI=Math.ceil,Ed=Z.ReactCurrentDispatcher,zp=Z.ReactCurrentOwner,Ar=Z.ReactCurrentBatchConfig,Xe=0,nn=null,Bt=null,fn=0,ur=0,ol=Ls(0),Yt=0,ku=null,qo=0,bd=0,Hp=0,Au=null,qn=null,Wp=0,al=1/0,es=null,Td=!1,qp=null,Us=null,Cd=!1,Bs=null,Id=0,Pu=0,Gp=null,Sd=-1,Rd=0;function Nn(){return(Xe&6)!==0?it():Sd!==-1?Sd:Sd=it()}function zs(i){return(i.mode&1)===0?1:(Xe&2)!==0&&fn!==0?fn&-fn:DI.transition!==null?(Rd===0&&(Rd=yn()),Rd):(i=Ke,i!==0||(i=window.event,i=i===void 0?16:iu(i.type)),i)}function Gr(i,s,l,d){if(50<Pu)throw Pu=0,Gp=null,Error(n(185));Rs(i,l,d),((Xe&2)===0||i!==nn)&&(i===nn&&((Xe&2)===0&&(bd|=l),Yt===4&&Hs(i,fn)),Gn(i,d),l===1&&Xe===0&&(s.mode&1)===0&&(al=it()+500,td&&Ms()))}function Gn(i,s){var l=i.callbackNode;ir(i,s);var d=Gt(i,i===nn?fn:0);if(d===0)l!==null&&No(l),i.callbackNode=null,i.callbackPriority=0;else if(s=d&-d,i.callbackPriority!==s){if(l!=null&&No(l),s===1)i.tag===0?OI(Kv.bind(null,i)):Ow(Kv.bind(null,i)),AI(function(){(Xe&6)===0&&Ms()}),l=null;else{switch(As(d)){case 1:l=rr;break;case 4:l=ai;break;case 16:l=$n;break;case 536870912:l=ka;break;default:l=$n}l=n_(l,Gv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Gv(i,s){if(Sd=-1,Rd=0,(Xe&6)!==0)throw Error(n(327));var l=i.callbackNode;if(ll()&&i.callbackNode!==l)return null;var d=Gt(i,i===nn?fn:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||s)s=kd(i,d);else{s=d;var f=Xe;Xe|=2;var g=Yv();(nn!==i||fn!==s)&&(es=null,al=it()+500,Ko(i,s));do try{eS();break}catch(P){Qv(i,P)}while(!0);dp(),Ed.current=g,Xe=f,Bt!==null?s=0:(nn=null,fn=0,s=Yt)}if(s!==0){if(s===2&&(f=$t(i),f!==0&&(d=f,s=Kp(i,f))),s===1)throw l=ku,Ko(i,0),Hs(i,d),Gn(i,it()),l;if(s===6)Hs(i,d);else{if(f=i.current.alternate,(d&30)===0&&!JI(f)&&(s=kd(i,d),s===2&&(g=$t(i),g!==0&&(d=g,s=Kp(i,g))),s===1))throw l=ku,Ko(i,0),Hs(i,d),Gn(i,it()),l;switch(i.finishedWork=f,i.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:Qo(i,qn,es);break;case 3:if(Hs(i,d),(d&130023424)===d&&(s=Wp+500-it(),10<s)){if(Gt(i,0)!==0)break;if(f=i.suspendedLanes,(f&d)!==d){Nn(),i.pingedLanes|=i.suspendedLanes&f;break}i.timeoutHandle=ep(Qo.bind(null,i,qn,es),s);break}Qo(i,qn,es);break;case 4:if(Hs(i,d),(d&4194240)===d)break;for(s=i.eventTimes,f=-1;0<d;){var _=31-kt(d);g=1<<_,_=s[_],_>f&&(f=_),d&=~g}if(d=f,d=it()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*XI(d/1960))-d,10<d){i.timeoutHandle=ep(Qo.bind(null,i,qn,es),d);break}Qo(i,qn,es);break;case 5:Qo(i,qn,es);break;default:throw Error(n(329))}}}return Gn(i,it()),i.callbackNode===l?Gv.bind(null,i):null}function Kp(i,s){var l=Au;return i.current.memoizedState.isDehydrated&&(Ko(i,s).flags|=256),i=kd(i,s),i!==2&&(s=qn,qn=l,s!==null&&Qp(s)),i}function Qp(i){qn===null?qn=i:qn.push.apply(qn,i)}function JI(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],g=f.getSnapshot;f=f.value;try{if(!Br(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hs(i,s){for(s&=~Hp,s&=~bd,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-kt(s),d=1<<l;i[l]=-1,s&=~d}}function Kv(i){if((Xe&6)!==0)throw Error(n(327));ll();var s=Gt(i,0);if((s&1)===0)return Gn(i,it()),null;var l=kd(i,s);if(i.tag!==0&&l===2){var d=$t(i);d!==0&&(s=d,l=Kp(i,d))}if(l===1)throw l=ku,Ko(i,0),Hs(i,s),Gn(i,it()),l;if(l===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Qo(i,qn,es),Gn(i,it()),null}function Yp(i,s){var l=Xe;Xe|=1;try{return i(s)}finally{Xe=l,Xe===0&&(al=it()+500,td&&Ms())}}function Go(i){Bs!==null&&Bs.tag===0&&(Xe&6)===0&&ll();var s=Xe;Xe|=1;var l=Ar.transition,d=Ke;try{if(Ar.transition=null,Ke=1,i)return i()}finally{Ke=d,Ar.transition=l,Xe=s,(Xe&6)===0&&Ms()}}function Xp(){ur=ol.current,dt(ol)}function Ko(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,kI(l)),Bt!==null)for(l=Bt.return;l!==null;){var d=l;switch(op(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Zc();break;case 3:rl(),dt(zn),dt(wn),vp();break;case 5:yp(d);break;case 4:rl();break;case 13:dt(bt);break;case 19:dt(bt);break;case 10:hp(d.type._context);break;case 22:case 23:Xp()}l=l.return}if(nn=i,Bt=i=Ws(i.current,null),fn=ur=s,Yt=0,ku=null,Hp=bd=qo=0,qn=Au=null,zo!==null){for(s=0;s<zo.length;s++)if(l=zo[s],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,g=l.pending;if(g!==null){var _=g.next;g.next=f,d.next=_}l.pending=d}zo=null}return i}function Qv(i,s){do{var l=Bt;try{if(dp(),dd.current=md,hd){for(var d=Tt.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}hd=!1}if(Wo=0,tn=Qt=Tt=null,bu=!1,Tu=0,zp.current=null,l===null||l.return===null){Yt=1,ku=s,Bt=null;break}e:{var g=i,_=l.return,P=l,V=s;if(s=fn,P.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var G=V,ie=P,se=ie.tag;if((ie.mode&1)===0&&(se===0||se===11||se===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var he=_v(_);if(he!==null){he.flags&=-257,Ev(he,_,P,g,s),he.mode&1&&vv(g,G,s),s=he,V=G;var ye=s.updateQueue;if(ye===null){var we=new Set;we.add(V),s.updateQueue=we}else ye.add(V);break e}else{if((s&1)===0){vv(g,G,s),Jp();break e}V=Error(n(426))}}else if(wt&&P.mode&1){var Dt=_v(_);if(Dt!==null){(Dt.flags&65536)===0&&(Dt.flags|=256),Ev(Dt,_,P,g,s),up(il(V,P));break e}}g=V=il(V,P),Yt!==4&&(Yt=2),Au===null?Au=[g]:Au.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=yv(g,V,s);Hw(g,B);break e;case 1:P=V;var j=g.type,H=g.stateNode;if((g.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Us===null||!Us.has(H)))){g.flags|=65536,s&=-s,g.lanes|=s;var ae=wv(g,P,s);Hw(g,ae);break e}}g=g.return}while(g!==null)}Jv(l)}catch(ve){s=ve,Bt===l&&l!==null&&(Bt=l=l.return);continue}break}while(!0)}function Yv(){var i=Ed.current;return Ed.current=md,i===null?md:i}function Jp(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),nn===null||(qo&268435455)===0&&(bd&268435455)===0||Hs(nn,fn)}function kd(i,s){var l=Xe;Xe|=2;var d=Yv();(nn!==i||fn!==s)&&(es=null,Ko(i,s));do try{ZI();break}catch(f){Qv(i,f)}while(!0);if(dp(),Xe=l,Ed.current=d,Bt!==null)throw Error(n(261));return nn=null,fn=0,Yt}function ZI(){for(;Bt!==null;)Xv(Bt)}function eS(){for(;Bt!==null&&!Ra();)Xv(Bt)}function Xv(i){var s=t_(i.alternate,i,ur);i.memoizedProps=i.pendingProps,s===null?Jv(i):Bt=s,zp.current=null}function Jv(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=qI(l,s,ur),l!==null){Bt=l;return}}else{if(l=GI(l,s),l!==null){l.flags&=32767,Bt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Yt=6,Bt=null;return}}if(s=s.sibling,s!==null){Bt=s;return}Bt=s=i}while(s!==null);Yt===0&&(Yt=5)}function Qo(i,s,l){var d=Ke,f=Ar.transition;try{Ar.transition=null,Ke=1,tS(i,s,l,d)}finally{Ar.transition=f,Ke=d}return null}function tS(i,s,l,d){do ll();while(Bs!==null);if((Xe&6)!==0)throw Error(n(327));l=i.finishedWork;var f=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var g=l.lanes|l.childLanes;if(st(i,g),i===nn&&(Bt=nn=null,fn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Cd||(Cd=!0,n_($n,function(){return ll(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Ar.transition,Ar.transition=null;var _=Ke;Ke=1;var P=Xe;Xe|=4,zp.current=null,QI(i,l),Bv(l,i),EI(Jf),xs=!!Xf,Jf=Xf=null,i.current=l,YI(l),tu(),Xe=P,Ke=_,Ar.transition=g}else i.current=l;if(Cd&&(Cd=!1,Bs=i,Id=f),g=i.pendingLanes,g===0&&(Us=null),Aa(l.stateNode),Gn(i,it()),s!==null)for(d=i.onRecoverableError,l=0;l<s.length;l++)f=s[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(Td)throw Td=!1,i=qp,qp=null,i;return(Id&1)!==0&&i.tag!==0&&ll(),g=i.pendingLanes,(g&1)!==0?i===Gp?Pu++:(Pu=0,Gp=i):Pu=0,Ms(),null}function ll(){if(Bs!==null){var i=As(Id),s=Ar.transition,l=Ke;try{if(Ar.transition=null,Ke=16>i?16:i,Bs===null)var d=!1;else{if(i=Bs,Bs=null,Id=0,(Xe&6)!==0)throw Error(n(331));var f=Xe;for(Xe|=4,me=i.current;me!==null;){var g=me,_=g.child;if((me.flags&16)!==0){var P=g.deletions;if(P!==null){for(var V=0;V<P.length;V++){var G=P[V];for(me=G;me!==null;){var ie=me;switch(ie.tag){case 0:case 11:case 15:Ru(8,ie,g)}var se=ie.child;if(se!==null)se.return=ie,me=se;else for(;me!==null;){ie=me;var re=ie.sibling,he=ie.return;if(Mv(ie),ie===G){me=null;break}if(re!==null){re.return=he,me=re;break}me=he}}}var ye=g.alternate;if(ye!==null){var we=ye.child;if(we!==null){ye.child=null;do{var Dt=we.sibling;we.sibling=null,we=Dt}while(we!==null)}}me=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,me=_;else e:for(;me!==null;){if(g=me,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ru(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,me=B;break e}me=g.return}}var j=i.current;for(me=j;me!==null;){_=me;var H=_.child;if((_.subtreeFlags&2064)!==0&&H!==null)H.return=_,me=H;else e:for(_=j;me!==null;){if(P=me,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:_d(9,P)}}catch(ve){At(P,P.return,ve)}if(P===_){me=null;break e}var ae=P.sibling;if(ae!==null){ae.return=P.return,me=ae;break e}me=P.return}}if(Xe=f,Ms(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Bi,i)}catch{}d=!0}return d}finally{Ke=l,Ar.transition=s}}return!1}function Zv(i,s,l){s=il(l,s),s=yv(i,s,1),i=js(i,s,1),s=Nn(),i!==null&&(Rs(i,1,s),Gn(i,s))}function At(i,s,l){if(i.tag===3)Zv(i,i,l);else for(;s!==null;){if(s.tag===3){Zv(s,i,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Us===null||!Us.has(d))){i=il(l,i),i=wv(s,i,1),s=js(s,i,1),i=Nn(),s!==null&&(Rs(s,1,i),Gn(s,i));break}}s=s.return}}function nS(i,s,l){var d=i.pingCache;d!==null&&d.delete(s),s=Nn(),i.pingedLanes|=i.suspendedLanes&l,nn===i&&(fn&l)===l&&(Yt===4||Yt===3&&(fn&130023424)===fn&&500>it()-Wp?Ko(i,0):Hp|=l),Gn(i,s)}function e_(i,s){s===0&&((i.mode&1)===0?s=1:(s=Be,Be<<=1,(Be&130023424)===0&&(Be=4194304)));var l=Nn();i=Xi(i,s),i!==null&&(Rs(i,s,l),Gn(i,l))}function rS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),e_(i,l)}function iS(i,s){var l=0;switch(i.tag){case 13:var d=i.stateNode,f=i.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),e_(i,l)}var t_;t_=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||zn.current)Wn=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return Wn=!1,WI(i,s,l);Wn=(i.flags&131072)!==0}else Wn=!1,wt&&(s.flags&1048576)!==0&&Dw(s,rd,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;wd(i,s),i=s.pendingProps;var f=Ya(s,wn.current);nl(s,l),f=bp(null,s,d,i,f,l);var g=Tp();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Hn(d)?(g=!0,ed(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,mp(s),f.updater=gd,s.stateNode=f,f._reactInternals=s,Ap(s,d,i,l),s=Op(null,s,d,!0,g,l)):(s.tag=0,wt&&g&&sp(s),xn(null,s,f,l),s=s.child),s;case 16:d=s.elementType;e:{switch(wd(i,s),i=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=oS(d),i=Hr(d,i),f){case 0:s=Np(null,s,d,i,l);break e;case 1:s=Rv(null,s,d,i,l);break e;case 11:s=bv(null,s,d,i,l);break e;case 14:s=Tv(null,s,d,Hr(d.type,i),l);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Hr(d,f),Np(i,s,d,f,l);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Hr(d,f),Rv(i,s,d,f,l);case 3:e:{if(kv(s),i===null)throw Error(n(387));d=s.pendingProps,g=s.memoizedState,f=g.element,zw(i,s),ud(s,d,null,l);var _=s.memoizedState;if(d=_.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=il(Error(n(423)),s),s=Av(i,s,d,l,f);break e}else if(d!==f){f=il(Error(n(424)),s),s=Av(i,s,d,l,f);break e}else for(lr=Ds(s.stateNode.containerInfo.firstChild),ar=s,wt=!0,zr=null,l=Uw(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Za(),d===f){s=Zi(i,s,l);break e}xn(i,s,d,l)}s=s.child}return s;case 5:return qw(s),i===null&&lp(s),d=s.type,f=s.pendingProps,g=i!==null?i.memoizedProps:null,_=f.children,Zf(d,f)?_=null:g!==null&&Zf(d,g)&&(s.flags|=32),Sv(i,s),xn(i,s,_,l),s.child;case 6:return i===null&&lp(s),null;case 13:return Pv(i,s,l);case 4:return gp(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=el(s,null,d,l):xn(i,s,d,l),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Hr(d,f),bv(i,s,d,f,l);case 7:return xn(i,s,s.pendingProps,l),s.child;case 8:return xn(i,s,s.pendingProps.children,l),s.child;case 12:return xn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,g=s.memoizedProps,_=f.value,at(od,d._currentValue),d._currentValue=_,g!==null)if(Br(g.value,_)){if(g.children===f.children&&!zn.current){s=Zi(i,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var P=g.dependencies;if(P!==null){_=g.child;for(var V=P.firstContext;V!==null;){if(V.context===d){if(g.tag===1){V=Ji(-1,l&-l),V.tag=2;var G=g.updateQueue;if(G!==null){G=G.shared;var ie=G.pending;ie===null?V.next=V:(V.next=ie.next,ie.next=V),G.pending=V}}g.lanes|=l,V=g.alternate,V!==null&&(V.lanes|=l),fp(g.return,l,s),P.lanes|=l;break}V=V.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(n(341));_.lanes|=l,P=_.alternate,P!==null&&(P.lanes|=l),fp(_,l,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}xn(i,s,f.children,l),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,nl(s,l),f=Rr(f),d=d(f),s.flags|=1,xn(i,s,d,l),s.child;case 14:return d=s.type,f=Hr(d,s.pendingProps),f=Hr(d.type,f),Tv(i,s,d,f,l);case 15:return Cv(i,s,s.type,s.pendingProps,l);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Hr(d,f),wd(i,s),s.tag=1,Hn(d)?(i=!0,ed(s)):i=!1,nl(s,l),mv(s,d,f),Ap(s,d,f,l),Op(null,s,d,!0,i,l);case 19:return Nv(i,s,l);case 22:return Iv(i,s,l)}throw Error(n(156,s.tag))};function n_(i,s){return Ui(i,s)}function sS(i,s,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(i,s,l,d){return new sS(i,s,l,d)}function Zp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function oS(i){if(typeof i=="function")return Zp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===De)return 14}return 2}function Ws(i,s){var l=i.alternate;return l===null?(l=Pr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Ad(i,s,l,d,f,g){var _=2;if(d=i,typeof i=="function")Zp(i)&&(_=1);else if(typeof i=="string")_=5;else e:switch(i){case R:return Yo(l.children,f,g,s);case I:_=8,f|=8;break;case k:return i=Pr(12,l,s,f|2),i.elementType=k,i.lanes=g,i;case C:return i=Pr(13,l,s,f),i.elementType=C,i.lanes=g,i;case be:return i=Pr(19,l,s,f),i.elementType=be,i.lanes=g,i;case _e:return Pd(l,f,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:_=10;break e;case O:_=9;break e;case F:_=11;break e;case De:_=14;break e;case pe:_=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return s=Pr(_,l,s,f),s.elementType=i,s.type=d,s.lanes=g,s}function Yo(i,s,l,d){return i=Pr(7,i,d,s),i.lanes=l,i}function Pd(i,s,l,d){return i=Pr(22,i,d,s),i.elementType=_e,i.lanes=l,i.stateNode={isHidden:!1},i}function em(i,s,l){return i=Pr(6,i,null,s),i.lanes=l,i}function tm(i,s,l){return s=Pr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function aS(i,s,l,d,f){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ss(0),this.expirationTimes=Ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function nm(i,s,l,d,f,g,_,P,V){return i=new aS(i,s,l,P,V),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Pr(3,null,null,s),i.current=g,g.stateNode=i,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},mp(g),i}function lS(i,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:d==null?null:""+d,children:i,containerInfo:s,implementation:l}}function r_(i){if(!i)return Vs;i=i._reactInternals;e:{if(Rt(i)!==i||i.tag!==1)throw Error(n(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Hn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(i.tag===1){var l=i.type;if(Hn(l))return xw(i,l,s)}return s}function i_(i,s,l,d,f,g,_,P,V){return i=nm(l,d,!0,i,f,g,_,P,V),i.context=r_(null),l=i.current,d=Nn(),f=zs(l),g=Ji(d,f),g.callback=s??null,js(l,g,f),i.current.lanes=f,Rs(i,f,d),Gn(i,d),i}function xd(i,s,l,d){var f=s.current,g=Nn(),_=zs(f);return l=r_(l),s.context===null?s.context=l:s.pendingContext=l,s=Ji(g,_),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=js(f,s,_),i!==null&&(Gr(i,f,_,g),ld(i,f,_)),_}function Nd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function s_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function rm(i,s){s_(i,s),(i=i.alternate)&&s_(i,s)}function uS(){return null}var o_=typeof reportError=="function"?reportError:function(i){console.error(i)};function im(i){this._internalRoot=i}Od.prototype.render=im.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));xd(i,s,null,null)},Od.prototype.unmount=im.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Go(function(){xd(null,i,null,null)}),s[Gi]=null}};function Od(i){this._internalRoot=i}Od.prototype.unstable_scheduleHydration=function(i){if(i){var s=Oc();i={blockedOn:null,target:i,priority:s};for(var l=0;l<ui.length&&s!==0&&s<ui[l].priority;l++);ui.splice(l,0,i),l===0&&Vc(i)}};function sm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Dd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function a_(){}function cS(i,s,l,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var G=Nd(_);g.call(G)}}var _=i_(s,d,i,0,null,!1,!1,"",a_);return i._reactRootContainer=_,i[Gi]=_.current,pu(i.nodeType===8?i.parentNode:i),Go(),_}for(;f=i.lastChild;)i.removeChild(f);if(typeof d=="function"){var P=d;d=function(){var G=Nd(V);P.call(G)}}var V=nm(i,0,!1,null,null,!1,!1,"",a_);return i._reactRootContainer=V,i[Gi]=V.current,pu(i.nodeType===8?i.parentNode:i),Go(function(){xd(s,V,l,d)}),V}function Ld(i,s,l,d,f){var g=l._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var P=f;f=function(){var V=Nd(_);P.call(V)}}xd(s,_,i,f)}else _=cS(l,s,i,f,d);return Nd(_)}xc=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=gt(s.pendingLanes);l!==0&&(ks(s,l|1),Gn(s,it()),(Xe&6)===0&&(al=it()+500,Ms()))}break;case 13:Go(function(){var d=Xi(i,1);if(d!==null){var f=Nn();Gr(d,i,1,f)}}),rm(i,1)}},Na=function(i){if(i.tag===13){var s=Xi(i,134217728);if(s!==null){var l=Nn();Gr(s,i,134217728,l)}rm(i,134217728)}},Nc=function(i){if(i.tag===13){var s=zs(i),l=Xi(i,s);if(l!==null){var d=Nn();Gr(l,i,s,d)}rm(i,s)}},Oc=function(){return Ke},Dc=function(i,s){var l=Ke;try{return Ke=i,s()}finally{Ke=l}},Es=function(i,s,l){switch(s){case"input":if(Oi(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==i&&d.form===i.form){var f=Jc(d);if(!f)throw Error(n(90));Et(d),Oi(d,f)}}}break;case"textarea":Li(i,l);break;case"select":s=l.value,s!=null&&wr(i,!!l.multiple,s,!1)}},si=Yp,bs=Go;var dS={usingClientEntryPoint:!1,Events:[yu,Ka,Jc,_r,Ao,Yp]},xu={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hS={bundleType:xu.bundleType,version:xu.version,rendererPackageName:xu.rendererPackageName,rendererConfig:xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Is(i),i===null?null:i.stateNode},findFiberByHostInstance:xu.findFiberByHostInstance||uS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{Bi=Vd.inject(hS),An=Vd}catch{}}return Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dS,Kn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sm(s))throw Error(n(200));return lS(i,s,null,l)},Kn.createRoot=function(i,s){if(!sm(i))throw Error(n(299));var l=!1,d="",f=o_;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=nm(i,1,!1,null,null,l,!1,d,f),i[Gi]=s.current,pu(i.nodeType===8?i.parentNode:i),new im(s)},Kn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Is(s),i=i===null?null:i.stateNode,i},Kn.flushSync=function(i){return Go(i)},Kn.hydrate=function(i,s,l){if(!Dd(s))throw Error(n(200));return Ld(null,i,s,!0,l)},Kn.hydrateRoot=function(i,s,l){if(!sm(i))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,f=!1,g="",_=o_;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),s=i_(s,null,i,1,l??null,f,!1,g,_),i[Gi]=s.current,pu(i),d)for(i=0;i<d.length;i++)l=d[i],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Od(s)},Kn.render=function(i,s,l){if(!Dd(s))throw Error(n(200));return Ld(null,i,s,!1,l)},Kn.unmountComponentAtNode=function(i){if(!Dd(i))throw Error(n(40));return i._reactRootContainer?(Go(function(){Ld(null,null,i,!1,function(){i._reactRootContainer=null,i[Gi]=null})}),!0):!1},Kn.unstable_batchedUpdates=Yp,Kn.unstable_renderSubtreeIntoContainer=function(i,s,l,d){if(!Dd(l))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Ld(i,s,l,!1,d)},Kn.version="18.3.1-next-f1338f8080-20240426",Kn}var m_;function ES(){if(m_)return lm.exports;m_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lm.exports=_S(),lm.exports}var g_;function bS(){if(g_)return Md;g_=1;var t=ES();return Md.createRoot=t.createRoot,Md.hydrateRoot=t.hydrateRoot,Md}var TS=bS();const CS=()=>{};var y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},IS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],h=t[n++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},$E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,h=c?t[o+1]:0,p=o+2<t.length,y=p?t[o+2]:0,w=a>>2,E=(a&3)<<4|h>>4;let b=(h&15)<<2|y>>6,x=y&63;p||(x=64,c||(b=64)),r.push(n[w],n[E],n[b],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const y=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||y==null||E==null)throw new SS;const b=a<<2|h>>4;if(r.push(b),y!==64){const x=h<<4&240|y>>2;if(r.push(x),E!==64){const L=y<<6&192|E;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RS=function(t){const e=jE(t);return $E.encodeByteArray(e,!0)},yh=function(t){return RS(t).replace(/\./g,"")},UE=function(t){try{return $E.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=()=>kS().__FIREBASE_DEFAULTS__,PS=()=>{if(typeof process>"u"||typeof y_>"u")return;const t=y_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UE(t[1]);return e&&JSON.parse(e)},ef=()=>{try{return CS()||AS()||PS()||xS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BE=t=>ef()?.emulatorHosts?.[t],zE=t=>{const e=BE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HE=()=>ef()?.config,WE=t=>ef()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[yh(JSON.stringify(n)),yh(JSON.stringify(c)),""].join(".")}const zu={};function OS(){const t={prod:[],emulator:[]};for(const e of Object.keys(zu))zu[e]?t.emulator.push(e):t.prod.push(e);return t}function DS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let w_=!1;function Ag(t,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||zu[t]===e||zu[t]||w_)return;zu[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",a=OS().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{w_=!0,c()},b}function w(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=DS(r),x=n("text"),L=document.getElementById(x)||document.createElement("span"),M=n("learnmore"),D=document.getElementById(M)||document.createElement("a"),W=n("preprendIcon"),z=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const q=b.element;h(q),w(D,M);const Z=y();p(z,W),q.append(z,L,D,Z),document.body.appendChild(q)}a?(L.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function VS(){const t=ef()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $S(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function US(){return!VS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BS(){try{return typeof indexedDB=="object"}catch{return!1}}function zS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HS,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?WS(a,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new xi(o,h,r)}}function WS(t,e){return t.replace(qS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const qS=/\{\$([^}]+)}/g;function GS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],c=e[o];if(v_(a)&&v_(c)){if(!uo(a,c))return!1}else if(a!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function v_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Mu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KS(t,e){const n=new QS(t,e);return n.subscribe.bind(n)}class QS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZS(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&c.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JS(t){return t===Zo?void 0:t}function ZS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const tR={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},nR=We.INFO,rR={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},iR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=rR[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pg{constructor(e){this.name=e,this._logLevel=nR,this._logHandler=iR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const sR=(t,e)=>e.some(n=>t instanceof n);let __,E_;function oR(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aR(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GE=new WeakMap,Vm=new WeakMap,KE=new WeakMap,hm=new WeakMap,xg=new WeakMap;function lR(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(ro(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&GE.set(n,t)}).catch(()=>{}),xg.set(e,t),e}function uR(t){if(Vm.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});Vm.set(t,e)}let Mm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cR(t){Mm=t(Mm)}function dR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fm(this),e,...n);return KE.set(r,e.sort?e.sort():[e]),ro(r)}:aR().includes(t)?function(...e){return t.apply(fm(this),e),ro(GE.get(this))}:function(...e){return ro(t.apply(fm(this),e))}}function hR(t){return typeof t=="function"?dR(t):(t instanceof IDBTransaction&&uR(t),sR(t,oR())?new Proxy(t,Mm):t)}function ro(t){if(t instanceof IDBRequest)return lR(t);if(hm.has(t))return hm.get(t);const e=hR(t);return e!==t&&(hm.set(t,e),xg.set(e,t)),e}const fm=t=>xg.get(t);function fR(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),h=ro(c);return r&&c.addEventListener("upgradeneeded",p=>{r(ro(c.result),p.oldVersion,p.newVersion,ro(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const pR=["get","getKey","getAll","getAllKeys","count"],mR=["put","add","delete","clear"],pm=new Map;function b_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=mR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||pR.includes(n)))return;const a=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(h.shift())),(await Promise.all([y[n](...h),o&&p.done]))[0]};return pm.set(e,a),a}cR(t=>({...t,get:(e,n,r)=>b_(e,n)||t.get(e,n,r),has:(e,n)=>!!b_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yR(t){return t.getComponent()?.type==="VERSION"}const Fm="@firebase/app",T_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Pg("@firebase/app"),wR="@firebase/app-compat",vR="@firebase/analytics-compat",_R="@firebase/analytics",ER="@firebase/app-check-compat",bR="@firebase/app-check",TR="@firebase/auth",CR="@firebase/auth-compat",IR="@firebase/database",SR="@firebase/data-connect",RR="@firebase/database-compat",kR="@firebase/functions",AR="@firebase/functions-compat",PR="@firebase/installations",xR="@firebase/installations-compat",NR="@firebase/messaging",OR="@firebase/messaging-compat",DR="@firebase/performance",LR="@firebase/performance-compat",VR="@firebase/remote-config",MR="@firebase/remote-config-compat",FR="@firebase/storage",jR="@firebase/storage-compat",$R="@firebase/firestore",UR="@firebase/ai",BR="@firebase/firestore-compat",zR="firebase",HR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",WR={[Fm]:"fire-core",[wR]:"fire-core-compat",[_R]:"fire-analytics",[vR]:"fire-analytics-compat",[bR]:"fire-app-check",[ER]:"fire-app-check-compat",[TR]:"fire-auth",[CR]:"fire-auth-compat",[IR]:"fire-rtdb",[SR]:"fire-data-connect",[RR]:"fire-rtdb-compat",[kR]:"fire-fn",[AR]:"fire-fn-compat",[PR]:"fire-iid",[xR]:"fire-iid-compat",[NR]:"fire-fcm",[OR]:"fire-fcm-compat",[DR]:"fire-perf",[LR]:"fire-perf-compat",[VR]:"fire-rc",[MR]:"fire-rc-compat",[FR]:"fire-gcs",[jR]:"fire-gcs-compat",[$R]:"fire-fst",[BR]:"fire-fst-compat",[UR]:"fire-vertex","fire-js":"fire-js",[zR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,qR=new Map,$m=new Map;function C_(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ca(t){const e=t.name;if($m.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,t);for(const n of wh.values())C_(n,t);for(const n of qR.values())C_(n,t);return!0}function tf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},io=new cc("app","Firebase",GR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=HR;function QE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw io.create("bad-app-name",{appName:String(o)});if(n||(n=HE()),!n)throw io.create("no-options");const a=wh.get(o);if(a){if(uo(n,a.options)&&uo(r,a.config))return a;throw io.create("duplicate-app",{appName:o})}const c=new eR(o);for(const p of $m.values())c.addComponent(p);const h=new KR(n,r,c);return wh.set(o,h),h}function Ng(t=jm){const e=wh.get(t);if(!e&&t===jm&&HE())return QE();if(!e)throw io.create("no-app",{appName:t});return e}function bi(t,e,n){let r=WR[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(c.join(" "));return}ca(new co(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebase-heartbeat-database",YR=1,ec="firebase-heartbeat-store";let mm=null;function YE(){return mm||(mm=fR(QR,YR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw io.create("idb-open",{originalErrorMessage:t.message})})),mm}async function XR(t){try{const n=(await YE()).transaction(ec),r=await n.objectStore(ec).get(XE(t));return await n.done,r}catch(e){if(e instanceof xi)cs.warn(e.message);else{const n=io.create("idb-get",{originalErrorMessage:e?.message});cs.warn(n.message)}}}async function I_(t,e){try{const r=(await YE()).transaction(ec,"readwrite");await r.objectStore(ec).put(e,XE(t)),await r.done}catch(n){if(n instanceof xi)cs.warn(n.message);else{const r=io.create("idb-set",{originalErrorMessage:n?.message});cs.warn(r.message)}}}function XE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=1024,ZR=30;class ek{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=S_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ZR){const o=rk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=S_(),{heartbeatsToSend:n,unsentEntries:r}=tk(this._heartbeatsCache.heartbeats),o=yh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cs.warn(e),""}}}function S_(){return new Date().toISOString().substring(0,10)}function tk(t,e=JR){const n=[];let r=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),R_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),R_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BS()?zS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return I_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return I_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function R_(t){return yh(JSON.stringify({version:2,heartbeats:t})).length}function rk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){ca(new co("platform-logger",e=>new gR(e),"PRIVATE")),ca(new co("heartbeat",e=>new ek(e),"PRIVATE")),bi(Fm,T_,t),bi(Fm,T_,"esm2020"),bi("fire-js","")}ik("");function JE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sk=JE,ZE=new cc("auth","Firebase",JE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Pg("@firebase/auth");function ok(t,...e){vh.logLevel<=We.WARN&&vh.warn(`Auth (${_a}): ${t}`,...e)}function Zd(t,...e){vh.logLevel<=We.ERROR&&vh.error(`Auth (${_a}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t,...e){throw Dg(t,...e)}function Qr(t,...e){return Dg(t,...e)}function Og(t,e,n){const r={...sk(),[e]:n};return new cc("auth","Firebase",r).create(e,{appName:t.name})}function os(t){return Og(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ak(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Nr(t,"argument-error"),Og(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZE.create(t,...e)}function Ae(t,e,...n){if(!t)throw Dg(e,...n)}function is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zd(e),new Error(e)}function ds(t,e){t||is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(){return typeof self<"u"&&self.location?.href||""}function lk(){return k_()==="http:"||k_()==="https:"}function k_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lk()||FS()||"connection"in navigator)?navigator.onLine:!0}function ck(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=LS()||jS()}get(){return uk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fk=new hc(3e4,6e4);function gs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Jr(t,e,n,r,o={}){return t1(t,o,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const h=dc({key:t.config.apiKey,...c}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:p,...a};return MS()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&wo(t.emulatorConfig.host)&&(y.credentials="include"),e1.fetch()(await n1(t,t.config.apiHost,n,h),y)})}async function t1(t,e,n){t._canInitEmulator=!1;const r={...dk,...e};try{const o=new mk(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Fd(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,y]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Fd(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw Fd(t,"user-disabled",c);const w=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Og(t,w,y);Nr(t,w)}}catch(o){if(o instanceof xi)throw o;Nr(t,"network-request-failed",{message:String(o)})}}async function fc(t,e,n,r,o={}){const a=await Jr(t,e,n,r,o);return"mfaPendingCredential"in a&&Nr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function n1(t,e,n,r){const o=`${e}${n}?${r}`,a=t,c=a.config.emulator?Lg(t.config,o):`${t.config.apiScheme}://${o}`;return hk.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function pk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),fk.get())})}}function Fd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Qr(t,e,r);return o.customData._tokenResponse=n,o}function A_(t){return t!==void 0&&t.enterprise!==void 0}class gk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yk(t,e){return Jr(t,"GET","/v2/recaptchaConfig",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(t,e){return Jr(t,"POST","/v1/accounts:delete",e)}async function _h(t,e){return Jr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vk(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),o=Vg(r);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:r,authTime:Hu(gm(o.auth_time)),issuedAtTime:Hu(gm(o.iat)),expirationTime:Hu(gm(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function gm(t){return Number(t)*1e3}function Vg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{const o=UE(n);return o?JSON.parse(o):(Zd("Failed to decode base64 JWT payload"),null)}catch(o){return Zd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function P_(t){const e=Vg(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xi&&_k(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _k({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(t){const e=t.auth,n=await t.getIdToken(),r=await da(t,_h(e,{idToken:n}));Ae(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=o.providerUserInfo?.length?r1(o.providerUserInfo):[],c=Tk(t.providerData,a),h=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!c?.length,y=h?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function bk(t){const e=Ct(t);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tk(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function r1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(t,e){const n=await t1(t,{},async()=>{const r=dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,c=await n1(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:r};return t.emulatorConfig&&wo(t.emulatorConfig.host)&&(p.credentials="include"),e1.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ik(t,e){return Jr(t,"POST","/v2/accounts:revokeToken",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=P_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await Ck(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,c=new yl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Ae(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ae(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kr{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Ek(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await da(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vk(this,e)}reload(){return bk(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await da(this,wk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:x,providerData:L,stsTokenManager:M}=n;Ae(E&&M,e,"internal-error");const D=yl.fromJSON(this.name,M);Ae(typeof E=="string",e,"internal-error"),Gs(r,e.name),Gs(o,e.name),Ae(typeof b=="boolean",e,"internal-error"),Ae(typeof x=="boolean",e,"internal-error"),Gs(a,e.name),Gs(c,e.name),Gs(h,e.name),Gs(p,e.name),Gs(y,e.name),Gs(w,e.name);const W=new Kr({uid:E,auth:e,email:o,emailVerified:b,displayName:r,isAnonymous:x,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:D,createdAt:y,lastLoginAt:w});return L&&Array.isArray(L)&&(W.providerData=L.map(z=>({...z}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,r=!1){const o=new yl;o.updateFromServerResponse(n);const a=new Kr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Eh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?r1(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,h=new yl;h.updateFromIdToken(r);const p=new Kr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;function ss(t){ds(t instanceof Function,"Expected a class definition");let e=x_.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i1.type="NONE";const N_=i1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t,e,n){return`firebase:${t}:${e}:${n}`}class wl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,a),this.fullPersistenceKey=eh("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _h(this.auth,{idToken:e}).catch(()=>{});return n?Kr._fromGetAccountInfoResponse(this.auth,n,e):null}return Kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wl(ss(N_),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||ss(N_);const c=eh(r,e.config.apiKey,e.name);let h=null;for(const y of n)try{const w=await y._get(c);if(w){let E;if(typeof w=="string"){const b=await _h(e,{idToken:w}).catch(()=>{});if(!b)break;E=await Kr._fromGetAccountInfoResponse(e,b,w)}else E=Kr._fromJSON(e,w);y!==a&&(h=E),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new wl(a,e,r):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(n.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new wl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(s1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(c1(e))return"Blackberry";if(d1(e))return"Webos";if(o1(e))return"Safari";if((e.includes("chrome/")||a1(e))&&!e.includes("edge/"))return"Chrome";if(u1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function s1(t=Sn()){return/firefox\//i.test(t)}function o1(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function a1(t=Sn()){return/crios\//i.test(t)}function l1(t=Sn()){return/iemobile/i.test(t)}function u1(t=Sn()){return/android/i.test(t)}function c1(t=Sn()){return/blackberry/i.test(t)}function d1(t=Sn()){return/webos/i.test(t)}function Mg(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Sk(t=Sn()){return Mg(t)&&!!window.navigator?.standalone}function Rk(){return $S()&&document.documentMode===10}function h1(t=Sn()){return Mg(t)||u1(t)||d1(t)||c1(t)||/windows phone/i.test(t)||l1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e=[]){let n;switch(t){case"Browser":n=O_(Sn());break;case"Worker":n=`${O_(Sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t,e={}){return Jr(t,"GET","/v2/passwordPolicy",gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=6;class xk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Pk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new kk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _h(this,{idToken:e}),r=await Kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Yn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ck()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(os(this));const n=e?Ct(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ak(this),n=new xk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ik(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ok(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ys(t){return Ct(t)}class D_{constructor(e){this.auth=e,this.observer=null,this.addObserver=KS(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ok(t){nf=t}function p1(t){return nf.loadJS(t)}function Dk(){return nf.recaptchaEnterpriseScript}function Lk(){return nf.gapiScript}function Vk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Mk{constructor(){this.enterprise=new Fk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Fk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jk="recaptcha-enterprise",m1="NO_RECAPTCHA";class $k{constructor(e){this.type=jk,this.auth=ys(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{yk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new gk(p);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(p=>{h(p)})})}function o(a,c,h){const p=window.grecaptcha;A_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(m1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mk().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(h=>{if(!n&&A_(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Dk();p.length!==0&&(p+=h),p1(p).then(()=>{o(h,a,c)}).catch(y=>{c(y)})}}).catch(h=>{c(h)})})}}async function L_(t,e,n,r=!1,o=!1){const a=new $k(t);let c;if(o)c=m1;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function bh(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await L_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await L_(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t,e){const n=tf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(uo(a,e??{}))return o;Nr(o,"already-initialized")}return n.initialize({options:e})}function Bk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ss);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function zk(t,e,n){const r=ys(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=g1(e),{host:c,port:h}=Hk(e),p=h===null?"":`:${h}`,y={url:`${a}//${c}${p}/`},w=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(uo(y,r.config.emulator)&&uo(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,wo(c)?(kg(`${a}//${c}${p}`),Ag("Auth",!0)):Wk()}function g1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hk(t){const e=g1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:V_(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:V_(c)}}}function V_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,n){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function qk(t,e){return Jr(t,"POST","/v1/accounts:update",e)}async function Gk(t,e){return Jr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(t,e){return fc(t,"POST","/v1/accounts:signInWithPassword",gs(t,e))}async function Qk(t,e){return Jr(t,"POST","/v1/accounts:sendOobCode",gs(t,e))}async function Yk(t,e){return Qk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}async function Jk(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends Fg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new tc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(e,n,"signInWithPassword",Kk);case"emailLink":return Xk(e,{email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(e,r,"signUpPassword",Gk);case"emailLink":return Jk(e,{idToken:n,email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t,e){return fc(t,"POST","/v1/accounts:signInWithIdp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="http://localhost";class ha extends Fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=n;if(!r||!o)return null;const c=new ha(r,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vl(e,n)}buildRequest(){const e={requestUri:Zk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tA(t){const e=Vu(Mu(t)).link,n=e?Vu(Mu(e)).deep_link_id:null,r=Vu(Mu(t)).deep_link_id;return(r?Vu(Mu(r)).link:null)||r||n||e||t}class jg{constructor(e){const n=Vu(Mu(e)),r=n.apiKey??null,o=n.oobCode??null,a=eA(n.mode??null);Ae(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=tA(e);try{return new jg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.providerId=$l.PROVIDER_ID}static credential(e,n){return tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jg.parseLink(n);return Ae(r,"argument-error"),tc._fromEmailAndCode(e,r.code,r.tenantId)}}$l.PROVIDER_ID="password";$l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends $g{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends pc{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends pc{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends pc{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(t,e){return fc(t,"POST","/v1/accounts:signUp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await Kr._fromIdTokenResponse(e,r,o),c=M_(r);return new fa({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=M_(r);return new fa({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function M_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends xi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Th(e,n,r,o)}}function y1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(t,a,e,r):a})}async function rA(t,e,n=!1){const r=await da(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iA(t,e,n=!1){const{auth:r}=t;if(Yn(r.app))return Promise.reject(os(r));const o="reauthenticate";try{const a=await da(t,y1(r,o,e,t),n);Ae(a.idToken,r,"internal-error");const c=Vg(a.idToken);Ae(c,r,"internal-error");const{sub:h}=c;return Ae(t.uid===h,r,"user-mismatch"),fa._forOperation(t,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Nr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(t,e,n=!1){if(Yn(t.app))return Promise.reject(os(t));const r="signIn",o=await y1(t,r,e),a=await fa._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function sA(t,e){return w1(ys(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(t){const e=ys(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oA(t,e,n){const r=ys(t);await bh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Yk)}async function aA(t,e,n){if(Yn(t.app))return Promise.reject(os(t));const r=ys(t),c=await bh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&v1(t),p}),h=await fa._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function lA(t,e,n){return Yn(t.app)?Promise.reject(os(t)):sA(Ct(t),$l.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&v1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(t,e){return Jr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zm(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ct(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await da(r,uA(r.auth,a));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const h=r.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function cA(t,e){return dA(Ct(t),null,e)}async function dA(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const c=await da(t,qk(r,a));await t._updateTokensIfNecessary(c,!0)}function hA(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function fA(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function pA(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=1e3,gA=10;class E1 extends _1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);Rk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gA):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}E1.type="LOCAL";const yA=E1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends _1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}b1.type="SESSION";const T1=b1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async y=>y(n.origin,a)),p=await wA(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const y=Ug("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const b=E;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(b.data.response);break;default:clearTimeout(w),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function _A(t){Ti().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function EA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bA(){return navigator?.serviceWorker?.controller||null}function TA(){return C1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebaseLocalStorageDb",CA=1,Ih="firebaseLocalStorage",S1="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(t,e){return t.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function IA(){const t=indexedDB.deleteDatabase(I1);return new mc(t).toPromise()}function Hm(){const t=indexedDB.open(I1,CA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ih,{keyPath:S1})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ih)?e(r):(r.close(),await IA(),e(await Hm()))})})}async function F_(t,e,n){const r=sf(t,!0).put({[S1]:e,value:n});return new mc(r).toPromise()}async function SA(t,e){const n=sf(t,!1).get(e),r=await new mc(n).toPromise();return r===void 0?null:r.value}function j_(t,e){const n=sf(t,!0).delete(e);return new mc(n).toPromise()}const RA=800,kA=3;class R1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(TA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EA(),!this.activeServiceWorker)return;this.sender=new vA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await F_(e,Ch,"1"),await j_(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=sf(o,!1).getAll();return new mc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R1.type="LOCAL";const AA=R1;new hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e){return e?ss(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends Fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PA(t){return w1(t.auth,new Bg(t),t.bypassAuthState)}function xA(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),iA(n,new Bg(t),t.bypassAuthState)}async function NA(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),rA(n,new Bg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PA;case"linkViaPopup":case"linkViaRedirect":return NA;case"reauthViaPopup":case"reauthViaRedirect":return xA;default:Nr(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new hc(2e3,1e4);async function DA(t,e,n){if(Yn(t.app))return Promise.reject(Qr(t,"operation-not-supported-in-this-environment"));const r=ys(t);ak(t,e,$g);const o=k1(r,n);return new na(r,"signInViaPopup",e,o).executeNotNull()}class na extends A1{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OA.get())};e()}}na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="pendingRedirect",th=new Map;class VA extends A1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const r=await MA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MA(t,e){const n=$A(e),r=jA(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function FA(t,e){th.set(t._key(),e)}function jA(t){return ss(t._redirectPersistence)}function $A(t){return eh(LA,t.config.apiKey,t.name)}async function UA(t,e,n=!1){if(Yn(t.app))return Promise.reject(os(t));const r=ys(t),o=k1(r,e),c=await new VA(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=600*1e3;class zA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!P1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Qr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BA&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(e))}saveEventToCache(e){this.cachedEventUids.add($_(e)),this.lastProcessedEventTime=Date.now()}}function $_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function P1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(t,e={}){return Jr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GA=/^https?/;async function KA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WA(t);for(const n of e)try{if(QA(n))return}catch{}Nr(t,"unauthorized-domain")}function QA(t){const e=Um(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!GA.test(n))return!1;if(qA.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new hc(3e4,6e4);function U_(){const t=Ti().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XA(t){return new Promise((e,n)=>{function r(){U_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U_(),n(Qr(t,"network-request-failed"))},timeout:YA.get()})}if(Ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ti().gapi?.load)r();else{const o=Vk("iframefcb");return Ti()[o]=()=>{gapi.load?r():n(Qr(t,"network-request-failed"))},p1(`${Lk()}?onload=${o}`).catch(a=>n(a))}}).catch(e=>{throw nh=null,e})}let nh=null;function JA(t){return nh=nh||XA(t),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new hc(5e3,15e3),e2="__/auth/iframe",t2="emulator/auth/iframe",n2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i2(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lg(e,t2):`https://${t.config.authDomain}/${e2}`,r={apiKey:e.apiKey,appName:t.name,v:_a},o=r2.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${dc(r).slice(1)}`}async function s2(t){const e=await JA(t),n=Ti().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:i2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n2,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const c=Qr(t,"network-request-failed"),h=Ti().setTimeout(()=>{a(c)},ZA.get());function p(){Ti().clearTimeout(h),o(r)}r.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a2=500,l2=600,u2="_blank",c2="http://localhost";class B_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d2(t,e,n,r=a2,o=l2){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p={...o2,width:r.toString(),height:o.toString(),top:a,left:c},y=Sn().toLowerCase();n&&(h=a1(y)?u2:n),s1(y)&&(e=e||c2,p.scrollbars="yes");const w=Object.entries(p).reduce((b,[x,L])=>`${b}${x}=${L},`,"");if(Sk(y)&&h!=="_self")return h2(e||"",h),new B_(null);const E=window.open(e||"",h,w);Ae(E,t,"popup-blocked");try{E.focus()}catch{}return new B_(E)}function h2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="__/auth/handler",p2="emulator/auth/handler",m2=encodeURIComponent("fac");async function z_(t,e,n,r,o,a){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_a,eventId:o};if(e instanceof $g){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",GS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))c[w]=E}if(e instanceof pc){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(c.scopes=w.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const p=await t._getAppCheckToken(),y=p?`#${m2}=${encodeURIComponent(p)}`:"";return`${g2(t)}?${dc(h).slice(1)}${y}`}function g2({config:t}){return t.emulator?Lg(t,p2):`https://${t.authDomain}/${f2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="webStorageSupport";class y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T1,this._completeRedirectFn=UA,this._overrideRedirectResult=FA}async _openPopup(e,n,r,o){ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await z_(e,n,r,Um(),o);return d2(e,a,Ug())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await z_(e,n,r,Um(),o);return _A(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(ds(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s2(e),r=new zA(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ym,{type:ym},o=>{const a=o?.[0]?.[ym];a!==void 0&&n(!!a),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return h1()||o1()||Mg()}}const w2=y2;var H_="@firebase/auth",W_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E2(t){ca(new co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f1(t)},y=new Nk(r,o,a,p);return Bk(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ca(new co("auth-internal",e=>{const n=ys(e.getProvider("auth").getImmediate());return(r=>new v2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(H_,W_,_2(t)),bi(H_,W_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=300,T2=WE("authIdTokenMaxAge")||b2;let q_=null;const C2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T2)return;const o=n?.token;q_!==o&&(q_=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ea(t=Ng()){const e=tf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Uk(t,{popupRedirectResolver:w2,persistence:[AA,yA,T1]}),r=WE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=C2(a.toString());fA(n,c,()=>c(n.currentUser)),hA(n,h=>c(h))}}const o=BE("auth");return o&&zk(n,`http://${o}`),n}function I2(){return document.getElementsByTagName("head")?.[0]??document}Ok({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=Qr("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",I2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E2("Browser");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,x1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function k(){}k.prototype=I.prototype,R.D=I.prototype,R.prototype=new k,R.prototype.constructor=R,R.C=function(A,O,F){for(var C=Array(arguments.length-2),be=2;be<arguments.length;be++)C[be-2]=arguments[be];return I.prototype[O].apply(A,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,I,k){k||(k=0);var A=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)A[O]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(O=0;16>O;++O)A[O]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=R.g[0],k=R.g[1],O=R.g[2];var F=R.g[3],C=I+(F^k&(O^F))+A[0]+3614090360&4294967295;I=k+(C<<7&4294967295|C>>>25),C=F+(O^I&(k^O))+A[1]+3905402710&4294967295,F=I+(C<<12&4294967295|C>>>20),C=O+(k^F&(I^k))+A[2]+606105819&4294967295,O=F+(C<<17&4294967295|C>>>15),C=k+(I^O&(F^I))+A[3]+3250441966&4294967295,k=O+(C<<22&4294967295|C>>>10),C=I+(F^k&(O^F))+A[4]+4118548399&4294967295,I=k+(C<<7&4294967295|C>>>25),C=F+(O^I&(k^O))+A[5]+1200080426&4294967295,F=I+(C<<12&4294967295|C>>>20),C=O+(k^F&(I^k))+A[6]+2821735955&4294967295,O=F+(C<<17&4294967295|C>>>15),C=k+(I^O&(F^I))+A[7]+4249261313&4294967295,k=O+(C<<22&4294967295|C>>>10),C=I+(F^k&(O^F))+A[8]+1770035416&4294967295,I=k+(C<<7&4294967295|C>>>25),C=F+(O^I&(k^O))+A[9]+2336552879&4294967295,F=I+(C<<12&4294967295|C>>>20),C=O+(k^F&(I^k))+A[10]+4294925233&4294967295,O=F+(C<<17&4294967295|C>>>15),C=k+(I^O&(F^I))+A[11]+2304563134&4294967295,k=O+(C<<22&4294967295|C>>>10),C=I+(F^k&(O^F))+A[12]+1804603682&4294967295,I=k+(C<<7&4294967295|C>>>25),C=F+(O^I&(k^O))+A[13]+4254626195&4294967295,F=I+(C<<12&4294967295|C>>>20),C=O+(k^F&(I^k))+A[14]+2792965006&4294967295,O=F+(C<<17&4294967295|C>>>15),C=k+(I^O&(F^I))+A[15]+1236535329&4294967295,k=O+(C<<22&4294967295|C>>>10),C=I+(O^F&(k^O))+A[1]+4129170786&4294967295,I=k+(C<<5&4294967295|C>>>27),C=F+(k^O&(I^k))+A[6]+3225465664&4294967295,F=I+(C<<9&4294967295|C>>>23),C=O+(I^k&(F^I))+A[11]+643717713&4294967295,O=F+(C<<14&4294967295|C>>>18),C=k+(F^I&(O^F))+A[0]+3921069994&4294967295,k=O+(C<<20&4294967295|C>>>12),C=I+(O^F&(k^O))+A[5]+3593408605&4294967295,I=k+(C<<5&4294967295|C>>>27),C=F+(k^O&(I^k))+A[10]+38016083&4294967295,F=I+(C<<9&4294967295|C>>>23),C=O+(I^k&(F^I))+A[15]+3634488961&4294967295,O=F+(C<<14&4294967295|C>>>18),C=k+(F^I&(O^F))+A[4]+3889429448&4294967295,k=O+(C<<20&4294967295|C>>>12),C=I+(O^F&(k^O))+A[9]+568446438&4294967295,I=k+(C<<5&4294967295|C>>>27),C=F+(k^O&(I^k))+A[14]+3275163606&4294967295,F=I+(C<<9&4294967295|C>>>23),C=O+(I^k&(F^I))+A[3]+4107603335&4294967295,O=F+(C<<14&4294967295|C>>>18),C=k+(F^I&(O^F))+A[8]+1163531501&4294967295,k=O+(C<<20&4294967295|C>>>12),C=I+(O^F&(k^O))+A[13]+2850285829&4294967295,I=k+(C<<5&4294967295|C>>>27),C=F+(k^O&(I^k))+A[2]+4243563512&4294967295,F=I+(C<<9&4294967295|C>>>23),C=O+(I^k&(F^I))+A[7]+1735328473&4294967295,O=F+(C<<14&4294967295|C>>>18),C=k+(F^I&(O^F))+A[12]+2368359562&4294967295,k=O+(C<<20&4294967295|C>>>12),C=I+(k^O^F)+A[5]+4294588738&4294967295,I=k+(C<<4&4294967295|C>>>28),C=F+(I^k^O)+A[8]+2272392833&4294967295,F=I+(C<<11&4294967295|C>>>21),C=O+(F^I^k)+A[11]+1839030562&4294967295,O=F+(C<<16&4294967295|C>>>16),C=k+(O^F^I)+A[14]+4259657740&4294967295,k=O+(C<<23&4294967295|C>>>9),C=I+(k^O^F)+A[1]+2763975236&4294967295,I=k+(C<<4&4294967295|C>>>28),C=F+(I^k^O)+A[4]+1272893353&4294967295,F=I+(C<<11&4294967295|C>>>21),C=O+(F^I^k)+A[7]+4139469664&4294967295,O=F+(C<<16&4294967295|C>>>16),C=k+(O^F^I)+A[10]+3200236656&4294967295,k=O+(C<<23&4294967295|C>>>9),C=I+(k^O^F)+A[13]+681279174&4294967295,I=k+(C<<4&4294967295|C>>>28),C=F+(I^k^O)+A[0]+3936430074&4294967295,F=I+(C<<11&4294967295|C>>>21),C=O+(F^I^k)+A[3]+3572445317&4294967295,O=F+(C<<16&4294967295|C>>>16),C=k+(O^F^I)+A[6]+76029189&4294967295,k=O+(C<<23&4294967295|C>>>9),C=I+(k^O^F)+A[9]+3654602809&4294967295,I=k+(C<<4&4294967295|C>>>28),C=F+(I^k^O)+A[12]+3873151461&4294967295,F=I+(C<<11&4294967295|C>>>21),C=O+(F^I^k)+A[15]+530742520&4294967295,O=F+(C<<16&4294967295|C>>>16),C=k+(O^F^I)+A[2]+3299628645&4294967295,k=O+(C<<23&4294967295|C>>>9),C=I+(O^(k|~F))+A[0]+4096336452&4294967295,I=k+(C<<6&4294967295|C>>>26),C=F+(k^(I|~O))+A[7]+1126891415&4294967295,F=I+(C<<10&4294967295|C>>>22),C=O+(I^(F|~k))+A[14]+2878612391&4294967295,O=F+(C<<15&4294967295|C>>>17),C=k+(F^(O|~I))+A[5]+4237533241&4294967295,k=O+(C<<21&4294967295|C>>>11),C=I+(O^(k|~F))+A[12]+1700485571&4294967295,I=k+(C<<6&4294967295|C>>>26),C=F+(k^(I|~O))+A[3]+2399980690&4294967295,F=I+(C<<10&4294967295|C>>>22),C=O+(I^(F|~k))+A[10]+4293915773&4294967295,O=F+(C<<15&4294967295|C>>>17),C=k+(F^(O|~I))+A[1]+2240044497&4294967295,k=O+(C<<21&4294967295|C>>>11),C=I+(O^(k|~F))+A[8]+1873313359&4294967295,I=k+(C<<6&4294967295|C>>>26),C=F+(k^(I|~O))+A[15]+4264355552&4294967295,F=I+(C<<10&4294967295|C>>>22),C=O+(I^(F|~k))+A[6]+2734768916&4294967295,O=F+(C<<15&4294967295|C>>>17),C=k+(F^(O|~I))+A[13]+1309151649&4294967295,k=O+(C<<21&4294967295|C>>>11),C=I+(O^(k|~F))+A[4]+4149444226&4294967295,I=k+(C<<6&4294967295|C>>>26),C=F+(k^(I|~O))+A[11]+3174756917&4294967295,F=I+(C<<10&4294967295|C>>>22),C=O+(I^(F|~k))+A[2]+718787259&4294967295,O=F+(C<<15&4294967295|C>>>17),C=k+(F^(O|~I))+A[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.u=function(R,I){I===void 0&&(I=R.length);for(var k=I-this.blockSize,A=this.B,O=this.h,F=0;F<I;){if(O==0)for(;F<=k;)o(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<I;)if(A[O++]=R.charCodeAt(F++),O==this.blockSize){o(this,A),O=0;break}}else for(;F<I;)if(A[O++]=R[F++],O==this.blockSize){o(this,A),O=0;break}}this.h=O,this.o+=I},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;var k=8*this.o;for(I=R.length-8;I<R.length;++I)R[I]=k&255,k/=256;for(this.u(R),R=Array(16),I=k=0;4>I;++I)for(var A=0;32>A;A+=8)R[k++]=this.g[I]>>>A&255;return R};function a(R,I){var k=h;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=I(R)}function c(R,I){this.h=I;for(var k=[],A=!0,O=R.length-1;0<=O;O--){var F=R[O]|0;A&&F==I||(k[O]=F,A=!1)}this.g=k}var h={};function p(R){return-128<=R&&128>R?a(R,function(I){return new c([I|0],0>I?-1:0)}):new c([R|0],0>R?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return E;if(0>R)return D(y(-R));for(var I=[],k=1,A=0;R>=k;A++)I[A]=R/k|0,k*=4294967296;return new c(I,0)}function w(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return D(w(R.substring(1),I));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=y(Math.pow(I,8)),A=E,O=0;O<R.length;O+=8){var F=Math.min(8,R.length-O),C=parseInt(R.substring(O,O+F),I);8>F?(F=y(Math.pow(I,F)),A=A.j(F).add(y(C))):(A=A.j(k),A=A.add(y(C)))}return A}var E=p(0),b=p(1),x=p(16777216);t=c.prototype,t.m=function(){if(M(this))return-D(this).m();for(var R=0,I=1,k=0;k<this.g.length;k++){var A=this.i(k);R+=(0<=A?A:4294967296+A)*I,I*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(M(this))return"-"+D(this).toString(R);for(var I=y(Math.pow(R,6)),k=this,A="";;){var O=Z(k,I).g;k=W(k,O.j(I));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(R);if(k=O,L(k))return F+A;for(;6>F.length;)F="0"+F;A=F+A}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(var I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function M(R){return R.h==-1}t.l=function(R){return R=W(this,R),M(R)?-1:L(R)?0:1};function D(R){for(var I=R.g.length,k=[],A=0;A<I;A++)k[A]=~R.g[A];return new c(k,~R.h).add(b)}t.abs=function(){return M(this)?D(this):this},t.add=function(R){for(var I=Math.max(this.g.length,R.g.length),k=[],A=0,O=0;O<=I;O++){var F=A+(this.i(O)&65535)+(R.i(O)&65535),C=(F>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);A=C>>>16,F&=65535,C&=65535,k[O]=C<<16|F}return new c(k,k[k.length-1]&-2147483648?-1:0)};function W(R,I){return R.add(D(I))}t.j=function(R){if(L(this)||L(R))return E;if(M(this))return M(R)?D(this).j(D(R)):D(D(this).j(R));if(M(R))return D(this.j(D(R)));if(0>this.l(x)&&0>R.l(x))return y(this.m()*R.m());for(var I=this.g.length+R.g.length,k=[],A=0;A<2*I;A++)k[A]=0;for(A=0;A<this.g.length;A++)for(var O=0;O<R.g.length;O++){var F=this.i(A)>>>16,C=this.i(A)&65535,be=R.i(O)>>>16,De=R.i(O)&65535;k[2*A+2*O]+=C*De,z(k,2*A+2*O),k[2*A+2*O+1]+=F*De,z(k,2*A+2*O+1),k[2*A+2*O+1]+=C*be,z(k,2*A+2*O+1),k[2*A+2*O+2]+=F*be,z(k,2*A+2*O+2)}for(A=0;A<I;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=I;A<2*I;A++)k[A]=0;return new c(k,0)};function z(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function q(R,I){this.g=R,this.h=I}function Z(R,I){if(L(I))throw Error("division by zero");if(L(R))return new q(E,E);if(M(R))return I=Z(D(R),I),new q(D(I.g),D(I.h));if(M(I))return I=Z(R,D(I)),new q(D(I.g),I.h);if(30<R.g.length){if(M(R)||M(I))throw Error("slowDivide_ only works with positive integers.");for(var k=b,A=I;0>=A.l(R);)k=X(k),A=X(A);var O=ne(k,1),F=ne(A,1);for(A=ne(A,2),k=ne(k,2);!L(A);){var C=F.add(A);0>=C.l(R)&&(O=O.add(k),F=C),A=ne(A,1),k=ne(k,1)}return I=W(R,O.j(I)),new q(O,I)}for(O=E;0<=R.l(I);){for(k=Math.max(1,Math.floor(R.m()/I.m())),A=Math.ceil(Math.log(k)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),F=y(k),C=F.j(I);M(C)||0<C.l(R);)k-=A,F=y(k),C=F.j(I);L(F)&&(F=b),O=O.add(F),R=W(R,C)}return new q(O,R)}t.A=function(R){return Z(this,R).h},t.and=function(R){for(var I=Math.max(this.g.length,R.g.length),k=[],A=0;A<I;A++)k[A]=this.i(A)&R.i(A);return new c(k,this.h&R.h)},t.or=function(R){for(var I=Math.max(this.g.length,R.g.length),k=[],A=0;A<I;A++)k[A]=this.i(A)|R.i(A);return new c(k,this.h|R.h)},t.xor=function(R){for(var I=Math.max(this.g.length,R.g.length),k=[],A=0;A<I;A++)k[A]=this.i(A)^R.i(A);return new c(k,this.h^R.h)};function X(R){for(var I=R.g.length+1,k=[],A=0;A<I;A++)k[A]=R.i(A)<<1|R.i(A-1)>>>31;return new c(k,R.h)}function ne(R,I){var k=I>>5;I%=32;for(var A=R.g.length-k,O=[],F=0;F<A;F++)O[F]=0<I?R.i(F+k)>>>I|R.i(F+k+1)<<32-I:R.i(F+k);return new c(O,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,x1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=w,so=c}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N1,Fu,O1,rh,Wm,D1,L1,V1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jd=="object"&&jd];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,T=!1,U={next:function(){if(!T&&v<u.length){var K=v++;return{value:m(K,u[K]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function b(u,m,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:E,b.apply(null,arguments)}function x(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function L(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,U,K){for(var ue=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ue[rt-2]=arguments[rt];return m.prototype[U].apply(T,ue)}}function M(u){const m=u.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function D(u,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const U=u.length||0,K=T.length||0;u.length=U+K;for(let ue=0;ue<K;ue++)u[U+ue]=T[ue]}else u.push(T)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(u){return/^[\s\xa0]*$/.test(u)}function q(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function Z(u){return Z[" "](u),u}Z[" "]=function(){};var X=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ne(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function R(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function I(u){const m={};for(const v in u)m[v]=u[v];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let K=0;K<k.length;K++)v=k[K],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function O(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function F(u){h.setTimeout(()=>{throw u},0)}function C(){var u=le;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,v){const T=De.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var De=new W(()=>new pe,u=>u.reset());class pe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,te=!1,le=new be,ce=()=>{const u=h.Promise.resolve(void 0);_e=()=>{u.then($)}};var $=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){F(v)}var m=De;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}te=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Te=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return u})();function xe(u,m){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(X){e:{try{Z(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ne[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}L(xe,ge);var Ne={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function $e(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++Me,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _t(u){this.src=u,this.g={},this.h=0}_t.prototype.add=function(u,m,v,T,U){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ue=Zn(u,m,T,U);return-1<ue?(m=u[ue],v||(m.fa=!1)):(m=new $e(m,this.src,K,!!T,U),m.fa=v,u.push(m)),m};function Et(u,m){var v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),K;(K=0<=U)&&Array.prototype.splice.call(T,U,1),K&&(ot(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Zn(u,m,v,T){for(var U=0;U<u.length;++U){var K=u[U];if(!K.da&&K.listener==m&&K.capture==!!v&&K.ha==T)return U}return-1}var yr="closure_lm_"+(1e6*Math.random()|0),ti={};function Ni(u,m,v,T,U){if(Array.isArray(m)){for(var K=0;K<m.length;K++)Ni(u,m[K],v,T,U);return null}return v=To(v),u&&u[Fe]?u.K(m,v,y(T)?!!T.capture:!1,U):Oi(u,m,v,!1,T,U)}function Oi(u,m,v,T,U,K){if(!m)throw Error("Invalid event type");var ue=y(U)?!!U.capture:!!U,rt=Di(u);if(rt||(u[yr]=rt=new _t(u)),v=rt.add(m,v,T,ue,K),v.proxy)return v;if(T=pt(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)Te||(U=ue),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(wr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pt(){function u(v){return m.call(u.src,u.listener,v)}const m=vs;return u}function ws(u,m,v,T,U){if(Array.isArray(m))for(var K=0;K<m.length;K++)ws(u,m[K],v,T,U);else T=y(T)?!!T.capture:!!T,v=To(v),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],v=Zn(K,v,T,U),-1<v&&(ot(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=Di(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Zn(m,v,T,U)),(v=-1<u?m[u]:null)&&Mn(v))}function Mn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])Et(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(wr(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Di(m))?(Et(v,u),v.h==0&&(v.src=null,m[yr]=null)):ot(u)}}}function wr(u){return u in ti?ti[u]:ti[u]="on"+u}function vs(u,m){if(u.da)u=!0;else{m=new xe(m,this);var v=u.listener,T=u.ha||u.src;u.fa&&Mn(u),u=v.call(T,m)}return u}function Di(u){return u=u[yr],u instanceof _t?u:null}var Li="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(u){return typeof u=="function"?u:(u[Li]||(u[Li]=function(m){return u.handleEvent(m)}),u[Li])}function Nt(){Y.call(this),this.i=new _t(this),this.M=this,this.F=null}L(Nt,Y),Nt.prototype[Fe]=!0,Nt.prototype.removeEventListener=function(u,m,v,T){ws(this,u,m,v,T)};function St(u,m){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new ge(m,u);else if(m instanceof ge)m.target=m.target||u;else{var U=m;m=new ge(T,u),A(m,U)}if(U=!0,v)for(var K=v.length-1;0<=K;K--){var ue=m.g=v[K];U=er(ue,T,!0,m)&&U}if(ue=m.g=u,U=er(ue,T,!0,m)&&U,U=er(ue,T,!1,m)&&U,v)for(K=0;K<v.length;K++)ue=m.g=v[K],U=er(ue,T,!1,m)&&U}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],T=0;T<v.length;T++)ot(v[T]);delete u.g[m],u.h--}}this.F=null},Nt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Nt.prototype.L=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function er(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,K=0;K<m.length;++K){var ue=m[K];if(ue&&!ue.da&&ue.capture==v){var rt=ue.listener,Kt=ue.ha||ue.src;ue.fa&&Et(u.i,ue),U=rt.call(Kt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Co(u,m,v){if(typeof u=="function")v&&(u=b(u,v));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function ni(u){u.g=Co(()=>{u.g=null,u.i&&(u.i=!1,ni(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ri extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ni(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(u){Y.call(this),this.h=u,this.g={}}L(ii,Y);var Io=[];function So(u){ne(u.g,function(m,v){this.g.hasOwnProperty(v)&&Mn(m)},u),u.g={}}ii.prototype.N=function(){ii.aa.N.call(this),So(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=h.JSON.stringify,Ro=h.JSON.parse,ko=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Vi(){}Vi.prototype.h=null;function Mi(u){return u.h||(u.h=u.i())}function Es(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){ge.call(this,"d")}L(tr,ge);function vr(){ge.call(this,"c")}L(vr,ge);var _r={},Ao=null;function si(){return Ao=Ao||new Nt}_r.La="serverreachability";function bs(u){ge.call(this,_r.La,u)}L(bs,ge);function Er(u){const m=si();St(m,new bs(m))}_r.STAT_EVENT="statevent";function Ts(u,m){ge.call(this,_r.STAT_EVENT,u),this.stat=m}L(Ts,ge);function mt(u){const m=si();St(m,new Ts(m,u))}_r.Ma="timingevent";function Fi(u,m){ge.call(this,_r.Ma,u),this.size=m}L(Fi,ge);function Fn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function ji(u,m,v,T,U,K){u.info(function(){if(u.g)if(K)for(var ue="",rt=K.split("&"),Kt=0;Kt<rt.length;Kt++){var Qe=rt[Kt].split("=");if(1<Qe.length){var en=Qe[0];Qe=Qe[1];var Ut=en.split("_");ue=2<=Ut.length&&Ut[1]=="type"?ue+(en+"="+Qe+"&"):ue+(en+"=redacted&")}}else ue=null;else ue=K;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+ue})}function Cs(u,m,v,T,U,K,ue){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+K+" "+ue})}function jt(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Po(u,v)+(T?" "+T:"")})}function un(u,m){u.info(function(){return"TIMEOUT: "+m})}oi.prototype.info=function(){};function Po(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ue=1;ue<U.length;ue++)U[ue]=""}}}}return _s(v)}catch{return m}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rt;function jn(){}L(jn,Vi),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},Rt=new jn;function nr(u,m,v,T){this.j=u,this.i=m,this.l=v,this.R=T||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new br}function br(){this.i=null,this.g="",this.h=!1}var Is={},Vr={};function Ui(u,m,v){u.L=1,u.v=ks($t(m)),u.m=v,u.P=!0,No(u,null)}function No(u,m){u.F=Date.now(),it(u),u.A=$t(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ps(v.i,"t",T),u.C=0,v=u.j.J,u.h=new br,u.g=Bc(u.j,v?m:null,!u.m),0<u.O&&(u.M=new ri(b(u.Y,u,u.g),u.O)),m=u.U,v=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Io[0]=U.toString()),U=Io);for(var K=0;K<U.length;K++){var ue=Ni(v,U[K],T||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Er(),ji(u.i,u.u,u.A,u.l,u.R,u.m)}nr.prototype.ca=function(u){u=u.target;const m=this.M;m&&Bn(u)==3?m.j():this.Y(u)},nr.prototype.Y=function(u){try{if(u==this.g)e:{const Ut=Bn(this.g);var m=this.g.Ba();const Cr=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||su(this.g)))){this.J||Ut!=4||m==7||(m==8||0>=Cr?Er(3):Er(2)),rr(this);var v=this.g.Z();this.X=v;t:if(Ra(this)){var T=su(this.g);u="";var U=T.length,K=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),ai(this);var ue="";break t}this.h.i=new h.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(K&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,Cs(this.i,this.u,this.A,this.l,this.R,Ut,v),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Kt=this.g;if((rt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(rt)){var Qe=rt;break t}}Qe=null}if(v=Qe)jt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oo(this,v);else{this.o=!1,this.s=3,mt(12),$n(this),ai(this);break e}}if(this.P){v=!0;let or;for(;!this.J&&this.C<ue.length;)if(or=tu(this,ue),or==Vr){Ut==4&&(this.s=4,mt(14),v=!1),jt(this.i,this.l,null,"[Incomplete Response]");break}else if(or==Is){this.s=4,mt(15),jt(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else jt(this.i,this.l,or,null),Oo(this,or);if(Ra(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ue.length!=0||this.h.h||(this.s=1,mt(16),v=!1),this.o=this.o&&v,!v)jt(this.i,this.l,ue,"[Invalid Chunked Response]"),$n(this),ai(this);else if(0<ue.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),au(en),en.M=!0,mt(11))}}else jt(this.i,this.l,ue,null),Oo(this,ue);Ut==4&&$n(this),this.o&&!this.J&&(Ut==4?$a(this.j,this):(this.o=!1,it(this)))}else La(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),$n(this),ai(this)}}}catch{}finally{}};function Ra(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Vr:(v=Number(m.substring(v,T)),isNaN(v)?Is:(T+=1,T+v>m.length?Vr:(m=m.slice(T,T+v),u.C=T+v,m)))}nr.prototype.cancel=function(){this.J=!0,$n(this)};function it(u){u.S=Date.now()+u.I,Ot(u,u.I)}function Ot(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Fn(b(u.ba,u),m)}function rr(u){u.B&&(h.clearTimeout(u.B),u.B=null)}nr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(un(this.i,this.A),this.L!=2&&(Er(),mt(17)),$n(this),this.s=2,ai(this)):Ot(this,this.S-u)};function ai(u){u.j.G==0||u.J||$a(u.j,u)}function $n(u){rr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,So(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Oo(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||kt(v.h,u))){if(!u.K&&kt(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ja(v),Ur(v);else break e;Fa(v),mt(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Fn(b(v.Za,v),6e3));if(1>=Aa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qi(v,11)}else if((u.K||v.g==u)&&ja(v),!z(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Qe=U[m];if(v.T=Qe[0],Qe=Qe[1],v.G==2)if(Qe[0]=="c"){v.K=Qe[1],v.ia=Qe[2];const en=Qe[3];en!=null&&(v.la=en,v.j.info("VER="+v.la));const Ut=Qe[4];Ut!=null&&(v.Aa=Ut,v.j.info("SVER="+v.Aa));const Cr=Qe[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(T=1.5*Cr,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const or=u.g;if(or){const Fo=or.g?or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fo){var K=T.h;K.g||Fo.indexOf("spdy")==-1&&Fo.indexOf("quic")==-1&&Fo.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Do(K,K.h),K.h=null))}if(T.D){const Ba=or.g?or.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(T.ya=Ba,st(T.I,T.D,Ba))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var ue=u;if(T.qa=Uc(T,T.J?T.ia:null,T.W),ue.K){Pa(T.h,ue);var rt=ue,Kt=T.L;Kt&&(rt.I=Kt),rt.B&&(rr(rt),it(rt)),T.g=ue}else Mo(T);0<v.i.length&&di(v)}else Qe[0]!="stop"&&Qe[0]!="close"||qi(v,7);else v.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?qi(v,7):dn(v):Qe[0]!="noop"&&v.l&&v.l.ta(Qe),v.v=0)}}Er(4)}catch{}}var ka=class{constructor(u,m){this.g=u,this.map=m}};function Bi(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Aa(u){return u.h?1:u.g?u.g.size:0}function kt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Do(u,m){u.g?u.g.add(m):u.h=m}function Pa(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Bi.prototype.cancel=function(){if(this.i=xa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xa(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return M(u.i)}function Ce(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,T=0;T<v;T++)m.push(u[T]);return m}m=[],v=0;for(T in u)m[v++]=u[T];return m}function Be(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const T in u)m[v++]=T;return m}}}function gt(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Be(u),T=Ce(u),U=T.length,K=0;K<U;K++)m.call(void 0,T[K],v&&v[K],u)}var Gt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ke(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),U=null;if(0<=T){var K=u[v].substring(0,T);U=u[v].substring(T+1)}else K=u[v];m(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ir(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ir){this.h=u.h,yn(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.s),this.l=u.l;var m=u.i,v=new li;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Rs(this,v),this.m=u.m}else u&&(m=String(u).match(Gt))?(this.h=!1,yn(this,m[1]||"",!0),this.o=Ke(m[2]||""),this.g=Ke(m[3]||"",!0),Ss(this,m[4]),this.l=Ke(m[5]||"",!0),Rs(this,m[6]||"",!0),this.m=Ke(m[7]||"")):(this.h=!1,this.i=new li(null,this.h))}ir.prototype.toString=function(){var u=[],m=this.j;m&&u.push(As(m,Na,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(As(m,Na,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(As(v,v.charAt(0)=="/"?Oc:Nc,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",As(v,nu)),u.join("")};function $t(u){return new ir(u)}function yn(u,m,v){u.j=v?Ke(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Rs(u,m,v){m instanceof li?(u.i=m,ui(u.i,u.h)):(v||(m=As(m,Dc)),u.i=new li(m,u.h))}function st(u,m,v){u.i.set(m,v)}function ks(u){return st(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ke(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function As(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,xc),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Na=/[#\/\?@]/g,Nc=/[#\?:]/g,Oc=/[#\?]/g,Dc=/[#\?@]/g,nu=/#/g;function li(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&ke(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=li.prototype,t.add=function(u,m){cn(this),this.i=null,u=Tr(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Mr(u,m){cn(u),m=Tr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fr(u,m){return cn(u),m=Tr(u,m),u.g.has(m)}t.forEach=function(u,m){cn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)},t.na=function(){cn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const U=u[T];for(let K=0;K<U.length;K++)v.push(m[T])}return v},t.V=function(u){cn(this);let m=[];if(typeof u=="string")Fr(this,u)&&(m=m.concat(this.g.get(Tr(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},t.set=function(u,m){return cn(this),this.i=null,u=Tr(this,u),Fr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ps(u,m,v){Mr(u,m),0<v.length&&(u.i=null,u.g.set(Tr(u,m),M(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const K=encodeURIComponent(String(T)),ue=this.V(T);for(T=0;T<ue.length;T++){var U=K;ue[T]!==""&&(U+="="+encodeURIComponent(String(ue[T]))),u.push(U)}}return this.i=u.join("&")};function Tr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ui(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,T){var U=T.toLowerCase();T!=U&&(Mr(this,T),Ps(this,U,v))},u)),u.j=m}function Mf(u,m){const v=new oi;if(h.Image){const T=new Image;T.onload=x(Un,v,"TestLoadImage: loaded",!0,m,T),T.onerror=x(Un,v,"TestLoadImage: error",!1,m,T),T.onabort=x(Un,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=x(Un,v,"TestLoadImage: timeout",!1,m,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Lc(u,m){const v=new oi,T=new AbortController,U=setTimeout(()=>{T.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(K=>{clearTimeout(U),K.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Ff(){this.g=new ko}function Vc(u,m,v){const T=v||"";try{gt(u,function(U,K){let ue=U;y(U)&&(ue=_s(U)),m.push(T+K+"="+encodeURIComponent(ue))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function zi(u){this.l=u.Ub||null,this.j=u.eb||!1}L(zi,Vi),zi.prototype.g=function(){return new Lo(this.l,this.j)},zi.prototype.i=(function(u){return function(){return u}})({});function Lo(u,m){Nt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Lo,Nt),t=Lo.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,$r(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mc(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mc(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?jr(this):$r(this),this.readyState==3&&Mc(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,jr(this))},t.Qa=function(u){this.g&&(this.response=u,jr(this))},t.ga=function(){this.g&&jr(this)};function jr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$r(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function $r(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hi(u){let m="";return ne(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function xs(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Hi(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):st(u,m,v))}function yt(u){Nt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(yt,Nt);var jf=/^https?$/i,ru=["POST","PUT"];t=yt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rt.g(),this.v=this.o?Mi(this.o):Mi(Rt),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){Vo(this,K);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const K of T.keys())v.set(K,T.get(K));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),U=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ru,m,void 0))||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of v)this.g.setRequestHeader(K,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Da(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){Vo(this,K)}};function Vo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Oa(u),sr(u)}function Oa(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),sr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iu(this):this.bb())},t.bb=function(){iu(this)};function iu(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Bn(u)!=4||u.Z()!=2)){if(u.u&&Bn(u)==4)Co(u.Ea,0,u);else if(St(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=ue===0){var U=String(u.D).match(Gt)[1]||null;!U&&h.self&&h.self.location&&(U=h.self.location.protocol.slice(0,-1)),T=!jf.test(U?U.toLowerCase():"")}v=T}if(v)St(u,"complete"),St(u,"success");else{u.m=6;try{var K=2<Bn(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",Oa(u)}}finally{sr(u)}}}}function sr(u,m){if(u.g){Da(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||St(u,"ready");try{v.onreadystatechange=T}catch{}}}function Da(u){u.I&&(h.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ro(m)}};function su(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function La(u){const m={};u=(u.g&&2<=Bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(z(u[T]))continue;var v=O(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=m[U]||[];m[U]=K,K.push(v)}R(m,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ou(u){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ci("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ci("baseRetryDelayMs",5e3,u),this.cb=ci("retryDelaySeedMs",1e4,u),this.Wa=ci("forwardChannelMaxRetries",2,u),this.wa=ci("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(u&&u.concurrentRequestLimit),this.Da=new Ff,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ou.prototype,t.la=8,t.G=1,t.connect=function(u,m,v,T){mt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Uc(this,null,this.W),di(this)};function dn(u){if(Va(u),u.G==3){var m=u.U++,v=$t(u.I);if(st(v,"SID",u.K),st(v,"RID",m),st(v,"TYPE","terminate"),Wi(u,v),m=new nr(u,u.j,m),m.L=2,m.v=ks($t(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.v,v=!0),v||(m.g=Bc(m.j,null),m.g.ea(m.v)),m.F=Date.now(),it(m)}$c(u)}function Ur(u){u.g&&(au(u),u.g.cancel(),u.g=null)}function Va(u){Ur(u),u.u&&(h.clearTimeout(u.u),u.u=null),ja(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function di(u){if(!An(u.h)&&!u.s){u.s=!0;var m=u.Ga;_e||ce(),te||(_e(),te=!0),le.add(m,u),u.B=0}}function $f(u,m){return Aa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Fn(b(u.Ga,u,m),jc(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new nr(this,this.j,u);let K=this.o;if(this.S&&(K?(K=I(K),A(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ns(this,U,m),v=$t(this.I),st(v,"RID",u),st(v,"CVER",22),this.D&&st(v,"X-HTTP-Session-Id",this.D),Wi(this,v),K&&(this.O?m="headers="+encodeURIComponent(String(Hi(K)))+"&"+m:this.m&&xs(v,this.m,K)),Do(this.h,U),this.Ua&&st(v,"TYPE","init"),this.P?(st(v,"$req",m),st(v,"SID","null"),U.T=!0,Ui(U,v,null)):Ui(U,v,m),this.G=2}}else this.G==3&&(u?Ma(this,u):this.i.length==0||An(this.h)||Ma(this))};function Ma(u,m){var v;m?v=m.l:v=u.U++;const T=$t(u.I);st(T,"SID",u.K),st(T,"RID",v),st(T,"AID",u.T),Wi(u,T),u.m&&u.o&&xs(T,u.m,u.o),v=new nr(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ns(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Do(u.h,v),Ui(v,T,m)}function Wi(u,m){u.H&&ne(u.H,function(v,T){st(m,T,v)}),u.l&&gt({},function(v,T){st(m,T,v)})}function Ns(u,m,v){v=Math.min(u.i.length,v);var T=u.l?b(u.l.Na,u.l,u):null;e:{var U=u.i;let K=-1;for(;;){const ue=["count="+v];K==-1?0<v?(K=U[0].g,ue.push("ofs="+K)):K=0:ue.push("ofs="+K);let rt=!0;for(let Kt=0;Kt<v;Kt++){let Qe=U[Kt].g;const en=U[Kt].map;if(Qe-=K,0>Qe)K=Math.max(0,U[Kt].g-100),rt=!1;else try{Vc(en,ue,"req"+Qe+"_")}catch{T&&T(en)}}if(rt){T=ue.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,T}function Mo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;_e||ce(),te||(_e(),te=!0),le.add(m,u),u.v=0}}function Fa(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Fn(b(u.Fa,u),jc(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Fn(b(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Ur(this),Fc(this))};function au(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Fc(u){u.g=new nr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=$t(u.qa);st(m,"RID","rpc"),st(m,"SID",u.K),st(m,"AID",u.T),st(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&st(m,"TO",u.ja),st(m,"TYPE","xmlhttp"),Wi(u,m),u.m&&u.o&&xs(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ks($t(m)),v.m=null,v.P=!0,No(v,u)}t.Za=function(){this.C!=null&&(this.C=null,Ur(this),Fa(this),mt(19))};function ja(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function $a(u,m){var v=null;if(u.g==m){ja(u),au(u),u.g=null;var T=2}else if(kt(u.h,m))v=m.D,Pa(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=si(),St(T,new Fi(T,v)),di(u)}else Mo(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&$f(u,m)||T==2&&Fa(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),U){case 1:qi(u,5);break;case 4:qi(u,10);break;case 3:qi(u,6);break;default:qi(u,2)}}}function jc(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function qi(u,m){if(u.j.info("Error code "+m),m==2){var v=b(u.fb,u),T=u.Xa;const U=!T;T=new ir(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||yn(T,"https"),ks(T),U?Mf(T.toString(),v):Lc(T.toString(),v)}else mt(2);u.G=0,u.l&&u.l.sa(m),$c(u),Va(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function $c(u){if(u.G=0,u.ka=[],u.l){const m=xa(u.h);(m.length!=0||u.i.length!=0)&&(D(u.ka,m),D(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function Uc(u,m,v){var T=v instanceof ir?$t(v):new ir(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ss(T,T.s);else{var U=h.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var K=new ir(null);T&&yn(K,T),m&&(K.g=m),U&&Ss(K,U),v&&(K.l=v),T=K}return v=u.D,m=u.ya,v&&m&&st(T,v,m),st(T,"VER",u.la),Wi(u,T),T}function Bc(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new yt(new zi({eb:v})):new yt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}t=lu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ua(){}Ua.prototype.g=function(u,m){return new Pn(u,m)};function Pn(u,m){Nt.call(this),this.g=new ou(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!z(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!z(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new hi(this)}L(Pn,Nt),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){dn(this.g)},Pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=_s(u),u=v);m.i.push(new ka(m.Ya++,u)),m.G==3&&di(m)},Pn.prototype.N=function(){this.g.l=null,delete this.j,dn(this.g),delete this.g,Pn.aa.N.call(this)};function zc(u){tr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(zc,tr);function Hc(){vr.call(this),this.status=1}L(Hc,vr);function hi(u){this.g=u}L(hi,lu),hi.prototype.ua=function(){St(this.g,"a")},hi.prototype.ta=function(u){St(this.g,new zc(u))},hi.prototype.sa=function(u){St(this.g,new Hc)},hi.prototype.ra=function(){St(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,V1=function(){return new Ua},L1=function(){return si()},D1=_r,Wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,rh=$i,xo.COMPLETE="complete",O1=xo,Es.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,Fu=Es,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,N1=yt}).apply(typeof jd<"u"?jd:typeof self<"u"?self:typeof window<"u"?window:{});const K_="@firebase/firestore",Q_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Pg("@firebase/firestore");function dl(){return pa.logLevel}function fe(t,...e){if(pa.logLevel<=We.DEBUG){const n=e.map(zg);pa.debug(`Firestore (${Ul}): ${t}`,...n)}}function hs(t,...e){if(pa.logLevel<=We.ERROR){const n=e.map(zg);pa.error(`Firestore (${Ul}): ${t}`,...n)}}function Cl(t,...e){if(pa.logLevel<=We.WARN){const n=e.map(zg);pa.warn(`Firestore (${Ul}): ${t}`,...n)}}function zg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,M1(t,r,n)}function M1(t,e,n){let r=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hs(r),new Error(r)}function nt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||M1(e,o,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Tn.UNAUTHENTICATED)))}shutdown(){}}class R2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class k2{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let a=new as;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new as,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},h=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new as)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new F1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class A2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Y_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=N2(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function qm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),a=e.charAt(r);if(o!==a)return wm(o)===wm(a)?qe(o,a):wm(o)?1:-1}return qe(t.length,e.length)}const O2=55296,D2=57343;function wm(t){const e=t.charCodeAt(0);return e>=O2&&e<=D2}function Il(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__name__";class yi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=yi.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return qe(e.length,n.length)}static compareSegments(e,n){const r=yi.isNumericId(e),o=yi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?yi.extractNumericId(e).compare(yi.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return so.fromString(e.substring(4,e.length-2))}}class lt extends yi{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const L2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends yi{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return L2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new mn([X_])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(r+=h,o++):(a(),o++)}if(a(),c)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(lt.fromString(e))}static fromName(e){return new Ee(lt.fromString(e).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V2(t,e,n,r){if(e===!0&&r===!0)throw new de(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J_(t){if(!Ee.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z_(t){if(Ee.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function of(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function fs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=of(t);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function gc(t,e){if(!$1(t))throw new de(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new de(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=-62135596800,t0=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*t0);return new ft(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<e0)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t0}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:qt("string",ft._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new ft(0,0))}static max(){return new Le(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;function M2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new ho(o,Ee.empty(),e)}function F2(t){return new ho(t.readTime,t.key,nc)}class ho{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ho(Le.min(),Ee.empty(),nc)}static max(){return new ho(Le.max(),Ee.empty(),nc)}}function j2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==$2)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&n()}),(p=>r(p)))})),c=!0,a===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((o=>o?ee.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,a)=>{r.push(n.call(this,o,a))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,o)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const y=p;n(e[y]).next((w=>{c[y]=w,++h,h===a&&r(c)}),(w=>o(w)))}}))}static doWhile(e,n){return new ee(((r,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):r()};a()}))}}function B2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}af.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=-1;function lf(t){return t==null}function Sh(t){return t===0&&1/t==-1/0}function z2(t){return typeof t=="number"&&Number.isInteger(t)&&!Sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="";function H2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=n0(e)),e=W2(t.get(n),e);return n0(e)}function W2(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case U1:n+="";break;default:n+=a}}return n}function n0(t){return t+U1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function B1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $d(this.root,e,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $d(this.root,e,this.comparator,!0)}}class $d{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??pn.RED,this.left=o??pn.EMPTY,this.right=a??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new pn(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return pn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i0(this.data.getIterator())}getIteratorFrom(e){return new i0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class i0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new dr([])}unionWith(e){let n=new Jt(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new z1("Invalid base64 string: "+a):a}})(e);return new gn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fo(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=q2.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function po(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="server_timestamp",W1="__type__",q1="__previous_value__",G1="__local_write_time__";function qg(t){return(t?.mapValue?.fields||{})[W1]?.stringValue===H1}function uf(t){const e=t.mapValue.fields[q1];return qg(e)?uf(e):e}function rc(t){const e=fo(t.mapValue.fields[G1].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n,r,o,a,c,h,p,y,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=w}}const Rh="(default)";class ic{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="__type__",K2="__max__",Ud={mapValue:{}},Q1="__vector__",kh="value";function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qg(t)?4:Y2(t)?9007199254740991:Q2(t)?10:11:Pe(28295,{value:t})}function Ai(t,e){if(t===e)return!0;const n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rc(t).isEqual(rc(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=fo(o.timestampValue),h=fo(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return po(o.bytesValue).isEqual(po(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Vt(o.geoPointValue.latitude)===Vt(a.geoPointValue.latitude)&&Vt(o.geoPointValue.longitude)===Vt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Vt(o.integerValue)===Vt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Vt(o.doubleValue),h=Vt(a.doubleValue);return c===h?Sh(c)===Sh(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Il(t.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(r0(c)!==r0(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Ai(c[p],h[p])))return!1;return!0})(t,e);default:return Pe(52216,{left:t})}}function sc(t,e){return(t.values||[]).find((n=>Ai(n,e)))!==void 0}function Sl(t,e){if(t===e)return 0;const n=mo(t),r=mo(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=Vt(a.integerValue||a.doubleValue),p=Vt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(t,e);case 3:return s0(t.timestampValue,e.timestampValue);case 4:return s0(rc(t),rc(e));case 5:return qm(t.stringValue,e.stringValue);case 6:return(function(a,c){const h=po(a),p=po(c);return h.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),p=c.split("/");for(let y=0;y<h.length&&y<p.length;y++){const w=qe(h[y],p[y]);if(w!==0)return w}return qe(h.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=qe(Vt(a.latitude),Vt(c.latitude));return h!==0?h:qe(Vt(a.longitude),Vt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return o0(t.arrayValue,e.arrayValue);case 10:return(function(a,c){const h=a.fields||{},p=c.fields||{},y=h[kh]?.arrayValue,w=p[kh]?.arrayValue,E=qe(y?.values?.length||0,w?.values?.length||0);return E!==0?E:o0(y,w)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Ud.mapValue&&c===Ud.mapValue)return 0;if(a===Ud.mapValue)return 1;if(c===Ud.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),y=c.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let E=0;E<p.length&&E<w.length;++E){const b=qm(p[E],w[E]);if(b!==0)return b;const x=Sl(h[p[E]],y[w[E]]);if(x!==0)return x}return qe(p.length,w.length)})(t.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function s0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=fo(t),r=fo(e),o=qe(n.seconds,r.seconds);return o!==0?o:qe(n.nanos,r.nanos)}function o0(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=Sl(n[o],r[o]);if(a)return a}return qe(n.length,r.length)}function Rl(t){return Gm(t)}function Gm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=fo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return po(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=Gm(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of r)a?a=!1:o+=",",o+=`${c}:${Gm(n.fields[c])}`;return o+"}"})(t.mapValue):Pe(61005,{value:t})}function ih(t){switch(mo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(t);return e?16+ih(e):16;case 5:return 2*t.stringValue.length;case 6:return po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+ih(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return vo(r.fields,((a,c)=>{o+=a.length+ih(c)})),o})(t.mapValue);default:throw Pe(13486,{value:t})}}function a0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Km(t){return!!t&&"integerValue"in t}function Gg(t){return!!t&&"arrayValue"in t}function l0(t){return!!t&&"nullValue"in t}function u0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sh(t){return!!t&&"mapValue"in t}function Q2(t){return(t?.mapValue?.fields||{})[K1]?.stringValue===Q1}function Wu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Wu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wu(t.arrayValue.values[n]);return e}return{...t}}function Y2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===K2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(n)}setAll(e){let n=mn.emptyPath(),r={},o=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=h.popLast()}c?r[h.lastSegment()]=Wu(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){vo(n,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Xn(Wu(this.value))}}function Y1(t){const e=[];return vo(t.fields,((n,r)=>{const o=new mn([n]);if(sh(r)){const a=Y1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,o,a,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Cn(e,0,Le.min(),Le.min(),Le.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,o){return new Cn(e,1,n,Le.min(),r,o,0)}static newNoDocument(e,n){return new Cn(e,2,n,Le.min(),Le.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Le.min(),Le.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function c0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),n.key):r=Sl(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function d0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function X2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{}class Wt extends X1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z2(e,n,r):n==="array-contains"?new nP(e,r):n==="in"?new rP(e,r):n==="not-in"?new iP(e,r):n==="array-contains-any"?new sP(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eP(e,r):new tP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sl(n,this.value)):n!==null&&mo(this.value)===mo(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends X1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xr(e,n)}matches(e){return J1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function J1(t){return t.op==="and"}function Z1(t){return J2(t)&&J1(t)}function J2(t){for(const e of t.filters)if(e instanceof Xr)return!1;return!0}function Qm(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+Rl(t.value);if(Z1(t))return t.filters.map((e=>Qm(e))).join(",");{const e=t.filters.map((n=>Qm(n))).join(",");return`${t.op}(${e})`}}function eb(t,e){return t instanceof Wt?(function(r,o){return o instanceof Wt&&r.op===o.op&&r.field.isEqual(o.field)&&Ai(r.value,o.value)})(t,e):t instanceof Xr?(function(r,o){return o instanceof Xr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,c,h)=>a&&eb(c,o.filters[h])),!0):!1})(t,e):void Pe(19439)}function tb(t){return t instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Rl(n.value)}`})(t):t instanceof Xr?(function(n){return n.op.toString()+" {"+n.getFilters().map(tb).join(" ,")+"}"})(t):"Filter"}class Z2 extends Wt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class eP extends Wt{constructor(e,n){super(e,"in",n),this.keys=nb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class tP extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=nb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nb(t,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class nP extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gg(n)&&sc(n.arrayValue,this.value)}}class rP extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sc(this.value.arrayValue,n)}}class iP extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sc(this.value.arrayValue,n)}}class sP extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>sc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n=null,r=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function h0(t,e=null,n=[],r=[],o=null,a=null,c=null){return new oP(t,e,n,r,o,a,c)}function Kg(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Qm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Rl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Rl(r))).join(",")),e.Te=n}return e.Te}function Qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!d0(t.startAt,e.startAt)&&d0(t.endAt,e.endAt)}function Ym(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n=null,r=[],o=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aP(t,e,n,r,o,a,c,h){return new yc(t,e,n,r,o,a,c,h)}function Yg(t){return new yc(t)}function f0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rb(t){return t.collectionGroup!==null}function qu(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Jt(mn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(h=h.add(y.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ph(a,r))})),n.has(mn.keyField().canonicalString())||e.Ie.push(new Ph(mn.keyField(),r))}return e.Ie}function Ci(t){const e=Ve(t);return e.Ee||(e.Ee=lP(e,qu(t))),e.Ee}function lP(t,e){if(t.limitType==="F")return h0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Ph(o.field,a)}));const n=t.endAt?new Ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ah(t.startAt.position,t.startAt.inclusive):null;return h0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xm(t,e){const n=t.filters.concat([e]);return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jm(t,e,n){return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cf(t,e){return Qg(Ci(t),Ci(e))&&t.limitType===e.limitType}function ib(t){return`${Kg(Ci(t))}|lt:${t.limitType}`}function hl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>tb(o))).join(", ")}]`),lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Rl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Rl(o))).join(",")),`Target(${r})`})(Ci(t))}; limitType=${t.limitType})`}function df(t,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,o){for(const a of qu(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,h,p){const y=c0(c,h,p);return c.inclusive?y<=0:y<0})(r.startAt,qu(r),o)||r.endAt&&!(function(c,h,p){const y=c0(c,h,p);return c.inclusive?y>=0:y>0})(r.endAt,qu(r),o))})(t,e)}function uP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sb(t){return(e,n)=>{let r=!1;for(const o of qu(t)){const a=cP(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function cP(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(a,c,h){const p=c.data.field(a),y=h.data.field(a);return p!==null&&y!==null?Sl(p,y):Pe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,((n,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return B1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new It(Ee.comparator);function ps(){return dP}const ob=new It(Ee.comparator);function ju(...t){let e=ob;for(const n of t)e=e.insert(n.key,n);return e}function ab(t){let e=ob;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ra(){return Gu()}function lb(){return Gu()}function Gu(){return new ba((t=>t.toString()),((t,e)=>t.isEqual(e)))}const hP=new It(Ee.comparator),fP=new Jt(Ee.comparator);function Ge(...t){let e=fP;for(const n of t)e=e.add(n);return e}const pP=new Jt(qe);function mP(){return pP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function ub(t){return{integerValue:""+t}}function gP(t,e){return z2(e)?ub(e):Xg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this._=void 0}}function yP(t,e,n){return t instanceof xh?(function(o,a){const c={fields:{[W1]:{stringValue:H1},[G1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&qg(a)&&(a=uf(a)),a&&(c.fields[q1]=a),{mapValue:c}})(n,e):t instanceof kl?db(t,e):t instanceof oc?hb(t,e):(function(o,a){const c=cb(o,a),h=p0(c)+p0(o.Ae);return Km(c)&&Km(o.Ae)?ub(h):Xg(o.serializer,h)})(t,e)}function wP(t,e,n){return t instanceof kl?db(t,e):t instanceof oc?hb(t,e):n}function cb(t,e){return t instanceof Nh?(function(r){return Km(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class xh extends hf{}class kl extends hf{constructor(e){super(),this.elements=e}}function db(t,e){const n=fb(e);for(const r of t.elements)n.some((o=>Ai(o,r)))||n.push(r);return{arrayValue:{values:n}}}class oc extends hf{constructor(e){super(),this.elements=e}}function hb(t,e){let n=fb(e);for(const r of t.elements)n=n.filter((o=>!Ai(o,r)));return{arrayValue:{values:n}}}class Nh extends hf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function p0(t){return Vt(t.integerValue||t.doubleValue)}function fb(t){return Gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n){this.field=e,this.transform=n}}function _P(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof kl&&o instanceof kl||r instanceof oc&&o instanceof oc?Il(r.elements,o.elements,Ai):r instanceof Nh&&o instanceof Nh?Ai(r.Ae,o.Ae):r instanceof xh&&o instanceof xh})(t.transform,e.transform)}class EP{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ff{}function pb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gb(t.key,Ii.none()):new wc(t.key,t.data,Ii.none());{const n=t.data,r=Xn.empty();let o=new Jt(mn.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),o=o.add(a)}return new _o(t.key,r,new dr(o.toArray()),Ii.none())}}function bP(t,e,n){t instanceof wc?(function(o,a,c){const h=o.value.clone(),p=g0(o.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof _o?(function(o,a,c){if(!oh(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=g0(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(mb(o)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(t,e,n):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ku(t,e,n,r){return t instanceof wc?(function(a,c,h,p){if(!oh(a.precondition,c))return h;const y=a.value.clone(),w=y0(a.fieldTransforms,p,c);return y.setAll(w),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(t,e,n,r):t instanceof _o?(function(a,c,h,p){if(!oh(a.precondition,c))return h;const y=y0(a.fieldTransforms,p,c),w=c.data;return w.setAll(mb(a)),w.setAll(y),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(t,e,n,r):(function(a,c,h){return oh(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function TP(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=cb(r.transform,o||null);a!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,a))}return n||null}function m0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Il(r,o,((a,c)=>_P(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wc extends ff{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _o extends ff{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function mb(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function g0(t,e,n){const r=new Map;nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,h=e.data.field(a.field);r.set(a.field,wP(c,h,n[o]))}return r}function y0(t,e,n){const r=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);r.set(o.field,yP(a,c,e))}return r}class gb extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CP extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&bP(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ku(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ku(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lb();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=n.has(o.key)?null:h;const p=pb(c,h);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,((n,r)=>m0(n,r)))&&Il(this.baseMutations,e.baseMutations,((n,r)=>m0(n,r)))}}class Jg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return hP})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,r[c].version);return new Jg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Ye;function kP(t){switch(t){case J.OK:return Pe(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function yb(t){if(t===void 0)return hs("GRPC error has no .code"),J.UNKNOWN;switch(t){case zt.OK:return J.OK;case zt.CANCELLED:return J.CANCELLED;case zt.UNKNOWN:return J.UNKNOWN;case zt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case zt.INTERNAL:return J.INTERNAL;case zt.UNAVAILABLE:return J.UNAVAILABLE;case zt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case zt.NOT_FOUND:return J.NOT_FOUND;case zt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case zt.ABORTED:return J.ABORTED;case zt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case zt.DATA_LOSS:return J.DATA_LOSS;default:return Pe(39323,{code:t})}}(Ye=zt||(zt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new so([4294967295,4294967295],0);function w0(t){const e=AP().encode(t),n=new x1;return n.update(e),new Uint8Array(n.digest())}function v0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new so([n,r],0),new so([o,a],0)]}class Zg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $u(`Invalid padding: ${n}`);if(r<0)throw new $u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $u(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=so.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(so.fromNumber(r)));return o.compare(PP)===1&&(o=new so([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=w0(e),[r,o]=v0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);if(!this.we(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Zg(a,o,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=w0(e),[r,o]=v0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pf(Le.min(),o,new It(qe),ps(),Ge())}}class vc{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vc(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class wb{constructor(e,n){this.targetId=e,this.Ce=n}}class vb{constructor(e,n,r=gn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class _0{constructor(){this.ve=0,this.Fe=E0(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Pe(38017,{changeType:a})}})),new vc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=E0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xP{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.Je=Bd(),this.He=Bd(),this.Ye=new It(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Ym(a))if(r===0){const c=new Ee(a.path);this.et(n,c,Cn.newNoDocument(c,Le.min()))}else nt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),p=h?this.ct(h,e,c):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let c,h;try{c=po(r).toUint8Array()}catch(p){if(p instanceof z1)return Cl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Zg(c,o,a)}catch(p){return Cl(p instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&Ym(h.target)){const p=new Ee(h.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Cn.newNoDocument(p,e))}a.Be&&(n.set(c,a.ke()),a.qe())}}));let r=Ge();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const o=new pf(e,n,this.Ye,this.je,r);return this.je=ps(),this.Je=Bd(),this.He=Bd(),this.Ye=new It(qe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Bd(){return new It(Ee.comparator)}function E0(){return new It(Ee.comparator)}const NP={asc:"ASCENDING",desc:"DESCENDING"},OP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DP={and:"AND",or:"OR"};class LP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(t,e){return t.useProto3Json||lf(e)?e:{value:e}}function Oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _b(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VP(t,e){return Oh(t,e.toTimestamp())}function Si(t){return nt(!!t,49232),Le.fromTimestamp((function(n){const r=fo(n);return new ft(r.seconds,r.nanos)})(t))}function ey(t,e){return eg(t,e).canonicalString()}function eg(t,e){const n=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Eb(t){const e=lt.fromString(t);return nt(Sb(e),10190,{key:e.toString()}),e}function tg(t,e){return ey(t.databaseId,e.path)}function vm(t,e){const n=Eb(e);if(n.get(1)!==t.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(Tb(n))}function bb(t,e){return ey(t.databaseId,e)}function MP(t){const e=Eb(t);return e.length===4?lt.emptyPath():Tb(e)}function ng(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tb(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function b0(t,e,n){return{name:tg(t,e),fields:n.value.mapValue.fields}}function FP(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Pe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(y,w){return y.useProto3Json?(nt(w===void 0||typeof w=="string",58123),gn.fromBase64String(w||"")):(nt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),gn.fromUint8Array(w||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(y){const w=y.code===void 0?J.UNKNOWN:yb(y.code);return new de(w,y.message||"")})(c);n=new vb(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=vm(t,r.document.name),a=Si(r.document.updateTime),c=r.document.createTime?Si(r.document.createTime):Le.min(),h=new Xn({mapValue:{fields:r.document.fields}}),p=Cn.newFoundDocument(o,a,c,h),y=r.targetIds||[],w=r.removedTargetIds||[];n=new ah(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=vm(t,r.document),a=r.readTime?Si(r.readTime):Le.min(),c=Cn.newNoDocument(o,a),h=r.removedTargetIds||[];n=new ah([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=vm(t,r.document),a=r.removedTargetIds||[];n=new ah([],a,o,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,c=new RP(o,a),h=r.targetId;n=new wb(h,c)}}return n}function jP(t,e){let n;if(e instanceof wc)n={update:b0(t,e.key,e.value)};else if(e instanceof gb)n={delete:tg(t,e.key)};else if(e instanceof _o)n={update:b0(t,e.key,e.data),updateMask:KP(e.fieldMask)};else{if(!(e instanceof CP))return Pe(16599,{Vt:e.type});n={verify:tg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const h=c.transform;if(h instanceof xh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof kl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof oc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Nh)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Pe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:VP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe(27497)})(t,e.precondition)),n}function $P(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(o,a){let c=o.updateTime?Si(o.updateTime):Si(a);return c.isEqual(Le.min())&&(c=Si(a)),new EP(c,o.transformResults||[])})(n,e)))):[]}function UP(t,e){return{documents:[bb(t,e.path)]}}function BP(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bb(t,o);const a=(function(y){if(y.length!==0)return Ib(Xr.create(y,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(y){if(y.length!==0)return y.map((w=>(function(b){return{field:fl(b.field),direction:WP(b.dir)}})(w)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Zm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function zP(t){let e=MP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){nt(r===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];n.where&&(a=(function(E){const b=Cb(E);return b instanceof Xr&&Z1(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((b=>(function(L){return new Ph(pl(L.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(b)))})(n.orderBy));let h=null;n.limit&&(h=(function(E){let b;return b=typeof E=="object"?E.value:E,lf(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(E){const b=!!E.before,x=E.values||[];return new Ah(x,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const b=!E.before,x=E.values||[];return new Ah(x,b)})(n.endAt)),aP(e,o,c,a,h,"F",p,y)}function HP(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Cb(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pl(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=pl(n.unaryFilter.field);return Wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=pl(n.unaryFilter.field);return Wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=pl(n.unaryFilter.field);return Wt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Wt.create(pl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Xr.create(n.compositeFilter.filters.map((r=>Cb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(n.compositeFilter.op))})(t):Pe(30097,{filter:t})}function WP(t){return NP[t]}function qP(t){return OP[t]}function GP(t){return DP[t]}function fl(t){return{fieldPath:t.canonicalString()}}function pl(t){return mn.fromServerFormat(t.fieldPath)}function Ib(t){return t instanceof Wt?(function(n){if(n.op==="=="){if(u0(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NAN"}};if(l0(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u0(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NAN"}};if(l0(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(n.field),op:qP(n.op),value:n.value}}})(t):t instanceof Xr?(function(n){const r=n.getFilters().map((o=>Ib(o)));return r.length===1?r[0]:{compositeFilter:{op:GP(n.op),filters:r}}})(t):Pe(54877,{filter:t})}function KP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Sb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r,o,a=Le.min(),c=Le.min(),h=gn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.yt=e}}function YP(t){const e=zP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.Cn=new JP}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ho.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ho.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class JP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Jt(lt.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Jt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rb=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(Rb,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Al(0)}static cr(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="LruGarbageCollector",ZP=1048576;function I0([t,e],[n,r]){const o=qe(t,n);return o===0?qe(e,r):o}class ex{constructor(e){this.Ir=e,this.buffer=new Jt(I0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();I0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tx{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(C0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zl(n)?fe(C0,"Ignoring IndexedDB error during garbage collection: ",n):await Bl(n)}await this.Vr(3e5)}))}}class nx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(af.ce);const r=new ex(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(T0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,a,c,h,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,h=Date.now(),this.removeTargets(e,r,n)))).next((E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),dl()<=We.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E}))))}}function rx(t,e){return new nx(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.changes=new ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Ku(r.mutation,o,dr.empty(),ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const o=ra();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((a=>{let c=ju();return a.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ra();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const o=[];return r.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,o){let a=ps();const c=Gu(),h=(function(){return Gu()})();return n.forEach(((p,y)=>{const w=r.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof _o)?a=a.insert(y.key,y):w!==void 0?(c.set(y.key,w.mutation.getFieldMask()),Ku(w.mutation,y,w.mutation.getFieldMask(),ft.now())):c.set(y.key,dr.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((y,w)=>c.set(y,w))),n.forEach(((y,w)=>h.set(y,new sx(w,c.get(y)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Gu();let o=new It(((c,h)=>c-h)),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let w=r.get(p)||dr.empty();w=h.applyToLocalView(y,w),r.set(p,w);const E=(o.get(h.batchId)||Ge()).add(p);o=o.insert(h.batchId,E)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,w=p.value,E=lb();w.forEach((b=>{if(!a.has(b)){const x=pb(n.get(b),r.get(b));x!==null&&E.set(b,x),a=a.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ee.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):ee.resolve(ra());let h=nc,p=a;return c.next((y=>ee.forEach(y,((w,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(w)?ee.resolve():this.remoteDocumentCache.getEntry(e,w).next((b=>{p=p.insert(w,b)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,p,y,Ge()))).next((w=>({batchId:h,changes:ab(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((r=>{let o=ju();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let c=ju();return this.indexManager.getCollectionParents(e,a).next((h=>ee.forEach(h,(p=>{const y=(function(E,b){return new yc(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((w=>{w.forEach(((E,b)=>{c=c.insert(E,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o)))).next((c=>{a.forEach(((p,y)=>{const w=y.getKey();c.get(w)===null&&(c=c.insert(w,Cn.newInvalidDocument(w)))}));let h=ju();return c.forEach(((p,y)=>{const w=a.get(p);w!==void 0&&Ku(w.mutation,y,dr.empty(),ft.now()),df(n,y)&&(h=h.insert(p,y))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:YP(o.bundledQuery),readTime:Si(o.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.overlays=new It(Ee.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ra();return ee.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,a)=>{this.St(e,n,a)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const o=ra(),a=n.length+1,c=new Ee(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new It(((y,w)=>y-w));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let w=a.get(y.largestBatchId);w===null&&(w=ra(),a=a.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const h=ra(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,w)=>h.set(y,w))),!(h.size()>=o)););return ee.resolve(h)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new SP(n,r));let a=this.qr.get(n);a===void 0&&(a=Ge(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.Qr=new Jt(sn.$r),this.Ur=new Jt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new sn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new sn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ee(new lt([])),r=new sn(n,e),o=new sn(n,e+1),a=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new lt([])),r=new sn(n,e),o=new sn(n,e+1);let a=Ge();return this.Ur.forEachInRange([r,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new sn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(sn.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new IP(a,n,r,o);this.mutationQueue.push(c);for(const h of o)this.Zr=this.Zr.add(new sn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Wg:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sn(n,0),o=new sn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(c=>{const h=this.Xr(c.Yr);a.push(h)})),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(qe);return n.forEach((o=>{const a=new sn(o,0),c=new sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{r=r.add(h.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const c=new sn(new Ee(a),0);let h=new Jt(qe);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(h=h.add(p.Yr)),!0)}),c),ee.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,(o=>{const a=new sn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new sn(n,0),o=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.ri=e,this.docs=(function(){return new It(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=ps();return n.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Cn.newInvalidDocument(o))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=ps();const c=n.path,h=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||j2(F2(w),r)<=0||(o.has(w.key)||df(n,w))&&(a=a.insert(w.key,w.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,o){Pe(9500)}ii(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new hx(this)}getSize(e){return ee.resolve(this.size)}}class hx extends ix{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.persistence=e,this.si=new ba((n=>Kg(n)),Qg),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new ty,this.targetCount=0,this.ai=Al.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ee.waitFor(a).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.ui={},this.overlays={},this.ci=new af(0),this.li=!1,this.li=!0,this.hi=new ux,this.referenceDelegate=e(this),this.Pi=new fx(this),this.indexManager=new XP,this.remoteDocumentCache=(function(o){return new dx(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new QP(n),this.Ii=new ax(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new cx(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const o=new px(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class px extends U2{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Ri=new ty,this.Vi=null}static mi(e){return new ny(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const o=Ee.fromPath(r);return this.gi(e,o).next((a=>{a||n.removeEntry(o,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Dh{constructor(e,n){this.persistence=e,this.pi=new ba((r=>H2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=rx(this,n)}static mi(e,n){return new Dh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?ee.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((h=>{h||(r++,a.removeEntry(c,Le.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Ge(),o=Ge();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ry(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return US()?8:B2(Sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ys(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,n,o,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new mx;return this.Ss(e,n,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>a.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(dl()<=We.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",hl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(dl()<=We.DEBUG&&fe("QueryEngine","Query:",hl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(dl()<=We.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",hl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):ee.resolve())}ys(e,n){if(f0(n))return ee.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Jm(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=Ge(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.Ds(n,h);return this.Cs(n,y,c,p.readTime)?this.ys(e,Jm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,r,o){return f0(n)||o.isEqual(Le.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(n,a);return this.Cs(n,c,r,o)?ee.resolve(null):(dl()<=We.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hl(n)),this.vs(e,c,n,M2(o,nc)).next((h=>h)))}))}Ds(e,n){let r=new Jt(sb(e));return n.forEach(((o,a)=>{df(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return dl()<=We.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",hl(n)),this.ps.getDocumentsMatchingQuery(e,n,ho.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="LocalStore",yx=3e8;class wx{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new It(qe),this.xs=new ba((a=>Kg(a)),Qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ox(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function vx(t,e,n,r){return new wx(t,e,n,r)}async function Ab(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],h=[];let p=Ge();for(const y of o){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of a){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:h})))}))}))}function _x(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,y,w){const E=y.batch,b=E.keys();let x=ee.resolve();return b.forEach((L=>{x=x.next((()=>w.getEntry(p,L))).next((M=>{const D=y.docVersions.get(L);nt(D!==null,48541),M.version.compareTo(D)<0&&(E.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),w.addEntry(M)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(p,E)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let p=Ge();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(p=p.add(h.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Pb(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Ex(t,e){const n=Ve(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const h=[];e.targetChanges.forEach(((w,E)=>{const b=o.get(E);if(!b)return;h.push(n.Pi.removeMatchingKeys(a,w.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(a,w.addedDocuments,E))));let x=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?x=x.withResumeToken(gn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):w.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(w.resumeToken,r)),o=o.insert(E,x),(function(M,D,W){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=yx?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(b,x,w)&&h.push(n.Pi.updateTargetData(a,x))}));let p=ps(),y=Ge();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,w))})),h.push(bx(a,c,e.documentUpdates).next((w=>{p=w.ks,y=w.qs}))),!r.isEqual(Le.min())){const w=n.Pi.getLastRemoteSnapshotVersion(a).next((E=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(w)}return ee.waitFor(h).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,p,y))).next((()=>p))})).then((a=>(n.Ms=o,a)))}function bx(t,e,n){let r=Ge(),o=Ge();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let c=ps();return n.forEach(((h,p)=>{const y=a.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Le.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):fe(iy,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function Tx(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Cx(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((a=>a?(o=a,ee.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new eo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function rg(t,e,n){const r=Ve(t),o=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!zl(c))throw c;fe(iy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function S0(t,e,n){const r=Ve(t);let o=Le.min(),a=Ge();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,y,w){const E=Ve(p),b=E.xs.get(w);return b!==void 0?ee.resolve(E.Ms.get(b)):E.Pi.getTargetData(y,w)})(r,c,Ci(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((p=>{a=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?o:Le.min(),n?a:Ge()))).next((h=>(Ix(r,uP(e),h),{documents:h,Qs:a})))))}function Ix(t,e,n){let r=t.Os.get(e)||Le.min();n.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class R0{constructor(){this.activeTargetIds=mP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sx{constructor(){this.Mo=new R0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="ConnectivityMonitor";class A0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(k0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd=null;function ig(){return zd===null?zd=(function(){return 268435456+Math.round(2147483648*Math.random())})():zd++,"0x"+zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",kx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ax{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,a){const c=ig(),h=this.zo(e,n.toUriEncodedString());fe(_m,`Sending RPC '${e}' ${c}:`,h,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,a);const{host:y}=new URL(h),w=wo(y);return this.Jo(e,h,p,r,w).then((E=>(fe(_m,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Cl(_m,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",r),E}))}Ho(e,n,r,o,a,c){return this.Go(e,n,r,o,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const r=kx[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class xx extends Ax{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const c=ig();return new Promise(((h,p)=>{const y=new N1;y.setWithCredentials(!0),y.listenOnce(O1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case rh.NO_ERROR:const E=y.getResponseJson();fe(bn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case rh.TIMEOUT:fe(bn,`RPC '${e}' ${c} timed out`),p(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const b=y.getStatus();if(fe(bn,`RPC '${e}' ${c} failed with status:`,b,"response text:",y.getResponseText()),b>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const L=x?.error;if(L&&L.status&&L.message){const M=(function(W){const z=W.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(z)>=0?z:J.UNKNOWN})(L.status);p(new de(M,L.message))}else p(new de(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new de(J.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(bn,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);fe(bn,`RPC '${e}' ${c} sending request:`,o),y.send(n,"POST",w,r,15)}))}T_(e,n,r){const o=ig(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=V1(),h=L1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const w=a.join("");fe(bn,`Creating RPC '${e}' stream ${o}: ${w}`,p);const E=c.createWebChannel(w,p);this.I_(E);let b=!1,x=!1;const L=new Px({Yo:D=>{x?fe(bn,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(b||(fe(bn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),fe(bn,`RPC '${e}' stream ${o} sending:`,D),E.send(D))},Zo:()=>E.close()}),M=(D,W,z)=>{D.listen(W,(q=>{try{z(q)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return M(E,Fu.EventType.OPEN,(()=>{x||(fe(bn,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),M(E,Fu.EventType.CLOSE,(()=>{x||(x=!0,fe(bn,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(E))})),M(E,Fu.EventType.ERROR,(D=>{x||(x=!0,Cl(bn,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),L.a_(new de(J.UNAVAILABLE,"The operation could not be completed")))})),M(E,Fu.EventType.MESSAGE,(D=>{if(!x){const W=D.data[0];nt(!!W,16349);const z=W,q=z?.error||z[0]?.error;if(q){fe(bn,`RPC '${e}' stream ${o} received error:`,q);const Z=q.status;let X=(function(I){const k=zt[I];if(k!==void 0)return yb(k)})(Z),ne=q.message;X===void 0&&(X=J.INTERNAL,ne="Unknown error status: "+Z+" with message "+q.message),x=!0,L.a_(new de(X,ne)),E.close()}else fe(bn,`RPC '${e}' stream ${o} received:`,W),L.u_(W)}})),M(h,D1.STAT_EVENT,(D=>{D.stat===Wm.PROXY?fe(bn,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===Wm.NOPROXY&&fe(bn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){return new LP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="PersistentStream";class Nb{constructor(e,n,r,o,a,c,h,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new de(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(P0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(P0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Nx extends Nb{constructor(e,n,r,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FP(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Le.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Le.min():c.readTime?Si(c.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ng(this.serializer),n.addTarget=(function(a,c){let h;const p=c.target;if(h=Ym(p)?{documents:UP(a,p)}:{query:BP(a,p).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=_b(a,c.resumeToken);const y=Zm(a,c.expectedCount);y!==null&&(h.expectedCount=y)}else if(c.snapshotVersion.compareTo(Le.min())>0){h.readTime=Oh(a,c.snapshotVersion.toTimestamp());const y=Zm(a,c.expectedCount);y!==null&&(h.expectedCount=y)}return h})(this.serializer,e);const r=HP(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ng(this.serializer),n.removeTarget=e,this.q_(n)}}class Ox extends Nb{constructor(e,n,r,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$P(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ng(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>jP(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{}class Lx extends Dx{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,eg(n,r),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(J.UNKNOWN,a.toString())}))}Ho(e,n,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,eg(n,r),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Vx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class Mx{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ta(this)&&(fe(ma,"Restarting streams for network reachability change."),await(async function(p){const y=Ve(p);y.Ea.add(4),await _c(y),y.Ra.set("Unknown"),y.Ea.delete(4),await gf(y)})(this))}))})),this.Ra=new Vx(r,o)}}async function gf(t){if(Ta(t))for(const e of t.da)await e(!0)}async function _c(t){for(const e of t.da)await e(!1)}function Ob(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ly(n)?ay(n):Hl(n).O_()&&oy(n,e))}function sy(t,e){const n=Ve(t),r=Hl(n);n.Ia.delete(e),r.O_()&&Db(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ta(n)&&n.Ra.set("Unknown"))}function oy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hl(t).Y_(e)}function Db(t,e){t.Va.Ue(e),Hl(t).Z_(e)}function ay(t){t.Va=new xP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hl(t).start(),t.Ra.ua()}function ly(t){return Ta(t)&&!Hl(t).x_()&&t.Ia.size>0}function Ta(t){return Ve(t).Ea.size===0}function Lb(t){t.Va=void 0}async function Fx(t){t.Ra.set("Online")}async function jx(t){t.Ia.forEach(((e,n)=>{oy(t,e)}))}async function $x(t,e){Lb(t),ly(t)?(t.Ra.ha(e),ay(t)):t.Ra.set("Unknown")}async function Ux(t,e,n){if(t.Ra.set("Online"),e instanceof vb&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.Ia.delete(h),o.Va.removeTarget(h))})(t,e)}catch(r){fe(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lh(t,r)}else if(e instanceof ah?t.Va.Ze(e):e instanceof wb?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const r=await Pb(t.localStore);n.compareTo(r)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.Ia.get(y);w&&a.Ia.set(y,w.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,y)=>{const w=a.Ia.get(p);if(!w)return;a.Ia.set(p,w.withResumeToken(gn.EMPTY_BYTE_STRING,w.snapshotVersion)),Db(a,p);const E=new eo(w.target,p,y,w.sequenceNumber);oy(a,E)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){fe(ma,"Failed to raise snapshot:",r),await Lh(t,r)}}async function Lh(t,e,n){if(!zl(e))throw e;t.Ea.add(1),await _c(t),t.Ra.set("Offline"),n||(n=()=>Pb(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(ma,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gf(t)}))}function Vb(t,e){return e().catch((n=>Lh(t,n,e)))}async function yf(t){const e=Ve(t),n=go(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wg;for(;Bx(e);)try{const o=await Tx(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,zx(e,o)}catch(o){await Lh(e,o)}Mb(e)&&Fb(e)}function Bx(t){return Ta(t)&&t.Ta.length<10}function zx(t,e){t.Ta.push(e);const n=go(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Mb(t){return Ta(t)&&!go(t).x_()&&t.Ta.length>0}function Fb(t){go(t).start()}async function Hx(t){go(t).ra()}async function Wx(t){const e=go(t);for(const n of t.Ta)e.ea(n.mutations)}async function qx(t,e,n){const r=t.Ta.shift(),o=Jg.from(r,e,n);await Vb(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await yf(t)}async function Gx(t,e){e&&go(t).X_&&await(async function(r,o){if((function(c){return kP(c)&&c!==J.ABORTED})(o.code)){const a=r.Ta.shift();go(r).B_(),await Vb(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await yf(r)}})(t,e),Mb(t)&&Fb(t)}async function x0(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),fe(ma,"RemoteStore received new credentials");const r=Ta(n);n.Ea.add(3),await _c(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gf(n)}async function Kx(t,e){const n=Ve(t);e?(n.Ea.delete(2),await gf(n)):e||(n.Ea.add(2),await _c(n),n.Ra.set("Unknown"))}function Hl(t){return t.ma||(t.ma=(function(n,r,o){const a=Ve(n);return a.sa(),new Nx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:Fx.bind(null,t),t_:jx.bind(null,t),r_:$x.bind(null,t),H_:Ux.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ly(t)?ay(t):t.Ra.set("Unknown")):(await t.ma.stop(),Lb(t))}))),t.ma}function go(t){return t.fa||(t.fa=(function(n,r,o){const a=Ve(n);return a.sa(),new Ox(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Hx.bind(null,t),r_:Gx.bind(null,t),ta:Wx.bind(null,t),na:qx.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await yf(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(ma,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const c=Date.now()+r,h=new uy(e,n,c,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(t,e){if(hs("AsyncQueue",`${e}: ${t}`),zl(t))return new de(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=ju(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.ga=new It(Ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Pl{constructor(e,n,r,o,a,c,h,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,a){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Pl(e,n,_l.emptySet(n),c,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Yx{constructor(){this.queries=O0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ve(n),a=o.queries;o.queries=O0(),a.forEach(((c,h)=>{for(const p of h.Sa)p.onError(r)}))})(this,new de(J.ABORTED,"Firestore shutting down"))}}function O0(){return new ba((t=>ib(t)),cf)}async function jb(t,e){const n=Ve(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new Qx,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const h=cy(c,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&dy(n)}async function $b(t,e){const n=Ve(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xx(t,e){const n=Ve(t);let r=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const h of c.Sa)h.Fa(o)&&(r=!0);c.wa=o}}r&&dy(n)}function Jx(t,e,n){const r=Ve(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function dy(t){t.Ca.forEach((e=>{e.next()}))}var sg,D0;(D0=sg||(sg={})).Ma="default",D0.Cache="cache";class Ub{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.key=e}}class zb{constructor(e){this.key=e}}class Zx{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=sb(e),this.tu=new _l(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new N0,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const b=o.get(w),x=df(this.query,E)?E:null,L=!!b&&this.mutatedKeys.has(b.key),M=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let D=!1;b&&x?b.data.isEqual(x.data)?L!==M&&(r.track({type:3,doc:x}),D=!0):this.su(b,x)||(r.track({type:2,doc:x}),D=!0,(p&&this.eu(x,p)>0||y&&this.eu(x,y)<0)&&(h=!0)):!b&&x?(r.track({type:0,doc:x}),D=!0):b&&!x&&(r.track({type:1,doc:b}),D=!0,(p||y)&&(h=!0)),D&&(x?(c=c.add(x),a=M?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{tu:c,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,E)=>(function(x,L){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:D})}};return M(x)-M(L)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(r),o=o??!1;const h=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,c.length!==0||y?{snapshot:new Pl(this.query,e.tu,a,c,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new zb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Bb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hy="SyncEngine";class eN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tN{constructor(e){this.key=e,this.hu=!1}}class nN{constructor(e,n,r,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ba((h=>ib(h)),cf),this.Iu=new Map,this.Eu=new Set,this.du=new It(Ee.comparator),this.Au=new Map,this.Ru=new ty,this.Vu={},this.mu=new Map,this.fu=Al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rN(t,e,n=!0){const r=Qb(t);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await Hb(r,e,n,!0),o}async function iN(t,e){const n=Qb(t);await Hb(n,e,!0,!1)}async function Hb(t,e,n,r){const o=await Cx(t.localStore,Ci(e)),a=o.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await sN(t,e,a,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&Ob(t.remoteStore,o),h}async function sN(t,e,n,r,o){t.pu=(E,b,x)=>(async function(M,D,W,z){let q=D.view.ru(W);q.Cs&&(q=await S0(M.localStore,D.query,!1).then((({documents:R})=>D.view.ru(R,q))));const Z=z&&z.targetChanges.get(D.targetId),X=z&&z.targetMismatches.get(D.targetId)!=null,ne=D.view.applyChanges(q,M.isPrimaryClient,Z,X);return V0(M,D.targetId,ne.au),ne.snapshot})(t,E,b,x);const a=await S0(t.localStore,e,!0),c=new Zx(e,a.Qs),h=c.ru(a.documents),p=vc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),y=c.applyChanges(h,t.isPrimaryClient,p);V0(t,n,y.au);const w=new eN(e,n,c);return t.Tu.set(e,w),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function oN(t,e,n){const r=Ve(t),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((c=>!cf(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await rg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&sy(r.remoteStore,o.targetId),og(r,o.targetId)})).catch(Bl)):(og(r,o.targetId),await rg(r.localStore,o.targetId,!0))}async function aN(t,e){const n=Ve(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sy(n.remoteStore,r.targetId))}async function lN(t,e,n){const r=mN(t);try{const o=await(function(c,h){const p=Ve(c),y=ft.now(),w=h.reduce(((x,L)=>x.add(L.key)),Ge());let E,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let L=ps(),M=Ge();return p.Ns.getEntries(x,w).next((D=>{L=D,L.forEach(((W,z)=>{z.isValidDocument()||(M=M.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,L))).next((D=>{E=D;const W=[];for(const z of h){const q=TP(z,E.get(z.key).overlayedDocument);q!=null&&W.push(new _o(z.key,q,Y1(q.value.mapValue),Ii.exists(!0)))}return p.mutationQueue.addMutationBatch(x,y,W,h)})).next((D=>{b=D;const W=D.applyToLocalDocumentSet(E,M);return p.documentOverlayCache.saveOverlays(x,D.batchId,W)}))})).then((()=>({batchId:b.batchId,changes:ab(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,h,p){let y=c.Vu[c.currentUser.toKey()];y||(y=new It(qe)),y=y.insert(h,p),c.Vu[c.currentUser.toKey()]=y})(r,o.batchId,n),await Ec(r,o.changes),await yf(r.remoteStore)}catch(o){const a=cy(o,"Failed to persist write");n.reject(a)}}async function Wb(t,e){const n=Ve(t);try{const r=await Ex(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=n.Au.get(a);c&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?nt(c.hu,14607):o.removedDocuments.size>0&&(nt(c.hu,42227),c.hu=!1))})),await Ec(n,r,e)}catch(r){await Bl(r)}}function L0(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const p=Ve(c);p.onlineState=h;let y=!1;p.queries.forEach(((w,E)=>{for(const b of E.Sa)b.va(h)&&(y=!0)})),y&&dy(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uN(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),a=o&&o.key;if(a){let c=new It(Ee.comparator);c=c.insert(a,Cn.newNoDocument(a,Le.min()));const h=Ge().add(a),p=new pf(Le.min(),new Map,new It(qe),c,h);await Wb(r,p),r.du=r.du.remove(a),r.Au.delete(e),fy(r)}else await rg(r.localStore,e,!1).then((()=>og(r,e,n))).catch(Bl)}async function cN(t,e){const n=Ve(t),r=e.batch.batchId;try{const o=await _x(n.localStore,e);Gb(n,r,null),qb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ec(n,o)}catch(o){await Bl(o)}}async function dN(t,e,n){const r=Ve(t);try{const o=await(function(c,h){const p=Ve(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return p.mutationQueue.lookupMutationBatch(y,h).next((E=>(nt(E!==null,37113),w=E.keys(),p.mutationQueue.removeMutationBatch(y,E)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>p.localDocuments.getDocuments(y,w)))}))})(r.localStore,e);Gb(r,e,n),qb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ec(r,o)}catch(o){await Bl(o)}}function qb(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Gb(t,e,n){const r=Ve(t);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Kb(t,r)}))}function Kb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fy(t))}function V0(t,e,n){for(const r of n)r instanceof Bb?(t.Ru.addReference(r.key,e),hN(t,r)):r instanceof zb?(fe(hy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Kb(t,r.key)):Pe(19791,{wu:r})}function hN(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(fe(hy,"New document in limbo: "+n),t.Eu.add(r),fy(t))}function fy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ee(lt.fromString(e)),r=t.fu.next();t.Au.set(r,new tN(n)),t.du=t.du.insert(n,r),Ob(t.remoteStore,new eo(Ci(Yg(n.path)),r,"TargetPurposeLimboResolution",af.ce))}}async function Ec(t,e,n){const r=Ve(t),o=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,p)=>{c.push(r.pu(p,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const w=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=ry.As(p.targetId,y);a.push(w)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,y){const w=Ve(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ee.forEach(y,(b=>ee.forEach(b.Es,(x=>w.persistence.referenceDelegate.addReference(E,b.targetId,x))).next((()=>ee.forEach(b.ds,(x=>w.persistence.referenceDelegate.removeReference(E,b.targetId,x)))))))))}catch(E){if(!zl(E))throw E;fe(iy,"Failed to update sequence numbers: "+E)}for(const E of y){const b=E.targetId;if(!E.fromCache){const x=w.Ms.get(b),L=x.snapshotVersion,M=x.withLastLimboFreeSnapshotVersion(L);w.Ms=w.Ms.insert(b,M)}}})(r.localStore,a))}async function fN(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){fe(hy,"User change. New user:",e.toKey());const r=await Ab(n.localStore,e);n.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((p=>{p.reject(new de(J.CANCELLED,c))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ec(n,r.Ls)}}function pN(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const a=n.Iu.get(e);if(!a)return o;for(const c of a){const h=n.Tu.get(c);o=o.unionWith(h.view.nu)}return o}}function Qb(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uN.bind(null,e),e.Pu.H_=Xx.bind(null,e.eventManager),e.Pu.yu=Jx.bind(null,e.eventManager),e}function mN(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dN.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vx(this.persistence,new gx,e.initialUser,this.serializer)}Cu(e){return new kb(ny.mi,this.serializer)}Du(e){return new Sx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class gN extends Vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof Dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tx(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new kb((r=>Dh.mi(r,n)),this.serializer)}}class ag{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>L0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fN.bind(null,this.syncEngine),await Kx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Yx})()}createDatastore(e){const n=mf(e.databaseInfo.databaseId),r=(function(a){return new xx(a)})(e.databaseInfo);return(function(a,c,h,p){return new Lx(a,c,h,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,a,c,h){return new Mx(r,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>L0(this.syncEngine,n,0)),(function(){return A0.v()?new A0:new Rx})())}createSyncEngine(e,n){return(function(o,a,c,h,p,y,w){const E=new nN(o,a,c,h,p,y);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);fe(ma,"RemoteStore shutting down."),r.Ea.add(5),await _c(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ag.provider={build:()=>new ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="FirestoreClient";class yN{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Tn.UNAUTHENTICATED,this.clientId=Hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{fe(yo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(fe(yo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function bm(t,e){t.asyncQueue.verifyOperationInProgress(),fe(yo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Ab(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function M0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wN(t);fe(yo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>x0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>x0(e.remoteStore,o))),t._onlineComponents=e}async function wN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(yo,"Using user provided OfflineComponentProvider");try{await bm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Cl("Error using user provided cache. Falling back to memory cache: "+n),await bm(t,new Vh)}}else fe(yo,"Using default OfflineComponentProvider"),await bm(t,new gN(void 0));return t._offlineComponents}async function Xb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(yo,"Using user provided OnlineComponentProvider"),await M0(t,t._uninitializedComponentsProvider._online)):(fe(yo,"Using default OnlineComponentProvider"),await M0(t,new ag))),t._onlineComponents}function vN(t){return Xb(t).then((e=>e.syncEngine))}async function Jb(t){const e=await Xb(t),n=e.eventManager;return n.onListen=rN.bind(null,e.syncEngine),n.onUnlisten=oN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aN.bind(null,e.syncEngine),n}function _N(t,e,n={}){const r=new as;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,p,y){const w=new Yb({next:b=>{w.Nu(),c.enqueueAndForget((()=>$b(a,E)));const x=b.docs.has(h);!x&&b.fromCache?y.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&p&&p.source==="server"?y.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),E=new Ub(Yg(h.path),w,{includeMetadataChanges:!0,qa:!0});return jb(a,E)})(await Jb(t),t.asyncQueue,e,n,r))),r.promise}function EN(t,e,n={}){const r=new as;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,p,y){const w=new Yb({next:b=>{w.Nu(),c.enqueueAndForget((()=>$b(a,E))),b.fromCache&&p.source==="server"?y.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),E=new Ub(h,w,{includeMetadataChanges:!0,qa:!0});return jb(a,E)})(await Jb(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firestore.googleapis.com",j0=!0;class $0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=j0}else this.host=e.host,this.ssl=e.ssl??j0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZP)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new S2;switch(r.type){case"firstParty":return new P2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=F0.get(n);r&&(fe("ComponentProvider","Removing Datastore"),F0.delete(n),r.terminate())})(this),Promise.resolve()}}function bN(t,e,n,r={}){t=fs(t,wf);const o=wo(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(kg(`https://${h}`),Ag("Firestore",!0)),a.host!==eT&&a.host!==h&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:h,ssl:o,emulatorOptions:r};if(!uo(p,c)&&(t._setSettings(p),r.mockUserToken)){let y,w;if(typeof r.mockUserToken=="string")y=r.mockUserToken,w=Tn.MOCK_USER;else{y=qE(r.mockUserToken,t._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Tn(E)}t._authCredentials=new R2(new F1(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wl(this.firestore,e,this._query)}}class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gc(n,Mt._jsonSchema))return new Mt(e,r||null,new Ee(lt.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:qt("string",Mt._jsonSchemaVersion),referencePath:qt("string")};class oo extends Wl{constructor(e,n,r){super(e,n,Yg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new Ee(e))}withConverter(e){return new oo(this.firestore,e,this._path)}}function lg(t,e,...n){if(t=Ct(t),j1("collection","path",e),t instanceof wf){const r=lt.fromString(e,...n);return Z_(r),new oo(t,null,r)}{if(!(t instanceof Mt||t instanceof oo))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return Z_(r),new oo(t.firestore,null,r)}}function Dn(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=Hg.newId()),j1("doc","path",e),t instanceof wf){const r=lt.fromString(e,...n);return J_(r),new Mt(t,null,new Ee(r))}{if(!(t instanceof Mt||t instanceof oo))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return J_(r),new Mt(t.firestore,t instanceof oo?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="AsyncQueue";class B0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xb(this,"async_queue_retry"),this._c=()=>{const r=Em();r&&fe(U0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zl(e))throw e;fe(U0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=uy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Pe(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function z0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bc extends wf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new B0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B0(e),this._firestoreClient=void 0,await e}}}function Eo(t,e){const n=typeof t=="object"?t:Ng(),r=typeof t=="string"?t:Rh,o=tf(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=zE("firestore");a&&bN(o,...a)}return o}function py(t){if(t._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TN(t),t._firestoreClient}function TN(t){const e=t._freezeSettings(),n=(function(o,a,c,h){return new G2(o,a,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Zb(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new yN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xr(gn.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xr(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gc(e,xr._jsonSchema))return xr.fromBase64String(e.bytes)}}xr._jsonSchemaVersion="firestore/bytes/1.0",xr._jsonSchema={type:qt("string",xr._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(gc(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:qt("string",Ri._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gc(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new de(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:qt("string",ki._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=/^__.*__$/;class IN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _o(e,this.data,this.fieldMask,n,this.fieldTransforms):new wc(e,this.data,n,this.fieldTransforms)}}class tT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _o(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:t})}}class Ef{constructor(e,n,r,o,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ef({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nT(this.Ac)&&CN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class SN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mf(e)}Cc(e,n,r,o=!1){return new Ef({Ac:e,methodName:n,Dc:r,path:mn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function my(t){const e=t._freezeSettings(),n=mf(t._databaseId);return new SN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RN(t,e,n,r,o,a={}){const c=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);yy("Data must be an object, but it was:",c,r);const h=rT(r,c);let p,y;if(a.merge)p=new dr(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const E of a.mergeFields){const b=ug(e,E,n);if(!c.contains(b))throw new de(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);sT(w,b)||w.push(b)}p=new dr(w),y=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,y=c.fieldTransforms;return new IN(new Xn(h),p,y)}class bf extends _f{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function kN(t,e,n){return new Ef({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gy extends _f{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=kN(this,e,!0),r=this.vc.map((a=>ql(a,n))),o=new kl(r);return new vP(e.path,o)}isEqual(e){return e instanceof gy&&uo(this.vc,e.vc)}}function AN(t,e,n,r){const o=t.Cc(1,e,n);yy("Data must be an object, but it was:",o,r);const a=[],c=Xn.empty();vo(r,((p,y)=>{const w=wy(e,p,n);y=Ct(y);const E=o.yc(w);if(y instanceof bf)a.push(w);else{const b=ql(y,E);b!=null&&(a.push(w),c.set(w,b))}}));const h=new dr(a);return new tT(c,h,o.fieldTransforms)}function PN(t,e,n,r,o,a){const c=t.Cc(1,e,n),h=[ug(e,r,n)],p=[o];if(a.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)h.push(ug(e,a[b])),p.push(a[b+1]);const y=[],w=Xn.empty();for(let b=h.length-1;b>=0;--b)if(!sT(y,h[b])){const x=h[b];let L=p[b];L=Ct(L);const M=c.yc(x);if(L instanceof bf)y.push(x);else{const D=ql(L,M);D!=null&&(y.push(x),w.set(x,D))}}const E=new dr(y);return new tT(w,E,c.fieldTransforms)}function xN(t,e,n,r=!1){return ql(n,t.Cc(r?4:3,e))}function ql(t,e){if(iT(t=Ct(t)))return yy("Unsupported field value:",e,t),rT(t,e);if(t instanceof _f)return(function(r,o){if(!nT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let c=0;for(const h of r){let p=ql(h,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}})(t,e)}return(function(r,o){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gP(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ft.fromDate(r);return{timestampValue:Oh(o.serializer,a)}}if(r instanceof ft){const a=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,a)}}if(r instanceof Ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xr)return{bytesValue:_b(o.serializer,r._byteString)};if(r instanceof Mt){const a=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ey(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return(function(c,h){return{mapValue:{fields:{[K1]:{stringValue:Q1},[kh]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw h.Sc("VectorValues must only contain numeric values.");return Xg(h.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${of(r)}`)})(t,e)}function rT(t,e){const n={};return B1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(t,((r,o)=>{const a=ql(o,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function iT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Ri||t instanceof xr||t instanceof Mt||t instanceof _f||t instanceof ki)}function yy(t,e,n){if(!iT(n)||!$1(n)){const r=of(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ug(t,e,n){if((e=Ct(e))instanceof vf)return e._internalPath;if(typeof e=="string")return wy(t,e);throw Mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const NN=new RegExp("[~\\*/\\[\\]]");function wy(t,e,n){if(e.search(NN)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mh(t,e,n,r,o){const a=r&&!r.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new de(J.INVALID_ARGUMENT,h+t+p)}function sT(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ON(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ON extends oT{data(){return super.data()}}function vy(t,e){return typeof e=="string"?wy(t,e):e instanceof vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _y{}class LN extends _y{}function VN(t,e,...n){let r=[];e instanceof _y&&r.push(e),r=r.concat(n),(function(a){const c=a.filter((p=>p instanceof Ey)).length,h=a.filter((p=>p instanceof Tf)).length;if(c>1||c>0&&h>0)throw new de(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Tf extends LN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Tf(e,n,r)}_apply(e){const n=this._parse(e);return aT(e._query,n),new Wl(e.firestore,e.converter,Xm(e._query,n))}_parse(e){const n=my(e.firestore);return(function(a,c,h,p,y,w,E){let b;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new de(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){W0(E,w);const L=[];for(const M of E)L.push(H0(p,a,M));b={arrayValue:{values:L}}}else b=H0(p,a,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||W0(E,w),b=xN(h,c,E,w==="in"||w==="not-in");return Wt.create(y,w,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function MN(t,e,n){const r=e,o=vy("where",t);return Tf._create(o,r,n)}class Ey extends _y{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ey(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let c=o;const h=a.getFlattenedFilters();for(const p of h)aT(c,p),c=Xm(c,p)})(e._query,n),new Wl(e.firestore,e.converter,Xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function H0(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new de(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rb(e)&&n.indexOf("/")!==-1)throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!Ee.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return a0(t,new Ee(r))}if(n instanceof Mt)return a0(t,n._key);throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(n)}.`)}function W0(t,e){if(!Array.isArray(t)||t.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aT(t,e){const n=(function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class FN{convertValue(e,n="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vo(e,((o,a)=>{r[o]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[kh].arrayValue?.values?.map((r=>Vt(r.doubleValue)));return new ki(n)}convertGeoPoint(e){return new Ri(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const n=fo(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);nt(Sb(r),9688,{name:e});const o=new ic(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return o.isEqual(n)||hs(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends oT{constructor(e,n,r,o,a,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:qt("string",sa._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class lh extends sa{data(e={}){return super.data(e)}}class El{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Uu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new lh(this._firestore,this._userDataWriter,r.key,r,new Uu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const p=new lh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Uu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const p=new lh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Uu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return h.type!==0&&(y=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),w=c.indexOf(h.doc.key)),{type:$N(h.type),doc:p,oldIndex:y,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=El._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $N(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){t=fs(t,Mt);const e=fs(t.firestore,bc);return _N(py(e),t._key).then((n=>UN(e,t,n)))}El._jsonSchemaVersion="firestore/querySnapshot/1.0",El._jsonSchema={type:qt("string",El._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class lT extends FN{constructor(e){super(),this.firestore=e}convertBytes(e){return new xr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function cg(t){t=fs(t,Wl);const e=fs(t.firestore,bc),n=py(e),r=new lT(e);return DN(t._query),EN(n,t._query).then((o=>new El(e,r,t,o)))}function q0(t,e,n){t=fs(t,Mt);const r=fs(t.firestore,bc),o=jN(t.converter,e,n);return uT(r,[RN(my(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Ii.none())])}function ml(t,e,n,...r){t=fs(t,Mt);const o=fs(t.firestore,bc),a=my(o);let c;return c=typeof(e=Ct(e))=="string"||e instanceof vf?PN(a,"updateDoc",t._key,e,n,r):AN(a,"updateDoc",t._key,e),uT(o,[c.toMutation(t._key,Ii.exists(!0))])}function uT(t,e){return(function(r,o){const a=new as;return r.asyncQueue.enqueueAndForget((async()=>lN(await vN(r),o,a))),a.promise})(py(t),e)}function UN(t,e,n){const r=n.docs.get(e._key),o=new lT(t);return new sa(t,o,e._key,r,new Uu(n.hasPendingWrites,n.fromCache),e.converter)}function BN(...t){return new gy("arrayUnion",t)}(function(e,n=!0){(function(o){Ul=o})(_a),ca(new co("firestore",((r,{instanceIdentifier:o,options:a})=>{const c=r.getProvider("app").getImmediate(),h=new bc(new k2(r.getProvider("auth-internal")),new x2(c,r.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(y.options.projectId,w)})(c,o),c);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),bi(K_,Q_,e),bi(K_,Q_,"esm2020")})();var zN="firebase",HN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(zN,HN,"app");const WN={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},pr=QE(WN);Eo(pr);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var G0="popstate";function qN(t={}){function e(o,a){let{pathname:c="/",search:h="",hash:p=""}=Ca(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),dg("",{pathname:c,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");h=y===-1?p:p.slice(0,y)}return h+"#"+(typeof a=="string"?a:ac(a))}function r(o,a){Or(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return KN(e,n,r,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Or(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GN(){return Math.random().toString(36).substring(2,10)}function K0(t,e){return{usr:t.state,key:t.key,idx:e}}function dg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ca(e):e,state:n,key:e&&e.key||r||GN()}}function ac({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ca(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function KN(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,c=o.history,h="POP",p=null,y=w();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function w(){return(c.state||{idx:null}).idx}function E(){h="POP";let D=w(),W=D==null?null:D-y;y=D,p&&p({action:h,location:M.location,delta:W})}function b(D,W){h="PUSH";let z=dg(M.location,D,W);n&&n(z,D),y=w()+1;let q=K0(z,y),Z=M.createHref(z);try{c.pushState(q,"",Z)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(Z)}a&&p&&p({action:h,location:M.location,delta:1})}function x(D,W){h="REPLACE";let z=dg(M.location,D,W);n&&n(z,D),y=w();let q=K0(z,y),Z=M.createHref(z);c.replaceState(q,"",Z),a&&p&&p({action:h,location:M.location,delta:0})}function L(D){return QN(D)}let M={get action(){return h},get location(){return t(o,c)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(G0,E),p=D,()=>{o.removeEventListener(G0,E),p=null}},createHref(D){return e(o,D)},createURL:L,encodeLocation(D){let W=L(D);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:b,replace:x,go(D){return c.go(D)}};return M}function QN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ac(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function cT(t,e,n="/"){return YN(t,e,n,!1)}function YN(t,e,n,r){let o=typeof e=="string"?Ca(e):e,a=ms(o.pathname||"/",n);if(a==null)return null;let c=dT(t);XN(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let y=lO(a);h=oO(c[p],y,r)}return h}function dT(t,e=[],n=[],r="",o=!1){let a=(c,h,p=o,y)=>{let w={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(r)&&p)return;vt(w.relativePath.startsWith(r),`Absolute route path "${w.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(r.length)}let E=ls([r,w.relativePath]),b=n.concat(w);c.children&&c.children.length>0&&(vt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),dT(c.children,e,b,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:iO(E,c.index),routesMeta:b})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))a(c,h);else for(let p of hT(c.path))a(c,h,!0,p)}),e}function hT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let c=hT(r.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function XN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var JN=/^:[\w-]+$/,ZN=3,eO=2,tO=1,nO=10,rO=-2,Q0=t=>t==="*";function iO(t,e){let n=t.split("/"),r=n.length;return n.some(Q0)&&(r+=rO),e&&(r+=eO),n.filter(o=>!Q0(o)).reduce((o,a)=>o+(JN.test(a)?ZN:a===""?tO:nO),r)}function sO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function oO(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",c=[];for(let h=0;h<r.length;++h){let p=r[h],y=h===r.length-1,w=a==="/"?e:e.slice(a.length)||"/",E=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),b=p.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:ls([a,E.pathname]),pathnameBase:hO(ls([a,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(a=ls([a,E.pathnameBase]))}return c}function Fh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aO(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((y,{paramName:w,isOptional:E},b)=>{if(w==="*"){let L=h[b]||"";c=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const x=h[b];return E&&!x?y[w]=void 0:y[w]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:t}}function aO(t,e=!1,n=!0){Or(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function lO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Or(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uO(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ca(t):t;return{pathname:n?n.startsWith("/")?n:cO(n,e):e,search:fO(r),hash:pO(o)}}function cO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function by(t){let e=dO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ty(t,e,n,r=!1){let o;typeof t=="string"?o=Ca(t):(o={...t},vt(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=n;else{let E=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;o.pathname=b.join("/")}h=E>=0?e[E]:"/"}let p=uO(o,h),y=c&&c!=="/"&&c.endsWith("/"),w=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}var ls=t=>t.join("/").replace(/\/\/+/g,"/"),hO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var fT=["POST","PUT","PATCH","DELETE"];new Set(fT);var gO=["GET",...fT];new Set(gO);var Gl=S.createContext(null);Gl.displayName="DataRouter";var Cf=S.createContext(null);Cf.displayName="DataRouterState";S.createContext(!1);var pT=S.createContext({isTransitioning:!1});pT.displayName="ViewTransition";var yO=S.createContext(new Map);yO.displayName="Fetchers";var wO=S.createContext(null);wO.displayName="Await";var Zr=S.createContext(null);Zr.displayName="Navigation";var Tc=S.createContext(null);Tc.displayName="Location";var ei=S.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var Cy=S.createContext(null);Cy.displayName="RouteError";function vO(t,{relative:e}={}){vt(Kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Zr),{hash:o,pathname:a,search:c}=Cc(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:ls([n,a])),r.createHref({pathname:h,search:c,hash:o})}function Kl(){return S.useContext(Tc)!=null}function bo(){return vt(Kl(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Tc).location}var mT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gT(t){S.useContext(Zr).static||S.useLayoutEffect(t)}function Iy(){let{isDataRoute:t}=S.useContext(ei);return t?OO():_O()}function _O(){vt(Kl(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Gl),{basename:e,navigator:n}=S.useContext(Zr),{matches:r}=S.useContext(ei),{pathname:o}=bo(),a=JSON.stringify(by(r)),c=S.useRef(!1);return gT(()=>{c.current=!0}),S.useCallback((p,y={})=>{if(Or(c.current,mT),!c.current)return;if(typeof p=="number"){n.go(p);return}let w=Ty(p,JSON.parse(a),o,y.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:ls([e,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[e,n,a,o,t])}S.createContext(null);function EO(){let{matches:t}=S.useContext(ei),e=t[t.length-1];return e?e.params:{}}function Cc(t,{relative:e}={}){let{matches:n}=S.useContext(ei),{pathname:r}=bo(),o=JSON.stringify(by(n));return S.useMemo(()=>Ty(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function bO(t,e){return yT(t,e)}function yT(t,e,n,r,o){vt(Kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(Zr),{matches:c}=S.useContext(ei),h=c[c.length-1],p=h?h.params:{},y=h?h.pathname:"/",w=h?h.pathnameBase:"/",E=h&&h.route;{let z=E&&E.path||"";wT(y,!E||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let b=bo(),x;if(e){let z=typeof e=="string"?Ca(e):e;vt(w==="/"||z.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${z.pathname}" was given in the \`location\` prop.`),x=z}else x=b;let L=x.pathname||"/",M=L;if(w!=="/"){let z=w.replace(/^\//,"").split("/");M="/"+L.replace(/^\//,"").split("/").slice(z.length).join("/")}let D=cT(t,{pathname:M});Or(E||D!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Or(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=RO(D&&D.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:ls([w,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?w:ls([w,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,n,r,o);return e&&W?S.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},W):W}function TO(){let t=NO(),e=mO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,c)}var CO=S.createElement(TO,null),IO=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(ei.Provider,{value:this.props.routeContext},S.createElement(Cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SO({routeContext:t,match:e,children:n}){let r=S.useContext(Gl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(ei.Provider,{value:t},n)}function RO(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n?.errors;if(c!=null){let y=a.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);vt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let h=!1,p=-1;if(n)for(let y=0;y<a.length;y++){let w=a[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=y),w.route.id){let{loaderData:E,errors:b}=n,x=w.route.loader&&!E.hasOwnProperty(w.route.id)&&(!b||b[w.route.id]===void 0);if(w.route.lazy||x){h=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((y,w,E)=>{let b,x=!1,L=null,M=null;n&&(b=c&&w.route.id?c[w.route.id]:void 0,L=w.route.errorElement||CO,h&&(p<0&&E===0?(wT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,M=null):p===E&&(x=!0,M=w.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,E+1)),W=()=>{let z;return b?z=L:x?z=M:w.route.Component?z=S.createElement(w.route.Component,null):w.route.element?z=w.route.element:z=y,S.createElement(SO,{match:w,routeContext:{outlet:y,matches:D,isDataRoute:n!=null},children:z})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?S.createElement(IO,{location:n.location,revalidation:n.revalidation,component:L,error:b,children:W(),routeContext:{outlet:null,matches:D,isDataRoute:!0},unstable_onError:r}):W()},null)}function Sy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kO(t){let e=S.useContext(Gl);return vt(e,Sy(t)),e}function AO(t){let e=S.useContext(Cf);return vt(e,Sy(t)),e}function PO(t){let e=S.useContext(ei);return vt(e,Sy(t)),e}function Ry(t){let e=PO(t),n=e.matches[e.matches.length-1];return vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xO(){return Ry("useRouteId")}function NO(){let t=S.useContext(Cy),e=AO("useRouteError"),n=Ry("useRouteError");return t!==void 0?t:e.errors?.[n]}function OO(){let{router:t}=kO("useNavigate"),e=Ry("useNavigate"),n=S.useRef(!1);return gT(()=>{n.current=!0}),S.useCallback(async(o,a={})=>{Or(n.current,mT),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var Y0={};function wT(t,e,n){!e&&!Y0[t]&&(Y0[t]=!0,Or(!1,n))}S.memo(DO);function DO({routes:t,future:e,state:n,unstable_onError:r}){return yT(t,void 0,n,r,e)}function ul({to:t,replace:e,state:n,relative:r}){vt(Kl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(Zr);Or(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=S.useContext(ei),{pathname:c}=bo(),h=Iy(),p=Ty(t,by(a),c,r==="path"),y=JSON.stringify(p);return S.useEffect(()=>{h(JSON.parse(y),{replace:e,state:n,relative:r})},[h,y,r,e,n]),null}function ea(t){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){vt(!Kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=Ca(n));let{pathname:p="/",search:y="",hash:w="",state:E=null,key:b="default"}=n,x=S.useMemo(()=>{let L=ms(p,c);return L==null?null:{location:{pathname:L,search:y,hash:w,state:E,key:b},navigationType:r}},[c,p,y,w,E,b,r]);return Or(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:S.createElement(Zr.Provider,{value:h},S.createElement(Tc.Provider,{children:e,value:x}))}function VO({children:t,location:e}){return bO(hg(t),e)}function hg(t,e=[]){let n=[];return S.Children.forEach(t,(r,o)=>{if(!S.isValidElement(r))return;let a=[...e,o];if(r.type===S.Fragment){n.push.apply(n,hg(r.props.children,a));return}vt(r.type===ea,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=hg(r.props.children,a)),n.push(c)}),n}var uh="get",ch="application/x-www-form-urlencoded";function If(t){return t!=null&&typeof t.tagName=="string"}function MO(t){return If(t)&&t.tagName.toLowerCase()==="button"}function FO(t){return If(t)&&t.tagName.toLowerCase()==="form"}function jO(t){return If(t)&&t.tagName.toLowerCase()==="input"}function $O(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UO(t,e){return t.button===0&&(!e||e==="_self")&&!$O(t)}var Hd=null;function BO(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var zO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(t){return t!=null&&!zO.has(t)?(Or(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):t}function HO(t,e){let n,r,o,a,c;if(FO(t)){let h=t.getAttribute("action");r=h?ms(h,e):null,n=t.getAttribute("method")||uh,o=Cm(t.getAttribute("enctype"))||ch,a=new FormData(t)}else if(MO(t)||jO(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(r=p?ms(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||uh,o=Cm(t.getAttribute("formenctype"))||Cm(h.getAttribute("enctype"))||ch,a=new FormData(h,t),!BO()){let{name:y,type:w,value:E}=t;if(w==="image"){let b=y?`${y}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else y&&a.append(y,E)}}else{if(If(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,r=null,o=ch,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ky(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WO(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ms(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function qO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function KO(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await qO(a,n);return c.links?c.links():[]}return[]}));return JO(r.flat(1).filter(GO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function X0(t,e,n,r,o,a){let c=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,h=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return a==="assets"?e.filter((p,y)=>c(p,y)||h(p,y)):a==="data"?e.filter((p,y)=>{let w=r.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(c(p,y)||h(p,y))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function QO(t,e,{includeHydrateFallback:n}={}){return YO(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function YO(t){return[...new Set(t)]}function XO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function JO(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(XO(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function vT(){let t=S.useContext(Gl);return ky(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ZO(){let t=S.useContext(Cf);return ky(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ay=S.createContext(void 0);Ay.displayName="FrameworkContext";function _T(){let t=S.useContext(Ay);return ky(t,"You must render this element inside a <HydratedRouter> element"),t}function eD(t,e){let n=S.useContext(Ay),[r,o]=S.useState(!1),[a,c]=S.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:y,onMouseLeave:w,onTouchStart:E}=e,b=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=W=>{W.forEach(z=>{c(z.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[t]),S.useEffect(()=>{if(r){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[r]);let x=()=>{o(!0)},L=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:Ou(h,x),onBlur:Ou(p,L),onMouseEnter:Ou(y,x),onMouseLeave:Ou(w,L),onTouchStart:Ou(E,x)}]:[!1,b,{}]}function Ou(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function tD({page:t,...e}){let{router:n}=vT(),r=S.useMemo(()=>cT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(rD,{page:t,matches:r,...e}):null}function nD(t){let{manifest:e,routeModules:n}=_T(),[r,o]=S.useState([]);return S.useEffect(()=>{let a=!1;return KO(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),r}function rD({page:t,matches:e,...n}){let r=bo(),{manifest:o,routeModules:a}=_T(),{basename:c}=vT(),{loaderData:h,matches:p}=ZO(),y=S.useMemo(()=>X0(t,e,p,o,r,"data"),[t,e,p,o,r]),w=S.useMemo(()=>X0(t,e,p,o,r,"assets"),[t,e,p,o,r]),E=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let L=new Set,M=!1;if(e.forEach(W=>{let z=o.routes[W.route.id];!z||!z.hasLoader||(!y.some(q=>q.route.id===W.route.id)&&W.route.id in h&&a[W.route.id]?.shouldRevalidate||z.hasClientLoader?M=!0:L.add(W.route.id))}),L.size===0)return[];let D=WO(t,c,"data");return M&&L.size>0&&D.searchParams.set("_routes",e.filter(W=>L.has(W.route.id)).map(W=>W.route.id).join(",")),[D.pathname+D.search]},[c,h,r,o,y,e,t,a]),b=S.useMemo(()=>QO(w,o),[w,o]),x=nD(w);return S.createElement(S.Fragment,null,E.map(L=>S.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),b.map(L=>S.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),x.map(({key:L,link:M})=>S.createElement("link",{key:L,nonce:n.nonce,...M})))}function iD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ET=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ET&&(window.__reactRouterVersion="7.8.2")}catch{}function sD({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=qN({window:n,v5Compat:!0}));let o=r.current,[a,c]=S.useState({action:o.action,location:o.location}),h=S.useCallback(p=>{S.startTransition(()=>c(p))},[c]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.createElement(LO,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var bT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:y,preventScrollReset:w,viewTransition:E,...b},x){let{basename:L}=S.useContext(Zr),M=typeof y=="string"&&bT.test(y),D,W=!1;if(typeof y=="string"&&M&&(D=y,ET))try{let k=new URL(window.location.href),A=y.startsWith("//")?new URL(k.protocol+y):new URL(y),O=ms(A.pathname,L);A.origin===k.origin&&O!=null?y=O+A.search+A.hash:W=!0}catch{Or(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=vO(y,{relative:o}),[q,Z,X]=eD(r,b),ne=uD(y,{replace:c,state:h,target:p,preventScrollReset:w,relative:o,viewTransition:E});function R(k){e&&e(k),k.defaultPrevented||ne(k)}let I=S.createElement("a",{...b,...X,href:D||z,onClick:W||a?e:R,ref:iD(x,Z),target:p,"data-discover":!M&&n==="render"?"true":void 0});return q&&!M?S.createElement(S.Fragment,null,I,S.createElement(tD,{page:z})):I});an.displayName="Link";var oD=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:c,viewTransition:h,children:p,...y},w){let E=Cc(c,{relative:y.relative}),b=bo(),x=S.useContext(Cf),{navigator:L,basename:M}=S.useContext(Zr),D=x!=null&&pD(E)&&h===!0,W=L.encodeLocation?L.encodeLocation(E).pathname:E.pathname,z=b.pathname,q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(z=z.toLowerCase(),q=q?q.toLowerCase():null,W=W.toLowerCase()),q&&M&&(q=ms(q,M)||q);const Z=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let X=z===W||!o&&z.startsWith(W)&&z.charAt(Z)==="/",ne=q!=null&&(q===W||!o&&q.startsWith(W)&&q.charAt(W.length)==="/"),R={isActive:X,isPending:ne,isTransitioning:D},I=X?e:void 0,k;typeof r=="function"?k=r(R):k=[r,X?"active":null,ne?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let A=typeof a=="function"?a(R):a;return S.createElement(an,{...y,"aria-current":I,className:k,ref:w,style:A,to:c,viewTransition:h},typeof p=="function"?p(R):p)});oD.displayName="NavLink";var aD=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:c=uh,action:h,onSubmit:p,relative:y,preventScrollReset:w,viewTransition:E,...b},x)=>{let L=hD(),M=fD(h,{relative:y}),D=c.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&bT.test(h),z=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let Z=q.nativeEvent.submitter,X=Z?.getAttribute("formmethod")||c;L(Z||q.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:o,state:a,relative:y,preventScrollReset:w,viewTransition:E})};return S.createElement("form",{ref:x,method:D,action:M,onSubmit:r?p:z,...b,"data-discover":!W&&t==="render"?"true":void 0})});aD.displayName="Form";function lD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TT(t){let e=S.useContext(Gl);return vt(e,lD(t)),e}function uD(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=Iy(),p=bo(),y=Cc(t,{relative:a});return S.useCallback(w=>{if(UO(w,e)){w.preventDefault();let E=n!==void 0?n:ac(p)===ac(y);h(t,{replace:E,state:r,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,y,n,r,e,t,o,a,c])}var cD=0,dD=()=>`__${String(++cD)}__`;function hD(){let{router:t}=TT("useSubmit"),{basename:e}=S.useContext(Zr),n=xO();return S.useCallback(async(r,o={})=>{let{action:a,method:c,encType:h,formData:p,body:y}=HO(r,e);if(o.navigate===!1){let w=o.fetcherKey||dD();await t.fetch(w,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function fD(t,{relative:e}={}){let{basename:n}=S.useContext(Zr),r=S.useContext(ei);vt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Cc(t||".",{relative:e})},c=bo();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(w=>w==="")){h.delete("index"),p.filter(E=>E).forEach(E=>h.append("index",E));let w=h.toString();a.search=w?`?${w}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ls([n,a.pathname])),ac(a)}function pD(t,{relative:e}={}){let n=S.useContext(pT);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TT("useViewTransitionState"),o=Cc(t,{relative:e});if(!n.isTransitioning)return!1;let a=ms(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ms(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Fh(o.pathname,c)!=null||Fh(o.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function CT(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function mD(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function J0(t,e){return t.get(CT(t,e))}function gD(t,e,n){mD(t,e),e.set(t,n)}function yD(t,e,n){return t.set(CT(t,e),n),n}const wD=100,Re={},vD=()=>{Re.previousActiveElement instanceof HTMLElement?(Re.previousActiveElement.focus(),Re.previousActiveElement=null):document.body&&document.body.focus()},_D=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;Re.restoreFocusTimeout=setTimeout(()=>{vD(),e()},wD),window.scrollTo(n,r)}),IT="swal2-",ED=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Q=ED.reduce((t,e)=>(t[e]=IT+e,t),{}),bD=["success","warning","info","question","error"],jh=bD.reduce((t,e)=>(t[e]=IT+e,t),{}),ST="SweetAlert2:",Py=t=>t.charAt(0).toUpperCase()+t.slice(1),Ln=t=>{console.warn(`${ST} ${typeof t=="object"?t.join(" "):t}`)},Ia=t=>{console.error(`${ST} ${t}`)},Z0=[],TD=t=>{Z0.includes(t)||(Z0.push(t),Ln(t))},RT=(t,e=null)=>{TD(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Sf=t=>typeof t=="function"?t():t,xy=t=>t&&typeof t.toPromise=="function",Ic=t=>xy(t)?t.toPromise():Promise.resolve(t),Ny=t=>t&&Promise.resolve(t)===t,Vn=()=>document.body.querySelector(`.${Q.container}`),Sc=t=>{const e=Vn();return e?e.querySelector(t):null},mr=t=>Sc(`.${t}`),Ze=()=>mr(Q.popup),Ql=()=>mr(Q.icon),CD=()=>mr(Q["icon-content"]),kT=()=>mr(Q.title),Oy=()=>mr(Q["html-container"]),AT=()=>mr(Q.image),Dy=()=>mr(Q["progress-steps"]),Rf=()=>mr(Q["validation-message"]),Pi=()=>Sc(`.${Q.actions} .${Q.confirm}`),Yl=()=>Sc(`.${Q.actions} .${Q.cancel}`),Sa=()=>Sc(`.${Q.actions} .${Q.deny}`),ID=()=>mr(Q["input-label"]),Xl=()=>Sc(`.${Q.loader}`),Rc=()=>mr(Q.actions),PT=()=>mr(Q.footer),kf=()=>mr(Q["timer-progress-bar"]),Ly=()=>mr(Q.close),SD=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Vy=()=>{const t=Ze();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,c)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),p=parseInt(c.getAttribute("tabindex")||"0");return h>p?1:h<p?-1:0}),r=t.querySelectorAll(SD),o=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>Jn(a))},My=()=>us(document.body,Q.shown)&&!us(document.body,Q["toast-shown"])&&!us(document.body,Q["no-backdrop"]),Af=()=>{const t=Ze();return t?us(t,Q.toast):!1},RD=()=>{const t=Ze();return t?t.hasAttribute("data-loading"):!1},gr=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(c=>{t.appendChild(c)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?t.appendChild(c.cloneNode(!0)):t.appendChild(c)})}},us=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},kD=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Q).includes(n)&&!Object.values(jh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},fr=(t,e,n)=>{if(kD(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Ln(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}et(t,r)}},Pf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Q.popup} > .${Q[e]}`);case"checkbox":return t.querySelector(`.${Q.popup} > .${Q.checkbox} input`);case"radio":return t.querySelector(`.${Q.popup} > .${Q.radio} input:checked`)||t.querySelector(`.${Q.popup} > .${Q.radio} input:first-child`);case"range":return t.querySelector(`.${Q.popup} > .${Q.range} input`);default:return t.querySelector(`.${Q.popup} > .${Q.input}`)}},xT=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},NT=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(r):o.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},et=(t,e)=>{NT(t,e,!0)},Dr=(t,e)=>{NT(t,e,!1)},to=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const o=n[r];if(o instanceof HTMLElement&&us(o,e))return o}},oa=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},ln=(t,e="flex")=>{t&&(t.style.display=e)},Rn=t=>{t&&(t.style.display="none")},Fy=(t,e="block")=>{t&&new MutationObserver(()=>{kc(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},eE=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},kc=(t,e,n="flex")=>{e?ln(t,n):Rn(t)},Jn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),AD=()=>!Jn(Pi())&&!Jn(Sa())&&!Jn(Yl()),fg=t=>t.scrollHeight>t.clientHeight,PD=(t,e)=>{let n=t;for(;n&&n!==e;){if(fg(n))return!0;n=n.parentElement}return!1},OT=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},jy=(t,e=!1)=>{const n=kf();n&&Jn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},xD=()=>{const t=kf();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},ND=()=>typeof window>"u"||typeof document>"u",OD=`
 <div aria-labelledby="${Q.title}" aria-describedby="${Q["html-container"]}" class="${Q.popup}" tabindex="-1">
   <button type="button" class="${Q.close}"></button>
   <ul class="${Q["progress-steps"]}"></ul>
   <div class="${Q.icon}"></div>
   <img class="${Q.image}" />
   <h2 class="${Q.title}" id="${Q.title}"></h2>
   <div class="${Q["html-container"]}" id="${Q["html-container"]}"></div>
   <input class="${Q.input}" id="${Q.input}" />
   <input type="file" class="${Q.file}" />
   <div class="${Q.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Q.select}" id="${Q.select}"></select>
   <div class="${Q.radio}"></div>
   <label class="${Q.checkbox}">
     <input type="checkbox" id="${Q.checkbox}" />
     <span class="${Q.label}"></span>
   </label>
   <textarea class="${Q.textarea}" id="${Q.textarea}"></textarea>
   <div class="${Q["validation-message"]}" id="${Q["validation-message"]}"></div>
   <div class="${Q.actions}">
     <div class="${Q.loader}"></div>
     <button type="button" class="${Q.confirm}"></button>
     <button type="button" class="${Q.deny}"></button>
     <button type="button" class="${Q.cancel}"></button>
   </div>
   <div class="${Q.footer}"></div>
   <div class="${Q["timer-progress-bar-container"]}">
     <div class="${Q["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),DD=()=>{const t=Vn();return t?(t.remove(),Dr([document.documentElement,document.body],[Q["no-backdrop"],Q["toast-shown"],Q["has-column"]]),!0):!1},Xo=()=>{Re.currentInstance.resetValidationMessage()},LD=()=>{const t=Ze(),e=to(t,Q.input),n=to(t,Q.file),r=t.querySelector(`.${Q.range} input`),o=t.querySelector(`.${Q.range} output`),a=to(t,Q.select),c=t.querySelector(`.${Q.checkbox} input`),h=to(t,Q.textarea);e.oninput=Xo,n.onchange=Xo,a.onchange=Xo,c.onchange=Xo,h.oninput=Xo,r.oninput=()=>{Xo(),o.value=r.value},r.onchange=()=>{Xo(),o.value=r.value}},VD=t=>typeof t=="string"?document.querySelector(t):t,MD=t=>{const e=Ze();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},FD=t=>{window.getComputedStyle(t).direction==="rtl"&&et(Vn(),Q.rtl)},jD=t=>{const e=DD();if(ND()){Ia("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Q.container,e&&et(n,Q["no-transition"]),gr(n,OD),n.dataset.swal2Theme=t.theme;const r=VD(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),MD(t),FD(r),LD()},$y=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?$D(t,e):t&&gr(e,t)},$D=(t,e)=>{t.jquery?UD(e,t):gr(e,t.toString())},UD=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},BD=(t,e)=>{const n=Rc(),r=Xl();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Rn(n):ln(n),fr(n,e,"actions"),zD(n,r,e),gr(r,e.loaderHtml||""),fr(r,e,"loader"))};function zD(t,e,n){const r=Pi(),o=Sa(),a=Yl();!r||!o||!a||(Sm(r,"confirm",n),Sm(o,"deny",n),Sm(a,"cancel",n),HD(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}function HD(t,e,n,r){if(!r.buttonsStyling){Dr([t,e,n],Q.styled);return}et([t,e,n],Q.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Im(t),Im(e),Im(n)}function Im(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Sm(t,e,n){const r=Py(e);kc(t,n[`show${r}Button`],"inline-block"),gr(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Q[e],fr(t,n,`${e}Button`)}const WD=(t,e)=>{const n=Ly();n&&(gr(n,e.closeButtonHtml||""),fr(n,e,"closeButton"),kc(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},qD=(t,e)=>{const n=Vn();n&&(GD(n,e.backdrop),KD(n,e.position),QD(n,e.grow),fr(n,e,"container"))};function GD(t,e){typeof e=="string"?t.style.background=e:e||et([document.documentElement,document.body],Q["no-backdrop"])}function KD(t,e){e&&(e in Q?et(t,Q[e]):(Ln('The "position" parameter is not valid, defaulting to "center"'),et(t,Q.center)))}function QD(t,e){e&&et(t,Q[`grow-${e}`])}var ut={innerParams:new WeakMap,domCache:new WeakMap};const YD=["input","file","range","select","radio","checkbox","textarea"],XD=(t,e)=>{const n=Ze();if(!n)return;const r=ut.innerParams.get(t),o=!r||e.input!==r.input;YD.forEach(a=>{const c=to(n,Q[a]);c&&(eL(a,e.inputAttributes),c.className=Q[a],o&&Rn(c))}),e.input&&(o&&JD(e),tL(e))},JD=t=>{if(!t.input)return;if(!Lt[t.input]){Ia(`Unexpected type of input! Expected ${Object.keys(Lt).join(" | ")}, got "${t.input}"`);return}const e=DT(t.input);if(!e)return;const n=Lt[t.input](e,t);ln(e),t.inputAutoFocus&&setTimeout(()=>{xT(n)})},ZD=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},eL=(t,e)=>{const n=Ze();if(!n)return;const r=Pf(n,t);if(r){ZD(r);for(const o in e)r.setAttribute(o,e[o])}},tL=t=>{if(!t.input)return;const e=DT(t.input);e&&fr(e,t,"input")},Uy=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Ac=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=Q["input-label"];r.setAttribute("for",t.id),r.className=o,typeof n.customClass=="object"&&et(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},DT=t=>{const e=Ze();if(e)return to(e,Q[t]||Q.input)},$h=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Ny(e)||Ln(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Lt={};Lt.text=Lt.email=Lt.password=Lt.number=Lt.tel=Lt.url=Lt.search=Lt.date=Lt["datetime-local"]=Lt.time=Lt.week=Lt.month=(t,e)=>($h(t,e.inputValue),Ac(t,t,e),Uy(t,e),t.type=e.input,t);Lt.file=(t,e)=>(Ac(t,t,e),Uy(t,e),t);Lt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return $h(n,e.inputValue),n.type=e.input,$h(r,e.inputValue),Ac(n,t,e),t};Lt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");gr(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Ac(t,t,e),t};Lt.radio=t=>(t.textContent="",t);Lt.checkbox=(t,e)=>{const n=Pf(Ze(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return gr(r,e.inputPlaceholder||e.inputLabel),n};Lt.textarea=(t,e)=>{$h(t,e.inputValue),Uy(t,e),Ac(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(Ze()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?Ze().style.width=`${a}px`:oa(Ze(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const nL=(t,e)=>{const n=Oy();n&&(Fy(n),fr(n,e,"htmlContainer"),e.html?($y(e.html,n),ln(n,"block")):e.text?(n.textContent=e.text,ln(n,"block")):Rn(n),XD(t,e))},rL=(t,e)=>{const n=PT();n&&(Fy(n),kc(n,e.footer,"block"),e.footer&&$y(e.footer,n),fr(n,e,"footer"))},iL=(t,e)=>{const n=ut.innerParams.get(t),r=Ql();if(!r)return;if(n&&e.icon===n.icon){nE(r,e),tE(r,e);return}if(!e.icon&&!e.iconHtml){Rn(r);return}if(e.icon&&Object.keys(jh).indexOf(e.icon)===-1){Ia(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Rn(r);return}ln(r),nE(r,e),tE(r,e),et(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",LT)},tE=(t,e)=>{for(const[n,r]of Object.entries(jh))e.icon!==n&&Dr(t,r);et(t,e.icon&&jh[e.icon]),aL(t,e),LT(),fr(t,e,"icon")},LT=()=>{const t=Ze();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},sL=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,oL=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,nE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=rE(e.iconHtml):e.icon==="success"?(r=sL(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=oL:e.icon&&(r=rE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&gr(t,r)},aL=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])eE(t,n,"background-color",e.iconColor);eE(t,".swal2-success-ring","border-color",e.iconColor)}},rE=t=>`<div class="${Q["icon-content"]}">${t}</div>`,lL=(t,e)=>{const n=AT();if(n){if(!e.imageUrl){Rn(n);return}ln(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),oa(n,"width",e.imageWidth),oa(n,"height",e.imageHeight),n.className=Q.image,fr(n,e,"image")}};let By=!1,VT=0,MT=0,FT=0,jT=0;const uL=t=>{t.addEventListener("mousedown",Uh),document.body.addEventListener("mousemove",Bh),t.addEventListener("mouseup",zh),t.addEventListener("touchstart",Uh),document.body.addEventListener("touchmove",Bh),t.addEventListener("touchend",zh)},cL=t=>{t.removeEventListener("mousedown",Uh),document.body.removeEventListener("mousemove",Bh),t.removeEventListener("mouseup",zh),t.removeEventListener("touchstart",Uh),document.body.removeEventListener("touchmove",Bh),t.removeEventListener("touchend",zh)},Uh=t=>{const e=Ze();if(t.target===e||Ql().contains(t.target)){By=!0;const n=$T(t);VT=n.clientX,MT=n.clientY,FT=parseInt(e.style.insetInlineStart)||0,jT=parseInt(e.style.insetBlockStart)||0,et(e,"swal2-dragging")}},Bh=t=>{const e=Ze();if(By){let{clientX:n,clientY:r}=$T(t);e.style.insetInlineStart=`${FT+(n-VT)}px`,e.style.insetBlockStart=`${jT+(r-MT)}px`}},zh=()=>{const t=Ze();By=!1,Dr(t,"swal2-dragging")},$T=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},dL=(t,e)=>{const n=Vn(),r=Ze();if(!(!n||!r)){if(e.toast){oa(n,"width",e.width),r.style.width="100%";const o=Xl();o&&r.insertBefore(o,Ql())}else oa(r,"width",e.width);oa(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Rn(Rf()),hL(r,e),e.draggable&&!e.toast?(et(r,Q.draggable),uL(r)):(Dr(r,Q.draggable),cL(r))}},hL=(t,e)=>{const n=e.showClass||{};t.className=`${Q.popup} ${Jn(t)?n.popup:""}`,e.toast?(et([document.documentElement,document.body],Q["toast-shown"]),et(t,Q.toast)):et(t,Q.modal),fr(t,e,"popup"),typeof e.customClass=="string"&&et(t,e.customClass),e.icon&&et(t,Q[`icon-${e.icon}`])},fL=(t,e)=>{const n=Dy();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){Rn(n);return}ln(n),n.textContent="",o>=r.length&&Ln("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,c)=>{const h=pL(a);if(n.appendChild(h),c===o&&et(h,Q["active-progress-step"]),c!==r.length-1){const p=mL(e);n.appendChild(p)}})},pL=t=>{const e=document.createElement("li");return et(e,Q["progress-step"]),gr(e,t),e},mL=t=>{const e=document.createElement("li");return et(e,Q["progress-step-line"]),t.progressStepsDistance&&oa(e,"width",t.progressStepsDistance),e},gL=(t,e)=>{const n=kT();n&&(Fy(n),kc(n,e.title||e.titleText,"block"),e.title&&$y(e.title,n),e.titleText&&(n.innerText=e.titleText),fr(n,e,"title"))},UT=(t,e)=>{dL(t,e),qD(t,e),fL(t,e),iL(t,e),lL(t,e),gL(t,e),WD(t,e),nL(t,e),BD(t,e),rL(t,e);const n=Ze();typeof e.didRender=="function"&&n&&e.didRender(n),Re.eventEmitter.emit("didRender",n)},yL=()=>Jn(Ze()),BT=()=>{var t;return(t=Pi())===null||t===void 0?void 0:t.click()},wL=()=>{var t;return(t=Sa())===null||t===void 0?void 0:t.click()},vL=()=>{var t;return(t=Yl())===null||t===void 0?void 0:t.click()},Jl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),zT=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},_L=(t,e,n)=>{zT(t),e.toast||(t.keydownHandler=r=>bL(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:Ze(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},pg=(t,e)=>{var n;const r=Vy();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=Ze())===null||n===void 0||n.focus()},HT=["ArrowRight","ArrowDown"],EL=["ArrowLeft","ArrowUp"],bL=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?TL(e,t):e.key==="Tab"?CL(e):[...HT,...EL].includes(e.key)?IL(e.key):e.key==="Escape"&&SL(e,t,n)))},TL=(t,e)=>{if(!Sf(e.allowEnterKey))return;const n=Pf(Ze(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;BT(),t.preventDefault()}},CL=t=>{const e=t.target,n=Vy();let r=-1;for(let o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?pg(r,-1):pg(r,1),t.stopPropagation(),t.preventDefault()},IL=t=>{const e=Rc(),n=Pi(),r=Sa(),o=Yl();if(!e||!n||!r||!o)return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const c=HT.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let p=0;p<e.children.length;p++){if(h=h[c],!h)return;if(h instanceof HTMLButtonElement&&Jn(h))break}h instanceof HTMLButtonElement&&h.focus()}},SL=(t,e,n)=>{t.preventDefault(),Sf(e.allowEscapeKey)&&n(Jl.esc)};var xl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const RL=()=>{const t=Vn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},WT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},qT=typeof window<"u"&&!!window.GestureEvent,kL=()=>{if(qT&&!us(document.body,Q.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,et(document.body,Q.iosfix),AL()}},AL=()=>{const t=Vn();if(!t)return;let e;t.ontouchstart=n=>{e=PL(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},PL=t=>{const e=t.target,n=Vn(),r=Oy();return!n||!r||xL(t)||NL(t)?!1:e===n||!fg(n)&&e instanceof HTMLElement&&!PD(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(fg(r)&&r.contains(e))},xL=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",NL=t=>t.touches&&t.touches.length>1,OL=()=>{if(us(document.body,Q.iosfix)){const t=parseInt(document.body.style.top,10);Dr(document.body,Q.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},DL=()=>{const t=document.createElement("div");t.className=Q["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let bl=null;const LL=t=>{bl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(bl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${bl+DL()}px`)},VL=()=>{bl!==null&&(document.body.style.paddingRight=`${bl}px`,bl=null)};function GT(t,e,n,r){Af()?iE(t,r):(_D(n).then(()=>iE(t,r)),zT(Re)),qT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),My()&&(VL(),OL(),WT()),ML()}function ML(){Dr([document.documentElement,document.body],[Q.shown,Q["height-auto"],Q["no-backdrop"],Q["toast-shown"]])}function no(t){t=jL(t);const e=xl.swalPromiseResolve.get(this),n=FL(this);this.isAwaitingPromise?t.isDismissed||(Pc(this),e(t)):n&&e(t)}const FL=t=>{const e=Ze();if(!e)return!1;const n=ut.innerParams.get(t);if(!n||us(e,n.hideClass.popup))return!1;Dr(e,n.showClass.popup),et(e,n.hideClass.popup);const r=Vn();return Dr(r,n.showClass.backdrop),et(r,n.hideClass.backdrop),$L(t,e,n),!0};function KT(t){const e=xl.swalPromiseReject.get(this);Pc(this),e&&e(t)}const Pc=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,ut.innerParams.get(t)||t._destroy())},jL=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),$L=(t,e,n)=>{var r;const o=Vn(),a=OT(e);typeof n.willClose=="function"&&n.willClose(e),(r=Re.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?UL(t,e,o,n.returnFocus,n.didClose):GT(t,o,n.returnFocus,n.didClose)},UL=(t,e,n,r,o)=>{Re.swalCloseEventFinishedCallback=GT.bind(null,t,n,r,o);const a=function(c){if(c.target===e){var h;(h=Re.swalCloseEventFinishedCallback)===null||h===void 0||h.call(Re),delete Re.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},iE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Re.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Nl=t=>{let e=Ze();if(e||new ns,e=Ze(),!e)return;const n=Xl();Af()?Rn(Ql()):BL(e,t),ln(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},BL=(t,e)=>{const n=Rc(),r=Xl();!n||!r||(!e&&Jn(Pi())&&(e=Pi()),ln(n),e&&(Rn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),et([t,n],Q.loading))},zL=(t,e)=>{e.input==="select"||e.input==="radio"?KL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(xy(e.inputValue)||Ny(e.inputValue))&&(Nl(Pi()),QL(t,e))},HL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return WL(n);case"radio":return qL(n);case"file":return GL(n);default:return e.inputAutoTrim?n.value.trim():n.value}},WL=t=>t.checked?1:0,qL=t=>t.checked?t.value:null,GL=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,KL=(t,e)=>{const n=Ze();if(!n)return;const r=o=>{e.input==="select"?YL(n,Hh(o),e):e.input==="radio"&&XL(n,Hh(o),e)};xy(e.inputOptions)||Ny(e.inputOptions)?(Nl(Pi()),Ic(e.inputOptions).then(o=>{t.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):Ia(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},QL=(t,e)=>{const n=t.getInput();n&&(Rn(n),Ic(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,ln(n),n.focus(),t.hideLoading()}).catch(r=>{Ia(`Error in inputValue promise: ${r}`),n.value="",ln(n),n.focus(),t.hideLoading()}))};function YL(t,e,n){const r=to(t,Q.select);if(!r)return;const o=(a,c,h)=>{const p=document.createElement("option");p.value=h,gr(p,c),p.selected=QT(h,n.inputValue),a.appendChild(p)};e.forEach(a=>{const c=a[0],h=a[1];if(Array.isArray(h)){const p=document.createElement("optgroup");p.label=c,p.disabled=!1,r.appendChild(p),h.forEach(y=>o(p,y[1],y[0]))}else o(r,h,c)}),r.focus()}function XL(t,e,n){const r=to(t,Q.radio);if(!r)return;e.forEach(a=>{const c=a[0],h=a[1],p=document.createElement("input"),y=document.createElement("label");p.type="radio",p.name=Q.radio,p.value=c,QT(c,n.inputValue)&&(p.checked=!0);const w=document.createElement("span");gr(w,h),w.className=Q.label,y.appendChild(p),y.appendChild(w),r.appendChild(y)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const Hh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let o=n;typeof o=="object"&&(o=Hh(o)),e.push([r,o])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Hh(r)),e.push([n,r])}),e},QT=(t,e)=>!!e&&e.toString()===t.toString(),JL=t=>{const e=ut.innerParams.get(t);t.disableButtons(),e.input?YT(t,"confirm"):Hy(t,!0)},ZL=t=>{const e=ut.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?YT(t,"deny"):zy(t,!1)},eV=(t,e)=>{t.disableButtons(),e(Jl.cancel)},YT=(t,e)=>{const n=ut.innerParams.get(t);if(!n.input){Ia(`The "input" parameter is needed to be set when using returnInputValueOn${Py(e)}`);return}const r=t.getInput(),o=HL(t,n);n.inputValidator?tV(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?zy(t,o):Hy(t,o)},tV=(t,e,n)=>{const r=ut.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Ic(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?zy(t,e):Hy(t,e)})},zy=(t,e)=>{const n=ut.innerParams.get(t||void 0);n.showLoaderOnDeny&&Nl(Sa()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Ic(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),Pc(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>XT(t||void 0,o))):t.close({isDenied:!0,value:e})},sE=(t,e)=>{t.close({isConfirmed:!0,value:e})},XT=(t,e)=>{t.rejectPromise(e)},Hy=(t,e)=>{const n=ut.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Nl(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Ic(n.preConfirm(e,n.validationMessage))).then(o=>{Jn(Rf())||o===!1?(t.hideLoading(),Pc(t)):sE(t,typeof o>"u"?e:o)}).catch(o=>XT(t||void 0,o))):sE(t,e)};function Wh(){const t=ut.innerParams.get(this);if(!t)return;const e=ut.domCache.get(this);Rn(e.loader),Af()?t.icon&&ln(Ql()):nV(e),Dr([e.popup,e.actions],Q.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const nV=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?ln(e[0],"inline-block"):AD()&&Rn(t.actions)};function JT(){const t=ut.innerParams.get(this),e=ut.domCache.get(this);return e?Pf(e.popup,t.input):null}function ZT(t,e,n){const r=ut.domCache.get(t);e.forEach(o=>{r[o].disabled=n})}function eC(t,e){const n=Ze();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Q.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else t.disabled=e}function tC(){ZT(this,["confirmButton","denyButton","cancelButton"],!1)}function nC(){ZT(this,["confirmButton","denyButton","cancelButton"],!0)}function rC(){eC(this.getInput(),!1)}function iC(){eC(this.getInput(),!0)}function sC(t){const e=ut.domCache.get(this),n=ut.innerParams.get(this);gr(e.validationMessage,t),e.validationMessage.className=Q["validation-message"],n.customClass&&n.customClass.validationMessage&&et(e.validationMessage,n.customClass.validationMessage),ln(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Q["validation-message"]),xT(r),et(r,Q.inputerror))}function oC(){const t=ut.domCache.get(this);t.validationMessage&&Rn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Dr(e,Q.inputerror))}const Tl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},rV=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],iV={allowEnterKey:void 0},sV=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],aC=t=>Object.prototype.hasOwnProperty.call(Tl,t),lC=t=>rV.indexOf(t)!==-1,uC=t=>iV[t],oV=t=>{aC(t)||Ln(`Unknown parameter "${t}"`)},aV=t=>{sV.includes(t)&&Ln(`The parameter "${t}" is incompatible with toasts`)},lV=t=>{const e=uC(t);e&&RT(t,e)},cC=t=>{t.backdrop===!1&&t.allowOutsideClick&&Ln('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Ln(`Invalid theme "${t.theme}"`);for(const e in t)oV(e),t.toast&&aV(e),lV(e)};function dC(t){const e=Vn(),n=Ze(),r=ut.innerParams.get(this);if(!n||us(n,r.hideClass.popup)){Ln("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=uV(t),a=Object.assign({},r,o);cC(a),e.dataset.swal2Theme=a.theme,UT(this,a),ut.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const uV=t=>{const e={};return Object.keys(t).forEach(n=>{lC(n)?e[n]=t[n]:Ln(`Invalid parameter to update: ${n}`)}),e};function hC(){const t=ut.domCache.get(this),e=ut.innerParams.get(this);if(!e){fC(this);return}t.popup&&Re.swalCloseEventFinishedCallback&&(Re.swalCloseEventFinishedCallback(),delete Re.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Re.eventEmitter.emit("didDestroy"),cV(this)}const cV=t=>{fC(t),delete t.params,delete Re.keydownHandler,delete Re.keydownTarget,delete Re.currentInstance},fC=t=>{t.isAwaitingPromise?(Rm(ut,t),t.isAwaitingPromise=!0):(Rm(xl,t),Rm(ut,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Rm=(t,e)=>{for(const n in t)t[n].delete(e)};var dV=Object.freeze({__proto__:null,_destroy:hC,close:no,closeModal:no,closePopup:no,closeToast:no,disableButtons:nC,disableInput:iC,disableLoading:Wh,enableButtons:tC,enableInput:rC,getInput:JT,handleAwaitingPromise:Pc,hideLoading:Wh,rejectPromise:KT,resetValidationMessage:oC,showValidationMessage:sC,update:dC});const hV=(t,e,n)=>{t.toast?fV(t,e,n):(mV(e),gV(e),yV(t,e,n))},fV=(t,e,n)=>{e.popup.onclick=()=>{t&&(pV(t)||t.timer||t.input)||n(Jl.close)}},pV=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let qh=!1;const mV=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(qh=!0)}}},gV=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(qh=!0)}}},yV=(t,e,n)=>{e.container.onclick=r=>{if(qh){qh=!1;return}r.target===e.container&&Sf(t.allowOutsideClick)&&n(Jl.backdrop)}},wV=t=>typeof t=="object"&&t.jquery,oE=t=>t instanceof Element||wV(t),vV=t=>{const e={};return typeof t[0]=="object"&&!oE(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const o=t[r];typeof o=="string"||oE(o)?e[n]=o:o!==void 0&&Ia(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function _V(...t){return new this(...t)}function EV(t){class e extends this{_main(r,o){return super._main(r,Object.assign({},t,o))}}return e}const bV=()=>Re.timeout&&Re.timeout.getTimerLeft(),pC=()=>{if(Re.timeout)return xD(),Re.timeout.stop()},mC=()=>{if(Re.timeout){const t=Re.timeout.start();return jy(t),t}},TV=()=>{const t=Re.timeout;return t&&(t.running?pC():mC())},CV=t=>{if(Re.timeout){const e=Re.timeout.increase(t);return jy(e,!0),e}},IV=()=>!!(Re.timeout&&Re.timeout.isRunning());let aE=!1;const mg={};function SV(t="data-swal-template"){mg[t]=this,aE||(document.body.addEventListener("click",RV),aE=!0)}const RV=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in mg){const r=e.getAttribute(n);if(r){mg[n].fire({template:r});return}}};class kV{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...o)=>{this.removeListener(e,r),n.apply(this,o)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Re.eventEmitter=new kV;const AV=(t,e)=>{Re.eventEmitter.on(t,e)},PV=(t,e)=>{Re.eventEmitter.once(t,e)},xV=(t,e)=>{if(!t){Re.eventEmitter.reset();return}e?Re.eventEmitter.removeListener(t,e):Re.eventEmitter.removeAllListeners(t)};var NV=Object.freeze({__proto__:null,argsToParams:vV,bindClickHandler:SV,clickCancel:vL,clickConfirm:BT,clickDeny:wL,enableLoading:Nl,fire:_V,getActions:Rc,getCancelButton:Yl,getCloseButton:Ly,getConfirmButton:Pi,getContainer:Vn,getDenyButton:Sa,getFocusableElements:Vy,getFooter:PT,getHtmlContainer:Oy,getIcon:Ql,getIconContent:CD,getImage:AT,getInputLabel:ID,getLoader:Xl,getPopup:Ze,getProgressSteps:Dy,getTimerLeft:bV,getTimerProgressBar:kf,getTitle:kT,getValidationMessage:Rf,increaseTimer:CV,isDeprecatedParameter:uC,isLoading:RD,isTimerRunning:IV,isUpdatableParameter:lC,isValidParameter:aC,isVisible:yL,mixin:EV,off:xV,on:AV,once:PV,resumeTimer:mC,showLoading:Nl,stopTimer:pC,toggleTimer:TV});class OV{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const gC=["swal-title","swal-html","swal-footer"],DV=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return BV(n),Object.assign(LV(n),VV(n),MV(n),FV(n),jV(n),$V(n),UV(n,gC))},LV=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{ga(r,["name","value"]);const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(typeof Tl[o]=="boolean"?e[o]=a!=="false":typeof Tl[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},VV=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},MV=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{ga(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${Py(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},FV=t=>{const e={},n=t.querySelector("swal-image");return n&&(ga(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},jV=t=>{const e={},n=t.querySelector("swal-icon");return n&&(ga(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},$V=t=>{const e={},n=t.querySelector("swal-input");n&&(ga(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{ga(o,["value"]);const a=o.getAttribute("value");if(!a)return;const c=o.innerHTML;e.inputOptions[a]=c})),e},UV=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(ga(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},BV=t=>{const e=gC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Ln(`Unrecognized element <${r}>`)})},ga=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Ln([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},yC=10,zV=t=>{const e=Vn(),n=Ze();typeof t.willOpen=="function"&&t.willOpen(n),Re.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;qV(e,n,t),setTimeout(()=>{HV(e,n)},yC),My()&&(WV(e,t.scrollbarPadding,o),RL()),!Af()&&!Re.previousActiveElement&&(Re.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Re.eventEmitter.emit("didOpen",n),Dr(e,Q["no-transition"])},Gh=t=>{const e=Ze();if(t.target!==e)return;const n=Vn();e.removeEventListener("animationend",Gh),e.removeEventListener("transitionend",Gh),n.style.overflowY="auto"},HV=(t,e)=>{OT(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Gh),e.addEventListener("transitionend",Gh)):t.style.overflowY="auto"},WV=(t,e,n)=>{kL(),e&&n!=="hidden"&&LL(n),setTimeout(()=>{t.scrollTop=0})},qV=(t,e,n)=>{et(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),ln(e,"grid"),setTimeout(()=>{et(e,n.showClass.popup),e.style.removeProperty("opacity")},yC)):ln(e,"grid"),et([document.documentElement,document.body],Q.shown),n.heightAuto&&n.backdrop&&!n.toast&&et([document.documentElement,document.body],Q["height-auto"])};var lE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function GV(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=lE.email),t.input==="url"&&(t.inputValidator=lE.url))}function KV(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Ln('Target parameter is not valid, defaulting to "body"'),t.target="body")}function QV(t){GV(t),t.showLoaderOnConfirm&&!t.preConfirm&&Ln(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),KV(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),jD(t)}let wi;var Wd=new WeakMap;class Ft{constructor(...e){if(gD(this,Wd,void 0),typeof window>"u")return;wi=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,yD(Wd,this,this._main(wi.params))}_main(e,n={}){if(cC(Object.assign({},n,e)),Re.currentInstance){const a=xl.swalPromiseResolve.get(Re.currentInstance),{isAwaitingPromise:c}=Re.currentInstance;Re.currentInstance._destroy(),c||a({isDismissed:!0}),My()&&WT()}Re.currentInstance=wi;const r=XV(e,n);QV(r),Object.freeze(r),Re.timeout&&(Re.timeout.stop(),delete Re.timeout),clearTimeout(Re.restoreFocusTimeout);const o=JV(wi);return UT(wi,r),ut.innerParams.set(wi,r),YV(wi,o,r)}then(e){return J0(Wd,this).then(e)}finally(e){return J0(Wd,this).finally(e)}}const YV=(t,e,n)=>new Promise((r,o)=>{const a=c=>{t.close({isDismissed:!0,dismiss:c})};xl.swalPromiseResolve.set(t,r),xl.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{JL(t)},e.denyButton.onclick=()=>{ZL(t)},e.cancelButton.onclick=()=>{eV(t,a)},e.closeButton.onclick=()=>{a(Jl.close)},hV(n,e,a),_L(Re,n,a),zL(t,n),zV(n),ZV(Re,n,a),e5(e,n),setTimeout(()=>{e.container.scrollTop=0})}),XV=(t,e)=>{const n=DV(t),r=Object.assign({},Tl,e,n,t);return r.showClass=Object.assign({},Tl.showClass,r.showClass),r.hideClass=Object.assign({},Tl.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},JV=t=>{const e={popup:Ze(),container:Vn(),actions:Rc(),confirmButton:Pi(),denyButton:Sa(),cancelButton:Yl(),loader:Xl(),closeButton:Ly(),validationMessage:Rf(),progressSteps:Dy()};return ut.domCache.set(t,e),e},ZV=(t,e,n)=>{const r=kf();Rn(r),e.timer&&(t.timeout=new OV(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(ln(r),fr(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&jy(e.timer)})))},e5=(t,e)=>{if(!e.toast){if(!Sf(e.allowEnterKey)){RT("allowEnterKey"),r5();return}t5(t)||n5(t,e)||pg(-1,1)}},t5=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Jn(n))return n.focus(),!0;return!1},n5=(t,e)=>e.focusDeny&&Jn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Jn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Jn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,r5=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Ft.prototype.disableButtons=nC;Ft.prototype.enableButtons=tC;Ft.prototype.getInput=JT;Ft.prototype.disableInput=iC;Ft.prototype.enableInput=rC;Ft.prototype.hideLoading=Wh;Ft.prototype.disableLoading=Wh;Ft.prototype.showValidationMessage=sC;Ft.prototype.resetValidationMessage=oC;Ft.prototype.close=no;Ft.prototype.closePopup=no;Ft.prototype.closeModal=no;Ft.prototype.closeToast=no;Ft.prototype.rejectPromise=KT;Ft.prototype.update=dC;Ft.prototype._destroy=hC;Object.assign(Ft,NV);Object.keys(dV).forEach(t=>{Ft[t]=function(...e){return wi&&wi[t]?wi[t](...e):null}});Ft.DismissReason=Jl;Ft.version="11.23.0";const ns=Ft;ns.default=ns;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Ol="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",_i="/Fantasy-Casadillos/SinPerfil.jpg",i5="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",s5="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",o5="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",a5="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",Du=Ea(pr),uE=Eo(pr),l5=new rs,u5=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[o,a]=S.useState(i5),c=Iy();S.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async w=>{w.preventDefault();const E=new FormData(w.currentTarget),b=E.get("email"),x=E.get("password");if(n)try{const{user:L}=await aA(Du,b,x),M=E.get("nick");await zm(Du.currentUser,{displayName:M});const D={nick:M,correo:b,puntos:0,rol:"usuario",dinero:1e8,equipo:{formacion:"2-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:_i,puntuaciones:[0],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await q0(Dn(uE,"usuarios",L.uid),D,{merge:!0})}catch(L){console.error("Error registrando usuario:",L);let M="No se pudo crear la cuenta. Revisa los datos.";L.code==="auth/email-already-in-use"?M="Ya existe una cuenta con este correo.":L.code==="auth/weak-password"?M="La contrasea debe tener al menos 6 caracteres.":L.code==="auth/invalid-email"?M="El correo electrnico no es vlido.":M=`Error desconocido: ${L.code}`,ns.fire({icon:"error",title:"Error",text:M})}else try{await lA(Du,b,x),console.log("Inicio de sesin exitoso"),c("/home")}catch(L){console.error("Error iniciando sesin:",L);let M="Error al iniciar sesin.";(L.code==="auth/invalid-credential"||L.code==="auth/wrong-password"||L.code==="auth/user-not-found")&&(M="Correo o contrasea incorrectos."),ns.fire({icon:"error",title:"Error al iniciar sesin",text:M})}},p=async()=>{const{value:w}=await ns.fire({title:"Recuperar contrasea",input:"email",inputLabel:"Introduce tu correo electrnico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:E=>{if(!E)return"El correo es obligatorio"}});if(w)try{await oA(Du,w),ns.fire("Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(E){ns.fire("Error",E.message,"error")}},y=async()=>{try{const w=await DA(Du,l5);if(!w?.user)throw new Error("No se obtuvo el usuario de Google.");const E=w.user,b=Dn(uE,"usuarios",E.uid);(await ao(b)).exists()||await q0(b,{nick:E.displayName||"",correo:E.email,puntos:0,rol:"usuario",dinero:1e8,equipo:{formacion:"2-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:_i,puntuaciones:[0],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(w){if(w.code==="auth/popup-closed-by-user"||w.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",w),ns.fire({icon:"error",title:"Error",text:w.message||"No se pudo iniciar sesin con Google"})}};return N.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${Ol})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[N.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),N.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[N.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),N.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:N.jsx("label",{style:{cursor:"default",display:"inline-block"},children:N.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),N.jsxs("form",{onSubmit:h,children:[N.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&N.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),N.jsxs("div",{className:"cajaContainerContrasea",children:[N.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contrasea",className:"cajacontrasea",required:!0}),N.jsx("img",{src:t?o5:a5,alt:"Mostrar contrasea",className:"toggle-password-icon",onClick:()=>e(w=>!w)})]}),!n&&N.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:N.jsx("button",{type:"button",onClick:p,className:"link-style",children:"Has olvidado la contrasea?"})}),n?N.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):N.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[N.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesin"}),N.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),N.jsxs("button",{type:"button",onClick:y,className:"btn-google",style:{width:"auto"},children:[N.jsx("img",{src:s5,alt:"Google"}),"Google"]})]})]}),N.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",N.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesin":"Regstrate"})]})]})]})},gg={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firebasestorage.googleapis.com",vC="storageBucket",c5=120*1e3,d5=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends xi{constructor(e,n,r=0){super(km(e),`Firebase Storage: ${n} (${km(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pt||(Pt={}));function km(t){return"storage/"+t}function Wy(){const t="An unknown error occurred, please check the error payload for server response.";return new xt(Pt.UNKNOWN,t)}function h5(t){return new xt(Pt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function f5(t){return new xt(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function p5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xt(Pt.UNAUTHENTICATED,t)}function m5(){return new xt(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function g5(t){return new xt(Pt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function y5(){return new xt(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function w5(){return new xt(Pt.CANCELED,"User canceled the upload/download.")}function v5(t){return new xt(Pt.INVALID_URL,"Invalid URL '"+t+"'.")}function _5(t){return new xt(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function E5(){return new xt(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vC+"' property when initializing the app?")}function b5(){return new xt(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function T5(){return new xt(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C5(t){return new xt(Pt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yg(t){return new xt(Pt.INVALID_ARGUMENT,t)}function _C(){return new xt(Pt.APP_DELETED,"The Firebase app was deleted.")}function I5(t){return new xt(Pt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qu(t,e){return new xt(Pt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Lu(t){throw new xt(Pt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hr.makeFromUrl(e,n)}catch{return new hr(e,"")}if(r.path==="")return r;throw _5(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function y(Z){Z.path_=decodeURIComponent(Z.path)}const w="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",x=new RegExp(`^https?://${E}/${w}/b/${o}/o${b}`,"i"),L={bucket:1,path:3},M=n===wC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",W=new RegExp(`^https?://${M}/${o}/${D}`,"i"),q=[{regex:h,indices:p,postModify:a},{regex:x,indices:L,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let Z=0;Z<q.length;Z++){const X=q[Z],ne=X.regex.exec(e);if(ne){const R=ne[X.indices.bucket];let I=ne[X.indices.path];I||(I=""),r=new hr(R,I),X.postModify(r);break}}if(r==null)throw v5(e);return r}}class S5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t,e,n){let r=1,o=null,a=null,c=!1,h=0;function p(){return h===2}let y=!1;function w(...D){y||(y=!0,e.apply(null,D))}function E(D){o=setTimeout(()=>{o=null,t(x,p())},D)}function b(){a&&clearTimeout(a)}function x(D,...W){if(y){b();return}if(D){b(),w.call(null,D,...W);return}if(p()||c){b(),w.call(null,D,...W);return}r<64&&(r*=2);let q;h===1?(h=2,q=0):q=(r+Math.random())*1e3,E(q)}let L=!1;function M(D){L||(L=!0,b(),!y&&(o!==null?(D||(h=2),clearTimeout(o),E(0)):D||(h=1)))}return E(0),a=setTimeout(()=>{c=!0,M(!0)},n),M}function k5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t){return t!==void 0}function P5(t){return typeof t=="object"&&!Array.isArray(t)}function qy(t){return typeof t=="string"||t instanceof String}function cE(t){return Gy()&&t instanceof Blob}function Gy(){return typeof Blob<"u"}function dE(t,e,n,r){if(r<e)throw yg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function EC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var aa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(aa||(aa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n,r,o,a,c,h,p,y,w,E,b=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,M)=>{this.resolve_=L,this.reject_=M,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new qd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const p=h.loaded,y=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===aa.NO_ERROR,p=a.getStatus();if(!h||x5(p,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===aa.ABORT;r(!1,new qd(!1,null,w));return}const y=this.successCodes_.indexOf(p)!==-1;r(!0,new qd(y,a))})},n=(r,o)=>{const a=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());A5(p)?a(p):a()}catch(p){c(p)}else if(h!==null){const p=Wy();p.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,p)):c(p)}else if(o.canceled){const p=this.appDelete_?_C():w5();c(p)}else{const p=y5();c(p)}};this.canceled_?n(!1,new qd(!1,null,!0)):this.backoffId_=R5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&k5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function O5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function D5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function L5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function V5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function M5(t,e,n,r,o,a,c=!0,h=!1){const p=EC(t.urlParams),y=t.url+p,w=Object.assign({},t.headers);return L5(w,e),O5(w,n),D5(w,a),V5(w,r),new N5(y,t.method,w,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function j5(...t){const e=F5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Gy())return new Blob(t);throw new xt(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){if(typeof atob>"u")throw C5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Am{constructor(e,n){this.data=e,this.contentType=n||null}}function B5(t,e){switch(t){case Ei.RAW:return new Am(bC(e));case Ei.BASE64:case Ei.BASE64URL:return new Am(TC(t,e));case Ei.DATA_URL:return new Am(H5(e),W5(e))}throw Wy()}function bC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,c=t.charCodeAt(++n);r=65536|(a&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function z5(t){let e;try{e=decodeURIComponent(t)}catch{throw Qu(Ei.DATA_URL,"Malformed data URL.")}return bC(e)}function TC(t,e){switch(t){case Ei.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Qu(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ei.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Qu(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=U5(e)}catch(o){throw o.message.includes("polyfill")?o:Qu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class CC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Qu(Ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=q5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function H5(t){const e=new CC(t);return e.base64?TC(Ei.BASE64,e.rest):z5(e.rest)}function W5(t){return new CC(t).contentType}function q5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){let r=0,o="";cE(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(cE(this.data_)){const r=this.data_,o=$5(r,e,n);return o===null?null:new Zs(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Zs(r,!0)}}static getBlob(...e){if(Gy()){const n=e.map(r=>r instanceof Zs?r.data_:r);return new Zs(j5.apply(null,n))}else{const n=e.map(c=>qy(c)?B5(Ei.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const o=new Uint8Array(r);let a=0;return n.forEach(c=>{for(let h=0;h<c.length;h++)o[a++]=c[h]}),new Zs(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){let e;try{e=JSON.parse(t)}catch{return null}return P5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function K5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function SC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t,e){return e}class On{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||Q5}}let Gd=null;function Y5(t){return!qy(t)||t.length<2?t:SC(t)}function RC(){if(Gd)return Gd;const t=[];t.push(new On("bucket")),t.push(new On("generation")),t.push(new On("metageneration")),t.push(new On("name","fullPath",!0));function e(a,c){return Y5(c)}const n=new On("name");n.xform=e,t.push(n);function r(a,c){return c!==void 0?Number(c):c}const o=new On("size");return o.xform=r,t.push(o),t.push(new On("timeCreated")),t.push(new On("updated")),t.push(new On("md5Hash",null,!0)),t.push(new On("cacheControl",null,!0)),t.push(new On("contentDisposition",null,!0)),t.push(new On("contentEncoding",null,!0)),t.push(new On("contentLanguage",null,!0)),t.push(new On("contentType",null,!0)),t.push(new On("metadata","customMetadata",!0)),Gd=t,Gd}function X5(t,e){function n(){const r=t.bucket,o=t.fullPath,a=new hr(r,o);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function J5(t,e,n){const r={};r.type="file";const o=n.length;for(let a=0;a<o;a++){const c=n[a];r[c.local]=c.xform(r,e[c.server])}return X5(r,t),r}function kC(t,e,n){const r=IC(e);return r===null?null:J5(t,r,n)}function Z5(t,e,n,r){const o=IC(e);if(o===null||!qy(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(y=>{const w=t.bucket,E=t.fullPath,b="/b/"+c(w)+"/o/"+c(E),x=Ky(b,n,r),L=EC({alt:"media",token:y});return x+L})[0]}function eM(t,e){const n={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class AC{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){if(!t)throw Wy()}function tM(t,e){function n(r,o){const a=kC(t,o,e);return PC(a!==null),a}return n}function nM(t,e){function n(r,o){const a=kC(t,o,e);return PC(a!==null),Z5(a,o,t.host,t._protocol)}return n}function xC(t){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=m5():o=p5():n.getStatus()===402?o=f5(t.bucket):n.getStatus()===403?o=g5(t.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function rM(t){const e=xC(t);function n(r,o){let a=e(r,o);return r.getStatus()===404&&(a=h5(t.path)),a.serverResponse=o.serverResponse,a}return n}function iM(t,e,n){const r=e.fullServerUrl(),o=Ky(r,t.host,t._protocol),a="GET",c=t.maxOperationRetryTime,h=new AC(o,a,nM(t,n),c);return h.errorHandler=rM(e),h}function sM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function oM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=sM(null,e)),r}function aM(t,e,n,r,o){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let q="";for(let Z=0;Z<2;Z++)q=q+Math.random().toString().slice(2);return q}const p=h();c["Content-Type"]="multipart/related; boundary="+p;const y=oM(e,r,o),w=eM(y,n),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,b=`\r
--`+p+"--",x=Zs.getBlob(E,r,b);if(x===null)throw b5();const L={name:y.fullPath},M=Ky(a,t.host,t._protocol),D="POST",W=t.maxUploadRetryTime,z=new AC(M,D,tM(t,n),W);return z.urlParams=L,z.headers=c,z.body=x.uploadData(),z.errorHandler=xC(e),z}class lM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=aa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=aa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=aa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,a){if(this.sent_)throw Lu("cannot .send() more than once");if(wo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Lu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uM extends lM{initXhr(){this.xhr_.responseType="text"}}function NC(){return new uM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this._service=e,n instanceof hr?this._location=n:this._location=hr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ya(e,n)}get root(){const e=new hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SC(this._location.path)}get storage(){return this._service}get parent(){const e=G5(this._location.path);if(e===null)return null;const n=new hr(this._location.bucket,e);return new ya(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw I5(e)}}function cM(t,e,n){t._throwIfRoot("uploadBytes");const r=aM(t.storage,t._location,RC(),new Zs(e,!0),n);return t.storage.makeRequestWithTokens(r,NC).then(o=>({metadata:o,ref:t}))}function dM(t){t._throwIfRoot("getDownloadURL");const e=iM(t.storage,t._location,RC());return t.storage.makeRequestWithTokens(e,NC).then(n=>{if(n===null)throw T5();return n})}function hM(t,e){const n=K5(t._location.path,e),r=new hr(t._location.bucket,n);return new ya(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t){return/^[A-Za-z]+:\/\//.test(t)}function pM(t,e){return new ya(t,e)}function OC(t,e){if(t instanceof Qy){const n=t;if(n._bucket==null)throw E5();const r=new ya(n,n._bucket);return e!=null?OC(r,e):r}else return e!==void 0?hM(t,e):t}function mM(t,e){if(e&&fM(e)){if(t instanceof Qy)return pM(t,e);throw yg("To use ref(service, url), the first argument must be a Storage instance.")}else return OC(t,e)}function hE(t,e){const n=e?.[vC];return n==null?null:hr.makeFromBucketSpec(n,t)}function gM(t,e,n,r={}){t.host=`${e}:${n}`;const o=wo(e);o&&(kg(`https://${t.host}/b`),Ag("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:qE(a,t.app.options.projectId))}class Qy{constructor(e,n,r,o,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=wC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=c5,this._maxUploadRetryTime=d5,this._requests=new Set,o!=null?this._bucket=hr.makeFromBucketSpec(o,this._host):this._bucket=hE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hr.makeFromBucketSpec(this._url,e):this._bucket=hE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ya(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new S5(_C());{const c=M5(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const fE="@firebase/storage",pE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="storage";function yM(t,e,n){return t=Ct(t),cM(t,e,n)}function wM(t){return t=Ct(t),dM(t)}function vM(t,e){return t=Ct(t),mM(t,e)}function _M(t=Ng(),e){t=Ct(t);const r=tf(t,DC).getImmediate({identifier:e}),o=zE("storage");return o&&EM(r,...o),r}function EM(t,e,n,r={}){gM(t,e,n,r)}function bM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Qy(n,r,o,e,_a)}function TM(){ca(new co(DC,bM,"PUBLIC").setMultipleInstances(!0)),bi(fE,pE,""),bi(fE,pE,"esm2020")}TM();function Yy({usuario:t,openModal:e,setOpenModal:n}){const r=Ea(),o=Eo(),a=_M(),c=t?.fotoPerfil||_i,[h,p]=S.useState(!1),[y,w]=S.useState(!1),[E,b]=S.useState(c),[x,L]=S.useState(null),[M,D]=S.useState(t.nick),[W,z]=S.useState(t.correo),[q,Z]=S.useState(""),[X,ne]=S.useState(!1),[R,I]=S.useState(""),[k,A]=S.useState(""),O=S.useRef();S.useEffect(()=>{e&&(b(t.fotoPerfil),L(null),D(t.nick),z(t.correo),Z(""),I(t.nick),A(t.correo))},[e,t]),S.useEffect(()=>{const pe=M!==R||W!==k||q.length>0||x!==null;w(pe)},[M,W,q,x,R,k]);const F=pe=>{pe.target===O.current&&n(!1)},C=pe=>{if(!pe)return"";const _e=10,te=pe.indexOf(" ");let le;return te!==-1&&te<=_e?(le=te,pe.slice(0,le)+"..."):pe.length>_e?(le=_e-3,pe.slice(0,le)+"..."):pe},be=pe=>{const _e=pe.target.files[0];if(!_e)return;L(_e);const te=new FileReader;te.onloadend=()=>b(te.result),te.readAsDataURL(_e)},De=async()=>{try{ne(!0);const pe=r.currentUser;let _e=t.fotoPerfil;if(x)try{const le=x.name.split(".").pop()||"jpg";console.log("Subiendo archivo con extensin:",le);const ce=vM(a,`usuarios/${pe.uid}/perfil.${le}`);console.log("Referencia de Storage:",ce.fullPath),await yM(ce,x),console.log("Subida completada"),_e=await wM(ce),console.log("URL de descarga:",_e),await zm(pe,{photoURL:_e}),console.log("Perfil Auth actualizado")}catch(le){console.error("Error subiendo la foto:",le),alert("No se pudo subir la foto: "+le.message),ne(!1);return}M!==t.nick&&await zm(pe,{displayName:M}),q&&await cA(pe,q);const te=Dn(o,"usuarios",pe.uid);await ml(te,{fotoPerfil:_e,nick:M})}catch(pe){console.error("Error guardando perfil:",pe),alert("No se pudo guardar los cambios: "+pe.message)}finally{ne(!1),window.location.reload()}};return e?N.jsx("div",{className:"modal-overlay",ref:O,onClick:F,children:N.jsxs("div",{className:"modal-perfil",children:[N.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:""}),N.jsxs("div",{className:"modal-header",children:[N.jsxs("label",{className:"modal-avatar",children:[N.jsx("img",{src:E,alt:"Avatar"}),N.jsx("input",{type:"file",accept:"image/*",onChange:be})]}),N.jsxs("div",{className:"modal-userinfo",children:[N.jsx("h2",{children:window.innerWidth<450?C(t.nick):t.nick}),N.jsx("small",{children:t.correo})]})]}),N.jsx("hr",{}),N.jsxs("div",{className:"modal-body",children:[N.jsxs("div",{className:"field-group",children:[N.jsxs("label",{children:["Nick ",N.jsx("small",{children:"(Mx: 10 caracteres)"})]}),N.jsxs("div",{className:"field-with-icon",children:[N.jsx("input",{type:"text",value:M,onChange:pe=>D(pe.target.value),disabled:!h}),N.jsx("button",{className:"icon-pencil",onClick:()=>p(!h),title:"Editar nick",children:""})]})]}),N.jsxs("div",{className:"field-group",children:[N.jsx("label",{children:"Correo"}),N.jsx("input",{type:"email",value:W,onChange:pe=>z(pe.target.value),disabled:!0})]}),N.jsxs("div",{className:"field-group",children:[N.jsx("label",{children:"Nueva contrasea"}),N.jsx("input",{type:"password",placeholder:"",value:q,onChange:pe=>Z(pe.target.value)})]})]}),N.jsx("div",{className:"modal-footer",children:y&&N.jsx("button",{className:"modal-save-btn",onClick:De,disabled:X,children:X?"Guardando":"Guardar cambios"})})]})}):null}const Jo=Eo(pr),CM=Ea(pr);function IM({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,c]=S.useState(!1),h=t?.fotoPerfil||_i,p=t?.equipo?.titulares||[];t?.equipo?.banquillo;const[y,w]=S.useState([]),E=t?.equipo?.capitan||"",b=Object.keys(gg),[x,L]=S.useState(t?.equipo?.formacion||"2-1-1"),[M,D]=S.useState(x),[W,z]=S.useState(!1),[q,Z]=S.useState(t?.equipocreado),[X,ne]=S.useState(!1),R=C=>{D(C.target.value)},I=async()=>{try{z(!0);const C=Dn(Jo,"usuarios",t.uid);await ml(C,{"equipo.formacion":M}),L(M)}catch(C){console.error("Error al guardar formacin:",C)}finally{z(!1)}},k=()=>{c(!a)},A=C=>C>=1e6?(C/1e6).toFixed(2)+"M":C>=1e3?(C/1e3).toFixed(2)+"K":C.toFixed(2),O=C=>{if(!C)return"";const be=10,De=C.indexOf(" ");let pe;return De!==-1&&De<=be?(pe=De,C.slice(0,pe)+"..."):C.length>be?(pe=be-3,C.slice(0,pe)+"..."):C},F=async()=>{try{z(!0);const C=await cg(lg(Jo,"jugadores"));let be=[];if(C.forEach(te=>{const le=te.data();le.stockLibre>0&&be.push({id:te.id,...le})}),console.log(be.length),be.length<4){alert("No hay suficientes jugadores disponibles"),z(!1);return}let De=[];for(let te=0;te<4;te++){const le=Math.floor(Math.random()*be.length);De.push(be[le]),be.splice(le,1)}const pe=De.map(async te=>{const le=Dn(Jo,"jugadores",te.id);return ml(le,{stockLibre:te.stockLibre-1,dueos:BN(t.uid)})});await Promise.all(pe);const _e=Dn(Jo,"usuarios",t.uid);await ml(_e,{"equipo.titulares":De.map(te=>te.id),equipocreado:!0}),Z(!0)}catch(C){console.error("Error al crear equipo:",C)}finally{z(!1)}};return S.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const be=setTimeout(async()=>{try{const De=Dn(Jo,"usuarios",CM.currentUser.uid);await ml(De,{onboarding:!0}),window.location.reload()}catch(De){console.error("Error actualizando onboarding:",De)}},500);return()=>clearTimeout(be)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const be=Dn(Jo,"usuarios",t.uid);ao(be).then(De=>{De.exists()&&o(De.data().dinero)})}(async()=>{if(!p||p.length===0)return;const be=lg(Jo,"jugadores"),De=VN(be,MN("__name__","in",p)),_e=(await cg(De)).docs.map(te=>({id:te.id,...te.data()}));w(_e)})()},[t],[p]),q?N.jsxs("div",{children:[N.jsxs("header",{className:"Cabecera",children:[N.jsxs("div",{className:"container-profile",children:[N.jsx("div",{className:"img-profile-small",children:N.jsx("img",{src:h,onError:C=>{C.currentTarget.onerror=null,C.currentTarget.src=_i},onClick:()=>ne(!0),alt:"Foto de perfil"})}),N.jsxs("div",{className:"info-profile",children:[N.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&N.jsxs("p",{className:"dinero-usuario",children:["",N.jsx("strong",{children:A(r)})]})]})]}),N.jsx("button",{onClick:k,className:"Cabecera-button",children:N.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:N.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),N.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:N.jsxs("ul",{className:"Cabecera-ul",children:[N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})})]})})]}),N.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ol})`},children:[N.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),X&&N.jsx(Yy,{usuario:t,openModal:X,setOpenModal:ne}),N.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[N.jsxs("div",{className:"formacion-selector",children:[N.jsx("label",{htmlFor:"formacion-select",children:"Formacin:"}),N.jsx("select",{id:"formacion-select",value:M,onChange:R,children:b.map(C=>N.jsx("option",{value:C,children:C},C))}),M!==x&&N.jsx("button",{onClick:I,disabled:W,children:W?"Guardando...":"Guardar cambios"})]}),N.jsx("div",{className:"campo",children:gg[M]?.map((C,be)=>{const De=p[be],pe=y.find(_e=>_e.id===De);return N.jsxs("div",{className:"jugador",style:{position:"absolute",top:C.top,left:C.left,transform:"translate(-50%, -50%)"},children:[N.jsxs("div",{className:"jugador-wrapper",children:[N.jsx("img",{src:pe?.foto||_i,alt:pe?.nombre||"Vaco",className:"jugador-img"}),E===pe?.id&&N.jsx("div",{className:"capitan-badge",children:"C"})]}),N.jsx("p",{className:"jugador-nombre",children:pe?.nombre||"Vaco"})]},pe?.id||be)})})]})]}),e&&N.jsx("div",{className:"onboarding-overlay",children:N.jsx("div",{className:"loader",children:"Cargando..."})})]}):N.jsxs("div",{children:[N.jsxs("header",{className:"Cabecera",children:[N.jsxs("div",{className:"container-profile",children:[N.jsx("div",{className:"img-profile-small",children:N.jsx("img",{src:h,onError:C=>{C.currentTarget.onerror=null,C.currentTarget.src=_i},alt:"Foto de perfil"})}),N.jsxs("div",{className:"info-profile",children:[N.jsx("h2",{className:"nombre-usuario",children:O(t?.nick||t?.displayName)}),r!==null&&N.jsxs("p",{className:"dinero-usuario",children:["",N.jsx("strong",{children:A(r)})]})]})]}),N.jsx("button",{onClick:k,className:"Cabecera-button",children:N.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:N.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),N.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:N.jsxs("ul",{className:"Cabecera-ul",children:[N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})})]})})]}),N.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ol})`},children:[N.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),N.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:N.jsx("div",{className:"campo",children:N.jsx("button",{className:"crear-equipo-btn",onClick:F,disabled:W,children:W?"Creando equipo...":"Crear equipo"})})})]}),e&&N.jsx("div",{className:"onboarding-overlay",children:N.jsx("div",{className:"loader",children:"Cargando..."})})]})}const Yu="/Fantasy-Casadillos/assets/SinPerfil-HNB6URqh.jpg",SM=Eo(pr);Ea(pr);function RM({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,c]=S.useState(!1),h=t?.fotoPerfil||Yu,p=()=>{c(!a)},y=E=>E>=1e6?(E/1e6).toFixed(2)+"M":E>=1e3?(E/1e3).toFixed(2)+"K":E.toFixed(2),w=E=>{if(!E)return"";const b=12,x=E.indexOf(" ");let L;return x!==-1&&x<=b?(L=x,E.slice(0,L)):E.length>b?(L=b-3,E.slice(0,L)+"..."):E};return S.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const E=Dn(SM,"usuarios",t.uid);ao(E).then(b=>{b.exists()&&o(b.data().dinero)})}},[t]),N.jsxs("div",{children:[N.jsxs("header",{className:"Cabecera",children:[N.jsxs("div",{className:"container-profile",children:[N.jsx("div",{className:"img-profile-small",children:N.jsx("img",{src:h,onError:E=>{E.currentTarget.onerror=null,E.currentTarget.src=Yu},alt:"Foto de perfil"})}),N.jsxs("div",{className:"info-profile",children:[N.jsx("h2",{className:"nombre-usuario",children:w(t?.nick||t?.displayName)}),r!==null&&N.jsxs("p",{className:"dinero-usuario",children:["",N.jsx("strong",{children:y(r)})]})]})]}),N.jsx("button",{onClick:p,className:"Cabecera-button",children:N.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:N.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),N.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:N.jsxs("ul",{className:"Cabecera-ul",children:[N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})})]})})]}),N.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ol})`},children:[N.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),N.jsx("div",{className:"form-card-Home",style:{textAlign:"center",position:"relative",zIndex:1}})]}),N.jsxs("div",{className:"contenido-negro",children:[N.jsx("h2",{children:"Contenido debajo del fondo"}),N.jsx("p",{children:"Aqu puedes seguir aadiendo secciones."})]})]})}var In=function(){return In=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},In.apply(this,arguments)};function Kh(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var ht="-ms-",Xu="-moz-",tt="-webkit-",LC="comm",xf="rule",Xy="decl",kM="@import",VC="@keyframes",AM="@layer",MC=Math.abs,Jy=String.fromCharCode,wg=Object.assign;function PM(t,e){return on(t,0)^45?(((e<<2^on(t,0))<<2^on(t,1))<<2^on(t,2))<<2^on(t,3):0}function FC(t){return t.trim()}function ts(t,e){return(t=e.exec(t))?t[0]:t}function je(t,e,n){return t.replace(e,n)}function dh(t,e,n){return t.indexOf(e,n)}function on(t,e){return t.charCodeAt(e)|0}function Dl(t,e,n){return t.slice(e,n)}function vi(t){return t.length}function jC(t){return t.length}function Bu(t,e){return e.push(t),t}function xM(t,e){return t.map(e).join("")}function mE(t,e){return t.filter(function(n){return!ts(n,e)})}var Nf=1,Ll=1,$C=0,Lr=0,Ht=0,Zl="";function Of(t,e,n,r,o,a,c,h){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:Nf,column:Ll,length:c,return:"",siblings:h}}function Ks(t,e){return wg(Of("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function cl(t){for(;t.root;)t=Ks(t.root,{children:[t]});Bu(t,t.siblings)}function NM(){return Ht}function OM(){return Ht=Lr>0?on(Zl,--Lr):0,Ll--,Ht===10&&(Ll=1,Nf--),Ht}function Yr(){return Ht=Lr<$C?on(Zl,Lr++):0,Ll++,Ht===10&&(Ll=1,Nf++),Ht}function la(){return on(Zl,Lr)}function hh(){return Lr}function Df(t,e){return Dl(Zl,t,e)}function vg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DM(t){return Nf=Ll=1,$C=vi(Zl=t),Lr=0,[]}function LM(t){return Zl="",t}function Pm(t){return FC(Df(Lr-1,_g(t===91?t+2:t===40?t+1:t)))}function VM(t){for(;(Ht=la())&&Ht<33;)Yr();return vg(t)>2||vg(Ht)>3?"":" "}function MM(t,e){for(;--e&&Yr()&&!(Ht<48||Ht>102||Ht>57&&Ht<65||Ht>70&&Ht<97););return Df(t,hh()+(e<6&&la()==32&&Yr()==32))}function _g(t){for(;Yr();)switch(Ht){case t:return Lr;case 34:case 39:t!==34&&t!==39&&_g(Ht);break;case 40:t===41&&_g(t);break;case 92:Yr();break}return Lr}function FM(t,e){for(;Yr()&&t+Ht!==57;)if(t+Ht===84&&la()===47)break;return"/*"+Df(e,Lr-1)+"*"+Jy(t===47?t:Yr())}function jM(t){for(;!vg(la());)Yr();return Df(t,Lr)}function $M(t){return LM(fh("",null,null,null,[""],t=DM(t),0,[0],t))}function fh(t,e,n,r,o,a,c,h,p){for(var y=0,w=0,E=c,b=0,x=0,L=0,M=1,D=1,W=1,z=0,q="",Z=o,X=a,ne=r,R=q;D;)switch(L=z,z=Yr()){case 40:if(L!=108&&on(R,E-1)==58){dh(R+=je(Pm(z),"&","&\f"),"&\f",MC(y?h[y-1]:0))!=-1&&(W=-1);break}case 34:case 39:case 91:R+=Pm(z);break;case 9:case 10:case 13:case 32:R+=VM(L);break;case 92:R+=MM(hh()-1,7);continue;case 47:switch(la()){case 42:case 47:Bu(UM(FM(Yr(),hh()),e,n,p),p);break;default:R+="/"}break;case 123*M:h[y++]=vi(R)*W;case 125*M:case 59:case 0:switch(z){case 0:case 125:D=0;case 59+w:W==-1&&(R=je(R,/\f/g,"")),x>0&&vi(R)-E&&Bu(x>32?yE(R+";",r,n,E-1,p):yE(je(R," ","")+";",r,n,E-2,p),p);break;case 59:R+=";";default:if(Bu(ne=gE(R,e,n,y,w,o,h,q,Z=[],X=[],E,a),a),z===123)if(w===0)fh(R,e,ne,ne,Z,a,E,h,X);else switch(b===99&&on(R,3)===110?100:b){case 100:case 108:case 109:case 115:fh(t,ne,ne,r&&Bu(gE(t,ne,ne,0,0,o,h,q,o,Z=[],E,X),X),o,X,E,h,r?Z:X);break;default:fh(R,ne,ne,ne,[""],X,0,h,X)}}y=w=x=0,M=W=1,q=R="",E=c;break;case 58:E=1+vi(R),x=L;default:if(M<1){if(z==123)--M;else if(z==125&&M++==0&&OM()==125)continue}switch(R+=Jy(z),z*M){case 38:W=w>0?1:(R+="\f",-1);break;case 44:h[y++]=(vi(R)-1)*W,W=1;break;case 64:la()===45&&(R+=Pm(Yr())),b=la(),w=E=vi(q=R+=jM(hh())),z++;break;case 45:L===45&&vi(R)==2&&(M=0)}}return a}function gE(t,e,n,r,o,a,c,h,p,y,w,E){for(var b=o-1,x=o===0?a:[""],L=jC(x),M=0,D=0,W=0;M<r;++M)for(var z=0,q=Dl(t,b+1,b=MC(D=c[M])),Z=t;z<L;++z)(Z=FC(D>0?x[z]+" "+q:je(q,/&\f/g,x[z])))&&(p[W++]=Z);return Of(t,e,n,o===0?xf:h,p,y,w,E)}function UM(t,e,n,r){return Of(t,e,n,LC,Jy(NM()),Dl(t,2,-2),0,r)}function yE(t,e,n,r,o){return Of(t,e,n,Xy,Dl(t,0,r),Dl(t,r+1,-1),r,o)}function UC(t,e,n){switch(PM(t,e)){case 5103:return tt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+t+t;case 4789:return Xu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+t+Xu+t+ht+t+t;case 5936:switch(on(t,e+11)){case 114:return tt+t+ht+je(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return tt+t+ht+je(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return tt+t+ht+je(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return tt+t+ht+t+t;case 6165:return tt+t+ht+"flex-"+t+t;case 5187:return tt+t+je(t,/(\w+).+(:[^]+)/,tt+"box-$1$2"+ht+"flex-$1$2")+t;case 5443:return tt+t+ht+"flex-item-"+je(t,/flex-|-self/g,"")+(ts(t,/flex-|baseline/)?"":ht+"grid-row-"+je(t,/flex-|-self/g,""))+t;case 4675:return tt+t+ht+"flex-line-pack"+je(t,/align-content|flex-|-self/g,"")+t;case 5548:return tt+t+ht+je(t,"shrink","negative")+t;case 5292:return tt+t+ht+je(t,"basis","preferred-size")+t;case 6060:return tt+"box-"+je(t,"-grow","")+tt+t+ht+je(t,"grow","positive")+t;case 4554:return tt+je(t,/([^-])(transform)/g,"$1"+tt+"$2")+t;case 6187:return je(je(je(t,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),t,"")+t;case 5495:case 3959:return je(t,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return je(je(t,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+ht+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+t+t;case 4200:if(!ts(t,/flex-|baseline/))return ht+"grid-column-align"+Dl(t,e)+t;break;case 2592:case 3360:return ht+je(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,ts(r.props,/grid-\w+-end/)})?~dh(t+(n=n[e].value),"span",0)?t:ht+je(t,"-start","")+t+ht+"grid-row-span:"+(~dh(n,"span",0)?ts(n,/\d+/):+ts(n,/\d+/)-+ts(t,/\d+/))+";":ht+je(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ts(r.props,/grid-\w+-start/)})?t:ht+je(je(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return je(t,/(.+)-inline(.+)/,tt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vi(t)-1-e>6)switch(on(t,e+1)){case 109:if(on(t,e+4)!==45)break;case 102:return je(t,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+Xu+(on(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~dh(t,"stretch",0)?UC(je(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return je(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,a,c,h,p,y){return ht+o+":"+a+y+(c?ht+o+"-span:"+(h?p:+p-+a)+y:"")+t});case 4949:if(on(t,e+6)===121)return je(t,":",":"+tt)+t;break;case 6444:switch(on(t,on(t,14)===45?18:11)){case 120:return je(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+tt+(on(t,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+ht+"$2box$3")+t;case 100:return je(t,":",":"+ht)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return je(t,"scroll-","scroll-snap-")+t}return t}function Qh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function BM(t,e,n,r){switch(t.type){case AM:if(t.children.length)break;case kM:case Xy:return t.return=t.return||t.value;case LC:return"";case VC:return t.return=t.value+"{"+Qh(t.children,r)+"}";case xf:if(!vi(t.value=t.props.join(",")))return""}return vi(n=Qh(t.children,r))?t.return=t.value+"{"+n+"}":""}function zM(t){var e=jC(t);return function(n,r,o,a){for(var c="",h=0;h<e;h++)c+=t[h](n,r,o,a)||"";return c}}function HM(t){return function(e){e.root||(e=e.return)&&t(e)}}function WM(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Xy:t.return=UC(t.value,t.length,n);return;case VC:return Qh([Ks(t,{value:je(t.value,"@","@"+tt)})],r);case xf:if(t.length)return xM(n=t.props,function(o){switch(ts(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":cl(Ks(t,{props:[je(o,/:(read-\w+)/,":"+Xu+"$1")]})),cl(Ks(t,{props:[o]})),wg(t,{props:mE(n,r)});break;case"::placeholder":cl(Ks(t,{props:[je(o,/:(plac\w+)/,":"+tt+"input-$1")]})),cl(Ks(t,{props:[je(o,/:(plac\w+)/,":"+Xu+"$1")]})),cl(Ks(t,{props:[je(o,/:(plac\w+)/,ht+"input-$1")]})),cl(Ks(t,{props:[o]})),wg(t,{props:mE(n,r)});break}return""})}}var qM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cr={},Vl=typeof process<"u"&&cr!==void 0&&(cr.REACT_APP_SC_ATTR||cr.SC_ATTR)||"data-styled",BC="active",zC="data-styled-version",Lf="6.1.19",Zy=`/*!sc*/
`,Yh=typeof window<"u"&&typeof document<"u",GM=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&cr!==void 0&&cr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&cr.REACT_APP_SC_DISABLE_SPEEDY!==""?cr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&cr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&cr!==void 0&&cr.SC_DISABLE_SPEEDY!==void 0&&cr.SC_DISABLE_SPEEDY!==""&&cr.SC_DISABLE_SPEEDY!=="false"&&cr.SC_DISABLE_SPEEDY),Vf=Object.freeze([]),Ml=Object.freeze({});function KM(t,e,n){return n===void 0&&(n=Ml),t.theme!==n.theme&&t.theme||e||n.theme}var HC=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),QM=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,YM=/(^-|-$)/g;function wE(t){return t.replace(QM,"-").replace(YM,"")}var XM=/(a)(d)/gi,Kd=52,vE=function(t){return String.fromCharCode(t+(t>25?39:97))};function Eg(t){var e,n="";for(e=Math.abs(t);e>Kd;e=e/Kd|0)n=vE(e%Kd)+n;return(vE(e%Kd)+n).replace(XM,"$1-$2")}var xm,WC=5381,gl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},qC=function(t){return gl(WC,t)};function JM(t){return Eg(qC(t)>>>0)}function ZM(t){return t.displayName||t.name||"Component"}function Nm(t){return typeof t=="string"&&!0}var GC=typeof Symbol=="function"&&Symbol.for,KC=GC?Symbol.for("react.memo"):60115,e4=GC?Symbol.for("react.forward_ref"):60112,t4={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n4={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},QC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r4=((xm={})[e4]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xm[KC]=QC,xm);function _E(t){return("type"in(e=t)&&e.type.$$typeof)===KC?QC:"$$typeof"in t?r4[t.$$typeof]:t4;var e}var i4=Object.defineProperty,s4=Object.getOwnPropertyNames,EE=Object.getOwnPropertySymbols,o4=Object.getOwnPropertyDescriptor,a4=Object.getPrototypeOf,bE=Object.prototype;function YC(t,e,n){if(typeof e!="string"){if(bE){var r=a4(e);r&&r!==bE&&YC(t,r,n)}var o=s4(e);EE&&(o=o.concat(EE(e)));for(var a=_E(t),c=_E(e),h=0;h<o.length;++h){var p=o[h];if(!(p in n4||n&&n[p]||c&&p in c||a&&p in a)){var y=o4(e,p);try{i4(t,p,y)}catch{}}}}return t}function wa(t){return typeof t=="function"}function ew(t){return typeof t=="object"&&"styledComponentId"in t}function ia(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function TE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function lc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function bg(t,e,n){if(n===void 0&&(n=!1),!n&&!lc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=bg(t[r],e[r]);else if(lc(e))for(var r in e)t[r]=bg(t[r],e[r]);return t}function tw(t,e){Object.defineProperty(t,"toString",{value:e})}function va(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var l4=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,a=o;e>=a;)if((a<<=1)<0)throw va(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var c=o;c<a;c++)this.groupSizes[c]=0}for(var h=this.indexOfGroup(e+1),p=(c=0,n.length);c<p;c++)this.tag.insertRule(h,n[c])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var a=r;a<o;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),a=o+r,c=o;c<a;c++)n+="".concat(this.tag.getRule(c)).concat(Zy);return n},t})(),ph=new Map,Xh=new Map,mh=1,Qd=function(t){if(ph.has(t))return ph.get(t);for(;Xh.has(mh);)mh++;var e=mh++;return ph.set(t,e),Xh.set(e,t),e},u4=function(t,e){mh=e+1,ph.set(t,e),Xh.set(e,t)},c4="style[".concat(Vl,"][").concat(zC,'="').concat(Lf,'"]'),d4=new RegExp("^".concat(Vl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),h4=function(t,e,n){for(var r,o=n.split(","),a=0,c=o.length;a<c;a++)(r=o[a])&&t.registerName(e,r)},f4=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Zy),o=[],a=0,c=r.length;a<c;a++){var h=r[a].trim();if(h){var p=h.match(d4);if(p){var y=0|parseInt(p[1],10),w=p[2];y!==0&&(u4(w,y),h4(t,w,p[3]),t.getTag().insertRules(y,o)),o.length=0}else o.push(h)}}},CE=function(t){for(var e=document.querySelectorAll(c4),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute(Vl)!==BC&&(f4(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function p4(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var XC=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=(function(h){var p=Array.from(h.querySelectorAll("style[".concat(Vl,"]")));return p[p.length-1]})(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(Vl,BC),r.setAttribute(zC,Lf);var c=p4();return c&&r.setAttribute("nonce",c),n.insertBefore(r,a),r},m4=(function(){function t(e){this.element=XC(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,a=r.length;o<a;o++){var c=r[o];if(c.ownerNode===n)return c}throw va(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),g4=(function(){function t(e){this.element=XC(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),y4=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),IE=Yh,w4={isServer:!Yh,useCSSOMInjection:!GM},JC=(function(){function t(e,n,r){e===void 0&&(e=Ml),n===void 0&&(n={});var o=this;this.options=In(In({},w4),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Yh&&IE&&(IE=!1,CE(this)),tw(this,function(){return(function(a){for(var c=a.getTag(),h=c.length,p="",y=function(E){var b=(function(W){return Xh.get(W)})(E);if(b===void 0)return"continue";var x=a.names.get(b),L=c.getGroup(E);if(x===void 0||!x.size||L.length===0)return"continue";var M="".concat(Vl,".g").concat(E,'[id="').concat(b,'"]'),D="";x!==void 0&&x.forEach(function(W){W.length>0&&(D+="".concat(W,","))}),p+="".concat(L).concat(M,'{content:"').concat(D,'"}').concat(Zy)},w=0;w<h;w++)y(w);return p})(o)})}return t.registerId=function(e){return Qd(e)},t.prototype.rehydrate=function(){!this.server&&Yh&&CE(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(In(In({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new y4(o):r?new m4(o):new g4(o)})(this.options),new l4(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Qd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Qd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Qd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),v4=/&/g,_4=/^\s*\/\/.*$/gm;function ZC(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=ZC(n.children,e)),n})}function E4(t){var e,n,r,o=Ml,a=o.options,c=a===void 0?Ml:a,h=o.plugins,p=h===void 0?Vf:h,y=function(b,x,L){return L.startsWith(n)&&L.endsWith(n)&&L.replaceAll(n,"").length>0?".".concat(e):b},w=p.slice();w.push(function(b){b.type===xf&&b.value.includes("&")&&(b.props[0]=b.props[0].replace(v4,n).replace(r,y))}),c.prefix&&w.push(WM),w.push(BM);var E=function(b,x,L,M){x===void 0&&(x=""),L===void 0&&(L=""),M===void 0&&(M="&"),e=M,n=x,r=new RegExp("\\".concat(n,"\\b"),"g");var D=b.replace(_4,""),W=$M(L||x?"".concat(L," ").concat(x," { ").concat(D," }"):D);c.namespace&&(W=ZC(W,c.namespace));var z=[];return Qh(W,zM(w.concat(HM(function(q){return z.push(q)})))),z};return E.hash=p.length?p.reduce(function(b,x){return x.name||va(15),gl(b,x.name)},WC).toString():"",E}var b4=new JC,Tg=E4(),eI=Ue.createContext({shouldForwardProp:void 0,styleSheet:b4,stylis:Tg});eI.Consumer;Ue.createContext(void 0);function SE(){return S.useContext(eI)}var T4=(function(){function t(e,n){var r=this;this.inject=function(o,a){a===void 0&&(a=Tg);var c=r.name+a.hash;o.hasNameForId(r.id,c)||o.insertRules(r.id,c,a(r.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,tw(this,function(){throw va(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Tg),this.name+e.hash},t})(),C4=function(t){return t>="A"&&t<="Z"};function RE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;C4(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var tI=function(t){return t==null||t===!1||t===""},nI=function(t){var e,n,r=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!tI(a)&&(Array.isArray(a)&&a.isCss||wa(a)?r.push("".concat(RE(o),":"),a,";"):lc(a)?r.push.apply(r,Kh(Kh(["".concat(o," {")],nI(a),!1),["}"],!1)):r.push("".concat(RE(o),": ").concat((e=o,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in qM||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ua(t,e,n,r){if(tI(t))return[];if(ew(t))return[".".concat(t.styledComponentId)];if(wa(t)){if(!wa(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var o=t(e);return ua(o,e,n,r)}var a;return t instanceof T4?n?(t.inject(n,r),[t.getName(r)]):[t]:lc(t)?nI(t):Array.isArray(t)?Array.prototype.concat.apply(Vf,t.map(function(c){return ua(c,e,n,r)})):[t.toString()]}function I4(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(wa(n)&&!ew(n))return!1}return!0}var S4=qC(Lf),R4=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&I4(e),this.componentId=n,this.baseHash=gl(S4,n),this.baseStyle=r,JC.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=ia(o,this.staticRulesId);else{var a=TE(ua(this.rules,e,n,r)),c=Eg(gl(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,c)){var h=r(a,".".concat(c),void 0,this.componentId);n.insertRules(this.componentId,c,h)}o=ia(o,c),this.staticRulesId=c}else{for(var p=gl(this.baseHash,r.hash),y="",w=0;w<this.rules.length;w++){var E=this.rules[w];if(typeof E=="string")y+=E;else if(E){var b=TE(ua(E,e,n,r));p=gl(p,b+w),y+=b}}if(y){var x=Eg(p>>>0);n.hasNameForId(this.componentId,x)||n.insertRules(this.componentId,x,r(y,".".concat(x),void 0,this.componentId)),o=ia(o,x)}}return o},t})(),Jh=Ue.createContext(void 0);Jh.Consumer;function k4(t){var e=Ue.useContext(Jh),n=S.useMemo(function(){return(function(r,o){if(!r)throw va(14);if(wa(r)){var a=r(o);return a}if(Array.isArray(r)||typeof r!="object")throw va(8);return o?In(In({},o),r):r})(t.theme,e)},[t.theme,e]);return t.children?Ue.createElement(Jh.Provider,{value:n},t.children):null}var Om={};function A4(t,e,n){var r=ew(t),o=t,a=!Nm(t),c=e.attrs,h=c===void 0?Vf:c,p=e.componentId,y=p===void 0?(function(Z,X){var ne=typeof Z!="string"?"sc":wE(Z);Om[ne]=(Om[ne]||0)+1;var R="".concat(ne,"-").concat(JM(Lf+ne+Om[ne]));return X?"".concat(X,"-").concat(R):R})(e.displayName,e.parentComponentId):p,w=e.displayName,E=w===void 0?(function(Z){return Nm(Z)?"styled.".concat(Z):"Styled(".concat(ZM(Z),")")})(t):w,b=e.displayName&&e.componentId?"".concat(wE(e.displayName),"-").concat(e.componentId):e.componentId||y,x=r&&o.attrs?o.attrs.concat(h).filter(Boolean):h,L=e.shouldForwardProp;if(r&&o.shouldForwardProp){var M=o.shouldForwardProp;if(e.shouldForwardProp){var D=e.shouldForwardProp;L=function(Z,X){return M(Z,X)&&D(Z,X)}}else L=M}var W=new R4(n,b,r?o.componentStyle:void 0);function z(Z,X){return(function(ne,R,I){var k=ne.attrs,A=ne.componentStyle,O=ne.defaultProps,F=ne.foldedComponentIds,C=ne.styledComponentId,be=ne.target,De=Ue.useContext(Jh),pe=SE(),_e=ne.shouldForwardProp||pe.shouldForwardProp,te=KM(R,De,O)||Ml,le=(function(xe,Ne,Fe){for(var Me,$e=In(In({},Ne),{className:void 0,theme:Fe}),ot=0;ot<xe.length;ot+=1){var _t=wa(Me=xe[ot])?Me($e):Me;for(var Et in _t)$e[Et]=Et==="className"?ia($e[Et],_t[Et]):Et==="style"?In(In({},$e[Et]),_t[Et]):_t[Et]}return Ne.className&&($e.className=ia($e.className,Ne.className)),$e})(k,R,te),ce=le.as||be,$={};for(var Y in le)le[Y]===void 0||Y[0]==="$"||Y==="as"||Y==="theme"&&le.theme===te||(Y==="forwardedAs"?$.as=le.forwardedAs:_e&&!_e(Y,ce)||($[Y]=le[Y]));var ge=(function(xe,Ne){var Fe=SE(),Me=xe.generateAndInjectStyles(Ne,Fe.styleSheet,Fe.stylis);return Me})(A,le),Te=ia(F,C);return ge&&(Te+=" "+ge),le.className&&(Te+=" "+le.className),$[Nm(ce)&&!HC.has(ce)?"class":"className"]=Te,I&&($.ref=I),S.createElement(ce,$)})(q,Z,X)}z.displayName=E;var q=Ue.forwardRef(z);return q.attrs=x,q.componentStyle=W,q.displayName=E,q.shouldForwardProp=L,q.foldedComponentIds=r?ia(o.foldedComponentIds,o.styledComponentId):"",q.styledComponentId=b,q.target=r?o.target:t,Object.defineProperty(q,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Z){this._foldedDefaultProps=r?(function(X){for(var ne=[],R=1;R<arguments.length;R++)ne[R-1]=arguments[R];for(var I=0,k=ne;I<k.length;I++)bg(X,k[I],!0);return X})({},o.defaultProps,Z):Z}}),tw(q,function(){return".".concat(q.styledComponentId)}),a&&YC(q,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),q}function kE(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var AE=function(t){return Object.assign(t,{isCss:!0})};function Zt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wa(t)||lc(t))return AE(ua(kE(Vf,Kh([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ua(r):AE(ua(kE(r,e)))}function Cg(t,e,n){if(n===void 0&&(n=Ml),!e)throw va(1,e);var r=function(o){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];return t(e,n,Zt.apply(void 0,Kh([o],a,!1)))};return r.attrs=function(o){return Cg(t,e,In(In({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Cg(t,e,In(In({},n),o))},r}var rI=function(t){return Cg(A4,t)},He=rI;HC.forEach(function(t){He[t]=rI(t)});var lo;function Fl(t,e){return t[e]}function P4(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function x4(t=[],e,n="id"){const r=t.slice(),o=Fl(e,n);return o?r.splice(r.findIndex((a=>Fl(a,n)===o)),1):r.splice(r.findIndex((a=>a===e)),1),r}function PE(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function Ju(t,e){return Math.ceil(t/e)}function Dm(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(lo||(lo={}));const Xt=()=>null;function iI(t,e=[],n=[]){let r={},o=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(o=[...o,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:o.join(" ")}}function gh(t,e=[],n="id"){const r=Fl(t,n);return r?e.some((o=>Fl(o,n)===r)):e.some((o=>o===t))}function Yd(t,e){return e?t.findIndex((n=>Zu(n.id,e))):-1}function Zu(t,e){return t==e}function N4(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:o,rowCount:a,mergeSelections:c}=e,h=!t.allSelected,p=!t.toggleOnSelectedRowsChange;if(c){const y=h?[...t.selectedRows,...o.filter((w=>!gh(w,t.selectedRows,r)))]:t.selectedRows.filter((w=>!gh(w,o,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:y.length,selectedRows:y,toggleOnSelectedRowsChange:p})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?o:[],toggleOnSelectedRowsChange:p})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:o,isSelected:a,rowCount:c,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[o],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:x4(t.selectedRows,o,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===c,selectedRows:P4(t.selectedRows,o),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:o,totalRows:a,mergeSelections:c}=e;if(c){const h=[...t.selectedRows,...o.filter((p=>!gh(p,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:o.length,allSelected:o.length===a,selectedRows:o,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:o,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:o,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:o,visibleOnly:a,persistSelectedOnPageChange:c}=e,h=o&&c,p=o&&!c||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),p&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:o}=e;return Object.assign(Object.assign({},t),{currentPage:o,rowsPerPage:r})}}}const O4=Zt`
	pointer-events: none;
	opacity: 0.4;
`,D4=He.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&O4};
	${({theme:t})=>t.table.style};
`,L4=Zt`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,V4=He.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&L4};
	${({theme:t})=>t.head.style};
`,M4=He.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,sI=(t,...e)=>Zt`
		@media screen and (max-width: ${599}px) {
			${Zt(t,...e)}
		}
	`,F4=(t,...e)=>Zt`
		@media screen and (max-width: ${959}px) {
			${Zt(t,...e)}
		}
	`,j4=(t,...e)=>Zt`
		@media screen and (max-width: ${1280}px) {
			${Zt(t,...e)}
		}
	`,$4=t=>(e,...n)=>Zt`
			@media screen and (max-width: ${t}px) {
				${Zt(e,...n)}
			}
		`,eu=He.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,oI=He(eu)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&Zt`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&sI`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&F4`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&j4`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&$4(t)`
    display: none;
  `};
`,U4=Zt`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,B4=He(oI).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&U4};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var z4=S.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:o,isDragging:a,onDragStart:c,onDragOver:h,onDragEnd:p,onDragEnter:y,onDragLeave:w}){const{conditionalStyle:E,classNames:b}=iI(n,e.conditionalCellStyles,["rdt_TableCell"]);return S.createElement(B4,{id:t,"data-column-id":e.id,role:"cell",className:b,"data-tag":o,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:E,$isDragging:a,onDragStart:c,onDragOver:h,onDragEnd:p,onDragEnter:y,onDragLeave:w},!e.cell&&S.createElement("div",{"data-tag":o},(function(x,L,M,D){return L?M&&typeof M=="function"?M(x,D):L(x,D):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const xE="input";var aI=S.memo((function({name:t,component:e=xE,componentOptions:n={style:{}},indeterminate:r=!1,checked:o=!1,disabled:a=!1,onClick:c=Xt}){const h=e,p=h!==xE?n.style:(w=>Object.assign(Object.assign({fontSize:"18px"},!w&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),y=S.useMemo((()=>(function(w,...E){let b;return Object.keys(w).map((x=>w[x])).forEach(((x,L)=>{typeof x=="function"&&(b=Object.assign(Object.assign({},w),{[Object.keys(w)[L]]:x(...E)}))})),b||w})(n,r)),[n,r]);return S.createElement(h,Object.assign({type:"checkbox",ref:w=>{w&&(w.indeterminate=r)},style:p,onClick:a?Xt:c,name:t,"aria-label":t,checked:o,disabled:a},y,{onChange:Xt}))}));const H4=He(eu)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function W4({name:t,keyField:e,row:n,rowCount:r,selected:o,selectableRowsComponent:a,selectableRowsComponentProps:c,selectableRowsSingle:h,selectableRowDisabled:p,onSelectedRow:y}){const w=!(!p||!p(n));return S.createElement(H4,{onClick:E=>E.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},S.createElement(aI,{name:t,component:a,componentOptions:c,checked:o,"aria-checked":o,onClick:()=>{y({type:"SELECT_SINGLE_ROW",row:n,isSelected:o,keyField:e,rowCount:r,singleSelect:h})},disabled:w}))}const q4=He.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function G4({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:o,onToggled:a}){const c=e?n.expanded:n.collapsed;return S.createElement(q4,{"aria-disabled":t,onClick:()=>a&&a(o),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},c)}const K4=He(eu)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function Q4({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:o,disabled:a=!1}){return S.createElement(K4,{onClick:c=>c.stopPropagation(),$noPadding:!0},S.createElement(G4,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:o}))}const Y4=He.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var X4=S.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:o}){const a=["rdt_ExpanderRow",...o.split(" ").filter((c=>c!=="rdt_TableRow"))].join(" ");return S.createElement(Y4,{className:a,$extendedRowStyle:r},S.createElement(e,Object.assign({data:t},n)))}));const Lm="allowRowEvents";var Zh,Ig,NE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(Zh||(Zh={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(Ig||(Ig={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(NE||(NE={}));const J4=Zt`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,Z4=Zt`
	&:hover {
		cursor: pointer;
	}
`,eF=He.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&J4};
	${({$pointerOnHover:t})=>t&&Z4};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function tF({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:o=!1,expandableIcon:a,expandableRows:c=!1,expandableRowsComponent:h,expandableRowsComponentProps:p,expandableRowsHideExpander:y,expandOnRowClicked:w=!1,expandOnRowDoubleClicked:E=!1,highlightOnHover:b=!1,id:x,expandableInheritConditionalStyles:L,keyField:M,onRowClicked:D=Xt,onRowDoubleClicked:W=Xt,onRowMouseEnter:z=Xt,onRowMouseLeave:q=Xt,onRowExpandToggled:Z=Xt,onSelectedRow:X=Xt,pointerOnHover:ne=!1,row:R,rowCount:I,rowIndex:k,selectableRowDisabled:A=null,selectableRows:O=!1,selectableRowsComponent:F,selectableRowsComponentProps:C,selectableRowsHighlight:be=!1,selectableRowsSingle:De=!1,selected:pe,striped:_e=!1,draggingColumnId:te,onDragStart:le,onDragOver:ce,onDragEnd:$,onDragEnter:Y,onDragLeave:ge}){const[Te,xe]=S.useState(n);S.useEffect((()=>{xe(n)}),[n]);const Ne=S.useCallback((()=>{xe(!Te),Z(!Te,R)}),[Te,Z,R]),Fe=ne||c&&(w||E),Me=S.useCallback((pt=>{pt.target.getAttribute("data-tag")===Lm&&(D(R,pt),!r&&c&&w&&Ne())}),[r,w,c,Ne,D,R]),$e=S.useCallback((pt=>{pt.target.getAttribute("data-tag")===Lm&&(W(R,pt),!r&&c&&E&&Ne())}),[r,E,c,Ne,W,R]),ot=S.useCallback((pt=>{z(R,pt)}),[z,R]),_t=S.useCallback((pt=>{q(R,pt)}),[q,R]),Et=Fl(R,M),{conditionalStyle:Zn,classNames:yr}=iI(R,e,["rdt_TableRow"]),ti=be&&pe,Ni=L?Zn:{},Oi=_e&&k%2==0;return S.createElement(S.Fragment,null,S.createElement(eF,{id:`row-${x}`,role:"row",$striped:Oi,$highlightOnHover:b,$pointerOnHover:!r&&Fe,$dense:o,onClick:Me,onDoubleClick:$e,onMouseEnter:ot,onMouseLeave:_t,className:yr,$selected:ti,$conditionalStyle:Zn},O&&S.createElement(W4,{name:`select-row-${Et}`,keyField:M,row:R,rowCount:I,selected:pe,selectableRowsComponent:F,selectableRowsComponentProps:C,selectableRowDisabled:A,selectableRowsSingle:De,onSelectedRow:X}),c&&!y&&S.createElement(Q4,{id:Et,expandableIcon:a,expanded:Te,row:R,onToggled:Ne,disabled:r}),t.map((pt=>pt.omit?null:S.createElement(z4,{id:`cell-${pt.id}-${Et}`,key:`cell-${pt.id}-${Et}`,dataTag:pt.ignoreRowClick||pt.button?null:Lm,column:pt,row:R,rowIndex:k,isDragging:Zu(te,pt.id),onDragStart:le,onDragOver:ce,onDragEnd:$,onDragEnter:Y,onDragLeave:ge})))),c&&Te&&S.createElement(X4,{key:`expander-${Et}`,data:R,extendedRowStyle:Ni,extendedClassNames:yr,ExpanderComponent:h,expanderComponentProps:p}))}const nF=He.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,rF=({sortActive:t,sortDirection:e})=>Ue.createElement(nF,{$sortActive:t,$sortDirection:e},""),iF=He(oI)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,sF=Zt`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&Zt`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,oF=He.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&sF};
`,aF=He.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var lF=S.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:o,sortIcon:a,sortServer:c,pagination:h,paginationServer:p,persistSelectedOnSort:y,selectableRowsVisibleOnly:w,onSort:E,onDragStart:b,onDragOver:x,onDragEnd:L,onDragEnter:M,onDragLeave:D}){S.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[W,z]=S.useState(!1),q=S.useRef(null);if(S.useEffect((()=>{q.current&&z(q.current.scrollWidth>q.current.clientWidth)}),[W]),t.omit)return null;const Z=()=>{if(!t.sortable&&!t.selector)return;let C=o;Zu(r.id,t.id)&&(C=o===lo.ASC?lo.DESC:lo.ASC),E({type:"SORT_CHANGE",sortDirection:C,selectedColumn:t,clearSelectedOnSort:h&&p&&!y||c||w})},X=C=>S.createElement(rF,{sortActive:C,sortDirection:o}),ne=()=>S.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},a),R=!(!t.sortable||!Zu(r.id,t.id)),I=!t.sortable||e,k=t.sortable&&!a&&!t.right,A=t.sortable&&!a&&t.right,O=t.sortable&&a&&!t.right,F=t.sortable&&a&&t.right;return S.createElement(iF,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Zu(t.id,n),onDragStart:b,onDragOver:x,onDragEnd:L,onDragEnter:M,onDragLeave:D},t.name&&S.createElement(oF,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:I?void 0:Z,onKeyPress:I?void 0:C=>{C.key==="Enter"&&Z()},$sortActive:!I&&R,disabled:I},!I&&F&&ne(),!I&&A&&X(R),typeof t.name=="string"?S.createElement(aF,{title:W?t.name:void 0,ref:q,"data-column-id":t.id},t.name):t.name,!I&&O&&ne(),!I&&k&&X(R)))}));const uF=He(eu)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function cF({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:o,selectedRows:a,selectableRowsComponent:c,selectableRowsComponentProps:h,selectableRowDisabled:p,onSelectAllRows:y}){const w=a.length>0&&!r,E=p?e.filter((L=>!p(L))):e,b=E.length===0,x=Math.min(e.length,E.length);return S.createElement(uF,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},S.createElement(aI,{name:"select-all-rows",component:c,componentOptions:h,onClick:()=>{y({type:"SELECT_ALL_ROWS",rows:E,rowCount:x,mergeSelections:o,keyField:n})},checked:r,indeterminate:w,disabled:b}))}function lI(t=Zh.AUTO){const e=typeof window=="object",[n,r]=S.useState(!1);return S.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const o=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],c=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||c.dir==="rtl";r(o&&h)}}),[t,e]),n}const dF=He.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,hF=He.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,OE=He.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function fF({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:o}){const a=lI(o),c=r>0;return n?S.createElement(OE,{$visible:c},S.cloneElement(n,{selectedCount:r})):S.createElement(OE,{$visible:c,$rtl:a},S.createElement(dF,null,((h,p,y)=>{if(p===0)return null;const w=p===1?h.singular:h.plural;return y?`${p} ${h.message||""} ${w}`:`${p} ${w} ${h.message||""}`})(t,r,a)),S.createElement(hF,null,e))}const pF=He.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,mF=He.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,gF=He.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,yF=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:o,selectedCount:a,direction:c,showMenu:h=!0})=>S.createElement(pF,{className:"rdt_TableHeader",role:"heading","aria-level":1},S.createElement(mF,null,t),e&&S.createElement(gF,null,e),h&&S.createElement(fF,{contextMessage:n,contextActions:r,contextComponent:o,direction:c,selectedCount:a}));function uI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const wF={left:"flex-start",right:"flex-end",center:"center"},vF=He.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>wF[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,_F=t=>{var{align:e="right",wrapContent:n=!0}=t,r=uI(t,["align","wrapContent"]);return S.createElement(vF,Object.assign({align:e,$wrapContent:n},r))},EF=He.div`
	display: flex;
	flex-direction: column;
`,bF=He.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&Zt`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&Zt`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,DE=He.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,TF=He.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,CF=He(eu)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,IF=He.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,SF=()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Ue.createElement("path",{d:"M7 10l5 5 5-5z"}),Ue.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),RF=He.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,kF=He.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,AF=t=>{var{defaultValue:e,onChange:n}=t,r=uI(t,["defaultValue","onChange"]);return S.createElement(kF,null,S.createElement(RF,Object.assign({onChange:n,defaultValue:e},r)),S.createElement(SF,null))},oe={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return Ue.createElement("div",null,"To add an expander pass in a component instance via ",Ue.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:Ue.createElement((()=>Ue.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Ue.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),Ue.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:Ue.createElement((()=>Ue.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Ue.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),Ue.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:Ue.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:Ue.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Ig.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:Ue.createElement((()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ue.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),Ue.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:Ue.createElement((()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ue.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),Ue.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:Ue.createElement((()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ue.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),Ue.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:Ue.createElement((()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ue.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),Ue.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:Zh.AUTO,onChangePage:Xt,onChangeRowsPerPage:Xt,onRowClicked:Xt,onRowDoubleClicked:Xt,onRowMouseEnter:Xt,onRowMouseLeave:Xt,onRowExpandToggled:Xt,onSelectedRowsChange:Xt,onSort:Xt,onColumnOrderChange:Xt},PF={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},xF=He.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,Xd=He.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,NF=He.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${sI`
    width: 100%;
    justify-content: space-around;
  `};
`,cI=He.span`
	flex-shrink: 1;
	user-select: none;
`,OF=He(cI)`
	margin: 0 24px;
`,DF=He(cI)`
	margin: 0 4px;
`;var LF=S.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=oe.direction,paginationRowsPerPageOptions:o=oe.paginationRowsPerPageOptions,paginationIconLastPage:a=oe.paginationIconLastPage,paginationIconFirstPage:c=oe.paginationIconFirstPage,paginationIconNext:h=oe.paginationIconNext,paginationIconPrevious:p=oe.paginationIconPrevious,paginationComponentOptions:y=oe.paginationComponentOptions,onChangeRowsPerPage:w=oe.onChangeRowsPerPage,onChangePage:E=oe.onChangePage}){const b=(()=>{const C=typeof window=="object";function be(){return{width:C?window.innerWidth:void 0,height:C?window.innerHeight:void 0}}const[De,pe]=S.useState(be);return S.useEffect((()=>{if(!C)return()=>null;function _e(){pe(be())}return window.addEventListener("resize",_e),()=>window.removeEventListener("resize",_e)}),[]),De})(),x=lI(r),L=b.width&&b.width>599,M=Ju(e,t),D=n*t,W=D-t+1,z=n===1,q=n===M,Z=Object.assign(Object.assign({},PF),y),X=n===M?`${W}-${e} ${Z.rangeSeparatorText} ${e}`:`${W}-${D} ${Z.rangeSeparatorText} ${e}`,ne=S.useCallback((()=>E(n-1)),[n,E]),R=S.useCallback((()=>E(n+1)),[n,E]),I=S.useCallback((()=>E(1)),[E]),k=S.useCallback((()=>E(Ju(e,t))),[E,e,t]),A=S.useCallback((C=>w(Number(C.target.value),n)),[n,w]),O=o.map((C=>S.createElement("option",{key:C,value:C},C)));Z.selectAllRowsItem&&O.push(S.createElement("option",{key:-1,value:e},Z.selectAllRowsItemText));const F=S.createElement(AF,{onChange:A,defaultValue:t,"aria-label":Z.rowsPerPageText},O);return S.createElement(xF,{className:"rdt_Pagination"},!Z.noRowsPerPage&&L&&S.createElement(S.Fragment,null,S.createElement(DF,null,Z.rowsPerPageText),F),L&&S.createElement(OF,null,X),S.createElement(NF,null,S.createElement(Xd,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":z,onClick:I,disabled:z,$isRTL:x},c),S.createElement(Xd,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":z,onClick:ne,disabled:z,$isRTL:x},p),!Z.noRowsPerPage&&!L&&F,S.createElement(Xd,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":q,onClick:R,disabled:q,$isRTL:x},h),S.createElement(Xd,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":q,onClick:k,disabled:q,$isRTL:x},a)))}));const ta=(t,e)=>{const n=S.useRef(!0);S.useEffect((()=>{n.current?n.current=!1:t()}),e)};function VF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var MF=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===FF})(e)})(t)},FF=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function uc(t,e){return e.clone!==!1&&e.isMergeableObject(t)?jl((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function jF(t,e,n){return t.concat(e).map((function(r){return uc(r,n)}))}function LE(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function VE(t,e){try{return e in t}catch{return!1}}function $F(t,e,n){var r={};return n.isMergeableObject(t)&&LE(t).forEach((function(o){r[o]=uc(t[o],n)})),LE(e).forEach((function(o){(function(a,c){return VE(a,c)&&!(Object.hasOwnProperty.call(a,c)&&Object.propertyIsEnumerable.call(a,c))})(t,o)||(VE(t,o)&&n.isMergeableObject(e[o])?r[o]=(function(a,c){if(!c.customMerge)return jl;var h=c.customMerge(a);return typeof h=="function"?h:jl})(o,n)(t[o],e[o],n):r[o]=uc(e[o],n))})),r}function jl(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||jF,n.isMergeableObject=n.isMergeableObject||MF,n.cloneUnlessOtherwiseSpecified=uc;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):$F(t,e,n):uc(e,n)}jl.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return jl(n,r,e)}),{})};var Sg=VF(jl);const ME={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},Qs={default:ME,light:ME,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function UF(t="default",e,n="default"){return Qs[t]||(Qs[t]=Sg(Qs[n],e||{})),Qs[t]=Sg(Qs[t],e||{}),Qs[t]}function BF(t,e,n,r){const[o,a]=S.useState((()=>PE(t))),[c,h]=S.useState(""),p=S.useRef("");ta((()=>{a(PE(t))}),[t]);const y=S.useCallback((D=>{var W,z,q;const{attributes:Z}=D.target,X=(W=Z.getNamedItem("data-column-id"))===null||W===void 0?void 0:W.value;X&&(p.current=((q=(z=o[Yd(o,X)])===null||z===void 0?void 0:z.id)===null||q===void 0?void 0:q.toString())||"",h(p.current))}),[o]),w=S.useCallback((D=>{var W;const{attributes:z}=D.target,q=(W=z.getNamedItem("data-column-id"))===null||W===void 0?void 0:W.value;if(q&&p.current&&q!==p.current){const Z=Yd(o,p.current),X=Yd(o,q),ne=[...o];ne[Z]=o[X],ne[X]=o[Z],a(ne),e(ne)}}),[e,o]),E=S.useCallback((D=>{D.preventDefault()}),[]),b=S.useCallback((D=>{D.preventDefault()}),[]),x=S.useCallback((D=>{D.preventDefault(),p.current="",h("")}),[]),L=(function(D=!1){return D?lo.ASC:lo.DESC})(r),M=S.useMemo((()=>o[Yd(o,n?.toString())]||{}),[n,o]);return{tableColumns:o,draggingColumnId:c,handleDragStart:y,handleDragEnter:w,handleDragOver:E,handleDragLeave:b,handleDragEnd:x,defaultSortDirection:L,defaultSortColumn:M}}var zF=S.memo((function(t){const{data:e=oe.data,columns:n=oe.columns,title:r=oe.title,actions:o=oe.actions,keyField:a=oe.keyField,striped:c=oe.striped,highlightOnHover:h=oe.highlightOnHover,pointerOnHover:p=oe.pointerOnHover,dense:y=oe.dense,selectableRows:w=oe.selectableRows,selectableRowsSingle:E=oe.selectableRowsSingle,selectableRowsHighlight:b=oe.selectableRowsHighlight,selectableRowsNoSelectAll:x=oe.selectableRowsNoSelectAll,selectableRowsVisibleOnly:L=oe.selectableRowsVisibleOnly,selectableRowSelected:M=oe.selectableRowSelected,selectableRowDisabled:D=oe.selectableRowDisabled,selectableRowsComponent:W=oe.selectableRowsComponent,selectableRowsComponentProps:z=oe.selectableRowsComponentProps,onRowExpandToggled:q=oe.onRowExpandToggled,onSelectedRowsChange:Z=oe.onSelectedRowsChange,expandableIcon:X=oe.expandableIcon,onChangeRowsPerPage:ne=oe.onChangeRowsPerPage,onChangePage:R=oe.onChangePage,paginationServer:I=oe.paginationServer,paginationServerOptions:k=oe.paginationServerOptions,paginationTotalRows:A=oe.paginationTotalRows,paginationDefaultPage:O=oe.paginationDefaultPage,paginationResetDefaultPage:F=oe.paginationResetDefaultPage,paginationPerPage:C=oe.paginationPerPage,paginationRowsPerPageOptions:be=oe.paginationRowsPerPageOptions,paginationIconLastPage:De=oe.paginationIconLastPage,paginationIconFirstPage:pe=oe.paginationIconFirstPage,paginationIconNext:_e=oe.paginationIconNext,paginationIconPrevious:te=oe.paginationIconPrevious,paginationComponent:le=oe.paginationComponent,paginationComponentOptions:ce=oe.paginationComponentOptions,responsive:$=oe.responsive,progressPending:Y=oe.progressPending,progressComponent:ge=oe.progressComponent,persistTableHead:Te=oe.persistTableHead,noDataComponent:xe=oe.noDataComponent,disabled:Ne=oe.disabled,noTableHead:Fe=oe.noTableHead,noHeader:Me=oe.noHeader,fixedHeader:$e=oe.fixedHeader,fixedHeaderScrollHeight:ot=oe.fixedHeaderScrollHeight,pagination:_t=oe.pagination,subHeader:Et=oe.subHeader,subHeaderAlign:Zn=oe.subHeaderAlign,subHeaderWrap:yr=oe.subHeaderWrap,subHeaderComponent:ti=oe.subHeaderComponent,noContextMenu:Ni=oe.noContextMenu,contextMessage:Oi=oe.contextMessage,contextActions:pt=oe.contextActions,contextComponent:ws=oe.contextComponent,expandableRows:Mn=oe.expandableRows,onRowClicked:wr=oe.onRowClicked,onRowDoubleClicked:vs=oe.onRowDoubleClicked,onRowMouseEnter:Di=oe.onRowMouseEnter,onRowMouseLeave:Li=oe.onRowMouseLeave,sortIcon:To=oe.sortIcon,onSort:Nt=oe.onSort,sortFunction:St=oe.sortFunction,sortServer:er=oe.sortServer,expandableRowsComponent:Co=oe.expandableRowsComponent,expandableRowsComponentProps:ni=oe.expandableRowsComponentProps,expandableRowDisabled:ri=oe.expandableRowDisabled,expandableRowsHideExpander:ii=oe.expandableRowsHideExpander,expandOnRowClicked:Io=oe.expandOnRowClicked,expandOnRowDoubleClicked:So=oe.expandOnRowDoubleClicked,expandableRowExpanded:_s=oe.expandableRowExpanded,expandableInheritConditionalStyles:Ro=oe.expandableInheritConditionalStyles,defaultSortFieldId:ko=oe.defaultSortFieldId,defaultSortAsc:Vi=oe.defaultSortAsc,clearSelectedRows:Mi=oe.clearSelectedRows,conditionalRowStyles:Es=oe.conditionalRowStyles,theme:kn=oe.theme,customStyles:tr=oe.customStyles,direction:vr=oe.direction,onColumnOrderChange:_r=oe.onColumnOrderChange,className:Ao,ariaLabel:si}=t,{tableColumns:bs,draggingColumnId:Er,handleDragStart:Ts,handleDragEnter:mt,handleDragOver:Fi,handleDragLeave:Fn,handleDragEnd:oi,defaultSortDirection:ji,defaultSortColumn:Cs}=BF(n,_r,ko,Vi),[{rowsPerPage:jt,currentPage:un,selectedRows:Po,allSelected:$i,selectedCount:xo,selectedColumn:Rt,sortDirection:jn,toggleOnSelectedRowsChange:nr},br]=S.useReducer(N4,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Cs,toggleOnSelectedRowsChange:!1,sortDirection:ji,currentPage:O,rowsPerPage:C,selectedRowsFlag:!1,contextMessage:oe.contextMessage}),{persistSelectedOnSort:Is=!1,persistSelectedOnPageChange:Vr=!1}=k,Ui=!(!I||!Vr&&!Is),No=_t&&!Y&&e.length>0,Ra=le||LF,tu=S.useMemo((()=>((Ce={},Be="default",gt="default")=>{const Gt=Qs[Be]?Be:gt;return Sg({table:{style:{color:(ke=Qs[Gt]).text.primary,backgroundColor:ke.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:ke.text.primary,backgroundColor:ke.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:ke.background.default,minHeight:"52px"}},head:{style:{color:ke.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:ke.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:ke.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:ke.context.background,fontSize:"18px",fontWeight:400,color:ke.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:ke.text.primary,backgroundColor:ke.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:ke.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:ke.selected.text,backgroundColor:ke.selected.default,borderBottomColor:ke.background.default}},highlightOnHoverStyle:{color:ke.highlightOnHover.text,backgroundColor:ke.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:ke.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:ke.background.default},stripedStyle:{color:ke.striped.text,backgroundColor:ke.striped.default}},expanderRow:{style:{color:ke.text.primary,backgroundColor:ke.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:ke.button.default,fill:ke.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:ke.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:ke.button.hover},"&:focus":{outline:"none",backgroundColor:ke.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:ke.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:ke.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:ke.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:ke.button.default,fill:ke.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:ke.button.disabled,fill:ke.button.disabled},"&:hover:not(:disabled)":{backgroundColor:ke.button.hover},"&:focus":{outline:"none",backgroundColor:ke.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:ke.text.primary,backgroundColor:ke.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:ke.text.primary,backgroundColor:ke.background.default}}},Ce);var ke})(tr,kn)),[tr,kn]),it=S.useMemo((()=>Object.assign({},vr!=="auto"&&{dir:vr})),[vr]),Ot=S.useMemo((()=>{if(er)return e;if(Rt?.sortFunction&&typeof Rt.sortFunction=="function"){const Ce=Rt.sortFunction,Be=jn===lo.ASC?Ce:(gt,Gt)=>-1*Ce(gt,Gt);return[...e].sort(Be)}return(function(Ce,Be,gt,Gt){return Be?Gt&&typeof Gt=="function"?Gt(Ce.slice(0),Be,gt):Ce.slice(0).sort(((ke,ir)=>{const $t=Be(ke),yn=Be(ir);if(gt==="asc"){if($t<yn)return-1;if($t>yn)return 1}if(gt==="desc"){if($t>yn)return-1;if($t<yn)return 1}return 0})):Ce})(e,Rt?.selector,jn,St)}),[er,Rt,jn,e,St]),rr=S.useMemo((()=>{if(_t&&!I){const Ce=un*jt,Be=Ce-jt;return Ot.slice(Be,Ce)}return Ot}),[un,_t,I,jt,Ot]),ai=S.useCallback((Ce=>{br(Ce)}),[]),$n=S.useCallback((Ce=>{br(Ce)}),[]),Oo=S.useCallback((Ce=>{br(Ce)}),[]),ka=S.useCallback(((Ce,Be)=>wr(Ce,Be)),[wr]),Bi=S.useCallback(((Ce,Be)=>vs(Ce,Be)),[vs]),An=S.useCallback(((Ce,Be)=>Di(Ce,Be)),[Di]),Aa=S.useCallback(((Ce,Be)=>Li(Ce,Be)),[Li]),kt=S.useCallback((Ce=>br({type:"CHANGE_PAGE",page:Ce,paginationServer:I,visibleOnly:L,persistSelectedOnPageChange:Vr})),[I,Vr,L]),Do=S.useCallback((Ce=>{const Be=Ju(A||rr.length,Ce),gt=Dm(un,Be);I||kt(gt),br({type:"CHANGE_ROWS_PER_PAGE",page:gt,rowsPerPage:Ce})}),[un,kt,I,A,rr.length]);if(_t&&!I&&Ot.length>0&&rr.length===0){const Ce=Ju(Ot.length,jt),Be=Dm(un,Ce);kt(Be)}ta((()=>{Z({allSelected:$i,selectedCount:xo,selectedRows:Po.slice(0)})}),[nr]),ta((()=>{Nt(Rt,jn,Ot.slice(0))}),[Rt,jn]),ta((()=>{R(un,A||Ot.length)}),[un]),ta((()=>{ne(jt,un)}),[jt]),ta((()=>{kt(O)}),[O,F]),ta((()=>{if(_t&&I&&A>0){const Ce=Ju(A,jt),Be=Dm(un,Ce);un!==Be&&kt(Be)}}),[A]),S.useEffect((()=>{br({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Mi})}),[E,Mi]),S.useEffect((()=>{if(!M)return;const Ce=Ot.filter((gt=>M(gt))),Be=E?Ce.slice(0,1):Ce;br({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:Be,totalRows:Ot.length,mergeSelections:Ui})}),[e,M]);const Pa=L?rr:Ot,xa=Vr||E||x;return S.createElement(k4,{theme:tu},!Me&&(!!r||!!o)&&S.createElement(yF,{title:r,actions:o,showMenu:!Ni,selectedCount:xo,direction:vr,contextActions:pt,contextComponent:ws,contextMessage:Oi}),Et&&S.createElement(_F,{align:Zn,wrapContent:yr},ti),S.createElement(bF,Object.assign({$responsive:$,$fixedHeader:$e,$fixedHeaderScrollHeight:ot,className:Ao},it),S.createElement(TF,null,Y&&!Te&&S.createElement(DE,null,ge),S.createElement(D4,Object.assign({disabled:Ne,className:"rdt_Table",role:"table"},si&&{"aria-label":si}),!Fe&&(!!Te||Ot.length>0&&!Y)&&S.createElement(V4,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:$e},S.createElement(M4,{className:"rdt_TableHeadRow",role:"row",$dense:y},w&&(xa?S.createElement(eu,{style:{flex:"0 0 48px"}}):S.createElement(cF,{allSelected:$i,selectedRows:Po,selectableRowsComponent:W,selectableRowsComponentProps:z,selectableRowDisabled:D,rowData:Pa,keyField:a,mergeSelections:Ui,onSelectAllRows:$n})),Mn&&!ii&&S.createElement(CF,null),bs.map((Ce=>S.createElement(lF,{key:Ce.id,column:Ce,selectedColumn:Rt,disabled:Y||Ot.length===0,pagination:_t,paginationServer:I,persistSelectedOnSort:Is,selectableRowsVisibleOnly:L,sortDirection:jn,sortIcon:To,sortServer:er,onSort:ai,onDragStart:Ts,onDragOver:Fi,onDragEnd:oi,onDragEnter:mt,onDragLeave:Fn,draggingColumnId:Er}))))),!Ot.length&&!Y&&S.createElement(IF,null,xe),Y&&Te&&S.createElement(DE,null,ge),!Y&&Ot.length>0&&S.createElement(EF,{className:"rdt_TableBody",role:"rowgroup"},rr.map(((Ce,Be)=>{const gt=Fl(Ce,a),Gt=(function(yn=""){return typeof yn!="number"&&(!yn||yn.length===0)})(gt)?Be:gt,ke=gh(Ce,Po,a),ir=!!(Mn&&_s&&_s(Ce)),$t=!!(Mn&&ri&&ri(Ce));return S.createElement(tF,{id:Gt,key:Gt,keyField:a,"data-row-id":Gt,columns:bs,row:Ce,rowCount:Ot.length,rowIndex:Be,selectableRows:w,expandableRows:Mn,expandableIcon:X,highlightOnHover:h,pointerOnHover:p,dense:y,expandOnRowClicked:Io,expandOnRowDoubleClicked:So,expandableRowsComponent:Co,expandableRowsComponentProps:ni,expandableRowsHideExpander:ii,defaultExpanderDisabled:$t,defaultExpanded:ir,expandableInheritConditionalStyles:Ro,conditionalRowStyles:Es,selected:ke,selectableRowsHighlight:b,selectableRowsComponent:W,selectableRowsComponentProps:z,selectableRowDisabled:D,selectableRowsSingle:E,striped:c,onRowExpandToggled:q,onRowClicked:ka,onRowDoubleClicked:Bi,onRowMouseEnter:An,onRowMouseLeave:Aa,onSelectedRow:Oo,draggingColumnId:Er,onDragStart:Ts,onDragOver:Fi,onDragEnd:oi,onDragEnter:mt,onDragLeave:Fn})})))))),No&&S.createElement("div",null,S.createElement(Ra,{onChangePage:kt,onChangeRowsPerPage:Do,rowCount:A||Ot.length,currentPage:un,rowsPerPage:jt,direction:vr,paginationRowsPerPageOptions:be,paginationIconLastPage:De,paginationIconFirstPage:pe,paginationIconNext:_e,paginationIconPrevious:te,paginationComponentOptions:ce})))}));const FE=Eo(pr);Ea(pr);UF("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function HF({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,c]=S.useState(!1),[h,p]=S.useState(!1),y=X=>parseInt(X),w=t?.fotoPerfil||Yu,E=[{when:X=>X.pos==="1",style:{backgroundColor:"#FFD700",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:X=>X.pos==="2",style:{backgroundColor:"#C0C0C0",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:X=>X.pos==="3",style:{backgroundColor:"#CD7F32",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:X=>y(X.pos)>3&&y(X.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:X=>y(X.pos)>3&&y(X.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],b=[{name:"Pos.",selector:X=>X.pos,width:"4rem",center:!0},{name:"Jugador",selector:X=>X.jugador,cell:X=>N.jsxs(an,{to:`/equipo/${X.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit"},children:[N.jsx("img",{src:X.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%"}}),N.jsx("span",{children:X.jugador})]})},{name:"Puntos",selector:X=>X.puntos,width:"5.5rem",center:!0}],x=()=>{c(!a)},L=X=>X>=1e6?(X/1e6).toFixed(2)+"M":X>=1e3?(X/1e3).toFixed(2)+"K":X.toFixed(2),M=X=>{if(!X)return"";const ne=10,R=X.indexOf(" ");let I;return R!==-1&&R<=ne?(I=R,X.slice(0,I)+"..."):X.length>ne?(I=ne-3,X.slice(0,I)+"..."):X};S.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const X=Dn(FE,"usuarios",t.uid);ao(X).then(ne=>{ne.exists()&&o(ne.data().dinero)})}},[t]);const[D,W]=S.useState([]),[z,q]=S.useState(!1);S.useEffect(()=>{(async()=>{q(!0);try{const ne=lg(FE,"usuarios");let k=(await cg(ne)).docs.map(A=>({id:A.id,...A.data()})).sort((A,O)=>(O.puntos||0)-(A.puntos||0)).map((A,O)=>({id:A.id,pos:`${O+1}`,jugador:A.nick||"Sin nombre",puntos:A.puntos||0,fotoPerfil:A.fotoPerfil||Yu}));W(k)}catch(ne){console.error("Error al cargar usuarios:",ne)}finally{q(!1)}})()},[]);const Z={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return N.jsxs("div",{children:[N.jsxs("header",{className:"Cabecera",children:[N.jsxs("div",{className:"container-profile",children:[N.jsx("div",{className:"img-profile-small",children:N.jsx("img",{src:w,onError:X=>{X.currentTarget.onerror=null,X.currentTarget.src=Yu},onClick:()=>p(!0),alt:"Foto de perfil"})}),N.jsxs("div",{className:"info-profile",children:[N.jsx("h2",{className:"nombre-usuario",children:M(t?.nick||t?.displayName)}),r!==null&&N.jsxs("p",{className:"dinero-usuario",children:["",N.jsx("strong",{children:L(r)})]})]})]}),N.jsx("button",{onClick:x,className:"Cabecera-button",children:N.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:N.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),N.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:N.jsxs("ul",{className:"Cabecera-ul",children:[N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})})]})})]}),N.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ol})`},children:[N.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&N.jsx(Yy,{usuario:t,openModal:h,setOpenModal:p}),N.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:N.jsx(zF,{title:"CLASIFICACIN",columns:b,data:D,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:z,progressComponent:N.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:E,customStyles:Z,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:N.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}const Jd=Eo(pr),WF=Ea(pr);function qF({usuario:t}){const{jugadorId:e}=EO(),[n,r]=S.useState(!0),[o,a]=S.useState(null),[c,h]=S.useState(!1),[p,y]=S.useState(!1),[w,E]=S.useState(null),b=t?.fotoPerfil||_i,x=o?.equipo?.titulares||[];o?.equipo?.banquillo;const[L,M]=S.useState([]),D=o?.equipo?.capitan||"",[W,z]=S.useState(o?.equipo?.formacion||"2-1-1"),[q,Z]=S.useState(W),[X,ne]=S.useState(!1);S.useEffect(()=>{(async()=>{r(!0);const O=await ao(Dn(Jd,"usuarios",e));O.exists()&&a({id:O.id,...O.data()}),r(!1)})()},[e]);const R=()=>{h(!c)},I=A=>A>=1e6?(A/1e6).toFixed(2)+"M":A>=1e3?(A/1e3).toFixed(2)+"K":A.toFixed(2),k=A=>{if(!A)return"";const O=10,F=A.indexOf(" ");let C;return F!==-1&&F<=O?(C=F,A.slice(0,C)+"..."):A.length>O?(C=O-3,A.slice(0,C)+"..."):A};return S.useEffect(()=>{if(t&&t?.onboarding===!1){y(!0);const O=setTimeout(async()=>{try{const F=Dn(Jd,"usuarios",WF.currentUser.uid);await ml(F,{onboarding:!0}),window.location.reload()}catch(F){console.error("Error actualizando onboarding:",F)}},500);return()=>clearTimeout(O)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const O=Dn(Jd,"usuarios",t.uid);ao(O).then(F=>{F.exists()&&E(F.data().dinero)})}(async()=>{r(!0);try{const O=await ao(Dn(Jd,"usuarios",e));O.exists()?a({id:O.id,...O.data()}):a(null)}catch(O){console.error("Error fetching jugador:",O)}finally{r(!1)}})()},[t],[x],[e]),n?N.jsx("h2",{children:"Cargando equipo"}):o?N.jsxs("div",{children:[N.jsxs("header",{className:"Cabecera",children:[N.jsxs("div",{className:"container-profile",children:[N.jsx("div",{className:"img-profile-small",children:N.jsx("img",{src:b,onError:A=>{A.currentTarget.onerror=null,A.currentTarget.src=_i},onClick:()=>ne(!0),alt:"Foto de perfil"})}),N.jsxs("div",{className:"info-profile",children:[N.jsx("h2",{className:"nombre-usuario",children:k(t?.nick||t?.displayName)}),w!==null&&N.jsxs("p",{className:"dinero-usuario",children:["",N.jsx("strong",{children:I(w)})]})]})]}),N.jsx("button",{onClick:R,className:"Cabecera-button",children:N.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:N.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),N.jsx("nav",{className:`Cabecera-nav ${c?"isActive":""}`,children:N.jsxs("ul",{className:"Cabecera-ul",children:[N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),N.jsx("li",{className:"Cabecera-li",children:N.jsx(an,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})})]})})]}),N.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ol})`},children:[N.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),X&&N.jsx(Yy,{usuario:t,openModal:X,setOpenModal:ne}),N.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[N.jsxs("h1",{children:["Equipo de ",o.nick]}),N.jsx("div",{className:"formacion-selector",children:N.jsxs("label",{htmlFor:"formacion-select",children:["Formacin: ",q]})}),N.jsx("div",{className:"campo",children:gg[q]?.map((A,O)=>{const F=x[O],C=L.find(be=>be.id===F);return N.jsxs("div",{className:"jugador",style:{position:"absolute",top:A.top,left:A.left,transform:"translate(-50%, -50%)"},children:[N.jsxs("div",{className:"jugador-wrapper",children:[N.jsx("img",{src:C?.foto||_i,alt:C?.nombre||"Vaco",className:"jugador-img"}),D===C?.id&&N.jsx("div",{className:"capitan-badge",children:"C"})]}),N.jsx("p",{className:"jugador-nombre",children:C?.nombre||"Vaco"})]},C?.id||O)})})]})]}),p&&N.jsx("div",{className:"onboarding-overlay",children:N.jsx("div",{className:"loader",children:"Cargando..."})})]}):N.jsx("h2",{children:"Jugador no encontrado"})}const GF=Ea(pr),KF=Eo(pr);function QF(){const[t,e]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{const o=pA(GF,async a=>{if(a)try{const c=await ao(Dn(KF,"usuarios",a.uid));c.exists()?e({uid:a.uid,...c.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(c){console.error("Error obteniendo datos de usuario:",c),e(null)}else e(null);r(!1)});return()=>o()},[]),n?N.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):N.jsx(sD,{children:N.jsxs(VO,{children:[N.jsx(ea,{path:"/",element:t?N.jsx(ul,{to:"/home",replace:!0}):N.jsx(u5,{})}),N.jsx(ea,{path:"/home",element:t?N.jsx(IM,{usuario:t}):N.jsx(ul,{to:"/",replace:!0})}),N.jsx(ea,{path:"/mercado",element:t?N.jsx(RM,{usuario:t}):N.jsx(ul,{to:"/",replace:!0})}),N.jsx(ea,{path:"/clasificacion",element:t?N.jsx(HF,{usuario:t}):N.jsx(ul,{to:"/",replace:!0})}),N.jsx(ea,{path:"/equipo/:jugadorId",element:t?N.jsx(qF,{usuario:t}):N.jsx(ul,{to:"/",replace:!0})}),N.jsx(ea,{path:"*",element:N.jsx(ul,{to:t?"/home":"/",replace:!0})})]})})}TS.createRoot(document.getElementById("root")).render(N.jsx(S.StrictMode,{children:N.jsx(QF,{})}));
