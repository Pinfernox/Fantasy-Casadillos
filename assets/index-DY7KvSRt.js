(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function wS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ym={exports:{}},jc={},wm={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function vS(){if(g_)return Ke;g_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,V={};function O(D,z,oe){this.props=D,this.context=z,this.refs=V,this.updater=oe||A}O.prototype.isReactComponent={},O.prototype.setState=function(D,z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,z,"setState")},O.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function B(){}B.prototype=O.prototype;function U(D,z,oe){this.props=D,this.context=z,this.refs=V,this.updater=oe||A}var Q=U.prototype=new B;Q.constructor=U,j(Q,O.prototype),Q.isPureReactComponent=!0;var Z=Array.isArray,le=Object.prototype.hasOwnProperty,ne={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function x(D,z,oe){var ce,fe={},Ee=null,Ve=null;if(z!=null)for(ce in z.ref!==void 0&&(Ve=z.ref),z.key!==void 0&&(Ee=""+z.key),z)le.call(z,ce)&&!k.hasOwnProperty(ce)&&(fe[ce]=z[ce]);var Me=arguments.length-2;if(Me===1)fe.children=oe;else if(1<Me){for(var Be=Array(Me),gt=0;gt<Me;gt++)Be[gt]=arguments[gt+2];fe.children=Be}if(D&&D.defaultProps)for(ce in Me=D.defaultProps,Me)fe[ce]===void 0&&(fe[ce]=Me[ce]);return{$$typeof:t,type:D,key:Ee,ref:Ve,props:fe,_owner:ne.current}}function P(D,z){return{$$typeof:t,type:D.type,key:z,ref:D.ref,props:D.props,_owner:D._owner}}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function L(D){var z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return z[oe]})}var $=/\/+/g;function R(D,z){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):z.toString(36)}function Oe(D,z,oe,ce,fe){var Ee=typeof D;(Ee==="undefined"||Ee==="boolean")&&(D=null);var Ve=!1;if(D===null)Ve=!0;else switch(Ee){case"string":case"number":Ve=!0;break;case"object":switch(D.$$typeof){case t:case e:Ve=!0}}if(Ve)return Ve=D,fe=fe(Ve),D=ce===""?"."+R(Ve,0):ce,Z(fe)?(oe="",D!=null&&(oe=D.replace($,"$&/")+"/"),Oe(fe,z,oe,"",function(gt){return gt})):fe!=null&&(S(fe)&&(fe=P(fe,oe+(!fe.key||Ve&&Ve.key===fe.key?"":(""+fe.key).replace($,"$&/")+"/")+D)),z.push(fe)),1;if(Ve=0,ce=ce===""?".":ce+":",Z(D))for(var Me=0;Me<D.length;Me++){Ee=D[Me];var Be=ce+R(Ee,Me);Ve+=Oe(Ee,z,oe,Be,fe)}else if(Be=C(D),typeof Be=="function")for(D=Be.call(D),Me=0;!(Ee=D.next()).done;)Ee=Ee.value,Be=ce+R(Ee,Me++),Ve+=Oe(Ee,z,oe,Be,fe);else if(Ee==="object")throw z=String(D),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Ce(D,z,oe){if(D==null)return D;var ce=[],fe=0;return Oe(D,ce,"","",function(Ee){return z.call(oe,Ee,fe++)}),ce}function Ue(D){if(D._status===-1){var z=D._result;z=z(),z.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=z)}if(D._status===1)return D._result.default;throw D._result}var Re={current:null},G={transition:null},H={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:G,ReactCurrentOwner:ne};function J(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:Ce,forEach:function(D,z,oe){Ce(D,function(){z.apply(this,arguments)},oe)},count:function(D){var z=0;return Ce(D,function(){z++}),z},toArray:function(D){return Ce(D,function(z){return z})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ke.Component=O,Ke.Fragment=n,Ke.Profiler=o,Ke.PureComponent=U,Ke.StrictMode=r,Ke.Suspense=f,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Ke.act=J,Ke.cloneElement=function(D,z,oe){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ce=j({},D.props),fe=D.key,Ee=D.ref,Ve=D._owner;if(z!=null){if(z.ref!==void 0&&(Ee=z.ref,Ve=ne.current),z.key!==void 0&&(fe=""+z.key),D.type&&D.type.defaultProps)var Me=D.type.defaultProps;for(Be in z)le.call(z,Be)&&!k.hasOwnProperty(Be)&&(ce[Be]=z[Be]===void 0&&Me!==void 0?Me[Be]:z[Be])}var Be=arguments.length-2;if(Be===1)ce.children=oe;else if(1<Be){Me=Array(Be);for(var gt=0;gt<Be;gt++)Me[gt]=arguments[gt+2];ce.children=Me}return{$$typeof:t,type:D.type,key:fe,ref:Ee,props:ce,_owner:Ve}},Ke.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:a,_context:D},D.Consumer=D},Ke.createElement=x,Ke.createFactory=function(D){var z=x.bind(null,D);return z.type=D,z},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(D){return{$$typeof:h,render:D}},Ke.isValidElement=S,Ke.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:Ue}},Ke.memo=function(D,z){return{$$typeof:m,type:D,compare:z===void 0?null:z}},Ke.startTransition=function(D){var z=G.transition;G.transition={};try{D()}finally{G.transition=z}},Ke.unstable_act=J,Ke.useCallback=function(D,z){return Re.current.useCallback(D,z)},Ke.useContext=function(D){return Re.current.useContext(D)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(D){return Re.current.useDeferredValue(D)},Ke.useEffect=function(D,z){return Re.current.useEffect(D,z)},Ke.useId=function(){return Re.current.useId()},Ke.useImperativeHandle=function(D,z,oe){return Re.current.useImperativeHandle(D,z,oe)},Ke.useInsertionEffect=function(D,z){return Re.current.useInsertionEffect(D,z)},Ke.useLayoutEffect=function(D,z){return Re.current.useLayoutEffect(D,z)},Ke.useMemo=function(D,z){return Re.current.useMemo(D,z)},Ke.useReducer=function(D,z,oe){return Re.current.useReducer(D,z,oe)},Ke.useRef=function(D){return Re.current.useRef(D)},Ke.useState=function(D){return Re.current.useState(D)},Ke.useSyncExternalStore=function(D,z,oe){return Re.current.useSyncExternalStore(D,z,oe)},Ke.useTransition=function(){return Re.current.useTransition()},Ke.version="18.3.1",Ke}var y_;function Lg(){return y_||(y_=1,wm.exports=vS()),wm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function _S(){if(w_)return jc;w_=1;var t=Lg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var v,b={},C=null,A=null;m!==void 0&&(C=""+m),f.key!==void 0&&(C=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(b[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)b[v]===void 0&&(b[v]=f[v]);return{$$typeof:e,type:h,key:C,ref:A,props:b,_owner:o.current}}return jc.Fragment=n,jc.jsx=u,jc.jsxs=u,jc}var v_;function ES(){return v_||(v_=1,ym.exports=_S()),ym.exports}var w=ES(),T=Lg();const We=wS(T);var Ud={},vm={exports:{}},ar={},_m={exports:{}},Em={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function bS(){return __||(__=1,(function(t){function e(G,H){var J=G.length;G.push(H);e:for(;0<J;){var D=J-1>>>1,z=G[D];if(0<o(z,H))G[D]=H,G[J]=z,J=D;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var H=G[0],J=G.pop();if(J!==H){G[0]=J;e:for(var D=0,z=G.length,oe=z>>>1;D<oe;){var ce=2*(D+1)-1,fe=G[ce],Ee=ce+1,Ve=G[Ee];if(0>o(fe,J))Ee<z&&0>o(Ve,fe)?(G[D]=Ve,G[Ee]=J,D=Ee):(G[D]=fe,G[ce]=J,D=ce);else if(Ee<z&&0>o(Ve,J))G[D]=Ve,G[Ee]=J,D=Ee;else break e}}return H}function o(G,H){var J=G.sortIndex-H.sortIndex;return J!==0?J:G.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,b=null,C=3,A=!1,j=!1,V=!1,O=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(G){for(var H=n(m);H!==null;){if(H.callback===null)r(m);else if(H.startTime<=G)r(m),H.sortIndex=H.expirationTime,e(f,H);else break;H=n(m)}}function Z(G){if(V=!1,Q(G),!j)if(n(f)!==null)j=!0,Ue(le);else{var H=n(m);H!==null&&Re(Z,H.startTime-G)}}function le(G,H){j=!1,V&&(V=!1,B(x),x=-1),A=!0;var J=C;try{for(Q(H),b=n(f);b!==null&&(!(b.expirationTime>H)||G&&!L());){var D=b.callback;if(typeof D=="function"){b.callback=null,C=b.priorityLevel;var z=D(b.expirationTime<=H);H=t.unstable_now(),typeof z=="function"?b.callback=z:b===n(f)&&r(f),Q(H)}else r(f);b=n(f)}if(b!==null)var oe=!0;else{var ce=n(m);ce!==null&&Re(Z,ce.startTime-H),oe=!1}return oe}finally{b=null,C=J,A=!1}}var ne=!1,k=null,x=-1,P=5,S=-1;function L(){return!(t.unstable_now()-S<P)}function $(){if(k!==null){var G=t.unstable_now();S=G;var H=!0;try{H=k(!0,G)}finally{H?R():(ne=!1,k=null)}}else ne=!1}var R;if(typeof U=="function")R=function(){U($)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Ce=Oe.port2;Oe.port1.onmessage=$,R=function(){Ce.postMessage(null)}}else R=function(){O($,0)};function Ue(G){k=G,ne||(ne=!0,R())}function Re(G,H){x=O(function(){G(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){j||A||(j=!0,Ue(le))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(G){switch(C){case 1:case 2:case 3:var H=3;break;default:H=C}var J=C;C=H;try{return G()}finally{C=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,H){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=C;C=G;try{return H()}finally{C=J}},t.unstable_scheduleCallback=function(G,H,J){var D=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?D+J:D):J=D,G){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=J+z,G={id:v++,callback:H,priorityLevel:G,startTime:J,expirationTime:z,sortIndex:-1},J>D?(G.sortIndex=J,e(m,G),n(f)===null&&G===n(m)&&(V?(B(x),x=-1):V=!0,Re(Z,J-D))):(G.sortIndex=z,e(f,G),j||A||(j=!0,Ue(le))),G},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(G){var H=C;return function(){var J=C;C=H;try{return G.apply(this,arguments)}finally{C=J}}}})(Em)),Em}var E_;function CS(){return E_||(E_=1,_m.exports=bS()),_m.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function TS(){if(b_)return ar;b_=1;var t=Lg(),e=CS();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function C(s){return f.call(b,s)?!0:f.call(v,s)?!1:m.test(s)?b[s]=!0:(v[s]=!0,!1)}function A(s,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,i,l,d){if(i===null||typeof i>"u"||A(s,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function V(s,i,l,d,p,y,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=E}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){O[s]=new V(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];O[i]=new V(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){O[s]=new V(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){O[s]=new V(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){O[s]=new V(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){O[s]=new V(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){O[s]=new V(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){O[s]=new V(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){O[s]=new V(s,5,!1,s.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(B,U);O[i]=new V(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(B,U);O[i]=new V(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(B,U);O[i]=new V(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){O[s]=new V(s,1,!1,s.toLowerCase(),null,!1,!1)}),O.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){O[s]=new V(s,1,!1,s.toLowerCase(),null,!0,!0)});function Q(s,i,l,d){var p=O.hasOwnProperty(i)?O[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(j(i,l,p,d)&&(l=null),d||p===null?C(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?s.setAttributeNS(d,i,l):s.setAttribute(i,l))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),ne=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),G=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var J=Object.assign,D;function z(s){if(D===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);D=i&&i[1]||""}return`
`+D+s}var oe=!1;function ce(s,i){if(!s||oe)return"";oe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Y){var d=Y}Reflect.construct(s,[],i)}else{try{i.call()}catch(Y){d=Y}s.call(i.prototype)}else{try{throw Error()}catch(Y){d=Y}s()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var p=Y.stack.split(`
`),y=d.stack.split(`
`),E=p.length-1,N=y.length-1;1<=E&&0<=N&&p[E]!==y[N];)N--;for(;1<=E&&0<=N;E--,N--)if(p[E]!==y[N]){if(E!==1||N!==1)do if(E--,N--,0>N||p[E]!==y[N]){var M=`
`+p[E].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=E&&0<=N);break}}}finally{oe=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?z(s):""}function fe(s){switch(s.tag){case 5:return z(s.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return s=ce(s.type,!1),s;case 11:return s=ce(s.type.render,!1),s;case 1:return s=ce(s.type,!0),s;default:return""}}function Ee(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case ne:return"Portal";case P:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case Oe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case S:return(s._context.displayName||"Context")+".Provider";case $:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ce:return i=s.displayName||null,i!==null?i:Ee(s.type)||"Memo";case Ue:i=s._payload,s=s._init;try{return Ee(s(i))}catch{}}return null}function Ve(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(i);case 8:return i===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Be(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gt(s){var i=Be(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Et(s){s._valueTracker||(s._valueTracker=gt(s))}function It(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=Be(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function $n(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Un(s,i){var l=i.checked;return J({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function hr(s,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=Me(i.value!=null?i.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Qr(s,i){i=i.checked,i!=null&&Q(s,"checked",i,!1)}function Le(s,i){Qr(s,i);var l=Me(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?rt(s,i.type,l):i.hasOwnProperty("defaultValue")&&rt(s,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function ye(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function rt(s,i,l){(i!=="number"||$n(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Pe=Array.isArray;function ze(s,i,l,d){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&d&&(s[l].defaultSelected=!0)}else{for(l=""+Me(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function yt(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function qe(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Pe(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:Me(l)}}function Ye(s,i){var l=Me(i.value),d=Me(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function Je(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Xe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Xe(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var fr,Po=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,d,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(fr=fr||document.createElement("div"),fr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=fr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function gs(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ws=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(s){ws.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),ys[i]=ys[s]})});function Ao(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ys.hasOwnProperty(s)&&ys[s]?(""+i).trim():i+"px"}function No(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Ao(l,i[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,p):s[l]=p}}var ki=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Do(s,i){if(i){if(ki[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Oo(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ws=null;function Gs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ri=null,Bn=null,pr=null;function kr(s){if(s=Ec(s)){if(typeof Ri!="function")throw Error(n(280));var i=s.stateNode;i&&(i=nd(i),Ri(s.stateNode,s.type,i))}}function Rr(s){Bn?pr?pr.push(s):pr=[s]:Bn=s}function Lo(){if(Bn){var s=Bn,i=pr;if(pr=Bn=null,kr(s),i)for(s=0;s<i.length;s++)kr(i[s])}}function vs(s,i){return s(i)}function Pi(){}var Pr=!1;function Ai(s,i,l){if(Pr)return s(i,l);Pr=!0;try{return vs(s,i,l)}finally{Pr=!1,(Bn!==null||pr!==null)&&(Pi(),Lo())}}function At(s,i){var l=s.stateNode;if(l===null)return null;var d=nd(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Ks=!1;if(h)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{Ks=!1}function _s(s,i,l,d,p,y,E,N,M){var Y=Array.prototype.slice.call(arguments,3);try{i.apply(l,Y)}catch(ie){this.onError(ie)}}var Qs=!1,Ni=null,Jt=!1,vn=null,jo={onError:function(s){Qs=!0,Ni=s}};function Js(s,i,l,d,p,y,E,N,M){Qs=!1,Ni=null,_s.apply(jo,arguments)}function Mo(s,i,l,d,p,y,E,N,M){if(Js.apply(this,arguments),Qs){if(Qs){var Y=Ni;Qs=!1,Ni=null}else throw Error(n(198));Jt||(Jt=!0,vn=Y)}}function $t(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Xn(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function mr(s){if($t(s)!==s)throw Error(n(188))}function Ar(s){var i=s.alternate;if(!i){if(i=$t(s),i===null)throw Error(n(188));return i!==s?null:s}for(var l=s,d=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return mr(p),s;if(y===d)return mr(p),i;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=y;else{for(var E=!1,N=p.child;N;){if(N===l){E=!0,l=p,d=y;break}if(N===d){E=!0,d=p,l=y;break}N=N.sibling}if(!E){for(N=y.child;N;){if(N===l){E=!0,l=y,d=p;break}if(N===d){E=!0,d=y,l=p;break}N=N.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:i}function Di(s){return s=Ar(s),s!==null?Jr(s):null}function Jr(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Jr(s);if(i!==null)return i;s=s.sibling}return null}var Ys=e.unstable_scheduleCallback,Vo=e.unstable_cancelCallback,La=e.unstable_shouldYield,ic=e.unstable_requestPaint,vt=e.unstable_now,Ht=e.unstable_getCurrentPriorityLevel,gr=e.unstable_ImmediatePriority,Es=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,Fo=e.unstable_LowPriority,ja=e.unstable_IdlePriority,Xs=null,zn=null;function Ma(s){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Xs,s,void 0,(s.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Fa,$o=Math.log,Va=Math.LN2;function Fa(s){return s>>>=0,s===0?32:31-($o(s)/Va|0)|0}var Ie=64,Ge=4194304;function Nt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function sn(s,i){var l=s.pendingLanes;if(l===0)return 0;var d=0,p=s.suspendedLanes,y=s.pingedLanes,E=l&268435455;if(E!==0){var N=E&~p;N!==0?d=Nt(N):(y&=E,y!==0&&(d=Nt(y)))}else E=l&~p,E!==0?d=Nt(E):y!==0&&(d=Nt(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)l=31-Ut(i),p=1<<l,d|=s[l],i&=~p;return d}function Ae(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes;0<y;){var E=31-Ut(y),N=1<<E,M=p[E];M===-1?((N&l)===0||(N&d)!==0)&&(p[E]=Ae(N,i)):M<=i&&(s.expiredLanes|=N),y&=~N}}function Yt(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function kn(){var s=Ie;return Ie<<=1,(Ie&4194240)===0&&(Ie=64),s}function Oi(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Li(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Ut(i),s[i]=l}function _t(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-Ut(l),y=1<<p;i[p]=0,d[p]=-1,s[p]=-1,l&=~y}}function ji(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-Ut(l),p=1<<d;p&i|s[d]&i&&(s[d]|=i),l&=~p}}var st=0;function Mi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Lu,$a,ju,Mu,Vu,oc=!1,bs=[],_n=null,Yr=null,Xr=null,Vi=new Map,Nr=new Map,Cs=[],Kf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fu(s,i){switch(s){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Vi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(i.pointerId)}}function er(s,i,l,d,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},i!==null&&(i=Ec(i),i!==null&&$a(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function Qf(s,i,l,d,p){switch(i){case"focusin":return _n=er(_n,s,i,l,d,p),!0;case"dragenter":return Yr=er(Yr,s,i,l,d,p),!0;case"mouseover":return Xr=er(Xr,s,i,l,d,p),!0;case"pointerover":var y=p.pointerId;return Vi.set(y,er(Vi.get(y)||null,s,i,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Nr.set(y,er(Nr.get(y)||null,s,i,l,d,p)),!0}return!1}function $u(s){var i=qo(s.target);if(i!==null){var l=$t(i);if(l!==null){if(i=l.tag,i===13){if(i=Xn(l),i!==null){s.blockedOn=i,Vu(s.priority,function(){ju(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zs(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Ua(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Ws=d,l.target.dispatchEvent(d),Ws=null}else return i=Ec(l),i!==null&&$a(i),s.blockedOn=l,!1;i.shift()}return!0}function Uo(s,i,l){Zs(s)&&l.delete(i)}function Uu(){oc=!1,_n!==null&&Zs(_n)&&(_n=null),Yr!==null&&Zs(Yr)&&(Yr=null),Xr!==null&&Zs(Xr)&&(Xr=null),Vi.forEach(Uo),Nr.forEach(Uo)}function Zr(s,i){s.blockedOn===i&&(s.blockedOn=null,oc||(oc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Uu)))}function es(s){function i(p){return Zr(p,s)}if(0<bs.length){Zr(bs[0],s);for(var l=1;l<bs.length;l++){var d=bs[l];d.blockedOn===s&&(d.blockedOn=null)}}for(_n!==null&&Zr(_n,s),Yr!==null&&Zr(Yr,s),Xr!==null&&Zr(Xr,s),Vi.forEach(i),Nr.forEach(i),l=0;l<Cs.length;l++)d=Cs[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<Cs.length&&(l=Cs[0],l.blockedOn===null);)$u(l),l.blockedOn===null&&Cs.shift()}var ei=Z.ReactCurrentBatchConfig,Fi=!0;function Dt(s,i,l,d){var p=st,y=ei.transition;ei.transition=null;try{st=1,ac(s,i,l,d)}finally{st=p,ei.transition=y}}function Jf(s,i,l,d){var p=st,y=ei.transition;ei.transition=null;try{st=4,ac(s,i,l,d)}finally{st=p,ei.transition=y}}function ac(s,i,l,d){if(Fi){var p=Ua(s,i,l,d);if(p===null)ap(s,i,d,Bo,l),Fu(s,d);else if(Qf(p,s,i,l,d))d.stopPropagation();else if(Fu(s,d),i&4&&-1<Kf.indexOf(s)){for(;p!==null;){var y=Ec(p);if(y!==null&&Lu(y),y=Ua(s,i,l,d),y===null&&ap(s,i,d,Bo,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else ap(s,i,d,null,l)}}var Bo=null;function Ua(s,i,l,d){if(Bo=null,s=Gs(d),s=qo(s),s!==null)if(i=$t(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Xn(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Bo=s,null}function lc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ht()){case gr:return 1;case Es:return 4;case Zn:case Fo:return 16;case ja:return 536870912;default:return 16}default:return 16}}var wr=null,Ba=null,tr=null;function cc(){if(tr)return tr;var s,i=Ba,l=i.length,d,p="value"in wr?wr.value:wr.textContent,y=p.length;for(s=0;s<l&&i[s]===p[s];s++);var E=l-s;for(d=1;d<=E&&i[l-d]===p[y-d];d++);return tr=p.slice(s,1<d?1-d:void 0)}function za(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Ts(){return!0}function uc(){return!1}function En(s){function i(l,d,p,y,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ts:uc,this.isPropagationStopped=uc,this}return J(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),i}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=En(ts),Is=J({},ts,{view:0,detail:0}),Yf=En(Is),qa,ti,$i,zo=J({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$i&&($i&&s.type==="mousemove"?(qa=s.screenX-$i.screenX,ti=s.screenY-$i.screenY):ti=qa=0,$i=s),qa)},movementY:function(s){return"movementY"in s?s.movementY:ti}}),Wa=En(zo),dc=J({},zo,{dataTransfer:0}),Bu=En(dc),Ga=J({},Is,{relatedTarget:0}),Ka=En(Ga),zu=J({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),ni=En(zu),Hu=J({},ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),qu=En(Hu),Wu=J({},ts,{data:0}),hc=En(Wu),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Gu[s])?!!i[s]:!1}function Ss(){return Ku}var c=J({},Is,{key:function(s){if(s.key){var i=Qa[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=za(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(s){return s.type==="keypress"?za(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?za(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=En(c),_=J({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=En(_),q=J({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),X=En(q),he=J({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),mt=En(he),on=J({},zo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ot=En(on),hn=[9,13,27,32],Xt=h&&"CompositionEvent"in window,Dr=null;h&&"documentMode"in document&&(Dr=document.documentMode);var vr=h&&"TextEvent"in window&&!Dr,Ho=h&&(!Xt||Dr&&8<Dr&&11>=Dr),Ja=" ",uw=!1;function dw(s,i){switch(s){case"keyup":return hn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ya=!1;function mI(s,i){switch(s){case"compositionend":return hw(i);case"keypress":return i.which!==32?null:(uw=!0,Ja);case"textInput":return s=i.data,s===Ja&&uw?null:s;default:return null}}function gI(s,i){if(Ya)return s==="compositionend"||!Xt&&dw(s,i)?(s=cc(),tr=Ba=wr=null,Ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ho&&i.locale!=="ko"?null:i.data;default:return null}}var yI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fw(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!yI[s.type]:i==="textarea"}function pw(s,i,l,d){Rr(d),i=Zu(i,"onChange"),0<i.length&&(l=new Ha("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var fc=null,pc=null;function wI(s){Nw(s,0)}function Qu(s){var i=nl(s);if(It(i))return s}function vI(s,i){if(s==="change")return i}var mw=!1;if(h){var Xf;if(h){var Zf="oninput"in document;if(!Zf){var gw=document.createElement("div");gw.setAttribute("oninput","return;"),Zf=typeof gw.oninput=="function"}Xf=Zf}else Xf=!1;mw=Xf&&(!document.documentMode||9<document.documentMode)}function yw(){fc&&(fc.detachEvent("onpropertychange",ww),pc=fc=null)}function ww(s){if(s.propertyName==="value"&&Qu(pc)){var i=[];pw(i,pc,s,Gs(s)),Ai(wI,i)}}function _I(s,i,l){s==="focusin"?(yw(),fc=i,pc=l,fc.attachEvent("onpropertychange",ww)):s==="focusout"&&yw()}function EI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qu(pc)}function bI(s,i){if(s==="click")return Qu(i)}function CI(s,i){if(s==="input"||s==="change")return Qu(i)}function TI(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var ns=typeof Object.is=="function"?Object.is:TI;function mc(s,i){if(ns(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(i,p)||!ns(s[p],i[p]))return!1}return!0}function vw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _w(s,i){var l=vw(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=vw(l)}}function Ew(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Ew(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function bw(){for(var s=window,i=$n();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=$n(s.document)}return i}function ep(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function II(s){var i=bw(),l=s.focusedElem,d=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Ew(l.ownerDocument.documentElement,l)){if(d!==null&&ep(l)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!s.extend&&y>d&&(p=d,d=y,y=p),p=_w(l,y);var E=_w(l,d);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),y>d?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var SI=h&&"documentMode"in document&&11>=document.documentMode,Xa=null,tp=null,gc=null,np=!1;function Cw(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;np||Xa==null||Xa!==$n(d)||(d=Xa,"selectionStart"in d&&ep(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),gc&&mc(gc,d)||(gc=d,d=Zu(tp,"onSelect"),0<d.length&&(i=new Ha("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=Xa)))}function Ju(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Za={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},rp={},Tw={};h&&(Tw=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Yu(s){if(rp[s])return rp[s];if(!Za[s])return s;var i=Za[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Tw)return rp[s]=i[l];return s}var Iw=Yu("animationend"),Sw=Yu("animationiteration"),xw=Yu("animationstart"),kw=Yu("transitionend"),Rw=new Map,Pw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(s,i){Rw.set(s,i),a(i,[s])}for(var sp=0;sp<Pw.length;sp++){var ip=Pw[sp],xI=ip.toLowerCase(),kI=ip[0].toUpperCase()+ip.slice(1);Ui(xI,"on"+kI)}Ui(Iw,"onAnimationEnd"),Ui(Sw,"onAnimationIteration"),Ui(xw,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(kw,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RI=new Set("cancel close invalid load scroll toggle".split(" ").concat(yc));function Aw(s,i,l){var d=s.type||"unknown-event";s.currentTarget=l,Mo(d,i,void 0,s),s.currentTarget=null}function Nw(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],p=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var E=d.length-1;0<=E;E--){var N=d[E],M=N.instance,Y=N.currentTarget;if(N=N.listener,M!==y&&p.isPropagationStopped())break e;Aw(p,N,Y),y=M}else for(E=0;E<d.length;E++){if(N=d[E],M=N.instance,Y=N.currentTarget,N=N.listener,M!==y&&p.isPropagationStopped())break e;Aw(p,N,Y),y=M}}}if(Jt)throw s=vn,Jt=!1,vn=null,s}function St(s,i){var l=i[fp];l===void 0&&(l=i[fp]=new Set);var d=s+"__bubble";l.has(d)||(Dw(i,s,2,!1),l.add(d))}function op(s,i,l){var d=0;i&&(d|=4),Dw(l,s,d,i)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function wc(s){if(!s[Xu]){s[Xu]=!0,r.forEach(function(l){l!=="selectionchange"&&(RI.has(l)||op(l,!1,s),op(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Xu]||(i[Xu]=!0,op("selectionchange",!1,i))}}function Dw(s,i,l,d){switch(lc(i)){case 1:var p=Dt;break;case 4:p=Jf;break;default:p=ac}l=p.bind(null,i,l,s),p=void 0,!Ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function ap(s,i,l,d,p){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var N=d.stateNode.containerInfo;if(N===p||N.nodeType===8&&N.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var M=E.tag;if((M===3||M===4)&&(M=E.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;E=E.return}for(;N!==null;){if(E=qo(N),E===null)return;if(M=E.tag,M===5||M===6){d=y=E;continue e}N=N.parentNode}}d=d.return}Ai(function(){var Y=y,ie=Gs(l),ae=[];e:{var se=Rw.get(s);if(se!==void 0){var me=Ha,ve=s;switch(s){case"keypress":if(za(l)===0)break e;case"keydown":case"keyup":me=g;break;case"focusin":ve="focus",me=Ka;break;case"focusout":ve="blur",me=Ka;break;case"beforeblur":case"afterblur":me=Ka;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=X;break;case Iw:case Sw:case xw:me=ni;break;case kw:me=mt;break;case"scroll":me=Yf;break;case"wheel":me=ot;break;case"copy":case"cut":case"paste":me=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=I}var _e=(i&4)!==0,qt=!_e&&s==="scroll",W=_e?se!==null?se+"Capture":null:se;_e=[];for(var F=Y,K;F!==null;){K=F;var de=K.stateNode;if(K.tag===5&&de!==null&&(K=de,W!==null&&(de=At(F,W),de!=null&&_e.push(vc(F,de,K)))),qt)break;F=F.return}0<_e.length&&(se=new me(se,ve,null,l,ie),ae.push({event:se,listeners:_e}))}}if((i&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",se&&l!==Ws&&(ve=l.relatedTarget||l.fromElement)&&(qo(ve)||ve[ri]))break e;if((me||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,me?(ve=l.relatedTarget||l.toElement,me=Y,ve=ve?qo(ve):null,ve!==null&&(qt=$t(ve),ve!==qt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=Y),me!==ve)){if(_e=Wa,de="onMouseLeave",W="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(_e=I,de="onPointerLeave",W="onPointerEnter",F="pointer"),qt=me==null?se:nl(me),K=ve==null?se:nl(ve),se=new _e(de,F+"leave",me,l,ie),se.target=qt,se.relatedTarget=K,de=null,qo(ie)===Y&&(_e=new _e(W,F+"enter",ve,l,ie),_e.target=K,_e.relatedTarget=qt,de=_e),qt=de,me&&ve)t:{for(_e=me,W=ve,F=0,K=_e;K;K=el(K))F++;for(K=0,de=W;de;de=el(de))K++;for(;0<F-K;)_e=el(_e),F--;for(;0<K-F;)W=el(W),K--;for(;F--;){if(_e===W||W!==null&&_e===W.alternate)break t;_e=el(_e),W=el(W)}_e=null}else _e=null;me!==null&&Ow(ae,se,me,_e,!1),ve!==null&&qt!==null&&Ow(ae,qt,ve,_e,!0)}}e:{if(se=Y?nl(Y):window,me=se.nodeName&&se.nodeName.toLowerCase(),me==="select"||me==="input"&&se.type==="file")var be=vI;else if(fw(se))if(mw)be=CI;else{be=EI;var Se=_I}else(me=se.nodeName)&&me.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(be=bI);if(be&&(be=be(s,Y))){pw(ae,be,l,ie);break e}Se&&Se(s,se,Y),s==="focusout"&&(Se=se._wrapperState)&&Se.controlled&&se.type==="number"&&rt(se,"number",se.value)}switch(Se=Y?nl(Y):window,s){case"focusin":(fw(Se)||Se.contentEditable==="true")&&(Xa=Se,tp=Y,gc=null);break;case"focusout":gc=tp=Xa=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,Cw(ae,l,ie);break;case"selectionchange":if(SI)break;case"keydown":case"keyup":Cw(ae,l,ie)}var xe;if(Xt)e:{switch(s){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ya?dw(s,l)&&(je="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&(Ho&&l.locale!=="ko"&&(Ya||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ya&&(xe=cc()):(wr=ie,Ba="value"in wr?wr.value:wr.textContent,Ya=!0)),Se=Zu(Y,je),0<Se.length&&(je=new hc(je,s,null,l,ie),ae.push({event:je,listeners:Se}),xe?je.data=xe:(xe=hw(l),xe!==null&&(je.data=xe)))),(xe=vr?mI(s,l):gI(s,l))&&(Y=Zu(Y,"onBeforeInput"),0<Y.length&&(ie=new hc("onBeforeInput","beforeinput",null,l,ie),ae.push({event:ie,listeners:Y}),ie.data=xe))}Nw(ae,i)})}function vc(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Zu(s,i){for(var l=i+"Capture",d=[];s!==null;){var p=s,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=At(s,l),y!=null&&d.unshift(vc(s,y,p)),y=At(s,i),y!=null&&d.push(vc(s,y,p))),s=s.return}return d}function el(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ow(s,i,l,d,p){for(var y=i._reactName,E=[];l!==null&&l!==d;){var N=l,M=N.alternate,Y=N.stateNode;if(M!==null&&M===d)break;N.tag===5&&Y!==null&&(N=Y,p?(M=At(l,y),M!=null&&E.unshift(vc(l,M,N))):p||(M=At(l,y),M!=null&&E.push(vc(l,M,N)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var PI=/\r\n?/g,AI=/\u0000|\uFFFD/g;function Lw(s){return(typeof s=="string"?s:""+s).replace(PI,`
`).replace(AI,"")}function ed(s,i,l){if(i=Lw(i),Lw(s)!==i&&l)throw Error(n(425))}function td(){}var lp=null,cp=null;function up(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dp=typeof setTimeout=="function"?setTimeout:void 0,NI=typeof clearTimeout=="function"?clearTimeout:void 0,jw=typeof Promise=="function"?Promise:void 0,DI=typeof queueMicrotask=="function"?queueMicrotask:typeof jw<"u"?function(s){return jw.resolve(null).then(s).catch(OI)}:dp;function OI(s){setTimeout(function(){throw s})}function hp(s,i){var l=i,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){s.removeChild(p),es(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);es(i)}function Bi(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Mw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var tl=Math.random().toString(36).slice(2),xs="__reactFiber$"+tl,_c="__reactProps$"+tl,ri="__reactContainer$"+tl,fp="__reactEvents$"+tl,LI="__reactListeners$"+tl,jI="__reactHandles$"+tl;function qo(s){var i=s[xs];if(i)return i;for(var l=s.parentNode;l;){if(i=l[ri]||l[xs]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=Mw(s);s!==null;){if(l=s[xs])return l;s=Mw(s)}return i}s=l,l=s.parentNode}return null}function Ec(s){return s=s[xs]||s[ri],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function nl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function nd(s){return s[_c]||null}var pp=[],rl=-1;function zi(s){return{current:s}}function xt(s){0>rl||(s.current=pp[rl],pp[rl]=null,rl--)}function bt(s,i){rl++,pp[rl]=s.current,s.current=i}var Hi={},Rn=zi(Hi),nr=zi(!1),Wo=Hi;function sl(s,i){var l=s.type.contextTypes;if(!l)return Hi;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=i[y];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function rr(s){return s=s.childContextTypes,s!=null}function rd(){xt(nr),xt(Rn)}function Vw(s,i,l){if(Rn.current!==Hi)throw Error(n(168));bt(Rn,i),bt(nr,l)}function Fw(s,i,l){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,Ve(s)||"Unknown",p));return J({},l,d)}function sd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hi,Wo=Rn.current,bt(Rn,s),bt(nr,nr.current),!0}function $w(s,i,l){var d=s.stateNode;if(!d)throw Error(n(169));l?(s=Fw(s,i,Wo),d.__reactInternalMemoizedMergedChildContext=s,xt(nr),xt(Rn),bt(Rn,s)):xt(nr),bt(nr,l)}var si=null,id=!1,mp=!1;function Uw(s){si===null?si=[s]:si.push(s)}function MI(s){id=!0,Uw(s)}function qi(){if(!mp&&si!==null){mp=!0;var s=0,i=st;try{var l=si;for(st=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}si=null,id=!1}catch(p){throw si!==null&&(si=si.slice(s+1)),Ys(gr,qi),p}finally{st=i,mp=!1}}return null}var il=[],ol=0,od=null,ad=0,Or=[],Lr=0,Go=null,ii=1,oi="";function Ko(s,i){il[ol++]=ad,il[ol++]=od,od=s,ad=i}function Bw(s,i,l){Or[Lr++]=ii,Or[Lr++]=oi,Or[Lr++]=Go,Go=s;var d=ii;s=oi;var p=32-Ut(d)-1;d&=~(1<<p),l+=1;var y=32-Ut(i)+p;if(30<y){var E=p-p%5;y=(d&(1<<E)-1).toString(32),d>>=E,p-=E,ii=1<<32-Ut(i)+p|l<<p|d,oi=y+s}else ii=1<<y|l<<p|d,oi=s}function gp(s){s.return!==null&&(Ko(s,1),Bw(s,1,0))}function yp(s){for(;s===od;)od=il[--ol],il[ol]=null,ad=il[--ol],il[ol]=null;for(;s===Go;)Go=Or[--Lr],Or[Lr]=null,oi=Or[--Lr],Or[Lr]=null,ii=Or[--Lr],Or[Lr]=null}var _r=null,Er=null,Ot=!1,rs=null;function zw(s,i){var l=Fr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Hw(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,_r=s,Er=Bi(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,_r=s,Er=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Go!==null?{id:ii,overflow:oi}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Fr(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,_r=s,Er=null,!0):!1;default:return!1}}function wp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function vp(s){if(Ot){var i=Er;if(i){var l=i;if(!Hw(s,i)){if(wp(s))throw Error(n(418));i=Bi(l.nextSibling);var d=_r;i&&Hw(s,i)?zw(d,l):(s.flags=s.flags&-4097|2,Ot=!1,_r=s)}}else{if(wp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Ot=!1,_r=s}}}function qw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;_r=s}function ld(s){if(s!==_r)return!1;if(!Ot)return qw(s),Ot=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!up(s.type,s.memoizedProps)),i&&(i=Er)){if(wp(s))throw Ww(),Error(n(418));for(;i;)zw(s,i),i=Bi(i.nextSibling)}if(qw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){Er=Bi(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}Er=null}}else Er=_r?Bi(s.stateNode.nextSibling):null;return!0}function Ww(){for(var s=Er;s;)s=Bi(s.nextSibling)}function al(){Er=_r=null,Ot=!1}function _p(s){rs===null?rs=[s]:rs.push(s)}var VI=Z.ReactCurrentBatchConfig;function bc(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,s));var p=d,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(E){var N=p.refs;E===null?delete N[y]:N[y]=E},i._stringRef=y,i)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function cd(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Gw(s){var i=s._init;return i(s._payload)}function Kw(s){function i(W,F){if(s){var K=W.deletions;K===null?(W.deletions=[F],W.flags|=16):K.push(F)}}function l(W,F){if(!s)return null;for(;F!==null;)i(W,F),F=F.sibling;return null}function d(W,F){for(W=new Map;F!==null;)F.key!==null?W.set(F.key,F):W.set(F.index,F),F=F.sibling;return W}function p(W,F){return W=Zi(W,F),W.index=0,W.sibling=null,W}function y(W,F,K){return W.index=K,s?(K=W.alternate,K!==null?(K=K.index,K<F?(W.flags|=2,F):K):(W.flags|=2,F)):(W.flags|=1048576,F)}function E(W){return s&&W.alternate===null&&(W.flags|=2),W}function N(W,F,K,de){return F===null||F.tag!==6?(F=dm(K,W.mode,de),F.return=W,F):(F=p(F,K),F.return=W,F)}function M(W,F,K,de){var be=K.type;return be===k?ie(W,F,K.props.children,de,K.key):F!==null&&(F.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Ue&&Gw(be)===F.type)?(de=p(F,K.props),de.ref=bc(W,F,K),de.return=W,de):(de=Dd(K.type,K.key,K.props,null,W.mode,de),de.ref=bc(W,F,K),de.return=W,de)}function Y(W,F,K,de){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=hm(K,W.mode,de),F.return=W,F):(F=p(F,K.children||[]),F.return=W,F)}function ie(W,F,K,de,be){return F===null||F.tag!==7?(F=na(K,W.mode,de,be),F.return=W,F):(F=p(F,K),F.return=W,F)}function ae(W,F,K){if(typeof F=="string"&&F!==""||typeof F=="number")return F=dm(""+F,W.mode,K),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case le:return K=Dd(F.type,F.key,F.props,null,W.mode,K),K.ref=bc(W,null,F),K.return=W,K;case ne:return F=hm(F,W.mode,K),F.return=W,F;case Ue:var de=F._init;return ae(W,de(F._payload),K)}if(Pe(F)||H(F))return F=na(F,W.mode,K,null),F.return=W,F;cd(W,F)}return null}function se(W,F,K,de){var be=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return be!==null?null:N(W,F,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case le:return K.key===be?M(W,F,K,de):null;case ne:return K.key===be?Y(W,F,K,de):null;case Ue:return be=K._init,se(W,F,be(K._payload),de)}if(Pe(K)||H(K))return be!==null?null:ie(W,F,K,de,null);cd(W,K)}return null}function me(W,F,K,de,be){if(typeof de=="string"&&de!==""||typeof de=="number")return W=W.get(K)||null,N(F,W,""+de,be);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case le:return W=W.get(de.key===null?K:de.key)||null,M(F,W,de,be);case ne:return W=W.get(de.key===null?K:de.key)||null,Y(F,W,de,be);case Ue:var Se=de._init;return me(W,F,K,Se(de._payload),be)}if(Pe(de)||H(de))return W=W.get(K)||null,ie(F,W,de,be,null);cd(F,de)}return null}function ve(W,F,K,de){for(var be=null,Se=null,xe=F,je=F=0,mn=null;xe!==null&&je<K.length;je++){xe.index>je?(mn=xe,xe=null):mn=xe.sibling;var ct=se(W,xe,K[je],de);if(ct===null){xe===null&&(xe=mn);break}s&&xe&&ct.alternate===null&&i(W,xe),F=y(ct,F,je),Se===null?be=ct:Se.sibling=ct,Se=ct,xe=mn}if(je===K.length)return l(W,xe),Ot&&Ko(W,je),be;if(xe===null){for(;je<K.length;je++)xe=ae(W,K[je],de),xe!==null&&(F=y(xe,F,je),Se===null?be=xe:Se.sibling=xe,Se=xe);return Ot&&Ko(W,je),be}for(xe=d(W,xe);je<K.length;je++)mn=me(xe,W,je,K[je],de),mn!==null&&(s&&mn.alternate!==null&&xe.delete(mn.key===null?je:mn.key),F=y(mn,F,je),Se===null?be=mn:Se.sibling=mn,Se=mn);return s&&xe.forEach(function(eo){return i(W,eo)}),Ot&&Ko(W,je),be}function _e(W,F,K,de){var be=H(K);if(typeof be!="function")throw Error(n(150));if(K=be.call(K),K==null)throw Error(n(151));for(var Se=be=null,xe=F,je=F=0,mn=null,ct=K.next();xe!==null&&!ct.done;je++,ct=K.next()){xe.index>je?(mn=xe,xe=null):mn=xe.sibling;var eo=se(W,xe,ct.value,de);if(eo===null){xe===null&&(xe=mn);break}s&&xe&&eo.alternate===null&&i(W,xe),F=y(eo,F,je),Se===null?be=eo:Se.sibling=eo,Se=eo,xe=mn}if(ct.done)return l(W,xe),Ot&&Ko(W,je),be;if(xe===null){for(;!ct.done;je++,ct=K.next())ct=ae(W,ct.value,de),ct!==null&&(F=y(ct,F,je),Se===null?be=ct:Se.sibling=ct,Se=ct);return Ot&&Ko(W,je),be}for(xe=d(W,xe);!ct.done;je++,ct=K.next())ct=me(xe,W,je,ct.value,de),ct!==null&&(s&&ct.alternate!==null&&xe.delete(ct.key===null?je:ct.key),F=y(ct,F,je),Se===null?be=ct:Se.sibling=ct,Se=ct);return s&&xe.forEach(function(yS){return i(W,yS)}),Ot&&Ko(W,je),be}function qt(W,F,K,de){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case le:e:{for(var be=K.key,Se=F;Se!==null;){if(Se.key===be){if(be=K.type,be===k){if(Se.tag===7){l(W,Se.sibling),F=p(Se,K.props.children),F.return=W,W=F;break e}}else if(Se.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Ue&&Gw(be)===Se.type){l(W,Se.sibling),F=p(Se,K.props),F.ref=bc(W,Se,K),F.return=W,W=F;break e}l(W,Se);break}else i(W,Se);Se=Se.sibling}K.type===k?(F=na(K.props.children,W.mode,de,K.key),F.return=W,W=F):(de=Dd(K.type,K.key,K.props,null,W.mode,de),de.ref=bc(W,F,K),de.return=W,W=de)}return E(W);case ne:e:{for(Se=K.key;F!==null;){if(F.key===Se)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){l(W,F.sibling),F=p(F,K.children||[]),F.return=W,W=F;break e}else{l(W,F);break}else i(W,F);F=F.sibling}F=hm(K,W.mode,de),F.return=W,W=F}return E(W);case Ue:return Se=K._init,qt(W,F,Se(K._payload),de)}if(Pe(K))return ve(W,F,K,de);if(H(K))return _e(W,F,K,de);cd(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,F!==null&&F.tag===6?(l(W,F.sibling),F=p(F,K),F.return=W,W=F):(l(W,F),F=dm(K,W.mode,de),F.return=W,W=F),E(W)):l(W,F)}return qt}var ll=Kw(!0),Qw=Kw(!1),ud=zi(null),dd=null,cl=null,Ep=null;function bp(){Ep=cl=dd=null}function Cp(s){var i=ud.current;xt(ud),s._currentValue=i}function Tp(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function ul(s,i){dd=s,Ep=cl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(sr=!0),s.firstContext=null)}function jr(s){var i=s._currentValue;if(Ep!==s)if(s={context:s,memoizedValue:i,next:null},cl===null){if(dd===null)throw Error(n(308));cl=s,dd.dependencies={lanes:0,firstContext:s}}else cl=cl.next=s;return i}var Qo=null;function Ip(s){Qo===null?Qo=[s]:Qo.push(s)}function Jw(s,i,l,d){var p=i.interleaved;return p===null?(l.next=l,Ip(i)):(l.next=p.next,p.next=l),i.interleaved=l,ai(s,d)}function ai(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Wi=!1;function Sp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yw(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function li(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Gi(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(lt&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,ai(s,l)}return p=d.interleaved,p===null?(i.next=i,Ip(d)):(i.next=p.next,p.next=i),d.interleaved=i,ai(s,l)}function hd(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,ji(s,l)}}function Xw(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function fd(s,i,l,d){var p=s.updateQueue;Wi=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var M=N,Y=M.next;M.next=null,E===null?y=Y:E.next=Y,E=M;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,N=ie.lastBaseUpdate,N!==E&&(N===null?ie.firstBaseUpdate=Y:N.next=Y,ie.lastBaseUpdate=M))}if(y!==null){var ae=p.baseState;E=0,ie=Y=M=null,N=y;do{var se=N.lane,me=N.eventTime;if((d&se)===se){ie!==null&&(ie=ie.next={eventTime:me,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ve=s,_e=N;switch(se=i,me=l,_e.tag){case 1:if(ve=_e.payload,typeof ve=="function"){ae=ve.call(me,ae,se);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=_e.payload,se=typeof ve=="function"?ve.call(me,ae,se):ve,se==null)break e;ae=J({},ae,se);break e;case 2:Wi=!0}}N.callback!==null&&N.lane!==0&&(s.flags|=64,se=p.effects,se===null?p.effects=[N]:se.push(N))}else me={eventTime:me,lane:se,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ie===null?(Y=ie=me,M=ae):ie=ie.next=me,E|=se;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;se=N,N=se.next,se.next=null,p.lastBaseUpdate=se,p.shared.pending=null}}while(!0);if(ie===null&&(M=ae),p.baseState=M,p.firstBaseUpdate=Y,p.lastBaseUpdate=ie,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);Xo|=E,s.lanes=E,s.memoizedState=ae}}function Zw(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Cc={},ks=zi(Cc),Tc=zi(Cc),Ic=zi(Cc);function Jo(s){if(s===Cc)throw Error(n(174));return s}function xp(s,i){switch(bt(Ic,i),bt(Tc,s),bt(ks,Cc),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:wt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=wt(i,s)}xt(ks),bt(ks,i)}function dl(){xt(ks),xt(Tc),xt(Ic)}function ev(s){Jo(Ic.current);var i=Jo(ks.current),l=wt(i,s.type);i!==l&&(bt(Tc,s),bt(ks,l))}function kp(s){Tc.current===s&&(xt(ks),xt(Tc))}var jt=zi(0);function pd(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Rp=[];function Pp(){for(var s=0;s<Rp.length;s++)Rp[s]._workInProgressVersionPrimary=null;Rp.length=0}var md=Z.ReactCurrentDispatcher,Ap=Z.ReactCurrentBatchConfig,Yo=0,Mt=null,an=null,fn=null,gd=!1,Sc=!1,xc=0,FI=0;function Pn(){throw Error(n(321))}function Np(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!ns(s[l],i[l]))return!1;return!0}function Dp(s,i,l,d,p,y){if(Yo=y,Mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,md.current=s===null||s.memoizedState===null?zI:HI,s=l(d,p),Sc){y=0;do{if(Sc=!1,xc=0,25<=y)throw Error(n(301));y+=1,fn=an=null,i.updateQueue=null,md.current=qI,s=l(d,p)}while(Sc)}if(md.current=vd,i=an!==null&&an.next!==null,Yo=0,fn=an=Mt=null,gd=!1,i)throw Error(n(300));return s}function Op(){var s=xc!==0;return xc=0,s}function Rs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Mt.memoizedState=fn=s:fn=fn.next=s,fn}function Mr(){if(an===null){var s=Mt.alternate;s=s!==null?s.memoizedState:null}else s=an.next;var i=fn===null?Mt.memoizedState:fn.next;if(i!==null)fn=i,an=s;else{if(s===null)throw Error(n(310));an=s,s={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},fn===null?Mt.memoizedState=fn=s:fn=fn.next=s}return fn}function kc(s,i){return typeof i=="function"?i(s):i}function Lp(s){var i=Mr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=an,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var N=E=null,M=null,Y=y;do{var ie=Y.lane;if((Yo&ie)===ie)M!==null&&(M=M.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:s(d,Y.action);else{var ae={lane:ie,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};M===null?(N=M=ae,E=d):M=M.next=ae,Mt.lanes|=ie,Xo|=ie}Y=Y.next}while(Y!==null&&Y!==y);M===null?E=d:M.next=N,ns(d,i.memoizedState)||(sr=!0),i.memoizedState=d,i.baseState=E,i.baseQueue=M,l.lastRenderedState=d}if(s=l.interleaved,s!==null){p=s;do y=p.lane,Mt.lanes|=y,Xo|=y,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function jp(s){var i=Mr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=s(y,E.action),E=E.next;while(E!==p);ns(y,i.memoizedState)||(sr=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,d]}function tv(){}function nv(s,i){var l=Mt,d=Mr(),p=i(),y=!ns(d.memoizedState,p);if(y&&(d.memoizedState=p,sr=!0),d=d.queue,Mp(iv.bind(null,l,d,s),[s]),d.getSnapshot!==i||y||fn!==null&&fn.memoizedState.tag&1){if(l.flags|=2048,Rc(9,sv.bind(null,l,d,p,i),void 0,null),pn===null)throw Error(n(349));(Yo&30)!==0||rv(l,i,p)}return p}function rv(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Mt.updateQueue,i===null?(i={lastEffect:null,stores:null},Mt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function sv(s,i,l,d){i.value=l,i.getSnapshot=d,ov(i)&&av(s)}function iv(s,i,l){return l(function(){ov(i)&&av(s)})}function ov(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!ns(s,l)}catch{return!0}}function av(s){var i=ai(s,1);i!==null&&as(i,s,1,-1)}function lv(s){var i=Rs();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kc,lastRenderedState:s},i.queue=s,s=s.dispatch=BI.bind(null,Mt,s),[i.memoizedState,s]}function Rc(s,i,l,d){return s={tag:s,create:i,destroy:l,deps:d,next:null},i=Mt.updateQueue,i===null?(i={lastEffect:null,stores:null},Mt.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s)),s}function cv(){return Mr().memoizedState}function yd(s,i,l,d){var p=Rs();Mt.flags|=s,p.memoizedState=Rc(1|i,l,void 0,d===void 0?null:d)}function wd(s,i,l,d){var p=Mr();d=d===void 0?null:d;var y=void 0;if(an!==null){var E=an.memoizedState;if(y=E.destroy,d!==null&&Np(d,E.deps)){p.memoizedState=Rc(i,l,y,d);return}}Mt.flags|=s,p.memoizedState=Rc(1|i,l,y,d)}function uv(s,i){return yd(8390656,8,s,i)}function Mp(s,i){return wd(2048,8,s,i)}function dv(s,i){return wd(4,2,s,i)}function hv(s,i){return wd(4,4,s,i)}function fv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function pv(s,i,l){return l=l!=null?l.concat([s]):null,wd(4,4,fv.bind(null,i,s),l)}function Vp(){}function mv(s,i){var l=Mr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Np(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function gv(s,i){var l=Mr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Np(i,d[1])?d[0]:(s=s(),l.memoizedState=[s,i],s)}function yv(s,i,l){return(Yo&21)===0?(s.baseState&&(s.baseState=!1,sr=!0),s.memoizedState=l):(ns(l,i)||(l=kn(),Mt.lanes|=l,Xo|=l,s.baseState=!0),i)}function $I(s,i){var l=st;st=l!==0&&4>l?l:4,s(!0);var d=Ap.transition;Ap.transition={};try{s(!1),i()}finally{st=l,Ap.transition=d}}function wv(){return Mr().memoizedState}function UI(s,i,l){var d=Yi(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},vv(s))_v(i,l);else if(l=Jw(s,i,l,d),l!==null){var p=Wn();as(l,s,d,p),Ev(l,i,d)}}function BI(s,i,l){var d=Yi(s),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(vv(s))_v(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,N=y(E,l);if(p.hasEagerState=!0,p.eagerState=N,ns(N,E)){var M=i.interleaved;M===null?(p.next=p,Ip(i)):(p.next=M.next,M.next=p),i.interleaved=p;return}}catch{}finally{}l=Jw(s,i,p,d),l!==null&&(p=Wn(),as(l,s,d,p),Ev(l,i,d))}}function vv(s){var i=s.alternate;return s===Mt||i!==null&&i===Mt}function _v(s,i){Sc=gd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Ev(s,i,l){if((l&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,ji(s,l)}}var vd={readContext:jr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},zI={readContext:jr,useCallback:function(s,i){return Rs().memoizedState=[s,i===void 0?null:i],s},useContext:jr,useEffect:uv,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,yd(4194308,4,fv.bind(null,i,s),l)},useLayoutEffect:function(s,i){return yd(4194308,4,s,i)},useInsertionEffect:function(s,i){return yd(4,2,s,i)},useMemo:function(s,i){var l=Rs();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var d=Rs();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=UI.bind(null,Mt,s),[d.memoizedState,s]},useRef:function(s){var i=Rs();return s={current:s},i.memoizedState=s},useState:lv,useDebugValue:Vp,useDeferredValue:function(s){return Rs().memoizedState=s},useTransition:function(){var s=lv(!1),i=s[0];return s=$I.bind(null,s[1]),Rs().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var d=Mt,p=Rs();if(Ot){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),pn===null)throw Error(n(349));(Yo&30)!==0||rv(d,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,uv(iv.bind(null,d,y,s),[s]),d.flags|=2048,Rc(9,sv.bind(null,d,y,l,i),void 0,null),l},useId:function(){var s=Rs(),i=pn.identifierPrefix;if(Ot){var l=oi,d=ii;l=(d&~(1<<32-Ut(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=xc++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=FI++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},HI={readContext:jr,useCallback:mv,useContext:jr,useEffect:Mp,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:hv,useMemo:gv,useReducer:Lp,useRef:cv,useState:function(){return Lp(kc)},useDebugValue:Vp,useDeferredValue:function(s){var i=Mr();return yv(i,an.memoizedState,s)},useTransition:function(){var s=Lp(kc)[0],i=Mr().memoizedState;return[s,i]},useMutableSource:tv,useSyncExternalStore:nv,useId:wv,unstable_isNewReconciler:!1},qI={readContext:jr,useCallback:mv,useContext:jr,useEffect:Mp,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:hv,useMemo:gv,useReducer:jp,useRef:cv,useState:function(){return jp(kc)},useDebugValue:Vp,useDeferredValue:function(s){var i=Mr();return an===null?i.memoizedState=s:yv(i,an.memoizedState,s)},useTransition:function(){var s=jp(kc)[0],i=Mr().memoizedState;return[s,i]},useMutableSource:tv,useSyncExternalStore:nv,useId:wv,unstable_isNewReconciler:!1};function ss(s,i){if(s&&s.defaultProps){i=J({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function Fp(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:J({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var _d={isMounted:function(s){return(s=s._reactInternals)?$t(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var d=Wn(),p=Yi(s),y=li(d,p);y.payload=i,l!=null&&(y.callback=l),i=Gi(s,y,p),i!==null&&(as(i,s,p,d),hd(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=Wn(),p=Yi(s),y=li(d,p);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=Gi(s,y,p),i!==null&&(as(i,s,p,d),hd(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Wn(),d=Yi(s),p=li(l,d);p.tag=2,i!=null&&(p.callback=i),i=Gi(s,p,d),i!==null&&(as(i,s,d,l),hd(i,s,d))}};function bv(s,i,l,d,p,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,E):i.prototype&&i.prototype.isPureReactComponent?!mc(l,d)||!mc(p,y):!0}function Cv(s,i,l){var d=!1,p=Hi,y=i.contextType;return typeof y=="object"&&y!==null?y=jr(y):(p=rr(i)?Wo:Rn.current,d=i.contextTypes,y=(d=d!=null)?sl(s,p):Hi),i=new i(l,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=_d,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=y),i}function Tv(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&_d.enqueueReplaceState(i,i.state,null)}function $p(s,i,l,d){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},Sp(s);var y=i.contextType;typeof y=="object"&&y!==null?p.context=jr(y):(y=rr(i)?Wo:Rn.current,p.context=sl(s,y)),p.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Fp(s,i,y,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&_d.enqueueReplaceState(p,p.state,null),fd(s,l,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function hl(s,i){try{var l="",d=i;do l+=fe(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:p,digest:null}}function Up(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Bp(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var WI=typeof WeakMap=="function"?WeakMap:Map;function Iv(s,i,l){l=li(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){xd||(xd=!0,rm=d),Bp(s,i)},l}function Sv(s,i,l){l=li(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){Bp(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Bp(s,i),typeof d!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function xv(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new WI;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),s=oS.bind(null,s,i,l),i.then(s,s))}function kv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Rv(s,i,l,d,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=li(-1,1),i.tag=2,Gi(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var GI=Z.ReactCurrentOwner,sr=!1;function qn(s,i,l,d){i.child=s===null?Qw(i,null,l,d):ll(i,s.child,l,d)}function Pv(s,i,l,d,p){l=l.render;var y=i.ref;return ul(i,p),d=Dp(s,i,l,d,y,p),l=Op(),s!==null&&!sr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ci(s,i,p)):(Ot&&l&&gp(i),i.flags|=1,qn(s,i,d,p),i.child)}function Av(s,i,l,d,p){if(s===null){var y=l.type;return typeof y=="function"&&!um(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Nv(s,i,y,d,p)):(s=Dd(l.type,null,d,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:mc,l(E,d)&&s.ref===i.ref)return ci(s,i,p)}return i.flags|=1,s=Zi(y,d),s.ref=i.ref,s.return=i,i.child=s}function Nv(s,i,l,d,p){if(s!==null){var y=s.memoizedProps;if(mc(y,d)&&s.ref===i.ref)if(sr=!1,i.pendingProps=d=y,(s.lanes&p)!==0)(s.flags&131072)!==0&&(sr=!0);else return i.lanes=s.lanes,ci(s,i,p)}return zp(s,i,l,d,p)}function Dv(s,i,l){var d=i.pendingProps,p=d.children,y=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(pl,br),br|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,bt(pl,br),br|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,bt(pl,br),br|=d}else y!==null?(d=y.baseLanes|l,i.memoizedState=null):d=l,bt(pl,br),br|=d;return qn(s,i,p,l),i.child}function Ov(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function zp(s,i,l,d,p){var y=rr(l)?Wo:Rn.current;return y=sl(i,y),ul(i,p),l=Dp(s,i,l,d,y,p),d=Op(),s!==null&&!sr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ci(s,i,p)):(Ot&&d&&gp(i),i.flags|=1,qn(s,i,l,p),i.child)}function Lv(s,i,l,d,p){if(rr(l)){var y=!0;sd(i)}else y=!1;if(ul(i,p),i.stateNode===null)bd(s,i),Cv(i,l,d),$p(i,l,d,p),d=!0;else if(s===null){var E=i.stateNode,N=i.memoizedProps;E.props=N;var M=E.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=jr(Y):(Y=rr(l)?Wo:Rn.current,Y=sl(i,Y));var ie=l.getDerivedStateFromProps,ae=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function";ae||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==d||M!==Y)&&Tv(i,E,d,Y),Wi=!1;var se=i.memoizedState;E.state=se,fd(i,d,E,p),M=i.memoizedState,N!==d||se!==M||nr.current||Wi?(typeof ie=="function"&&(Fp(i,l,ie,d),M=i.memoizedState),(N=Wi||bv(i,l,N,d,se,M,Y))?(ae||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=M),E.props=d,E.state=M,E.context=Y,d=N):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{E=i.stateNode,Yw(s,i),N=i.memoizedProps,Y=i.type===i.elementType?N:ss(i.type,N),E.props=Y,ae=i.pendingProps,se=E.context,M=l.contextType,typeof M=="object"&&M!==null?M=jr(M):(M=rr(l)?Wo:Rn.current,M=sl(i,M));var me=l.getDerivedStateFromProps;(ie=typeof me=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==ae||se!==M)&&Tv(i,E,d,M),Wi=!1,se=i.memoizedState,E.state=se,fd(i,d,E,p);var ve=i.memoizedState;N!==ae||se!==ve||nr.current||Wi?(typeof me=="function"&&(Fp(i,l,me,d),ve=i.memoizedState),(Y=Wi||bv(i,l,Y,d,se,ve,M)||!1)?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,ve,M),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,ve,M)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||N===s.memoizedProps&&se===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&se===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ve),E.props=d,E.state=ve,E.context=M,d=Y):(typeof E.componentDidUpdate!="function"||N===s.memoizedProps&&se===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&se===s.memoizedState||(i.flags|=1024),d=!1)}return Hp(s,i,l,d,y,p)}function Hp(s,i,l,d,p,y){Ov(s,i);var E=(i.flags&128)!==0;if(!d&&!E)return p&&$w(i,l,!1),ci(s,i,y);d=i.stateNode,GI.current=i;var N=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&E?(i.child=ll(i,s.child,null,y),i.child=ll(i,null,N,y)):qn(s,i,N,y),i.memoizedState=d.state,p&&$w(i,l,!0),i.child}function jv(s){var i=s.stateNode;i.pendingContext?Vw(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Vw(s,i.context,!1),xp(s,i.containerInfo)}function Mv(s,i,l,d,p){return al(),_p(p),i.flags|=256,qn(s,i,l,d),i.child}var qp={dehydrated:null,treeContext:null,retryLane:0};function Wp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Vv(s,i,l){var d=i.pendingProps,p=jt.current,y=!1,E=(i.flags&128)!==0,N;if((N=E)||(N=s!==null&&s.memoizedState===null?!1:(p&2)!==0),N?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),bt(jt,p&1),s===null)return vp(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=d.children,s=d.fallback,y?(d=i.mode,y=i.child,E={mode:"hidden",children:E},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Od(E,d,0,null),s=na(s,d,l,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=Wp(l),i.memoizedState=qp,s):Gp(i,E));if(p=s.memoizedState,p!==null&&(N=p.dehydrated,N!==null))return KI(s,i,E,d,N,p,l);if(y){y=d.fallback,E=i.mode,p=s.child,N=p.sibling;var M={mode:"hidden",children:d.children};return(E&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=M,i.deletions=null):(d=Zi(p,M),d.subtreeFlags=p.subtreeFlags&14680064),N!==null?y=Zi(N,y):(y=na(y,E,l,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,E=s.child.memoizedState,E=E===null?Wp(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=s.childLanes&~l,i.memoizedState=qp,d}return y=s.child,s=y.sibling,d=Zi(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=d,i.memoizedState=null,d}function Gp(s,i){return i=Od({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Ed(s,i,l,d){return d!==null&&_p(d),ll(i,s.child,null,l),s=Gp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function KI(s,i,l,d,p,y,E){if(l)return i.flags&256?(i.flags&=-257,d=Up(Error(n(422))),Ed(s,i,E,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=d.fallback,p=i.mode,d=Od({mode:"visible",children:d.children},p,0,null),y=na(y,p,E,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&ll(i,s.child,null,E),i.child.memoizedState=Wp(E),i.memoizedState=qp,y);if((i.mode&1)===0)return Ed(s,i,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var N=d.dgst;return d=N,y=Error(n(419)),d=Up(y,d,void 0),Ed(s,i,E,d)}if(N=(E&s.childLanes)!==0,sr||N){if(d=pn,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ai(s,p),as(d,s,p,-1))}return cm(),d=Up(Error(n(421))),Ed(s,i,E,d)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=aS.bind(null,s),p._reactRetry=i,null):(s=y.treeContext,Er=Bi(p.nextSibling),_r=i,Ot=!0,rs=null,s!==null&&(Or[Lr++]=ii,Or[Lr++]=oi,Or[Lr++]=Go,ii=s.id,oi=s.overflow,Go=i),i=Gp(i,d.children),i.flags|=4096,i)}function Fv(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),Tp(s.return,i,l)}function Kp(s,i,l,d,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function $v(s,i,l){var d=i.pendingProps,p=d.revealOrder,y=d.tail;if(qn(s,i,d.children,l),d=jt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Fv(s,l,i);else if(s.tag===19)Fv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(bt(jt,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&pd(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Kp(i,!1,p,l,y);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&pd(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Kp(i,!0,l,null,y);break;case"together":Kp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bd(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function ci(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Xo|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,l=Zi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Zi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function QI(s,i,l){switch(i.tag){case 3:jv(i),al();break;case 5:ev(i);break;case 1:rr(i.type)&&sd(i);break;case 4:xp(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;bt(ud,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(bt(jt,jt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Vv(s,i,l):(bt(jt,jt.current&1),s=ci(s,i,l),s!==null?s.sibling:null);bt(jt,jt.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(s.flags&128)!==0){if(d)return $v(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),bt(jt,jt.current),d)break;return null;case 22:case 23:return i.lanes=0,Dv(s,i,l)}return ci(s,i,l)}var Uv,Qp,Bv,zv;Uv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Qp=function(){},Bv=function(s,i,l,d){var p=s.memoizedProps;if(p!==d){s=i.stateNode,Jo(ks.current);var y=null;switch(l){case"input":p=Un(s,p),d=Un(s,d),y=[];break;case"select":p=J({},p,{value:void 0}),d=J({},d,{value:void 0}),y=[];break;case"textarea":p=yt(s,p),d=yt(s,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=td)}Do(l,d);var E;l=null;for(Y in p)if(!d.hasOwnProperty(Y)&&p.hasOwnProperty(Y)&&p[Y]!=null)if(Y==="style"){var N=p[Y];for(E in N)N.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(o.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in d){var M=d[Y];if(N=p?.[Y],d.hasOwnProperty(Y)&&M!==N&&(M!=null||N!=null))if(Y==="style")if(N){for(E in N)!N.hasOwnProperty(E)||M&&M.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in M)M.hasOwnProperty(E)&&N[E]!==M[E]&&(l||(l={}),l[E]=M[E])}else l||(y||(y=[]),y.push(Y,l)),l=M;else Y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,N=N?N.__html:void 0,M!=null&&N!==M&&(y=y||[]).push(Y,M)):Y==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(Y,""+M):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(o.hasOwnProperty(Y)?(M!=null&&Y==="onScroll"&&St("scroll",s),y||N===M||(y=[])):(y=y||[]).push(Y,M))}l&&(y=y||[]).push("style",l);var Y=y;(i.updateQueue=Y)&&(i.flags|=4)}},zv=function(s,i,l,d){l!==d&&(i.flags|=4)};function Pc(s,i){if(!Ot)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function An(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function JI(s,i,l){var d=i.pendingProps;switch(yp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(i),null;case 1:return rr(i.type)&&rd(),An(i),null;case 3:return d=i.stateNode,dl(),xt(nr),xt(Rn),Pp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(ld(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rs!==null&&(om(rs),rs=null))),Qp(s,i),An(i),null;case 5:kp(i);var p=Jo(Ic.current);if(l=i.type,s!==null&&i.stateNode!=null)Bv(s,i,l,d,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return An(i),null}if(s=Jo(ks.current),ld(i)){d=i.stateNode,l=i.type;var y=i.memoizedProps;switch(d[xs]=i,d[_c]=y,s=(i.mode&1)!==0,l){case"dialog":St("cancel",d),St("close",d);break;case"iframe":case"object":case"embed":St("load",d);break;case"video":case"audio":for(p=0;p<yc.length;p++)St(yc[p],d);break;case"source":St("error",d);break;case"img":case"image":case"link":St("error",d),St("load",d);break;case"details":St("toggle",d);break;case"input":hr(d,y),St("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},St("invalid",d);break;case"textarea":qe(d,y),St("invalid",d)}Do(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var N=y[E];E==="children"?typeof N=="string"?d.textContent!==N&&(y.suppressHydrationWarning!==!0&&ed(d.textContent,N,s),p=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(y.suppressHydrationWarning!==!0&&ed(d.textContent,N,s),p=["children",""+N]):o.hasOwnProperty(E)&&N!=null&&E==="onScroll"&&St("scroll",d)}switch(l){case"input":Et(d),ye(d,y,!0);break;case"textarea":Et(d),Je(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=td)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Xe(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=E.createElement(l,{is:d.is}):(s=E.createElement(l),l==="select"&&(E=s,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):s=E.createElementNS(s,l),s[xs]=i,s[_c]=d,Uv(s,i,!1,!1),i.stateNode=s;e:{switch(E=Oo(l,d),l){case"dialog":St("cancel",s),St("close",s),p=d;break;case"iframe":case"object":case"embed":St("load",s),p=d;break;case"video":case"audio":for(p=0;p<yc.length;p++)St(yc[p],s);p=d;break;case"source":St("error",s),p=d;break;case"img":case"image":case"link":St("error",s),St("load",s),p=d;break;case"details":St("toggle",s),p=d;break;case"input":hr(s,d),p=Un(s,d),St("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=J({},d,{value:void 0}),St("invalid",s);break;case"textarea":qe(s,d),p=yt(s,d),St("invalid",s);break;default:p=d}Do(l,p),N=p;for(y in N)if(N.hasOwnProperty(y)){var M=N[y];y==="style"?No(s,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Po(s,M)):y==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&gs(s,M):typeof M=="number"&&gs(s,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?M!=null&&y==="onScroll"&&St("scroll",s):M!=null&&Q(s,y,M,E))}switch(l){case"input":Et(s),ye(s,d,!1);break;case"textarea":Et(s),Je(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Me(d.value));break;case"select":s.multiple=!!d.multiple,y=d.value,y!=null?ze(s,!!d.multiple,y,!1):d.defaultValue!=null&&ze(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=td)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return An(i),null;case 6:if(s&&i.stateNode!=null)zv(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=Jo(Ic.current),Jo(ks.current),ld(i)){if(d=i.stateNode,l=i.memoizedProps,d[xs]=i,(y=d.nodeValue!==l)&&(s=_r,s!==null))switch(s.tag){case 3:ed(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ed(d.nodeValue,l,(s.mode&1)!==0)}y&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[xs]=i,i.stateNode=d}return An(i),null;case 13:if(xt(jt),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ot&&Er!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Ww(),al(),i.flags|=98560,y=!1;else if(y=ld(i),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[xs]=i}else al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;An(i),y=!1}else rs!==null&&(om(rs),rs=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(jt.current&1)!==0?ln===0&&(ln=3):cm())),i.updateQueue!==null&&(i.flags|=4),An(i),null);case 4:return dl(),Qp(s,i),s===null&&wc(i.stateNode.containerInfo),An(i),null;case 10:return Cp(i.type._context),An(i),null;case 17:return rr(i.type)&&rd(),An(i),null;case 19:if(xt(jt),y=i.memoizedState,y===null)return An(i),null;if(d=(i.flags&128)!==0,E=y.rendering,E===null)if(d)Pc(y,!1);else{if(ln!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=pd(s),E!==null){for(i.flags|=128,Pc(y,!1),d=E.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)y=l,s=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,s=E.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return bt(jt,jt.current&1|2),i.child}s=s.sibling}y.tail!==null&&vt()>ml&&(i.flags|=128,d=!0,Pc(y,!1),i.lanes=4194304)}else{if(!d)if(s=pd(E),s!==null){if(i.flags|=128,d=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Pc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Ot)return An(i),null}else 2*vt()-y.renderingStartTime>ml&&l!==1073741824&&(i.flags|=128,d=!0,Pc(y,!1),i.lanes=4194304);y.isBackwards?(E.sibling=i.child,i.child=E):(l=y.last,l!==null?l.sibling=E:i.child=E,y.last=E)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=vt(),i.sibling=null,l=jt.current,bt(jt,d?l&1|2:l&1),i):(An(i),null);case 22:case 23:return lm(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(br&1073741824)!==0&&(An(i),i.subtreeFlags&6&&(i.flags|=8192)):An(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function YI(s,i){switch(yp(i),i.tag){case 1:return rr(i.type)&&rd(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return dl(),xt(nr),xt(Rn),Pp(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return kp(i),null;case 13:if(xt(jt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));al()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return xt(jt),null;case 4:return dl(),null;case 10:return Cp(i.type._context),null;case 22:case 23:return lm(),null;case 24:return null;default:return null}}var Cd=!1,Nn=!1,XI=typeof WeakSet=="function"?WeakSet:Set,we=null;function fl(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Bt(s,i,d)}else l.current=null}function Jp(s,i,l){try{l()}catch(d){Bt(s,i,d)}}var Hv=!1;function ZI(s,i){if(lp=Fi,s=bw(),ep(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,N=-1,M=-1,Y=0,ie=0,ae=s,se=null;t:for(;;){for(var me;ae!==l||p!==0&&ae.nodeType!==3||(N=E+p),ae!==y||d!==0&&ae.nodeType!==3||(M=E+d),ae.nodeType===3&&(E+=ae.nodeValue.length),(me=ae.firstChild)!==null;)se=ae,ae=me;for(;;){if(ae===s)break t;if(se===l&&++Y===p&&(N=E),se===y&&++ie===d&&(M=E),(me=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=me}l=N===-1||M===-1?null:{start:N,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(cp={focusedElem:s,selectionRange:l},Fi=!1,we=i;we!==null;)if(i=we,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,we=s;else for(;we!==null;){i=we;try{var ve=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var _e=ve.memoizedProps,qt=ve.memoizedState,W=i.stateNode,F=W.getSnapshotBeforeUpdate(i.elementType===i.type?_e:ss(i.type,_e),qt);W.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var K=i.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){Bt(i,i.return,de)}if(s=i.sibling,s!==null){s.return=i.return,we=s;break}we=i.return}return ve=Hv,Hv=!1,ve}function Ac(s,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var y=p.destroy;p.destroy=void 0,y!==void 0&&Jp(i,l,y)}p=p.next}while(p!==d)}}function Td(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Yp(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function qv(s){var i=s.alternate;i!==null&&(s.alternate=null,qv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[xs],delete i[_c],delete i[fp],delete i[LI],delete i[jI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Wv(s){return s.tag===5||s.tag===3||s.tag===4}function Gv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Wv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xp(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=td));else if(d!==4&&(s=s.child,s!==null))for(Xp(s,i,l),s=s.sibling;s!==null;)Xp(s,i,l),s=s.sibling}function Zp(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Zp(s,i,l),s=s.sibling;s!==null;)Zp(s,i,l),s=s.sibling}var bn=null,is=!1;function Ki(s,i,l){for(l=l.child;l!==null;)Kv(s,i,l),l=l.sibling}function Kv(s,i,l){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Xs,l)}catch{}switch(l.tag){case 5:Nn||fl(l,i);case 6:var d=bn,p=is;bn=null,Ki(s,i,l),bn=d,is=p,bn!==null&&(is?(s=bn,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):bn.removeChild(l.stateNode));break;case 18:bn!==null&&(is?(s=bn,l=l.stateNode,s.nodeType===8?hp(s.parentNode,l):s.nodeType===1&&hp(s,l),es(s)):hp(bn,l.stateNode));break;case 4:d=bn,p=is,bn=l.stateNode.containerInfo,is=!0,Ki(s,i,l),bn=d,is=p;break;case 0:case 11:case 14:case 15:if(!Nn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Jp(l,i,E),p=p.next}while(p!==d)}Ki(s,i,l);break;case 1:if(!Nn&&(fl(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(N){Bt(l,i,N)}Ki(s,i,l);break;case 21:Ki(s,i,l);break;case 22:l.mode&1?(Nn=(d=Nn)||l.memoizedState!==null,Ki(s,i,l),Nn=d):Ki(s,i,l);break;default:Ki(s,i,l)}}function Qv(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new XI),i.forEach(function(d){var p=lS.bind(null,s,d);l.has(d)||(l.add(d),d.then(p,p))})}}function os(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=s,E=i,N=E;e:for(;N!==null;){switch(N.tag){case 5:bn=N.stateNode,is=!1;break e;case 3:bn=N.stateNode.containerInfo,is=!0;break e;case 4:bn=N.stateNode.containerInfo,is=!0;break e}N=N.return}if(bn===null)throw Error(n(160));Kv(y,E,p),bn=null,is=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(Y){Bt(p,i,Y)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Jv(i,s),i=i.sibling}function Jv(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(os(i,s),Ps(s),d&4){try{Ac(3,s,s.return),Td(3,s)}catch(_e){Bt(s,s.return,_e)}try{Ac(5,s,s.return)}catch(_e){Bt(s,s.return,_e)}}break;case 1:os(i,s),Ps(s),d&512&&l!==null&&fl(l,l.return);break;case 5:if(os(i,s),Ps(s),d&512&&l!==null&&fl(l,l.return),s.flags&32){var p=s.stateNode;try{gs(p,"")}catch(_e){Bt(s,s.return,_e)}}if(d&4&&(p=s.stateNode,p!=null)){var y=s.memoizedProps,E=l!==null?l.memoizedProps:y,N=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{N==="input"&&y.type==="radio"&&y.name!=null&&Qr(p,y),Oo(N,E);var Y=Oo(N,y);for(E=0;E<M.length;E+=2){var ie=M[E],ae=M[E+1];ie==="style"?No(p,ae):ie==="dangerouslySetInnerHTML"?Po(p,ae):ie==="children"?gs(p,ae):Q(p,ie,ae,Y)}switch(N){case"input":Le(p,y);break;case"textarea":Ye(p,y);break;case"select":var se=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?ze(p,!!y.multiple,me,!1):se!==!!y.multiple&&(y.defaultValue!=null?ze(p,!!y.multiple,y.defaultValue,!0):ze(p,!!y.multiple,y.multiple?[]:"",!1))}p[_c]=y}catch(_e){Bt(s,s.return,_e)}}break;case 6:if(os(i,s),Ps(s),d&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,y=s.memoizedProps;try{p.nodeValue=y}catch(_e){Bt(s,s.return,_e)}}break;case 3:if(os(i,s),Ps(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{es(i.containerInfo)}catch(_e){Bt(s,s.return,_e)}break;case 4:os(i,s),Ps(s);break;case 13:os(i,s),Ps(s),p=s.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(nm=vt())),d&4&&Qv(s);break;case 22:if(ie=l!==null&&l.memoizedState!==null,s.mode&1?(Nn=(Y=Nn)||ie,os(i,s),Nn=Y):os(i,s),Ps(s),d&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ie&&(s.mode&1)!==0)for(we=s,ie=s.child;ie!==null;){for(ae=we=ie;we!==null;){switch(se=we,me=se.child,se.tag){case 0:case 11:case 14:case 15:Ac(4,se,se.return);break;case 1:fl(se,se.return);var ve=se.stateNode;if(typeof ve.componentWillUnmount=="function"){d=se,l=se.return;try{i=d,ve.props=i.memoizedProps,ve.state=i.memoizedState,ve.componentWillUnmount()}catch(_e){Bt(d,l,_e)}}break;case 5:fl(se,se.return);break;case 22:if(se.memoizedState!==null){Zv(ae);continue}}me!==null?(me.return=se,we=me):Zv(ae)}ie=ie.sibling}e:for(ie=null,ae=s;;){if(ae.tag===5){if(ie===null){ie=ae;try{p=ae.stateNode,Y?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(N=ae.stateNode,M=ae.memoizedProps.style,E=M!=null&&M.hasOwnProperty("display")?M.display:null,N.style.display=Ao("display",E))}catch(_e){Bt(s,s.return,_e)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=Y?"":ae.memoizedProps}catch(_e){Bt(s,s.return,_e)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:os(i,s),Ps(s),d&4&&Qv(s);break;case 21:break;default:os(i,s),Ps(s)}}function Ps(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(Wv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(gs(p,""),d.flags&=-33);var y=Gv(s);Zp(s,y,p);break;case 3:case 4:var E=d.stateNode.containerInfo,N=Gv(s);Xp(s,N,E);break;default:throw Error(n(161))}}catch(M){Bt(s,s.return,M)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function eS(s,i,l){we=s,Yv(s)}function Yv(s,i,l){for(var d=(s.mode&1)!==0;we!==null;){var p=we,y=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||Cd;if(!E){var N=p.alternate,M=N!==null&&N.memoizedState!==null||Nn;N=Cd;var Y=Nn;if(Cd=E,(Nn=M)&&!Y)for(we=p;we!==null;)E=we,M=E.child,E.tag===22&&E.memoizedState!==null?e_(p):M!==null?(M.return=E,we=M):e_(p);for(;y!==null;)we=y,Yv(y),y=y.sibling;we=p,Cd=N,Nn=Y}Xv(s)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,we=y):Xv(s)}}function Xv(s){for(;we!==null;){var i=we;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Nn||Td(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Nn)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:ss(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Zw(i,y,d);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Zw(i,E,l)}break;case 5:var N=i.stateNode;if(l===null&&i.flags&4){l=N;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Y=i.alternate;if(Y!==null){var ie=Y.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&es(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nn||i.flags&512&&Yp(i)}catch(se){Bt(i,i.return,se)}}if(i===s){we=null;break}if(l=i.sibling,l!==null){l.return=i.return,we=l;break}we=i.return}}function Zv(s){for(;we!==null;){var i=we;if(i===s){we=null;break}var l=i.sibling;if(l!==null){l.return=i.return,we=l;break}we=i.return}}function e_(s){for(;we!==null;){var i=we;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Td(4,i)}catch(M){Bt(i,l,M)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(M){Bt(i,p,M)}}var y=i.return;try{Yp(i)}catch(M){Bt(i,y,M)}break;case 5:var E=i.return;try{Yp(i)}catch(M){Bt(i,E,M)}}}catch(M){Bt(i,i.return,M)}if(i===s){we=null;break}var N=i.sibling;if(N!==null){N.return=i.return,we=N;break}we=i.return}}var tS=Math.ceil,Id=Z.ReactCurrentDispatcher,em=Z.ReactCurrentOwner,Vr=Z.ReactCurrentBatchConfig,lt=0,pn=null,Zt=null,Cn=0,br=0,pl=zi(0),ln=0,Nc=null,Xo=0,Sd=0,tm=0,Dc=null,ir=null,nm=0,ml=1/0,ui=null,xd=!1,rm=null,Qi=null,kd=!1,Ji=null,Rd=0,Oc=0,sm=null,Pd=-1,Ad=0;function Wn(){return(lt&6)!==0?vt():Pd!==-1?Pd:Pd=vt()}function Yi(s){return(s.mode&1)===0?1:(lt&2)!==0&&Cn!==0?Cn&-Cn:VI.transition!==null?(Ad===0&&(Ad=kn()),Ad):(s=st,s!==0||(s=window.event,s=s===void 0?16:lc(s.type)),s)}function as(s,i,l,d){if(50<Oc)throw Oc=0,sm=null,Error(n(185));Li(s,l,d),((lt&2)===0||s!==pn)&&(s===pn&&((lt&2)===0&&(Sd|=l),ln===4&&Xi(s,Cn)),or(s,d),l===1&&lt===0&&(i.mode&1)===0&&(ml=vt()+500,id&&qi()))}function or(s,i){var l=s.callbackNode;yr(s,i);var d=sn(s,s===pn?Cn:0);if(d===0)l!==null&&Vo(l),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(l!=null&&Vo(l),i===1)s.tag===0?MI(n_.bind(null,s)):Uw(n_.bind(null,s)),DI(function(){(lt&6)===0&&qi()}),l=null;else{switch(Mi(d)){case 1:l=gr;break;case 4:l=Es;break;case 16:l=Zn;break;case 536870912:l=ja;break;default:l=Zn}l=u_(l,t_.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function t_(s,i){if(Pd=-1,Ad=0,(lt&6)!==0)throw Error(n(327));var l=s.callbackNode;if(gl()&&s.callbackNode!==l)return null;var d=sn(s,s===pn?Cn:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=Nd(s,d);else{i=d;var p=lt;lt|=2;var y=s_();(pn!==s||Cn!==i)&&(ui=null,ml=vt()+500,ea(s,i));do try{sS();break}catch(N){r_(s,N)}while(!0);bp(),Id.current=y,lt=p,Zt!==null?i=0:(pn=null,Cn=0,i=ln)}if(i!==0){if(i===2&&(p=Yt(s),p!==0&&(d=p,i=im(s,p))),i===1)throw l=Nc,ea(s,0),Xi(s,d),or(s,vt()),l;if(i===6)Xi(s,d);else{if(p=s.current.alternate,(d&30)===0&&!nS(p)&&(i=Nd(s,d),i===2&&(y=Yt(s),y!==0&&(d=y,i=im(s,y))),i===1))throw l=Nc,ea(s,0),Xi(s,d),or(s,vt()),l;switch(s.finishedWork=p,s.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:ta(s,ir,ui);break;case 3:if(Xi(s,d),(d&130023424)===d&&(i=nm+500-vt(),10<i)){if(sn(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){Wn(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=dp(ta.bind(null,s,ir,ui),i);break}ta(s,ir,ui);break;case 4:if(Xi(s,d),(d&4194240)===d)break;for(i=s.eventTimes,p=-1;0<d;){var E=31-Ut(d);y=1<<E,E=i[E],E>p&&(p=E),d&=~y}if(d=p,d=vt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*tS(d/1960))-d,10<d){s.timeoutHandle=dp(ta.bind(null,s,ir,ui),d);break}ta(s,ir,ui);break;case 5:ta(s,ir,ui);break;default:throw Error(n(329))}}}return or(s,vt()),s.callbackNode===l?t_.bind(null,s):null}function im(s,i){var l=Dc;return s.current.memoizedState.isDehydrated&&(ea(s,i).flags|=256),s=Nd(s,i),s!==2&&(i=ir,ir=l,i!==null&&om(i)),s}function om(s){ir===null?ir=s:ir.push.apply(ir,s)}function nS(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!ns(y(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xi(s,i){for(i&=~tm,i&=~Sd,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Ut(i),d=1<<l;s[l]=-1,i&=~d}}function n_(s){if((lt&6)!==0)throw Error(n(327));gl();var i=sn(s,0);if((i&1)===0)return or(s,vt()),null;var l=Nd(s,i);if(s.tag!==0&&l===2){var d=Yt(s);d!==0&&(i=d,l=im(s,d))}if(l===1)throw l=Nc,ea(s,0),Xi(s,i),or(s,vt()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,ta(s,ir,ui),or(s,vt()),null}function am(s,i){var l=lt;lt|=1;try{return s(i)}finally{lt=l,lt===0&&(ml=vt()+500,id&&qi())}}function Zo(s){Ji!==null&&Ji.tag===0&&(lt&6)===0&&gl();var i=lt;lt|=1;var l=Vr.transition,d=st;try{if(Vr.transition=null,st=1,s)return s()}finally{st=d,Vr.transition=l,lt=i,(lt&6)===0&&qi()}}function lm(){br=pl.current,xt(pl)}function ea(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,NI(l)),Zt!==null)for(l=Zt.return;l!==null;){var d=l;switch(yp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&rd();break;case 3:dl(),xt(nr),xt(Rn),Pp();break;case 5:kp(d);break;case 4:dl();break;case 13:xt(jt);break;case 19:xt(jt);break;case 10:Cp(d.type._context);break;case 22:case 23:lm()}l=l.return}if(pn=s,Zt=s=Zi(s.current,null),Cn=br=i,ln=0,Nc=null,tm=Sd=Xo=0,ir=Dc=null,Qo!==null){for(i=0;i<Qo.length;i++)if(l=Qo[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,d.next=E}l.pending=d}Qo=null}return s}function r_(s,i){do{var l=Zt;try{if(bp(),md.current=vd,gd){for(var d=Mt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}gd=!1}if(Yo=0,fn=an=Mt=null,Sc=!1,xc=0,em.current=null,l===null||l.return===null){ln=1,Nc=i,Zt=null;break}e:{var y=s,E=l.return,N=l,M=i;if(i=Cn,N.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=M,ie=N,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var me=kv(E);if(me!==null){me.flags&=-257,Rv(me,E,N,y,i),me.mode&1&&xv(y,Y,i),i=me,M=Y;var ve=i.updateQueue;if(ve===null){var _e=new Set;_e.add(M),i.updateQueue=_e}else ve.add(M);break e}else{if((i&1)===0){xv(y,Y,i),cm();break e}M=Error(n(426))}}else if(Ot&&N.mode&1){var qt=kv(E);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),Rv(qt,E,N,y,i),_p(hl(M,N));break e}}y=M=hl(M,N),ln!==4&&(ln=2),Dc===null?Dc=[y]:Dc.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var W=Iv(y,M,i);Xw(y,W);break e;case 1:N=M;var F=y.type,K=y.stateNode;if((y.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Qi===null||!Qi.has(K)))){y.flags|=65536,i&=-i,y.lanes|=i;var de=Sv(y,N,i);Xw(y,de);break e}}y=y.return}while(y!==null)}o_(l)}catch(be){i=be,Zt===l&&l!==null&&(Zt=l=l.return);continue}break}while(!0)}function s_(){var s=Id.current;return Id.current=vd,s===null?vd:s}function cm(){(ln===0||ln===3||ln===2)&&(ln=4),pn===null||(Xo&268435455)===0&&(Sd&268435455)===0||Xi(pn,Cn)}function Nd(s,i){var l=lt;lt|=2;var d=s_();(pn!==s||Cn!==i)&&(ui=null,ea(s,i));do try{rS();break}catch(p){r_(s,p)}while(!0);if(bp(),lt=l,Id.current=d,Zt!==null)throw Error(n(261));return pn=null,Cn=0,ln}function rS(){for(;Zt!==null;)i_(Zt)}function sS(){for(;Zt!==null&&!La();)i_(Zt)}function i_(s){var i=c_(s.alternate,s,br);s.memoizedProps=s.pendingProps,i===null?o_(s):Zt=i,em.current=null}function o_(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=JI(l,i,br),l!==null){Zt=l;return}}else{if(l=YI(l,i),l!==null){l.flags&=32767,Zt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ln=6,Zt=null;return}}if(i=i.sibling,i!==null){Zt=i;return}Zt=i=s}while(i!==null);ln===0&&(ln=5)}function ta(s,i,l){var d=st,p=Vr.transition;try{Vr.transition=null,st=1,iS(s,i,l,d)}finally{Vr.transition=p,st=d}return null}function iS(s,i,l,d){do gl();while(Ji!==null);if((lt&6)!==0)throw Error(n(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(_t(s,y),s===pn&&(Zt=pn=null,Cn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||kd||(kd=!0,u_(Zn,function(){return gl(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Vr.transition,Vr.transition=null;var E=st;st=1;var N=lt;lt|=4,em.current=null,ZI(s,l),Jv(l,s),II(cp),Fi=!!lp,cp=lp=null,s.current=l,eS(l),ic(),lt=N,st=E,Vr.transition=y}else s.current=l;if(kd&&(kd=!1,Ji=s,Rd=p),y=s.pendingLanes,y===0&&(Qi=null),Ma(l.stateNode),or(s,vt()),i!==null)for(d=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(xd)throw xd=!1,s=rm,rm=null,s;return(Rd&1)!==0&&s.tag!==0&&gl(),y=s.pendingLanes,(y&1)!==0?s===sm?Oc++:(Oc=0,sm=s):Oc=0,qi(),null}function gl(){if(Ji!==null){var s=Mi(Rd),i=Vr.transition,l=st;try{if(Vr.transition=null,st=16>s?16:s,Ji===null)var d=!1;else{if(s=Ji,Ji=null,Rd=0,(lt&6)!==0)throw Error(n(331));var p=lt;for(lt|=4,we=s.current;we!==null;){var y=we,E=y.child;if((we.flags&16)!==0){var N=y.deletions;if(N!==null){for(var M=0;M<N.length;M++){var Y=N[M];for(we=Y;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:Ac(8,ie,y)}var ae=ie.child;if(ae!==null)ae.return=ie,we=ae;else for(;we!==null;){ie=we;var se=ie.sibling,me=ie.return;if(qv(ie),ie===Y){we=null;break}if(se!==null){se.return=me,we=se;break}we=me}}}var ve=y.alternate;if(ve!==null){var _e=ve.child;if(_e!==null){ve.child=null;do{var qt=_e.sibling;_e.sibling=null,_e=qt}while(_e!==null)}}we=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,we=E;else e:for(;we!==null;){if(y=we,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ac(9,y,y.return)}var W=y.sibling;if(W!==null){W.return=y.return,we=W;break e}we=y.return}}var F=s.current;for(we=F;we!==null;){E=we;var K=E.child;if((E.subtreeFlags&2064)!==0&&K!==null)K.return=E,we=K;else e:for(E=F;we!==null;){if(N=we,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Td(9,N)}}catch(be){Bt(N,N.return,be)}if(N===E){we=null;break e}var de=N.sibling;if(de!==null){de.return=N.return,we=de;break e}we=N.return}}if(lt=p,qi(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Xs,s)}catch{}d=!0}return d}finally{st=l,Vr.transition=i}}return!1}function a_(s,i,l){i=hl(l,i),i=Iv(s,i,1),s=Gi(s,i,1),i=Wn(),s!==null&&(Li(s,1,i),or(s,i))}function Bt(s,i,l){if(s.tag===3)a_(s,s,l);else for(;i!==null;){if(i.tag===3){a_(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Qi===null||!Qi.has(d))){s=hl(l,s),s=Sv(i,s,1),i=Gi(i,s,1),s=Wn(),i!==null&&(Li(i,1,s),or(i,s));break}}i=i.return}}function oS(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),i=Wn(),s.pingedLanes|=s.suspendedLanes&l,pn===s&&(Cn&l)===l&&(ln===4||ln===3&&(Cn&130023424)===Cn&&500>vt()-nm?ea(s,0):tm|=l),or(s,i)}function l_(s,i){i===0&&((s.mode&1)===0?i=1:(i=Ge,Ge<<=1,(Ge&130023424)===0&&(Ge=4194304)));var l=Wn();s=ai(s,i),s!==null&&(Li(s,i,l),or(s,l))}function aS(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),l_(s,l)}function lS(s,i){var l=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),l_(s,l)}var c_;c_=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||nr.current)sr=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return sr=!1,QI(s,i,l);sr=(s.flags&131072)!==0}else sr=!1,Ot&&(i.flags&1048576)!==0&&Bw(i,ad,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;bd(s,i),s=i.pendingProps;var p=sl(i,Rn.current);ul(i,l),p=Dp(null,i,d,s,p,l);var y=Op();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,rr(d)?(y=!0,sd(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Sp(i),p.updater=_d,i.stateNode=p,p._reactInternals=i,$p(i,d,s,l),i=Hp(null,i,d,!0,y,l)):(i.tag=0,Ot&&y&&gp(i),qn(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(bd(s,i),s=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=uS(d),s=ss(d,s),p){case 0:i=zp(null,i,d,s,l);break e;case 1:i=Lv(null,i,d,s,l);break e;case 11:i=Pv(null,i,d,s,l);break e;case 14:i=Av(null,i,d,ss(d.type,s),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),zp(s,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),Lv(s,i,d,p,l);case 3:e:{if(jv(i),s===null)throw Error(n(387));d=i.pendingProps,y=i.memoizedState,p=y.element,Yw(s,i),fd(i,d,null,l);var E=i.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=hl(Error(n(423)),i),i=Mv(s,i,d,l,p);break e}else if(d!==p){p=hl(Error(n(424)),i),i=Mv(s,i,d,l,p);break e}else for(Er=Bi(i.stateNode.containerInfo.firstChild),_r=i,Ot=!0,rs=null,l=Qw(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(al(),d===p){i=ci(s,i,l);break e}qn(s,i,d,l)}i=i.child}return i;case 5:return ev(i),s===null&&vp(i),d=i.type,p=i.pendingProps,y=s!==null?s.memoizedProps:null,E=p.children,up(d,p)?E=null:y!==null&&up(d,y)&&(i.flags|=32),Ov(s,i),qn(s,i,E,l),i.child;case 6:return s===null&&vp(i),null;case 13:return Vv(s,i,l);case 4:return xp(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=ll(i,null,d,l):qn(s,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),Pv(s,i,d,p,l);case 7:return qn(s,i,i.pendingProps,l),i.child;case 8:return qn(s,i,i.pendingProps.children,l),i.child;case 12:return qn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,y=i.memoizedProps,E=p.value,bt(ud,d._currentValue),d._currentValue=E,y!==null)if(ns(y.value,E)){if(y.children===p.children&&!nr.current){i=ci(s,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var N=y.dependencies;if(N!==null){E=y.child;for(var M=N.firstContext;M!==null;){if(M.context===d){if(y.tag===1){M=li(-1,l&-l),M.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var ie=Y.pending;ie===null?M.next=M:(M.next=ie.next,ie.next=M),Y.pending=M}}y.lanes|=l,M=y.alternate,M!==null&&(M.lanes|=l),Tp(y.return,l,i),N.lanes|=l;break}M=M.next}}else if(y.tag===10)E=y.type===i.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(n(341));E.lanes|=l,N=E.alternate,N!==null&&(N.lanes|=l),Tp(E,l,i),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===i){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}qn(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,ul(i,l),p=jr(p),d=d(p),i.flags|=1,qn(s,i,d,l),i.child;case 14:return d=i.type,p=ss(d,i.pendingProps),p=ss(d.type,p),Av(s,i,d,p,l);case 15:return Nv(s,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),bd(s,i),i.tag=1,rr(d)?(s=!0,sd(i)):s=!1,ul(i,l),Cv(i,d,p),$p(i,d,p,l),Hp(null,i,d,!0,s,l);case 19:return $v(s,i,l);case 22:return Dv(s,i,l)}throw Error(n(156,i.tag))};function u_(s,i){return Ys(s,i)}function cS(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(s,i,l,d){return new cS(s,i,l,d)}function um(s){return s=s.prototype,!(!s||!s.isReactComponent)}function uS(s){if(typeof s=="function")return um(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===Ce)return 14}return 2}function Zi(s,i){var l=s.alternate;return l===null?(l=Fr(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Dd(s,i,l,d,p,y){var E=2;if(d=s,typeof s=="function")um(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case k:return na(l.children,p,y,i);case x:E=8,p|=8;break;case P:return s=Fr(12,l,i,p|2),s.elementType=P,s.lanes=y,s;case R:return s=Fr(13,l,i,p),s.elementType=R,s.lanes=y,s;case Oe:return s=Fr(19,l,i,p),s.elementType=Oe,s.lanes=y,s;case Re:return Od(l,p,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case S:E=10;break e;case L:E=9;break e;case $:E=11;break e;case Ce:E=14;break e;case Ue:E=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=Fr(E,l,i,p),i.elementType=s,i.type=d,i.lanes=y,i}function na(s,i,l,d){return s=Fr(7,s,d,i),s.lanes=l,s}function Od(s,i,l,d){return s=Fr(22,s,d,i),s.elementType=Re,s.lanes=l,s.stateNode={isHidden:!1},s}function dm(s,i,l){return s=Fr(6,s,null,i),s.lanes=l,s}function hm(s,i,l){return i=Fr(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function dS(s,i,l,d,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function fm(s,i,l,d,p,y,E,N,M){return s=new dS(s,i,l,N,M),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Fr(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sp(y),s}function hS(s,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:d==null?null:""+d,children:s,containerInfo:i,implementation:l}}function d_(s){if(!s)return Hi;s=s._reactInternals;e:{if($t(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(rr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(rr(l))return Fw(s,l,i)}return i}function h_(s,i,l,d,p,y,E,N,M){return s=fm(l,d,!0,s,p,y,E,N,M),s.context=d_(null),l=s.current,d=Wn(),p=Yi(l),y=li(d,p),y.callback=i??null,Gi(l,y,p),s.current.lanes=p,Li(s,p,d),or(s,d),s}function Ld(s,i,l,d){var p=i.current,y=Wn(),E=Yi(p);return l=d_(l),i.context===null?i.context=l:i.pendingContext=l,i=li(y,E),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=Gi(p,i,E),s!==null&&(as(s,p,E,y),hd(s,p,E)),E}function jd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function f_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function pm(s,i){f_(s,i),(s=s.alternate)&&f_(s,i)}function fS(){return null}var p_=typeof reportError=="function"?reportError:function(s){console.error(s)};function mm(s){this._internalRoot=s}Md.prototype.render=mm.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));Ld(s,i,null,null)},Md.prototype.unmount=mm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Zo(function(){Ld(null,s,null,null)}),i[ri]=null}};function Md(s){this._internalRoot=s}Md.prototype.unstable_scheduleHydration=function(s){if(s){var i=Mu();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Cs.length&&i!==0&&i<Cs[l].priority;l++);Cs.splice(l,0,s),l===0&&$u(s)}};function gm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Vd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function m_(){}function pS(s,i,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var Y=jd(E);y.call(Y)}}var E=h_(i,d,s,0,null,!1,!1,"",m_);return s._reactRootContainer=E,s[ri]=E.current,wc(s.nodeType===8?s.parentNode:s),Zo(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var N=d;d=function(){var Y=jd(M);N.call(Y)}}var M=fm(s,0,!1,null,null,!1,!1,"",m_);return s._reactRootContainer=M,s[ri]=M.current,wc(s.nodeType===8?s.parentNode:s),Zo(function(){Ld(i,M,l,d)}),M}function Fd(s,i,l,d,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var N=p;p=function(){var M=jd(E);N.call(M)}}Ld(i,E,s,p)}else E=pS(l,i,s,p,d);return jd(E)}Lu=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=Nt(i.pendingLanes);l!==0&&(ji(i,l|1),or(i,vt()),(lt&6)===0&&(ml=vt()+500,qi()))}break;case 13:Zo(function(){var d=ai(s,1);if(d!==null){var p=Wn();as(d,s,1,p)}}),pm(s,1)}},$a=function(s){if(s.tag===13){var i=ai(s,134217728);if(i!==null){var l=Wn();as(i,s,134217728,l)}pm(s,134217728)}},ju=function(s){if(s.tag===13){var i=Yi(s),l=ai(s,i);if(l!==null){var d=Wn();as(l,s,i,d)}pm(s,i)}},Mu=function(){return st},Vu=function(s,i){var l=st;try{return st=s,i()}finally{st=l}},Ri=function(s,i,l){switch(i){case"input":if(Le(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var p=nd(d);if(!p)throw Error(n(90));It(d),Le(d,p)}}}break;case"textarea":Ye(s,l);break;case"select":i=l.value,i!=null&&ze(s,!!l.multiple,i,!1)}},vs=am,Pi=Zo;var mS={usingClientEntryPoint:!1,Events:[Ec,nl,nd,Rr,Lo,am]},Lc={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gS={bundleType:Lc.bundleType,version:Lc.version,rendererPackageName:Lc.rendererPackageName,rendererConfig:Lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Di(s),s===null?null:s.stateNode},findFiberByHostInstance:Lc.findFiberByHostInstance||fS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{Xs=$d.inject(gS),zn=$d}catch{}}return ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mS,ar.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(i))throw Error(n(200));return hS(s,i,null,l)},ar.createRoot=function(s,i){if(!gm(s))throw Error(n(299));var l=!1,d="",p=p_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=fm(s,1,!1,null,null,l,!1,d,p),s[ri]=i.current,wc(s.nodeType===8?s.parentNode:s),new mm(i)},ar.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Di(i),s=s===null?null:s.stateNode,s},ar.flushSync=function(s){return Zo(s)},ar.hydrate=function(s,i,l){if(!Vd(i))throw Error(n(200));return Fd(null,s,i,!0,l)},ar.hydrateRoot=function(s,i,l){if(!gm(s))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",E=p_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=h_(i,null,s,1,l??null,p,!1,y,E),s[ri]=i.current,wc(s),d)for(s=0;s<d.length;s++)l=d[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new Md(i)},ar.render=function(s,i,l){if(!Vd(i))throw Error(n(200));return Fd(null,s,i,!1,l)},ar.unmountComponentAtNode=function(s){if(!Vd(s))throw Error(n(40));return s._reactRootContainer?(Zo(function(){Fd(null,null,s,!1,function(){s._reactRootContainer=null,s[ri]=null})}),!0):!1},ar.unstable_batchedUpdates=am,ar.unstable_renderSubtreeIntoContainer=function(s,i,l,d){if(!Vd(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Fd(s,i,l,!1,d)},ar.version="18.3.1-next-f1338f8080-20240426",ar}var C_;function IS(){if(C_)return vm.exports;C_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vm.exports=TS(),vm.exports}var T_;function SS(){if(T_)return Ud;T_=1;var t=IS();return Ud.createRoot=t.createRoot,Ud.hydrateRoot=t.hydrateRoot,Ud}var xS=SS();const kS=()=>{};var I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},RS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,h=u?t[o+1]:0,f=o+2<t.length,m=f?t[o+2]:0,v=a>>2,b=(a&3)<<4|h>>4;let C=(h&15)<<2|m>>6,A=m&63;f||(A=64,u||(C=64)),r.push(n[v],n[b],n[C],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||m==null||b==null)throw new PS;const C=a<<2|h>>4;if(r.push(C),m!==64){const A=h<<4&240|m>>2;if(r.push(A),b!==64){const j=m<<6&192|b;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AS=function(t){const e=XE(t);return ZE.encodeByteArray(e,!0)},vh=function(t){return AS(t).replace(/\./g,"")},eb=function(t){try{return ZE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=()=>NS().__FIREBASE_DEFAULTS__,OS=()=>{if(typeof process>"u"||typeof I_>"u")return;const t=I_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eb(t[1]);return e&&JSON.parse(e)},rf=()=>{try{return kS()||DS()||OS()||LS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tb=t=>rf()?.emulatorHosts?.[t],nb=t=>{const e=tb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rb=()=>rf()?.config,sb=t=>rf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vh(JSON.stringify(n)),vh(JSON.stringify(u)),""].join(".")}const Wc={};function MS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wc))Wc[e]?t.emulator.push(e):t.prod.push(e);return t}function VS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let S_=!1;function Mg(t,e){if(typeof window>"u"||typeof document>"u"||!Ta(window.location.host)||Wc[t]===e||Wc[t]||S_)return;Wc[t]=e;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",a=MS().prod.length>0;function u(){const C=document.getElementById(r);C&&C.remove()}function h(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function f(C,A){C.setAttribute("width","24"),C.setAttribute("id",A),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function m(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{S_=!0,u()},C}function v(C,A){C.setAttribute("id",A),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=VS(r),A=n("text"),j=document.getElementById(A)||document.createElement("span"),V=n("learnmore"),O=document.getElementById(V)||document.createElement("a"),B=n("preprendIcon"),U=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const Q=C.element;h(Q),v(O,V);const Z=m();f(U,B),Q.append(U,j,O,Z),document.body.appendChild(Q)}a?(j.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function $S(){const t=rf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HS(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qS(){return!$S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WS(){try{return typeof indexedDB=="object"}catch{return!1}}function GS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="FirebaseError";class Hs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KS,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?QS(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Hs(o,h,r)}}function QS(t,e){return t.replace(JS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const JS=/\{\$([^}]+)}/g;function YS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],u=e[o];if(x_(a)&&x_(u)){if(!vi(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function x_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function $c(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function XS(t,e){const n=new ZS(t,e);return n.subscribe.bind(n)}class ZS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ex(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ex(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class _o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rx(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nx(t){return t===sa?void 0:t}function rx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const ix={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},ox=Ze.INFO,ax={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},lx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=ax[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vg{constructor(e){this.name=e,this._logLevel=ox,this._logHandler=lx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ix[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const cx=(t,e)=>e.some(n=>t instanceof n);let k_,R_;function ux(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dx(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ob=new WeakMap,Km=new WeakMap,ab=new WeakMap,Cm=new WeakMap,Fg=new WeakMap;function hx(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(mo(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&ob.set(n,t)}).catch(()=>{}),Fg.set(e,t),e}function fx(t){if(Km.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Km.set(t,e)}let Qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ab.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function px(t){Qm=t(Qm)}function mx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tm(this),e,...n);return ab.set(r,e.sort?e.sort():[e]),mo(r)}:dx().includes(t)?function(...e){return t.apply(Tm(this),e),mo(ob.get(this))}:function(...e){return mo(t.apply(Tm(this),e))}}function gx(t){return typeof t=="function"?mx(t):(t instanceof IDBTransaction&&fx(t),cx(t,ux())?new Proxy(t,Qm):t)}function mo(t){if(t instanceof IDBRequest)return hx(t);if(Cm.has(t))return Cm.get(t);const e=gx(t);return e!==t&&(Cm.set(t,e),Fg.set(e,t)),e}const Tm=t=>Fg.get(t);function yx(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),h=mo(u);return r&&u.addEventListener("upgradeneeded",f=>{r(mo(u.result),f.oldVersion,f.newVersion,mo(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const wx=["get","getKey","getAll","getAllKeys","count"],vx=["put","add","delete","clear"],Im=new Map;function P_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=vx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||wx.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&f.done]))[0]};return Im.set(e,a),a}px(t=>({...t,get:(e,n,r)=>P_(e,n)||t.get(e,n,r),has:(e,n)=>!!P_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ex(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ex(t){return t.getComponent()?.type==="VERSION"}const Jm="@firebase/app",A_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Vg("@firebase/app"),bx="@firebase/app-compat",Cx="@firebase/analytics-compat",Tx="@firebase/analytics",Ix="@firebase/app-check-compat",Sx="@firebase/app-check",xx="@firebase/auth",kx="@firebase/auth-compat",Rx="@firebase/database",Px="@firebase/data-connect",Ax="@firebase/database-compat",Nx="@firebase/functions",Dx="@firebase/functions-compat",Ox="@firebase/installations",Lx="@firebase/installations-compat",jx="@firebase/messaging",Mx="@firebase/messaging-compat",Vx="@firebase/performance",Fx="@firebase/performance-compat",$x="@firebase/remote-config",Ux="@firebase/remote-config-compat",Bx="@firebase/storage",zx="@firebase/storage-compat",Hx="@firebase/firestore",qx="@firebase/ai",Wx="@firebase/firestore-compat",Gx="firebase",Kx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",Qx={[Jm]:"fire-core",[bx]:"fire-core-compat",[Tx]:"fire-analytics",[Cx]:"fire-analytics-compat",[Sx]:"fire-app-check",[Ix]:"fire-app-check-compat",[xx]:"fire-auth",[kx]:"fire-auth-compat",[Rx]:"fire-rtdb",[Px]:"fire-data-connect",[Ax]:"fire-rtdb-compat",[Nx]:"fire-fn",[Dx]:"fire-fn-compat",[Ox]:"fire-iid",[Lx]:"fire-iid-compat",[jx]:"fire-fcm",[Mx]:"fire-fcm-compat",[Vx]:"fire-perf",[Fx]:"fire-perf-compat",[$x]:"fire-rc",[Ux]:"fire-rc-compat",[Bx]:"fire-gcs",[zx]:"fire-gcs-compat",[Hx]:"fire-fst",[Wx]:"fire-fst-compat",[qx]:"fire-vertex","fire-js":"fire-js",[Gx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,Jx=new Map,Xm=new Map;function N_(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(Xm.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,t);for(const n of _h.values())N_(n,t);for(const n of Jx.values())N_(n,t);return!0}function sf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new fu("app","Firebase",Yx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=Kx;function lb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ym,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw go.create("bad-app-name",{appName:String(o)});if(n||(n=rb()),!n)throw go.create("no-options");const a=_h.get(o);if(a){if(vi(n,a.options)&&vi(r,a.config))return a;throw go.create("duplicate-app",{appName:o})}const u=new sx(o);for(const f of Xm.values())u.addComponent(f);const h=new Xx(n,r,u);return _h.set(o,h),h}function $g(t=Ym){const e=_h.get(t);if(!e&&t===Ym&&rb())return lb();if(!e)throw go.create("no-app",{appName:t});return e}function Ls(t,e,n){let r=Qx[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(u.join(" "));return}fa(new _o(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="firebase-heartbeat-database",ek=1,tu="firebase-heartbeat-store";let Sm=null;function cb(){return Sm||(Sm=yx(Zx,ek,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw go.create("idb-open",{originalErrorMessage:t.message})})),Sm}async function tk(t){try{const n=(await cb()).transaction(tu),r=await n.objectStore(tu).get(ub(t));return await n.done,r}catch(e){if(e instanceof Hs)_i.warn(e.message);else{const n=go.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}}async function D_(t,e){try{const r=(await cb()).transaction(tu,"readwrite");await r.objectStore(tu).put(e,ub(t)),await r.done}catch(n){if(n instanceof Hs)_i.warn(n.message);else{const r=go.create("idb-set",{originalErrorMessage:n?.message});_i.warn(r.message)}}}function ub(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=1024,rk=30;class sk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ok(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=O_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>rk){const o=ak(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=O_(),{heartbeatsToSend:n,unsentEntries:r}=ik(this._heartbeatsCache.heartbeats),o=vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _i.warn(e),""}}}function O_(){return new Date().toISOString().substring(0,10)}function ik(t,e=nk){const n=[];let r=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),L_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),L_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ok{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WS()?GS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function L_(t){return vh(JSON.stringify({version:2,heartbeats:t})).length}function ak(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t){fa(new _o("platform-logger",e=>new _x(e),"PRIVATE")),fa(new _o("heartbeat",e=>new sk(e),"PRIVATE")),Ls(Jm,A_,t),Ls(Jm,A_,"esm2020"),Ls("fire-js","")}lk("");function db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ck=db,hb=new fu("auth","Firebase",db());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Vg("@firebase/auth");function uk(t,...e){Eh.logLevel<=Ze.WARN&&Eh.warn(`Auth (${Ia}): ${t}`,...e)}function th(t,...e){Eh.logLevel<=Ze.ERROR&&Eh.error(`Auth (${Ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,...e){throw Bg(t,...e)}function Ur(t,...e){return Bg(t,...e)}function Ug(t,e,n){const r={...ck(),[e]:n};return new fu("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return Ug(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&zr(t,"argument-error"),Ug(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hb.create(t,...e)}function Ne(t,e,...n){if(!t)throw Bg(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw th(e),new Error(e)}function Ei(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){return typeof self<"u"&&self.location?.href||""}function dk(){return j_()==="http:"||j_()==="https:"}function j_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dk()||BS()||"connection"in navigator)?navigator.onLine:!0}function fk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=FS()||zS()}get(){return hk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gk=new mu(3e4,6e4);function Si(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fs(t,e,n,r,o={}){return mb(t,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=pu({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:f,...a};return US()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(m.credentials="include"),pb.fetch()(await gb(t,t.config.apiHost,n,h),m)})}async function mb(t,e,n){t._canInitEmulator=!1;const r={...pk,...e};try{const o=new wk(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Bd(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bd(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Bd(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Bd(t,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Ug(t,v,m);zr(t,v)}}catch(o){if(o instanceof Hs)throw o;zr(t,"network-request-failed",{message:String(o)})}}async function gu(t,e,n,r,o={}){const a=await fs(t,e,n,r,o);return"mfaPendingCredential"in a&&zr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function gb(t,e,n,r){const o=`${e}${n}?${r}`,a=t,u=a.config.emulator?zg(t.config,o):`${t.config.apiScheme}://${o}`;return mk.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function yk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),gk.get())})}}function Bd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ur(t,e,r);return o.customData._tokenResponse=n,o}function M_(t){return t!==void 0&&t.enterprise!==void 0}class vk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _k(t,e){return fs(t,"GET","/v2/recaptchaConfig",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t,e){return fs(t,"POST","/v1/accounts:delete",e)}async function bh(t,e){return fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bk(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),o=Hg(r);Ne(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Gc(xm(o.auth_time)),issuedAtTime:Gc(xm(o.iat)),expirationTime:Gc(xm(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function xm(t){return Number(t)*1e3}function Hg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=eb(n);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o?.toString()),null}}function V_(t){const e=Hg(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hs&&Ck(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ck({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gc(this.lastLoginAt),this.creationTime=Gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t){const e=t.auth,n=await t.getIdToken(),r=await pa(t,bh(e,{idToken:n}));Ne(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=o.providerUserInfo?.length?yb(o.providerUserInfo):[],u=Sk(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!u?.length,m=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new eg(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function Ik(t){const e=Pt(t);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sk(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function yb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(t,e){const n=await mb(t,{},async()=>{const r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,u=await gb(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(f.credentials="include"),pb.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kk(t,e){return fs(t,"POST","/v2/accounts:revokeToken",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=V_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await xk(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,u=new Tl;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ne(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ne(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ls{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Tk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await pa(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bk(this,e)}reload(){return Ik(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ls({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await pa(this,Ek(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,m=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:C,isAnonymous:A,providerData:j,stsTokenManager:V}=n;Ne(b&&V,e,"internal-error");const O=Tl.fromJSON(this.name,V);Ne(typeof b=="string",e,"internal-error"),to(r,e.name),to(o,e.name),Ne(typeof C=="boolean",e,"internal-error"),Ne(typeof A=="boolean",e,"internal-error"),to(a,e.name),to(u,e.name),to(h,e.name),to(f,e.name),to(m,e.name),to(v,e.name);const B=new ls({uid:b,auth:e,email:o,emailVerified:C,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:O,createdAt:m,lastLoginAt:v});return j&&Array.isArray(j)&&(B.providerData=j.map(U=>({...U}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(e,n,r=!1){const o=new Tl;o.updateFromServerResponse(n);const a=new ls({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ch(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ne(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?yb(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,h=new Tl;h.updateFromIdToken(r);const f=new ls({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new eg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;function pi(t){Ei(t instanceof Function,"Expected a class definition");let e=F_.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wb.type="NONE";const $_=wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t,e,n){return`firebase:${t}:${e}:${n}`}class Il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,a),this.fullPersistenceKey=nh("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bh(this.auth,{idToken:e}).catch(()=>{});return n?ls._fromGetAccountInfoResponse(this.auth,n,e):null}return ls._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Il(pi($_),e,r);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||pi($_);const u=nh(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const v=await m._get(u);if(v){let b;if(typeof v=="string"){const C=await bh(e,{idToken:v}).catch(()=>{});if(!C)break;b=await ls._fromGetAccountInfoResponse(e,C,v)}else b=ls._fromJSON(e,v);m!==a&&(h=b),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Il(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Il(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tb(e))return"Blackberry";if(Ib(e))return"Webos";if(_b(e))return"Safari";if((e.includes("chrome/")||Eb(e))&&!e.includes("edge/"))return"Chrome";if(Cb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function vb(t=Vn()){return/firefox\//i.test(t)}function _b(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Eb(t=Vn()){return/crios\//i.test(t)}function bb(t=Vn()){return/iemobile/i.test(t)}function Cb(t=Vn()){return/android/i.test(t)}function Tb(t=Vn()){return/blackberry/i.test(t)}function Ib(t=Vn()){return/webos/i.test(t)}function qg(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rk(t=Vn()){return qg(t)&&!!window.navigator?.standalone}function Pk(){return HS()&&document.documentMode===10}function Sb(t=Vn()){return qg(t)||Cb(t)||Ib(t)||Tb(t)||/windows phone/i.test(t)||bb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e=[]){let n;switch(t){case"Browser":n=U_(Vn());break;case"Worker":n=`${U_(Vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e={}){return fs(t,"GET","/v2/passwordPolicy",Si(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=6;class Ok{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Dk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new Ak(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bh(this,{idToken:e}),r=await ls._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(mi(this));const n=e?Pt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nk(this),n=new Ok(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xi(t){return Pt(t)}class B_{constructor(e){this.auth=e,this.observer=null,this.addObserver=XS(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jk(t){of=t}function kb(t){return of.loadJS(t)}function Mk(){return of.recaptchaEnterpriseScript}function Vk(){return of.gapiScript}function Fk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $k{constructor(){this.enterprise=new Uk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Uk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Bk="recaptcha-enterprise",Rb="NO_RECAPTCHA";class zk{constructor(e){this.type=Bk,this.auth=xi(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{_k(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new vk(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;M_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(Rb)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $k().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!n&&M_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Mk();f.length!==0&&(f+=h),kb(f).then(()=>{o(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function z_(t,e,n,r=!1,o=!1){const a=new zk(t);let u;if(o)u=Rb;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Th(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await z_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await z_(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e){const n=sf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(vi(a,e??{}))return o;zr(o,"already-initialized")}return n.initialize({options:e})}function qk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Wk(t,e,n){const r=xi(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=Pb(e),{host:u,port:h}=Gk(e),f=h===null?"":`:${h}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(vi(m,r.config.emulator)&&vi(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Ta(u)?(jg(`${a}//${u}${f}`),Mg("Auth",!0)):Kk()}function Pb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Gk(t){const e=Pb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:H_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:H_(u)}}}function H_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function Qk(t,e){return fs(t,"POST","/v1/accounts:update",e)}async function Jk(t,e){return fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e){return gu(t,"POST","/v1/accounts:signInWithPassword",Si(t,e))}async function Xk(t,e){return fs(t,"POST","/v1/accounts:sendOobCode",Si(t,e))}async function Zk(t,e){return Xk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t,e){return gu(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}async function tR(t,e){return gu(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Wg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(e,n,"signInWithPassword",Yk);case"emailLink":return eR(e,{email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(e,r,"signUpPassword",Jk);case"emailLink":return tR(e,{idToken:n,email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return gu(t,"POST","/v1/accounts:signInWithIdp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="http://localhost";class ma extends Wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=n;if(!r||!o)return null;const u=new ma(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sl(e,n)}buildRequest(){const e={requestUri:nR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sR(t){const e=Fc($c(t)).link,n=e?Fc($c(e)).deep_link_id:null,r=Fc($c(t)).deep_link_id;return(r?Fc($c(r)).link:null)||r||n||e||t}class Gg{constructor(e){const n=Fc($c(e)),r=n.apiKey??null,o=n.oobCode??null,a=rR(n.mode??null);Ne(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=sR(e);try{return new Gg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.providerId=Sa.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gg.parseLink(n);return Ne(r,"argument-error"),nu._fromEmailAndCode(e,r.code,r.tenantId)}}Sa.PROVIDER_ID="password";Sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends af{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends yu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends yu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends yu{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t,e){return gu(t,"POST","/v1/accounts:signUp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await ls._fromIdTokenResponse(e,r,o),u=q_(r);return new ga({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=q_(r);return new ga({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function q_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends Hs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Ih(e,n,r,o)}}function Ab(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(t,a,e,r):a})}async function oR(t,e,n=!1){const r=await pa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ga._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(t,e,n=!1){const{auth:r}=t;if(Gn(r.app))return Promise.reject(mi(r));const o="reauthenticate";try{const a=await pa(t,Ab(r,o,e,t),n);Ne(a.idToken,r,"internal-error");const u=Hg(a.idToken);Ne(u,r,"internal-error");const{sub:h}=u;return Ne(t.uid===h,r,"user-mismatch"),ga._forOperation(t,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&zr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(t,e,n=!1){if(Gn(t.app))return Promise.reject(mi(t));const r="signIn",o=await Ab(t,r,e),a=await ga._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function aR(t,e){return Db(xi(t),e)}async function lR(t,e){return Nb(Pt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(t){const e=xi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lb(t,e,n){const r=xi(t);await Th(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Zk)}async function cR(t,e,n){if(Gn(t.app))return Promise.reject(mi(t));const r=xi(t),u=await Th(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Ob(t),f}),h=await ga._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function uR(t,e,n){return Gn(t.app)?Promise.reject(mi(t)):aR(Pt(t),Sa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ob(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t,e){return fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Pt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await pa(r,dR(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function hR(t,e){return fR(Pt(t),null,e)}async function fR(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const u=await pa(t,Qk(r,a));await t._updateTokensIfNecessary(u,!0)}function pR(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function mR(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function gR(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}function wu(t){return Pt(t).signOut()}async function yR(t){return Pt(t).delete()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=1e3,vR=10;class Vb extends Mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Pk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vb.type="LOCAL";const _R=Vb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends Mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fb.type="SESSION";const $b=Fb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new lf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async m=>m(n.origin,a)),f=await ER(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=Kg("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(b){const C=b;if(C.data.eventId===m)switch(C.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(C.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return window}function CR(t){js().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(){return typeof js().WorkerGlobalScope<"u"&&typeof js().importScripts=="function"}async function TR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IR(){return navigator?.serviceWorker?.controller||null}function SR(){return Ub()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firebaseLocalStorageDb",xR=1,xh="firebaseLocalStorage",zb="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(t,e){return t.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function kR(){const t=indexedDB.deleteDatabase(Bb);return new vu(t).toPromise()}function tg(){const t=indexedDB.open(Bb,xR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xh,{keyPath:zb})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xh)?e(r):(r.close(),await kR(),e(await tg()))})})}async function W_(t,e,n){const r=cf(t,!0).put({[zb]:e,value:n});return new vu(r).toPromise()}async function RR(t,e){const n=cf(t,!1).get(e),r=await new vu(n).toPromise();return r===void 0?null:r.value}function G_(t,e){const n=cf(t,!0).delete(e);return new vu(n).toPromise()}const PR=800,AR=3;class Hb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(SR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TR(),!this.activeServiceWorker)return;this.sender=new bR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await W_(e,Sh,"1"),await G_(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>W_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=cf(o,!1).getAll();return new vu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hb.type="LOCAL";const NR=Hb;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t,e){return e?pi(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends Wg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DR(t){return Db(t.auth,new Jg(t),t.bypassAuthState)}function OR(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),Nb(n,new Jg(t),t.bypassAuthState)}async function LR(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),oR(n,new Jg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DR;case"linkViaPopup":case"linkViaRedirect":return LR;case"reauthViaPopup":case"reauthViaRedirect":return OR;default:zr(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new mu(2e3,1e4);async function MR(t,e,n){if(Gn(t.app))return Promise.reject(Ur(t,"operation-not-supported-in-this-environment"));const r=xi(t);fb(t,e,af);const o=Qg(r,n);return new uo(r,"signInViaPopup",e,o).executeNotNull()}async function VR(t,e,n){const r=Pt(t);if(Gn(r.auth.app))return Promise.reject(Ur(r.auth,"operation-not-supported-in-this-environment"));fb(r.auth,e,af);const o=Qg(r.auth,n);return new uo(r.auth,"reauthViaPopup",e,o,r).executeNotNull()}class uo extends qb{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jR.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="pendingRedirect",rh=new Map;class $R extends qb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const r=await UR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UR(t,e){const n=HR(e),r=zR(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function BR(t,e){rh.set(t._key(),e)}function zR(t){return pi(t._redirectPersistence)}function HR(t){return nh(FR,t.config.apiKey,t.name)}async function qR(t,e,n=!1){if(Gn(t.app))return Promise.reject(mi(t));const r=xi(t),o=Qg(r,e),u=await new $R(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=600*1e3;class GR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Wb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ur(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WR&&this.cachedEventUids.clear(),this.cachedEventUids.has(K_(e))}saveEventToCache(e){this.cachedEventUids.add(K_(e)),this.lastProcessedEventTime=Date.now()}}function K_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Wb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function KR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t,e={}){return fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YR=/^https?/;async function XR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QR(t);for(const n of e)try{if(ZR(n))return}catch{}zr(t,"unauthorized-domain")}function ZR(t){const e=Zm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!YR.test(n))return!1;if(JR.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new mu(3e4,6e4);function Q_(){const t=js().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function t2(t){return new Promise((e,n)=>{function r(){Q_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q_(),n(Ur(t,"network-request-failed"))},timeout:e2.get()})}if(js().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(js().gapi?.load)r();else{const o=Fk("iframefcb");return js()[o]=()=>{gapi.load?r():n(Ur(t,"network-request-failed"))},kb(`${Vk()}?onload=${o}`).catch(a=>n(a))}}).catch(e=>{throw sh=null,e})}let sh=null;function n2(t){return sh=sh||t2(t),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new mu(5e3,15e3),s2="__/auth/iframe",i2="emulator/auth/iframe",o2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l2(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zg(e,i2):`https://${t.config.authDomain}/${s2}`,r={apiKey:e.apiKey,appName:t.name,v:Ia},o=a2.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${pu(r).slice(1)}`}async function c2(t){const e=await n2(t),n=js().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:l2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o2,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ur(t,"network-request-failed"),h=js().setTimeout(()=>{a(u)},r2.get());function f(){js().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d2=500,h2=600,f2="_blank",p2="http://localhost";class J_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m2(t,e,n,r=d2,o=h2){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...u2,width:r.toString(),height:o.toString(),top:a,left:u},m=Vn().toLowerCase();n&&(h=Eb(m)?f2:n),vb(m)&&(e=e||p2,f.scrollbars="yes");const v=Object.entries(f).reduce((C,[A,j])=>`${C}${A}=${j},`,"");if(Rk(m)&&h!=="_self")return g2(e||"",h),new J_(null);const b=window.open(e||"",h,v);Ne(b,t,"popup-blocked");try{b.focus()}catch{}return new J_(b)}function g2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="__/auth/handler",w2="emulator/auth/handler",v2=encodeURIComponent("fac");async function Y_(t,e,n,r,o,a){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ia,eventId:o};if(e instanceof af){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",YS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof yu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await t._getAppCheckToken(),m=f?`#${v2}=${encodeURIComponent(f)}`:"";return`${_2(t)}?${pu(h).slice(1)}${m}`}function _2({config:t}){return t.emulator?zg(t,w2):`https://${t.authDomain}/${y2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class E2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$b,this._completeRedirectFn=qR,this._overrideRedirectResult=BR}async _openPopup(e,n,r,o){Ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Y_(e,n,r,Zm(),o);return m2(e,a,Kg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await Y_(e,n,r,Zm(),o);return CR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(Ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await c2(e),r=new GR(e);return n.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},o=>{const a=o?.[0]?.[km];a!==void 0&&n(!!a),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Sb()||_b()||qg()}}const b2=E2;var X_="@firebase/auth",Z_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I2(t){fa(new _o("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xb(t)},m=new Lk(r,o,a,f);return qk(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fa(new _o("auth-internal",e=>{const n=xi(e.getProvider("auth").getImmediate());return(r=>new C2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(X_,Z_,T2(t)),Ls(X_,Z_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=300,x2=sb("authIdTokenMaxAge")||S2;let e0=null;const k2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>x2)return;const o=n?.token;e0!==o&&(e0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Kr(t=$g()){const e=sf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hk(t,{popupRedirectResolver:b2,persistence:[NR,_R,$b]}),r=sb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=k2(a.toString());mR(n,u,()=>u(n.currentUser)),pR(n,h=>u(h))}}const o=tb("auth");return o&&Wk(n,`http://${o}`),n}function R2(){return document.getElementsByTagName("head")?.[0]??document}jk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=Ur("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",R2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I2("Browser");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yo,Gb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,x){function P(){}P.prototype=x.prototype,k.D=x.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(S,L,$){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return x.prototype[L].apply(S,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,x,P){P||(P=0);var S=Array(16);if(typeof x=="string")for(var L=0;16>L;++L)S[L]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(L=0;16>L;++L)S[L]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=k.g[0],P=k.g[1],L=k.g[2];var $=k.g[3],R=x+($^P&(L^$))+S[0]+3614090360&4294967295;x=P+(R<<7&4294967295|R>>>25),R=$+(L^x&(P^L))+S[1]+3905402710&4294967295,$=x+(R<<12&4294967295|R>>>20),R=L+(P^$&(x^P))+S[2]+606105819&4294967295,L=$+(R<<17&4294967295|R>>>15),R=P+(x^L&($^x))+S[3]+3250441966&4294967295,P=L+(R<<22&4294967295|R>>>10),R=x+($^P&(L^$))+S[4]+4118548399&4294967295,x=P+(R<<7&4294967295|R>>>25),R=$+(L^x&(P^L))+S[5]+1200080426&4294967295,$=x+(R<<12&4294967295|R>>>20),R=L+(P^$&(x^P))+S[6]+2821735955&4294967295,L=$+(R<<17&4294967295|R>>>15),R=P+(x^L&($^x))+S[7]+4249261313&4294967295,P=L+(R<<22&4294967295|R>>>10),R=x+($^P&(L^$))+S[8]+1770035416&4294967295,x=P+(R<<7&4294967295|R>>>25),R=$+(L^x&(P^L))+S[9]+2336552879&4294967295,$=x+(R<<12&4294967295|R>>>20),R=L+(P^$&(x^P))+S[10]+4294925233&4294967295,L=$+(R<<17&4294967295|R>>>15),R=P+(x^L&($^x))+S[11]+2304563134&4294967295,P=L+(R<<22&4294967295|R>>>10),R=x+($^P&(L^$))+S[12]+1804603682&4294967295,x=P+(R<<7&4294967295|R>>>25),R=$+(L^x&(P^L))+S[13]+4254626195&4294967295,$=x+(R<<12&4294967295|R>>>20),R=L+(P^$&(x^P))+S[14]+2792965006&4294967295,L=$+(R<<17&4294967295|R>>>15),R=P+(x^L&($^x))+S[15]+1236535329&4294967295,P=L+(R<<22&4294967295|R>>>10),R=x+(L^$&(P^L))+S[1]+4129170786&4294967295,x=P+(R<<5&4294967295|R>>>27),R=$+(P^L&(x^P))+S[6]+3225465664&4294967295,$=x+(R<<9&4294967295|R>>>23),R=L+(x^P&($^x))+S[11]+643717713&4294967295,L=$+(R<<14&4294967295|R>>>18),R=P+($^x&(L^$))+S[0]+3921069994&4294967295,P=L+(R<<20&4294967295|R>>>12),R=x+(L^$&(P^L))+S[5]+3593408605&4294967295,x=P+(R<<5&4294967295|R>>>27),R=$+(P^L&(x^P))+S[10]+38016083&4294967295,$=x+(R<<9&4294967295|R>>>23),R=L+(x^P&($^x))+S[15]+3634488961&4294967295,L=$+(R<<14&4294967295|R>>>18),R=P+($^x&(L^$))+S[4]+3889429448&4294967295,P=L+(R<<20&4294967295|R>>>12),R=x+(L^$&(P^L))+S[9]+568446438&4294967295,x=P+(R<<5&4294967295|R>>>27),R=$+(P^L&(x^P))+S[14]+3275163606&4294967295,$=x+(R<<9&4294967295|R>>>23),R=L+(x^P&($^x))+S[3]+4107603335&4294967295,L=$+(R<<14&4294967295|R>>>18),R=P+($^x&(L^$))+S[8]+1163531501&4294967295,P=L+(R<<20&4294967295|R>>>12),R=x+(L^$&(P^L))+S[13]+2850285829&4294967295,x=P+(R<<5&4294967295|R>>>27),R=$+(P^L&(x^P))+S[2]+4243563512&4294967295,$=x+(R<<9&4294967295|R>>>23),R=L+(x^P&($^x))+S[7]+1735328473&4294967295,L=$+(R<<14&4294967295|R>>>18),R=P+($^x&(L^$))+S[12]+2368359562&4294967295,P=L+(R<<20&4294967295|R>>>12),R=x+(P^L^$)+S[5]+4294588738&4294967295,x=P+(R<<4&4294967295|R>>>28),R=$+(x^P^L)+S[8]+2272392833&4294967295,$=x+(R<<11&4294967295|R>>>21),R=L+($^x^P)+S[11]+1839030562&4294967295,L=$+(R<<16&4294967295|R>>>16),R=P+(L^$^x)+S[14]+4259657740&4294967295,P=L+(R<<23&4294967295|R>>>9),R=x+(P^L^$)+S[1]+2763975236&4294967295,x=P+(R<<4&4294967295|R>>>28),R=$+(x^P^L)+S[4]+1272893353&4294967295,$=x+(R<<11&4294967295|R>>>21),R=L+($^x^P)+S[7]+4139469664&4294967295,L=$+(R<<16&4294967295|R>>>16),R=P+(L^$^x)+S[10]+3200236656&4294967295,P=L+(R<<23&4294967295|R>>>9),R=x+(P^L^$)+S[13]+681279174&4294967295,x=P+(R<<4&4294967295|R>>>28),R=$+(x^P^L)+S[0]+3936430074&4294967295,$=x+(R<<11&4294967295|R>>>21),R=L+($^x^P)+S[3]+3572445317&4294967295,L=$+(R<<16&4294967295|R>>>16),R=P+(L^$^x)+S[6]+76029189&4294967295,P=L+(R<<23&4294967295|R>>>9),R=x+(P^L^$)+S[9]+3654602809&4294967295,x=P+(R<<4&4294967295|R>>>28),R=$+(x^P^L)+S[12]+3873151461&4294967295,$=x+(R<<11&4294967295|R>>>21),R=L+($^x^P)+S[15]+530742520&4294967295,L=$+(R<<16&4294967295|R>>>16),R=P+(L^$^x)+S[2]+3299628645&4294967295,P=L+(R<<23&4294967295|R>>>9),R=x+(L^(P|~$))+S[0]+4096336452&4294967295,x=P+(R<<6&4294967295|R>>>26),R=$+(P^(x|~L))+S[7]+1126891415&4294967295,$=x+(R<<10&4294967295|R>>>22),R=L+(x^($|~P))+S[14]+2878612391&4294967295,L=$+(R<<15&4294967295|R>>>17),R=P+($^(L|~x))+S[5]+4237533241&4294967295,P=L+(R<<21&4294967295|R>>>11),R=x+(L^(P|~$))+S[12]+1700485571&4294967295,x=P+(R<<6&4294967295|R>>>26),R=$+(P^(x|~L))+S[3]+2399980690&4294967295,$=x+(R<<10&4294967295|R>>>22),R=L+(x^($|~P))+S[10]+4293915773&4294967295,L=$+(R<<15&4294967295|R>>>17),R=P+($^(L|~x))+S[1]+2240044497&4294967295,P=L+(R<<21&4294967295|R>>>11),R=x+(L^(P|~$))+S[8]+1873313359&4294967295,x=P+(R<<6&4294967295|R>>>26),R=$+(P^(x|~L))+S[15]+4264355552&4294967295,$=x+(R<<10&4294967295|R>>>22),R=L+(x^($|~P))+S[6]+2734768916&4294967295,L=$+(R<<15&4294967295|R>>>17),R=P+($^(L|~x))+S[13]+1309151649&4294967295,P=L+(R<<21&4294967295|R>>>11),R=x+(L^(P|~$))+S[4]+4149444226&4294967295,x=P+(R<<6&4294967295|R>>>26),R=$+(P^(x|~L))+S[11]+3174756917&4294967295,$=x+(R<<10&4294967295|R>>>22),R=L+(x^($|~P))+S[2]+718787259&4294967295,L=$+(R<<15&4294967295|R>>>17),R=P+($^(L|~x))+S[9]+3951481745&4294967295,k.g[0]=k.g[0]+x&4294967295,k.g[1]=k.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+$&4294967295}r.prototype.u=function(k,x){x===void 0&&(x=k.length);for(var P=x-this.blockSize,S=this.B,L=this.h,$=0;$<x;){if(L==0)for(;$<=P;)o(this,k,$),$+=this.blockSize;if(typeof k=="string"){for(;$<x;)if(S[L++]=k.charCodeAt($++),L==this.blockSize){o(this,S),L=0;break}}else for(;$<x;)if(S[L++]=k[$++],L==this.blockSize){o(this,S),L=0;break}}this.h=L,this.o+=x},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var x=1;x<k.length-8;++x)k[x]=0;var P=8*this.o;for(x=k.length-8;x<k.length;++x)k[x]=P&255,P/=256;for(this.u(k),k=Array(16),x=P=0;4>x;++x)for(var S=0;32>S;S+=8)k[P++]=this.g[x]>>>S&255;return k};function a(k,x){var P=h;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=x(k)}function u(k,x){this.h=x;for(var P=[],S=!0,L=k.length-1;0<=L;L--){var $=k[L]|0;S&&$==x||(P[L]=$,S=!1)}this.g=P}var h={};function f(k){return-128<=k&&128>k?a(k,function(x){return new u([x|0],0>x?-1:0)}):new u([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return O(m(-k));for(var x=[],P=1,S=0;k>=P;S++)x[S]=k/P|0,P*=4294967296;return new u(x,0)}function v(k,x){if(k.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k.charAt(0)=="-")return O(v(k.substring(1),x));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(x,8)),S=b,L=0;L<k.length;L+=8){var $=Math.min(8,k.length-L),R=parseInt(k.substring(L,L+$),x);8>$?($=m(Math.pow(x,$)),S=S.j($).add(m(R))):(S=S.j(P),S=S.add(m(R)))}return S}var b=f(0),C=f(1),A=f(16777216);t=u.prototype,t.m=function(){if(V(this))return-O(this).m();for(var k=0,x=1,P=0;P<this.g.length;P++){var S=this.i(P);k+=(0<=S?S:4294967296+S)*x,x*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(j(this))return"0";if(V(this))return"-"+O(this).toString(k);for(var x=m(Math.pow(k,6)),P=this,S="";;){var L=Z(P,x).g;P=B(P,L.j(x));var $=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=L,j(P))return $+S;for(;6>$.length;)$="0"+$;S=$+S}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function j(k){if(k.h!=0)return!1;for(var x=0;x<k.g.length;x++)if(k.g[x]!=0)return!1;return!0}function V(k){return k.h==-1}t.l=function(k){return k=B(this,k),V(k)?-1:j(k)?0:1};function O(k){for(var x=k.g.length,P=[],S=0;S<x;S++)P[S]=~k.g[S];return new u(P,~k.h).add(C)}t.abs=function(){return V(this)?O(this):this},t.add=function(k){for(var x=Math.max(this.g.length,k.g.length),P=[],S=0,L=0;L<=x;L++){var $=S+(this.i(L)&65535)+(k.i(L)&65535),R=($>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);S=R>>>16,$&=65535,R&=65535,P[L]=R<<16|$}return new u(P,P[P.length-1]&-2147483648?-1:0)};function B(k,x){return k.add(O(x))}t.j=function(k){if(j(this)||j(k))return b;if(V(this))return V(k)?O(this).j(O(k)):O(O(this).j(k));if(V(k))return O(this.j(O(k)));if(0>this.l(A)&&0>k.l(A))return m(this.m()*k.m());for(var x=this.g.length+k.g.length,P=[],S=0;S<2*x;S++)P[S]=0;for(S=0;S<this.g.length;S++)for(var L=0;L<k.g.length;L++){var $=this.i(S)>>>16,R=this.i(S)&65535,Oe=k.i(L)>>>16,Ce=k.i(L)&65535;P[2*S+2*L]+=R*Ce,U(P,2*S+2*L),P[2*S+2*L+1]+=$*Ce,U(P,2*S+2*L+1),P[2*S+2*L+1]+=R*Oe,U(P,2*S+2*L+1),P[2*S+2*L+2]+=$*Oe,U(P,2*S+2*L+2)}for(S=0;S<x;S++)P[S]=P[2*S+1]<<16|P[2*S];for(S=x;S<2*x;S++)P[S]=0;return new u(P,0)};function U(k,x){for(;(k[x]&65535)!=k[x];)k[x+1]+=k[x]>>>16,k[x]&=65535,x++}function Q(k,x){this.g=k,this.h=x}function Z(k,x){if(j(x))throw Error("division by zero");if(j(k))return new Q(b,b);if(V(k))return x=Z(O(k),x),new Q(O(x.g),O(x.h));if(V(x))return x=Z(k,O(x)),new Q(O(x.g),x.h);if(30<k.g.length){if(V(k)||V(x))throw Error("slowDivide_ only works with positive integers.");for(var P=C,S=x;0>=S.l(k);)P=le(P),S=le(S);var L=ne(P,1),$=ne(S,1);for(S=ne(S,2),P=ne(P,2);!j(S);){var R=$.add(S);0>=R.l(k)&&(L=L.add(P),$=R),S=ne(S,1),P=ne(P,1)}return x=B(k,L.j(x)),new Q(L,x)}for(L=b;0<=k.l(x);){for(P=Math.max(1,Math.floor(k.m()/x.m())),S=Math.ceil(Math.log(P)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),$=m(P),R=$.j(x);V(R)||0<R.l(k);)P-=S,$=m(P),R=$.j(x);j($)&&($=C),L=L.add($),k=B(k,R)}return new Q(L,k)}t.A=function(k){return Z(this,k).h},t.and=function(k){for(var x=Math.max(this.g.length,k.g.length),P=[],S=0;S<x;S++)P[S]=this.i(S)&k.i(S);return new u(P,this.h&k.h)},t.or=function(k){for(var x=Math.max(this.g.length,k.g.length),P=[],S=0;S<x;S++)P[S]=this.i(S)|k.i(S);return new u(P,this.h|k.h)},t.xor=function(k){for(var x=Math.max(this.g.length,k.g.length),P=[],S=0;S<x;S++)P[S]=this.i(S)^k.i(S);return new u(P,this.h^k.h)};function le(k){for(var x=k.g.length+1,P=[],S=0;S<x;S++)P[S]=k.i(S)<<1|k.i(S-1)>>>31;return new u(P,k.h)}function ne(k,x){var P=x>>5;x%=32;for(var S=k.g.length-P,L=[],$=0;$<S;$++)L[$]=0<x?k.i($+P)>>>x|k.i($+P+1)<<32-x:k.i($+P);return new u(L,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Gb=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,yo=u}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kb,Uc,Qb,ih,ng,Jb,Yb,Xb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zd=="object"&&zd];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var q=c[I];if(!(q in _))break e;_=_[q]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,q={next:function(){if(!I&&_<c.length){var X=_++;return{value:g(X,c[X]),done:!1}}return I=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,I),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function C(c,g,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,C.apply(null,arguments)}function A(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function j(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,q,X){for(var he=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)he[mt-2]=arguments[mt];return g.prototype[q].apply(I,he)}}function V(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function O(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const q=c.length||0,X=I.length||0;c.length=q+X;for(let he=0;he<X;he++)c[q+he]=I[he]}else c.push(I)}}class B{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function U(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var le=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ne(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function k(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function x(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,g){let _,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(_ in I)c[_]=I[_];for(let X=0;X<P.length;X++)_=P[X],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function L(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function $(c){h.setTimeout(()=>{throw c},0)}function R(){var c=H;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Oe{constructor(){this.h=this.g=null}add(g,_){const I=Ce.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var Ce=new B(()=>new Ue,c=>c.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,G=!1,H=new Oe,J=()=>{const c=h.Promise.resolve(void 0);Re=()=>{c.then(D)}};var D=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){$(_)}var g=Ce;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}G=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ce=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c})();function fe(c,g){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(le){e:{try{Z(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fe.aa.h.call(this)}}j(fe,oe);var Ee={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Be(c,g,_,I,q){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=q,this.key=++Me,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Et(c){this.src=c,this.g={},this.h=0}Et.prototype.add=function(c,g,_,I,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var he=$n(c,g,I,q);return-1<he?(g=c[he],_||(g.fa=!1)):(g=new Be(g,this.src,X,!!I,q),g.fa=_,c.push(g)),g};function It(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],q=Array.prototype.indexOf.call(I,g,void 0),X;(X=0<=q)&&Array.prototype.splice.call(I,q,1),X&&(gt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function $n(c,g,_,I){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==g&&X.capture==!!_&&X.ha==I)return q}return-1}var Un="closure_lm_"+(1e6*Math.random()|0),hr={};function Qr(c,g,_,I,q){if(Array.isArray(g)){for(var X=0;X<g.length;X++)Qr(c,g[X],_,I,q);return null}return _=Je(_),c&&c[Ve]?c.K(g,_,m(I)?!!I.capture:!1,q):Le(c,g,_,!1,I,q)}function Le(c,g,_,I,q,X){if(!g)throw Error("Invalid event type");var he=m(q)?!!q.capture:!!q,mt=qe(c);if(mt||(c[Un]=mt=new Et(c)),_=mt.add(g,_,I,he,X),_.proxy)return _;if(I=ye(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)ce||(q=he),q===void 0&&(q=!1),c.addEventListener(g.toString(),I,q);else if(c.attachEvent)c.attachEvent(ze(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ye(){function c(_){return g.call(c.src,c.listener,_)}const g=yt;return c}function rt(c,g,_,I,q){if(Array.isArray(g))for(var X=0;X<g.length;X++)rt(c,g[X],_,I,q);else I=m(I)?!!I.capture:!!I,_=Je(_),c&&c[Ve]?(c=c.i,g=String(g).toString(),g in c.g&&(X=c.g[g],_=$n(X,_,I,q),-1<_&&(gt(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[g],c.h--)))):c&&(c=qe(c))&&(g=c.g[g.toString()],c=-1,g&&(c=$n(g,_,I,q)),(_=-1<c?g[c]:null)&&Pe(_))}function Pe(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ve])It(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(ze(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=qe(g))?(It(_,c),_.h==0&&(_.src=null,g[Un]=null)):gt(c)}}}function ze(c){return c in hr?hr[c]:hr[c]="on"+c}function yt(c,g){if(c.da)c=!0;else{g=new fe(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&Pe(c),c=_.call(I,g)}return c}function qe(c){return c=c[Un],c instanceof Et?c:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Je(c){return typeof c=="function"?c:(c[Ye]||(c[Ye]=function(g){return c.handleEvent(g)}),c[Ye])}function Xe(){z.call(this),this.i=new Et(this),this.M=this,this.F=null}j(Xe,z),Xe.prototype[Ve]=!0,Xe.prototype.removeEventListener=function(c,g,_,I){rt(this,c,g,_,I)};function wt(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new oe(g,c);else if(g instanceof oe)g.target=g.target||c;else{var q=g;g=new oe(I,c),S(g,q)}if(q=!0,_)for(var X=_.length-1;0<=X;X--){var he=g.g=_[X];q=fr(he,I,!0,g)&&q}if(he=g.g=c,q=fr(he,I,!0,g)&&q,q=fr(he,I,!1,g)&&q,_)for(X=0;X<_.length;X++)he=g.g=_[X],q=fr(he,I,!1,g)&&q}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)gt(_[I]);delete c.g[g],c.h--}}this.F=null},Xe.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},Xe.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function fr(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,X=0;X<g.length;++X){var he=g[X];if(he&&!he.da&&he.capture==_){var mt=he.listener,on=he.ha||he.src;he.fa&&It(c.i,he),q=mt.call(on,I)!==!1&&q}}return q&&!I.defaultPrevented}function Po(c,g,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function gs(c){c.g=Po(()=>{c.g=null,c.i&&(c.i=!1,gs(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ys extends z{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){z.call(this),this.h=c,this.g={}}j(ws,z);var Ao=[];function No(c){ne(c.g,function(g,_){this.g.hasOwnProperty(_)&&Pe(g)},c),c.g={}}ws.prototype.N=function(){ws.aa.N.call(this),No(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=h.JSON.stringify,Do=h.JSON.parse,Oo=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ws(){}Ws.prototype.h=null;function Gs(c){return c.h||(c.h=c.i())}function Ri(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){oe.call(this,"d")}j(pr,oe);function kr(){oe.call(this,"c")}j(kr,oe);var Rr={},Lo=null;function vs(){return Lo=Lo||new Xe}Rr.La="serverreachability";function Pi(c){oe.call(this,Rr.La,c)}j(Pi,oe);function Pr(c){const g=vs();wt(g,new Pi(g))}Rr.STAT_EVENT="statevent";function Ai(c,g){oe.call(this,Rr.STAT_EVENT,c),this.stat=g}j(Ai,oe);function At(c){const g=vs();wt(g,new Ai(g,c))}Rr.Ma="timingevent";function Ks(c,g){oe.call(this,Rr.Ma,c),this.size=g}j(Ks,oe);function Yn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function Qs(c,g,_,I,q,X){c.info(function(){if(c.g)if(X)for(var he="",mt=X.split("&"),on=0;on<mt.length;on++){var ot=mt[on].split("=");if(1<ot.length){var hn=ot[0];ot=ot[1];var Xt=hn.split("_");he=2<=Xt.length&&Xt[1]=="type"?he+(hn+"="+ot+"&"):he+(hn+"=redacted&")}}else he=null;else he=X;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+g+`
`+_+`
`+he})}function Ni(c,g,_,I,q,X,he){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+g+`
`+_+`
`+X+" "+he})}function Jt(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+jo(c,_)+(I?" "+I:"")})}function vn(c,g){c.info(function(){return"TIMEOUT: "+g})}_s.prototype.info=function(){};function jo(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var q=I[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var he=1;he<q.length;he++)q[he]=""}}}}return ki(_)}catch{return g}}var Js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$t;function Xn(){}j(Xn,Ws),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},$t=new Xn;function mr(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ar}function Ar(){this.i=null,this.g="",this.h=!1}var Di={},Jr={};function Ys(c,g,_){c.L=1,c.v=ji(Yt(g)),c.m=_,c.P=!0,Vo(c,null)}function Vo(c,g){c.F=Date.now(),vt(c),c.A=Yt(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Vi(_.i,"t",I),c.C=0,_=c.j.J,c.h=new Ar,c.g=Wu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new ys(C(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Ao[0]=q.toString()),q=Ao);for(var X=0;X<q.length;X++){var he=Qr(_,q[X],I||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Pr(),Qs(c.i,c.u,c.A,c.l,c.R,c.m)}mr.prototype.ca=function(c){c=c.target;const g=this.M;g&&tr(c)==3?g.j():this.Y(c)},mr.prototype.Y=function(c){try{if(c==this.g)e:{const Xt=tr(this.g);var g=this.g.Ba();const Dr=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||cc(this.g)))){this.J||Xt!=4||g==7||(g==8||0>=Dr?Pr(3):Pr(2)),gr(this);var _=this.g.Z();this.X=_;t:if(La(this)){var I=cc(this.g);c="";var q=I.length,X=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),Es(this);var he="";break t}this.h.i=new h.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(X&&g==q-1)});I.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,Ni(this.i,this.u,this.A,this.l,this.R,Xt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,on=this.g;if((mt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(mt)){var ot=mt;break t}}ot=null}if(_=ot)Jt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fo(this,_);else{this.o=!1,this.s=3,At(12),Zn(this),Es(this);break e}}if(this.P){_=!0;let vr;for(;!this.J&&this.C<he.length;)if(vr=ic(this,he),vr==Jr){Xt==4&&(this.s=4,At(14),_=!1),Jt(this.i,this.l,null,"[Incomplete Response]");break}else if(vr==Di){this.s=4,At(15),Jt(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else Jt(this.i,this.l,vr,null),Fo(this,vr);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||he.length!=0||this.h.h||(this.s=1,At(16),_=!1),this.o=this.o&&_,!_)Jt(this.i,this.l,he,"[Invalid Chunked Response]"),Zn(this),Es(this);else if(0<he.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),dc(hn),hn.M=!0,At(11))}}else Jt(this.i,this.l,he,null),Fo(this,he);Xt==4&&Zn(this),this.o&&!this.J&&(Xt==4?Ka(this.j,this):(this.o=!1,vt(this)))}else za(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Zn(this),Es(this)}}}catch{}finally{}};function La(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ic(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?Jr:(_=Number(g.substring(_,I)),isNaN(_)?Di:(I+=1,I+_>g.length?Jr:(g=g.slice(I,I+_),c.C=I+_,g)))}mr.prototype.cancel=function(){this.J=!0,Zn(this)};function vt(c){c.S=Date.now()+c.I,Ht(c,c.I)}function Ht(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Yn(C(c.ba,c),g)}function gr(c){c.B&&(h.clearTimeout(c.B),c.B=null)}mr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(vn(this.i,this.A),this.L!=2&&(Pr(),At(17)),Zn(this),this.s=2,Es(this)):Ht(this,this.S-c)};function Es(c){c.j.G==0||c.J||Ka(c.j,c)}function Zn(c){gr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,No(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Fo(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Ut(_.h,c))){if(!c.K&&Ut(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ga(_),ts(_);else break e;Wa(_),At(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Yn(C(_.Za,_),6e3));if(1>=Ma(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ni(_,11)}else if((c.K||_.g==c)&&Ga(_),!U(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let ot=q[g];if(_.T=ot[0],ot=ot[1],_.G==2)if(ot[0]=="c"){_.K=ot[1],_.ia=ot[2];const hn=ot[3];hn!=null&&(_.la=hn,_.j.info("VER="+_.la));const Xt=ot[4];Xt!=null&&(_.Aa=Xt,_.j.info("SVER="+_.Aa));const Dr=ot[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(I=1.5*Dr,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const vr=c.g;if(vr){const Ho=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ho){var X=I.h;X.g||Ho.indexOf("spdy")==-1&&Ho.indexOf("quic")==-1&&Ho.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&($o(X,X.h),X.h=null))}if(I.D){const Ja=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(I.ya=Ja,_t(I.I,I.D,Ja))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var he=c;if(I.qa=qu(I,I.J?I.ia:null,I.W),he.K){Va(I.h,he);var mt=he,on=I.L;on&&(mt.I=on),mt.B&&(gr(mt),vt(mt)),I.g=he}else zo(I);0<_.i.length&&Is(_)}else ot[0]!="stop"&&ot[0]!="close"||ni(_,7);else _.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?ni(_,7):En(_):ot[0]!="noop"&&_.l&&_.l.ta(ot),_.v=0)}}Pr(4)}catch{}}var ja=class{constructor(c,g){this.g=c,this.map=g}};function Xs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ma(c){return c.h?1:c.g?c.g.size:0}function Ut(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function $o(c,g){c.g?c.g.add(g):c.h=g}function Va(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Xs.prototype.cancel=function(){if(this.i=Fa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return V(c.i)}function Ie(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function Ge(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function Nt(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ge(c),I=Ie(c),q=I.length,X=0;X<q;X++)g.call(void 0,I[X],_&&_[X],c)}var sn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ae(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),q=null;if(0<=I){var X=c[_].substring(0,I);q=c[_].substring(I+1)}else X=c[_];g(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yr){this.h=c.h,kn(this,c.j),this.o=c.o,this.g=c.g,Oi(this,c.s),this.l=c.l;var g=c.i,_=new bs;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Li(this,_),this.m=c.m}else c&&(g=String(c).match(sn))?(this.h=!1,kn(this,g[1]||"",!0),this.o=st(g[2]||""),this.g=st(g[3]||"",!0),Oi(this,g[4]),this.l=st(g[5]||"",!0),Li(this,g[6]||"",!0),this.m=st(g[7]||"")):(this.h=!1,this.i=new bs(null,this.h))}yr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Mi(g,$a,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Mi(g,$a,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Mi(_,_.charAt(0)=="/"?Mu:ju,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Mi(_,oc)),c.join("")};function Yt(c){return new yr(c)}function kn(c,g,_){c.j=_?st(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Oi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Li(c,g,_){g instanceof bs?(c.i=g,Cs(c.i,c.h)):(_||(g=Mi(g,Vu)),c.i=new bs(g,c.h))}function _t(c,g,_){c.i.set(g,_)}function ji(c){return _t(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function st(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Mi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Lu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $a=/[#\/\?@]/g,ju=/[#\?:]/g,Mu=/[#\?]/g,Vu=/[#\?@]/g,oc=/#/g;function bs(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&Ae(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=bs.prototype,t.add=function(c,g){_n(this),this.i=null,c=Nr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Yr(c,g){_n(c),g=Nr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Xr(c,g){return _n(c),g=Nr(c,g),c.g.has(g)}t.forEach=function(c,g){_n(this),this.g.forEach(function(_,I){_.forEach(function(q){c.call(g,q,I,this)},this)},this)},t.na=function(){_n(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const q=c[I];for(let X=0;X<q.length;X++)_.push(g[I])}return _},t.V=function(c){_n(this);let g=[];if(typeof c=="string")Xr(this,c)&&(g=g.concat(this.g.get(Nr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},t.set=function(c,g){return _n(this),this.i=null,c=Nr(this,c),Xr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Vi(c,g,_){Yr(c,g),0<_.length&&(c.i=null,c.g.set(Nr(c,g),V(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const X=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var q=X;he[I]!==""&&(q+="="+encodeURIComponent(String(he[I]))),c.push(q)}}return this.i=c.join("&")};function Nr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Cs(c,g){g&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(_,I){var q=I.toLowerCase();I!=q&&(Yr(this,I),Vi(this,q,_))},c)),c.j=g}function Kf(c,g){const _=new _s;if(h.Image){const I=new Image;I.onload=A(er,_,"TestLoadImage: loaded",!0,g,I),I.onerror=A(er,_,"TestLoadImage: error",!1,g,I),I.onabort=A(er,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=A(er,_,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function Fu(c,g){const _=new _s,I=new AbortController,q=setTimeout(()=>{I.abort(),er(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(X=>{clearTimeout(q),X.ok?er(_,"TestPingServer: ok",!0,g):er(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),er(_,"TestPingServer: error",!1,g)})}function er(c,g,_,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(_)}catch{}}function Qf(){this.g=new Oo}function $u(c,g,_){const I=_||"";try{Nt(c,function(q,X){let he=q;m(q)&&(he=ki(q)),g.push(I+X+"="+encodeURIComponent(he))})}catch(q){throw g.push(I+"type="+encodeURIComponent("_badmap")),q}}function Zs(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Zs,Ws),Zs.prototype.g=function(){return new Uo(this.l,this.j)},Zs.prototype.i=(function(c){return function(){return c}})({});function Uo(c,g){Xe.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Uo,Xe),t=Uo.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,es(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Zr(this):es(this),this.readyState==3&&Uu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Zr(this))},t.Qa=function(c){this.g&&(this.response=c,Zr(this))},t.ga=function(){this.g&&Zr(this)};function Zr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,es(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function es(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ei(c){let g="";return ne(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function Fi(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=ei(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):_t(c,g,_))}function Dt(c){Xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Dt,Xe);var Jf=/^https?$/i,ac=["POST","PUT"];t=Dt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$t.g(),this.v=this.o?Gs(this.o):Gs($t),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(X){Bo(this,X);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)_.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())_.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ac,g,void 0))||I||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of _)this.g.setRequestHeader(X,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Bo(this,X)}};function Bo(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ua(c),wr(c)}function Ua(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),wr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),Dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lc(this):this.bb())},t.bb=function(){lc(this)};function lc(c){if(c.h&&typeof u<"u"&&(!c.v[1]||tr(c)!=4||c.Z()!=2)){if(c.u&&tr(c)==4)Po(c.Ea,0,c);else if(wt(c,"readystatechange"),tr(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=he===0){var q=String(c.D).match(sn)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),I=!Jf.test(q?q.toLowerCase():"")}_=I}if(_)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var X=2<tr(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Ua(c)}}finally{wr(c)}}}}function wr(c,g){if(c.g){Ba(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||wt(c,"ready");try{_.onreadystatechange=I}catch{}}}function Ba(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Do(g)}};function cc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function za(c){const g={};c=(c.g&&2<=tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(U(c[I]))continue;var _=L(c[I]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=g[q]||[];g[q]=X,X.push(_)}k(g,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function uc(c){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Xs(c&&c.concurrentRequestLimit),this.Da=new Qf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=uc.prototype,t.la=8,t.G=1,t.connect=function(c,g,_,I){At(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=qu(this,null,this.W),Is(this)};function En(c){if(Ha(c),c.G==3){var g=c.U++,_=Yt(c.I);if(_t(_,"SID",c.K),_t(_,"RID",g),_t(_,"TYPE","terminate"),ti(c,_),g=new mr(c,c.j,g),g.L=2,g.v=ji(Yt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=Wu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),vt(g)}Hu(c)}function ts(c){c.g&&(dc(c),c.g.cancel(),c.g=null)}function Ha(c){ts(c),c.u&&(h.clearTimeout(c.u),c.u=null),Ga(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Is(c){if(!zn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Re||J(),G||(Re(),G=!0),H.add(g,c),c.B=0}}function Yf(c,g){return Ma(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Yn(C(c.Ga,c,g),zu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new mr(this,this.j,c);let X=this.o;if(this.S&&(X?(X=x(X),S(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=$i(this,q,g),_=Yt(this.I),_t(_,"RID",c),_t(_,"CVER",22),this.D&&_t(_,"X-HTTP-Session-Id",this.D),ti(this,_),X&&(this.O?g="headers="+encodeURIComponent(String(ei(X)))+"&"+g:this.m&&Fi(_,this.m,X)),$o(this.h,q),this.Ua&&_t(_,"TYPE","init"),this.P?(_t(_,"$req",g),_t(_,"SID","null"),q.T=!0,Ys(q,_,null)):Ys(q,_,g),this.G=2}}else this.G==3&&(c?qa(this,c):this.i.length==0||zn(this.h)||qa(this))};function qa(c,g){var _;g?_=g.l:_=c.U++;const I=Yt(c.I);_t(I,"SID",c.K),_t(I,"RID",_),_t(I,"AID",c.T),ti(c,I),c.m&&c.o&&Fi(I,c.m,c.o),_=new mr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=$i(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$o(c.h,_),Ys(_,I,g)}function ti(c,g){c.H&&ne(c.H,function(_,I){_t(g,I,_)}),c.l&&Nt({},function(_,I){_t(g,I,_)})}function $i(c,g,_){_=Math.min(c.i.length,_);var I=c.l?C(c.l.Na,c.l,c):null;e:{var q=c.i;let X=-1;for(;;){const he=["count="+_];X==-1?0<_?(X=q[0].g,he.push("ofs="+X)):X=0:he.push("ofs="+X);let mt=!0;for(let on=0;on<_;on++){let ot=q[on].g;const hn=q[on].map;if(ot-=X,0>ot)X=Math.max(0,q[on].g-100),mt=!1;else try{$u(hn,he,"req"+ot+"_")}catch{I&&I(hn)}}if(mt){I=he.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function zo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Re||J(),G||(Re(),G=!0),H.add(g,c),c.v=0}}function Wa(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Yn(C(c.Fa,c),zu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Yn(C(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),ts(this),Bu(this))};function dc(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Bu(c){c.g=new mr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Yt(c.qa);_t(g,"RID","rpc"),_t(g,"SID",c.K),_t(g,"AID",c.T),_t(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&_t(g,"TO",c.ja),_t(g,"TYPE","xmlhttp"),ti(c,g),c.m&&c.o&&Fi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ji(Yt(g)),_.m=null,_.P=!0,Vo(_,c)}t.Za=function(){this.C!=null&&(this.C=null,ts(this),Wa(this),At(19))};function Ga(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ka(c,g){var _=null;if(c.g==g){Ga(c),dc(c),c.g=null;var I=2}else if(Ut(c.h,g))_=g.D,Va(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;I=vs(),wt(I,new Ks(I,_)),Is(c)}else zo(c);else if(q=g.s,q==3||q==0&&0<g.X||!(I==1&&Yf(c,g)||I==2&&Wa(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),q){case 1:ni(c,5);break;case 4:ni(c,10);break;case 3:ni(c,6);break;default:ni(c,2)}}}function zu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function ni(c,g){if(c.j.info("Error code "+g),g==2){var _=C(c.fb,c),I=c.Xa;const q=!I;I=new yr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||kn(I,"https"),ji(I),q?Kf(I.toString(),_):Fu(I.toString(),_)}else At(2);c.G=0,c.l&&c.l.sa(g),Hu(c),Ha(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Hu(c){if(c.G=0,c.ka=[],c.l){const g=Fa(c.h);(g.length!=0||c.i.length!=0)&&(O(c.ka,g),O(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function qu(c,g,_){var I=_ instanceof yr?Yt(_):new yr(_);if(I.g!="")g&&(I.g=g+"."+I.g),Oi(I,I.s);else{var q=h.location;I=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var X=new yr(null);I&&kn(X,I),g&&(X.g=g),q&&Oi(X,q),_&&(X.l=_),I=X}return _=c.D,g=c.ya,_&&g&&_t(I,_,g),_t(I,"VER",c.la),ti(c,I),I}function Wu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Dt(new Zs({eb:_})):new Dt(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}t=hc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qa(){}Qa.prototype.g=function(c,g){return new Hn(c,g)};function Hn(c,g){Xe.call(this),this.g=new uc(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!U(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!U(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ss(this)}j(Hn,Xe),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){En(this.g)},Hn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ki(c),c=_);g.i.push(new ja(g.Ya++,c)),g.G==3&&Is(g)},Hn.prototype.N=function(){this.g.l=null,delete this.j,En(this.g),delete this.g,Hn.aa.N.call(this)};function Gu(c){pr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}j(Gu,pr);function Ku(){kr.call(this),this.status=1}j(Ku,kr);function Ss(c){this.g=c}j(Ss,hc),Ss.prototype.ua=function(){wt(this.g,"a")},Ss.prototype.ta=function(c){wt(this.g,new Gu(c))},Ss.prototype.sa=function(c){wt(this.g,new Ku)},Ss.prototype.ra=function(){wt(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,Xb=function(){return new Qa},Yb=function(){return vs()},Jb=Rr,ng={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,ih=Js,Mo.COMPLETE="complete",Qb=Mo,Ri.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Uc=Ri,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,Kb=Dt}).apply(typeof zd<"u"?zd:typeof self<"u"?self:typeof window<"u"?window:{});const n0="@firebase/firestore",r0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Vg("@firebase/firestore");function vl(){return ya.logLevel}function ge(t,...e){if(ya.logLevel<=Ze.DEBUG){const n=e.map(Yg);ya.debug(`Firestore (${Gl}): ${t}`,...n)}}function bi(t,...e){if(ya.logLevel<=Ze.ERROR){const n=e.map(Yg);ya.error(`Firestore (${Gl}): ${t}`,...n)}}function Pl(t,...e){if(ya.logLevel<=Ze.WARN){const n=e.map(Yg);ya.warn(`Firestore (${Gl}): ${t}`,...n)}}function Yg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Zb(t,r,n)}function Zb(t,e,n){let r=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bi(r),new Error(r)}function pt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||Zb(e,o,r)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(On.UNAUTHENTICATED)))}shutdown(){}}class A2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class N2{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pt(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gi,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string",31837,{l:r}),new e1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class D2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class O2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new D2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(On.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pt(this.o===void 0,3512);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new s0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=j2(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function rg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),a=e.charAt(r);if(o!==a)return Rm(o)===Rm(a)?tt(o,a):Rm(o)?1:-1}return tt(t.length,e.length)}const M2=55296,V2=57343;function Rm(t){const e=t.charCodeAt(0);return e>=M2&&e<=V2}function Al(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="__name__";class As{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&De(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=As.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return tt(e.length,n.length)}static compareSegments(e,n){const r=As.isNumericId(e),o=As.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?As.extractNumericId(e).compare(As.extractNumericId(n)):rg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yo.fromString(e.substring(4,e.length-2))}}class Ct extends As{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const F2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends As{construct(e,n,r){return new In(e,n,r)}static isValidIdentifier(e){return F2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i0}static keyField(){return new In([i0])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Ct.fromString(e))}static fromName(e){return new Te(Ct.fromString(e).popFirst(5))}static empty(){return new Te(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t,e,n){if(!n)throw new pe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $2(t,e,n,r){if(e===!0&&r===!0)throw new pe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function o0(t){if(!Te.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a0(t){if(Te.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function n1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function uf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uf(t);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function _u(t,e){if(!n1(t))throw new pe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(o&&typeof u!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new pe(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=-62135596800,c0=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*c0);return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l0)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:rn("string",Rt._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Rt(0,0))}static max(){return new Fe(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function U2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Fe.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new Eo(o,Te.empty(),e)}function B2(t){return new Eo(t.readTime,t.key,ru)}class Eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Eo(Fe.min(),Te.empty(),ru)}static max(){return new Eo(Fe.max(),Te.empty(),ru)}}function z2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==H2)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let o=0,a=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++a,u&&a===o&&n()}),(f=>r(f)))})),u=!0,a===o&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((o=>o?re.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,a)=>{r.push(n.call(this,o,a))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;n(e[m]).next((v=>{u[m]=v,++h,h===a&&r(u)}),(v=>o(v)))}}))}static doWhile(e,n){return new re(((r,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):r()};a()}))}}function W2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ql(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}df.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=-1;function hf(t){return t==null}function kh(t){return t===0&&1/t==-1/0}function G2(t){return typeof t=="number"&&Number.isInteger(t)&&!kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="";function K2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=u0(e)),e=Q2(t.get(n),e);return u0(e)}function Q2(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case r1:n+="";break;default:n+=a}}return n}function u0(t){return t+r1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function s1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hd(this.root,e,this.comparator,!0)}}class Hd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=o??Tn.EMPTY,this.right=a??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new Tn(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(e){return new h0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class h0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new Tr([])}unionWith(e){let n=new un(In.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new i1("Invalid base64 string: "+a):a}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const J2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(pt(!!t,39018),typeof t=="string"){let e=0;const n=J2.exec(t);if(pt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="server_timestamp",a1="__type__",l1="__previous_value__",c1="__local_write_time__";function ey(t){return(t?.mapValue?.fields||{})[a1]?.stringValue===o1}function ff(t){const e=t.mapValue.fields[l1];return ey(e)?ff(e):e}function su(t){const e=bo(t.mapValue.fields[c1].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,r,o,a,u,h,f,m,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const Rh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="__type__",X2="__max__",qd={mapValue:{}},d1="__vector__",Ph="value";function To(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ey(t)?4:eP(t)?9007199254740991:Z2(t)?10:11:De(28295,{value:t})}function Us(t,e){if(t===e)return!0;const n=To(t);if(n!==To(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return su(t).isEqual(su(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=bo(o.timestampValue),h=bo(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return Co(o.bytesValue).isEqual(Co(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Gt(o.geoPointValue.latitude)===Gt(a.geoPointValue.latitude)&&Gt(o.geoPointValue.longitude)===Gt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Gt(o.integerValue)===Gt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Gt(o.doubleValue),h=Gt(a.doubleValue);return u===h?kh(u)===kh(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Al(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(d0(u)!==d0(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Us(u[f],h[f])))return!1;return!0})(t,e);default:return De(52216,{left:t})}}function ou(t,e){return(t.values||[]).find((n=>Us(n,e)))!==void 0}function Nl(t,e){if(t===e)return 0;const n=To(t),r=To(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=Gt(a.integerValue||a.doubleValue),f=Gt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return f0(t.timestampValue,e.timestampValue);case 4:return f0(su(t),su(e));case 5:return rg(t.stringValue,e.stringValue);case 6:return(function(a,u){const h=Co(a),f=Co(u);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=tt(h[m],f[m]);if(v!==0)return v}return tt(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=tt(Gt(a.latitude),Gt(u.latitude));return h!==0?h:tt(Gt(a.longitude),Gt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return p0(t.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},m=h[Ph]?.arrayValue,v=f[Ph]?.arrayValue,b=tt(m?.values?.length||0,v?.values?.length||0);return b!==0?b:p0(m,v)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===qd.mapValue&&u===qd.mapValue)return 0;if(a===qd.mapValue)return 1;if(u===qd.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const C=rg(f[b],v[b]);if(C!==0)return C;const A=Nl(h[f[b]],m[v[b]]);if(A!==0)return A}return tt(f.length,v.length)})(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function f0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=bo(t),r=bo(e),o=tt(n.seconds,r.seconds);return o!==0?o:tt(n.nanos,r.nanos)}function p0(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=Nl(n[o],r[o]);if(a)return a}return tt(n.length,r.length)}function Dl(t){return sg(t)}function sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=bo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Co(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=sg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${sg(n.fields[u])}`;return o+"}"})(t.mapValue):De(61005,{value:t})}function oh(t){switch(To(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ff(t);return e?16+oh(e):16;case 5:return 2*t.stringValue.length;case 6:return Co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+oh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return xo(r.fields,((a,u)=>{o+=a.length+oh(u)})),o})(t.mapValue);default:throw De(13486,{value:t})}}function m0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ig(t){return!!t&&"integerValue"in t}function ty(t){return!!t&&"arrayValue"in t}function g0(t){return!!t&&"nullValue"in t}function y0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ah(t){return!!t&&"mapValue"in t}function Z2(t){return(t?.mapValue?.fields||{})[u1]?.stringValue===d1}function Kc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Kc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kc(t.arrayValue.values[n]);return e}return{...t}}function eP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===X2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(n)}setAll(e){let n=In.emptyPath(),r={},o=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,o),r={},o=[],n=h.popLast()}u?r[h.lastSegment()]=Kc(u):o.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){xo(n,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new cr(Kc(this.value))}}function h1(t){const e=[];return xo(t.fields,((n,r)=>{const o=new In([n]);if(ah(r)){const a=h1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r,o,a,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Ln(e,0,Fe.min(),Fe.min(),Fe.min(),cr.empty(),0)}static newFoundDocument(e,n,r,o){return new Ln(e,1,n,Fe.min(),r,o,0)}static newNoDocument(e,n){return new Ln(e,2,n,Fe.min(),Fe.min(),cr.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,Fe.min(),Fe.min(),cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function w0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(u.referenceValue),n.key):r=Nl(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function tP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{}class nn extends f1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rP(e,n,r):n==="array-contains"?new oP(e,r):n==="in"?new aP(e,r):n==="not-in"?new lP(e,r):n==="array-contains-any"?new cP(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sP(e,r):new iP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nl(n,this.value)):n!==null&&To(this.value)===To(n)&&this.matchesComparison(Nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends f1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ds(e,n)}matches(e){return p1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function p1(t){return t.op==="and"}function m1(t){return nP(t)&&p1(t)}function nP(t){for(const e of t.filters)if(e instanceof ds)return!1;return!0}function og(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+Dl(t.value);if(m1(t))return t.filters.map((e=>og(e))).join(",");{const e=t.filters.map((n=>og(n))).join(",");return`${t.op}(${e})`}}function g1(t,e){return t instanceof nn?(function(r,o){return o instanceof nn&&r.op===o.op&&r.field.isEqual(o.field)&&Us(r.value,o.value)})(t,e):t instanceof ds?(function(r,o){return o instanceof ds&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,h)=>a&&g1(u,o.filters[h])),!0):!1})(t,e):void De(19439)}function y1(t){return t instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Dl(n.value)}`})(t):t instanceof ds?(function(n){return n.op.toString()+" {"+n.getFilters().map(y1).join(" ,")+"}"})(t):"Filter"}class rP extends nn{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class sP extends nn{constructor(e,n){super(e,"in",n),this.keys=w1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iP extends nn{constructor(e,n){super(e,"not-in",n),this.keys=w1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function w1(t,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class oP extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ty(n)&&ou(n.arrayValue,this.value)}}class aP extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class lP extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ou(this.value.arrayValue,n)}}class cP extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ou(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function _0(t,e=null,n=[],r=[],o=null,a=null,u=null){return new uP(t,e,n,r,o,a,u)}function ny(t){const e=$e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>og(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),hf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Dl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Dl(r))).join(",")),e.Te=n}return e.Te}function ry(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!g1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v0(t.startAt,e.startAt)&&v0(t.endAt,e.endAt)}function ag(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n=null,r=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dP(t,e,n,r,o,a,u,h){return new Eu(t,e,n,r,o,a,u,h)}function pf(t){return new Eu(t)}function E0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v1(t){return t.collectionGroup!==null}function Qc(t){const e=$e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new un(In.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Nh(a,r))})),n.has(In.keyField().canonicalString())||e.Ie.push(new Nh(In.keyField(),r))}return e.Ie}function Ms(t){const e=$e(t);return e.Ee||(e.Ee=hP(e,Qc(t))),e.Ee}function hP(t,e){if(t.limitType==="F")return _0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Nh(o.field,a)}));const n=t.endAt?new Ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ah(t.startAt.position,t.startAt.inclusive):null;return _0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lg(t,e){const n=t.filters.concat([e]);return new Eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cg(t,e,n){return new Eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mf(t,e){return ry(Ms(t),Ms(e))&&t.limitType===e.limitType}function _1(t){return`${ny(Ms(t))}|lt:${t.limitType}`}function _l(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>y1(o))).join(", ")}]`),hf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Dl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Dl(o))).join(",")),`Target(${r})`})(Ms(t))}; limitType=${t.limitType})`}function gf(t,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,o){for(const a of Qc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(u,h,f){const m=w0(u,h,f);return u.inclusive?m<=0:m<0})(r.startAt,Qc(r),o)||r.endAt&&!(function(u,h,f){const m=w0(u,h,f);return u.inclusive?m>=0:m>0})(r.endAt,Qc(r),o))})(t,e)}function fP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function E1(t){return(e,n)=>{let r=!1;for(const o of Qc(t)){const a=pP(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function pP(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?Nl(f,m):De(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,((n,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return s1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Ft(Te.comparator);function Ci(){return mP}const b1=new Ft(Te.comparator);function Bc(...t){let e=b1;for(const n of t)e=e.insert(n.key,n);return e}function C1(t){let e=b1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function oa(){return Jc()}function T1(){return Jc()}function Jc(){return new xa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gP=new Ft(Te.comparator),yP=new un(Te.comparator);function nt(...t){let e=yP;for(const n of t)e=e.add(n);return e}const wP=new un(tt);function vP(){return wP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function I1(t){return{integerValue:""+t}}function S1(t,e){return G2(e)?I1(e):sy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function _P(t,e,n){return t instanceof au?(function(o,a){const u={fields:{[a1]:{stringValue:o1},[c1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&ey(a)&&(a=ff(a)),a&&(u.fields[l1]=a),{mapValue:u}})(n,e):t instanceof Ol?k1(t,e):t instanceof Ll?R1(t,e):(function(o,a){const u=x1(o,a),h=b0(u)+b0(o.Ae);return ig(u)&&ig(o.Ae)?I1(h):sy(o.serializer,h)})(t,e)}function EP(t,e,n){return t instanceof Ol?k1(t,e):t instanceof Ll?R1(t,e):n}function x1(t,e){return t instanceof lu?(function(r){return ig(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class au extends yf{}class Ol extends yf{constructor(e){super(),this.elements=e}}function k1(t,e){const n=P1(e);for(const r of t.elements)n.some((o=>Us(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Ll extends yf{constructor(e){super(),this.elements=e}}function R1(t,e){let n=P1(e);for(const r of t.elements)n=n.filter((o=>!Us(o,r)));return{arrayValue:{values:n}}}class lu extends yf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function b0(t){return Gt(t.integerValue||t.doubleValue)}function P1(t){return ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.field=e,this.transform=n}}function bP(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Ol&&o instanceof Ol||r instanceof Ll&&o instanceof Ll?Al(r.elements,o.elements,Us):r instanceof lu&&o instanceof lu?Us(r.Ae,o.Ae):r instanceof au&&o instanceof au})(t.transform,e.transform)}class CP{constructor(e,n){this.version=e,this.transformResults=n}}class Br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vf{}function A1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iy(t.key,Br.none()):new bu(t.key,t.data,Br.none());{const n=t.data,r=cr.empty();let o=new un(In.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new ko(t.key,r,new Tr(o.toArray()),Br.none())}}function TP(t,e,n){t instanceof bu?(function(o,a,u){const h=o.value.clone(),f=T0(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ko?(function(o,a,u){if(!lh(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=T0(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(N1(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Yc(t,e,n,r){return t instanceof bu?(function(a,u,h,f){if(!lh(a.precondition,u))return h;const m=a.value.clone(),v=I0(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof ko?(function(a,u,h,f){if(!lh(a.precondition,u))return h;const m=I0(a.fieldTransforms,f,u),v=u.data;return v.setAll(N1(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(a,u,h){return lh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function IP(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=x1(r.transform,o||null);a!=null&&(n===null&&(n=cr.empty()),n.set(r.field,a))}return n||null}function C0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Al(r,o,((a,u)=>bP(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bu extends vf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ko extends vf{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function N1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function T0(t,e,n){const r=new Map;pt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,EP(u,h,n[o]))}return r}function I0(t,e,n){const r=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);r.set(o.field,_P(a,u,e))}return r}class iy extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SP extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&TP(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=T1();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(o.key)?null:h;const f=A1(u,h);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),nt())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((n,r)=>C0(n,r)))&&Al(this.baseMutations,e.baseMutations,((n,r)=>C0(n,r)))}}class oy{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){pt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return gP})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new oy(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,at;function PP(t){switch(t){case te.OK:return De(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function D1(t){if(t===void 0)return bi("GRPC error has no .code"),te.UNKNOWN;switch(t){case en.OK:return te.OK;case en.CANCELLED:return te.CANCELLED;case en.UNKNOWN:return te.UNKNOWN;case en.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case en.INTERNAL:return te.INTERNAL;case en.UNAVAILABLE:return te.UNAVAILABLE;case en.UNAUTHENTICATED:return te.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case en.NOT_FOUND:return te.NOT_FOUND;case en.ALREADY_EXISTS:return te.ALREADY_EXISTS;case en.PERMISSION_DENIED:return te.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case en.ABORTED:return te.ABORTED;case en.OUT_OF_RANGE:return te.OUT_OF_RANGE;case en.UNIMPLEMENTED:return te.UNIMPLEMENTED;case en.DATA_LOSS:return te.DATA_LOSS;default:return De(39323,{code:t})}}(at=en||(en={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=new yo([4294967295,4294967295],0);function S0(t){const e=AP().encode(t),n=new Gb;return n.update(e),new Uint8Array(n.digest())}function x0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new yo([n,r],0),new yo([o,a],0)]}class ay{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zc(`Invalid padding: ${n}`);if(r<0)throw new zc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=yo.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(yo.fromNumber(r)));return o.compare(NP)===1&&(o=new yo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=S0(e),[r,o]=x0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new ay(a,o,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=S0(e),[r,o]=x0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(Fe.min(),o,new Ft(tt),Ci(),nt())}}class Cu{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cu(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class O1{constructor(e,n){this.targetId=e,this.Ce=n}}class L1{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class k0{constructor(){this.ve=0,this.Fe=R0(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),n=nt(),r=nt();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:De(38017,{changeType:a})}})),new Cu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=R0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ci(),this.Je=Wd(),this.He=Wd(),this.Ye=new Ft(tt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(ag(a))if(r===0){const u=new Te(a.path);this.et(n,u,Ln.newNoDocument(u,Fe.min()))}else pt(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let u,h;try{u=Co(r).toUint8Array()}catch(f){if(f instanceof i1)return Pl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new ay(u,o,a)}catch(f){return Pl(f instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&ag(h.target)){const f=new Te(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Ln.newNoDocument(f,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let r=nt();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new _f(e,n,this.Ye,this.je,r);return this.je=Ci(),this.Je=Wd(),this.He=Wd(),this.Ye=new Ft(tt),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new k0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(tt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(tt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new k0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wd(){return new Ft(Te.comparator)}function R0(){return new Ft(Te.comparator)}const OP={asc:"ASCENDING",desc:"DESCENDING"},LP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jP={and:"AND",or:"OR"};class MP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ug(t,e){return t.useProto3Json||hf(e)?e:{value:e}}function Dh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VP(t,e){return Dh(t,e.toTimestamp())}function Vs(t){return pt(!!t,49232),Fe.fromTimestamp((function(n){const r=bo(n);return new Rt(r.seconds,r.nanos)})(t))}function ly(t,e){return dg(t,e).canonicalString()}function dg(t,e){const n=(function(o){return new Ct(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function M1(t){const e=Ct.fromString(t);return pt(B1(e),10190,{key:e.toString()}),e}function hg(t,e){return ly(t.databaseId,e.path)}function Pm(t,e){const n=M1(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(F1(n))}function V1(t,e){return ly(t.databaseId,e)}function FP(t){const e=M1(t);return e.length===4?Ct.emptyPath():F1(e)}function fg(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function F1(t){return pt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function P0(t,e,n){return{name:hg(t,e),fields:n.value.mapValue.fields}}function $P(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:De(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,v){return m.useProto3Json?(pt(v===void 0||typeof v=="string",58123),Sn.fromBase64String(v||"")):(pt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Sn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const v=m.code===void 0?te.UNKNOWN:D1(m.code);return new pe(v,m.message||"")})(u);n=new L1(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Pm(t,r.document.name),a=Vs(r.document.updateTime),u=r.document.createTime?Vs(r.document.createTime):Fe.min(),h=new cr({mapValue:{fields:r.document.fields}}),f=Ln.newFoundDocument(o,a,u,h),m=r.targetIds||[],v=r.removedTargetIds||[];n=new ch(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Pm(t,r.document),a=r.readTime?Vs(r.readTime):Fe.min(),u=Ln.newNoDocument(o,a),h=r.removedTargetIds||[];n=new ch([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Pm(t,r.document),a=r.removedTargetIds||[];n=new ch([],a,o,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new RP(o,a),h=r.targetId;n=new O1(h,u)}}return n}function UP(t,e){let n;if(e instanceof bu)n={update:P0(t,e.key,e.value)};else if(e instanceof iy)n={delete:hg(t,e.key)};else if(e instanceof ko)n={update:P0(t,e.key,e.data),updateMask:JP(e.fieldMask)};else{if(!(e instanceof SP))return De(16599,{Vt:e.type});n={verify:hg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof au)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ol)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ll)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof lu)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw De(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:VP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:De(27497)})(t,e.precondition)),n}function BP(t,e){return t&&t.length>0?(pt(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?Vs(o.updateTime):Vs(a);return u.isEqual(Fe.min())&&(u=Vs(a)),new CP(u,o.transformResults||[])})(n,e)))):[]}function zP(t,e){return{documents:[V1(t,e.path)]}}function HP(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=V1(t,o);const a=(function(m){if(m.length!==0)return U1(ds.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((v=>(function(C){return{field:El(C.field),direction:GP(C.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=ug(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function qP(t){let e=FP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){pt(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=(function(b){const C=$1(b);return C instanceof ds&&m1(C)?C.getFilters():[C]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((C=>(function(j){return new Nh(bl(j.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(C)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let C;return C=typeof b=="object"?b.value:b,hf(C)?null:C})(n.limit));let f=null;n.startAt&&(f=(function(b){const C=!!b.before,A=b.values||[];return new Ah(A,C)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const C=!b.before,A=b.values||[];return new Ah(A,C)})(n.endAt)),dP(e,o,u,a,h,"F",f,m)}function WP(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bl(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=bl(n.unaryFilter.field);return nn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=bl(n.unaryFilter.field);return nn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bl(n.unaryFilter.field);return nn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nn.create(bl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ds.create(n.compositeFilter.filters.map((r=>$1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(t):De(30097,{filter:t})}function GP(t){return OP[t]}function KP(t){return LP[t]}function QP(t){return jP[t]}function El(t){return{fieldPath:t.canonicalString()}}function bl(t){return In.fromServerFormat(t.fieldPath)}function U1(t){return t instanceof nn?(function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NAN"}};if(g0(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NAN"}};if(g0(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(n.field),op:KP(n.op),value:n.value}}})(t):t instanceof ds?(function(n){const r=n.getFilters().map((o=>U1(o)));return r.length===1?r[0]:{compositeFilter:{op:QP(n.op),filters:r}}})(t):De(54877,{filter:t})}function JP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function B1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,o,a=Fe.min(),u=Fe.min(),h=Sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.yt=e}}function XP(t){const e=qP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.Cn=new eA}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Eo.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class eA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new un(Ct.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new un(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z1=41943040;class lr{static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(z1,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jl(0)}static cr(){return new jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="LruGarbageCollector",tA=1048576;function D0([t,e],[n,r]){const o=tt(t,n);return o===0?tt(e,r):o}class nA{constructor(e){this.Ir=e,this.buffer=new un(D0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();D0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(N0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ql(n)?ge(N0,"Ignoring IndexedDB error during garbage collection: ",n):await Kl(n)}await this.Vr(3e5)}))}}class sA{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(df.ce);const r=new nA(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(A0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,a,u,h,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,n)))).next((b=>(a=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(m=Date.now(),vl()<=Ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:b}))))}}function iA(t,e){return new sA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.changes=new xa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Yc(r.mutation,o,Tr.empty(),Rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=nt()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((a=>{let u=Bc();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=oa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,nt())))}populateOverlays(e,n,r){const o=[];return r.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,o){let a=Ci();const u=Jc(),h=(function(){return Jc()})();return n.forEach(((f,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof ko)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Yc(v.mutation,m,v.mutation.getFieldMask(),Rt.now())):u.set(m.key,Tr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,v)=>u.set(m,v))),n.forEach(((m,v)=>h.set(m,new aA(v,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Jc();let o=new Ft(((u,h)=>u-h)),a=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let v=r.get(f)||Tr.empty();v=h.applyToLocalView(m,v),r.set(f,v);const b=(o.get(h.batchId)||nt()).add(f);o=o.insert(h.batchId,b)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,b=T1();v.forEach((C=>{if(!a.has(C)){const A=A1(n.get(C),r.get(C));A!==null&&b.set(C,A),a=a.add(C)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,b))}return re.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):re.resolve(oa());let h=ru,f=a;return u.next((m=>re.forEach(m,((v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),a.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((C=>{f=f.insert(v,C)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,nt()))).next((v=>({batchId:h,changes:C1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let o=Bc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let u=Bc();return this.indexManager.getCollectionParents(e,a).next((h=>re.forEach(h,(f=>{const m=(function(b,C){return new Eu(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((v=>{v.forEach(((b,C)=>{u=u.insert(b,C)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o)))).next((u=>{a.forEach(((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Ln.newInvalidDocument(v)))}));let h=Bc();return u.forEach(((f,m)=>{const v=a.get(f);v!==void 0&&Yc(v.mutation,m,Tr.empty(),Rt.now()),gf(n,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vs(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:XP(o.bundledQuery),readTime:Vs(o.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.overlays=new Ft(Te.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oa();return re.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,a)=>{this.St(e,n,a)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const o=oa(),a=n.length+1,u=new Te(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new Ft(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=oa(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=oa(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=o)););return re.resolve(h)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new kP(n,r));let a=this.qr.get(n);a===void 0&&(a=nt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this.Qr=new un(gn.$r),this.Ur=new un(gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new gn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new gn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Te(new Ct([])),r=new gn(n,e),o=new gn(n,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new Ct([])),r=new gn(n,e),o=new gn(n,e+1);let a=nt();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new gn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||tt(e.Yr,n.Yr)}static Kr(e,n){return tt(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(gn.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new xP(a,n,r,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new gn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),a=o<0?0:o;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Zg:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gn(n,0),o=new gn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const h=this.Xr(u.Yr);a.push(h)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(tt);return n.forEach((o=>{const a=new gn(o,0),u=new gn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{r=r.add(h.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const u=new gn(new Te(a),0);let h=new un(tt);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.Yr)),!0)}),u),re.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){pt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,(o=>{const a=new gn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new gn(n,0),o=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.ri=e,this.docs=(function(){return new Ft(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Ln.newInvalidDocument(o))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=Ci();const u=n.path,h=new Te(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||z2(B2(v),r)<=0||(o.has(v.key)||gf(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,n,r,o){De(9500)}ii(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new pA(this)}getSize(e){return re.resolve(this.size)}}class pA extends oA{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.persistence=e,this.si=new xa((n=>ny(n)),ry),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new cy,this.targetCount=0,this.ai=jl.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),re.waitFor(a).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.ui={},this.overlays={},this.ci=new df(0),this.li=!1,this.li=!0,this.hi=new dA,this.referenceDelegate=e(this),this.Pi=new mA(this),this.indexManager=new ZP,this.remoteDocumentCache=(function(o){return new fA(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new YP(n),this.Ii=new cA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new hA(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const o=new gA(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class gA extends q2{constructor(e){super(),this.currentSequenceNumber=e}}class uy{constructor(e){this.persistence=e,this.Ri=new cy,this.Vi=null}static mi(e){return new uy(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const o=Te.fromPath(r);return this.gi(e,o).next((a=>{a||n.removeEntry(o,Fe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.pi=new xa((r=>K2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=iA(this,n)}static mi(e,n){return new Oh(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?re.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,a.removeEntry(u,Fe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oh(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return re.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=nt(),o=nt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new dy(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qS()?8:W2(Vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new yA;return this.Ss(e,n,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>a.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(vl()<=Ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",_l(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(vl()<=Ze.DEBUG&&ge("QueryEngine","Query:",_l(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(vl()<=Ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",_l(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ms(n))):re.resolve())}ys(e,n){if(E0(n))return re.resolve(null);let r=Ms(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=cg(n,null,"F"),r=Ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=nt(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.Ds(n,h);return this.Cs(n,m,u,f.readTime)?this.ys(e,cg(n,null,"F")):this.vs(e,m,n,f)}))))})))))}ws(e,n,r,o){return E0(n)||o.isEqual(Fe.min())?re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,r,o)?re.resolve(null):(vl()<=Ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_l(n)),this.vs(e,u,n,U2(o,ru)).next((h=>h)))}))}Ds(e,n){let r=new un(E1(e));return n.forEach(((o,a)=>{gf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return vl()<=Ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",_l(n)),this.ps.getDocumentsMatchingQuery(e,n,Eo.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="LocalStore",vA=3e8;class _A{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Ft(tt),this.xs=new xa((a=>ny(a)),ry),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function EA(t,e,n,r){return new _A(t,e,n,r)}async function q1(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let f=nt();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(r,f).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function bA(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,v){const b=m.batch,C=b.keys();let A=re.resolve();return C.forEach((j=>{A=A.next((()=>v.getEntry(f,j))).next((V=>{const O=m.docVersions.get(j);pt(O!==null,48541),V.version.compareTo(O)<0&&(b.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),v.addEntry(V)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=nt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function W1(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function CA(t,e){const n=$e(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const h=[];e.targetChanges.forEach(((v,b)=>{const C=o.get(b);if(!C)return;h.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(a,v.addedDocuments,b))));let A=C.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(Sn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),o=o.insert(b,A),(function(V,O,B){return V.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=vA?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(C,A,v)&&h.push(n.Pi.updateTargetData(a,A))}));let f=Ci(),m=nt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(TA(a,u,e.documentUpdates).next((v=>{f=v.ks,m=v.qs}))),!r.isEqual(Fe.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next((b=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(v)}return re.waitFor(h).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(n.Ms=o,a)))}function TA(t,e,n){let r=nt(),o=nt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let u=Ci();return n.forEach(((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Fe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ge(hy,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function IA(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function SA(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((a=>a?(o=a,re.resolve(o)):n.Pi.allocateTargetId(r).next((u=>(o=new ho(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function pg(t,e,n){const r=$e(t),o=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Ql(u))throw u;ge(hy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function O0(t,e,n){const r=$e(t);let o=Fe.min(),a=nt();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,v){const b=$e(f),C=b.xs.get(v);return C!==void 0?re.resolve(b.Ms.get(C)):b.Pi.getTargetData(m,v)})(r,u,Ms(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?o:Fe.min(),n?a:nt()))).next((h=>(xA(r,fP(e),h),{documents:h,Qs:a})))))}function xA(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class L0{constructor(){this.activeTargetIds=vP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kA{constructor(){this.Mo=new L0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new L0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="ConnectivityMonitor";class M0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(j0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(j0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd=null;function mg(){return Gd===null?Gd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gd++,"0x"+Gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",PA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,a){const u=mg(),h=this.zo(e,n.toUriEncodedString());ge(Am,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(h),v=Ta(m);return this.Jo(e,h,f,r,v).then((b=>(ge(Am,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Pl(Am,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",r),b}))}Ho(e,n,r,o,a,u){return this.Go(e,n,r,o,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const r=PA[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class DA extends AA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const u=mg();return new Promise(((h,f)=>{const m=new Kb;m.setWithCredentials(!0),m.listenOnce(Qb.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case ih.NO_ERROR:const b=m.getResponseJson();ge(Dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case ih.TIMEOUT:ge(Dn,`RPC '${e}' ${u} timed out`),f(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const C=m.getStatus();if(ge(Dn,`RPC '${e}' ${u} failed with status:`,C,"response text:",m.getResponseText()),C>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const j=A?.error;if(j&&j.status&&j.message){const V=(function(B){const U=B.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(U)>=0?U:te.UNKNOWN})(j.status);f(new pe(V,j.message))}else f(new pe(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new pe(te.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ge(Dn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);ge(Dn,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",v,r,15)}))}T_(e,n,r){const o=mg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Xb(),h=Yb(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const v=a.join("");ge(Dn,`Creating RPC '${e}' stream ${o}: ${v}`,f);const b=u.createWebChannel(v,f);this.I_(b);let C=!1,A=!1;const j=new NA({Yo:O=>{A?ge(Dn,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(C||(ge(Dn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),C=!0),ge(Dn,`RPC '${e}' stream ${o} sending:`,O),b.send(O))},Zo:()=>b.close()}),V=(O,B,U)=>{O.listen(B,(Q=>{try{U(Q)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return V(b,Uc.EventType.OPEN,(()=>{A||(ge(Dn,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),V(b,Uc.EventType.CLOSE,(()=>{A||(A=!0,ge(Dn,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(b))})),V(b,Uc.EventType.ERROR,(O=>{A||(A=!0,Pl(Dn,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),j.a_(new pe(te.UNAVAILABLE,"The operation could not be completed")))})),V(b,Uc.EventType.MESSAGE,(O=>{if(!A){const B=O.data[0];pt(!!B,16349);const U=B,Q=U?.error||U[0]?.error;if(Q){ge(Dn,`RPC '${e}' stream ${o} received error:`,Q);const Z=Q.status;let le=(function(x){const P=en[x];if(P!==void 0)return D1(P)})(Z),ne=Q.message;le===void 0&&(le=te.INTERNAL,ne="Unknown error status: "+Z+" with message "+Q.message),A=!0,j.a_(new pe(le,ne)),b.close()}else ge(Dn,`RPC '${e}' stream ${o} received:`,B),j.u_(B)}})),V(h,Jb.STAT_EVENT,(O=>{O.stat===ng.PROXY?ge(Dn,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===ng.NOPROXY&&ge(Dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return new MP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="PersistentStream";class K1{constructor(e,n,r,o,a,u,h,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(V0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(V0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OA extends K1{constructor(e,n,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$P(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Fe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Fe.min():u.readTime?Vs(u.readTime):Fe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=fg(this.serializer),n.addTarget=(function(a,u){let h;const f=u.target;if(h=ag(f)?{documents:zP(a,f)}:{query:HP(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=j1(a,u.resumeToken);const m=ug(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Fe.min())>0){h.readTime=Dh(a,u.snapshotVersion.toTimestamp());const m=ug(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=WP(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=fg(this.serializer),n.removeTarget=e,this.q_(n)}}class LA extends K1{constructor(e,n,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=BP(e.writeResults,e.commitTime),r=Vs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=fg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>UP(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{}class MA extends jA{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,dg(n,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(te.UNKNOWN,a.toString())}))}Ho(e,n,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,dg(n,r),o,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class FA{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{ka(this)&&(ge(wa,"Restarting streams for network reachability change."),await(async function(f){const m=$e(f);m.Ea.add(4),await Tu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await bf(m)})(this))}))})),this.Ra=new VA(r,o)}}async function bf(t){if(ka(t))for(const e of t.da)await e(!0)}async function Tu(t){for(const e of t.da)await e(!1)}function Q1(t,e){const n=$e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gy(n)?my(n):Jl(n).O_()&&py(n,e))}function fy(t,e){const n=$e(t),r=Jl(n);n.Ia.delete(e),r.O_()&&J1(n,e),n.Ia.size===0&&(r.O_()?r.L_():ka(n)&&n.Ra.set("Unknown"))}function py(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jl(t).Y_(e)}function J1(t,e){t.Va.Ue(e),Jl(t).Z_(e)}function my(t){t.Va=new DP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Jl(t).start(),t.Ra.ua()}function gy(t){return ka(t)&&!Jl(t).x_()&&t.Ia.size>0}function ka(t){return $e(t).Ea.size===0}function Y1(t){t.Va=void 0}async function $A(t){t.Ra.set("Online")}async function UA(t){t.Ia.forEach(((e,n)=>{py(t,e)}))}async function BA(t,e){Y1(t),gy(t)?(t.Ra.ha(e),my(t)):t.Ra.set("Unknown")}async function zA(t,e,n){if(t.Ra.set("Online"),e instanceof L1&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))})(t,e)}catch(r){ge(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lh(t,r)}else if(e instanceof ch?t.Va.Ze(e):e instanceof O1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await W1(t.localStore);n.compareTo(r)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(m);v&&a.Ia.set(m,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,m)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(Sn.EMPTY_BYTE_STRING,v.snapshotVersion)),J1(a,f);const b=new ho(v.target,f,m,v.sequenceNumber);py(a,b)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ge(wa,"Failed to raise snapshot:",r),await Lh(t,r)}}async function Lh(t,e,n){if(!Ql(e))throw e;t.Ea.add(1),await Tu(t),t.Ra.set("Offline"),n||(n=()=>W1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(wa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bf(t)}))}function X1(t,e){return e().catch((n=>Lh(t,n,e)))}async function Cf(t){const e=$e(t),n=Io(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zg;for(;HA(e);)try{const o=await IA(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,qA(e,o)}catch(o){await Lh(e,o)}Z1(e)&&eC(e)}function HA(t){return ka(t)&&t.Ta.length<10}function qA(t,e){t.Ta.push(e);const n=Io(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Z1(t){return ka(t)&&!Io(t).x_()&&t.Ta.length>0}function eC(t){Io(t).start()}async function WA(t){Io(t).ra()}async function GA(t){const e=Io(t);for(const n of t.Ta)e.ea(n.mutations)}async function KA(t,e,n){const r=t.Ta.shift(),o=oy.from(r,e,n);await X1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Cf(t)}async function QA(t,e){e&&Io(t).X_&&await(async function(r,o){if((function(u){return PP(u)&&u!==te.ABORTED})(o.code)){const a=r.Ta.shift();Io(r).B_(),await X1(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Cf(r)}})(t,e),Z1(t)&&eC(t)}async function F0(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),ge(wa,"RemoteStore received new credentials");const r=ka(n);n.Ea.add(3),await Tu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bf(n)}async function JA(t,e){const n=$e(t);e?(n.Ea.delete(2),await bf(n)):e||(n.Ea.add(2),await Tu(n),n.Ra.set("Unknown"))}function Jl(t){return t.ma||(t.ma=(function(n,r,o){const a=$e(n);return a.sa(),new OA(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:$A.bind(null,t),t_:UA.bind(null,t),r_:BA.bind(null,t),H_:zA.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),gy(t)?my(t):t.Ra.set("Unknown")):(await t.ma.stop(),Y1(t))}))),t.ma}function Io(t){return t.fa||(t.fa=(function(n,r,o){const a=$e(n);return a.sa(),new LA(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:WA.bind(null,t),r_:QA.bind(null,t),ta:GA.bind(null,t),na:KA.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Cf(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(wa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const u=Date.now()+r,h=new yy(e,n,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(t,e){if(bi("AsyncQueue",`${e}: ${t}`),Ql(t))return new pe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=Bc(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.ga=new Ft(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ml{constructor(e,n,r,o,a,u,h,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,a){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Ml(e,n,xl.emptySet(n),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class XA{constructor(){this.queries=U0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=$e(n),a=o.queries;o.queries=U0(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function U0(){return new xa((t=>_1(t)),mf)}async function vy(t,e){const n=$e(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new YA,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=wy(u,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Ey(n)}async function _y(t,e){const n=$e(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ZA(t,e){const n=$e(t);let r=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const h of u.Sa)h.Fa(o)&&(r=!0);u.wa=o}}r&&Ey(n)}function eN(t,e,n){const r=$e(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function Ey(t){t.Ca.forEach((e=>{e.next()}))}var gg,B0;(B0=gg||(gg={})).Ma="default",B0.Cache="cache";class by{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.key=e}}class nC{constructor(e){this.key=e}}class tN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=E1(e),this.tu=new xl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $0,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const C=o.get(v),A=gf(this.query,b)?b:null,j=!!C&&this.mutatedKeys.has(C.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;C&&A?C.data.isEqual(A.data)?j!==V&&(r.track({type:3,doc:A}),O=!0):this.su(C,A)||(r.track({type:2,doc:A}),O=!0,(f&&this.eu(A,f)>0||m&&this.eu(A,m)<0)&&(h=!0)):!C&&A?(r.track({type:0,doc:A}),O=!0):C&&!A&&(r.track({type:1,doc:C}),O=!0,(f||m)&&(h=!0)),O&&(A?(u=u.add(A),a=V?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(A,j){const V=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:O})}};return V(A)-V(j)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const h=n&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new Ml(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new nC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new tC(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=nt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cy="SyncEngine";class nN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rN{constructor(e){this.key=e,this.hu=!1}}class sN{constructor(e,n,r,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new xa((h=>_1(h)),mf),this.Iu=new Map,this.Eu=new Set,this.du=new Ft(Te.comparator),this.Au=new Map,this.Ru=new cy,this.Vu={},this.mu=new Map,this.fu=jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iN(t,e,n=!0){const r=lC(t);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await rC(r,e,n,!0),o}async function oN(t,e){const n=lC(t);await rC(n,e,!0,!1)}async function rC(t,e,n,r){const o=await SA(t.localStore,Ms(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await aN(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&Q1(t.remoteStore,o),h}async function aN(t,e,n,r,o){t.pu=(b,C,A)=>(async function(V,O,B,U){let Q=O.view.ru(B);Q.Cs&&(Q=await O0(V.localStore,O.query,!1).then((({documents:k})=>O.view.ru(k,Q))));const Z=U&&U.targetChanges.get(O.targetId),le=U&&U.targetMismatches.get(O.targetId)!=null,ne=O.view.applyChanges(Q,V.isPrimaryClient,Z,le);return H0(V,O.targetId,ne.au),ne.snapshot})(t,b,C,A);const a=await O0(t.localStore,e,!0),u=new tN(e,a.Qs),h=u.ru(a.documents),f=Cu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),m=u.applyChanges(h,t.isPrimaryClient,f);H0(t,n,m.au);const v=new nN(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function lN(t,e,n){const r=$e(t),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!mf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await pg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&fy(r.remoteStore,o.targetId),yg(r,o.targetId)})).catch(Kl)):(yg(r,o.targetId),await pg(r.localStore,o.targetId,!0))}async function cN(t,e){const n=$e(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fy(n.remoteStore,r.targetId))}async function uN(t,e,n){const r=yN(t);try{const o=await(function(u,h){const f=$e(u),m=Rt.now(),v=h.reduce(((A,j)=>A.add(j.key)),nt());let b,C;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let j=Ci(),V=nt();return f.Ns.getEntries(A,v).next((O=>{j=O,j.forEach(((B,U)=>{U.isValidDocument()||(V=V.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,j))).next((O=>{b=O;const B=[];for(const U of h){const Q=IP(U,b.get(U.key).overlayedDocument);Q!=null&&B.push(new ko(U.key,Q,h1(Q.value.mapValue),Br.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,B,h)})).next((O=>{C=O;const B=O.applyToLocalDocumentSet(b,V);return f.documentOverlayCache.saveOverlays(A,O.batchId,B)}))})).then((()=>({batchId:C.batchId,changes:C1(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,h,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new Ft(tt)),m=m.insert(h,f),u.Vu[u.currentUser.toKey()]=m})(r,o.batchId,n),await Iu(r,o.changes),await Cf(r.remoteStore)}catch(o){const a=wy(o,"Failed to persist write");n.reject(a)}}async function sC(t,e){const n=$e(t);try{const r=await CA(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?pt(u.hu,14607):o.removedDocuments.size>0&&(pt(u.hu,42227),u.hu=!1))})),await Iu(n,r,e)}catch(r){await Kl(r)}}function z0(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const f=$e(u);f.onlineState=h;let m=!1;f.queries.forEach(((v,b)=>{for(const C of b.Sa)C.va(h)&&(m=!0)})),m&&Ey(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dN(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new Ft(Te.comparator);u=u.insert(a,Ln.newNoDocument(a,Fe.min()));const h=nt().add(a),f=new _f(Fe.min(),new Map,new Ft(tt),u,h);await sC(r,f),r.du=r.du.remove(a),r.Au.delete(e),Ty(r)}else await pg(r.localStore,e,!1).then((()=>yg(r,e,n))).catch(Kl)}async function hN(t,e){const n=$e(t),r=e.batch.batchId;try{const o=await bA(n.localStore,e);oC(n,r,null),iC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(n,o)}catch(o){await Kl(o)}}async function fN(t,e,n){const r=$e(t);try{const o=await(function(u,h){const f=$e(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next((b=>(pt(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(m,b)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(r.localStore,e);oC(r,e,n),iC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Iu(r,o)}catch(o){await Kl(o)}}function iC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function oC(t,e,n){const r=$e(t);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function yg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||aC(t,r)}))}function aC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(fy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ty(t))}function H0(t,e,n){for(const r of n)r instanceof tC?(t.Ru.addReference(r.key,e),pN(t,r)):r instanceof nC?(ge(Cy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||aC(t,r.key)):De(19791,{wu:r})}function pN(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ge(Cy,"New document in limbo: "+n),t.Eu.add(r),Ty(t))}function Ty(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(Ct.fromString(e)),r=t.fu.next();t.Au.set(r,new rN(n)),t.du=t.du.insert(n,r),Q1(t.remoteStore,new ho(Ms(pf(n.path)),r,"TargetPurposeLimboResolution",df.ce))}}async function Iu(t,e,n){const r=$e(t),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const v=m?!m.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){o.push(m);const v=dy.As(f.targetId,m);a.push(v)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(f,m){const v=$e(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>re.forEach(m,(C=>re.forEach(C.Es,(A=>v.persistence.referenceDelegate.addReference(b,C.targetId,A))).next((()=>re.forEach(C.ds,(A=>v.persistence.referenceDelegate.removeReference(b,C.targetId,A)))))))))}catch(b){if(!Ql(b))throw b;ge(hy,"Failed to update sequence numbers: "+b)}for(const b of m){const C=b.targetId;if(!b.fromCache){const A=v.Ms.get(C),j=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(C,V)}}})(r.localStore,a))}async function mN(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){ge(Cy,"User change. New user:",e.toKey());const r=await q1(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new pe(te.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(n,r.Ls)}}function gN(t,e){const n=$e(t),r=n.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let o=nt();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const h=n.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function lC(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dN.bind(null,e),e.Pu.H_=ZA.bind(null,e.eventManager),e.Pu.yu=eN.bind(null,e.eventManager),e}function yN(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fN.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return EA(this.persistence,new wA,e.initialUser,this.serializer)}Cu(e){return new H1(uy.mi,this.serializer)}Du(e){return new kA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class wN extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pt(this.persistence.referenceDelegate instanceof Oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rA(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new H1((r=>Oh.mi(r,n)),this.serializer)}}class wg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mN.bind(null,this.syncEngine),await JA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XA})()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),r=(function(a){return new DA(a)})(e.databaseInfo);return(function(a,u,h,f){return new MA(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,a,u,h){return new FA(r,o,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>z0(this.syncEngine,n,0)),(function(){return M0.v()?new M0:new RA})())}createSyncEngine(e,n){return(function(o,a,u,h,f,m,v){const b=new sN(o,a,u,h,f,m);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=$e(n);ge(wa,"RemoteStore shutting down."),r.Ea.add(5),await Tu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wg.provider={build:()=>new wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="FirestoreClient";class vN{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=On.UNAUTHENTICATED,this.clientId=Xg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ge(So,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ge(So,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Dm(t,e){t.asyncQueue.verifyOperationInProgress(),ge(So,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await q1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function q0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _N(t);ge(So,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>F0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>F0(e.remoteStore,o))),t._onlineComponents=e}async function _N(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(So,"Using user provided OfflineComponentProvider");try{await Dm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Pl("Error using user provided cache. Falling back to memory cache: "+n),await Dm(t,new jh)}}else ge(So,"Using default OfflineComponentProvider"),await Dm(t,new wN(void 0));return t._offlineComponents}async function cC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(So,"Using user provided OnlineComponentProvider"),await q0(t,t._uninitializedComponentsProvider._online)):(ge(So,"Using default OnlineComponentProvider"),await q0(t,new wg))),t._onlineComponents}function EN(t){return cC(t).then((e=>e.syncEngine))}async function Mh(t){const e=await cC(t),n=e.eventManager;return n.onListen=iN.bind(null,e.syncEngine),n.onUnlisten=lN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cN.bind(null,e.syncEngine),n}function bN(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,m){const v=new Iy({next:C=>{v.Nu(),u.enqueueAndForget((()=>_y(a,b)));const A=C.docs.has(h);!A&&C.fromCache?m.reject(new pe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&C.fromCache&&f&&f.source==="server"?m.reject(new pe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(C)},error:C=>m.reject(C)}),b=new by(pf(h.path),v,{includeMetadataChanges:!0,qa:!0});return vy(a,b)})(await Mh(t),t.asyncQueue,e,n,r))),r.promise}function CN(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,m){const v=new Iy({next:C=>{v.Nu(),u.enqueueAndForget((()=>_y(a,b))),C.fromCache&&f.source==="server"?m.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(C)},error:C=>m.reject(C)}),b=new by(h,v,{includeMetadataChanges:!0,qa:!0});return vy(a,b)})(await Mh(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="firestore.googleapis.com",G0=!0;class K0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dC,this.ssl=G0}else this.host=e.host,this.ssl=e.ssl??G0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tA)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new P2;switch(r.type){case"firstParty":return new O2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=W0.get(n);r&&(ge("ComponentProvider","Removing Datastore"),W0.delete(n),r.terminate())})(this),Promise.resolve()}}function TN(t,e,n,r={}){t=ur(t,Tf);const o=Ta(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(jg(`https://${h}`),Mg("Firestore",!0)),a.host!==dC&&a.host!==h&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:o,emulatorOptions:r};if(!vi(f,u)&&(t._setSettings(f),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=On.MOCK_USER;else{m=ib(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new On(b)}t._authCredentials=new A2(new e1(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ra(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_u(n,zt._jsonSchema))return new zt(e,r||null,new Te(Ct.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:rn("string",zt._jsonSchemaVersion),referencePath:rn("string")};class wo extends Ra{constructor(e,n,r){super(e,n,pf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Te(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function Hr(t,e,...n){if(t=Pt(t),t1("collection","path",e),t instanceof Tf){const r=Ct.fromString(e,...n);return a0(r),new wo(t,null,r)}{if(!(t instanceof zt||t instanceof wo))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return a0(r),new wo(t.firestore,null,r)}}function it(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=Xg.newId()),t1("doc","path",e),t instanceof Tf){const r=Ct.fromString(e,...n);return o0(r),new zt(t,null,new Te(r))}{if(!(t instanceof zt||t instanceof wo))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return o0(r),new zt(t.firestore,t instanceof wo?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="AsyncQueue";class J0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G1(this,"async_queue_retry"),this._c=()=>{const r=Nm();r&&ge(Q0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ql(e))throw e;ge(Q0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",Y0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=yy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&De(47125,{Pc:Y0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Y0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Ti extends Tf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new J0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J0(e),this._firestoreClient=void 0,await e}}}function Qn(t,e){const n=typeof t=="object"?t:$g(),r=typeof t=="string"?t:Rh,o=sf(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=nb("firestore");a&&TN(o,...a)}return o}function If(t){if(t._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IN(t),t._firestoreClient}function IN(t){const e=t._freezeSettings(),n=(function(o,a,u,h){return new Y2(o,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,uC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new vN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $r(Sn.fromBase64String(e))}catch(n){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $r(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,$r._jsonSchema))return $r.fromBase64String(e.bytes)}}$r._jsonSchemaVersion="firestore/bytes/1.0",$r._jsonSchema={type:rn("string",$r._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fs._jsonSchemaVersion}}static fromJSON(e){if(_u(e,Fs._jsonSchema))return new Fs(e.latitude,e.longitude)}}Fs._jsonSchemaVersion="firestore/geoPoint/1.0",Fs._jsonSchema={type:rn("string",Fs._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,$s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $s(e.vectorValues);throw new pe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:rn("string",$s._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=/^__.*__$/;class xN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class hC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:t})}}class xf{constructor(e,n,r,o,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fC(this.Ac)&&SN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ef(e)}Cc(e,n,r,o=!1){return new xf({Ac:e,methodName:n,Dc:r,path:In.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kf(t){const e=t._freezeSettings(),n=Ef(t._databaseId);return new kN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pC(t,e,n,r,o,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);Py("Data must be an object, but it was:",u,r);const h=gC(r,u);let f,m;if(a.merge)f=new Tr(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const b of a.mergeFields){const C=vg(e,b,n);if(!u.contains(C))throw new pe(te.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);wC(v,C)||v.push(C)}f=new Tr(v),m=u.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,m=u.fieldTransforms;return new xN(new cr(h),f,m)}class Rf extends Pa{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rf}}function mC(t,e,n){return new xf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sy extends Pa{_toFieldTransform(e){return new wf(e.path,new au)}isEqual(e){return e instanceof Sy}}class xy extends Pa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=mC(this,e,!0),r=this.vc.map((a=>Aa(a,n))),o=new Ol(r);return new wf(e.path,o)}isEqual(e){return e instanceof xy&&vi(this.vc,e.vc)}}class ky extends Pa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=mC(this,e,!0),r=this.vc.map((a=>Aa(a,n))),o=new Ll(r);return new wf(e.path,o)}isEqual(e){return e instanceof ky&&vi(this.vc,e.vc)}}class Ry extends Pa{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new lu(e.serializer,S1(e.serializer,this.Fc));return new wf(e.path,n)}isEqual(e){return e instanceof Ry&&this.Fc===e.Fc}}function RN(t,e,n,r){const o=t.Cc(1,e,n);Py("Data must be an object, but it was:",o,r);const a=[],u=cr.empty();xo(r,((f,m)=>{const v=Ay(e,f,n);m=Pt(m);const b=o.yc(v);if(m instanceof Rf)a.push(v);else{const C=Aa(m,b);C!=null&&(a.push(v),u.set(v,C))}}));const h=new Tr(a);return new hC(u,h,o.fieldTransforms)}function PN(t,e,n,r,o,a){const u=t.Cc(1,e,n),h=[vg(e,r,n)],f=[o];if(a.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<a.length;C+=2)h.push(vg(e,a[C])),f.push(a[C+1]);const m=[],v=cr.empty();for(let C=h.length-1;C>=0;--C)if(!wC(m,h[C])){const A=h[C];let j=f[C];j=Pt(j);const V=u.yc(A);if(j instanceof Rf)m.push(A);else{const O=Aa(j,V);O!=null&&(m.push(A),v.set(A,O))}}const b=new Tr(m);return new hC(v,b,u.fieldTransforms)}function AN(t,e,n,r=!1){return Aa(n,t.Cc(r?4:3,e))}function Aa(t,e){if(yC(t=Pt(t)))return Py("Unsupported field value:",e,t),gC(t,e);if(t instanceof Pa)return(function(r,o){if(!fC(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const h of r){let f=Aa(h,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(r,o){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Rt.fromDate(r);return{timestampValue:Dh(o.serializer,a)}}if(r instanceof Rt){const a=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,a)}}if(r instanceof Fs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $r)return{bytesValue:j1(o.serializer,r._byteString)};if(r instanceof zt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ly(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof $s)return(function(u,h){return{mapValue:{fields:{[u1]:{stringValue:d1},[Ph]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return sy(h.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${uf(r)}`)})(t,e)}function gC(t,e){const n={};return s1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,((r,o)=>{const a=Aa(o,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function yC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof Fs||t instanceof $r||t instanceof zt||t instanceof Pa||t instanceof $s)}function Py(t,e,n){if(!yC(n)||!n1(n)){const r=uf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vg(t,e,n){if((e=Pt(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return Ay(t,e);throw Vh("Field path arguments must be of type string or ",t,!1,void 0,n)}const NN=new RegExp("[~\\*/\\[\\]]");function Ay(t,e,n){if(e.search(NN)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sf(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vh(t,e,n,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new pe(te.INVALID_ARGUMENT,h+t+f)}function wC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ny("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DN extends vC{data(){return super.data()}}function Ny(t,e){return typeof e=="string"?Ay(t,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dy{}class ON extends Dy{}function Pf(t,e,...n){let r=[];e instanceof Dy&&r.push(e),r=r.concat(n),(function(a){const u=a.filter((f=>f instanceof Oy)).length,h=a.filter((f=>f instanceof Af)).length;if(u>1||u>0&&h>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Af extends ON{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Af(e,n,r)}_apply(e){const n=this._parse(e);return EC(e._query,n),new Ra(e.firestore,e.converter,lg(e._query,n))}_parse(e){const n=kf(e.firestore);return(function(a,u,h,f,m,v,b){let C;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){eE(b,v);const j=[];for(const V of b)j.push(Z0(f,a,V));C={arrayValue:{values:j}}}else C=Z0(f,a,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||eE(b,v),C=AN(h,u,b,v==="in"||v==="not-in");return nn.create(m,v,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nf(t,e,n){const r=e,o=Ny("where",t);return Af._create(o,r,n)}class Oy extends Dy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Oy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)EC(u,f),u=lg(u,f)})(e._query,n),new Ra(e.firestore,e.converter,lg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Z0(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v1(e)&&n.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ct.fromString(n));if(!Te.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m0(t,new Te(r))}if(n instanceof zt)return m0(t,n._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(n)}.`)}function eE(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EC(t,e){const n=(function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LN{convertValue(e,n="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xo(e,((o,a)=>{r[o]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Ph].arrayValue?.values?.map((r=>Gt(r.doubleValue)));return new $s(n)}convertGeoPoint(e){return new Fs(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ff(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=bo(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);pt(B1(r),9688,{name:e});const o=new iu(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return o.isEqual(n)||bi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends vC{constructor(e,n,r,o,a,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ny("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:rn("string",la._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class uh extends la{data(e={}){return super.data(e)}}class ca{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new uh(this._firestore,this._userDataWriter,r.key,r,new Hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const f=new uh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Hc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new uh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Hc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:jN(h.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){t=ur(t,zt);const e=ur(t.firestore,Ti);return bN(If(e),t._key).then((n=>TC(e,t,n)))}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:rn("string",ca._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class Ly extends LN{constructor(e){super(),this.firestore=e}convertBytes(e){return new $r(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function hs(t){t=ur(t,Ra);const e=ur(t.firestore,Ti),n=If(e),r=new Ly(e);return _C(t._query),CN(n,t._query).then((o=>new ca(e,r,t,o)))}function tE(t,e,n){t=ur(t,zt);const r=ur(t.firestore,Ti),o=bC(t.converter,e,n);return Df(r,[pC(kf(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Br.none())])}function Kt(t,e,n,...r){t=ur(t,zt);const o=ur(t.firestore,Ti),a=kf(o);let u;return u=typeof(e=Pt(e))=="string"||e instanceof Sf?PN(a,"updateDoc",t._key,e,n,r):RN(a,"updateDoc",t._key,e),Df(o,[u.toMutation(t._key,Br.exists(!0))])}function CC(t){return Df(ur(t.firestore,Ti),[new iy(t._key,Br.none())])}function MN(t,e){const n=ur(t.firestore,Ti),r=it(t),o=bC(t.converter,e);return Df(n,[pC(kf(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,Br.exists(!1))]).then((()=>r))}function VN(t,...e){t=Pt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||X0(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(X0(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,u,h;if(t instanceof zt)u=ur(t.firestore,Ti),h=pf(t._key.path),a={next:f=>{e[r]&&e[r](TC(u,t,f))},error:e[r+1],complete:e[r+2]};else{const f=ur(t,Ra);u=ur(f.firestore,Ti),h=f._query;const m=new Ly(u);a={next:v=>{e[r]&&e[r](new ca(u,m,f,v))},error:e[r+1],complete:e[r+2]},_C(t._query)}return(function(m,v,b,C){const A=new Iy(C),j=new by(v,A,b);return m.asyncQueue.enqueueAndForget((async()=>vy(await Mh(m),j))),()=>{A.Nu(),m.asyncQueue.enqueueAndForget((async()=>_y(await Mh(m),j)))}})(If(u),h,o,a)}function Df(t,e){return(function(r,o){const a=new gi;return r.asyncQueue.enqueueAndForget((async()=>uN(await EN(r),o,a))),a.promise})(If(t),e)}function TC(t,e,n){const r=n.docs.get(e._key),o=new Ly(t);return new la(t,o,e._key,r,new Hc(n.hasPendingWrites,n.fromCache),e.converter)}function FN(){return new Sy("serverTimestamp")}function IC(...t){return new xy("arrayUnion",t)}function Of(...t){return new ky("arrayRemove",t)}function va(t){return new Ry("increment",t)}(function(e,n=!0){(function(o){Gl=o})(Ia),fa(new _o("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Ti(new N2(r.getProvider("auth-internal")),new L2(u,r.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(m.options.projectId,v)})(u,o),u);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Ls(n0,r0,e),Ls(n0,r0,"esm2020")})();var $N="firebase",UN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls($N,UN,"app");const BN={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},xn=lb(BN);Qn(xn);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nE="popstate";function zN(t={}){function e(o,a){let{pathname:u="/",search:h="",hash:f=""}=Na(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),_g("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=o.location.href,m=f.indexOf("#");h=m===-1?f:f.slice(0,m)}return h+"#"+(typeof a=="string"?a:cu(a))}function r(o,a){qr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return qN(e,n,r,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HN(){return Math.random().toString(36).substring(2,10)}function rE(t,e){return{usr:t.state,key:t.key,idx:e}}function _g(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:n,key:e&&e.key||r||HN()}}function cu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qN(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function b(){h="POP";let O=v(),B=O==null?null:O-m;m=O,f&&f({action:h,location:V.location,delta:B})}function C(O,B){h="PUSH";let U=_g(V.location,O,B);n&&n(U,O),m=v()+1;let Q=rE(U,m),Z=V.createHref(U);try{u.pushState(Q,"",Z)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(Z)}a&&f&&f({action:h,location:V.location,delta:1})}function A(O,B){h="REPLACE";let U=_g(V.location,O,B);n&&n(U,O),m=v();let Q=rE(U,m),Z=V.createHref(U);u.replaceState(Q,"",Z),a&&f&&f({action:h,location:V.location,delta:0})}function j(O){return WN(O)}let V={get action(){return h},get location(){return t(o,u)},listen(O){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(nE,b),f=O,()=>{o.removeEventListener(nE,b),f=null}},createHref(O){return e(o,O)},createURL:j,encodeLocation(O){let B=j(O);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:C,replace:A,go(O){return u.go(O)}};return V}function WN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:cu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function SC(t,e,n="/"){return GN(t,e,n,!1)}function GN(t,e,n,r){let o=typeof e=="string"?Na(e):e,a=Ii(o.pathname||"/",n);if(a==null)return null;let u=xC(t);KN(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=iD(a);h=rD(u[f],m,r)}return h}function xC(t,e=[],n=[],r="",o=!1){let a=(u,h,f=o,m)=>{let v={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;Lt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let b=yi([r,v.relativePath]),C=n.concat(v);u.children&&u.children.length>0&&(Lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),xC(u.children,e,C,b,f)),!(u.path==null&&!u.index)&&e.push({path:b,score:tD(b,u.index),routesMeta:C})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))a(u,h);else for(let f of kC(u.path))a(u,h,!0,f)}),e}function kC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=kC(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function KN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var QN=/^:[\w-]+$/,JN=3,YN=2,XN=1,ZN=10,eD=-2,sE=t=>t==="*";function tD(t,e){let n=t.split("/"),r=n.length;return n.some(sE)&&(r+=eD),e&&(r+=YN),n.filter(o=>!sE(o)).reduce((o,a)=>o+(QN.test(a)?JN:a===""?XN:ZN),r)}function nD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function rD(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",b=Fh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),C=f.route;if(!b&&m&&n&&!r[r.length-1].route.index&&(b=Fh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:yi([a,b.pathname]),pathnameBase:cD(yi([a,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(a=yi([a,b.pathnameBase]))}return u}function Fh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sD(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:b},C)=>{if(v==="*"){let j=h[C]||"";u=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const A=h[C];return b&&!A?m[v]=void 0:m[v]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:t}}function sD(t,e=!1,n=!0){qr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function iD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ii(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oD(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Na(t):t;return{pathname:n?n.startsWith("/")?n:aD(n,e):e,search:uD(r),hash:dD(o)}}function aD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Om(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jy(t){let e=lD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function My(t,e,n,r=!1){let o;typeof t=="string"?o=Na(t):(o={...t},Lt(!o.pathname||!o.pathname.includes("?"),Om("?","pathname","search",o)),Lt(!o.pathname||!o.pathname.includes("#"),Om("#","pathname","hash",o)),Lt(!o.search||!o.search.includes("#"),Om("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),b-=1;o.pathname=C.join("/")}h=b>=0?e[b]:"/"}let f=oD(o,h),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var yi=t=>t.join("/").replace(/\/\/+/g,"/"),cD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var RC=["POST","PUT","PATCH","DELETE"];new Set(RC);var fD=["GET",...RC];new Set(fD);var Yl=T.createContext(null);Yl.displayName="DataRouter";var Lf=T.createContext(null);Lf.displayName="DataRouterState";T.createContext(!1);var PC=T.createContext({isTransitioning:!1});PC.displayName="ViewTransition";var pD=T.createContext(new Map);pD.displayName="Fetchers";var mD=T.createContext(null);mD.displayName="Await";var ps=T.createContext(null);ps.displayName="Navigation";var Su=T.createContext(null);Su.displayName="Location";var ms=T.createContext({outlet:null,matches:[],isDataRoute:!1});ms.displayName="Route";var Vy=T.createContext(null);Vy.displayName="RouteError";function gD(t,{relative:e}={}){Lt(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(ps),{hash:o,pathname:a,search:u}=xu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:yi([n,a])),r.createHref({pathname:h,search:u,hash:o})}function Xl(){return T.useContext(Su)!=null}function Ro(){return Lt(Xl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Su).location}var AC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NC(t){T.useContext(ps).static||T.useLayoutEffect(t)}function Fy(){let{isDataRoute:t}=T.useContext(ms);return t?PD():yD()}function yD(){Lt(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Yl),{basename:e,navigator:n}=T.useContext(ps),{matches:r}=T.useContext(ms),{pathname:o}=Ro(),a=JSON.stringify(jy(r)),u=T.useRef(!1);return NC(()=>{u.current=!0}),T.useCallback((f,m={})=>{if(qr(u.current,AC),!u.current)return;if(typeof f=="number"){n.go(f);return}let v=My(f,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:yi([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,a,o,t])}T.createContext(null);function wD(){let{matches:t}=T.useContext(ms),e=t[t.length-1];return e?e.params:{}}function xu(t,{relative:e}={}){let{matches:n}=T.useContext(ms),{pathname:r}=Ro(),o=JSON.stringify(jy(n));return T.useMemo(()=>My(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function vD(t,e){return DC(t,e)}function DC(t,e,n,r,o){Lt(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(ps),{matches:u}=T.useContext(ms),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let U=b&&b.path||"";OC(m,!b||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let C=Ro(),A;if(e){let U=typeof e=="string"?Na(e):e;Lt(v==="/"||U.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${U.pathname}" was given in the \`location\` prop.`),A=U}else A=C;let j=A.pathname||"/",V=j;if(v!=="/"){let U=v.replace(/^\//,"").split("/");V="/"+j.replace(/^\//,"").split("/").slice(U.length).join("/")}let O=SC(t,{pathname:V});qr(b||O!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),qr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=TD(O&&O.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:yi([v,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:yi([v,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,n,r,o);return e&&B?T.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function _D(){let t=RD(),e=hD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:o},n):null,u)}var ED=T.createElement(_D,null),bD=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(ms.Provider,{value:this.props.routeContext},T.createElement(Vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CD({routeContext:t,match:e,children:n}){let r=T.useContext(Yl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(ms.Provider,{value:t},n)}function TD(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n?.errors;if(u!=null){let m=a.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let h=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let v=a[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=m),v.route.id){let{loaderData:b,errors:C}=n,A=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||A){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,v,b)=>{let C,A=!1,j=null,V=null;n&&(C=u&&v.route.id?u[v.route.id]:void 0,j=v.route.errorElement||ED,h&&(f<0&&b===0?(OC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,V=null):f===b&&(A=!0,V=v.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,b+1)),B=()=>{let U;return C?U=j:A?U=V:v.route.Component?U=T.createElement(v.route.Component,null):v.route.element?U=v.route.element:U=m,T.createElement(CD,{match:v,routeContext:{outlet:m,matches:O,isDataRoute:n!=null},children:U})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?T.createElement(bD,{location:n.location,revalidation:n.revalidation,component:j,error:C,children:B(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:r}):B()},null)}function $y(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ID(t){let e=T.useContext(Yl);return Lt(e,$y(t)),e}function SD(t){let e=T.useContext(Lf);return Lt(e,$y(t)),e}function xD(t){let e=T.useContext(ms);return Lt(e,$y(t)),e}function Uy(t){let e=xD(t),n=e.matches[e.matches.length-1];return Lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kD(){return Uy("useRouteId")}function RD(){let t=T.useContext(Vy),e=SD("useRouteError"),n=Uy("useRouteError");return t!==void 0?t:e.errors?.[n]}function PD(){let{router:t}=ID("useNavigate"),e=Uy("useNavigate"),n=T.useRef(!1);return NC(()=>{n.current=!0}),T.useCallback(async(o,a={})=>{qr(n.current,AC),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var iE={};function OC(t,e,n){!e&&!iE[t]&&(iE[t]=!0,qr(!1,n))}T.memo(AD);function AD({routes:t,future:e,state:n,unstable_onError:r}){return DC(t,void 0,n,r,e)}function yl({to:t,replace:e,state:n,relative:r}){Lt(Xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=T.useContext(ps);qr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(ms),{pathname:u}=Ro(),h=Fy(),f=My(t,jy(a),u,r==="path"),m=JSON.stringify(f);return T.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function ro(t){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ND({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){Lt(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=T.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=Na(n));let{pathname:f="/",search:m="",hash:v="",state:b=null,key:C="default"}=n,A=T.useMemo(()=>{let j=Ii(f,u);return j==null?null:{location:{pathname:j,search:m,hash:v,state:b,key:C},navigationType:r}},[u,f,m,v,b,C,r]);return qr(A!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:T.createElement(ps.Provider,{value:h},T.createElement(Su.Provider,{children:e,value:A}))}function DD({children:t,location:e}){return vD(Eg(t),e)}function Eg(t,e=[]){let n=[];return T.Children.forEach(t,(r,o)=>{if(!T.isValidElement(r))return;let a=[...e,o];if(r.type===T.Fragment){n.push.apply(n,Eg(r.props.children,a));return}Lt(r.type===ro,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Eg(r.props.children,a)),n.push(u)}),n}var dh="get",hh="application/x-www-form-urlencoded";function jf(t){return t!=null&&typeof t.tagName=="string"}function OD(t){return jf(t)&&t.tagName.toLowerCase()==="button"}function LD(t){return jf(t)&&t.tagName.toLowerCase()==="form"}function jD(t){return jf(t)&&t.tagName.toLowerCase()==="input"}function MD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VD(t,e){return t.button===0&&(!e||e==="_self")&&!MD(t)}var Kd=null;function FD(){if(Kd===null)try{new FormData(document.createElement("form"),0),Kd=!1}catch{Kd=!0}return Kd}var $D=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lm(t){return t!=null&&!$D.has(t)?(qr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):t}function UD(t,e){let n,r,o,a,u;if(LD(t)){let h=t.getAttribute("action");r=h?Ii(h,e):null,n=t.getAttribute("method")||dh,o=Lm(t.getAttribute("enctype"))||hh,a=new FormData(t)}else if(OD(t)||jD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ii(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||dh,o=Lm(t.getAttribute("formenctype"))||Lm(h.getAttribute("enctype"))||hh,a=new FormData(h,t),!FD()){let{name:m,type:v,value:b}=t;if(v==="image"){let C=m?`${m}.`:"";a.append(`${C}x`,"0"),a.append(`${C}y`,"0")}else m&&a.append(m,b)}}else{if(jf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,r=null,o=hh,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function By(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ii(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function zD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qD(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await zD(a,n);return u.links?u.links():[]}return[]}));return QD(r.flat(1).filter(HD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function oE(t,e,n,r,o,a){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,h=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):a==="data"?e.filter((f,m)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function WD(t,e,{includeHydrateFallback:n}={}){return GD(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function GD(t){return[...new Set(t)]}function KD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function QD(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(KD(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function LC(){let t=T.useContext(Yl);return By(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function JD(){let t=T.useContext(Lf);return By(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zy=T.createContext(void 0);zy.displayName="FrameworkContext";function jC(){let t=T.useContext(zy);return By(t,"You must render this element inside a <HydratedRouter> element"),t}function YD(t,e){let n=T.useContext(zy),[r,o]=T.useState(!1),[a,u]=T.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=e,C=T.useRef(null);T.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let V=B=>{B.forEach(U=>{u(U.isIntersecting)})},O=new IntersectionObserver(V,{threshold:.5});return C.current&&O.observe(C.current),()=>{O.disconnect()}}},[t]),T.useEffect(()=>{if(r){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[r]);let A=()=>{o(!0)},j=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,C,{}]:[a,C,{onFocus:Mc(h,A),onBlur:Mc(f,j),onMouseEnter:Mc(m,A),onMouseLeave:Mc(v,j),onTouchStart:Mc(b,A)}]:[!1,C,{}]}function Mc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function XD({page:t,...e}){let{router:n}=LC(),r=T.useMemo(()=>SC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(eO,{page:t,matches:r,...e}):null}function ZD(t){let{manifest:e,routeModules:n}=jC(),[r,o]=T.useState([]);return T.useEffect(()=>{let a=!1;return qD(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),r}function eO({page:t,matches:e,...n}){let r=Ro(),{manifest:o,routeModules:a}=jC(),{basename:u}=LC(),{loaderData:h,matches:f}=JD(),m=T.useMemo(()=>oE(t,e,f,o,r,"data"),[t,e,f,o,r]),v=T.useMemo(()=>oE(t,e,f,o,r,"assets"),[t,e,f,o,r]),b=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let j=new Set,V=!1;if(e.forEach(B=>{let U=o.routes[B.route.id];!U||!U.hasLoader||(!m.some(Q=>Q.route.id===B.route.id)&&B.route.id in h&&a[B.route.id]?.shouldRevalidate||U.hasClientLoader?V=!0:j.add(B.route.id))}),j.size===0)return[];let O=BD(t,u,"data");return V&&j.size>0&&O.searchParams.set("_routes",e.filter(B=>j.has(B.route.id)).map(B=>B.route.id).join(",")),[O.pathname+O.search]},[u,h,r,o,m,e,t,a]),C=T.useMemo(()=>WD(v,o),[v,o]),A=ZD(v);return T.createElement(T.Fragment,null,b.map(j=>T.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),C.map(j=>T.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),A.map(({key:j,link:V})=>T.createElement("link",{key:j,nonce:n.nonce,...V})))}function tO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MC&&(window.__reactRouterVersion="7.8.2")}catch{}function nO({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=zN({window:n,v5Compat:!0}));let o=r.current,[a,u]=T.useState({action:o.action,location:o.location}),h=T.useCallback(f=>{T.startTransition(()=>u(f))},[u]);return T.useLayoutEffect(()=>o.listen(h),[o,h]),T.createElement(ND,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var VC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:v,viewTransition:b,...C},A){let{basename:j}=T.useContext(ps),V=typeof m=="string"&&VC.test(m),O,B=!1;if(typeof m=="string"&&V&&(O=m,MC))try{let P=new URL(window.location.href),S=m.startsWith("//")?new URL(P.protocol+m):new URL(m),L=Ii(S.pathname,j);S.origin===P.origin&&L!=null?m=L+S.search+S.hash:B=!0}catch{qr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=gD(m,{relative:o}),[Q,Z,le]=YD(r,C),ne=oO(m,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:b});function k(P){e&&e(P),P.defaultPrevented||ne(P)}let x=T.createElement("a",{...C,...le,href:O||U,onClick:B||a?e:k,ref:tO(A,Z),target:f,"data-discover":!V&&n==="render"?"true":void 0});return Q&&!V?T.createElement(T.Fragment,null,x,T.createElement(XD,{page:U})):x});dt.displayName="Link";var rO=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...m},v){let b=xu(u,{relative:m.relative}),C=Ro(),A=T.useContext(Lf),{navigator:j,basename:V}=T.useContext(ps),O=A!=null&&dO(b)&&h===!0,B=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,U=C.pathname,Q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(U=U.toLowerCase(),Q=Q?Q.toLowerCase():null,B=B.toLowerCase()),Q&&V&&(Q=Ii(Q,V)||Q);const Z=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let le=U===B||!o&&U.startsWith(B)&&U.charAt(Z)==="/",ne=Q!=null&&(Q===B||!o&&Q.startsWith(B)&&Q.charAt(B.length)==="/"),k={isActive:le,isPending:ne,isTransitioning:O},x=le?e:void 0,P;typeof r=="function"?P=r(k):P=[r,le?"active":null,ne?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let S=typeof a=="function"?a(k):a;return T.createElement(dt,{...m,"aria-current":x,className:P,ref:v,style:S,to:u,viewTransition:h},typeof f=="function"?f(k):f)});rO.displayName="NavLink";var sO=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:u=dh,action:h,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:b,...C},A)=>{let j=cO(),V=uO(h,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&VC.test(h),U=Q=>{if(f&&f(Q),Q.defaultPrevented)return;Q.preventDefault();let Z=Q.nativeEvent.submitter,le=Z?.getAttribute("formmethod")||u;j(Z||Q.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:b})};return T.createElement("form",{ref:A,method:O,action:V,onSubmit:r?f:U,...C,"data-discover":!B&&t==="render"?"true":void 0})});sO.displayName="Form";function iO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FC(t){let e=T.useContext(Yl);return Lt(e,iO(t)),e}function oO(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=Fy(),f=Ro(),m=xu(t,{relative:a});return T.useCallback(v=>{if(VD(v,e)){v.preventDefault();let b=n!==void 0?n:cu(f)===cu(m);h(t,{replace:b,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,m,n,r,e,t,o,a,u])}var aO=0,lO=()=>`__${String(++aO)}__`;function cO(){let{router:t}=FC("useSubmit"),{basename:e}=T.useContext(ps),n=kD();return T.useCallback(async(r,o={})=>{let{action:a,method:u,encType:h,formData:f,body:m}=UD(r,e);if(o.navigate===!1){let v=o.fetcherKey||lO();await t.fetch(v,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function uO(t,{relative:e}={}){let{basename:n}=T.useContext(ps),r=T.useContext(ms);Lt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...xu(t||".",{relative:e})},u=Ro();if(t==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:yi([n,a.pathname])),cu(a)}function dO(t,{relative:e}={}){let n=T.useContext(PC);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FC("useViewTransitionState"),o=xu(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ii(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ii(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Fh(o.pathname,u)!=null||Fh(o.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function $C(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function hO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function aE(t,e){return t.get($C(t,e))}function fO(t,e,n){hO(t,e),e.set(t,n)}function pO(t,e,n){return t.set($C(t,e),n),n}const mO=100,ke={},gO=()=>{ke.previousActiveElement instanceof HTMLElement?(ke.previousActiveElement.focus(),ke.previousActiveElement=null):document.body&&document.body.focus()},yO=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;ke.restoreFocusTimeout=setTimeout(()=>{gO(),e()},mO),window.scrollTo(n,r)}),UC="swal2-",wO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],ee=wO.reduce((t,e)=>(t[e]=UC+e,t),{}),vO=["success","warning","info","question","error"],$h=vO.reduce((t,e)=>(t[e]=UC+e,t),{}),BC="SweetAlert2:",Hy=t=>t.charAt(0).toUpperCase()+t.slice(1),Kn=t=>{console.warn(`${BC} ${typeof t=="object"?t.join(" "):t}`)},Da=t=>{console.error(`${BC} ${t}`)},lE=[],_O=t=>{lE.includes(t)||(lE.push(t),Kn(t))},zC=(t,e=null)=>{_O(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Mf=t=>typeof t=="function"?t():t,qy=t=>t&&typeof t.toPromise=="function",ku=t=>qy(t)?t.toPromise():Promise.resolve(t),Wy=t=>t&&Promise.resolve(t)===t,Jn=()=>document.body.querySelector(`.${ee.container}`),Ru=t=>{const e=Jn();return e?e.querySelector(t):null},Sr=t=>Ru(`.${t}`),ut=()=>Sr(ee.popup),Zl=()=>Sr(ee.icon),EO=()=>Sr(ee["icon-content"]),HC=()=>Sr(ee.title),Gy=()=>Sr(ee["html-container"]),qC=()=>Sr(ee.image),Ky=()=>Sr(ee["progress-steps"]),Vf=()=>Sr(ee["validation-message"]),Bs=()=>Ru(`.${ee.actions} .${ee.confirm}`),ec=()=>Ru(`.${ee.actions} .${ee.cancel}`),Oa=()=>Ru(`.${ee.actions} .${ee.deny}`),bO=()=>Sr(ee["input-label"]),tc=()=>Ru(`.${ee.loader}`),Pu=()=>Sr(ee.actions),WC=()=>Sr(ee.footer),Ff=()=>Sr(ee["timer-progress-bar"]),Qy=()=>Sr(ee.close),CO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Jy=()=>{const t=ut();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,u)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(u.getAttribute("tabindex")||"0");return h>f?1:h<f?-1:0}),r=t.querySelectorAll(CO),o=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>dr(a))},Yy=()=>wi(document.body,ee.shown)&&!wi(document.body,ee["toast-shown"])&&!wi(document.body,ee["no-backdrop"]),$f=()=>{const t=ut();return t?wi(t,ee.toast):!1},TO=()=>{const t=ut();return t?t.hasAttribute("data-loading"):!1},xr=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(u=>{t.appendChild(u)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?t.appendChild(u.cloneNode(!0)):t.appendChild(u)})}},wi=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},IO=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(ee).includes(n)&&!Object.values($h).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Ir=(t,e,n)=>{if(IO(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Kn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}ht(t,r)}},Uf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${ee.popup} > .${ee[e]}`);case"checkbox":return t.querySelector(`.${ee.popup} > .${ee.checkbox} input`);case"radio":return t.querySelector(`.${ee.popup} > .${ee.radio} input:checked`)||t.querySelector(`.${ee.popup} > .${ee.radio} input:first-child`);case"range":return t.querySelector(`.${ee.popup} > .${ee.range} input`);default:return t.querySelector(`.${ee.popup} > .${ee.input}`)}},GC=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},KC=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(r):o.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},ht=(t,e)=>{KC(t,e,!0)},Wr=(t,e)=>{KC(t,e,!1)},fo=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const o=n[r];if(o instanceof HTMLElement&&wi(o,e))return o}},ua=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},wn=(t,e="flex")=>{t&&(t.style.display=e)},Fn=t=>{t&&(t.style.display="none")},Xy=(t,e="block")=>{t&&new MutationObserver(()=>{Au(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},cE=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},Au=(t,e,n="flex")=>{e?wn(t,n):Fn(t)},dr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),SO=()=>!dr(Bs())&&!dr(Oa())&&!dr(ec()),bg=t=>t.scrollHeight>t.clientHeight,xO=(t,e)=>{let n=t;for(;n&&n!==e;){if(bg(n))return!0;n=n.parentElement}return!1},QC=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},Zy=(t,e=!1)=>{const n=Ff();n&&dr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},kO=()=>{const t=Ff();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},RO=()=>typeof window>"u"||typeof document>"u",PO=`
 <div aria-labelledby="${ee.title}" aria-describedby="${ee["html-container"]}" class="${ee.popup}" tabindex="-1">
   <button type="button" class="${ee.close}"></button>
   <ul class="${ee["progress-steps"]}"></ul>
   <div class="${ee.icon}"></div>
   <img class="${ee.image}" />
   <h2 class="${ee.title}" id="${ee.title}"></h2>
   <div class="${ee["html-container"]}" id="${ee["html-container"]}"></div>
   <input class="${ee.input}" id="${ee.input}" />
   <input type="file" class="${ee.file}" />
   <div class="${ee.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${ee.select}" id="${ee.select}"></select>
   <div class="${ee.radio}"></div>
   <label class="${ee.checkbox}">
     <input type="checkbox" id="${ee.checkbox}" />
     <span class="${ee.label}"></span>
   </label>
   <textarea class="${ee.textarea}" id="${ee.textarea}"></textarea>
   <div class="${ee["validation-message"]}" id="${ee["validation-message"]}"></div>
   <div class="${ee.actions}">
     <div class="${ee.loader}"></div>
     <button type="button" class="${ee.confirm}"></button>
     <button type="button" class="${ee.deny}"></button>
     <button type="button" class="${ee.cancel}"></button>
   </div>
   <div class="${ee.footer}"></div>
   <div class="${ee["timer-progress-bar-container"]}">
     <div class="${ee["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),AO=()=>{const t=Jn();return t?(t.remove(),Wr([document.documentElement,document.body],[ee["no-backdrop"],ee["toast-shown"],ee["has-column"]]),!0):!1},ra=()=>{ke.currentInstance.resetValidationMessage()},NO=()=>{const t=ut(),e=fo(t,ee.input),n=fo(t,ee.file),r=t.querySelector(`.${ee.range} input`),o=t.querySelector(`.${ee.range} output`),a=fo(t,ee.select),u=t.querySelector(`.${ee.checkbox} input`),h=fo(t,ee.textarea);e.oninput=ra,n.onchange=ra,a.onchange=ra,u.onchange=ra,h.oninput=ra,r.oninput=()=>{ra(),o.value=r.value},r.onchange=()=>{ra(),o.value=r.value}},DO=t=>typeof t=="string"?document.querySelector(t):t,OO=t=>{const e=ut();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},LO=t=>{window.getComputedStyle(t).direction==="rtl"&&ht(Jn(),ee.rtl)},jO=t=>{const e=AO();if(RO()){Da("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=ee.container,e&&ht(n,ee["no-transition"]),xr(n,PO),n.dataset.swal2Theme=t.theme;const r=DO(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),OO(t),LO(r),NO()},ew=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?MO(t,e):t&&xr(e,t)},MO=(t,e)=>{t.jquery?VO(e,t):xr(e,t.toString())},VO=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},FO=(t,e)=>{const n=Pu(),r=tc();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Fn(n):wn(n),Ir(n,e,"actions"),$O(n,r,e),xr(r,e.loaderHtml||""),Ir(r,e,"loader"))};function $O(t,e,n){const r=Bs(),o=Oa(),a=ec();!r||!o||!a||(Mm(r,"confirm",n),Mm(o,"deny",n),Mm(a,"cancel",n),UO(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}function UO(t,e,n,r){if(!r.buttonsStyling){Wr([t,e,n],ee.styled);return}ht([t,e,n],ee.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),jm(t),jm(e),jm(n)}function jm(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Mm(t,e,n){const r=Hy(e);Au(t,n[`show${r}Button`],"inline-block"),xr(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=ee[e],Ir(t,n,`${e}Button`)}const BO=(t,e)=>{const n=Qy();n&&(xr(n,e.closeButtonHtml||""),Ir(n,e,"closeButton"),Au(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},zO=(t,e)=>{const n=Jn();n&&(HO(n,e.backdrop),qO(n,e.position),WO(n,e.grow),Ir(n,e,"container"))};function HO(t,e){typeof e=="string"?t.style.background=e:e||ht([document.documentElement,document.body],ee["no-backdrop"])}function qO(t,e){e&&(e in ee?ht(t,ee[e]):(Kn('The "position" parameter is not valid, defaulting to "center"'),ht(t,ee.center)))}function WO(t,e){e&&ht(t,ee[`grow-${e}`])}var Tt={innerParams:new WeakMap,domCache:new WeakMap};const GO=["input","file","range","select","radio","checkbox","textarea"],KO=(t,e)=>{const n=ut();if(!n)return;const r=Tt.innerParams.get(t),o=!r||e.input!==r.input;GO.forEach(a=>{const u=fo(n,ee[a]);u&&(YO(a,e.inputAttributes),u.className=ee[a],o&&Fn(u))}),e.input&&(o&&QO(e),XO(e))},QO=t=>{if(!t.input)return;if(!Wt[t.input]){Da(`Unexpected type of input! Expected ${Object.keys(Wt).join(" | ")}, got "${t.input}"`);return}const e=JC(t.input);if(!e)return;const n=Wt[t.input](e,t);wn(e),t.inputAutoFocus&&setTimeout(()=>{GC(n)})},JO=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},YO=(t,e)=>{const n=ut();if(!n)return;const r=Uf(n,t);if(r){JO(r);for(const o in e)r.setAttribute(o,e[o])}},XO=t=>{if(!t.input)return;const e=JC(t.input);e&&Ir(e,t,"input")},tw=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Nu=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=ee["input-label"];r.setAttribute("for",t.id),r.className=o,typeof n.customClass=="object"&&ht(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},JC=t=>{const e=ut();if(e)return fo(e,ee[t]||ee.input)},Uh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Wy(e)||Kn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Wt={};Wt.text=Wt.email=Wt.password=Wt.number=Wt.tel=Wt.url=Wt.search=Wt.date=Wt["datetime-local"]=Wt.time=Wt.week=Wt.month=(t,e)=>(Uh(t,e.inputValue),Nu(t,t,e),tw(t,e),t.type=e.input,t);Wt.file=(t,e)=>(Nu(t,t,e),tw(t,e),t);Wt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Uh(n,e.inputValue),n.type=e.input,Uh(r,e.inputValue),Nu(n,t,e),t};Wt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");xr(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Nu(t,t,e),t};Wt.radio=t=>(t.textContent="",t);Wt.checkbox=(t,e)=>{const n=Uf(ut(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return xr(r,e.inputPlaceholder||e.inputLabel),n};Wt.textarea=(t,e)=>{Uh(t,e.inputValue),tw(t,e),Nu(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(ut()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?ut().style.width=`${a}px`:ua(ut(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const ZO=(t,e)=>{const n=Gy();n&&(Xy(n),Ir(n,e,"htmlContainer"),e.html?(ew(e.html,n),wn(n,"block")):e.text?(n.textContent=e.text,wn(n,"block")):Fn(n),KO(t,e))},eL=(t,e)=>{const n=WC();n&&(Xy(n),Au(n,e.footer,"block"),e.footer&&ew(e.footer,n),Ir(n,e,"footer"))},tL=(t,e)=>{const n=Tt.innerParams.get(t),r=Zl();if(!r)return;if(n&&e.icon===n.icon){dE(r,e),uE(r,e);return}if(!e.icon&&!e.iconHtml){Fn(r);return}if(e.icon&&Object.keys($h).indexOf(e.icon)===-1){Da(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Fn(r);return}wn(r),dE(r,e),uE(r,e),ht(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",YC)},uE=(t,e)=>{for(const[n,r]of Object.entries($h))e.icon!==n&&Wr(t,r);ht(t,e.icon&&$h[e.icon]),sL(t,e),YC(),Ir(t,e,"icon")},YC=()=>{const t=ut();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},nL=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,rL=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,dE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=hE(e.iconHtml):e.icon==="success"?(r=nL(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=rL:e.icon&&(r=hE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&xr(t,r)},sL=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])cE(t,n,"background-color",e.iconColor);cE(t,".swal2-success-ring","border-color",e.iconColor)}},hE=t=>`<div class="${ee["icon-content"]}">${t}</div>`,iL=(t,e)=>{const n=qC();if(n){if(!e.imageUrl){Fn(n);return}wn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),ua(n,"width",e.imageWidth),ua(n,"height",e.imageHeight),n.className=ee.image,Ir(n,e,"image")}};let nw=!1,XC=0,ZC=0,eT=0,tT=0;const oL=t=>{t.addEventListener("mousedown",Bh),document.body.addEventListener("mousemove",zh),t.addEventListener("mouseup",Hh),t.addEventListener("touchstart",Bh),document.body.addEventListener("touchmove",zh),t.addEventListener("touchend",Hh)},aL=t=>{t.removeEventListener("mousedown",Bh),document.body.removeEventListener("mousemove",zh),t.removeEventListener("mouseup",Hh),t.removeEventListener("touchstart",Bh),document.body.removeEventListener("touchmove",zh),t.removeEventListener("touchend",Hh)},Bh=t=>{const e=ut();if(t.target===e||Zl().contains(t.target)){nw=!0;const n=nT(t);XC=n.clientX,ZC=n.clientY,eT=parseInt(e.style.insetInlineStart)||0,tT=parseInt(e.style.insetBlockStart)||0,ht(e,"swal2-dragging")}},zh=t=>{const e=ut();if(nw){let{clientX:n,clientY:r}=nT(t);e.style.insetInlineStart=`${eT+(n-XC)}px`,e.style.insetBlockStart=`${tT+(r-ZC)}px`}},Hh=()=>{const t=ut();nw=!1,Wr(t,"swal2-dragging")},nT=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},lL=(t,e)=>{const n=Jn(),r=ut();if(!(!n||!r)){if(e.toast){ua(n,"width",e.width),r.style.width="100%";const o=tc();o&&r.insertBefore(o,Zl())}else ua(r,"width",e.width);ua(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Fn(Vf()),cL(r,e),e.draggable&&!e.toast?(ht(r,ee.draggable),oL(r)):(Wr(r,ee.draggable),aL(r))}},cL=(t,e)=>{const n=e.showClass||{};t.className=`${ee.popup} ${dr(t)?n.popup:""}`,e.toast?(ht([document.documentElement,document.body],ee["toast-shown"]),ht(t,ee.toast)):ht(t,ee.modal),Ir(t,e,"popup"),typeof e.customClass=="string"&&ht(t,e.customClass),e.icon&&ht(t,ee[`icon-${e.icon}`])},uL=(t,e)=>{const n=Ky();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){Fn(n);return}wn(n),n.textContent="",o>=r.length&&Kn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,u)=>{const h=dL(a);if(n.appendChild(h),u===o&&ht(h,ee["active-progress-step"]),u!==r.length-1){const f=hL(e);n.appendChild(f)}})},dL=t=>{const e=document.createElement("li");return ht(e,ee["progress-step"]),xr(e,t),e},hL=t=>{const e=document.createElement("li");return ht(e,ee["progress-step-line"]),t.progressStepsDistance&&ua(e,"width",t.progressStepsDistance),e},fL=(t,e)=>{const n=HC();n&&(Xy(n),Au(n,e.title||e.titleText,"block"),e.title&&ew(e.title,n),e.titleText&&(n.innerText=e.titleText),Ir(n,e,"title"))},rT=(t,e)=>{lL(t,e),zO(t,e),uL(t,e),tL(t,e),iL(t,e),fL(t,e),BO(t,e),ZO(t,e),FO(t,e),eL(t,e);const n=ut();typeof e.didRender=="function"&&n&&e.didRender(n),ke.eventEmitter.emit("didRender",n)},pL=()=>dr(ut()),sT=()=>{var t;return(t=Bs())===null||t===void 0?void 0:t.click()},mL=()=>{var t;return(t=Oa())===null||t===void 0?void 0:t.click()},gL=()=>{var t;return(t=ec())===null||t===void 0?void 0:t.click()},nc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),iT=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},yL=(t,e,n)=>{iT(t),e.toast||(t.keydownHandler=r=>vL(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:ut(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Cg=(t,e)=>{var n;const r=Jy();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=ut())===null||n===void 0||n.focus()},oT=["ArrowRight","ArrowDown"],wL=["ArrowLeft","ArrowUp"],vL=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?_L(e,t):e.key==="Tab"?EL(e):[...oT,...wL].includes(e.key)?bL(e.key):e.key==="Escape"&&CL(e,t,n)))},_L=(t,e)=>{if(!Mf(e.allowEnterKey))return;const n=Uf(ut(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;sT(),t.preventDefault()}},EL=t=>{const e=t.target,n=Jy();let r=-1;for(let o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?Cg(r,-1):Cg(r,1),t.stopPropagation(),t.preventDefault()},bL=t=>{const e=Pu(),n=Bs(),r=Oa(),o=ec();if(!e||!n||!r||!o)return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const u=oT.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let f=0;f<e.children.length;f++){if(h=h[u],!h)return;if(h instanceof HTMLButtonElement&&dr(h))break}h instanceof HTMLButtonElement&&h.focus()}},CL=(t,e,n)=>{t.preventDefault(),Mf(e.allowEscapeKey)&&n(nc.esc)};var Vl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const TL=()=>{const t=Jn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},aT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},lT=typeof window<"u"&&!!window.GestureEvent,IL=()=>{if(lT&&!wi(document.body,ee.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,ht(document.body,ee.iosfix),SL()}},SL=()=>{const t=Jn();if(!t)return;let e;t.ontouchstart=n=>{e=xL(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},xL=t=>{const e=t.target,n=Jn(),r=Gy();return!n||!r||kL(t)||RL(t)?!1:e===n||!bg(n)&&e instanceof HTMLElement&&!xO(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(bg(r)&&r.contains(e))},kL=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",RL=t=>t.touches&&t.touches.length>1,PL=()=>{if(wi(document.body,ee.iosfix)){const t=parseInt(document.body.style.top,10);Wr(document.body,ee.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},AL=()=>{const t=document.createElement("div");t.className=ee["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let kl=null;const NL=t=>{kl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(kl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${kl+AL()}px`)},DL=()=>{kl!==null&&(document.body.style.paddingRight=`${kl}px`,kl=null)};function cT(t,e,n,r){$f()?fE(t,r):(yO(n).then(()=>fE(t,r)),iT(ke)),lT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Yy()&&(DL(),PL(),aT()),OL()}function OL(){Wr([document.documentElement,document.body],[ee.shown,ee["height-auto"],ee["no-backdrop"],ee["toast-shown"]])}function po(t){t=jL(t);const e=Vl.swalPromiseResolve.get(this),n=LL(this);this.isAwaitingPromise?t.isDismissed||(Du(this),e(t)):n&&e(t)}const LL=t=>{const e=ut();if(!e)return!1;const n=Tt.innerParams.get(t);if(!n||wi(e,n.hideClass.popup))return!1;Wr(e,n.showClass.popup),ht(e,n.hideClass.popup);const r=Jn();return Wr(r,n.showClass.backdrop),ht(r,n.hideClass.backdrop),ML(t,e,n),!0};function uT(t){const e=Vl.swalPromiseReject.get(this);Du(this),e&&e(t)}const Du=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Tt.innerParams.get(t)||t._destroy())},jL=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),ML=(t,e,n)=>{var r;const o=Jn(),a=QC(e);typeof n.willClose=="function"&&n.willClose(e),(r=ke.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?VL(t,e,o,n.returnFocus,n.didClose):cT(t,o,n.returnFocus,n.didClose)},VL=(t,e,n,r,o)=>{ke.swalCloseEventFinishedCallback=cT.bind(null,t,n,r,o);const a=function(u){if(u.target===e){var h;(h=ke.swalCloseEventFinishedCallback)===null||h===void 0||h.call(ke),delete ke.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},fE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ke.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Fl=t=>{let e=ut();if(e||new et,e=ut(),!e)return;const n=tc();$f()?Fn(Zl()):FL(e,t),wn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},FL=(t,e)=>{const n=Pu(),r=tc();!n||!r||(!e&&dr(Bs())&&(e=Bs()),wn(n),e&&(Fn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),ht([t,n],ee.loading))},$L=(t,e)=>{e.input==="select"||e.input==="radio"?qL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(qy(e.inputValue)||Wy(e.inputValue))&&(Fl(Bs()),WL(t,e))},UL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return BL(n);case"radio":return zL(n);case"file":return HL(n);default:return e.inputAutoTrim?n.value.trim():n.value}},BL=t=>t.checked?1:0,zL=t=>t.checked?t.value:null,HL=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,qL=(t,e)=>{const n=ut();if(!n)return;const r=o=>{e.input==="select"?GL(n,qh(o),e):e.input==="radio"&&KL(n,qh(o),e)};qy(e.inputOptions)||Wy(e.inputOptions)?(Fl(Bs()),ku(e.inputOptions).then(o=>{t.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):Da(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},WL=(t,e)=>{const n=t.getInput();n&&(Fn(n),ku(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,wn(n),n.focus(),t.hideLoading()}).catch(r=>{Da(`Error in inputValue promise: ${r}`),n.value="",wn(n),n.focus(),t.hideLoading()}))};function GL(t,e,n){const r=fo(t,ee.select);if(!r)return;const o=(a,u,h)=>{const f=document.createElement("option");f.value=h,xr(f,u),f.selected=dT(h,n.inputValue),a.appendChild(f)};e.forEach(a=>{const u=a[0],h=a[1];if(Array.isArray(h)){const f=document.createElement("optgroup");f.label=u,f.disabled=!1,r.appendChild(f),h.forEach(m=>o(f,m[1],m[0]))}else o(r,h,u)}),r.focus()}function KL(t,e,n){const r=fo(t,ee.radio);if(!r)return;e.forEach(a=>{const u=a[0],h=a[1],f=document.createElement("input"),m=document.createElement("label");f.type="radio",f.name=ee.radio,f.value=u,dT(u,n.inputValue)&&(f.checked=!0);const v=document.createElement("span");xr(v,h),v.className=ee.label,m.appendChild(f),m.appendChild(v),r.appendChild(m)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const qh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let o=n;typeof o=="object"&&(o=qh(o)),e.push([r,o])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=qh(r)),e.push([n,r])}),e},dT=(t,e)=>!!e&&e.toString()===t.toString(),QL=t=>{const e=Tt.innerParams.get(t);t.disableButtons(),e.input?hT(t,"confirm"):sw(t,!0)},JL=t=>{const e=Tt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?hT(t,"deny"):rw(t,!1)},YL=(t,e)=>{t.disableButtons(),e(nc.cancel)},hT=(t,e)=>{const n=Tt.innerParams.get(t);if(!n.input){Da(`The "input" parameter is needed to be set when using returnInputValueOn${Hy(e)}`);return}const r=t.getInput(),o=UL(t,n);n.inputValidator?XL(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?rw(t,o):sw(t,o)},XL=(t,e,n)=>{const r=Tt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>ku(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?rw(t,e):sw(t,e)})},rw=(t,e)=>{const n=Tt.innerParams.get(t||void 0);n.showLoaderOnDeny&&Fl(Oa()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>ku(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),Du(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>fT(t||void 0,o))):t.close({isDenied:!0,value:e})},pE=(t,e)=>{t.close({isConfirmed:!0,value:e})},fT=(t,e)=>{t.rejectPromise(e)},sw=(t,e)=>{const n=Tt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Fl(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>ku(n.preConfirm(e,n.validationMessage))).then(o=>{dr(Vf())||o===!1?(t.hideLoading(),Du(t)):pE(t,typeof o>"u"?e:o)}).catch(o=>fT(t||void 0,o))):pE(t,e)};function Wh(){const t=Tt.innerParams.get(this);if(!t)return;const e=Tt.domCache.get(this);Fn(e.loader),$f()?t.icon&&wn(Zl()):ZL(e),Wr([e.popup,e.actions],ee.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const ZL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?wn(e[0],"inline-block"):SO()&&Fn(t.actions)};function pT(){const t=Tt.innerParams.get(this),e=Tt.domCache.get(this);return e?Uf(e.popup,t.input):null}function mT(t,e,n){const r=Tt.domCache.get(t);e.forEach(o=>{r[o].disabled=n})}function gT(t,e){const n=ut();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${ee.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else t.disabled=e}function yT(){mT(this,["confirmButton","denyButton","cancelButton"],!1)}function wT(){mT(this,["confirmButton","denyButton","cancelButton"],!0)}function vT(){gT(this.getInput(),!1)}function _T(){gT(this.getInput(),!0)}function ET(t){const e=Tt.domCache.get(this),n=Tt.innerParams.get(this);xr(e.validationMessage,t),e.validationMessage.className=ee["validation-message"],n.customClass&&n.customClass.validationMessage&&ht(e.validationMessage,n.customClass.validationMessage),wn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",ee["validation-message"]),GC(r),ht(r,ee.inputerror))}function bT(){const t=Tt.domCache.get(this);t.validationMessage&&Fn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Wr(e,ee.inputerror))}const Rl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},e5=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],t5={allowEnterKey:void 0},n5=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],CT=t=>Object.prototype.hasOwnProperty.call(Rl,t),TT=t=>e5.indexOf(t)!==-1,IT=t=>t5[t],r5=t=>{CT(t)||Kn(`Unknown parameter "${t}"`)},s5=t=>{n5.includes(t)&&Kn(`The parameter "${t}" is incompatible with toasts`)},i5=t=>{const e=IT(t);e&&zC(t,e)},ST=t=>{t.backdrop===!1&&t.allowOutsideClick&&Kn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Kn(`Invalid theme "${t.theme}"`);for(const e in t)r5(e),t.toast&&s5(e),i5(e)};function xT(t){const e=Jn(),n=ut(),r=Tt.innerParams.get(this);if(!n||wi(n,r.hideClass.popup)){Kn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=o5(t),a=Object.assign({},r,o);ST(a),e.dataset.swal2Theme=a.theme,rT(this,a),Tt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const o5=t=>{const e={};return Object.keys(t).forEach(n=>{TT(n)?e[n]=t[n]:Kn(`Invalid parameter to update: ${n}`)}),e};function kT(){const t=Tt.domCache.get(this),e=Tt.innerParams.get(this);if(!e){RT(this);return}t.popup&&ke.swalCloseEventFinishedCallback&&(ke.swalCloseEventFinishedCallback(),delete ke.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ke.eventEmitter.emit("didDestroy"),a5(this)}const a5=t=>{RT(t),delete t.params,delete ke.keydownHandler,delete ke.keydownTarget,delete ke.currentInstance},RT=t=>{t.isAwaitingPromise?(Vm(Tt,t),t.isAwaitingPromise=!0):(Vm(Vl,t),Vm(Tt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Vm=(t,e)=>{for(const n in t)t[n].delete(e)};var l5=Object.freeze({__proto__:null,_destroy:kT,close:po,closeModal:po,closePopup:po,closeToast:po,disableButtons:wT,disableInput:_T,disableLoading:Wh,enableButtons:yT,enableInput:vT,getInput:pT,handleAwaitingPromise:Du,hideLoading:Wh,rejectPromise:uT,resetValidationMessage:bT,showValidationMessage:ET,update:xT});const c5=(t,e,n)=>{t.toast?u5(t,e,n):(h5(e),f5(e),p5(t,e,n))},u5=(t,e,n)=>{e.popup.onclick=()=>{t&&(d5(t)||t.timer||t.input)||n(nc.close)}},d5=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Gh=!1;const h5=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Gh=!0)}}},f5=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Gh=!0)}}},p5=(t,e,n)=>{e.container.onclick=r=>{if(Gh){Gh=!1;return}r.target===e.container&&Mf(t.allowOutsideClick)&&n(nc.backdrop)}},m5=t=>typeof t=="object"&&t.jquery,mE=t=>t instanceof Element||m5(t),g5=t=>{const e={};return typeof t[0]=="object"&&!mE(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const o=t[r];typeof o=="string"||mE(o)?e[n]=o:o!==void 0&&Da(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function y5(...t){return new this(...t)}function w5(t){class e extends this{_main(r,o){return super._main(r,Object.assign({},t,o))}}return e}const v5=()=>ke.timeout&&ke.timeout.getTimerLeft(),PT=()=>{if(ke.timeout)return kO(),ke.timeout.stop()},AT=()=>{if(ke.timeout){const t=ke.timeout.start();return Zy(t),t}},_5=()=>{const t=ke.timeout;return t&&(t.running?PT():AT())},E5=t=>{if(ke.timeout){const e=ke.timeout.increase(t);return Zy(e,!0),e}},b5=()=>!!(ke.timeout&&ke.timeout.isRunning());let gE=!1;const Tg={};function C5(t="data-swal-template"){Tg[t]=this,gE||(document.body.addEventListener("click",T5),gE=!0)}const T5=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Tg){const r=e.getAttribute(n);if(r){Tg[n].fire({template:r});return}}};class I5{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...o)=>{this.removeListener(e,r),n.apply(this,o)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ke.eventEmitter=new I5;const S5=(t,e)=>{ke.eventEmitter.on(t,e)},x5=(t,e)=>{ke.eventEmitter.once(t,e)},k5=(t,e)=>{if(!t){ke.eventEmitter.reset();return}e?ke.eventEmitter.removeListener(t,e):ke.eventEmitter.removeAllListeners(t)};var R5=Object.freeze({__proto__:null,argsToParams:g5,bindClickHandler:C5,clickCancel:gL,clickConfirm:sT,clickDeny:mL,enableLoading:Fl,fire:y5,getActions:Pu,getCancelButton:ec,getCloseButton:Qy,getConfirmButton:Bs,getContainer:Jn,getDenyButton:Oa,getFocusableElements:Jy,getFooter:WC,getHtmlContainer:Gy,getIcon:Zl,getIconContent:EO,getImage:qC,getInputLabel:bO,getLoader:tc,getPopup:ut,getProgressSteps:Ky,getTimerLeft:v5,getTimerProgressBar:Ff,getTitle:HC,getValidationMessage:Vf,increaseTimer:E5,isDeprecatedParameter:IT,isLoading:TO,isTimerRunning:b5,isUpdatableParameter:TT,isValidParameter:CT,isVisible:pL,mixin:w5,off:k5,on:S5,once:x5,resumeTimer:AT,showLoading:Fl,stopTimer:PT,toggleTimer:_5});class P5{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const NT=["swal-title","swal-html","swal-footer"],A5=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return F5(n),Object.assign(N5(n),D5(n),O5(n),L5(n),j5(n),M5(n),V5(n,NT))},N5=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{_a(r,["name","value"]);const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(typeof Rl[o]=="boolean"?e[o]=a!=="false":typeof Rl[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},D5=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},O5=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{_a(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${Hy(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},L5=t=>{const e={},n=t.querySelector("swal-image");return n&&(_a(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},j5=t=>{const e={},n=t.querySelector("swal-icon");return n&&(_a(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},M5=t=>{const e={},n=t.querySelector("swal-input");n&&(_a(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{_a(o,["value"]);const a=o.getAttribute("value");if(!a)return;const u=o.innerHTML;e.inputOptions[a]=u})),e},V5=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(_a(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},F5=t=>{const e=NT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Kn(`Unrecognized element <${r}>`)})},_a=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Kn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},DT=10,$5=t=>{const e=Jn(),n=ut();typeof t.willOpen=="function"&&t.willOpen(n),ke.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;z5(e,n,t),setTimeout(()=>{U5(e,n)},DT),Yy()&&(B5(e,t.scrollbarPadding,o),TL()),!$f()&&!ke.previousActiveElement&&(ke.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ke.eventEmitter.emit("didOpen",n),Wr(e,ee["no-transition"])},Kh=t=>{const e=ut();if(t.target!==e)return;const n=Jn();e.removeEventListener("animationend",Kh),e.removeEventListener("transitionend",Kh),n.style.overflowY="auto"},U5=(t,e)=>{QC(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Kh),e.addEventListener("transitionend",Kh)):t.style.overflowY="auto"},B5=(t,e,n)=>{IL(),e&&n!=="hidden"&&NL(n),setTimeout(()=>{t.scrollTop=0})},z5=(t,e,n)=>{ht(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),wn(e,"grid"),setTimeout(()=>{ht(e,n.showClass.popup),e.style.removeProperty("opacity")},DT)):wn(e,"grid"),ht([document.documentElement,document.body],ee.shown),n.heightAuto&&n.backdrop&&!n.toast&&ht([document.documentElement,document.body],ee["height-auto"])};var yE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function H5(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=yE.email),t.input==="url"&&(t.inputValidator=yE.url))}function q5(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Kn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function W5(t){H5(t),t.showLoaderOnConfirm&&!t.preConfirm&&Kn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),q5(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),jO(t)}let Ns;var Qd=new WeakMap;class Qt{constructor(...e){if(fO(this,Qd,void 0),typeof window>"u")return;Ns=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,pO(Qd,this,this._main(Ns.params))}_main(e,n={}){if(ST(Object.assign({},n,e)),ke.currentInstance){const a=Vl.swalPromiseResolve.get(ke.currentInstance),{isAwaitingPromise:u}=ke.currentInstance;ke.currentInstance._destroy(),u||a({isDismissed:!0}),Yy()&&aT()}ke.currentInstance=Ns;const r=K5(e,n);W5(r),Object.freeze(r),ke.timeout&&(ke.timeout.stop(),delete ke.timeout),clearTimeout(ke.restoreFocusTimeout);const o=Q5(Ns);return rT(Ns,r),Tt.innerParams.set(Ns,r),G5(Ns,o,r)}then(e){return aE(Qd,this).then(e)}finally(e){return aE(Qd,this).finally(e)}}const G5=(t,e,n)=>new Promise((r,o)=>{const a=u=>{t.close({isDismissed:!0,dismiss:u})};Vl.swalPromiseResolve.set(t,r),Vl.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{QL(t)},e.denyButton.onclick=()=>{JL(t)},e.cancelButton.onclick=()=>{YL(t,a)},e.closeButton.onclick=()=>{a(nc.close)},c5(n,e,a),yL(ke,n,a),$L(t,n),$5(n),J5(ke,n,a),Y5(e,n),setTimeout(()=>{e.container.scrollTop=0})}),K5=(t,e)=>{const n=A5(t),r=Object.assign({},Rl,e,n,t);return r.showClass=Object.assign({},Rl.showClass,r.showClass),r.hideClass=Object.assign({},Rl.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},Q5=t=>{const e={popup:ut(),container:Jn(),actions:Pu(),confirmButton:Bs(),denyButton:Oa(),cancelButton:ec(),loader:tc(),closeButton:Qy(),validationMessage:Vf(),progressSteps:Ky()};return Tt.domCache.set(t,e),e},J5=(t,e,n)=>{const r=Ff();Fn(r),e.timer&&(t.timeout=new P5(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(wn(r),Ir(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Zy(e.timer)})))},Y5=(t,e)=>{if(!e.toast){if(!Mf(e.allowEnterKey)){zC("allowEnterKey"),ej();return}X5(t)||Z5(t,e)||Cg(-1,1)}},X5=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&dr(n))return n.focus(),!0;return!1},Z5=(t,e)=>e.focusDeny&&dr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&dr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&dr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,ej=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Qt.prototype.disableButtons=wT;Qt.prototype.enableButtons=yT;Qt.prototype.getInput=pT;Qt.prototype.disableInput=_T;Qt.prototype.enableInput=vT;Qt.prototype.hideLoading=Wh;Qt.prototype.disableLoading=Wh;Qt.prototype.showValidationMessage=ET;Qt.prototype.resetValidationMessage=bT;Qt.prototype.close=po;Qt.prototype.closePopup=po;Qt.prototype.closeModal=po;Qt.prototype.closeToast=po;Qt.prototype.rejectPromise=uT;Qt.prototype.update=xT;Qt.prototype._destroy=kT;Object.assign(Qt,R5);Object.keys(l5).forEach(t=>{Qt[t]=function(...e){return Ns&&Ns[t]?Ns[t](...e):null}});Qt.DismissReason=nc;Qt.version="11.23.0";const et=Qt;et.default=et;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Ea="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",Vt="/Fantasy-Casadillos/SinPerfil.jpg",tj="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",nj="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",rj="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",sj="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",Vc=Kr(xn),wE=Qn(xn),ij=new Os,oj=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),[o,a]=T.useState(tj),u=Fy();T.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async v=>{v.preventDefault();const b=new FormData(v.currentTarget),C=b.get("email"),A=b.get("password");if(n)try{const{user:j}=await cR(Vc,C,A),V=b.get("nick");await jb(Vc.currentUser,{displayName:V});const O={nick:V,correo:C,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await tE(it(wE,"usuarios",j.uid),O,{merge:!0})}catch(j){console.error("Error registrando usuario:",j);let V="No se pudo crear la cuenta. Revisa los datos.";j.code==="auth/email-already-in-use"?V="Ya existe una cuenta con este correo.":j.code==="auth/weak-password"?V="La contraseña debe tener al menos 6 caracteres.":j.code==="auth/invalid-email"?V="El correo electrónico no es válido.":V=`Error desconocido: ${j.code}`,et.fire({icon:"error",title:"Error",text:V})}else try{await uR(Vc,C,A),console.log("Inicio de sesión exitoso"),u("/home")}catch(j){console.error("Error iniciando sesión:",j);let V="Error al iniciar sesión.";(j.code==="auth/invalid-credential"||j.code==="auth/wrong-password"||j.code==="auth/user-not-found")&&(V="Correo o contraseña incorrectos."),et.fire({icon:"error",title:"Error al iniciar sesión",text:V})}},f=async()=>{const{value:v}=await et.fire({title:"Recuperar contraseña",input:"email",inputLabel:"Introduce tu correo electrónico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:b=>{if(!b)return"El correo es obligatorio"}});if(v)try{await Lb(Vc,v),et.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(b){et.fire("Error",b.message,"error")}},m=async()=>{try{const v=await MR(Vc,ij);if(!v?.user)throw new Error("No se obtuvo el usuario de Google.");const b=v.user,C=it(wE,"usuarios",b.uid);(await jn(C)).exists()||await tE(C,{nick:b.displayName||"",correo:b.email,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(v){if(v.code==="auth/popup-closed-by-user"||v.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",v),et.fire({icon:"error",title:"Error",text:v.message||"No se pudo iniciar sesión con Google"})}};return w.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${Ea})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),w.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[w.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),w.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:w.jsx("label",{style:{cursor:"default",display:"inline-block"},children:w.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),w.jsxs("form",{onSubmit:h,children:[w.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&w.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),w.jsxs("div",{className:"cajaContainerContraseña",children:[w.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contraseña",className:"cajacontraseña",required:!0}),w.jsx("img",{src:t?rj:sj,alt:"Mostrar contraseña",className:"toggle-password-icon",onClick:()=>e(v=>!v)})]}),!n&&w.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:w.jsx("button",{type:"button",onClick:f,className:"link-style",children:"¿Has olvidado la contraseña?"})}),n?w.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):w.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[w.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesión"}),w.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),w.jsxs("button",{type:"button",onClick:m,className:"btn-google",style:{width:"auto"},children:[w.jsx("img",{src:nj,alt:"Google"}),"Google"]})]})]}),w.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",w.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesión":"Regístrate"})]})]})]})},Ig={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firebasestorage.googleapis.com",aj="storageBucket",lj=120*1e3,cj=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Hs{constructor(e,n,r=0){super(Fm(e),`Firebase Storage: ${n} (${Fm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zs||(zs={}));function Fm(t){return"storage/"+t}function uj(){const t="An unknown error occurred, please check the error payload for server response.";return new qs(zs.UNKNOWN,t)}function dj(){return new qs(zs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hj(){return new qs(zs.CANCELED,"User canceled the upload/download.")}function fj(t){return new qs(zs.INVALID_URL,"Invalid URL '"+t+"'.")}function pj(t){return new qs(zs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function vE(t){return new qs(zs.INVALID_ARGUMENT,t)}function LT(){return new qs(zs.APP_DELETED,"The Firebase app was deleted.")}function mj(t){return new qs(zs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cs.makeFromUrl(e,n)}catch{return new cs(e,"")}if(r.path==="")return r;throw pj(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function m(Z){Z.path_=decodeURIComponent(Z.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",A=new RegExp(`^https?://${b}/${v}/b/${o}/o${C}`,"i"),j={bucket:1,path:3},V=n===OT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",B=new RegExp(`^https?://${V}/${o}/${O}`,"i"),Q=[{regex:h,indices:f,postModify:a},{regex:A,indices:j,postModify:m},{regex:B,indices:{bucket:1,path:2},postModify:m}];for(let Z=0;Z<Q.length;Z++){const le=Q[Z],ne=le.regex.exec(e);if(ne){const k=ne[le.indices.bucket];let x=ne[le.indices.path];x||(x=""),r=new cs(k,x),le.postModify(r);break}}if(r==null)throw fj(e);return r}}class gj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e,n){let r=1,o=null,a=null,u=!1,h=0;function f(){return h===2}let m=!1;function v(...O){m||(m=!0,e.apply(null,O))}function b(O){o=setTimeout(()=>{o=null,t(A,f())},O)}function C(){a&&clearTimeout(a)}function A(O,...B){if(m){C();return}if(O){C(),v.call(null,O,...B);return}if(f()||u){C(),v.call(null,O,...B);return}r<64&&(r*=2);let Q;h===1?(h=2,Q=0):Q=(r+Math.random())*1e3,b(Q)}let j=!1;function V(O){j||(j=!0,C(),!m&&(o!==null?(O||(h=2),clearTimeout(o),b(0)):O||(h=1)))}return b(0),a=setTimeout(()=>{u=!0,V(!0)},n),V}function wj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){return t!==void 0}function _E(t,e,n,r){if(r<e)throw vE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw vE(`Invalid value for '${t}'. Expected ${n} or less.`)}function _j(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Qh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qh||(Qh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n,r,o,a,u,h,f,m,v,b,C=!0,A=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=b,this.retry=C,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,V)=>{this.resolve_=j,this.reject_=V,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Jd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===Qh.NO_ERROR,f=a.getStatus();if(!h||Ej(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Qh.ABORT;r(!1,new Jd(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Jd(m,a))})},n=(r,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());vj(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=uj();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(o.canceled){const f=this.appDelete_?LT():hj();u(f)}else{const f=dj();u(f)}};this.canceled_?n(!1,new Jd(!1,null,!0)):this.backoffId_=yj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Cj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Tj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ij(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Sj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xj(t,e,n,r,o,a,u=!0,h=!1){const f=_j(t.urlParams),m=t.url+f,v=Object.assign({},t.headers);return Ij(v,e),Cj(v,n),Tj(v,a),Sj(v,r),new bj(m,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Rj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this._service=e,n instanceof cs?this._location=n:this._location=cs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Jh(e,n)}get root(){const e=new cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Rj(this._location.path)}get storage(){return this._service}get parent(){const e=kj(this._location.path);if(e===null)return null;const n=new cs(this._location.bucket,e);return new Jh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mj(e)}}function EE(t,e){const n=e?.[aj];return n==null?null:cs.makeFromBucketSpec(n,t)}function Pj(t,e,n,r={}){t.host=`${e}:${n}`;const o=Ta(e);o&&(jg(`https://${t.host}/b`),Mg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:ib(a,t.app.options.projectId))}class Aj{constructor(e,n,r,o,a,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=OT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lj,this._maxUploadRetryTime=cj,this._requests=new Set,o!=null?this._bucket=cs.makeFromBucketSpec(o,this._host):this._bucket=EE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cs.makeFromBucketSpec(this._url,e):this._bucket=EE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jh(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new gj(LT());{const u=xj(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const bE="@firebase/storage",CE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="storage";function Ou(t=$g(),e){t=Pt(t);const r=sf(t,jT).getImmediate({identifier:e}),o=nb("storage");return o&&Nj(r,...o),r}function Nj(t,e,n,r={}){Pj(t,e,n,r)}function Dj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Aj(n,r,o,e,Ia)}function Oj(){fa(new _o(jT,Dj,"PUBLIC").setMultipleInstances(!0)),Ls(bE,CE,""),Ls(bE,CE,"esm2020")}Oj();function $l({usuario:t,openModal:e,setOpenModal:n}){const r=Kr(),o=Qn();Ou();const a=t?.fotoPerfil||Vt,[u,h]=T.useState(!1),[f,m]=T.useState(!1),[v,b]=T.useState(a),[C,A]=T.useState(null),[j,V]=T.useState(t.nick),[O,B]=T.useState(t.correo),[U,Q]=T.useState(""),[Z,le]=T.useState(!1),[ne,k]=T.useState(""),[x,P]=T.useState(""),S=T.useRef();T.useEffect(()=>{e&&(b(t.fotoPerfil),A(null),V(t.nick),B(t.correo),Q(""),k(t.nick),P(t.correo))},[e,t]),T.useEffect(()=>{const G=j!==ne||O!==x||U.length>0||C!==null;m(G)},[j,O,U,C,ne,x]);const L=async()=>{const G=r.currentUser?.email;if(!G){et.fire("Error","No se encontró un correo asociado al usuario","error");return}try{await Lb(r,G),await et.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(H){et.fire("Error",H.message,"error")}},$=G=>G.toLocaleString("es-ES")+"€",R=G=>{G.target===S.current&&n(!1)},Oe=G=>{const H=G.target.files[0];if(!H)return;A(H);const J=new FileReader;J.onloadend=()=>b(J.result),J.readAsDataURL(H)},Ce=async()=>{try{le(!0);const G=r.currentUser;let H=t.fotoPerfil;if(C){if(C.size>1*1024*1024){await et.fire({icon:"error",title:"Error",text:"La imagen es demasiado grande (máx. 1 MB)."});return}const D=new FormData;D.append("file",C),D.append("upload_preset","perfil_preset");const fe=await(await fetch("https://api.cloudinary.com/v1_1/drmoefeeq/image/upload",{method:"POST",body:D})).json();if(fe.secure_url)H=fe.secure_url;else{et.fire({icon:"error",title:"Error",text:"Error subiendo a Cloudinary"});return}}j!==t.nick&&await jb(G,{displayName:j}),U&&await hR(G,U);const J=it(o,"usuarios",G.uid);await Kt(J,{fotoPerfil:H,nick:j}),await et.fire("Datos actualizados","Se han guardado sus modificaciones correctamente.","success")}catch(G){console.error("Error guardando perfil:",G),alert("No se pudo guardar los cambios: "+G.message)}finally{le(!1),window.location.reload()}},Ue=async()=>{const G=r.currentUser;if(!G)throw new Error("No hay usuario autenticado.");const H=G.uid;if(G.providerData[0].providerId==="password"){const{value:ce}=await et.fire({title:"Confirma tu contraseña",input:"password",inputLabel:"Introduce tu contraseña para continuar",inputPlaceholder:"Tu contraseña",inputAttributes:{autocapitalize:"off",autocorrect:"off"},showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"});if(!ce)throw new Error("Se canceló la reautenticación");const fe=Sa.credential(G.email,ce);await lR(G,fe)}else if(G.providerData[0].providerId==="google.com"){const ce=new Os;await VR(G,ce)}else throw new Error("Proveedor no soportado para reautenticación.");const J=Pf(Hr(o,"jugadores"),Nf("dueños","array-contains",H)),z=(await hs(J)).docs.map(async ce=>{const fe=ce.ref;await Kt(fe,{stockLibre:va(1),dueños:Of(H)})});await Promise.all(z);const oe=it(o,"usuarios",H);await CC(oe),await yR(G)},Re=async()=>{if((await et.fire({title:"¿Estás seguro?",text:"Esta acción eliminará tu cuenta permanentemente. No podrás deshacerlo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, borrar cuenta",cancelButtonText:"Cancelar"})).isConfirmed)try{le(!0),await Ue(),await et.fire("Cuenta eliminada","Tu cuenta ha sido borrada exitosamente.","success")}catch(H){console.error("Error al borrar la cuenta:",H),et.fire("Error","No se pudo borrar la cuenta: "+H.message,"error")}finally{le(!1)}};return e?w.jsx("div",{className:"modal-overlay",ref:S,onClick:R,children:w.jsxs("div",{className:"modal-perfil",children:[w.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),w.jsxs("div",{className:"modal-header",children:[w.jsxs("label",{className:"modal-avatar",children:[w.jsx("img",{src:v,alt:"Perfil"}),w.jsx("input",{type:"file",accept:"image/*",onChange:Oe}),w.jsx("span",{className:"modal-avatar-overlay",children:"Editar"})]}),w.jsxs("div",{className:"modal-userinfo",children:[w.jsx("h2",{children:t.nick}),w.jsx("small",{children:t.correo}),w.jsxs("small",{children:["Dinero: ",w.jsx("span",{className:"dinero-verde",children:$(t.dinero)})]}),w.jsx("div",{className:"ultimas-jornadas",children:t.puntuaciones&&t.puntuaciones.length>0?t.puntuaciones.slice(-5).map((G,H,J)=>{const D=G??"-",z=J.length<5?H+1:t.puntuaciones.length-5+H+1;let oe="";return typeof G=="number"&&(G>=36?oe="verde":G<28?oe="rojo":oe="naranja"),w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",z]}),w.jsx("div",{className:`jornada-cuadro ${oe}`,children:D})]},H)}):[...Array(5)].map((G,H)=>w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",H+1]}),w.jsx("div",{className:"jornada-cuadro",children:"-"})]},H))})]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"modal-body",children:[w.jsxs("div",{className:"field-group",children:[w.jsxs("label",{children:["Nick ",w.jsx("small",{children:"(Recomendado máximo 12 caracteres)"})]}),w.jsxs("div",{className:"field-with-icon",children:[w.jsx("input",{type:"text",value:j,onChange:G=>V(G.target.value),disabled:!u}),w.jsx("button",{className:"icon-pencil",onClick:()=>h(!u),title:"Editar nick",children:"✎"})]})]}),w.jsx("div",{style:{textAlign:"left"},children:w.jsx("button",{type:"button",onClick:L,className:"link-style",children:"Cambiar contraseña"})})]}),w.jsxs("div",{className:"modal-footer",children:[f&&w.jsx("button",{className:"modal-save-btn",onClick:Ce,disabled:Z,children:Z?"Guardando…":"Guardar cambios"}),w.jsx("button",{className:"modal-delete-btn",onClick:Re,disabled:Z,children:"Borrar cuenta"})]})]})}):null}function Lj({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,user:o,edicionActiva:a}){Kr();const u=Qn();Ou();const h=t?.foto||Vt,[f,m]=T.useState(null),v=async()=>{if(!t||!o)return;if(!a){await et.fire({icon:"error",title:"Jornada Empezada",text:"No se puede vender con la jornada empezada.",confirmButtonText:"Ok"});return}const B=Math.round(t.precio*.6),U=it(u,"usuarios",o.uid),Q=it(u,"jugadores",t.id);try{await Kt(U,{dinero:va(B)}),await Kt(Q,{stockLibre:va(1),dueños:Of(o.uid)});const Z=await jn(U);if(Z.exists()){const le=Z.data(),ne=le.equipo.titulares.map(x=>x.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:x),k=le.equipo.banquillo.map(x=>x.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:x);await Kt(U,{"equipo.titulares":ne,"equipo.banquillo":k})}await MN(Hr(u,"historial"),{tipoVenta:"Venta directa",usuario:{uid:o.uid,nombre:o.nick||o.displayName},jugador:{id:t.id,nombre:t.nombre,precio:B},fecha:new Date}),await et.fire({icon:"success",title:"¡Jugador vendido!",html:`Has recibido <strong>${B.toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"}),window.location.reload()}catch(Z){console.error("Error en la venta:",Z),await et.fire({icon:"error",title:"Error",text:"No se pudo completar la venta.",confirmButtonText:"Ok"})}},b=()=>{const B=Math.round(t.precio*.6);et.fire({title:"¿Cómo quieres vender?",showDenyButton:!0,confirmButtonText:"💰 Poner en el Mercado",denyButtonText:`Venta Directa
(<span style="color:#2ecc71">+${B.toLocaleString("es-ES")}€</span>)`,confirmButtonColor:"#28a745",denyButtonColor:"#4878a4ff",background:"#1e1e1e",color:"#fff"}).then(U=>{U.isConfirmed?console.log("Venta en mercado"):U.isDenied&&(v(),console.log("Venta directa por",B))})},C=B=>{switch(B){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return B||"Sin posición"}},A=T.useRef();T.useEffect(()=>{(async()=>{if(!o)return;const U=it(u,"usuarios",o.uid),Q=await jn(U);if(Q.exists()){const Z=Q.data();m(Z.equipo?.capitan||null)}})()},[o,u,n]);const j=async B=>{try{const U=it(u,"usuarios",o.uid);await Kt(U,{"equipo.capitan":B}),m(B),await et.fire({icon:"success",title:"¡Capitán asignado!",text:`${t.nombre} ahora es tu capitán.`,confirmButtonColor:"#28a745"})}catch(U){console.error("Error al asignar capitán:",U),et.fire({icon:"error",title:"Error",text:"No se pudo asignar el capitán, inténtalo de nuevo."})}finally{window.location.reload()}},V=B=>{B.target===A.current&&r(!1)},O=B=>B.toLocaleString("es-ES")+"€";return n?w.jsx("div",{className:"modal-overlay",ref:A,onClick:V,children:w.jsxs("div",{className:"modal-perfil",children:[w.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),w.jsxs("div",{className:"modal-header",children:[w.jsx("label",{className:"modal-avatar",children:w.jsx("img",{src:h,alt:"Jugador"})}),w.jsxs("div",{className:"modal-jugadorinfo",children:[w.jsx("h2",{children:t.nombre}),w.jsxs("div",{className:"posicion-precio",children:[w.jsx("div",{className:`posicion-texto ${t.posicion}`,children:w.jsx("small",{children:C(t.posicion)})}),w.jsxs("div",{className:"precio-container",children:[w.jsx("div",{className:"precio",children:w.jsxs("small",{children:[w.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",O(t.precio)]})}),w.jsx("div",{className:"diferencia-precio",children:(()=>{const B=t.historialPrecios||[];if(B.length===0)return w.jsx("small",{children:"(±0€)"});const U=B[B.length-1].precio||0,Q=t.precio-U,Z=Q>0?"+":Q<0?"-":"±";return w.jsxs("small",{className:Q>0?"subida":Q<0?"bajada":"igual",children:["(",Z,O(Math.abs(Q)),")"]})})()})]}),w.jsx("div",{className:"precio-clausula",children:w.jsxs("small",{children:[w.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",O(e)]})})]}),w.jsx("div",{className:"estadisticas-extra",children:w.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((B,U,Q)=>{const Z=B??"-",le=Q.length<5?U+1:t.puntosPorJornada.length-5+U+1;let ne="";return typeof B=="number"&&(B>=9?ne="verde":B<7?ne="rojo":ne="naranja"),w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",le]}),w.jsx("div",{className:`jornada-cuadro ${ne}`,children:Z})]},U)}):[...Array(5)].map((B,U)=>w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",U+1]}),w.jsx("div",{className:"jornada-cuadro",children:"-"})]},U))})})]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"modal-jugadorbody",children:[w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.valoracion}),w.jsx("small",{children:"Valoración"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.nota}),w.jsx("small",{children:"Nota Media"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.puntosTotales}),w.jsx("small",{children:"Puntos"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.partidos}),w.jsx("small",{children:"Partidos"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.goles}),w.jsx("small",{children:"Goles"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.asistencias}),w.jsx("small",{children:"Asistencias"})]})]}),w.jsx("hr",{}),w.jsx("div",{className:"modal-footer",children:a?w.jsxs(w.Fragment,{children:[w.jsx("button",{className:"btn-accion",onClick:()=>b(),children:"Vender"}),w.jsx("button",{className:"btn-capitan",disabled:f===t.id,onClick:()=>j(t.id),children:f===t.id?"Ya es capitán":"Nombrar capitán"})]}):w.jsx("button",{className:"btn-accion",disabled:!0,children:"🔒 Jornada empezada"})})]})}):null}const co=Qn(xn),jj=async()=>{try{const t=it(co,"mercado","actual"),e=await jn(t);if(e.exists()){const f=e.data();for(const m of f.jugadores)if(m.stock>0){const v=it(co,"jugadores",m.idJugador);await Kt(v,{stockLibre:va(m.stock),dueños:Of("mercado")})}}const o=(await hs(Hr(co,"jugadores"))).docs.map(f=>({idJugador:f.id,...f.data()})).filter(f=>f.stockLibre>0).sort(()=>.5-Math.random()).slice(0,15);for(const f of o){const m=it(co,"jugadores",f.idJugador);await Kt(m,{stockLibre:va(-1),dueños:IC("mercado")})}await Kt(t,{jugadores:o.map(f=>({idJugador:f.idJugador,nombre:f.nombre,precio:f.precio,precioClausula:f.precioClausula,goles:f.goles,asistencias:f.asistencias,valoracion:f.valoracion,nota:f.nota,puntos:f.puntosTotales,partidos:f.partidos,foto:f.foto,posicion:f.posicion,vendedor:"Fantasy Casadillos",stock:1,historialPrecios:f.historialPrecios||[],puntosPorJornada:f.puntosPorJornada||[]})),ultimaActualizacion:FN()});const a=Hr(co,"mercado/actual/usuarios"),h=(await hs(a)).docs.map(f=>({idVenta:f.id,...f.data(),vendedor:f.data().vendedorNick||"Usuario"}));return[...o,...h]}catch(t){throw console.error("Error al refrescar mercado:",t),t}},Mj=async()=>{try{const t=it(co,"mercado","actual"),e=await jn(t);if(!e.exists())return;const n=e.data();for(const a of n.jugadores||[])if(a.vendedor==="Fantasy Casadillos"){const u=it(co,"jugadores",a.idJugador);await Kt(u,{stockLibre:va(a.stock||1),dueños:Of("mercado")})}const r=Hr(co,"mercado/actual/usuarios"),o=await hs(r);for(const a of o.docs)await CC(a.ref);return await Kt(t,{jugadores:[],ultimaActualizacion:null}),!0}catch(t){throw console.error("Error al resetear mercado:",t),t}};function uu({user:t,openModal:e,setOpenModal:n}){Kr();const r=Qn();Ou();const o=T.useRef(),[a,u]=T.useState(!1),[h,f]=T.useState(!1),m=v=>{v.target===o.current&&n(!1)};return e?w.jsx("div",{className:"modal-overlay",ref:o,onClick:m,children:w.jsxs("div",{className:"modal-perfil",children:[w.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),w.jsxs("div",{className:"modal-footer-grid",children:[w.jsx("button",{type:"button",className:"modal-admin-btn",disabled:a,onClick:async()=>{u(!0);try{await jj(),(await et.fire({title:"Mercado actualizado",text:"Se ha refrescado el mercado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch(v){console.error(v),await et.fire({title:"Error",text:"No se pudo actualizar el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{u(!1)}},children:a?"⏳ Cargando...":"🔄 Actualizar mercado"}),w.jsx("button",{type:"button",className:"modal-admin-btn",disabled:h,onClick:async()=>{f(!0);try{await Mj(),(await et.fire({title:"Éxito",text:"El mercado se ha reseteado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch{await et.fire({title:"Error",text:"No se pudo resetear el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{f(!1)}},children:h?"⏳ Reseteando...":"♻️ Resetear mercado"}),w.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=it(r,"admin","controles");await Kt(v,{edicionActiva:!1}),await et.fire({title:"Jornada iniciada",text:"Se han bloqueado los cambios de formaciones y mercado",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al empezar jornada:",v),await et.fire({title:"Error",text:"No se pudo empezar la jornada",icon:"error",confirmButtonText:"Aceptar"})}},children:"⏱️ Empezar jornada"}),w.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=it(r,"admin","controles");await Kt(v,{edicionActiva:!0}),await et.fire({title:"Jornada finalizada",text:"Se han repartido los puntos y desbloqueado la edición",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al finalizar la jornada:",v),await et.fire({title:"Error",text:"No se pudo acabar la jornada",icon:"error",confirmButtonText:"Aceptar"})}},children:"📊 Repartir puntos"})]})]})}):null}const no=Qn(xn),TE=Kr(xn),Vj={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function IE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=Vj[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function Fj({usuario:t}){const[e,n]=T.useState(!1),[r,o]=T.useState(null),[a,u]=T.useState(!1),h=t?.fotoPerfil||Vt,f=t?.equipo?.titulares||[],m=t?.equipo?.banquillo||[],[v,b]=T.useState(f),[C,A]=T.useState(m),[j,V]=T.useState([]),[O,B]=T.useState(null),U=t?.equipo?.capitan||"",Q=Object.keys(Ig),[Z,le]=T.useState(t?.equipo?.formacion||"2-1-1"),[ne,k]=T.useState(Z),[x,P]=T.useState(!1),[S,L]=T.useState(!1),[$,R]=T.useState(t?.equipocreado),[Oe,Ce]=T.useState(!1),[Ue,Re]=T.useState(!1),[G,H]=T.useState(!1),[J,D]=T.useState(!1),z=T.useRef(null),oe=()=>wu(TE),[ce,fe]=T.useState(!1),[Ee,Ve]=T.useState(null),[Me,Be]=T.useState(!1);T.useEffect(()=>{(async()=>{try{const ye=it(no,"admin","controles"),rt=await jn(ye);if(rt.exists()){const Pe=rt.data();Be(Pe.edicionActiva===!0)}}catch(ye){console.error("Error al obtener estado de edición:",ye)}})()},[]);const gt=()=>{fe(!ce),Ve(null)},Et=(Le,ye,rt)=>{if(ce)if(rt==="titulares"?[...v]:[...C],!Ee)Ve({jugadorId:Le,index:ye,tipo:rt});else{const{index:Pe,tipo:ze}=Ee,yt=ze==="titulares"?v[Pe]:C[Pe],qe=rt==="titulares"?v[ye]:C[ye];if(yt===null&&qe===null){Ve(null);return}if(ze==="titulares"&&rt==="titulares"){const Ye=[...v];[Ye[Pe],Ye[ye]]=[Ye[ye],Ye[Pe]],b(Ye)}else if(ze==="banquillo"&&rt==="banquillo"){const Ye=[...C];[Ye[Pe],Ye[ye]]=[Ye[ye],Ye[Pe]],A(Ye)}else{const Ye=[...v],Je=[...C];ze==="titulares"?[Ye[Pe],Je[ye]]=[Je[ye],Ye[Pe]]:[Je[Pe],Ye[ye]]=[Ye[ye],Je[Pe]],b(Ye),A(Je)}L(!0),Ve(null)}};T.useEffect(()=>{const Le=ye=>{z.current&&!z.current.contains(ye.target)&&D(!1)};return document.addEventListener("mousedown",Le),()=>{document.removeEventListener("mousedown",Le)}},[]);const It=Le=>{k(Le.target.value)},$n=async()=>{try{P(!0);const Le=it(no,"usuarios",t.uid);await Kt(Le,{"equipo.formacion":ne,"equipo.titulares":v,"equipo.banquillo":C}),le(ne),L(!1)}catch(Le){console.error("Error al guardar formación:",Le)}finally{P(!1),fe(!1)}},Un=()=>{u(!a)},hr=Le=>Le.toLocaleString("es-ES")+"€",Qr=async()=>{try{P(!0);const Le=await hs(Hr(no,"jugadores"));let ye=[];if(Le.forEach(Je=>{const Xe=Je.data();Xe.stockLibre>0&&ye.push({id:Je.id,...Xe})}),ye.length<4){await et.fire({icon:"warning",title:"No hay suficientes jugadores disponibles",text:"Se necesitan al menos 4 jugadores con stock para crear un equipo.",confirmButtonText:"Entendido"}),P(!1);return}const rt=ye.filter(Je=>Je.precio>15e6&&Je.precio<=4e7),Pe=ye.filter(Je=>Je.precio<=15e6);let ze=[],yt=0;if(rt.length>=1&&Pe.length>=3){const Je=Math.floor(Math.random()*rt.length);ze.push(rt[Je]);for(let Xe=0;Xe<3;Xe++){const wt=Math.floor(Math.random()*Pe.length);ze.push(Pe[wt]),Pe.splice(wt,1)}}else{const Je=ye.filter(Xe=>Xe.precio<=4e7);if(Je.length<4){await et.fire({icon:"error",title:"No hay jugadores válidos",text:"No hay suficiente stock para crear un equipo bajo las condiciones establecidas.",confirmButtonText:"Ok"}),P(!1);return}for(let Xe=0;Xe<4;Xe++){const wt=Math.floor(Math.random()*Je.length);ze.push(Je[wt]),Je.splice(wt,1)}ze.every(Xe=>Xe.precio<15e6)&&(yt=1e7)}const qe=ze.map(async Je=>{const Xe=it(no,"jugadores",Je.id);return Kt(Xe,{stockLibre:Je.stockLibre-1,dueños:IC(t.uid)})});await Promise.all(qe);const Ye=it(no,"usuarios",t.uid);await Kt(Ye,{"equipo.titulares":ze.map(Je=>({jugadorId:Je.id,clausulaPersonal:Je.clausulaInicial??Je.precio})),"equipo.banquillo":[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],equipocreado:!0,...yt>0&&{dinero:increment(yt)}}),R(!0)}catch(Le){console.error("Error al crear equipo:",Le),await et.fire({icon:"error",title:"Error al crear el equipo",text:"Inténtalo de nuevo más tarde."})}finally{P(!1),window.location.reload()}};return T.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const ye=setTimeout(async()=>{try{const rt=it(no,"usuarios",TE.currentUser.uid);await Kt(rt,{onboarding:!0}),window.location.reload()}catch(rt){console.error("Error actualizando onboarding:",rt)}},500);return()=>clearTimeout(ye)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const ye=it(no,"usuarios",t.uid);jn(ye).then(rt=>{rt.exists()&&o(rt.data().dinero)})}(async()=>{const ye=[...f?.map(qe=>qe?.jugadorId)||[],...m?.map(qe=>qe?.jugadorId)||[]].filter(Boolean);if(ye.length===0)return;const rt=Hr(no,"jugadores"),Pe=[];for(let qe=0;qe<ye.length;qe+=10){const Ye=ye.slice(qe,qe+10),Je=Pf(rt,Nf("__name__","in",Ye));Pe.push(hs(Je))}const yt=(await Promise.all(Pe)).flatMap(qe=>qe.docs.map(Ye=>({id:Ye.id,...Ye.data()})));V(yt)})()},[t],[f,m]),$?w.jsxs("div",{children:[w.jsxs("header",{className:"Cabecera",children:[w.jsxs("div",{className:"container-profile",children:[w.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[w.jsx("img",{src:h,onError:Le=>{Le.currentTarget.onerror=null,Le.currentTarget.src=Vt},alt:"Foto de perfil",onClick:()=>D(!J),onMouseEnter:()=>D(!0)}),J&&w.jsxs("div",{className:"perfil-bocadillo",ref:z,onMouseLeave:()=>D(!1),children:[w.jsx("div",{className:"triangulo"}),w.jsx("button",{className:"btn-perfil",onClick:()=>{Ce(!0),D(!1)},children:"👤 Perfil"}),w.jsx("button",{className:"btn-logout",onClick:oe,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&w.jsx("button",{className:"btn-admin",onClick:()=>{H(!0),D(!1)},children:"⚙️ Admin"})]})]}),w.jsxs("div",{className:"info-profile",children:[w.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&w.jsxs("p",{className:"dinero-usuario",children:["💰",w.jsx("strong",{children:hr(r)})]})]})]}),w.jsx("button",{onClick:Un,className:"Cabecera-button",children:w.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:w.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),w.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:w.jsxs("ul",{className:"Cabecera-ul",children:[w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),w.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Oe&&w.jsx($l,{usuario:t,openModal:Oe,setOpenModal:Ce}),G&&w.jsx(uu,{usuario:t,openModal:G,setOpenModal:H}),Ue&&O&&w.jsx(Lj,{jugador:O,clausulaPersonal:t?.equipo?.titulares?.find(Le=>Le.jugadorId===O.id)?.clausulaPersonal??t?.equipo?.banquillo?.find(Le=>Le.jugadorId===O.id)?.clausulaPersonal,openModal:Ue,setOpenModal:Re,user:t,edicionActiva:Me}),w.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[w.jsxs("div",{className:"formacion-selector",children:[w.jsx("label",{htmlFor:"formacion-select",children:"Formación:"}),w.jsx("select",{id:"formacion-select",value:ne,onChange:It,disabled:!Me,children:Q.map(Le=>w.jsx("option",{value:Le,children:Le},Le))}),(ne!==Z||S)&&w.jsx("button",{onClick:$n,disabled:x,children:x?"Guardando...":"Guardar"})]}),w.jsx("div",{className:"modo-edicion-buttons",children:w.jsx("button",{onClick:gt,disabled:!Me,children:Me?ce?"Desactivar modo edición":"Activar modo edición":"🔒 Jornada Empezada"})}),w.jsx("div",{className:"campo",children:Ig[ne]?.map((Le,ye)=>{const rt=v[ye],Pe=rt?.jugadorId||null;rt?.clausulaPersonal;const ze=j.find(qe=>qe.id===Pe),yt=Ee?.index===ye&&Ee?.tipo==="titulares";return w.jsxs("div",{className:`jugador ${ce?"modo-edicion":""} ${yt?"seleccionado":""}`,style:{position:"absolute",top:Le.top,left:Le.left,transform:"translate(-50%, -50%)"},onClick:()=>{ce?Et(ze?.id||null,ye,"titulares"):ze&&(Re(!0),B(ze))},children:[w.jsxs("div",{className:"jugador-wrapper",children:[w.jsx("img",{src:ze?.foto||Vt,alt:ze?.nombre||"Vacío",className:"jugador-img",style:IE(ze,ye,ne).style}),(()=>{const{status:qe}=IE(ze,ye,ne);if(!qe)return null;if(qe==="green")return w.jsx("div",{className:"status-badge green",children:"✓"});if(qe==="orange")return w.jsx("div",{className:"status-badge orange",children:"!"});if(qe==="red")return w.jsx("div",{className:"status-badge red",children:"✕"})})(),U===ze?.id&&w.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!ze?.puntosPorJornada?.length)return w.jsx("div",{className:"puntos-badge gray",children:"-"});const qe=ze.puntosPorJornada[ze.puntosPorJornada.length-1];if(qe==null)return null;let Ye=qe==="-"?"gray":qe<7?"red":qe<9?"orange":"green";return w.jsx("div",{className:`puntos-badge ${Ye}`,children:qe})})()]}),w.jsx("p",{className:"jugador-nombre",children:ze?.nombre||"Vacío"})]},ze?.id||ye)})}),w.jsxs("div",{className:"banquillo-section",children:[w.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),w.jsx("div",{className:"banquillo-container",children:C.map((Le,ye)=>{const rt=Le?.jugadorId||null,Pe=j.find(yt=>yt.id===rt),ze=Ee?.index===ye&&Ee?.tipo==="banquillo";return w.jsx("div",{className:`banquillo-slot ${ce?"modo-edicion":""} ${ze?"seleccionado":""}`,onClick:()=>{ce?Et(Pe?.id||null,ye,"banquillo"):Pe&&(Re(!0),B(Pe))},children:Pe?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"jugador-wrapper",children:[w.jsx("img",{src:Pe?.foto||Vt,alt:Pe?.nombre||"Vacío",className:"jugador-img"}),U===Pe?.id&&w.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!Pe?.puntosPorJornada?.length)return w.jsx("div",{className:"puntos-badge gray",children:"-"});const yt=Pe.puntosPorJornada[Pe.puntosPorJornada.length-1];if(yt==null)return null;let qe=yt==="-"?"gray":yt<7?"red":yt<9?"orange":"green";return w.jsx("div",{className:`puntos-badge ${qe}`,children:yt})})()]}),w.jsx("p",{className:"jugador-nombre-banquillo",children:Pe?.nombre})]}):w.jsx(dt,{to:ce?"#":"/mercado",className:`banquillo-add ${ce?"disabled":""}`,onClick:yt=>{ce&&yt.preventDefault()},children:"+"})},Pe?.id||ye)})})]})]})]}),e&&w.jsx("div",{className:"onboarding-overlay",children:w.jsx("div",{className:"loader",children:"Cargando..."})})]}):w.jsxs("div",{children:[w.jsxs("header",{className:"Cabecera",children:[w.jsxs("div",{className:"container-profile",children:[w.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[w.jsx("img",{src:h,onError:Le=>{Le.currentTarget.onerror=null,Le.currentTarget.src=Vt},alt:"Foto de perfil",onClick:()=>D(!J),onMouseEnter:()=>D(!0)}),J&&w.jsxs("div",{className:"perfil-bocadillo",ref:z,onMouseLeave:()=>D(!1),children:[w.jsx("div",{className:"triangulo"}),w.jsx("button",{className:"btn-perfil",onClick:()=>{Ce(!0),D(!1)},children:"👤 Perfil"}),w.jsx("button",{className:"btn-logout",onClick:oe,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&w.jsx("button",{className:"btn-admin",onClick:()=>{H(!0),D(!1)},children:"⚙️ Admin"})]})]}),w.jsxs("div",{className:"info-profile",children:[w.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&w.jsxs("p",{className:"dinero-usuario",children:["💰",w.jsx("strong",{children:hr(r)})]})]})]}),w.jsx("button",{onClick:Un,className:"Cabecera-button",children:w.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:w.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),w.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:w.jsxs("ul",{className:"Cabecera-ul",children:[w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),w.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Oe&&w.jsx($l,{usuario:t,openModal:Oe,setOpenModal:Ce}),G&&w.jsx(uu,{usuario:t,openModal:G,setOpenModal:H}),w.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:w.jsx("div",{className:"campo",children:w.jsx("button",{className:"crear-equipo-btn",onClick:Qr,disabled:x,children:x?"Creando equipo...":"Crear equipo"})})})]}),e&&w.jsx("div",{className:"onboarding-overlay",children:w.jsx("div",{className:"loader",children:"Cargando..."})})]})}function $j({jugador:t,openModal:e,setOpenModal:n}){Kr(),Qn(),Ou();const r=t?.foto||Vt,o=f=>{switch(f){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return f||"Sin posición"}},a=T.useRef(),u=f=>{f.target===a.current&&n(!1)},h=f=>typeof f!="number"||isNaN(f)?"—":f.toLocaleString("es-ES")+"€";return e?(console.log("DEBUG jugador en modal:",t),w.jsx("div",{className:"modal-overlay",ref:a,onClick:u,children:w.jsxs("div",{className:"modal-perfil",children:[w.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),w.jsxs("div",{className:"modal-header",children:[w.jsx("label",{className:"modal-avatar",children:w.jsx("img",{src:r,alt:"Jugador"})}),w.jsxs("div",{className:"modal-jugadorinfo",children:[w.jsx("h2",{children:t.nombre}),w.jsxs("div",{className:"posicion-precio",children:[w.jsx("div",{className:`posicion-texto ${t.posicion}`,children:w.jsx("small",{children:o(t.posicion)})}),w.jsxs("div",{className:"precio-container",children:[w.jsx("div",{className:"precio",children:w.jsxs("small",{children:[w.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",h(t.precio)]})}),w.jsx("div",{className:"diferencia-precio",children:(()=>{const f=t.historialPrecios||[];if(f.length===0)return w.jsx("small",{children:"(±0€)"});const m=f[f.length-1].precio||0,v=t.precio-m,b=v>0?"+":v<0?"-":"±";return w.jsxs("small",{className:v>0?"subida":v<0?"bajada":"igual",children:["(",b,h(Math.abs(v)),")"]})})()})]}),w.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",w.jsx("span",{className:"vendedor",children:t?.vendedor})]})]}),w.jsx("div",{className:"estadisticas-extra",children:w.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((f,m,v)=>{const b=f??"-",C=v.length<5?m+1:t.puntosPorJornada.length-5+m+1;let A="";return typeof f=="number"&&(f>=9?A="verde":f<7?A="rojo":A="naranja"),w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",C]}),w.jsx("div",{className:`jornada-cuadro ${A}`,children:b})]},m)}):[...Array(5)].map((f,m)=>w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",m+1]}),w.jsx("div",{className:"jornada-cuadro",children:"-"})]},m))})})]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"modal-jugadorbody",children:[w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.valoracion}),w.jsx("small",{children:"Valoración"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.nota}),w.jsx("small",{children:"Nota Media"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.puntosTotales}),w.jsx("small",{children:"Puntos"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.partidos}),w.jsx("small",{children:"Partidos"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.goles}),w.jsx("small",{children:"Goles"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.asistencias}),w.jsx("small",{children:"Asistencias"})]})]})]})})):null}const di=Qn(xn),$m=Kr(xn);function Uj({usuario:t}){const[e,n]=T.useState(!1),[r,o]=T.useState(null),[a,u]=T.useState(!1),h=t?.fotoPerfil||Vt,f=t?.equipo?.titulares||[],[m,v]=T.useState(!1);t?.equipo?.banquillo;const[b,C]=T.useState([]),[A,j]=T.useState([]),[V,O]=T.useState(!1),[B,U]=T.useState(!1),[Q,Z]=T.useState(!1),[le,ne]=T.useState(!1),[k,x]=T.useState(null),[P,S]=T.useState(!1),L=T.useRef(null),[$,R]=T.useState("mercado"),Oe=()=>wu($m);T.useEffect(()=>{const H=J=>{L.current&&!L.current.contains(J.target)&&S(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]),T.useEffect(()=>{(async()=>{const J=it(di,"mercado","actual"),D=await jn(J);if(D.exists()){const oe=(D.data().jugadores||[]).map(ce=>({...ce,vendedor:ce.vendedor||"Fantasy Casadillos"}));C(oe)}else C([])})()},[]),T.useEffect(()=>{(async()=>{const J=it(di,"mercado","actual"),D=await jn(J);let z=[];D.exists()&&(z=D.data().jugadores||[]);const oe=Hr(di,"mercado/actual/usuarios"),fe=(await hs(oe)).docs.map(Ee=>({idVenta:Ee.id,...Ee.data(),vendedor:Ee.data().vendedorNick||"Usuario"}));C([...z,...fe])})()},[]),T.useEffect(()=>{(async()=>{if(!f||f.length===0)return;const J=Hr(di,"jugadores"),D=Pf(J,Nf("__name__","in",f)),oe=(await hs(D)).docs.map(ce=>({id:ce.id,...ce.data()}));j(oe)})()},[f]),T.useEffect(()=>{const H=Qn(xn),J=it(H,"mercado","actual"),D=VN(J,z=>{if(z.exists()){const ce=(z.data().jugadores||[]).map(fe=>({...fe,vendedor:fe.vendedor||"Fantasy Casadillos"}));C(ce)}else C([])});return()=>D()},[]);const Ce=async H=>{if(H.stock<=0){alert("Ya no queda stock de este jugador");return}const J=it(di,"mercado","actual"),D=await jn(J);if(!D.exists())return;const oe=D.data().jugadores.map(fe=>fe.idJugador===H.idJugador?{...fe,stock:fe.stock-1}:fe);await Kt(J,{jugadores:oe}),await Kt(it(di,"jugadores",H.idJugador),{stockTotal:va(-1)});const ce=it(di,"usuarios",$m.currentUser.uid);await Kt(ce,{"equipo.banquillo":[...t.equipo?.banquillo||[],H.idJugador]}),C(oe),alert(`Has comprado a ${H.nombre}`)},Ue=()=>{u(!a)},Re=H=>{switch(H){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return H||"Sin posición"}},G=H=>typeof H!="number"||isNaN(H)?"—":H.toLocaleString("es-ES")+"€";return T.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const H=setTimeout(async()=>{try{const J=it(di,"usuarios",$m.currentUser.uid);await Kt(J,{onboarding:!0}),window.location.reload()}catch(J){console.error("Error actualizando onboarding:",J)}},500);return()=>clearTimeout(H)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const H=it(di,"usuarios",t.uid);jn(H).then(J=>{J.exists()&&o(J.data().dinero)})}},[t],[f]),w.jsxs("div",{children:[w.jsxs("header",{className:"Cabecera",children:[w.jsxs("div",{className:"container-profile",children:[w.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[w.jsx("img",{src:h,onError:H=>{H.currentTarget.onerror=null,H.currentTarget.src=Vt},alt:"Foto de perfil",onClick:()=>S(!P),onMouseEnter:()=>S(!0)}),P&&w.jsxs("div",{className:"perfil-bocadillo",ref:L,onMouseLeave:()=>S(!1),children:[w.jsx("div",{className:"triangulo"}),w.jsx("button",{className:"btn-perfil",onClick:()=>{U(!0),S(!1)},children:"👤 Perfil"}),w.jsx("button",{className:"btn-logout",onClick:Oe,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&w.jsx("button",{className:"btn-admin",onClick:()=>{ne(!0),S(!1)},children:"⚙️ Admin"})]})]}),w.jsxs("div",{className:"info-profile",children:[w.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&w.jsxs("p",{className:"dinero-usuario",children:["💰",w.jsx("strong",{children:G(r)})]})]})]}),w.jsx("button",{onClick:Ue,className:"Cabecera-button",children:w.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:w.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),w.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:w.jsxs("ul",{className:"Cabecera-ul",children:[w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),w.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),B&&w.jsx($l,{usuario:t,openModal:B,setOpenModal:U}),le&&w.jsx(uu,{usuario:t,openModal:le,setOpenModal:ne}),Q&&k&&w.jsx($j,{jugador:k,openModal:Q,setOpenModal:Z}),w.jsxs("div",{className:"tabs-wrapper",children:[w.jsxs("div",{className:"tabs-container",style:{},children:[w.jsx("button",{className:`tab-btn ${$==="mercado"?"active":""}`,onClick:()=>R("mercado"),children:"Mercado"}),w.jsx("button",{className:`tab-btn ${$==="operaciones"?"active":""}`,onClick:()=>R("operaciones"),children:"Mis operaciones"})]}),$==="mercado"&&w.jsx("div",{className:"mercado-jugadores",children:b.length===0?w.jsx("div",{className:"sin-mercado",children:w.jsx("p",{children:"No hay mercado disponible"})}):w.jsx("ul",{className:"lista-jugadores",children:b.map(H=>w.jsx("li",{className:"jugador-card",onClick:()=>{x(H),Z(!0)},children:w.jsxs("div",{className:"jugador-perfil",children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("label",{className:"modal-avatar",children:w.jsx("img",{src:H.foto||Vt,alt:H.nombre,onError:J=>{J.currentTarget.onerror=null,J.currentTarget.src=Vt}})}),w.jsxs("div",{className:"modal-jugadorinfo",children:[w.jsx("h2",{children:(window.innerWidth<450,H.nombre)}),w.jsxs("div",{className:"posicion-precio",children:[w.jsx("div",{className:`posicion-texto ${H.posicion}`,children:w.jsx("small",{children:Re(H.posicion)})}),w.jsxs("div",{className:"precio-container",children:[w.jsx("div",{className:"precio",children:w.jsxs("small",{children:[w.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",G(H.precio)]})}),w.jsx("div",{className:"diferencia-precio",children:(()=>{const J=H.historialPrecios||[];if(J.length===0)return w.jsx("small",{children:"(±0€)"});const D=J[J.length-1].precio||0,z=H.precio-D,oe=z>0?"+":z<0?"-":"±";return w.jsxs("small",{className:z>0?"subida":z<0?"bajada":"igual",children:["(",oe,G(Math.abs(z)),")"]})})()})]}),w.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",w.jsx("span",{className:"vendedor",children:H.vendedor})]})]}),w.jsx("div",{className:"estadisticas-extra",children:w.jsx("div",{className:"ultimas-jornadas",children:H.puntosPorJornada&&H.puntosPorJornada.length>0?H.puntosPorJornada.slice(-5).map((J,D)=>{const z=J??"-",ce=H.puntosPorJornada.length-5+D+1;let fe="";return typeof J=="number"&&(J>=9?fe="verde":J<7&&(fe="rojo")),w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",ce]}),w.jsx("div",{className:`jornada-cuadro ${fe}`,children:z})]},D)}):[...Array(5)].map((J,D)=>w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",D+1]}),w.jsx("div",{className:"jornada-cuadro",children:"-"})]},D))})})]})]}),w.jsx("hr",{}),w.jsx("div",{className:"modal-footer",children:w.jsx("button",{className:"btn-comprar",disabled:H.stock<=0,onClick:J=>{J.stopPropagation(),Ce(H)},children:"Pujar por el jugador"})})]})},H.idJugador))})}),$==="operaciones"&&w.jsx("div",{className:"operaciones-container",children:w.jsxs("div",{className:"operaciones-animacion",children:[w.jsx("h2",{children:"Mis operaciones pendientes"}),t?.operaciones&&t.operaciones.length>0?w.jsx("ul",{children:t.operaciones.map((H,J)=>w.jsxs("li",{children:[H.tipo," - ",H.jugador," - ",G(H.cantidad)]},J))}):w.jsx("p",{children:"No tienes operaciones pendientes"})]})})]})]}),e&&w.jsx("div",{className:"onboarding-overlay",children:w.jsx("div",{className:"loader",children:"Cargando..."})})]})}var Mn=function(){return Mn=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mn.apply(this,arguments)};function Yh(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var kt="-ms-",Xc="-moz-",ft="-webkit-",MT="comm",Bf="rule",iw="decl",Bj="@import",VT="@keyframes",zj="@layer",FT=Math.abs,ow=String.fromCharCode,Sg=Object.assign;function Hj(t,e){return yn(t,0)^45?(((e<<2^yn(t,0))<<2^yn(t,1))<<2^yn(t,2))<<2^yn(t,3):0}function $T(t){return t.trim()}function hi(t,e){return(t=e.exec(t))?t[0]:t}function He(t,e,n){return t.replace(e,n)}function fh(t,e,n){return t.indexOf(e,n)}function yn(t,e){return t.charCodeAt(e)|0}function Ul(t,e,n){return t.slice(e,n)}function Ds(t){return t.length}function UT(t){return t.length}function qc(t,e){return e.push(t),t}function qj(t,e){return t.map(e).join("")}function SE(t,e){return t.filter(function(n){return!hi(n,e)})}var zf=1,Bl=1,BT=0,Gr=0,tn=0,rc="";function Hf(t,e,n,r,o,a,u,h){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:zf,column:Bl,length:u,return:"",siblings:h}}function so(t,e){return Sg(Hf("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function wl(t){for(;t.root;)t=so(t.root,{children:[t]});qc(t,t.siblings)}function Wj(){return tn}function Gj(){return tn=Gr>0?yn(rc,--Gr):0,Bl--,tn===10&&(Bl=1,zf--),tn}function us(){return tn=Gr<BT?yn(rc,Gr++):0,Bl++,tn===10&&(Bl=1,zf++),tn}function da(){return yn(rc,Gr)}function ph(){return Gr}function qf(t,e){return Ul(rc,t,e)}function xg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Kj(t){return zf=Bl=1,BT=Ds(rc=t),Gr=0,[]}function Qj(t){return rc="",t}function Um(t){return $T(qf(Gr-1,kg(t===91?t+2:t===40?t+1:t)))}function Jj(t){for(;(tn=da())&&tn<33;)us();return xg(t)>2||xg(tn)>3?"":" "}function Yj(t,e){for(;--e&&us()&&!(tn<48||tn>102||tn>57&&tn<65||tn>70&&tn<97););return qf(t,ph()+(e<6&&da()==32&&us()==32))}function kg(t){for(;us();)switch(tn){case t:return Gr;case 34:case 39:t!==34&&t!==39&&kg(tn);break;case 40:t===41&&kg(t);break;case 92:us();break}return Gr}function Xj(t,e){for(;us()&&t+tn!==57;)if(t+tn===84&&da()===47)break;return"/*"+qf(e,Gr-1)+"*"+ow(t===47?t:us())}function Zj(t){for(;!xg(da());)us();return qf(t,Gr)}function eM(t){return Qj(mh("",null,null,null,[""],t=Kj(t),0,[0],t))}function mh(t,e,n,r,o,a,u,h,f){for(var m=0,v=0,b=u,C=0,A=0,j=0,V=1,O=1,B=1,U=0,Q="",Z=o,le=a,ne=r,k=Q;O;)switch(j=U,U=us()){case 40:if(j!=108&&yn(k,b-1)==58){fh(k+=He(Um(U),"&","&\f"),"&\f",FT(m?h[m-1]:0))!=-1&&(B=-1);break}case 34:case 39:case 91:k+=Um(U);break;case 9:case 10:case 13:case 32:k+=Jj(j);break;case 92:k+=Yj(ph()-1,7);continue;case 47:switch(da()){case 42:case 47:qc(tM(Xj(us(),ph()),e,n,f),f);break;default:k+="/"}break;case 123*V:h[m++]=Ds(k)*B;case 125*V:case 59:case 0:switch(U){case 0:case 125:O=0;case 59+v:B==-1&&(k=He(k,/\f/g,"")),A>0&&Ds(k)-b&&qc(A>32?kE(k+";",r,n,b-1,f):kE(He(k," ","")+";",r,n,b-2,f),f);break;case 59:k+=";";default:if(qc(ne=xE(k,e,n,m,v,o,h,Q,Z=[],le=[],b,a),a),U===123)if(v===0)mh(k,e,ne,ne,Z,a,b,h,le);else switch(C===99&&yn(k,3)===110?100:C){case 100:case 108:case 109:case 115:mh(t,ne,ne,r&&qc(xE(t,ne,ne,0,0,o,h,Q,o,Z=[],b,le),le),o,le,b,h,r?Z:le);break;default:mh(k,ne,ne,ne,[""],le,0,h,le)}}m=v=A=0,V=B=1,Q=k="",b=u;break;case 58:b=1+Ds(k),A=j;default:if(V<1){if(U==123)--V;else if(U==125&&V++==0&&Gj()==125)continue}switch(k+=ow(U),U*V){case 38:B=v>0?1:(k+="\f",-1);break;case 44:h[m++]=(Ds(k)-1)*B,B=1;break;case 64:da()===45&&(k+=Um(us())),C=da(),v=b=Ds(Q=k+=Zj(ph())),U++;break;case 45:j===45&&Ds(k)==2&&(V=0)}}return a}function xE(t,e,n,r,o,a,u,h,f,m,v,b){for(var C=o-1,A=o===0?a:[""],j=UT(A),V=0,O=0,B=0;V<r;++V)for(var U=0,Q=Ul(t,C+1,C=FT(O=u[V])),Z=t;U<j;++U)(Z=$T(O>0?A[U]+" "+Q:He(Q,/&\f/g,A[U])))&&(f[B++]=Z);return Hf(t,e,n,o===0?Bf:h,f,m,v,b)}function tM(t,e,n,r){return Hf(t,e,n,MT,ow(Wj()),Ul(t,2,-2),0,r)}function kE(t,e,n,r,o){return Hf(t,e,n,iw,Ul(t,0,r),Ul(t,r+1,-1),r,o)}function zT(t,e,n){switch(Hj(t,e)){case 5103:return ft+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ft+t+t;case 4789:return Xc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ft+t+Xc+t+kt+t+t;case 5936:switch(yn(t,e+11)){case 114:return ft+t+kt+He(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ft+t+kt+He(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ft+t+kt+He(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ft+t+kt+t+t;case 6165:return ft+t+kt+"flex-"+t+t;case 5187:return ft+t+He(t,/(\w+).+(:[^]+)/,ft+"box-$1$2"+kt+"flex-$1$2")+t;case 5443:return ft+t+kt+"flex-item-"+He(t,/flex-|-self/g,"")+(hi(t,/flex-|baseline/)?"":kt+"grid-row-"+He(t,/flex-|-self/g,""))+t;case 4675:return ft+t+kt+"flex-line-pack"+He(t,/align-content|flex-|-self/g,"")+t;case 5548:return ft+t+kt+He(t,"shrink","negative")+t;case 5292:return ft+t+kt+He(t,"basis","preferred-size")+t;case 6060:return ft+"box-"+He(t,"-grow","")+ft+t+kt+He(t,"grow","positive")+t;case 4554:return ft+He(t,/([^-])(transform)/g,"$1"+ft+"$2")+t;case 6187:return He(He(He(t,/(zoom-|grab)/,ft+"$1"),/(image-set)/,ft+"$1"),t,"")+t;case 5495:case 3959:return He(t,/(image-set\([^]*)/,ft+"$1$`$1");case 4968:return He(He(t,/(.+:)(flex-)?(.*)/,ft+"box-pack:$3"+kt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ft+t+t;case 4200:if(!hi(t,/flex-|baseline/))return kt+"grid-column-align"+Ul(t,e)+t;break;case 2592:case 3360:return kt+He(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,hi(r.props,/grid-\w+-end/)})?~fh(t+(n=n[e].value),"span",0)?t:kt+He(t,"-start","")+t+kt+"grid-row-span:"+(~fh(n,"span",0)?hi(n,/\d+/):+hi(n,/\d+/)-+hi(t,/\d+/))+";":kt+He(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return hi(r.props,/grid-\w+-start/)})?t:kt+He(He(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return He(t,/(.+)-inline(.+)/,ft+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ds(t)-1-e>6)switch(yn(t,e+1)){case 109:if(yn(t,e+4)!==45)break;case 102:return He(t,/(.+:)(.+)-([^]+)/,"$1"+ft+"$2-$3$1"+Xc+(yn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~fh(t,"stretch",0)?zT(He(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return He(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,a,u,h,f,m){return kt+o+":"+a+m+(u?kt+o+"-span:"+(h?f:+f-+a)+m:"")+t});case 4949:if(yn(t,e+6)===121)return He(t,":",":"+ft)+t;break;case 6444:switch(yn(t,yn(t,14)===45?18:11)){case 120:return He(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ft+(yn(t,14)===45?"inline-":"")+"box$3$1"+ft+"$2$3$1"+kt+"$2box$3")+t;case 100:return He(t,":",":"+kt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return He(t,"scroll-","scroll-snap-")+t}return t}function Xh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function nM(t,e,n,r){switch(t.type){case zj:if(t.children.length)break;case Bj:case iw:return t.return=t.return||t.value;case MT:return"";case VT:return t.return=t.value+"{"+Xh(t.children,r)+"}";case Bf:if(!Ds(t.value=t.props.join(",")))return""}return Ds(n=Xh(t.children,r))?t.return=t.value+"{"+n+"}":""}function rM(t){var e=UT(t);return function(n,r,o,a){for(var u="",h=0;h<e;h++)u+=t[h](n,r,o,a)||"";return u}}function sM(t){return function(e){e.root||(e=e.return)&&t(e)}}function iM(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case iw:t.return=zT(t.value,t.length,n);return;case VT:return Xh([so(t,{value:He(t.value,"@","@"+ft)})],r);case Bf:if(t.length)return qj(n=t.props,function(o){switch(hi(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":wl(so(t,{props:[He(o,/:(read-\w+)/,":"+Xc+"$1")]})),wl(so(t,{props:[o]})),Sg(t,{props:SE(n,r)});break;case"::placeholder":wl(so(t,{props:[He(o,/:(plac\w+)/,":"+ft+"input-$1")]})),wl(so(t,{props:[He(o,/:(plac\w+)/,":"+Xc+"$1")]})),wl(so(t,{props:[He(o,/:(plac\w+)/,kt+"input-$1")]})),wl(so(t,{props:[o]})),Sg(t,{props:SE(n,r)});break}return""})}}var oM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Cr={},zl=typeof process<"u"&&Cr!==void 0&&(Cr.REACT_APP_SC_ATTR||Cr.SC_ATTR)||"data-styled",HT="active",qT="data-styled-version",Wf="6.1.19",aw=`/*!sc*/
`,Zh=typeof window<"u"&&typeof document<"u",aM=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Cr!==void 0&&Cr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Cr.REACT_APP_SC_DISABLE_SPEEDY!==""?Cr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Cr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Cr!==void 0&&Cr.SC_DISABLE_SPEEDY!==void 0&&Cr.SC_DISABLE_SPEEDY!==""&&Cr.SC_DISABLE_SPEEDY!=="false"&&Cr.SC_DISABLE_SPEEDY),Gf=Object.freeze([]),Hl=Object.freeze({});function lM(t,e,n){return n===void 0&&(n=Hl),t.theme!==n.theme&&t.theme||e||n.theme}var WT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),cM=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,uM=/(^-|-$)/g;function RE(t){return t.replace(cM,"-").replace(uM,"")}var dM=/(a)(d)/gi,Yd=52,PE=function(t){return String.fromCharCode(t+(t>25?39:97))};function Rg(t){var e,n="";for(e=Math.abs(t);e>Yd;e=e/Yd|0)n=PE(e%Yd)+n;return(PE(e%Yd)+n).replace(dM,"$1-$2")}var Bm,GT=5381,Cl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},KT=function(t){return Cl(GT,t)};function hM(t){return Rg(KT(t)>>>0)}function fM(t){return t.displayName||t.name||"Component"}function zm(t){return typeof t=="string"&&!0}var QT=typeof Symbol=="function"&&Symbol.for,JT=QT?Symbol.for("react.memo"):60115,pM=QT?Symbol.for("react.forward_ref"):60112,mM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},gM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},YT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yM=((Bm={})[pM]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Bm[JT]=YT,Bm);function AE(t){return("type"in(e=t)&&e.type.$$typeof)===JT?YT:"$$typeof"in t?yM[t.$$typeof]:mM;var e}var wM=Object.defineProperty,vM=Object.getOwnPropertyNames,NE=Object.getOwnPropertySymbols,_M=Object.getOwnPropertyDescriptor,EM=Object.getPrototypeOf,DE=Object.prototype;function XT(t,e,n){if(typeof e!="string"){if(DE){var r=EM(e);r&&r!==DE&&XT(t,r,n)}var o=vM(e);NE&&(o=o.concat(NE(e)));for(var a=AE(t),u=AE(e),h=0;h<o.length;++h){var f=o[h];if(!(f in gM||n&&n[f]||u&&f in u||a&&f in a)){var m=_M(e,f);try{wM(t,f,m)}catch{}}}}return t}function ba(t){return typeof t=="function"}function lw(t){return typeof t=="object"&&"styledComponentId"in t}function aa(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function OE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function du(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Pg(t,e,n){if(n===void 0&&(n=!1),!n&&!du(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Pg(t[r],e[r]);else if(du(e))for(var r in e)t[r]=Pg(t[r],e[r]);return t}function cw(t,e){Object.defineProperty(t,"toString",{value:e})}function Ca(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var bM=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,a=o;e>=a;)if((a<<=1)<0)throw Ca(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var u=o;u<a;u++)this.groupSizes[u]=0}for(var h=this.indexOfGroup(e+1),f=(u=0,n.length);u<f;u++)this.tag.insertRule(h,n[u])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var a=r;a<o;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),a=o+r,u=o;u<a;u++)n+="".concat(this.tag.getRule(u)).concat(aw);return n},t})(),gh=new Map,ef=new Map,yh=1,Xd=function(t){if(gh.has(t))return gh.get(t);for(;ef.has(yh);)yh++;var e=yh++;return gh.set(t,e),ef.set(e,t),e},CM=function(t,e){yh=e+1,gh.set(t,e),ef.set(e,t)},TM="style[".concat(zl,"][").concat(qT,'="').concat(Wf,'"]'),IM=new RegExp("^".concat(zl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),SM=function(t,e,n){for(var r,o=n.split(","),a=0,u=o.length;a<u;a++)(r=o[a])&&t.registerName(e,r)},xM=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(aw),o=[],a=0,u=r.length;a<u;a++){var h=r[a].trim();if(h){var f=h.match(IM);if(f){var m=0|parseInt(f[1],10),v=f[2];m!==0&&(CM(v,m),SM(t,v,f[3]),t.getTag().insertRules(m,o)),o.length=0}else o.push(h)}}},LE=function(t){for(var e=document.querySelectorAll(TM),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute(zl)!==HT&&(xM(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function kM(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var ZT=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=(function(h){var f=Array.from(h.querySelectorAll("style[".concat(zl,"]")));return f[f.length-1]})(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(zl,HT),r.setAttribute(qT,Wf);var u=kM();return u&&r.setAttribute("nonce",u),n.insertBefore(r,a),r},RM=(function(){function t(e){this.element=ZT(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,a=r.length;o<a;o++){var u=r[o];if(u.ownerNode===n)return u}throw Ca(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),PM=(function(){function t(e){this.element=ZT(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),AM=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),jE=Zh,NM={isServer:!Zh,useCSSOMInjection:!aM},eI=(function(){function t(e,n,r){e===void 0&&(e=Hl),n===void 0&&(n={});var o=this;this.options=Mn(Mn({},NM),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Zh&&jE&&(jE=!1,LE(this)),cw(this,function(){return(function(a){for(var u=a.getTag(),h=u.length,f="",m=function(b){var C=(function(B){return ef.get(B)})(b);if(C===void 0)return"continue";var A=a.names.get(C),j=u.getGroup(b);if(A===void 0||!A.size||j.length===0)return"continue";var V="".concat(zl,".g").concat(b,'[id="').concat(C,'"]'),O="";A!==void 0&&A.forEach(function(B){B.length>0&&(O+="".concat(B,","))}),f+="".concat(j).concat(V,'{content:"').concat(O,'"}').concat(aw)},v=0;v<h;v++)m(v);return f})(o)})}return t.registerId=function(e){return Xd(e)},t.prototype.rehydrate=function(){!this.server&&Zh&&LE(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Mn(Mn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new AM(o):r?new RM(o):new PM(o)})(this.options),new bM(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Xd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Xd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Xd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),DM=/&/g,OM=/^\s*\/\/.*$/gm;function tI(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=tI(n.children,e)),n})}function LM(t){var e,n,r,o=Hl,a=o.options,u=a===void 0?Hl:a,h=o.plugins,f=h===void 0?Gf:h,m=function(C,A,j){return j.startsWith(n)&&j.endsWith(n)&&j.replaceAll(n,"").length>0?".".concat(e):C},v=f.slice();v.push(function(C){C.type===Bf&&C.value.includes("&")&&(C.props[0]=C.props[0].replace(DM,n).replace(r,m))}),u.prefix&&v.push(iM),v.push(nM);var b=function(C,A,j,V){A===void 0&&(A=""),j===void 0&&(j=""),V===void 0&&(V="&"),e=V,n=A,r=new RegExp("\\".concat(n,"\\b"),"g");var O=C.replace(OM,""),B=eM(j||A?"".concat(j," ").concat(A," { ").concat(O," }"):O);u.namespace&&(B=tI(B,u.namespace));var U=[];return Xh(B,rM(v.concat(sM(function(Q){return U.push(Q)})))),U};return b.hash=f.length?f.reduce(function(C,A){return A.name||Ca(15),Cl(C,A.name)},GT).toString():"",b}var jM=new eI,Ag=LM(),nI=We.createContext({shouldForwardProp:void 0,styleSheet:jM,stylis:Ag});nI.Consumer;We.createContext(void 0);function ME(){return T.useContext(nI)}var MM=(function(){function t(e,n){var r=this;this.inject=function(o,a){a===void 0&&(a=Ag);var u=r.name+a.hash;o.hasNameForId(r.id,u)||o.insertRules(r.id,u,a(r.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,cw(this,function(){throw Ca(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Ag),this.name+e.hash},t})(),VM=function(t){return t>="A"&&t<="Z"};function VE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;VM(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var rI=function(t){return t==null||t===!1||t===""},sI=function(t){var e,n,r=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!rI(a)&&(Array.isArray(a)&&a.isCss||ba(a)?r.push("".concat(VE(o),":"),a,";"):du(a)?r.push.apply(r,Yh(Yh(["".concat(o," {")],sI(a),!1),["}"],!1)):r.push("".concat(VE(o),": ").concat((e=o,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in oM||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ha(t,e,n,r){if(rI(t))return[];if(lw(t))return[".".concat(t.styledComponentId)];if(ba(t)){if(!ba(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var o=t(e);return ha(o,e,n,r)}var a;return t instanceof MM?n?(t.inject(n,r),[t.getName(r)]):[t]:du(t)?sI(t):Array.isArray(t)?Array.prototype.concat.apply(Gf,t.map(function(u){return ha(u,e,n,r)})):[t.toString()]}function FM(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ba(n)&&!lw(n))return!1}return!0}var $M=KT(Wf),UM=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&FM(e),this.componentId=n,this.baseHash=Cl($M,n),this.baseStyle=r,eI.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=aa(o,this.staticRulesId);else{var a=OE(ha(this.rules,e,n,r)),u=Rg(Cl(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,u)){var h=r(a,".".concat(u),void 0,this.componentId);n.insertRules(this.componentId,u,h)}o=aa(o,u),this.staticRulesId=u}else{for(var f=Cl(this.baseHash,r.hash),m="",v=0;v<this.rules.length;v++){var b=this.rules[v];if(typeof b=="string")m+=b;else if(b){var C=OE(ha(b,e,n,r));f=Cl(f,C+v),m+=C}}if(m){var A=Rg(f>>>0);n.hasNameForId(this.componentId,A)||n.insertRules(this.componentId,A,r(m,".".concat(A),void 0,this.componentId)),o=aa(o,A)}}return o},t})(),tf=We.createContext(void 0);tf.Consumer;function BM(t){var e=We.useContext(tf),n=T.useMemo(function(){return(function(r,o){if(!r)throw Ca(14);if(ba(r)){var a=r(o);return a}if(Array.isArray(r)||typeof r!="object")throw Ca(8);return o?Mn(Mn({},o),r):r})(t.theme,e)},[t.theme,e]);return t.children?We.createElement(tf.Provider,{value:n},t.children):null}var Hm={};function zM(t,e,n){var r=lw(t),o=t,a=!zm(t),u=e.attrs,h=u===void 0?Gf:u,f=e.componentId,m=f===void 0?(function(Z,le){var ne=typeof Z!="string"?"sc":RE(Z);Hm[ne]=(Hm[ne]||0)+1;var k="".concat(ne,"-").concat(hM(Wf+ne+Hm[ne]));return le?"".concat(le,"-").concat(k):k})(e.displayName,e.parentComponentId):f,v=e.displayName,b=v===void 0?(function(Z){return zm(Z)?"styled.".concat(Z):"Styled(".concat(fM(Z),")")})(t):v,C=e.displayName&&e.componentId?"".concat(RE(e.displayName),"-").concat(e.componentId):e.componentId||m,A=r&&o.attrs?o.attrs.concat(h).filter(Boolean):h,j=e.shouldForwardProp;if(r&&o.shouldForwardProp){var V=o.shouldForwardProp;if(e.shouldForwardProp){var O=e.shouldForwardProp;j=function(Z,le){return V(Z,le)&&O(Z,le)}}else j=V}var B=new UM(n,C,r?o.componentStyle:void 0);function U(Z,le){return(function(ne,k,x){var P=ne.attrs,S=ne.componentStyle,L=ne.defaultProps,$=ne.foldedComponentIds,R=ne.styledComponentId,Oe=ne.target,Ce=We.useContext(tf),Ue=ME(),Re=ne.shouldForwardProp||Ue.shouldForwardProp,G=lM(k,Ce,L)||Hl,H=(function(fe,Ee,Ve){for(var Me,Be=Mn(Mn({},Ee),{className:void 0,theme:Ve}),gt=0;gt<fe.length;gt+=1){var Et=ba(Me=fe[gt])?Me(Be):Me;for(var It in Et)Be[It]=It==="className"?aa(Be[It],Et[It]):It==="style"?Mn(Mn({},Be[It]),Et[It]):Et[It]}return Ee.className&&(Be.className=aa(Be.className,Ee.className)),Be})(P,k,G),J=H.as||Oe,D={};for(var z in H)H[z]===void 0||z[0]==="$"||z==="as"||z==="theme"&&H.theme===G||(z==="forwardedAs"?D.as=H.forwardedAs:Re&&!Re(z,J)||(D[z]=H[z]));var oe=(function(fe,Ee){var Ve=ME(),Me=fe.generateAndInjectStyles(Ee,Ve.styleSheet,Ve.stylis);return Me})(S,H),ce=aa($,R);return oe&&(ce+=" "+oe),H.className&&(ce+=" "+H.className),D[zm(J)&&!WT.has(J)?"class":"className"]=ce,x&&(D.ref=x),T.createElement(J,D)})(Q,Z,le)}U.displayName=b;var Q=We.forwardRef(U);return Q.attrs=A,Q.componentStyle=B,Q.displayName=b,Q.shouldForwardProp=j,Q.foldedComponentIds=r?aa(o.foldedComponentIds,o.styledComponentId):"",Q.styledComponentId=C,Q.target=r?o.target:t,Object.defineProperty(Q,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Z){this._foldedDefaultProps=r?(function(le){for(var ne=[],k=1;k<arguments.length;k++)ne[k-1]=arguments[k];for(var x=0,P=ne;x<P.length;x++)Pg(le,P[x],!0);return le})({},o.defaultProps,Z):Z}}),cw(Q,function(){return".".concat(Q.styledComponentId)}),a&&XT(Q,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Q}function FE(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var $E=function(t){return Object.assign(t,{isCss:!0})};function dn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ba(t)||du(t))return $E(ha(FE(Gf,Yh([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ha(r):$E(ha(FE(r,e)))}function Ng(t,e,n){if(n===void 0&&(n=Hl),!e)throw Ca(1,e);var r=function(o){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];return t(e,n,dn.apply(void 0,Yh([o],a,!1)))};return r.attrs=function(o){return Ng(t,e,Mn(Mn({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Ng(t,e,Mn(Mn({},n),o))},r}var iI=function(t){return Ng(zM,t)},Qe=iI;WT.forEach(function(t){Qe[t]=iI(t)});var vo;function ql(t,e){return t[e]}function HM(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function qM(t=[],e,n="id"){const r=t.slice(),o=ql(e,n);return o?r.splice(r.findIndex((a=>ql(a,n)===o)),1):r.splice(r.findIndex((a=>a===e)),1),r}function UE(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function Zc(t,e){return Math.ceil(t/e)}function qm(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(vo||(vo={}));const cn=()=>null;function oI(t,e=[],n=[]){let r={},o=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(o=[...o,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:o.join(" ")}}function wh(t,e=[],n="id"){const r=ql(t,n);return r?e.some((o=>ql(o,n)===r)):e.some((o=>o===t))}function Zd(t,e){return e?t.findIndex((n=>eu(n.id,e))):-1}function eu(t,e){return t==e}function WM(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:o,rowCount:a,mergeSelections:u}=e,h=!t.allSelected,f=!t.toggleOnSelectedRowsChange;if(u){const m=h?[...t.selectedRows,...o.filter((v=>!wh(v,t.selectedRows,r)))]:t.selectedRows.filter((v=>!wh(v,o,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:m.length,selectedRows:m,toggleOnSelectedRowsChange:f})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?o:[],toggleOnSelectedRowsChange:f})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:o,isSelected:a,rowCount:u,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[o],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:qM(t.selectedRows,o,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===u,selectedRows:HM(t.selectedRows,o),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:o,totalRows:a,mergeSelections:u}=e;if(u){const h=[...t.selectedRows,...o.filter((f=>!wh(f,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:o.length,allSelected:o.length===a,selectedRows:o,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:o,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:o,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:o,visibleOnly:a,persistSelectedOnPageChange:u}=e,h=o&&u,f=o&&!u||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),f&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:o}=e;return Object.assign(Object.assign({},t),{currentPage:o,rowsPerPage:r})}}}const GM=dn`
	pointer-events: none;
	opacity: 0.4;
`,KM=Qe.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&GM};
	${({theme:t})=>t.table.style};
`,QM=dn`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,JM=Qe.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&QM};
	${({theme:t})=>t.head.style};
`,YM=Qe.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,aI=(t,...e)=>dn`
		@media screen and (max-width: ${599}px) {
			${dn(t,...e)}
		}
	`,XM=(t,...e)=>dn`
		@media screen and (max-width: ${959}px) {
			${dn(t,...e)}
		}
	`,ZM=(t,...e)=>dn`
		@media screen and (max-width: ${1280}px) {
			${dn(t,...e)}
		}
	`,eV=t=>(e,...n)=>dn`
			@media screen and (max-width: ${t}px) {
				${dn(e,...n)}
			}
		`,sc=Qe.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,lI=Qe(sc)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&dn`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&aI`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&XM`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&ZM`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&eV(t)`
    display: none;
  `};
`,tV=dn`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,nV=Qe(lI).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&tV};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var rV=T.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:o,isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:m,onDragLeave:v}){const{conditionalStyle:b,classNames:C}=oI(n,e.conditionalCellStyles,["rdt_TableCell"]);return T.createElement(nV,{id:t,"data-column-id":e.id,role:"cell",className:C,"data-tag":o,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:b,$isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:m,onDragLeave:v},!e.cell&&T.createElement("div",{"data-tag":o},(function(A,j,V,O){return j?V&&typeof V=="function"?V(A,O):j(A,O):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const BE="input";var cI=T.memo((function({name:t,component:e=BE,componentOptions:n={style:{}},indeterminate:r=!1,checked:o=!1,disabled:a=!1,onClick:u=cn}){const h=e,f=h!==BE?n.style:(v=>Object.assign(Object.assign({fontSize:"18px"},!v&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),m=T.useMemo((()=>(function(v,...b){let C;return Object.keys(v).map((A=>v[A])).forEach(((A,j)=>{typeof A=="function"&&(C=Object.assign(Object.assign({},v),{[Object.keys(v)[j]]:A(...b)}))})),C||v})(n,r)),[n,r]);return T.createElement(h,Object.assign({type:"checkbox",ref:v=>{v&&(v.indeterminate=r)},style:f,onClick:a?cn:u,name:t,"aria-label":t,checked:o,disabled:a},m,{onChange:cn}))}));const sV=Qe(sc)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function iV({name:t,keyField:e,row:n,rowCount:r,selected:o,selectableRowsComponent:a,selectableRowsComponentProps:u,selectableRowsSingle:h,selectableRowDisabled:f,onSelectedRow:m}){const v=!(!f||!f(n));return T.createElement(sV,{onClick:b=>b.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},T.createElement(cI,{name:t,component:a,componentOptions:u,checked:o,"aria-checked":o,onClick:()=>{m({type:"SELECT_SINGLE_ROW",row:n,isSelected:o,keyField:e,rowCount:r,singleSelect:h})},disabled:v}))}const oV=Qe.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function aV({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:o,onToggled:a}){const u=e?n.expanded:n.collapsed;return T.createElement(oV,{"aria-disabled":t,onClick:()=>a&&a(o),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},u)}const lV=Qe(sc)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function cV({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:o,disabled:a=!1}){return T.createElement(lV,{onClick:u=>u.stopPropagation(),$noPadding:!0},T.createElement(aV,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:o}))}const uV=Qe.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var dV=T.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:o}){const a=["rdt_ExpanderRow",...o.split(" ").filter((u=>u!=="rdt_TableRow"))].join(" ");return T.createElement(uV,{className:a,$extendedRowStyle:r},T.createElement(e,Object.assign({data:t},n)))}));const Wm="allowRowEvents";var nf,Dg,zE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(nf||(nf={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(Dg||(Dg={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(zE||(zE={}));const hV=dn`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,fV=dn`
	&:hover {
		cursor: pointer;
	}
`,pV=Qe.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&hV};
	${({$pointerOnHover:t})=>t&&fV};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function mV({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:o=!1,expandableIcon:a,expandableRows:u=!1,expandableRowsComponent:h,expandableRowsComponentProps:f,expandableRowsHideExpander:m,expandOnRowClicked:v=!1,expandOnRowDoubleClicked:b=!1,highlightOnHover:C=!1,id:A,expandableInheritConditionalStyles:j,keyField:V,onRowClicked:O=cn,onRowDoubleClicked:B=cn,onRowMouseEnter:U=cn,onRowMouseLeave:Q=cn,onRowExpandToggled:Z=cn,onSelectedRow:le=cn,pointerOnHover:ne=!1,row:k,rowCount:x,rowIndex:P,selectableRowDisabled:S=null,selectableRows:L=!1,selectableRowsComponent:$,selectableRowsComponentProps:R,selectableRowsHighlight:Oe=!1,selectableRowsSingle:Ce=!1,selected:Ue,striped:Re=!1,draggingColumnId:G,onDragStart:H,onDragOver:J,onDragEnd:D,onDragEnter:z,onDragLeave:oe}){const[ce,fe]=T.useState(n);T.useEffect((()=>{fe(n)}),[n]);const Ee=T.useCallback((()=>{fe(!ce),Z(!ce,k)}),[ce,Z,k]),Ve=ne||u&&(v||b),Me=T.useCallback((ye=>{ye.target.getAttribute("data-tag")===Wm&&(O(k,ye),!r&&u&&v&&Ee())}),[r,v,u,Ee,O,k]),Be=T.useCallback((ye=>{ye.target.getAttribute("data-tag")===Wm&&(B(k,ye),!r&&u&&b&&Ee())}),[r,b,u,Ee,B,k]),gt=T.useCallback((ye=>{U(k,ye)}),[U,k]),Et=T.useCallback((ye=>{Q(k,ye)}),[Q,k]),It=ql(k,V),{conditionalStyle:$n,classNames:Un}=oI(k,e,["rdt_TableRow"]),hr=Oe&&Ue,Qr=j?$n:{},Le=Re&&P%2==0;return T.createElement(T.Fragment,null,T.createElement(pV,{id:`row-${A}`,role:"row",$striped:Le,$highlightOnHover:C,$pointerOnHover:!r&&Ve,$dense:o,onClick:Me,onDoubleClick:Be,onMouseEnter:gt,onMouseLeave:Et,className:Un,$selected:hr,$conditionalStyle:$n},L&&T.createElement(iV,{name:`select-row-${It}`,keyField:V,row:k,rowCount:x,selected:Ue,selectableRowsComponent:$,selectableRowsComponentProps:R,selectableRowDisabled:S,selectableRowsSingle:Ce,onSelectedRow:le}),u&&!m&&T.createElement(cV,{id:It,expandableIcon:a,expanded:ce,row:k,onToggled:Ee,disabled:r}),t.map((ye=>ye.omit?null:T.createElement(rV,{id:`cell-${ye.id}-${It}`,key:`cell-${ye.id}-${It}`,dataTag:ye.ignoreRowClick||ye.button?null:Wm,column:ye,row:k,rowIndex:P,isDragging:eu(G,ye.id),onDragStart:H,onDragOver:J,onDragEnd:D,onDragEnter:z,onDragLeave:oe})))),u&&ce&&T.createElement(dV,{key:`expander-${It}`,data:k,extendedRowStyle:Qr,extendedClassNames:Un,ExpanderComponent:h,expanderComponentProps:f}))}const gV=Qe.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,yV=({sortActive:t,sortDirection:e})=>We.createElement(gV,{$sortActive:t,$sortDirection:e},"▲"),wV=Qe(lI)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,vV=dn`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&dn`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,_V=Qe.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&vV};
`,EV=Qe.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var bV=T.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:o,sortIcon:a,sortServer:u,pagination:h,paginationServer:f,persistSelectedOnSort:m,selectableRowsVisibleOnly:v,onSort:b,onDragStart:C,onDragOver:A,onDragEnd:j,onDragEnter:V,onDragLeave:O}){T.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[B,U]=T.useState(!1),Q=T.useRef(null);if(T.useEffect((()=>{Q.current&&U(Q.current.scrollWidth>Q.current.clientWidth)}),[B]),t.omit)return null;const Z=()=>{if(!t.sortable&&!t.selector)return;let R=o;eu(r.id,t.id)&&(R=o===vo.ASC?vo.DESC:vo.ASC),b({type:"SORT_CHANGE",sortDirection:R,selectedColumn:t,clearSelectedOnSort:h&&f&&!m||u||v})},le=R=>T.createElement(yV,{sortActive:R,sortDirection:o}),ne=()=>T.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},a),k=!(!t.sortable||!eu(r.id,t.id)),x=!t.sortable||e,P=t.sortable&&!a&&!t.right,S=t.sortable&&!a&&t.right,L=t.sortable&&a&&!t.right,$=t.sortable&&a&&t.right;return T.createElement(wV,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:eu(t.id,n),onDragStart:C,onDragOver:A,onDragEnd:j,onDragEnter:V,onDragLeave:O},t.name&&T.createElement(_V,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:x?void 0:Z,onKeyPress:x?void 0:R=>{R.key==="Enter"&&Z()},$sortActive:!x&&k,disabled:x},!x&&$&&ne(),!x&&S&&le(k),typeof t.name=="string"?T.createElement(EV,{title:B?t.name:void 0,ref:Q,"data-column-id":t.id},t.name):t.name,!x&&L&&ne(),!x&&P&&le(k)))}));const CV=Qe(sc)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function TV({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:o,selectedRows:a,selectableRowsComponent:u,selectableRowsComponentProps:h,selectableRowDisabled:f,onSelectAllRows:m}){const v=a.length>0&&!r,b=f?e.filter((j=>!f(j))):e,C=b.length===0,A=Math.min(e.length,b.length);return T.createElement(CV,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},T.createElement(cI,{name:"select-all-rows",component:u,componentOptions:h,onClick:()=>{m({type:"SELECT_ALL_ROWS",rows:b,rowCount:A,mergeSelections:o,keyField:n})},checked:r,indeterminate:v,disabled:C}))}function uI(t=nf.AUTO){const e=typeof window=="object",[n,r]=T.useState(!1);return T.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const o=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],u=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||u.dir==="rtl";r(o&&h)}}),[t,e]),n}const IV=Qe.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,SV=Qe.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,HE=Qe.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function xV({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:o}){const a=uI(o),u=r>0;return n?T.createElement(HE,{$visible:u},T.cloneElement(n,{selectedCount:r})):T.createElement(HE,{$visible:u,$rtl:a},T.createElement(IV,null,((h,f,m)=>{if(f===0)return null;const v=f===1?h.singular:h.plural;return m?`${f} ${h.message||""} ${v}`:`${f} ${v} ${h.message||""}`})(t,r,a)),T.createElement(SV,null,e))}const kV=Qe.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,RV=Qe.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,PV=Qe.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,AV=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:o,selectedCount:a,direction:u,showMenu:h=!0})=>T.createElement(kV,{className:"rdt_TableHeader",role:"heading","aria-level":1},T.createElement(RV,null,t),e&&T.createElement(PV,null,e),h&&T.createElement(xV,{contextMessage:n,contextActions:r,contextComponent:o,direction:u,selectedCount:a}));function dI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const NV={left:"flex-start",right:"flex-end",center:"center"},DV=Qe.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>NV[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,OV=t=>{var{align:e="right",wrapContent:n=!0}=t,r=dI(t,["align","wrapContent"]);return T.createElement(DV,Object.assign({align:e,$wrapContent:n},r))},LV=Qe.div`
	display: flex;
	flex-direction: column;
`,jV=Qe.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&dn`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&dn`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,qE=Qe.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,MV=Qe.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,VV=Qe(sc)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,FV=Qe.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,$V=()=>We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},We.createElement("path",{d:"M7 10l5 5 5-5z"}),We.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),UV=Qe.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,BV=Qe.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,zV=t=>{var{defaultValue:e,onChange:n}=t,r=dI(t,["defaultValue","onChange"]);return T.createElement(BV,null,T.createElement(UV,Object.assign({onChange:n,defaultValue:e},r)),T.createElement($V,null))},ue={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return We.createElement("div",null,"To add an expander pass in a component instance via ",We.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:We.createElement((()=>We.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},We.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),We.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:We.createElement((()=>We.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},We.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),We.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:We.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:We.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Dg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:We.createElement((()=>We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},We.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),We.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:We.createElement((()=>We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},We.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),We.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:We.createElement((()=>We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},We.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),We.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:We.createElement((()=>We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},We.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),We.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:nf.AUTO,onChangePage:cn,onChangeRowsPerPage:cn,onRowClicked:cn,onRowDoubleClicked:cn,onRowMouseEnter:cn,onRowMouseLeave:cn,onRowExpandToggled:cn,onSelectedRowsChange:cn,onSort:cn,onColumnOrderChange:cn},HV={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},qV=Qe.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,eh=Qe.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,WV=Qe.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${aI`
    width: 100%;
    justify-content: space-around;
  `};
`,hI=Qe.span`
	flex-shrink: 1;
	user-select: none;
`,GV=Qe(hI)`
	margin: 0 24px;
`,KV=Qe(hI)`
	margin: 0 4px;
`;var QV=T.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=ue.direction,paginationRowsPerPageOptions:o=ue.paginationRowsPerPageOptions,paginationIconLastPage:a=ue.paginationIconLastPage,paginationIconFirstPage:u=ue.paginationIconFirstPage,paginationIconNext:h=ue.paginationIconNext,paginationIconPrevious:f=ue.paginationIconPrevious,paginationComponentOptions:m=ue.paginationComponentOptions,onChangeRowsPerPage:v=ue.onChangeRowsPerPage,onChangePage:b=ue.onChangePage}){const C=(()=>{const R=typeof window=="object";function Oe(){return{width:R?window.innerWidth:void 0,height:R?window.innerHeight:void 0}}const[Ce,Ue]=T.useState(Oe);return T.useEffect((()=>{if(!R)return()=>null;function Re(){Ue(Oe())}return window.addEventListener("resize",Re),()=>window.removeEventListener("resize",Re)}),[]),Ce})(),A=uI(r),j=C.width&&C.width>599,V=Zc(e,t),O=n*t,B=O-t+1,U=n===1,Q=n===V,Z=Object.assign(Object.assign({},HV),m),le=n===V?`${B}-${e} ${Z.rangeSeparatorText} ${e}`:`${B}-${O} ${Z.rangeSeparatorText} ${e}`,ne=T.useCallback((()=>b(n-1)),[n,b]),k=T.useCallback((()=>b(n+1)),[n,b]),x=T.useCallback((()=>b(1)),[b]),P=T.useCallback((()=>b(Zc(e,t))),[b,e,t]),S=T.useCallback((R=>v(Number(R.target.value),n)),[n,v]),L=o.map((R=>T.createElement("option",{key:R,value:R},R)));Z.selectAllRowsItem&&L.push(T.createElement("option",{key:-1,value:e},Z.selectAllRowsItemText));const $=T.createElement(zV,{onChange:S,defaultValue:t,"aria-label":Z.rowsPerPageText},L);return T.createElement(qV,{className:"rdt_Pagination"},!Z.noRowsPerPage&&j&&T.createElement(T.Fragment,null,T.createElement(KV,null,Z.rowsPerPageText),$),j&&T.createElement(GV,null,le),T.createElement(WV,null,T.createElement(eh,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":U,onClick:x,disabled:U,$isRTL:A},u),T.createElement(eh,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":U,onClick:ne,disabled:U,$isRTL:A},f),!Z.noRowsPerPage&&!j&&$,T.createElement(eh,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":Q,onClick:k,disabled:Q,$isRTL:A},h),T.createElement(eh,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":Q,onClick:P,disabled:Q,$isRTL:A},a)))}));const ia=(t,e)=>{const n=T.useRef(!0);T.useEffect((()=>{n.current?n.current=!1:t()}),e)};function JV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YV=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===XV})(e)})(t)},XV=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function hu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Wl((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function ZV(t,e,n){return t.concat(e).map((function(r){return hu(r,n)}))}function WE(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function GE(t,e){try{return e in t}catch{return!1}}function e4(t,e,n){var r={};return n.isMergeableObject(t)&&WE(t).forEach((function(o){r[o]=hu(t[o],n)})),WE(e).forEach((function(o){(function(a,u){return GE(a,u)&&!(Object.hasOwnProperty.call(a,u)&&Object.propertyIsEnumerable.call(a,u))})(t,o)||(GE(t,o)&&n.isMergeableObject(e[o])?r[o]=(function(a,u){if(!u.customMerge)return Wl;var h=u.customMerge(a);return typeof h=="function"?h:Wl})(o,n)(t[o],e[o],n):r[o]=hu(e[o],n))})),r}function Wl(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||ZV,n.isMergeableObject=n.isMergeableObject||YV,n.cloneUnlessOtherwiseSpecified=hu;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):e4(t,e,n):hu(e,n)}Wl.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return Wl(n,r,e)}),{})};var Og=JV(Wl);const KE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},io={default:KE,light:KE,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function fI(t="default",e,n="default"){return io[t]||(io[t]=Og(io[n],e||{})),io[t]=Og(io[t],e||{}),io[t]}function t4(t,e,n,r){const[o,a]=T.useState((()=>UE(t))),[u,h]=T.useState(""),f=T.useRef("");ia((()=>{a(UE(t))}),[t]);const m=T.useCallback((O=>{var B,U,Q;const{attributes:Z}=O.target,le=(B=Z.getNamedItem("data-column-id"))===null||B===void 0?void 0:B.value;le&&(f.current=((Q=(U=o[Zd(o,le)])===null||U===void 0?void 0:U.id)===null||Q===void 0?void 0:Q.toString())||"",h(f.current))}),[o]),v=T.useCallback((O=>{var B;const{attributes:U}=O.target,Q=(B=U.getNamedItem("data-column-id"))===null||B===void 0?void 0:B.value;if(Q&&f.current&&Q!==f.current){const Z=Zd(o,f.current),le=Zd(o,Q),ne=[...o];ne[Z]=o[le],ne[le]=o[Z],a(ne),e(ne)}}),[e,o]),b=T.useCallback((O=>{O.preventDefault()}),[]),C=T.useCallback((O=>{O.preventDefault()}),[]),A=T.useCallback((O=>{O.preventDefault(),f.current="",h("")}),[]),j=(function(O=!1){return O?vo.ASC:vo.DESC})(r),V=T.useMemo((()=>o[Zd(o,n?.toString())]||{}),[n,o]);return{tableColumns:o,draggingColumnId:u,handleDragStart:m,handleDragEnter:v,handleDragOver:b,handleDragLeave:C,handleDragEnd:A,defaultSortDirection:j,defaultSortColumn:V}}var pI=T.memo((function(t){const{data:e=ue.data,columns:n=ue.columns,title:r=ue.title,actions:o=ue.actions,keyField:a=ue.keyField,striped:u=ue.striped,highlightOnHover:h=ue.highlightOnHover,pointerOnHover:f=ue.pointerOnHover,dense:m=ue.dense,selectableRows:v=ue.selectableRows,selectableRowsSingle:b=ue.selectableRowsSingle,selectableRowsHighlight:C=ue.selectableRowsHighlight,selectableRowsNoSelectAll:A=ue.selectableRowsNoSelectAll,selectableRowsVisibleOnly:j=ue.selectableRowsVisibleOnly,selectableRowSelected:V=ue.selectableRowSelected,selectableRowDisabled:O=ue.selectableRowDisabled,selectableRowsComponent:B=ue.selectableRowsComponent,selectableRowsComponentProps:U=ue.selectableRowsComponentProps,onRowExpandToggled:Q=ue.onRowExpandToggled,onSelectedRowsChange:Z=ue.onSelectedRowsChange,expandableIcon:le=ue.expandableIcon,onChangeRowsPerPage:ne=ue.onChangeRowsPerPage,onChangePage:k=ue.onChangePage,paginationServer:x=ue.paginationServer,paginationServerOptions:P=ue.paginationServerOptions,paginationTotalRows:S=ue.paginationTotalRows,paginationDefaultPage:L=ue.paginationDefaultPage,paginationResetDefaultPage:$=ue.paginationResetDefaultPage,paginationPerPage:R=ue.paginationPerPage,paginationRowsPerPageOptions:Oe=ue.paginationRowsPerPageOptions,paginationIconLastPage:Ce=ue.paginationIconLastPage,paginationIconFirstPage:Ue=ue.paginationIconFirstPage,paginationIconNext:Re=ue.paginationIconNext,paginationIconPrevious:G=ue.paginationIconPrevious,paginationComponent:H=ue.paginationComponent,paginationComponentOptions:J=ue.paginationComponentOptions,responsive:D=ue.responsive,progressPending:z=ue.progressPending,progressComponent:oe=ue.progressComponent,persistTableHead:ce=ue.persistTableHead,noDataComponent:fe=ue.noDataComponent,disabled:Ee=ue.disabled,noTableHead:Ve=ue.noTableHead,noHeader:Me=ue.noHeader,fixedHeader:Be=ue.fixedHeader,fixedHeaderScrollHeight:gt=ue.fixedHeaderScrollHeight,pagination:Et=ue.pagination,subHeader:It=ue.subHeader,subHeaderAlign:$n=ue.subHeaderAlign,subHeaderWrap:Un=ue.subHeaderWrap,subHeaderComponent:hr=ue.subHeaderComponent,noContextMenu:Qr=ue.noContextMenu,contextMessage:Le=ue.contextMessage,contextActions:ye=ue.contextActions,contextComponent:rt=ue.contextComponent,expandableRows:Pe=ue.expandableRows,onRowClicked:ze=ue.onRowClicked,onRowDoubleClicked:yt=ue.onRowDoubleClicked,onRowMouseEnter:qe=ue.onRowMouseEnter,onRowMouseLeave:Ye=ue.onRowMouseLeave,sortIcon:Je=ue.sortIcon,onSort:Xe=ue.onSort,sortFunction:wt=ue.sortFunction,sortServer:fr=ue.sortServer,expandableRowsComponent:Po=ue.expandableRowsComponent,expandableRowsComponentProps:gs=ue.expandableRowsComponentProps,expandableRowDisabled:ys=ue.expandableRowDisabled,expandableRowsHideExpander:ws=ue.expandableRowsHideExpander,expandOnRowClicked:Ao=ue.expandOnRowClicked,expandOnRowDoubleClicked:No=ue.expandOnRowDoubleClicked,expandableRowExpanded:ki=ue.expandableRowExpanded,expandableInheritConditionalStyles:Do=ue.expandableInheritConditionalStyles,defaultSortFieldId:Oo=ue.defaultSortFieldId,defaultSortAsc:Ws=ue.defaultSortAsc,clearSelectedRows:Gs=ue.clearSelectedRows,conditionalRowStyles:Ri=ue.conditionalRowStyles,theme:Bn=ue.theme,customStyles:pr=ue.customStyles,direction:kr=ue.direction,onColumnOrderChange:Rr=ue.onColumnOrderChange,className:Lo,ariaLabel:vs}=t,{tableColumns:Pi,draggingColumnId:Pr,handleDragStart:Ai,handleDragEnter:At,handleDragOver:Ks,handleDragLeave:Yn,handleDragEnd:_s,defaultSortDirection:Qs,defaultSortColumn:Ni}=t4(n,Rr,Oo,Ws),[{rowsPerPage:Jt,currentPage:vn,selectedRows:jo,allSelected:Js,selectedCount:Mo,selectedColumn:$t,sortDirection:Xn,toggleOnSelectedRowsChange:mr},Ar]=T.useReducer(WM,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Ni,toggleOnSelectedRowsChange:!1,sortDirection:Qs,currentPage:L,rowsPerPage:R,selectedRowsFlag:!1,contextMessage:ue.contextMessage}),{persistSelectedOnSort:Di=!1,persistSelectedOnPageChange:Jr=!1}=P,Ys=!(!x||!Jr&&!Di),Vo=Et&&!z&&e.length>0,La=H||QV,ic=T.useMemo((()=>((Ie={},Ge="default",Nt="default")=>{const sn=io[Ge]?Ge:Nt;return Og({table:{style:{color:(Ae=io[sn]).text.primary,backgroundColor:Ae.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:Ae.text.primary,backgroundColor:Ae.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:Ae.background.default,minHeight:"52px"}},head:{style:{color:Ae.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:Ae.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:Ae.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:Ae.context.background,fontSize:"18px",fontWeight:400,color:Ae.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:Ae.text.primary,backgroundColor:Ae.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:Ae.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:Ae.selected.text,backgroundColor:Ae.selected.default,borderBottomColor:Ae.background.default}},highlightOnHoverStyle:{color:Ae.highlightOnHover.text,backgroundColor:Ae.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:Ae.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:Ae.background.default},stripedStyle:{color:Ae.striped.text,backgroundColor:Ae.striped.default}},expanderRow:{style:{color:Ae.text.primary,backgroundColor:Ae.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:Ae.button.default,fill:Ae.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:Ae.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:Ae.button.hover},"&:focus":{outline:"none",backgroundColor:Ae.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:Ae.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:Ae.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:Ae.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:Ae.button.default,fill:Ae.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:Ae.button.disabled,fill:Ae.button.disabled},"&:hover:not(:disabled)":{backgroundColor:Ae.button.hover},"&:focus":{outline:"none",backgroundColor:Ae.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Ae.text.primary,backgroundColor:Ae.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Ae.text.primary,backgroundColor:Ae.background.default}}},Ie);var Ae})(pr,Bn)),[pr,Bn]),vt=T.useMemo((()=>Object.assign({},kr!=="auto"&&{dir:kr})),[kr]),Ht=T.useMemo((()=>{if(fr)return e;if($t?.sortFunction&&typeof $t.sortFunction=="function"){const Ie=$t.sortFunction,Ge=Xn===vo.ASC?Ie:(Nt,sn)=>-1*Ie(Nt,sn);return[...e].sort(Ge)}return(function(Ie,Ge,Nt,sn){return Ge?sn&&typeof sn=="function"?sn(Ie.slice(0),Ge,Nt):Ie.slice(0).sort(((Ae,yr)=>{const Yt=Ge(Ae),kn=Ge(yr);if(Nt==="asc"){if(Yt<kn)return-1;if(Yt>kn)return 1}if(Nt==="desc"){if(Yt>kn)return-1;if(Yt<kn)return 1}return 0})):Ie})(e,$t?.selector,Xn,wt)}),[fr,$t,Xn,e,wt]),gr=T.useMemo((()=>{if(Et&&!x){const Ie=vn*Jt,Ge=Ie-Jt;return Ht.slice(Ge,Ie)}return Ht}),[vn,Et,x,Jt,Ht]),Es=T.useCallback((Ie=>{Ar(Ie)}),[]),Zn=T.useCallback((Ie=>{Ar(Ie)}),[]),Fo=T.useCallback((Ie=>{Ar(Ie)}),[]),ja=T.useCallback(((Ie,Ge)=>ze(Ie,Ge)),[ze]),Xs=T.useCallback(((Ie,Ge)=>yt(Ie,Ge)),[yt]),zn=T.useCallback(((Ie,Ge)=>qe(Ie,Ge)),[qe]),Ma=T.useCallback(((Ie,Ge)=>Ye(Ie,Ge)),[Ye]),Ut=T.useCallback((Ie=>Ar({type:"CHANGE_PAGE",page:Ie,paginationServer:x,visibleOnly:j,persistSelectedOnPageChange:Jr})),[x,Jr,j]),$o=T.useCallback((Ie=>{const Ge=Zc(S||gr.length,Ie),Nt=qm(vn,Ge);x||Ut(Nt),Ar({type:"CHANGE_ROWS_PER_PAGE",page:Nt,rowsPerPage:Ie})}),[vn,Ut,x,S,gr.length]);if(Et&&!x&&Ht.length>0&&gr.length===0){const Ie=Zc(Ht.length,Jt),Ge=qm(vn,Ie);Ut(Ge)}ia((()=>{Z({allSelected:Js,selectedCount:Mo,selectedRows:jo.slice(0)})}),[mr]),ia((()=>{Xe($t,Xn,Ht.slice(0))}),[$t,Xn]),ia((()=>{k(vn,S||Ht.length)}),[vn]),ia((()=>{ne(Jt,vn)}),[Jt]),ia((()=>{Ut(L)}),[L,$]),ia((()=>{if(Et&&x&&S>0){const Ie=Zc(S,Jt),Ge=qm(vn,Ie);vn!==Ge&&Ut(Ge)}}),[S]),T.useEffect((()=>{Ar({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Gs})}),[b,Gs]),T.useEffect((()=>{if(!V)return;const Ie=Ht.filter((Nt=>V(Nt))),Ge=b?Ie.slice(0,1):Ie;Ar({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:Ge,totalRows:Ht.length,mergeSelections:Ys})}),[e,V]);const Va=j?gr:Ht,Fa=Jr||b||A;return T.createElement(BM,{theme:ic},!Me&&(!!r||!!o)&&T.createElement(AV,{title:r,actions:o,showMenu:!Qr,selectedCount:Mo,direction:kr,contextActions:ye,contextComponent:rt,contextMessage:Le}),It&&T.createElement(OV,{align:$n,wrapContent:Un},hr),T.createElement(jV,Object.assign({$responsive:D,$fixedHeader:Be,$fixedHeaderScrollHeight:gt,className:Lo},vt),T.createElement(MV,null,z&&!ce&&T.createElement(qE,null,oe),T.createElement(KM,Object.assign({disabled:Ee,className:"rdt_Table",role:"table"},vs&&{"aria-label":vs}),!Ve&&(!!ce||Ht.length>0&&!z)&&T.createElement(JM,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:Be},T.createElement(YM,{className:"rdt_TableHeadRow",role:"row",$dense:m},v&&(Fa?T.createElement(sc,{style:{flex:"0 0 48px"}}):T.createElement(TV,{allSelected:Js,selectedRows:jo,selectableRowsComponent:B,selectableRowsComponentProps:U,selectableRowDisabled:O,rowData:Va,keyField:a,mergeSelections:Ys,onSelectAllRows:Zn})),Pe&&!ws&&T.createElement(VV,null),Pi.map((Ie=>T.createElement(bV,{key:Ie.id,column:Ie,selectedColumn:$t,disabled:z||Ht.length===0,pagination:Et,paginationServer:x,persistSelectedOnSort:Di,selectableRowsVisibleOnly:j,sortDirection:Xn,sortIcon:Je,sortServer:fr,onSort:Es,onDragStart:Ai,onDragOver:Ks,onDragEnd:_s,onDragEnter:At,onDragLeave:Yn,draggingColumnId:Pr}))))),!Ht.length&&!z&&T.createElement(FV,null,fe),z&&ce&&T.createElement(qE,null,oe),!z&&Ht.length>0&&T.createElement(LV,{className:"rdt_TableBody",role:"rowgroup"},gr.map(((Ie,Ge)=>{const Nt=ql(Ie,a),sn=(function(kn=""){return typeof kn!="number"&&(!kn||kn.length===0)})(Nt)?Ge:Nt,Ae=wh(Ie,jo,a),yr=!!(Pe&&ki&&ki(Ie)),Yt=!!(Pe&&ys&&ys(Ie));return T.createElement(mV,{id:sn,key:sn,keyField:a,"data-row-id":sn,columns:Pi,row:Ie,rowCount:Ht.length,rowIndex:Ge,selectableRows:v,expandableRows:Pe,expandableIcon:le,highlightOnHover:h,pointerOnHover:f,dense:m,expandOnRowClicked:Ao,expandOnRowDoubleClicked:No,expandableRowsComponent:Po,expandableRowsComponentProps:gs,expandableRowsHideExpander:ws,defaultExpanderDisabled:Yt,defaultExpanded:yr,expandableInheritConditionalStyles:Do,conditionalRowStyles:Ri,selected:Ae,selectableRowsHighlight:C,selectableRowsComponent:B,selectableRowsComponentProps:U,selectableRowDisabled:O,selectableRowsSingle:b,striped:u,onRowExpandToggled:Q,onRowClicked:ja,onRowDoubleClicked:Xs,onRowMouseEnter:zn,onRowMouseLeave:Ma,onSelectedRow:Fo,draggingColumnId:Pr,onDragStart:Ai,onDragOver:Ks,onDragEnd:_s,onDragEnter:At,onDragLeave:Yn})})))))),Vo&&T.createElement("div",null,T.createElement(La,{onChangePage:Ut,onChangeRowsPerPage:$o,rowCount:S||Ht.length,currentPage:vn,rowsPerPage:Jt,direction:kr,paginationRowsPerPageOptions:Oe,paginationIconLastPage:Ce,paginationIconFirstPage:Ue,paginationIconNext:Re,paginationIconPrevious:G,paginationComponentOptions:J})))}));const QE=Qn(xn),n4=Kr(xn);fI("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function r4({usuario:t}){const[e,n]=T.useState(!1),[r,o]=T.useState(null),[a,u]=T.useState(!1),[h,f]=T.useState(!1),[m,v]=T.useState(!1),[b,C]=T.useState(!1),A=T.useRef(null),j=()=>wu(n4);T.useEffect(()=>{const S=L=>{A.current&&!A.current.contains(L.target)&&C(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const V=S=>parseInt(S),O=t?.fotoPerfil||Vt,B=[{when:S=>S.pos==="1º",style:{background:"linear-gradient(135deg, rgb(255, 215, 0), rgb(218, 165, 32))",boxShadow:"0 0 8px rgba(255, 215, 0, 0.7), inset 0 0 4px rgba(255, 255, 255, 0.6)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:S=>S.pos==="2º",style:{background:"linear-gradient(135deg, rgb(192,192,192), rgb(169,169,169))",boxShadow:"0 0 8px rgba(192,192,192, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.5)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:S=>S.pos==="3º",style:{background:"linear-gradient(135deg, rgb(205, 127, 50), rgb(139, 69, 19))",boxShadow:"0 0 8px rgba(205, 127, 50, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.4)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:S=>V(S.pos)>3&&V(S.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:S=>V(S.pos)>3&&V(S.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],U=[{name:"Pos.",selector:S=>S.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:S=>S.jugador,cell:S=>w.jsxs(dt,{to:S.id===t.uid?"/home":`/equipo/${S.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit",cursor:"pointer"},children:[w.jsx("img",{src:S.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"1px solid black"}}),w.jsx("span",{children:S.jugador})]})},{name:"Puntos",selector:S=>S.puntos,width:"5.5rem",center:!0}],Q=()=>{u(!a)},Z=S=>S>=1e6?(S/1e6).toFixed(2)+"M":S>=1e3?(S/1e3).toFixed(2)+"K":S.toFixed(2);T.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const S=it(QE,"usuarios",t.uid);jn(S).then(L=>{L.exists()&&o(L.data().dinero)})}},[t]);const[le,ne]=T.useState([]),[k,x]=T.useState(!1);T.useEffect(()=>{(async()=>{x(!0);try{const L=Hr(QE,"usuarios");let Oe=(await hs(L)).docs.map(Ce=>({id:Ce.id,...Ce.data()})).sort((Ce,Ue)=>(Ue.puntos||0)-(Ce.puntos||0)).map((Ce,Ue)=>({id:Ce.id,pos:`${Ue+1}º`,jugador:Ce.nick||"Sin nombre",puntos:Ce.puntos||0,fotoPerfil:Ce.fotoPerfil||Vt}));ne(Oe)}catch(L){console.error("Error al cargar usuarios:",L)}finally{x(!1)}})()},[]);const P={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return w.jsxs("div",{children:[w.jsxs("header",{className:"Cabecera",children:[w.jsxs("div",{className:"container-profile",children:[w.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[w.jsx("img",{src:O,onError:S=>{S.currentTarget.onerror=null,S.currentTarget.src=Vt},alt:"Foto de perfil",onClick:()=>C(!b),onMouseEnter:()=>C(!0)}),b&&w.jsxs("div",{className:"perfil-bocadillo",ref:A,onMouseLeave:()=>C(!1),children:[w.jsx("div",{className:"triangulo"}),w.jsx("button",{className:"btn-perfil",onClick:()=>{f(!0),C(!1)},children:"👤 Perfil"}),w.jsx("button",{className:"btn-logout",onClick:j,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&w.jsx("button",{className:"btn-admin",onClick:()=>{v(!0),C(!1)},children:"⚙️ Admin"})]})]}),w.jsxs("div",{className:"info-profile",children:[w.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&w.jsxs("p",{className:"dinero-usuario",children:["💰",w.jsx("strong",{children:Z(r)})]})]})]}),w.jsx("button",{onClick:Q,className:"Cabecera-button",children:w.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:w.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),w.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:w.jsxs("ul",{className:"Cabecera-ul",children:[w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),w.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&w.jsx($l,{usuario:t,openModal:h,setOpenModal:f}),m&&w.jsx(uu,{usuario:t,openModal:m,setOpenModal:v}),w.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:w.jsx(pI,{title:"CLASIFICACIÓN",columns:U,data:le,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:k,progressComponent:w.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:B,customStyles:P,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:w.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}function s4({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r}){Kr(),Qn(),Ou();const o=t?.foto||Vt,a=m=>{switch(m){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return m||"Sin posición"}},u=T.useRef(),h=m=>{m.target===u.current&&r(!1)},f=m=>m.toLocaleString("es-ES")+"€";return n?(console.log("DEBUG jugador en modal:",t),w.jsx("div",{className:"modal-overlay",ref:u,onClick:h,children:w.jsxs("div",{className:"modal-perfil",children:[w.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),w.jsxs("div",{className:"modal-header",children:[w.jsx("label",{className:"modal-avatar",children:w.jsx("img",{src:o,alt:"Jugador"})}),w.jsxs("div",{className:"modal-jugadorinfo",children:[w.jsx("h2",{children:t.nombre}),w.jsxs("div",{className:"posicion-precio",children:[w.jsx("div",{className:`posicion-texto ${t.posicion}`,children:w.jsx("small",{children:a(t.posicion)})}),w.jsxs("div",{className:"precio-container",children:[w.jsx("div",{className:"precio",children:w.jsxs("small",{children:[w.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",f(t.precio)]})}),w.jsx("div",{className:"diferencia-precio",children:(()=>{const m=t.historialPrecios||[];if(m.length===0)return w.jsx("small",{children:"(±0€)"});const v=m[m.length-1].precio||0,b=t.precio-v,C=b>0?"+":b<0?"-":"±";return w.jsxs("small",{className:b>0?"subida":b<0?"bajada":"igual",children:["(",C,f(Math.abs(b)),")"]})})()})]}),w.jsx("div",{className:"precio-clausula",children:w.jsxs("small",{children:[w.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",f(e)]})})]}),w.jsx("div",{className:"estadisticas-extra",children:w.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((m,v,b)=>{const C=m??"-",A=b.length<5?v+1:t.puntosPorJornada.length-5+v+1;let j="";return typeof m=="number"&&(m>=9?j="verde":m<7?j="rojo":j="naranja"),w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",A]}),w.jsx("div",{className:`jornada-cuadro ${j}`,children:C})]},v)}):[...Array(5)].map((m,v)=>w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",v+1]}),w.jsx("div",{className:"jornada-cuadro",children:"-"})]},v))})})]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"modal-jugadorbody",children:[w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.valoracion}),w.jsx("small",{children:"Valoración"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.nota}),w.jsx("small",{children:"Nota Media"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.puntosTotales}),w.jsx("small",{children:"Puntos"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.partidos}),w.jsx("small",{children:"Partidos"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.goles}),w.jsx("small",{children:"Goles"})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("h4",{children:t.asistencias}),w.jsx("small",{children:"Asistencias"})]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"modal-footer",children:[w.jsxs("button",{className:"btn-accion",disabled:t.stock<=0,onClick:m=>{m.stopPropagation()},children:["Pagar Claúsula",w.jsx("br",{}),w.jsxs("small",{className:"precio-compra",children:["(-",f(t.precioClausula),")"]})]}),w.jsx("button",{className:"btn-accion",disabled:t.stock<=0,onClick:m=>{m.stopPropagation()},children:"Hacer oferta"})]})]})})):null}const Gm=Qn(xn),i4=Kr(xn),o4={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function JE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=o4[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function a4({usuario:t}){const{jugadorId:e}=wD(),[n,r]=T.useState(!0),[o,a]=T.useState(null),[u,h]=T.useState(!1),[f,m]=T.useState(!1),[v,b]=T.useState(null),C=t?.fotoPerfil||Vt,A=o?.equipo?.titulares||[],j=o?.equipo?.banquillo||[],[V,O]=T.useState([]),B=o?.equipo?.capitan||"",[U,Q]=T.useState(o?.equipo?.formacion||"2-1-1"),[Z,le]=T.useState(U);T.useEffect(()=>{o?.equipo?.formacion&&(Q(o.equipo.formacion),le(o.equipo.formacion))},[o]);const[ne,k]=T.useState(!1),[x,P]=T.useState(!1),[S,L]=T.useState(null),[$,R]=T.useState(!1),Oe=T.useRef(null),Ce=()=>wu(i4);T.useEffect(()=>{const G=H=>{Oe.current&&!Oe.current.contains(H.target)&&R(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[]),T.useEffect(()=>{if(window.particlesJS&&document.getElementById("particles-js")&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const G=it(Gm,"usuarios",t.uid);jn(G).then(H=>{H.exists()&&b(H.data().dinero)})}},[t]),T.useEffect(()=>{(async()=>{if(e){r(!0);try{const H=await jn(it(Gm,"usuarios",e));H.exists()?a({id:H.id,...H.data()}):a(null)}catch(H){console.error("Error fetching jugador:",H)}finally{r(!1)}}})()},[e]),T.useEffect(()=>{(async()=>{if(o?.equipo)try{const H=[...(o.equipo.titulares||[]).map(ce=>ce?.jugadorId).filter(Boolean),...(o.equipo.banquillo||[]).map(ce=>ce?.jugadorId).filter(Boolean)];if(H.length===0){O([]);return}const J=Hr(Gm,"jugadores"),D=Pf(J,Nf("__name__","in",H)),oe=(await hs(D)).docs.map(ce=>({id:ce.id,...ce.data()}));O(oe)}catch(H){console.error("Error cargando jugadores:",H)}})()},[o]);const Ue=()=>{h(!u)},Re=G=>G.toLocaleString("es-ES")+"€";return w.jsxs("div",{children:[w.jsxs("header",{className:"Cabecera",children:[w.jsxs("div",{className:"container-profile",children:[w.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[w.jsx("img",{src:C,onError:G=>{G.currentTarget.onerror=null,G.currentTarget.src=Vt},alt:"Foto de perfil",onClick:()=>R(!$),onMouseEnter:()=>R(!0)}),$&&w.jsxs("div",{className:"perfil-bocadillo",ref:Oe,onMouseLeave:()=>R(!1),children:[w.jsx("div",{className:"triangulo"}),w.jsx("button",{className:"btn-perfil",onClick:()=>{k(!0),R(!1)},children:"👤 Perfil"}),w.jsx("button",{className:"btn-logout",onClick:Ce,children:"➜] Cerrar sesión"})]})]}),w.jsxs("div",{className:"info-profile",children:[w.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),v!==null&&w.jsxs("p",{className:"dinero-usuario",children:["💰",w.jsx("strong",{children:Re(v)})]})]})]}),w.jsx("button",{onClick:Ue,className:"Cabecera-button",children:w.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:w.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),w.jsx("nav",{className:`Cabecera-nav ${u?"isActive":""}`,children:w.jsxs("ul",{className:"Cabecera-ul",children:[w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),w.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),ne&&w.jsx($l,{usuario:t,openModal:ne,setOpenModal:k}),x&&S&&w.jsx(s4,{jugador:S,clausulaPersonal:o?.equipo?.titulares?.find(G=>G.jugadorId===S.id)?.clausulaPersonal??o?.equipo?.banquillo?.find(G=>G.jugadorId===S.id)?.clausulaPersonal,openModal:x,setOpenModal:P}),w.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1,marginTop:"0rem"},children:[w.jsxs("div",{className:"datos-equipo",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Formación:"})," ",w.jsx("small",{children:Z})," "]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Dinero:"})," ",w.jsx("small",{children:w.jsx("span",{className:"verde",children:Re(o?.dinero||0)})})]})]}),w.jsx("div",{className:"ultimas-jornadas-equipo-jugador",children:o?.puntuaciones&&o?.puntuaciones.length>0?o?.puntuaciones.slice(-5).map((G,H,J)=>{const D=G??"-",z=J.length<5?H+1:o?.puntuaciones.length-5+H+1;let oe="";return typeof G=="number"&&(G>=36?oe="verde":G<28?oe="rojo":oe="naranja"),w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",z]}),w.jsx("div",{className:`jornada-cuadro ${oe}`,children:D})]},H)}):[...Array(5)].map((G,H)=>w.jsxs("div",{className:"jornada-item",children:[w.jsxs("small",{className:"jornada-nombre",children:["J",H+1]}),w.jsx("div",{className:"jornada-cuadro",children:"-"})]},H))}),w.jsx("div",{className:"campo",children:Ig[Z]?.map((G,H)=>{const J=A[H],D=V.find(z=>z.id===J?.jugadorId);return w.jsxs("div",{className:"jugador",style:{position:"absolute",top:G.top,left:G.left,transform:"translate(-50%, -50%)"},children:[w.jsxs("div",{className:"jugador-wrapper",children:[w.jsx("img",{src:D?.foto||Vt,alt:D?.nombre||"Vacío",className:"jugador-img",style:JE(D,H,Z).style,onClick:()=>{P(!0),L(D)}}),(()=>{const{status:z}=JE(D,H,Z);return console.log(z),z?z==="green"?w.jsx("div",{className:"status-badge green",children:"✓"}):z==="orange"?w.jsx("div",{className:"status-badge orange",children:"!"}):z==="red"?w.jsx("div",{className:"status-badge red",children:"✕"}):null:null})(),B===D?.id&&w.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(D?.puntosPorJornada.length===0)return w.jsx("div",{className:"puntos-badge gray",children:"-"});const z=D?.puntosPorJornada?.length?D?.puntosPorJornada[D?.puntosPorJornada.length-1]:null;if(z==null)return null;let oe=z==="-"?"gray":z<7?"red":z<9?"orange":"green";return w.jsx("div",{className:`puntos-badge ${oe}`,children:z})})()]}),w.jsx("p",{className:"jugador-nombre",children:D?.nombre||"Vacío"})]},D?.id||H)})}),w.jsxs("div",{className:"banquillo-section",children:[w.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),w.jsx("div",{className:"banquillo-container",children:j.map((G,H)=>{const J=V.find(D=>D.id===G?.jugadorId);return w.jsx("div",{className:"banquillo-slot",children:J?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"jugador-wrapper",children:[w.jsx("img",{src:J?.foto||Vt,alt:J?.nombre||"Vacío",className:"jugador-img",onClick:()=>{P(!0),L(J)}}),(()=>{if(J?.puntosPorJornada?.length===0)return w.jsx("div",{className:"puntos-badge gray",children:"-"});const D=J?.puntosPorJornada?.length?J?.puntosPorJornada[J?.puntosPorJornada.length-1]:null;if(D==null)return null;let z=D==="-"?"gray":D<7?"red":D<9?"orange":"green";return w.jsx("div",{className:`puntos-badge ${z}`,children:D})})()]}),w.jsx("p",{className:"jugador-nombre-banquillo",children:J?.nombre})]}):w.jsx(dt,{className:"banquillo-add",children:"+"})})})})]})]})]}),f&&w.jsx("div",{className:"onboarding-overlay",children:w.jsx("div",{className:"loader",children:"Cargando..."})})]})}const YE=Qn(xn),l4=Kr(xn);fI("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function c4({usuario:t}){const[e,n]=T.useState(!1),[r,o]=T.useState(null),[a,u]=T.useState(!1),[h,f]=T.useState(!1),[m,v]=T.useState(!1),[b,C]=T.useState(!1),A=T.useRef(null),j=()=>wu(l4);T.useEffect(()=>{const S=L=>{A.current&&!A.current.contains(L.target)&&C(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const V=S=>parseInt(S),O=t?.fotoPerfil||Vt,B=[{when:S=>S.pos==="1º",style:{background:"linear-gradient(135deg, rgb(255, 215, 0), rgb(218, 165, 32))",boxShadow:"0 0 8px rgba(255, 215, 0, 0.7), inset 0 0 4px rgba(255, 255, 255, 0.6)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:S=>S.pos==="2º",style:{background:"linear-gradient(135deg, rgb(192,192,192), rgb(169,169,169))",boxShadow:"0 0 8px rgba(192,192,192, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.5)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:S=>S.pos==="3º",style:{background:"linear-gradient(135deg, rgb(205, 127, 50), rgb(139, 69, 19))",boxShadow:"0 0 8px rgba(205, 127, 50, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.4)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:S=>V(S.pos)>3&&V(S.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:S=>V(S.pos)>3&&V(S.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],U=[{name:"Pos.",selector:S=>S.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:S=>S.jugador,cell:S=>w.jsxs(dt,{to:S.id===t.uid?"/home":`/equipo/${S.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit",cursor:"pointer"},children:[w.jsx("img",{src:S.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"1px solid black"}}),w.jsx("span",{children:S.jugador})]})},{name:"Puntos",selector:S=>S.puntos,width:"5.5rem",center:!0}],Q=()=>{u(!a)},Z=S=>S>=1e6?(S/1e6).toFixed(2)+"M":S>=1e3?(S/1e3).toFixed(2)+"K":S.toFixed(2);T.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const S=it(YE,"usuarios",t.uid);jn(S).then(L=>{L.exists()&&o(L.data().dinero)})}},[t]);const[le,ne]=T.useState([]),[k,x]=T.useState(!1);T.useEffect(()=>{(async()=>{x(!0);try{const L=Hr(YE,"usuarios");let Oe=(await hs(L)).docs.map(Ce=>({id:Ce.id,...Ce.data()})).sort((Ce,Ue)=>(Ue.puntos||0)-(Ce.puntos||0)).map((Ce,Ue)=>({id:Ce.id,pos:`${Ue+1}º`,jugador:Ce.nick||"Sin nombre",puntos:Ce.puntos||0,fotoPerfil:Ce.fotoPerfil||Vt}));ne(Oe)}catch(L){console.error("Error al cargar usuarios:",L)}finally{x(!1)}})()},[]);const P={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return w.jsxs("div",{children:[w.jsxs("header",{className:"Cabecera",children:[w.jsxs("div",{className:"container-profile",children:[w.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[w.jsx("img",{src:O,onError:S=>{S.currentTarget.onerror=null,S.currentTarget.src=Vt},alt:"Foto de perfil",onClick:()=>C(!b),onMouseEnter:()=>C(!0)}),b&&w.jsxs("div",{className:"perfil-bocadillo",ref:A,onMouseLeave:()=>C(!1),children:[w.jsx("div",{className:"triangulo"}),w.jsx("button",{className:"btn-perfil",onClick:()=>{f(!0),C(!1)},children:"👤 Perfil"}),w.jsx("button",{className:"btn-logout",onClick:j,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&w.jsx("button",{className:"btn-admin",onClick:()=>{v(!0),C(!1)},children:"⚙️ Admin"})]})]}),w.jsxs("div",{className:"info-profile",children:[w.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&w.jsxs("p",{className:"dinero-usuario",children:["💰",w.jsx("strong",{children:Z(r)})]})]})]}),w.jsx("button",{onClick:Q,className:"Cabecera-button",children:w.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:w.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),w.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:w.jsxs("ul",{className:"Cabecera-ul",children:[w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),w.jsx("li",{className:"Cabecera-li",children:w.jsx(dt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),w.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[w.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&w.jsx($l,{usuario:t,openModal:h,setOpenModal:f}),m&&w.jsx(uu,{usuario:t,openModal:m,setOpenModal:v}),w.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:w.jsx(pI,{title:"CLASIFICACIÓN",columns:U,data:le,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:k,progressComponent:w.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:B,customStyles:P,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:w.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}function u4({usuario:t}){return w.jsx("main",{className:"fallback-root",role:"main",children:w.jsxs("div",{className:"fallback-card","aria-live":"polite",children:[w.jsx("div",{className:"fallback-illustration","aria-hidden":"true",children:w.jsxs("svg",{viewBox:"0 0 600 400",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[w.jsx("defs",{children:w.jsxs("linearGradient",{id:"g1",x1:"0",x2:"1",children:[w.jsx("stop",{offset:"0",stopColor:"#06202a"}),w.jsx("stop",{offset:"1",stopColor:"#072f34"})]})}),w.jsx("rect",{width:"100%",height:"100%",rx:"16",fill:"url(#g1)",opacity:"0.12"}),w.jsxs("g",{transform:"translate(50,40)",fill:"none",stroke:"#bfe7e8",strokeOpacity:"0.08",strokeWidth:"6",children:[w.jsx("path",{d:"M0 150 C 120 10, 360 10, 480 150",strokeLinecap:"round"}),w.jsx("circle",{cx:"120",cy:"120",r:"18"}),w.jsx("circle",{cx:"360",cy:"120",r:"18"})]})]})}),w.jsxs("div",{className:"fallback-body",children:[w.jsx("h1",{className:"fallback-title",children:"Página no encontrada"}),w.jsxs("p",{className:"fallback-sub",children:["Lo sentimos, la ruta que buscas no existe o ha sido movida.",t?" Vamos a llevarte a tu panel.":" Usa el botón para volver al inicio."]}),w.jsxs("div",{className:"fallback-actions",children:[w.jsx(dt,{to:t?"/home":"/",className:"btn-primary",children:"Volver al inicio"}),t&&w.jsx(dt,{to:"/mercado",className:"btn-ghost",children:"Ir al mercado"})]}),w.jsx("small",{className:"fallback-hint",children:"Si crees que esto es un error, revisa la URL o contacta con soporte."})]})]})})}const d4=Kr(xn),h4=Qn(xn);function f4(){const[t,e]=T.useState(null),[n,r]=T.useState(!0);return T.useEffect(()=>{const o=gR(d4,async a=>{if(a)try{const u=await jn(it(h4,"usuarios",a.uid));u.exists()?e({uid:a.uid,...u.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(u){console.error("Error obteniendo datos de usuario:",u),e(null)}else e(null);r(!1)});return()=>o()},[]),n?w.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):w.jsx(nO,{children:w.jsxs(DD,{children:[w.jsx(ro,{path:"/",element:t?w.jsx(yl,{to:"/home",replace:!0}):w.jsx(oj,{})}),w.jsx(ro,{path:"/home",element:t?w.jsx(Fj,{usuario:t}):w.jsx(yl,{to:"/",replace:!0})}),w.jsx(ro,{path:"/mercado",element:t?w.jsx(Uj,{usuario:t}):w.jsx(yl,{to:"/",replace:!0})}),w.jsx(ro,{path:"/clasificacion",element:t?w.jsx(r4,{usuario:t}):w.jsx(yl,{to:"/",replace:!0})}),w.jsx(ro,{path:"/equipo/:jugadorId",element:t?w.jsx(a4,{usuario:t}):w.jsx(yl,{to:"/",replace:!0})}),w.jsx(ro,{path:"/historial",element:t?w.jsx(c4,{usuario:t}):w.jsx(yl,{to:"/",replace:!0})}),w.jsx(ro,{path:"*",element:w.jsx(u4,{usuario:t})})]})})}xS.createRoot(document.getElementById("root")).render(w.jsx(T.StrictMode,{children:w.jsx(f4,{})}));
