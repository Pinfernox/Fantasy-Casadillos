(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function yS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ym={exports:{}},Vc={},wm={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function wS(){if(v_)return Qe;v_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,F={};function L(x,$,te){this.props=x,this.context=$,this.refs=F,this.updater=te||N}L.prototype.isReactComponent={},L.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},L.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function H(){}H.prototype=L.prototype;function O(x,$,te){this.props=x,this.context=$,this.refs=F,this.updater=te||N}var z=O.prototype=new H;z.constructor=O,j(z,L.prototype),z.isPureReactComponent=!0;var G=Array.isArray,ne=Object.prototype.hasOwnProperty,Z={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(x,$,te){var se,fe={},pe=null,Ce=null;if($!=null)for(se in $.ref!==void 0&&(Ce=$.ref),$.key!==void 0&&(pe=""+$.key),$)ne.call($,se)&&!k.hasOwnProperty(se)&&(fe[se]=$[se]);var Ae=arguments.length-2;if(Ae===1)fe.children=te;else if(1<Ae){for(var He=Array(Ae),yt=0;yt<Ae;yt++)He[yt]=arguments[yt+2];fe.children=He}if(x&&x.defaultProps)for(se in Ae=x.defaultProps,Ae)fe[se]===void 0&&(fe[se]=Ae[se]);return{$$typeof:t,type:x,key:pe,ref:Ce,props:fe,_owner:Z.current}}function R(x,$){return{$$typeof:t,type:x.type,key:$,ref:x.ref,props:x.props,_owner:x._owner}}function P(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function M(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(te){return $[te]})}var U=/\/+/g;function A(x,$){return typeof x=="object"&&x!==null&&x.key!=null?M(""+x.key):$.toString(36)}function Pe(x,$,te,se,fe){var pe=typeof x;(pe==="undefined"||pe==="boolean")&&(x=null);var Ce=!1;if(x===null)Ce=!0;else switch(pe){case"string":case"number":Ce=!0;break;case"object":switch(x.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=x,fe=fe(Ce),x=se===""?"."+A(Ce,0):se,G(fe)?(te="",x!=null&&(te=x.replace(U,"$&/")+"/"),Pe(fe,$,te,"",function(yt){return yt})):fe!=null&&(P(fe)&&(fe=R(fe,te+(!fe.key||Ce&&Ce.key===fe.key?"":(""+fe.key).replace(U,"$&/")+"/")+x)),$.push(fe)),1;if(Ce=0,se=se===""?".":se+":",G(x))for(var Ae=0;Ae<x.length;Ae++){pe=x[Ae];var He=se+A(pe,Ae);Ce+=Pe(pe,$,te,He,fe)}else if(He=T(x),typeof He=="function")for(x=He.call(x),Ae=0;!(pe=x.next()).done;)pe=pe.value,He=se+A(pe,Ae++),Ce+=Pe(pe,$,te,He,fe);else if(pe==="object")throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Te(x,$,te){if(x==null)return x;var se=[],fe=0;return Pe(x,se,"","",function(pe){return $.call(te,pe,fe++)}),se}function Ne(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(te){(x._status===0||x._status===-1)&&(x._status=1,x._result=te)},function(te){(x._status===0||x._status===-1)&&(x._status=2,x._result=te)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var Le={current:null},X={transition:null},le={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:X,ReactCurrentOwner:Z};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:Te,forEach:function(x,$,te){Te(x,function(){$.apply(this,arguments)},te)},count:function(x){var $=0;return Te(x,function(){$++}),$},toArray:function(x){return Te(x,function($){return $})||[]},only:function(x){if(!P(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Qe.Component=L,Qe.Fragment=n,Qe.Profiler=o,Qe.PureComponent=O,Qe.StrictMode=r,Qe.Suspense=f,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Qe.act=ee,Qe.cloneElement=function(x,$,te){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var se=j({},x.props),fe=x.key,pe=x.ref,Ce=x._owner;if($!=null){if($.ref!==void 0&&(pe=$.ref,Ce=Z.current),$.key!==void 0&&(fe=""+$.key),x.type&&x.type.defaultProps)var Ae=x.type.defaultProps;for(He in $)ne.call($,He)&&!k.hasOwnProperty(He)&&(se[He]=$[He]===void 0&&Ae!==void 0?Ae[He]:$[He])}var He=arguments.length-2;if(He===1)se.children=te;else if(1<He){Ae=Array(He);for(var yt=0;yt<He;yt++)Ae[yt]=arguments[yt+2];se.children=Ae}return{$$typeof:t,type:x.type,key:fe,ref:pe,props:se,_owner:Ce}},Qe.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:a,_context:x},x.Consumer=x},Qe.createElement=S,Qe.createFactory=function(x){var $=S.bind(null,x);return $.type=x,$},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(x){return{$$typeof:h,render:x}},Qe.isValidElement=P,Qe.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:Ne}},Qe.memo=function(x,$){return{$$typeof:y,type:x,compare:$===void 0?null:$}},Qe.startTransition=function(x){var $=X.transition;X.transition={};try{x()}finally{X.transition=$}},Qe.unstable_act=ee,Qe.useCallback=function(x,$){return Le.current.useCallback(x,$)},Qe.useContext=function(x){return Le.current.useContext(x)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(x){return Le.current.useDeferredValue(x)},Qe.useEffect=function(x,$){return Le.current.useEffect(x,$)},Qe.useId=function(){return Le.current.useId()},Qe.useImperativeHandle=function(x,$,te){return Le.current.useImperativeHandle(x,$,te)},Qe.useInsertionEffect=function(x,$){return Le.current.useInsertionEffect(x,$)},Qe.useLayoutEffect=function(x,$){return Le.current.useLayoutEffect(x,$)},Qe.useMemo=function(x,$){return Le.current.useMemo(x,$)},Qe.useReducer=function(x,$,te){return Le.current.useReducer(x,$,te)},Qe.useRef=function(x){return Le.current.useRef(x)},Qe.useState=function(x){return Le.current.useState(x)},Qe.useSyncExternalStore=function(x,$,te){return Le.current.useSyncExternalStore(x,$,te)},Qe.useTransition=function(){return Le.current.useTransition()},Qe.version="18.3.1",Qe}var __;function Mg(){return __||(__=1,wm.exports=wS()),wm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function vS(){if(E_)return Vc;E_=1;var t=Mg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,y){var v,b={},T=null,N=null;y!==void 0&&(T=""+y),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(N=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(b[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)b[v]===void 0&&(b[v]=f[v]);return{$$typeof:e,type:h,key:T,ref:N,props:b,_owner:o.current}}return Vc.Fragment=n,Vc.jsx=u,Vc.jsxs=u,Vc}var b_;function _S(){return b_||(b_=1,ym.exports=vS()),ym.exports}var m=_S(),C=Mg();const Ke=yS(C);var Bd={},vm={exports:{}},ar={},_m={exports:{}},Em={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function ES(){return C_||(C_=1,(function(t){function e(X,le){var ee=X.length;X.push(le);e:for(;0<ee;){var x=ee-1>>>1,$=X[x];if(0<o($,le))X[x]=le,X[ee]=$,ee=x;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var le=X[0],ee=X.pop();if(ee!==le){X[0]=ee;e:for(var x=0,$=X.length,te=$>>>1;x<te;){var se=2*(x+1)-1,fe=X[se],pe=se+1,Ce=X[pe];if(0>o(fe,ee))pe<$&&0>o(Ce,fe)?(X[x]=Ce,X[pe]=ee,x=pe):(X[x]=fe,X[se]=ee,x=se);else if(pe<$&&0>o(Ce,ee))X[x]=Ce,X[pe]=ee,x=pe;else break e}}return le}function o(X,le){var ee=X.sortIndex-le.sortIndex;return ee!==0?ee:X.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],y=[],v=1,b=null,T=3,N=!1,j=!1,F=!1,L=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(X){for(var le=n(y);le!==null;){if(le.callback===null)r(y);else if(le.startTime<=X)r(y),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(y)}}function G(X){if(F=!1,z(X),!j)if(n(f)!==null)j=!0,Ne(ne);else{var le=n(y);le!==null&&Le(G,le.startTime-X)}}function ne(X,le){j=!1,F&&(F=!1,H(S),S=-1),N=!0;var ee=T;try{for(z(le),b=n(f);b!==null&&(!(b.expirationTime>le)||X&&!M());){var x=b.callback;if(typeof x=="function"){b.callback=null,T=b.priorityLevel;var $=x(b.expirationTime<=le);le=t.unstable_now(),typeof $=="function"?b.callback=$:b===n(f)&&r(f),z(le)}else r(f);b=n(f)}if(b!==null)var te=!0;else{var se=n(y);se!==null&&Le(G,se.startTime-le),te=!1}return te}finally{b=null,T=ee,N=!1}}var Z=!1,k=null,S=-1,R=5,P=-1;function M(){return!(t.unstable_now()-P<R)}function U(){if(k!==null){var X=t.unstable_now();P=X;var le=!0;try{le=k(!0,X)}finally{le?A():(Z=!1,k=null)}}else Z=!1}var A;if(typeof O=="function")A=function(){O(U)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,Te=Pe.port2;Pe.port1.onmessage=U,A=function(){Te.postMessage(null)}}else A=function(){L(U,0)};function Ne(X){k=X,Z||(Z=!0,A())}function Le(X,le){S=L(function(){X(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){j||N||(j=!0,Ne(ne))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(X){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var ee=T;T=le;try{return X()}finally{T=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ee=T;T=X;try{return le()}finally{T=ee}},t.unstable_scheduleCallback=function(X,le,ee){var x=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?x+ee:x):ee=x,X){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ee+$,X={id:v++,callback:le,priorityLevel:X,startTime:ee,expirationTime:$,sortIndex:-1},ee>x?(X.sortIndex=ee,e(y,X),n(f)===null&&X===n(y)&&(F?(H(S),S=-1):F=!0,Le(G,ee-x))):(X.sortIndex=$,e(f,X),j||N||(j=!0,Ne(ne))),X},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(X){var le=T;return function(){var ee=T;T=le;try{return X.apply(this,arguments)}finally{T=ee}}}})(Em)),Em}var T_;function bS(){return T_||(T_=1,_m.exports=ES()),_m.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function CS(){if(I_)return ar;I_=1;var t=Mg(),e=bS();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function T(s){return f.call(b,s)?!0:f.call(v,s)?!1:y.test(s)?b[s]=!0:(v[s]=!0,!1)}function N(s,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,i,l,d){if(i===null||typeof i>"u"||N(s,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function F(s,i,l,d,p,w,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=w,this.removeEmptyString=E}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){L[s]=new F(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];L[i]=new F(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){L[s]=new F(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){L[s]=new F(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){L[s]=new F(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){L[s]=new F(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){L[s]=new F(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){L[s]=new F(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){L[s]=new F(s,5,!1,s.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(H,O);L[i]=new F(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(H,O);L[i]=new F(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(H,O);L[i]=new F(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){L[s]=new F(s,1,!1,s.toLowerCase(),null,!1,!1)}),L.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){L[s]=new F(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,i,l,d){var p=L.hasOwnProperty(i)?L[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(j(i,l,p,d)&&(l=null),d||p===null?T(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?s.setAttributeNS(d,i,l):s.setAttribute(i,l))))}var G=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),Z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),X=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var ee=Object.assign,x;function $(s){if(x===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||""}return`
`+x+s}var te=!1;function se(s,i){if(!s||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(J){var d=J}Reflect.construct(s,[],i)}else{try{i.call()}catch(J){d=J}s.call(i.prototype)}else{try{throw Error()}catch(J){d=J}s()}}catch(J){if(J&&d&&typeof J.stack=="string"){for(var p=J.stack.split(`
`),w=d.stack.split(`
`),E=p.length-1,D=w.length-1;1<=E&&0<=D&&p[E]!==w[D];)D--;for(;1<=E&&0<=D;E--,D--)if(p[E]!==w[D]){if(E!==1||D!==1)do if(E--,D--,0>D||p[E]!==w[D]){var V=`
`+p[E].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=E&&0<=D);break}}}finally{te=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?$(s):""}function fe(s){switch(s.tag){case 5:return $(s.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return s=se(s.type,!1),s;case 11:return s=se(s.type.render,!1),s;case 1:return s=se(s.type,!0),s;default:return""}}function pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case Z:return"Portal";case R:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case Pe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case P:return(s._context.displayName||"Context")+".Provider";case U:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Te:return i=s.displayName||null,i!==null?i:pe(s.type)||"Memo";case Ne:i=s._payload,s=s._init;try{return pe(s(i))}catch{}}return null}function Ce(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ae(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function He(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yt(s){var i=He(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,w=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,w.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function bt(s){s._valueTracker||(s._valueTracker=yt(s))}function St(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=He(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function $n(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Un(s,i){var l=i.checked;return ee({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function fr(s,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=Ae(i.value!=null?i.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Jr(s,i){i=i.checked,i!=null&&z(s,"checked",i,!1)}function Fe(s,i){Jr(s,i);var l=Ae(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?st(s,i.type,l):i.hasOwnProperty("defaultValue")&&st(s,i.type,Ae(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function we(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function st(s,i,l){(i!=="number"||$n(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var De=Array.isArray;function qe(s,i,l,d){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&d&&(s[l].defaultSelected=!0)}else{for(l=""+Ae(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function wt(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ge(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(De(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:Ae(l)}}function Xe(s,i){var l=Ae(i.value),d=Ae(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function Ze(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function et(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?et(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var pr,Po=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,d,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(pr=pr||document.createElement("div"),pr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=pr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function gs(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ws=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(s){ws.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),ys[i]=ys[s]})});function Ao(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ys.hasOwnProperty(s)&&ys[s]?(""+i).trim():i+"px"}function No(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Ao(l,i[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,p):s[l]=p}}var ki=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Do(s,i){if(i){if(ki[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Oo(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ws=null;function Gs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ri=null,Bn=null,mr=null;function Rr(s){if(s=Cc(s)){if(typeof Ri!="function")throw Error(n(280));var i=s.stateNode;i&&(i=rd(i),Ri(s.stateNode,s.type,i))}}function Pr(s){Bn?mr?mr.push(s):mr=[s]:Bn=s}function Lo(){if(Bn){var s=Bn,i=mr;if(mr=Bn=null,Rr(s),i)for(s=0;s<i.length;s++)Rr(i[s])}}function vs(s,i){return s(i)}function Pi(){}var Ar=!1;function Ai(s,i,l){if(Ar)return s(i,l);Ar=!0;try{return vs(s,i,l)}finally{Ar=!1,(Bn!==null||mr!==null)&&(Pi(),Lo())}}function Nt(s,i){var l=s.stateNode;if(l===null)return null;var d=rd(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Ks=!1;if(h)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{Ks=!1}function _s(s,i,l,d,p,w,E,D,V){var J=Array.prototype.slice.call(arguments,3);try{i.apply(l,J)}catch(ae){this.onError(ae)}}var Js=!1,Ni=null,Yt=!1,_n=null,jo={onError:function(s){Js=!0,Ni=s}};function Qs(s,i,l,d,p,w,E,D,V){Js=!1,Ni=null,_s.apply(jo,arguments)}function Mo(s,i,l,d,p,w,E,D,V){if(Qs.apply(this,arguments),Js){if(Js){var J=Ni;Js=!1,Ni=null}else throw Error(n(198));Yt||(Yt=!0,_n=J)}}function $t(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Xn(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function gr(s){if($t(s)!==s)throw Error(n(188))}function Nr(s){var i=s.alternate;if(!i){if(i=$t(s),i===null)throw Error(n(188));return i!==s?null:s}for(var l=s,d=i;;){var p=l.return;if(p===null)break;var w=p.alternate;if(w===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===w.child){for(w=p.child;w;){if(w===l)return gr(p),s;if(w===d)return gr(p),i;w=w.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=w;else{for(var E=!1,D=p.child;D;){if(D===l){E=!0,l=p,d=w;break}if(D===d){E=!0,d=p,l=w;break}D=D.sibling}if(!E){for(D=w.child;D;){if(D===l){E=!0,l=w,d=p;break}if(D===d){E=!0,d=w,l=p;break}D=D.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:i}function Di(s){return s=Nr(s),s!==null?Qr(s):null}function Qr(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Qr(s);if(i!==null)return i;s=s.sibling}return null}var Ys=e.unstable_scheduleCallback,Vo=e.unstable_cancelCallback,La=e.unstable_shouldYield,ac=e.unstable_requestPaint,_t=e.unstable_now,qt=e.unstable_getCurrentPriorityLevel,yr=e.unstable_ImmediatePriority,Es=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,Fo=e.unstable_LowPriority,ja=e.unstable_IdlePriority,Xs=null,zn=null;function Ma(s){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Xs,s,void 0,(s.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Fa,$o=Math.log,Va=Math.LN2;function Fa(s){return s>>>=0,s===0?32:31-($o(s)/Va|0)|0}var Se=64,Je=4194304;function Dt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function on(s,i){var l=s.pendingLanes;if(l===0)return 0;var d=0,p=s.suspendedLanes,w=s.pingedLanes,E=l&268435455;if(E!==0){var D=E&~p;D!==0?d=Dt(D):(w&=E,w!==0&&(d=Dt(w)))}else E=l&~p,E!==0?d=Dt(E):w!==0&&(d=Dt(w));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,w=i&-i,p>=w||p===16&&(w&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)l=31-Ut(i),p=1<<l,d|=s[l],i&=~p;return d}function Oe(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,w=s.pendingLanes;0<w;){var E=31-Ut(w),D=1<<E,V=p[E];V===-1?((D&l)===0||(D&d)!==0)&&(p[E]=Oe(D,i)):V<=i&&(s.expiredLanes|=D),w&=~D}}function Xt(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Rn(){var s=Se;return Se<<=1,(Se&4194240)===0&&(Se=64),s}function Oi(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Li(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Ut(i),s[i]=l}function Et(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-Ut(l),w=1<<p;i[p]=0,d[p]=-1,s[p]=-1,l&=~w}}function ji(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-Ut(l),p=1<<d;p&i|s[d]&i&&(s[d]|=i),l&=~p}}var it=0;function Mi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ju,$a,Mu,Vu,Fu,lc=!1,bs=[],En=null,Yr=null,Xr=null,Vi=new Map,Dr=new Map,Cs=[],Kf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $u(s,i){switch(s){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Vi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(i.pointerId)}}function er(s,i,l,d,p,w){return s===null||s.nativeEvent!==w?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:w,targetContainers:[p]},i!==null&&(i=Cc(i),i!==null&&$a(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function Jf(s,i,l,d,p){switch(i){case"focusin":return En=er(En,s,i,l,d,p),!0;case"dragenter":return Yr=er(Yr,s,i,l,d,p),!0;case"mouseover":return Xr=er(Xr,s,i,l,d,p),!0;case"pointerover":var w=p.pointerId;return Vi.set(w,er(Vi.get(w)||null,s,i,l,d,p)),!0;case"gotpointercapture":return w=p.pointerId,Dr.set(w,er(Dr.get(w)||null,s,i,l,d,p)),!0}return!1}function Uu(s){var i=qo(s.target);if(i!==null){var l=$t(i);if(l!==null){if(i=l.tag,i===13){if(i=Xn(l),i!==null){s.blockedOn=i,Fu(s.priority,function(){Mu(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zs(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Ua(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Ws=d,l.target.dispatchEvent(d),Ws=null}else return i=Cc(l),i!==null&&$a(i),s.blockedOn=l,!1;i.shift()}return!0}function Uo(s,i,l){Zs(s)&&l.delete(i)}function Bu(){lc=!1,En!==null&&Zs(En)&&(En=null),Yr!==null&&Zs(Yr)&&(Yr=null),Xr!==null&&Zs(Xr)&&(Xr=null),Vi.forEach(Uo),Dr.forEach(Uo)}function Zr(s,i){s.blockedOn===i&&(s.blockedOn=null,lc||(lc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bu)))}function es(s){function i(p){return Zr(p,s)}if(0<bs.length){Zr(bs[0],s);for(var l=1;l<bs.length;l++){var d=bs[l];d.blockedOn===s&&(d.blockedOn=null)}}for(En!==null&&Zr(En,s),Yr!==null&&Zr(Yr,s),Xr!==null&&Zr(Xr,s),Vi.forEach(i),Dr.forEach(i),l=0;l<Cs.length;l++)d=Cs[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<Cs.length&&(l=Cs[0],l.blockedOn===null);)Uu(l),l.blockedOn===null&&Cs.shift()}var ei=G.ReactCurrentBatchConfig,Fi=!0;function Ot(s,i,l,d){var p=it,w=ei.transition;ei.transition=null;try{it=1,cc(s,i,l,d)}finally{it=p,ei.transition=w}}function Qf(s,i,l,d){var p=it,w=ei.transition;ei.transition=null;try{it=4,cc(s,i,l,d)}finally{it=p,ei.transition=w}}function cc(s,i,l,d){if(Fi){var p=Ua(s,i,l,d);if(p===null)ap(s,i,d,Bo,l),$u(s,d);else if(Jf(p,s,i,l,d))d.stopPropagation();else if($u(s,d),i&4&&-1<Kf.indexOf(s)){for(;p!==null;){var w=Cc(p);if(w!==null&&ju(w),w=Ua(s,i,l,d),w===null&&ap(s,i,d,Bo,l),w===p)break;p=w}p!==null&&d.stopPropagation()}else ap(s,i,d,null,l)}}var Bo=null;function Ua(s,i,l,d){if(Bo=null,s=Gs(d),s=qo(s),s!==null)if(i=$t(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Xn(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Bo=s,null}function uc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qt()){case yr:return 1;case Es:return 4;case Zn:case Fo:return 16;case ja:return 536870912;default:return 16}default:return 16}}var vr=null,Ba=null,tr=null;function dc(){if(tr)return tr;var s,i=Ba,l=i.length,d,p="value"in vr?vr.value:vr.textContent,w=p.length;for(s=0;s<l&&i[s]===p[s];s++);var E=l-s;for(d=1;d<=E&&i[l-d]===p[w-d];d++);return tr=p.slice(s,1<d?1-d:void 0)}function za(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Ts(){return!0}function hc(){return!1}function bn(s){function i(l,d,p,w,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(l=s[D],this[D]=l?l(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ts:hc,this.isPropagationStopped=hc,this}return ee(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),i}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=bn(ts),Is=ee({},ts,{view:0,detail:0}),Yf=bn(Is),qa,ti,$i,zo=ee({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$i&&($i&&s.type==="mousemove"?(qa=s.screenX-$i.screenX,ti=s.screenY-$i.screenY):ti=qa=0,$i=s),qa)},movementY:function(s){return"movementY"in s?s.movementY:ti}}),Wa=bn(zo),fc=ee({},zo,{dataTransfer:0}),zu=bn(fc),Ga=ee({},Is,{relatedTarget:0}),Ka=bn(Ga),Hu=ee({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),ni=bn(Hu),qu=ee({},ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wu=bn(qu),Gu=ee({},ts,{data:0}),pc=bn(Gu),Ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Ku[s])?!!i[s]:!1}function Ss(){return Ju}var c=ee({},Is,{key:function(s){if(s.key){var i=Ja[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=za(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(s){return s.type==="keypress"?za(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?za(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=bn(c),_=ee({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=bn(_),q=ee({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),Q=bn(q),he=ee({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),gt=bn(he),an=ee({},zo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ot=bn(an),fn=[9,13,27,32],Zt=h&&"CompositionEvent"in window,Or=null;h&&"documentMode"in document&&(Or=document.documentMode);var _r=h&&"TextEvent"in window&&!Or,Ho=h&&(!Zt||Or&&8<Or&&11>=Or),Qa=" ",fw=!1;function pw(s,i){switch(s){case"keyup":return fn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ya=!1;function pI(s,i){switch(s){case"compositionend":return mw(i);case"keypress":return i.which!==32?null:(fw=!0,Qa);case"textInput":return s=i.data,s===Qa&&fw?null:s;default:return null}}function mI(s,i){if(Ya)return s==="compositionend"||!Zt&&pw(s,i)?(s=dc(),tr=Ba=vr=null,Ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ho&&i.locale!=="ko"?null:i.data;default:return null}}var gI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gw(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!gI[s.type]:i==="textarea"}function yw(s,i,l,d){Pr(d),i=ed(i,"onChange"),0<i.length&&(l=new Ha("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var mc=null,gc=null;function yI(s){Lw(s,0)}function Qu(s){var i=nl(s);if(St(i))return s}function wI(s,i){if(s==="change")return i}var ww=!1;if(h){var Xf;if(h){var Zf="oninput"in document;if(!Zf){var vw=document.createElement("div");vw.setAttribute("oninput","return;"),Zf=typeof vw.oninput=="function"}Xf=Zf}else Xf=!1;ww=Xf&&(!document.documentMode||9<document.documentMode)}function _w(){mc&&(mc.detachEvent("onpropertychange",Ew),gc=mc=null)}function Ew(s){if(s.propertyName==="value"&&Qu(gc)){var i=[];yw(i,gc,s,Gs(s)),Ai(yI,i)}}function vI(s,i,l){s==="focusin"?(_w(),mc=i,gc=l,mc.attachEvent("onpropertychange",Ew)):s==="focusout"&&_w()}function _I(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qu(gc)}function EI(s,i){if(s==="click")return Qu(i)}function bI(s,i){if(s==="input"||s==="change")return Qu(i)}function CI(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var ns=typeof Object.is=="function"?Object.is:CI;function yc(s,i){if(ns(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(i,p)||!ns(s[p],i[p]))return!1}return!0}function bw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Cw(s,i){var l=bw(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bw(l)}}function Tw(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Tw(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Iw(){for(var s=window,i=$n();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=$n(s.document)}return i}function ep(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function TI(s){var i=Iw(),l=s.focusedElem,d=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Tw(l.ownerDocument.documentElement,l)){if(d!==null&&ep(l)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,w=Math.min(d.start,p);d=d.end===void 0?w:Math.min(d.end,p),!s.extend&&w>d&&(p=d,d=w,w=p),p=Cw(l,w);var E=Cw(l,d);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),w>d?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var II=h&&"documentMode"in document&&11>=document.documentMode,Xa=null,tp=null,wc=null,np=!1;function Sw(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;np||Xa==null||Xa!==$n(d)||(d=Xa,"selectionStart"in d&&ep(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),wc&&yc(wc,d)||(wc=d,d=ed(tp,"onSelect"),0<d.length&&(i=new Ha("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=Xa)))}function Yu(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Za={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},rp={},xw={};h&&(xw=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Xu(s){if(rp[s])return rp[s];if(!Za[s])return s;var i=Za[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in xw)return rp[s]=i[l];return s}var kw=Xu("animationend"),Rw=Xu("animationiteration"),Pw=Xu("animationstart"),Aw=Xu("transitionend"),Nw=new Map,Dw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(s,i){Nw.set(s,i),a(i,[s])}for(var sp=0;sp<Dw.length;sp++){var ip=Dw[sp],SI=ip.toLowerCase(),xI=ip[0].toUpperCase()+ip.slice(1);Ui(SI,"on"+xI)}Ui(kw,"onAnimationEnd"),Ui(Rw,"onAnimationIteration"),Ui(Pw,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(Aw,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kI=new Set("cancel close invalid load scroll toggle".split(" ").concat(vc));function Ow(s,i,l){var d=s.type||"unknown-event";s.currentTarget=l,Mo(d,i,void 0,s),s.currentTarget=null}function Lw(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],p=d.event;d=d.listeners;e:{var w=void 0;if(i)for(var E=d.length-1;0<=E;E--){var D=d[E],V=D.instance,J=D.currentTarget;if(D=D.listener,V!==w&&p.isPropagationStopped())break e;Ow(p,D,J),w=V}else for(E=0;E<d.length;E++){if(D=d[E],V=D.instance,J=D.currentTarget,D=D.listener,V!==w&&p.isPropagationStopped())break e;Ow(p,D,J),w=V}}}if(Yt)throw s=_n,Yt=!1,_n=null,s}function xt(s,i){var l=i[fp];l===void 0&&(l=i[fp]=new Set);var d=s+"__bubble";l.has(d)||(jw(i,s,2,!1),l.add(d))}function op(s,i,l){var d=0;i&&(d|=4),jw(l,s,d,i)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function _c(s){if(!s[Zu]){s[Zu]=!0,r.forEach(function(l){l!=="selectionchange"&&(kI.has(l)||op(l,!1,s),op(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Zu]||(i[Zu]=!0,op("selectionchange",!1,i))}}function jw(s,i,l,d){switch(uc(i)){case 1:var p=Ot;break;case 4:p=Qf;break;default:p=cc}l=p.bind(null,i,l,s),p=void 0,!Ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function ap(s,i,l,d,p){var w=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var D=d.stateNode.containerInfo;if(D===p||D.nodeType===8&&D.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;E=E.return}for(;D!==null;){if(E=qo(D),E===null)return;if(V=E.tag,V===5||V===6){d=w=E;continue e}D=D.parentNode}}d=d.return}Ai(function(){var J=w,ae=Gs(l),ce=[];e:{var oe=Nw.get(s);if(oe!==void 0){var ge=Ha,_e=s;switch(s){case"keypress":if(za(l)===0)break e;case"keydown":case"keyup":ge=g;break;case"focusin":_e="focus",ge=Ka;break;case"focusout":_e="blur",ge=Ka;break;case"beforeblur":case"afterblur":ge=Ka;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Q;break;case kw:case Rw:case Pw:ge=ni;break;case Aw:ge=gt;break;case"scroll":ge=Yf;break;case"wheel":ge=ot;break;case"copy":case"cut":case"paste":ge=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=I}var Ee=(i&4)!==0,Wt=!Ee&&s==="scroll",W=Ee?oe!==null?oe+"Capture":null:oe;Ee=[];for(var B=J,K;B!==null;){K=B;var de=K.stateNode;if(K.tag===5&&de!==null&&(K=de,W!==null&&(de=Nt(B,W),de!=null&&Ee.push(Ec(B,de,K)))),Wt)break;B=B.return}0<Ee.length&&(oe=new ge(oe,_e,null,l,ae),ce.push({event:oe,listeners:Ee}))}}if((i&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",ge=s==="mouseout"||s==="pointerout",oe&&l!==Ws&&(_e=l.relatedTarget||l.fromElement)&&(qo(_e)||_e[ri]))break e;if((ge||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,ge?(_e=l.relatedTarget||l.toElement,ge=J,_e=_e?qo(_e):null,_e!==null&&(Wt=$t(_e),_e!==Wt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(ge=null,_e=J),ge!==_e)){if(Ee=Wa,de="onMouseLeave",W="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=I,de="onPointerLeave",W="onPointerEnter",B="pointer"),Wt=ge==null?oe:nl(ge),K=_e==null?oe:nl(_e),oe=new Ee(de,B+"leave",ge,l,ae),oe.target=Wt,oe.relatedTarget=K,de=null,qo(ae)===J&&(Ee=new Ee(W,B+"enter",_e,l,ae),Ee.target=K,Ee.relatedTarget=Wt,de=Ee),Wt=de,ge&&_e)t:{for(Ee=ge,W=_e,B=0,K=Ee;K;K=el(K))B++;for(K=0,de=W;de;de=el(de))K++;for(;0<B-K;)Ee=el(Ee),B--;for(;0<K-B;)W=el(W),K--;for(;B--;){if(Ee===W||W!==null&&Ee===W.alternate)break t;Ee=el(Ee),W=el(W)}Ee=null}else Ee=null;ge!==null&&Mw(ce,oe,ge,Ee,!1),_e!==null&&Wt!==null&&Mw(ce,Wt,_e,Ee,!0)}}e:{if(oe=J?nl(J):window,ge=oe.nodeName&&oe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&oe.type==="file")var be=wI;else if(gw(oe))if(ww)be=bI;else{be=_I;var xe=vI}else(ge=oe.nodeName)&&ge.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(be=EI);if(be&&(be=be(s,J))){yw(ce,be,l,ae);break e}xe&&xe(s,oe,J),s==="focusout"&&(xe=oe._wrapperState)&&xe.controlled&&oe.type==="number"&&st(oe,"number",oe.value)}switch(xe=J?nl(J):window,s){case"focusin":(gw(xe)||xe.contentEditable==="true")&&(Xa=xe,tp=J,wc=null);break;case"focusout":wc=tp=Xa=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,Sw(ce,l,ae);break;case"selectionchange":if(II)break;case"keydown":case"keyup":Sw(ce,l,ae)}var ke;if(Zt)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Ya?pw(s,l)&&($e="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&($e="onCompositionStart");$e&&(Ho&&l.locale!=="ko"&&(Ya||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Ya&&(ke=dc()):(vr=ae,Ba="value"in vr?vr.value:vr.textContent,Ya=!0)),xe=ed(J,$e),0<xe.length&&($e=new pc($e,s,null,l,ae),ce.push({event:$e,listeners:xe}),ke?$e.data=ke:(ke=mw(l),ke!==null&&($e.data=ke)))),(ke=_r?pI(s,l):mI(s,l))&&(J=ed(J,"onBeforeInput"),0<J.length&&(ae=new pc("onBeforeInput","beforeinput",null,l,ae),ce.push({event:ae,listeners:J}),ae.data=ke))}Lw(ce,i)})}function Ec(s,i,l){return{instance:s,listener:i,currentTarget:l}}function ed(s,i){for(var l=i+"Capture",d=[];s!==null;){var p=s,w=p.stateNode;p.tag===5&&w!==null&&(p=w,w=Nt(s,l),w!=null&&d.unshift(Ec(s,w,p)),w=Nt(s,i),w!=null&&d.push(Ec(s,w,p))),s=s.return}return d}function el(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Mw(s,i,l,d,p){for(var w=i._reactName,E=[];l!==null&&l!==d;){var D=l,V=D.alternate,J=D.stateNode;if(V!==null&&V===d)break;D.tag===5&&J!==null&&(D=J,p?(V=Nt(l,w),V!=null&&E.unshift(Ec(l,V,D))):p||(V=Nt(l,w),V!=null&&E.push(Ec(l,V,D)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var RI=/\r\n?/g,PI=/\u0000|\uFFFD/g;function Vw(s){return(typeof s=="string"?s:""+s).replace(RI,`
`).replace(PI,"")}function td(s,i,l){if(i=Vw(i),Vw(s)!==i&&l)throw Error(n(425))}function nd(){}var lp=null,cp=null;function up(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dp=typeof setTimeout=="function"?setTimeout:void 0,AI=typeof clearTimeout=="function"?clearTimeout:void 0,Fw=typeof Promise=="function"?Promise:void 0,NI=typeof queueMicrotask=="function"?queueMicrotask:typeof Fw<"u"?function(s){return Fw.resolve(null).then(s).catch(DI)}:dp;function DI(s){setTimeout(function(){throw s})}function hp(s,i){var l=i,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){s.removeChild(p),es(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);es(i)}function Bi(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function $w(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var tl=Math.random().toString(36).slice(2),xs="__reactFiber$"+tl,bc="__reactProps$"+tl,ri="__reactContainer$"+tl,fp="__reactEvents$"+tl,OI="__reactListeners$"+tl,LI="__reactHandles$"+tl;function qo(s){var i=s[xs];if(i)return i;for(var l=s.parentNode;l;){if(i=l[ri]||l[xs]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=$w(s);s!==null;){if(l=s[xs])return l;s=$w(s)}return i}s=l,l=s.parentNode}return null}function Cc(s){return s=s[xs]||s[ri],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function nl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function rd(s){return s[bc]||null}var pp=[],rl=-1;function zi(s){return{current:s}}function kt(s){0>rl||(s.current=pp[rl],pp[rl]=null,rl--)}function Ct(s,i){rl++,pp[rl]=s.current,s.current=i}var Hi={},Pn=zi(Hi),nr=zi(!1),Wo=Hi;function sl(s,i){var l=s.type.contextTypes;if(!l)return Hi;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},w;for(w in l)p[w]=i[w];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function rr(s){return s=s.childContextTypes,s!=null}function sd(){kt(nr),kt(Pn)}function Uw(s,i,l){if(Pn.current!==Hi)throw Error(n(168));Ct(Pn,i),Ct(nr,l)}function Bw(s,i,l){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,Ce(s)||"Unknown",p));return ee({},l,d)}function id(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hi,Wo=Pn.current,Ct(Pn,s),Ct(nr,nr.current),!0}function zw(s,i,l){var d=s.stateNode;if(!d)throw Error(n(169));l?(s=Bw(s,i,Wo),d.__reactInternalMemoizedMergedChildContext=s,kt(nr),kt(Pn),Ct(Pn,s)):kt(nr),Ct(nr,l)}var si=null,od=!1,mp=!1;function Hw(s){si===null?si=[s]:si.push(s)}function jI(s){od=!0,Hw(s)}function qi(){if(!mp&&si!==null){mp=!0;var s=0,i=it;try{var l=si;for(it=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}si=null,od=!1}catch(p){throw si!==null&&(si=si.slice(s+1)),Ys(yr,qi),p}finally{it=i,mp=!1}}return null}var il=[],ol=0,ad=null,ld=0,Lr=[],jr=0,Go=null,ii=1,oi="";function Ko(s,i){il[ol++]=ld,il[ol++]=ad,ad=s,ld=i}function qw(s,i,l){Lr[jr++]=ii,Lr[jr++]=oi,Lr[jr++]=Go,Go=s;var d=ii;s=oi;var p=32-Ut(d)-1;d&=~(1<<p),l+=1;var w=32-Ut(i)+p;if(30<w){var E=p-p%5;w=(d&(1<<E)-1).toString(32),d>>=E,p-=E,ii=1<<32-Ut(i)+p|l<<p|d,oi=w+s}else ii=1<<w|l<<p|d,oi=s}function gp(s){s.return!==null&&(Ko(s,1),qw(s,1,0))}function yp(s){for(;s===ad;)ad=il[--ol],il[ol]=null,ld=il[--ol],il[ol]=null;for(;s===Go;)Go=Lr[--jr],Lr[jr]=null,oi=Lr[--jr],Lr[jr]=null,ii=Lr[--jr],Lr[jr]=null}var Er=null,br=null,Lt=!1,rs=null;function Ww(s,i){var l=$r(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Gw(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Er=s,br=Bi(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Er=s,br=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Go!==null?{id:ii,overflow:oi}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=$r(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,Er=s,br=null,!0):!1;default:return!1}}function wp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function vp(s){if(Lt){var i=br;if(i){var l=i;if(!Gw(s,i)){if(wp(s))throw Error(n(418));i=Bi(l.nextSibling);var d=Er;i&&Gw(s,i)?Ww(d,l):(s.flags=s.flags&-4097|2,Lt=!1,Er=s)}}else{if(wp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Lt=!1,Er=s}}}function Kw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Er=s}function cd(s){if(s!==Er)return!1;if(!Lt)return Kw(s),Lt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!up(s.type,s.memoizedProps)),i&&(i=br)){if(wp(s))throw Jw(),Error(n(418));for(;i;)Ww(s,i),i=Bi(i.nextSibling)}if(Kw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){br=Bi(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}br=null}}else br=Er?Bi(s.stateNode.nextSibling):null;return!0}function Jw(){for(var s=br;s;)s=Bi(s.nextSibling)}function al(){br=Er=null,Lt=!1}function _p(s){rs===null?rs=[s]:rs.push(s)}var MI=G.ReactCurrentBatchConfig;function Tc(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,s));var p=d,w=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(E){var D=p.refs;E===null?delete D[w]:D[w]=E},i._stringRef=w,i)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function ud(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Qw(s){var i=s._init;return i(s._payload)}function Yw(s){function i(W,B){if(s){var K=W.deletions;K===null?(W.deletions=[B],W.flags|=16):K.push(B)}}function l(W,B){if(!s)return null;for(;B!==null;)i(W,B),B=B.sibling;return null}function d(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function p(W,B){return W=Zi(W,B),W.index=0,W.sibling=null,W}function w(W,B,K){return W.index=K,s?(K=W.alternate,K!==null?(K=K.index,K<B?(W.flags|=2,B):K):(W.flags|=2,B)):(W.flags|=1048576,B)}function E(W){return s&&W.alternate===null&&(W.flags|=2),W}function D(W,B,K,de){return B===null||B.tag!==6?(B=dm(K,W.mode,de),B.return=W,B):(B=p(B,K),B.return=W,B)}function V(W,B,K,de){var be=K.type;return be===k?ae(W,B,K.props.children,de,K.key):B!==null&&(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Ne&&Qw(be)===B.type)?(de=p(B,K.props),de.ref=Tc(W,B,K),de.return=W,de):(de=Od(K.type,K.key,K.props,null,W.mode,de),de.ref=Tc(W,B,K),de.return=W,de)}function J(W,B,K,de){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=hm(K,W.mode,de),B.return=W,B):(B=p(B,K.children||[]),B.return=W,B)}function ae(W,B,K,de,be){return B===null||B.tag!==7?(B=na(K,W.mode,de,be),B.return=W,B):(B=p(B,K),B.return=W,B)}function ce(W,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=dm(""+B,W.mode,K),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ne:return K=Od(B.type,B.key,B.props,null,W.mode,K),K.ref=Tc(W,null,B),K.return=W,K;case Z:return B=hm(B,W.mode,K),B.return=W,B;case Ne:var de=B._init;return ce(W,de(B._payload),K)}if(De(B)||le(B))return B=na(B,W.mode,K,null),B.return=W,B;ud(W,B)}return null}function oe(W,B,K,de){var be=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return be!==null?null:D(W,B,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ne:return K.key===be?V(W,B,K,de):null;case Z:return K.key===be?J(W,B,K,de):null;case Ne:return be=K._init,oe(W,B,be(K._payload),de)}if(De(K)||le(K))return be!==null?null:ae(W,B,K,de,null);ud(W,K)}return null}function ge(W,B,K,de,be){if(typeof de=="string"&&de!==""||typeof de=="number")return W=W.get(K)||null,D(B,W,""+de,be);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case ne:return W=W.get(de.key===null?K:de.key)||null,V(B,W,de,be);case Z:return W=W.get(de.key===null?K:de.key)||null,J(B,W,de,be);case Ne:var xe=de._init;return ge(W,B,K,xe(de._payload),be)}if(De(de)||le(de))return W=W.get(K)||null,ae(B,W,de,be,null);ud(B,de)}return null}function _e(W,B,K,de){for(var be=null,xe=null,ke=B,$e=B=0,gn=null;ke!==null&&$e<K.length;$e++){ke.index>$e?(gn=ke,ke=null):gn=ke.sibling;var ut=oe(W,ke,K[$e],de);if(ut===null){ke===null&&(ke=gn);break}s&&ke&&ut.alternate===null&&i(W,ke),B=w(ut,B,$e),xe===null?be=ut:xe.sibling=ut,xe=ut,ke=gn}if($e===K.length)return l(W,ke),Lt&&Ko(W,$e),be;if(ke===null){for(;$e<K.length;$e++)ke=ce(W,K[$e],de),ke!==null&&(B=w(ke,B,$e),xe===null?be=ke:xe.sibling=ke,xe=ke);return Lt&&Ko(W,$e),be}for(ke=d(W,ke);$e<K.length;$e++)gn=ge(ke,W,$e,K[$e],de),gn!==null&&(s&&gn.alternate!==null&&ke.delete(gn.key===null?$e:gn.key),B=w(gn,B,$e),xe===null?be=gn:xe.sibling=gn,xe=gn);return s&&ke.forEach(function(eo){return i(W,eo)}),Lt&&Ko(W,$e),be}function Ee(W,B,K,de){var be=le(K);if(typeof be!="function")throw Error(n(150));if(K=be.call(K),K==null)throw Error(n(151));for(var xe=be=null,ke=B,$e=B=0,gn=null,ut=K.next();ke!==null&&!ut.done;$e++,ut=K.next()){ke.index>$e?(gn=ke,ke=null):gn=ke.sibling;var eo=oe(W,ke,ut.value,de);if(eo===null){ke===null&&(ke=gn);break}s&&ke&&eo.alternate===null&&i(W,ke),B=w(eo,B,$e),xe===null?be=eo:xe.sibling=eo,xe=eo,ke=gn}if(ut.done)return l(W,ke),Lt&&Ko(W,$e),be;if(ke===null){for(;!ut.done;$e++,ut=K.next())ut=ce(W,ut.value,de),ut!==null&&(B=w(ut,B,$e),xe===null?be=ut:xe.sibling=ut,xe=ut);return Lt&&Ko(W,$e),be}for(ke=d(W,ke);!ut.done;$e++,ut=K.next())ut=ge(ke,W,$e,ut.value,de),ut!==null&&(s&&ut.alternate!==null&&ke.delete(ut.key===null?$e:ut.key),B=w(ut,B,$e),xe===null?be=ut:xe.sibling=ut,xe=ut);return s&&ke.forEach(function(gS){return i(W,gS)}),Lt&&Ko(W,$e),be}function Wt(W,B,K,de){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case ne:e:{for(var be=K.key,xe=B;xe!==null;){if(xe.key===be){if(be=K.type,be===k){if(xe.tag===7){l(W,xe.sibling),B=p(xe,K.props.children),B.return=W,W=B;break e}}else if(xe.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Ne&&Qw(be)===xe.type){l(W,xe.sibling),B=p(xe,K.props),B.ref=Tc(W,xe,K),B.return=W,W=B;break e}l(W,xe);break}else i(W,xe);xe=xe.sibling}K.type===k?(B=na(K.props.children,W.mode,de,K.key),B.return=W,W=B):(de=Od(K.type,K.key,K.props,null,W.mode,de),de.ref=Tc(W,B,K),de.return=W,W=de)}return E(W);case Z:e:{for(xe=K.key;B!==null;){if(B.key===xe)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){l(W,B.sibling),B=p(B,K.children||[]),B.return=W,W=B;break e}else{l(W,B);break}else i(W,B);B=B.sibling}B=hm(K,W.mode,de),B.return=W,W=B}return E(W);case Ne:return xe=K._init,Wt(W,B,xe(K._payload),de)}if(De(K))return _e(W,B,K,de);if(le(K))return Ee(W,B,K,de);ud(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(l(W,B.sibling),B=p(B,K),B.return=W,W=B):(l(W,B),B=dm(K,W.mode,de),B.return=W,W=B),E(W)):l(W,B)}return Wt}var ll=Yw(!0),Xw=Yw(!1),dd=zi(null),hd=null,cl=null,Ep=null;function bp(){Ep=cl=hd=null}function Cp(s){var i=dd.current;kt(dd),s._currentValue=i}function Tp(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function ul(s,i){hd=s,Ep=cl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(sr=!0),s.firstContext=null)}function Mr(s){var i=s._currentValue;if(Ep!==s)if(s={context:s,memoizedValue:i,next:null},cl===null){if(hd===null)throw Error(n(308));cl=s,hd.dependencies={lanes:0,firstContext:s}}else cl=cl.next=s;return i}var Jo=null;function Ip(s){Jo===null?Jo=[s]:Jo.push(s)}function Zw(s,i,l,d){var p=i.interleaved;return p===null?(l.next=l,Ip(i)):(l.next=p.next,p.next=l),i.interleaved=l,ai(s,d)}function ai(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Wi=!1;function Sp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ev(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function li(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Gi(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(lt&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,ai(s,l)}return p=d.interleaved,p===null?(i.next=i,Ip(d)):(i.next=p.next,p.next=i),d.interleaved=i,ai(s,l)}function fd(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,ji(s,l)}}function tv(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};w===null?p=w=E:w=w.next=E,l=l.next}while(l!==null);w===null?p=w=i:w=w.next=i}else p=w=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:w,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function pd(s,i,l,d){var p=s.updateQueue;Wi=!1;var w=p.firstBaseUpdate,E=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var V=D,J=V.next;V.next=null,E===null?w=J:E.next=J,E=V;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,D=ae.lastBaseUpdate,D!==E&&(D===null?ae.firstBaseUpdate=J:D.next=J,ae.lastBaseUpdate=V))}if(w!==null){var ce=p.baseState;E=0,ae=J=V=null,D=w;do{var oe=D.lane,ge=D.eventTime;if((d&oe)===oe){ae!==null&&(ae=ae.next={eventTime:ge,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var _e=s,Ee=D;switch(oe=i,ge=l,Ee.tag){case 1:if(_e=Ee.payload,typeof _e=="function"){ce=_e.call(ge,ce,oe);break e}ce=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ee.payload,oe=typeof _e=="function"?_e.call(ge,ce,oe):_e,oe==null)break e;ce=ee({},ce,oe);break e;case 2:Wi=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,oe=p.effects,oe===null?p.effects=[D]:oe.push(D))}else ge={eventTime:ge,lane:oe,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ae===null?(J=ae=ge,V=ce):ae=ae.next=ge,E|=oe;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;oe=D,D=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);if(ae===null&&(V=ce),p.baseState=V,p.firstBaseUpdate=J,p.lastBaseUpdate=ae,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else w===null&&(p.shared.lanes=0);Xo|=E,s.lanes=E,s.memoizedState=ce}}function nv(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Ic={},ks=zi(Ic),Sc=zi(Ic),xc=zi(Ic);function Qo(s){if(s===Ic)throw Error(n(174));return s}function xp(s,i){switch(Ct(xc,i),Ct(Sc,s),Ct(ks,Ic),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:vt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=vt(i,s)}kt(ks),Ct(ks,i)}function dl(){kt(ks),kt(Sc),kt(xc)}function rv(s){Qo(xc.current);var i=Qo(ks.current),l=vt(i,s.type);i!==l&&(Ct(Sc,s),Ct(ks,l))}function kp(s){Sc.current===s&&(kt(ks),kt(Sc))}var Mt=zi(0);function md(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Rp=[];function Pp(){for(var s=0;s<Rp.length;s++)Rp[s]._workInProgressVersionPrimary=null;Rp.length=0}var gd=G.ReactCurrentDispatcher,Ap=G.ReactCurrentBatchConfig,Yo=0,Vt=null,ln=null,pn=null,yd=!1,kc=!1,Rc=0,VI=0;function An(){throw Error(n(321))}function Np(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!ns(s[l],i[l]))return!1;return!0}function Dp(s,i,l,d,p,w){if(Yo=w,Vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,gd.current=s===null||s.memoizedState===null?BI:zI,s=l(d,p),kc){w=0;do{if(kc=!1,Rc=0,25<=w)throw Error(n(301));w+=1,pn=ln=null,i.updateQueue=null,gd.current=HI,s=l(d,p)}while(kc)}if(gd.current=_d,i=ln!==null&&ln.next!==null,Yo=0,pn=ln=Vt=null,yd=!1,i)throw Error(n(300));return s}function Op(){var s=Rc!==0;return Rc=0,s}function Rs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Vt.memoizedState=pn=s:pn=pn.next=s,pn}function Vr(){if(ln===null){var s=Vt.alternate;s=s!==null?s.memoizedState:null}else s=ln.next;var i=pn===null?Vt.memoizedState:pn.next;if(i!==null)pn=i,ln=s;else{if(s===null)throw Error(n(310));ln=s,s={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},pn===null?Vt.memoizedState=pn=s:pn=pn.next=s}return pn}function Pc(s,i){return typeof i=="function"?i(s):i}function Lp(s){var i=Vr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=ln,p=d.baseQueue,w=l.pending;if(w!==null){if(p!==null){var E=p.next;p.next=w.next,w.next=E}d.baseQueue=p=w,l.pending=null}if(p!==null){w=p.next,d=d.baseState;var D=E=null,V=null,J=w;do{var ae=J.lane;if((Yo&ae)===ae)V!==null&&(V=V.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),d=J.hasEagerState?J.eagerState:s(d,J.action);else{var ce={lane:ae,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};V===null?(D=V=ce,E=d):V=V.next=ce,Vt.lanes|=ae,Xo|=ae}J=J.next}while(J!==null&&J!==w);V===null?E=d:V.next=D,ns(d,i.memoizedState)||(sr=!0),i.memoizedState=d,i.baseState=E,i.baseQueue=V,l.lastRenderedState=d}if(s=l.interleaved,s!==null){p=s;do w=p.lane,Vt.lanes|=w,Xo|=w,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function jp(s){var i=Vr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=l.dispatch,p=l.pending,w=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do w=s(w,E.action),E=E.next;while(E!==p);ns(w,i.memoizedState)||(sr=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),l.lastRenderedState=w}return[w,d]}function sv(){}function iv(s,i){var l=Vt,d=Vr(),p=i(),w=!ns(d.memoizedState,p);if(w&&(d.memoizedState=p,sr=!0),d=d.queue,Mp(lv.bind(null,l,d,s),[s]),d.getSnapshot!==i||w||pn!==null&&pn.memoizedState.tag&1){if(l.flags|=2048,Ac(9,av.bind(null,l,d,p,i),void 0,null),mn===null)throw Error(n(349));(Yo&30)!==0||ov(l,i,p)}return p}function ov(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Vt.updateQueue,i===null?(i={lastEffect:null,stores:null},Vt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function av(s,i,l,d){i.value=l,i.getSnapshot=d,cv(i)&&uv(s)}function lv(s,i,l){return l(function(){cv(i)&&uv(s)})}function cv(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!ns(s,l)}catch{return!0}}function uv(s){var i=ai(s,1);i!==null&&as(i,s,1,-1)}function dv(s){var i=Rs();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:s},i.queue=s,s=s.dispatch=UI.bind(null,Vt,s),[i.memoizedState,s]}function Ac(s,i,l,d){return s={tag:s,create:i,destroy:l,deps:d,next:null},i=Vt.updateQueue,i===null?(i={lastEffect:null,stores:null},Vt.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s)),s}function hv(){return Vr().memoizedState}function wd(s,i,l,d){var p=Rs();Vt.flags|=s,p.memoizedState=Ac(1|i,l,void 0,d===void 0?null:d)}function vd(s,i,l,d){var p=Vr();d=d===void 0?null:d;var w=void 0;if(ln!==null){var E=ln.memoizedState;if(w=E.destroy,d!==null&&Np(d,E.deps)){p.memoizedState=Ac(i,l,w,d);return}}Vt.flags|=s,p.memoizedState=Ac(1|i,l,w,d)}function fv(s,i){return wd(8390656,8,s,i)}function Mp(s,i){return vd(2048,8,s,i)}function pv(s,i){return vd(4,2,s,i)}function mv(s,i){return vd(4,4,s,i)}function gv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function yv(s,i,l){return l=l!=null?l.concat([s]):null,vd(4,4,gv.bind(null,i,s),l)}function Vp(){}function wv(s,i){var l=Vr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Np(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function vv(s,i){var l=Vr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Np(i,d[1])?d[0]:(s=s(),l.memoizedState=[s,i],s)}function _v(s,i,l){return(Yo&21)===0?(s.baseState&&(s.baseState=!1,sr=!0),s.memoizedState=l):(ns(l,i)||(l=Rn(),Vt.lanes|=l,Xo|=l,s.baseState=!0),i)}function FI(s,i){var l=it;it=l!==0&&4>l?l:4,s(!0);var d=Ap.transition;Ap.transition={};try{s(!1),i()}finally{it=l,Ap.transition=d}}function Ev(){return Vr().memoizedState}function $I(s,i,l){var d=Yi(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},bv(s))Cv(i,l);else if(l=Zw(s,i,l,d),l!==null){var p=Wn();as(l,s,d,p),Tv(l,i,d)}}function UI(s,i,l){var d=Yi(s),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(bv(s))Cv(i,p);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var E=i.lastRenderedState,D=w(E,l);if(p.hasEagerState=!0,p.eagerState=D,ns(D,E)){var V=i.interleaved;V===null?(p.next=p,Ip(i)):(p.next=V.next,V.next=p),i.interleaved=p;return}}catch{}finally{}l=Zw(s,i,p,d),l!==null&&(p=Wn(),as(l,s,d,p),Tv(l,i,d))}}function bv(s){var i=s.alternate;return s===Vt||i!==null&&i===Vt}function Cv(s,i){kc=yd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Tv(s,i,l){if((l&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,ji(s,l)}}var _d={readContext:Mr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},BI={readContext:Mr,useCallback:function(s,i){return Rs().memoizedState=[s,i===void 0?null:i],s},useContext:Mr,useEffect:fv,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,wd(4194308,4,gv.bind(null,i,s),l)},useLayoutEffect:function(s,i){return wd(4194308,4,s,i)},useInsertionEffect:function(s,i){return wd(4,2,s,i)},useMemo:function(s,i){var l=Rs();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var d=Rs();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=$I.bind(null,Vt,s),[d.memoizedState,s]},useRef:function(s){var i=Rs();return s={current:s},i.memoizedState=s},useState:dv,useDebugValue:Vp,useDeferredValue:function(s){return Rs().memoizedState=s},useTransition:function(){var s=dv(!1),i=s[0];return s=FI.bind(null,s[1]),Rs().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var d=Vt,p=Rs();if(Lt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),mn===null)throw Error(n(349));(Yo&30)!==0||ov(d,i,l)}p.memoizedState=l;var w={value:l,getSnapshot:i};return p.queue=w,fv(lv.bind(null,d,w,s),[s]),d.flags|=2048,Ac(9,av.bind(null,d,w,l,i),void 0,null),l},useId:function(){var s=Rs(),i=mn.identifierPrefix;if(Lt){var l=oi,d=ii;l=(d&~(1<<32-Ut(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Rc++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=VI++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},zI={readContext:Mr,useCallback:wv,useContext:Mr,useEffect:Mp,useImperativeHandle:yv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:vv,useReducer:Lp,useRef:hv,useState:function(){return Lp(Pc)},useDebugValue:Vp,useDeferredValue:function(s){var i=Vr();return _v(i,ln.memoizedState,s)},useTransition:function(){var s=Lp(Pc)[0],i=Vr().memoizedState;return[s,i]},useMutableSource:sv,useSyncExternalStore:iv,useId:Ev,unstable_isNewReconciler:!1},HI={readContext:Mr,useCallback:wv,useContext:Mr,useEffect:Mp,useImperativeHandle:yv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:vv,useReducer:jp,useRef:hv,useState:function(){return jp(Pc)},useDebugValue:Vp,useDeferredValue:function(s){var i=Vr();return ln===null?i.memoizedState=s:_v(i,ln.memoizedState,s)},useTransition:function(){var s=jp(Pc)[0],i=Vr().memoizedState;return[s,i]},useMutableSource:sv,useSyncExternalStore:iv,useId:Ev,unstable_isNewReconciler:!1};function ss(s,i){if(s&&s.defaultProps){i=ee({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function Fp(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:ee({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Ed={isMounted:function(s){return(s=s._reactInternals)?$t(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var d=Wn(),p=Yi(s),w=li(d,p);w.payload=i,l!=null&&(w.callback=l),i=Gi(s,w,p),i!==null&&(as(i,s,p,d),fd(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=Wn(),p=Yi(s),w=li(d,p);w.tag=1,w.payload=i,l!=null&&(w.callback=l),i=Gi(s,w,p),i!==null&&(as(i,s,p,d),fd(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Wn(),d=Yi(s),p=li(l,d);p.tag=2,i!=null&&(p.callback=i),i=Gi(s,p,d),i!==null&&(as(i,s,d,l),fd(i,s,d))}};function Iv(s,i,l,d,p,w,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,w,E):i.prototype&&i.prototype.isPureReactComponent?!yc(l,d)||!yc(p,w):!0}function Sv(s,i,l){var d=!1,p=Hi,w=i.contextType;return typeof w=="object"&&w!==null?w=Mr(w):(p=rr(i)?Wo:Pn.current,d=i.contextTypes,w=(d=d!=null)?sl(s,p):Hi),i=new i(l,w),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ed,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=w),i}function xv(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&Ed.enqueueReplaceState(i,i.state,null)}function $p(s,i,l,d){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},Sp(s);var w=i.contextType;typeof w=="object"&&w!==null?p.context=Mr(w):(w=rr(i)?Wo:Pn.current,p.context=sl(s,w)),p.state=s.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Fp(s,i,w,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Ed.enqueueReplaceState(p,p.state,null),pd(s,l,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function hl(s,i){try{var l="",d=i;do l+=fe(d),d=d.return;while(d);var p=l}catch(w){p=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:i,stack:p,digest:null}}function Up(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Bp(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var qI=typeof WeakMap=="function"?WeakMap:Map;function kv(s,i,l){l=li(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){kd||(kd=!0,rm=d),Bp(s,i)},l}function Rv(s,i,l){l=li(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){Bp(s,i)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(l.callback=function(){Bp(s,i),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function Pv(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new qI;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),s=iS.bind(null,s,i,l),i.then(s,s))}function Av(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Nv(s,i,l,d,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=li(-1,1),i.tag=2,Gi(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var WI=G.ReactCurrentOwner,sr=!1;function qn(s,i,l,d){i.child=s===null?Xw(i,null,l,d):ll(i,s.child,l,d)}function Dv(s,i,l,d,p){l=l.render;var w=i.ref;return ul(i,p),d=Dp(s,i,l,d,w,p),l=Op(),s!==null&&!sr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ci(s,i,p)):(Lt&&l&&gp(i),i.flags|=1,qn(s,i,d,p),i.child)}function Ov(s,i,l,d,p){if(s===null){var w=l.type;return typeof w=="function"&&!um(w)&&w.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=w,Lv(s,i,w,d,p)):(s=Od(l.type,null,d,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(w=s.child,(s.lanes&p)===0){var E=w.memoizedProps;if(l=l.compare,l=l!==null?l:yc,l(E,d)&&s.ref===i.ref)return ci(s,i,p)}return i.flags|=1,s=Zi(w,d),s.ref=i.ref,s.return=i,i.child=s}function Lv(s,i,l,d,p){if(s!==null){var w=s.memoizedProps;if(yc(w,d)&&s.ref===i.ref)if(sr=!1,i.pendingProps=d=w,(s.lanes&p)!==0)(s.flags&131072)!==0&&(sr=!0);else return i.lanes=s.lanes,ci(s,i,p)}return zp(s,i,l,d,p)}function jv(s,i,l){var d=i.pendingProps,p=d.children,w=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(pl,Cr),Cr|=l;else{if((l&1073741824)===0)return s=w!==null?w.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Ct(pl,Cr),Cr|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=w!==null?w.baseLanes:l,Ct(pl,Cr),Cr|=d}else w!==null?(d=w.baseLanes|l,i.memoizedState=null):d=l,Ct(pl,Cr),Cr|=d;return qn(s,i,p,l),i.child}function Mv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function zp(s,i,l,d,p){var w=rr(l)?Wo:Pn.current;return w=sl(i,w),ul(i,p),l=Dp(s,i,l,d,w,p),d=Op(),s!==null&&!sr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ci(s,i,p)):(Lt&&d&&gp(i),i.flags|=1,qn(s,i,l,p),i.child)}function Vv(s,i,l,d,p){if(rr(l)){var w=!0;id(i)}else w=!1;if(ul(i,p),i.stateNode===null)Cd(s,i),Sv(i,l,d),$p(i,l,d,p),d=!0;else if(s===null){var E=i.stateNode,D=i.memoizedProps;E.props=D;var V=E.context,J=l.contextType;typeof J=="object"&&J!==null?J=Mr(J):(J=rr(l)?Wo:Pn.current,J=sl(i,J));var ae=l.getDerivedStateFromProps,ce=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function";ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==d||V!==J)&&xv(i,E,d,J),Wi=!1;var oe=i.memoizedState;E.state=oe,pd(i,d,E,p),V=i.memoizedState,D!==d||oe!==V||nr.current||Wi?(typeof ae=="function"&&(Fp(i,l,ae,d),V=i.memoizedState),(D=Wi||Iv(i,l,D,d,oe,V,J))?(ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=V),E.props=d,E.state=V,E.context=J,d=D):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{E=i.stateNode,ev(s,i),D=i.memoizedProps,J=i.type===i.elementType?D:ss(i.type,D),E.props=J,ce=i.pendingProps,oe=E.context,V=l.contextType,typeof V=="object"&&V!==null?V=Mr(V):(V=rr(l)?Wo:Pn.current,V=sl(i,V));var ge=l.getDerivedStateFromProps;(ae=typeof ge=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==ce||oe!==V)&&xv(i,E,d,V),Wi=!1,oe=i.memoizedState,E.state=oe,pd(i,d,E,p);var _e=i.memoizedState;D!==ce||oe!==_e||nr.current||Wi?(typeof ge=="function"&&(Fp(i,l,ge,d),_e=i.memoizedState),(J=Wi||Iv(i,l,J,d,oe,_e,V)||!1)?(ae||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,_e,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,_e,V)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===s.memoizedProps&&oe===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&oe===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=_e),E.props=d,E.state=_e,E.context=V,d=J):(typeof E.componentDidUpdate!="function"||D===s.memoizedProps&&oe===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&oe===s.memoizedState||(i.flags|=1024),d=!1)}return Hp(s,i,l,d,w,p)}function Hp(s,i,l,d,p,w){Mv(s,i);var E=(i.flags&128)!==0;if(!d&&!E)return p&&zw(i,l,!1),ci(s,i,w);d=i.stateNode,WI.current=i;var D=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&E?(i.child=ll(i,s.child,null,w),i.child=ll(i,null,D,w)):qn(s,i,D,w),i.memoizedState=d.state,p&&zw(i,l,!0),i.child}function Fv(s){var i=s.stateNode;i.pendingContext?Uw(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Uw(s,i.context,!1),xp(s,i.containerInfo)}function $v(s,i,l,d,p){return al(),_p(p),i.flags|=256,qn(s,i,l,d),i.child}var qp={dehydrated:null,treeContext:null,retryLane:0};function Wp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Uv(s,i,l){var d=i.pendingProps,p=Mt.current,w=!1,E=(i.flags&128)!==0,D;if((D=E)||(D=s!==null&&s.memoizedState===null?!1:(p&2)!==0),D?(w=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Ct(Mt,p&1),s===null)return vp(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=d.children,s=d.fallback,w?(d=i.mode,w=i.child,E={mode:"hidden",children:E},(d&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=E):w=Ld(E,d,0,null),s=na(s,d,l,null),w.return=i,s.return=i,w.sibling=s,i.child=w,i.child.memoizedState=Wp(l),i.memoizedState=qp,s):Gp(i,E));if(p=s.memoizedState,p!==null&&(D=p.dehydrated,D!==null))return GI(s,i,E,d,D,p,l);if(w){w=d.fallback,E=i.mode,p=s.child,D=p.sibling;var V={mode:"hidden",children:d.children};return(E&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=V,i.deletions=null):(d=Zi(p,V),d.subtreeFlags=p.subtreeFlags&14680064),D!==null?w=Zi(D,w):(w=na(w,E,l,null),w.flags|=2),w.return=i,d.return=i,d.sibling=w,i.child=d,d=w,w=i.child,E=s.child.memoizedState,E=E===null?Wp(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},w.memoizedState=E,w.childLanes=s.childLanes&~l,i.memoizedState=qp,d}return w=s.child,s=w.sibling,d=Zi(w,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=d,i.memoizedState=null,d}function Gp(s,i){return i=Ld({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function bd(s,i,l,d){return d!==null&&_p(d),ll(i,s.child,null,l),s=Gp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function GI(s,i,l,d,p,w,E){if(l)return i.flags&256?(i.flags&=-257,d=Up(Error(n(422))),bd(s,i,E,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(w=d.fallback,p=i.mode,d=Ld({mode:"visible",children:d.children},p,0,null),w=na(w,p,E,null),w.flags|=2,d.return=i,w.return=i,d.sibling=w,i.child=d,(i.mode&1)!==0&&ll(i,s.child,null,E),i.child.memoizedState=Wp(E),i.memoizedState=qp,w);if((i.mode&1)===0)return bd(s,i,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var D=d.dgst;return d=D,w=Error(n(419)),d=Up(w,d,void 0),bd(s,i,E,d)}if(D=(E&s.childLanes)!==0,sr||D){if(d=mn,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==w.retryLane&&(w.retryLane=p,ai(s,p),as(d,s,p,-1))}return cm(),d=Up(Error(n(421))),bd(s,i,E,d)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=oS.bind(null,s),p._reactRetry=i,null):(s=w.treeContext,br=Bi(p.nextSibling),Er=i,Lt=!0,rs=null,s!==null&&(Lr[jr++]=ii,Lr[jr++]=oi,Lr[jr++]=Go,ii=s.id,oi=s.overflow,Go=i),i=Gp(i,d.children),i.flags|=4096,i)}function Bv(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),Tp(s.return,i,l)}function Kp(s,i,l,d,p){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=l,w.tailMode=p)}function zv(s,i,l){var d=i.pendingProps,p=d.revealOrder,w=d.tail;if(qn(s,i,d.children,l),d=Mt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Bv(s,l,i);else if(s.tag===19)Bv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Ct(Mt,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&md(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Kp(i,!1,p,l,w);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&md(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Kp(i,!0,l,null,w);break;case"together":Kp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Cd(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function ci(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Xo|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,l=Zi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Zi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function KI(s,i,l){switch(i.tag){case 3:Fv(i),al();break;case 5:rv(i);break;case 1:rr(i.type)&&id(i);break;case 4:xp(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;Ct(dd,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(Ct(Mt,Mt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Uv(s,i,l):(Ct(Mt,Mt.current&1),s=ci(s,i,l),s!==null?s.sibling:null);Ct(Mt,Mt.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(s.flags&128)!==0){if(d)return zv(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ct(Mt,Mt.current),d)break;return null;case 22:case 23:return i.lanes=0,jv(s,i,l)}return ci(s,i,l)}var Hv,Jp,qv,Wv;Hv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Jp=function(){},qv=function(s,i,l,d){var p=s.memoizedProps;if(p!==d){s=i.stateNode,Qo(ks.current);var w=null;switch(l){case"input":p=Un(s,p),d=Un(s,d),w=[];break;case"select":p=ee({},p,{value:void 0}),d=ee({},d,{value:void 0}),w=[];break;case"textarea":p=wt(s,p),d=wt(s,d),w=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=nd)}Do(l,d);var E;l=null;for(J in p)if(!d.hasOwnProperty(J)&&p.hasOwnProperty(J)&&p[J]!=null)if(J==="style"){var D=p[J];for(E in D)D.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(o.hasOwnProperty(J)?w||(w=[]):(w=w||[]).push(J,null));for(J in d){var V=d[J];if(D=p?.[J],d.hasOwnProperty(J)&&V!==D&&(V!=null||D!=null))if(J==="style")if(D){for(E in D)!D.hasOwnProperty(E)||V&&V.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in V)V.hasOwnProperty(E)&&D[E]!==V[E]&&(l||(l={}),l[E]=V[E])}else l||(w||(w=[]),w.push(J,l)),l=V;else J==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,D=D?D.__html:void 0,V!=null&&D!==V&&(w=w||[]).push(J,V)):J==="children"?typeof V!="string"&&typeof V!="number"||(w=w||[]).push(J,""+V):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(o.hasOwnProperty(J)?(V!=null&&J==="onScroll"&&xt("scroll",s),w||D===V||(w=[])):(w=w||[]).push(J,V))}l&&(w=w||[]).push("style",l);var J=w;(i.updateQueue=J)&&(i.flags|=4)}},Wv=function(s,i,l,d){l!==d&&(i.flags|=4)};function Nc(s,i){if(!Lt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Nn(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function JI(s,i,l){var d=i.pendingProps;switch(yp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(i),null;case 1:return rr(i.type)&&sd(),Nn(i),null;case 3:return d=i.stateNode,dl(),kt(nr),kt(Pn),Pp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(cd(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rs!==null&&(om(rs),rs=null))),Jp(s,i),Nn(i),null;case 5:kp(i);var p=Qo(xc.current);if(l=i.type,s!==null&&i.stateNode!=null)qv(s,i,l,d,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Nn(i),null}if(s=Qo(ks.current),cd(i)){d=i.stateNode,l=i.type;var w=i.memoizedProps;switch(d[xs]=i,d[bc]=w,s=(i.mode&1)!==0,l){case"dialog":xt("cancel",d),xt("close",d);break;case"iframe":case"object":case"embed":xt("load",d);break;case"video":case"audio":for(p=0;p<vc.length;p++)xt(vc[p],d);break;case"source":xt("error",d);break;case"img":case"image":case"link":xt("error",d),xt("load",d);break;case"details":xt("toggle",d);break;case"input":fr(d,w),xt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!w.multiple},xt("invalid",d);break;case"textarea":Ge(d,w),xt("invalid",d)}Do(l,w),p=null;for(var E in w)if(w.hasOwnProperty(E)){var D=w[E];E==="children"?typeof D=="string"?d.textContent!==D&&(w.suppressHydrationWarning!==!0&&td(d.textContent,D,s),p=["children",D]):typeof D=="number"&&d.textContent!==""+D&&(w.suppressHydrationWarning!==!0&&td(d.textContent,D,s),p=["children",""+D]):o.hasOwnProperty(E)&&D!=null&&E==="onScroll"&&xt("scroll",d)}switch(l){case"input":bt(d),we(d,w,!0);break;case"textarea":bt(d),Ze(d);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(d.onclick=nd)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=et(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=E.createElement(l,{is:d.is}):(s=E.createElement(l),l==="select"&&(E=s,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):s=E.createElementNS(s,l),s[xs]=i,s[bc]=d,Hv(s,i,!1,!1),i.stateNode=s;e:{switch(E=Oo(l,d),l){case"dialog":xt("cancel",s),xt("close",s),p=d;break;case"iframe":case"object":case"embed":xt("load",s),p=d;break;case"video":case"audio":for(p=0;p<vc.length;p++)xt(vc[p],s);p=d;break;case"source":xt("error",s),p=d;break;case"img":case"image":case"link":xt("error",s),xt("load",s),p=d;break;case"details":xt("toggle",s),p=d;break;case"input":fr(s,d),p=Un(s,d),xt("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=ee({},d,{value:void 0}),xt("invalid",s);break;case"textarea":Ge(s,d),p=wt(s,d),xt("invalid",s);break;default:p=d}Do(l,p),D=p;for(w in D)if(D.hasOwnProperty(w)){var V=D[w];w==="style"?No(s,V):w==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Po(s,V)):w==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&gs(s,V):typeof V=="number"&&gs(s,""+V):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?V!=null&&w==="onScroll"&&xt("scroll",s):V!=null&&z(s,w,V,E))}switch(l){case"input":bt(s),we(s,d,!1);break;case"textarea":bt(s),Ze(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Ae(d.value));break;case"select":s.multiple=!!d.multiple,w=d.value,w!=null?qe(s,!!d.multiple,w,!1):d.defaultValue!=null&&qe(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=nd)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Nn(i),null;case 6:if(s&&i.stateNode!=null)Wv(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=Qo(xc.current),Qo(ks.current),cd(i)){if(d=i.stateNode,l=i.memoizedProps,d[xs]=i,(w=d.nodeValue!==l)&&(s=Er,s!==null))switch(s.tag){case 3:td(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&td(d.nodeValue,l,(s.mode&1)!==0)}w&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[xs]=i,i.stateNode=d}return Nn(i),null;case 13:if(kt(Mt),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Lt&&br!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Jw(),al(),i.flags|=98560,w=!1;else if(w=cd(i),d!==null&&d.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[xs]=i}else al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nn(i),w=!1}else rs!==null&&(om(rs),rs=null),w=!0;if(!w)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Mt.current&1)!==0?cn===0&&(cn=3):cm())),i.updateQueue!==null&&(i.flags|=4),Nn(i),null);case 4:return dl(),Jp(s,i),s===null&&_c(i.stateNode.containerInfo),Nn(i),null;case 10:return Cp(i.type._context),Nn(i),null;case 17:return rr(i.type)&&sd(),Nn(i),null;case 19:if(kt(Mt),w=i.memoizedState,w===null)return Nn(i),null;if(d=(i.flags&128)!==0,E=w.rendering,E===null)if(d)Nc(w,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=md(s),E!==null){for(i.flags|=128,Nc(w,!1),d=E.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)w=l,s=d,w.flags&=14680066,E=w.alternate,E===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=E.childLanes,w.lanes=E.lanes,w.child=E.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=E.memoizedProps,w.memoizedState=E.memoizedState,w.updateQueue=E.updateQueue,w.type=E.type,s=E.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Ct(Mt,Mt.current&1|2),i.child}s=s.sibling}w.tail!==null&&_t()>ml&&(i.flags|=128,d=!0,Nc(w,!1),i.lanes=4194304)}else{if(!d)if(s=md(E),s!==null){if(i.flags|=128,d=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Nc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!Lt)return Nn(i),null}else 2*_t()-w.renderingStartTime>ml&&l!==1073741824&&(i.flags|=128,d=!0,Nc(w,!1),i.lanes=4194304);w.isBackwards?(E.sibling=i.child,i.child=E):(l=w.last,l!==null?l.sibling=E:i.child=E,w.last=E)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=_t(),i.sibling=null,l=Mt.current,Ct(Mt,d?l&1|2:l&1),i):(Nn(i),null);case 22:case 23:return lm(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Cr&1073741824)!==0&&(Nn(i),i.subtreeFlags&6&&(i.flags|=8192)):Nn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function QI(s,i){switch(yp(i),i.tag){case 1:return rr(i.type)&&sd(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return dl(),kt(nr),kt(Pn),Pp(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return kp(i),null;case 13:if(kt(Mt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));al()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return kt(Mt),null;case 4:return dl(),null;case 10:return Cp(i.type._context),null;case 22:case 23:return lm(),null;case 24:return null;default:return null}}var Td=!1,Dn=!1,YI=typeof WeakSet=="function"?WeakSet:Set,ve=null;function fl(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Bt(s,i,d)}else l.current=null}function Qp(s,i,l){try{l()}catch(d){Bt(s,i,d)}}var Gv=!1;function XI(s,i){if(lp=Fi,s=Iw(),ep(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var E=0,D=-1,V=-1,J=0,ae=0,ce=s,oe=null;t:for(;;){for(var ge;ce!==l||p!==0&&ce.nodeType!==3||(D=E+p),ce!==w||d!==0&&ce.nodeType!==3||(V=E+d),ce.nodeType===3&&(E+=ce.nodeValue.length),(ge=ce.firstChild)!==null;)oe=ce,ce=ge;for(;;){if(ce===s)break t;if(oe===l&&++J===p&&(D=E),oe===w&&++ae===d&&(V=E),(ge=ce.nextSibling)!==null)break;ce=oe,oe=ce.parentNode}ce=ge}l=D===-1||V===-1?null:{start:D,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(cp={focusedElem:s,selectionRange:l},Fi=!1,ve=i;ve!==null;)if(i=ve,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ve=s;else for(;ve!==null;){i=ve;try{var _e=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Ee=_e.memoizedProps,Wt=_e.memoizedState,W=i.stateNode,B=W.getSnapshotBeforeUpdate(i.elementType===i.type?Ee:ss(i.type,Ee),Wt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=i.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){Bt(i,i.return,de)}if(s=i.sibling,s!==null){s.return=i.return,ve=s;break}ve=i.return}return _e=Gv,Gv=!1,_e}function Dc(s,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var w=p.destroy;p.destroy=void 0,w!==void 0&&Qp(i,l,w)}p=p.next}while(p!==d)}}function Id(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Yp(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function Kv(s){var i=s.alternate;i!==null&&(s.alternate=null,Kv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[xs],delete i[bc],delete i[fp],delete i[OI],delete i[LI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Jv(s){return s.tag===5||s.tag===3||s.tag===4}function Qv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Jv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xp(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=nd));else if(d!==4&&(s=s.child,s!==null))for(Xp(s,i,l),s=s.sibling;s!==null;)Xp(s,i,l),s=s.sibling}function Zp(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Zp(s,i,l),s=s.sibling;s!==null;)Zp(s,i,l),s=s.sibling}var Cn=null,is=!1;function Ki(s,i,l){for(l=l.child;l!==null;)Yv(s,i,l),l=l.sibling}function Yv(s,i,l){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Xs,l)}catch{}switch(l.tag){case 5:Dn||fl(l,i);case 6:var d=Cn,p=is;Cn=null,Ki(s,i,l),Cn=d,is=p,Cn!==null&&(is?(s=Cn,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Cn.removeChild(l.stateNode));break;case 18:Cn!==null&&(is?(s=Cn,l=l.stateNode,s.nodeType===8?hp(s.parentNode,l):s.nodeType===1&&hp(s,l),es(s)):hp(Cn,l.stateNode));break;case 4:d=Cn,p=is,Cn=l.stateNode.containerInfo,is=!0,Ki(s,i,l),Cn=d,is=p;break;case 0:case 11:case 14:case 15:if(!Dn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var w=p,E=w.destroy;w=w.tag,E!==void 0&&((w&2)!==0||(w&4)!==0)&&Qp(l,i,E),p=p.next}while(p!==d)}Ki(s,i,l);break;case 1:if(!Dn&&(fl(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(D){Bt(l,i,D)}Ki(s,i,l);break;case 21:Ki(s,i,l);break;case 22:l.mode&1?(Dn=(d=Dn)||l.memoizedState!==null,Ki(s,i,l),Dn=d):Ki(s,i,l);break;default:Ki(s,i,l)}}function Xv(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new YI),i.forEach(function(d){var p=aS.bind(null,s,d);l.has(d)||(l.add(d),d.then(p,p))})}}function os(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var w=s,E=i,D=E;e:for(;D!==null;){switch(D.tag){case 5:Cn=D.stateNode,is=!1;break e;case 3:Cn=D.stateNode.containerInfo,is=!0;break e;case 4:Cn=D.stateNode.containerInfo,is=!0;break e}D=D.return}if(Cn===null)throw Error(n(160));Yv(w,E,p),Cn=null,is=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(J){Bt(p,i,J)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Zv(i,s),i=i.sibling}function Zv(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(os(i,s),Ps(s),d&4){try{Dc(3,s,s.return),Id(3,s)}catch(Ee){Bt(s,s.return,Ee)}try{Dc(5,s,s.return)}catch(Ee){Bt(s,s.return,Ee)}}break;case 1:os(i,s),Ps(s),d&512&&l!==null&&fl(l,l.return);break;case 5:if(os(i,s),Ps(s),d&512&&l!==null&&fl(l,l.return),s.flags&32){var p=s.stateNode;try{gs(p,"")}catch(Ee){Bt(s,s.return,Ee)}}if(d&4&&(p=s.stateNode,p!=null)){var w=s.memoizedProps,E=l!==null?l.memoizedProps:w,D=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{D==="input"&&w.type==="radio"&&w.name!=null&&Jr(p,w),Oo(D,E);var J=Oo(D,w);for(E=0;E<V.length;E+=2){var ae=V[E],ce=V[E+1];ae==="style"?No(p,ce):ae==="dangerouslySetInnerHTML"?Po(p,ce):ae==="children"?gs(p,ce):z(p,ae,ce,J)}switch(D){case"input":Fe(p,w);break;case"textarea":Xe(p,w);break;case"select":var oe=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!w.multiple;var ge=w.value;ge!=null?qe(p,!!w.multiple,ge,!1):oe!==!!w.multiple&&(w.defaultValue!=null?qe(p,!!w.multiple,w.defaultValue,!0):qe(p,!!w.multiple,w.multiple?[]:"",!1))}p[bc]=w}catch(Ee){Bt(s,s.return,Ee)}}break;case 6:if(os(i,s),Ps(s),d&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,w=s.memoizedProps;try{p.nodeValue=w}catch(Ee){Bt(s,s.return,Ee)}}break;case 3:if(os(i,s),Ps(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{es(i.containerInfo)}catch(Ee){Bt(s,s.return,Ee)}break;case 4:os(i,s),Ps(s);break;case 13:os(i,s),Ps(s),p=s.child,p.flags&8192&&(w=p.memoizedState!==null,p.stateNode.isHidden=w,!w||p.alternate!==null&&p.alternate.memoizedState!==null||(nm=_t())),d&4&&Xv(s);break;case 22:if(ae=l!==null&&l.memoizedState!==null,s.mode&1?(Dn=(J=Dn)||ae,os(i,s),Dn=J):os(i,s),Ps(s),d&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!ae&&(s.mode&1)!==0)for(ve=s,ae=s.child;ae!==null;){for(ce=ve=ae;ve!==null;){switch(oe=ve,ge=oe.child,oe.tag){case 0:case 11:case 14:case 15:Dc(4,oe,oe.return);break;case 1:fl(oe,oe.return);var _e=oe.stateNode;if(typeof _e.componentWillUnmount=="function"){d=oe,l=oe.return;try{i=d,_e.props=i.memoizedProps,_e.state=i.memoizedState,_e.componentWillUnmount()}catch(Ee){Bt(d,l,Ee)}}break;case 5:fl(oe,oe.return);break;case 22:if(oe.memoizedState!==null){n_(ce);continue}}ge!==null?(ge.return=oe,ve=ge):n_(ce)}ae=ae.sibling}e:for(ae=null,ce=s;;){if(ce.tag===5){if(ae===null){ae=ce;try{p=ce.stateNode,J?(w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(D=ce.stateNode,V=ce.memoizedProps.style,E=V!=null&&V.hasOwnProperty("display")?V.display:null,D.style.display=Ao("display",E))}catch(Ee){Bt(s,s.return,Ee)}}}else if(ce.tag===6){if(ae===null)try{ce.stateNode.nodeValue=J?"":ce.memoizedProps}catch(Ee){Bt(s,s.return,Ee)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;ae===ce&&(ae=null),ce=ce.return}ae===ce&&(ae=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:os(i,s),Ps(s),d&4&&Xv(s);break;case 21:break;default:os(i,s),Ps(s)}}function Ps(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(Jv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(gs(p,""),d.flags&=-33);var w=Qv(s);Zp(s,w,p);break;case 3:case 4:var E=d.stateNode.containerInfo,D=Qv(s);Xp(s,D,E);break;default:throw Error(n(161))}}catch(V){Bt(s,s.return,V)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function ZI(s,i,l){ve=s,e_(s)}function e_(s,i,l){for(var d=(s.mode&1)!==0;ve!==null;){var p=ve,w=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||Td;if(!E){var D=p.alternate,V=D!==null&&D.memoizedState!==null||Dn;D=Td;var J=Dn;if(Td=E,(Dn=V)&&!J)for(ve=p;ve!==null;)E=ve,V=E.child,E.tag===22&&E.memoizedState!==null?r_(p):V!==null?(V.return=E,ve=V):r_(p);for(;w!==null;)ve=w,e_(w),w=w.sibling;ve=p,Td=D,Dn=J}t_(s)}else(p.subtreeFlags&8772)!==0&&w!==null?(w.return=p,ve=w):t_(s)}}function t_(s){for(;ve!==null;){var i=ve;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Dn||Id(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Dn)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:ss(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&nv(i,w,d);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}nv(i,E,l)}break;case 5:var D=i.stateNode;if(l===null&&i.flags&4){l=D;var V=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var J=i.alternate;if(J!==null){var ae=J.memoizedState;if(ae!==null){var ce=ae.dehydrated;ce!==null&&es(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dn||i.flags&512&&Yp(i)}catch(oe){Bt(i,i.return,oe)}}if(i===s){ve=null;break}if(l=i.sibling,l!==null){l.return=i.return,ve=l;break}ve=i.return}}function n_(s){for(;ve!==null;){var i=ve;if(i===s){ve=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ve=l;break}ve=i.return}}function r_(s){for(;ve!==null;){var i=ve;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Id(4,i)}catch(V){Bt(i,l,V)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(V){Bt(i,p,V)}}var w=i.return;try{Yp(i)}catch(V){Bt(i,w,V)}break;case 5:var E=i.return;try{Yp(i)}catch(V){Bt(i,E,V)}}}catch(V){Bt(i,i.return,V)}if(i===s){ve=null;break}var D=i.sibling;if(D!==null){D.return=i.return,ve=D;break}ve=i.return}}var eS=Math.ceil,Sd=G.ReactCurrentDispatcher,em=G.ReactCurrentOwner,Fr=G.ReactCurrentBatchConfig,lt=0,mn=null,en=null,Tn=0,Cr=0,pl=zi(0),cn=0,Oc=null,Xo=0,xd=0,tm=0,Lc=null,ir=null,nm=0,ml=1/0,ui=null,kd=!1,rm=null,Ji=null,Rd=!1,Qi=null,Pd=0,jc=0,sm=null,Ad=-1,Nd=0;function Wn(){return(lt&6)!==0?_t():Ad!==-1?Ad:Ad=_t()}function Yi(s){return(s.mode&1)===0?1:(lt&2)!==0&&Tn!==0?Tn&-Tn:MI.transition!==null?(Nd===0&&(Nd=Rn()),Nd):(s=it,s!==0||(s=window.event,s=s===void 0?16:uc(s.type)),s)}function as(s,i,l,d){if(50<jc)throw jc=0,sm=null,Error(n(185));Li(s,l,d),((lt&2)===0||s!==mn)&&(s===mn&&((lt&2)===0&&(xd|=l),cn===4&&Xi(s,Tn)),or(s,d),l===1&&lt===0&&(i.mode&1)===0&&(ml=_t()+500,od&&qi()))}function or(s,i){var l=s.callbackNode;wr(s,i);var d=on(s,s===mn?Tn:0);if(d===0)l!==null&&Vo(l),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(l!=null&&Vo(l),i===1)s.tag===0?jI(i_.bind(null,s)):Hw(i_.bind(null,s)),NI(function(){(lt&6)===0&&qi()}),l=null;else{switch(Mi(d)){case 1:l=yr;break;case 4:l=Es;break;case 16:l=Zn;break;case 536870912:l=ja;break;default:l=Zn}l=f_(l,s_.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function s_(s,i){if(Ad=-1,Nd=0,(lt&6)!==0)throw Error(n(327));var l=s.callbackNode;if(gl()&&s.callbackNode!==l)return null;var d=on(s,s===mn?Tn:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=Dd(s,d);else{i=d;var p=lt;lt|=2;var w=a_();(mn!==s||Tn!==i)&&(ui=null,ml=_t()+500,ea(s,i));do try{rS();break}catch(D){o_(s,D)}while(!0);bp(),Sd.current=w,lt=p,en!==null?i=0:(mn=null,Tn=0,i=cn)}if(i!==0){if(i===2&&(p=Xt(s),p!==0&&(d=p,i=im(s,p))),i===1)throw l=Oc,ea(s,0),Xi(s,d),or(s,_t()),l;if(i===6)Xi(s,d);else{if(p=s.current.alternate,(d&30)===0&&!tS(p)&&(i=Dd(s,d),i===2&&(w=Xt(s),w!==0&&(d=w,i=im(s,w))),i===1))throw l=Oc,ea(s,0),Xi(s,d),or(s,_t()),l;switch(s.finishedWork=p,s.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:ta(s,ir,ui);break;case 3:if(Xi(s,d),(d&130023424)===d&&(i=nm+500-_t(),10<i)){if(on(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){Wn(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=dp(ta.bind(null,s,ir,ui),i);break}ta(s,ir,ui);break;case 4:if(Xi(s,d),(d&4194240)===d)break;for(i=s.eventTimes,p=-1;0<d;){var E=31-Ut(d);w=1<<E,E=i[E],E>p&&(p=E),d&=~w}if(d=p,d=_t()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*eS(d/1960))-d,10<d){s.timeoutHandle=dp(ta.bind(null,s,ir,ui),d);break}ta(s,ir,ui);break;case 5:ta(s,ir,ui);break;default:throw Error(n(329))}}}return or(s,_t()),s.callbackNode===l?s_.bind(null,s):null}function im(s,i){var l=Lc;return s.current.memoizedState.isDehydrated&&(ea(s,i).flags|=256),s=Dd(s,i),s!==2&&(i=ir,ir=l,i!==null&&om(i)),s}function om(s){ir===null?ir=s:ir.push.apply(ir,s)}function tS(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],w=p.getSnapshot;p=p.value;try{if(!ns(w(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xi(s,i){for(i&=~tm,i&=~xd,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Ut(i),d=1<<l;s[l]=-1,i&=~d}}function i_(s){if((lt&6)!==0)throw Error(n(327));gl();var i=on(s,0);if((i&1)===0)return or(s,_t()),null;var l=Dd(s,i);if(s.tag!==0&&l===2){var d=Xt(s);d!==0&&(i=d,l=im(s,d))}if(l===1)throw l=Oc,ea(s,0),Xi(s,i),or(s,_t()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,ta(s,ir,ui),or(s,_t()),null}function am(s,i){var l=lt;lt|=1;try{return s(i)}finally{lt=l,lt===0&&(ml=_t()+500,od&&qi())}}function Zo(s){Qi!==null&&Qi.tag===0&&(lt&6)===0&&gl();var i=lt;lt|=1;var l=Fr.transition,d=it;try{if(Fr.transition=null,it=1,s)return s()}finally{it=d,Fr.transition=l,lt=i,(lt&6)===0&&qi()}}function lm(){Cr=pl.current,kt(pl)}function ea(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,AI(l)),en!==null)for(l=en.return;l!==null;){var d=l;switch(yp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&sd();break;case 3:dl(),kt(nr),kt(Pn),Pp();break;case 5:kp(d);break;case 4:dl();break;case 13:kt(Mt);break;case 19:kt(Mt);break;case 10:Cp(d.type._context);break;case 22:case 23:lm()}l=l.return}if(mn=s,en=s=Zi(s.current,null),Tn=Cr=i,cn=0,Oc=null,tm=xd=Xo=0,ir=Lc=null,Jo!==null){for(i=0;i<Jo.length;i++)if(l=Jo[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,w=l.pending;if(w!==null){var E=w.next;w.next=p,d.next=E}l.pending=d}Jo=null}return s}function o_(s,i){do{var l=en;try{if(bp(),gd.current=_d,yd){for(var d=Vt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}yd=!1}if(Yo=0,pn=ln=Vt=null,kc=!1,Rc=0,em.current=null,l===null||l.return===null){cn=1,Oc=i,en=null;break}e:{var w=s,E=l.return,D=l,V=i;if(i=Tn,D.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=V,ae=D,ce=ae.tag;if((ae.mode&1)===0&&(ce===0||ce===11||ce===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ge=Av(E);if(ge!==null){ge.flags&=-257,Nv(ge,E,D,w,i),ge.mode&1&&Pv(w,J,i),i=ge,V=J;var _e=i.updateQueue;if(_e===null){var Ee=new Set;Ee.add(V),i.updateQueue=Ee}else _e.add(V);break e}else{if((i&1)===0){Pv(w,J,i),cm();break e}V=Error(n(426))}}else if(Lt&&D.mode&1){var Wt=Av(E);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),Nv(Wt,E,D,w,i),_p(hl(V,D));break e}}w=V=hl(V,D),cn!==4&&(cn=2),Lc===null?Lc=[w]:Lc.push(w),w=E;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var W=kv(w,V,i);tv(w,W);break e;case 1:D=V;var B=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ji===null||!Ji.has(K)))){w.flags|=65536,i&=-i,w.lanes|=i;var de=Rv(w,D,i);tv(w,de);break e}}w=w.return}while(w!==null)}c_(l)}catch(be){i=be,en===l&&l!==null&&(en=l=l.return);continue}break}while(!0)}function a_(){var s=Sd.current;return Sd.current=_d,s===null?_d:s}function cm(){(cn===0||cn===3||cn===2)&&(cn=4),mn===null||(Xo&268435455)===0&&(xd&268435455)===0||Xi(mn,Tn)}function Dd(s,i){var l=lt;lt|=2;var d=a_();(mn!==s||Tn!==i)&&(ui=null,ea(s,i));do try{nS();break}catch(p){o_(s,p)}while(!0);if(bp(),lt=l,Sd.current=d,en!==null)throw Error(n(261));return mn=null,Tn=0,cn}function nS(){for(;en!==null;)l_(en)}function rS(){for(;en!==null&&!La();)l_(en)}function l_(s){var i=h_(s.alternate,s,Cr);s.memoizedProps=s.pendingProps,i===null?c_(s):en=i,em.current=null}function c_(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=JI(l,i,Cr),l!==null){en=l;return}}else{if(l=QI(l,i),l!==null){l.flags&=32767,en=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cn=6,en=null;return}}if(i=i.sibling,i!==null){en=i;return}en=i=s}while(i!==null);cn===0&&(cn=5)}function ta(s,i,l){var d=it,p=Fr.transition;try{Fr.transition=null,it=1,sS(s,i,l,d)}finally{Fr.transition=p,it=d}return null}function sS(s,i,l,d){do gl();while(Qi!==null);if((lt&6)!==0)throw Error(n(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=l.lanes|l.childLanes;if(Et(s,w),s===mn&&(en=mn=null,Tn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Rd||(Rd=!0,f_(Zn,function(){return gl(),null})),w=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||w){w=Fr.transition,Fr.transition=null;var E=it;it=1;var D=lt;lt|=4,em.current=null,XI(s,l),Zv(l,s),TI(cp),Fi=!!lp,cp=lp=null,s.current=l,ZI(l),ac(),lt=D,it=E,Fr.transition=w}else s.current=l;if(Rd&&(Rd=!1,Qi=s,Pd=p),w=s.pendingLanes,w===0&&(Ji=null),Ma(l.stateNode),or(s,_t()),i!==null)for(d=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(kd)throw kd=!1,s=rm,rm=null,s;return(Pd&1)!==0&&s.tag!==0&&gl(),w=s.pendingLanes,(w&1)!==0?s===sm?jc++:(jc=0,sm=s):jc=0,qi(),null}function gl(){if(Qi!==null){var s=Mi(Pd),i=Fr.transition,l=it;try{if(Fr.transition=null,it=16>s?16:s,Qi===null)var d=!1;else{if(s=Qi,Qi=null,Pd=0,(lt&6)!==0)throw Error(n(331));var p=lt;for(lt|=4,ve=s.current;ve!==null;){var w=ve,E=w.child;if((ve.flags&16)!==0){var D=w.deletions;if(D!==null){for(var V=0;V<D.length;V++){var J=D[V];for(ve=J;ve!==null;){var ae=ve;switch(ae.tag){case 0:case 11:case 15:Dc(8,ae,w)}var ce=ae.child;if(ce!==null)ce.return=ae,ve=ce;else for(;ve!==null;){ae=ve;var oe=ae.sibling,ge=ae.return;if(Kv(ae),ae===J){ve=null;break}if(oe!==null){oe.return=ge,ve=oe;break}ve=ge}}}var _e=w.alternate;if(_e!==null){var Ee=_e.child;if(Ee!==null){_e.child=null;do{var Wt=Ee.sibling;Ee.sibling=null,Ee=Wt}while(Ee!==null)}}ve=w}}if((w.subtreeFlags&2064)!==0&&E!==null)E.return=w,ve=E;else e:for(;ve!==null;){if(w=ve,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Dc(9,w,w.return)}var W=w.sibling;if(W!==null){W.return=w.return,ve=W;break e}ve=w.return}}var B=s.current;for(ve=B;ve!==null;){E=ve;var K=E.child;if((E.subtreeFlags&2064)!==0&&K!==null)K.return=E,ve=K;else e:for(E=B;ve!==null;){if(D=ve,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Id(9,D)}}catch(be){Bt(D,D.return,be)}if(D===E){ve=null;break e}var de=D.sibling;if(de!==null){de.return=D.return,ve=de;break e}ve=D.return}}if(lt=p,qi(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Xs,s)}catch{}d=!0}return d}finally{it=l,Fr.transition=i}}return!1}function u_(s,i,l){i=hl(l,i),i=kv(s,i,1),s=Gi(s,i,1),i=Wn(),s!==null&&(Li(s,1,i),or(s,i))}function Bt(s,i,l){if(s.tag===3)u_(s,s,l);else for(;i!==null;){if(i.tag===3){u_(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ji===null||!Ji.has(d))){s=hl(l,s),s=Rv(i,s,1),i=Gi(i,s,1),s=Wn(),i!==null&&(Li(i,1,s),or(i,s));break}}i=i.return}}function iS(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),i=Wn(),s.pingedLanes|=s.suspendedLanes&l,mn===s&&(Tn&l)===l&&(cn===4||cn===3&&(Tn&130023424)===Tn&&500>_t()-nm?ea(s,0):tm|=l),or(s,i)}function d_(s,i){i===0&&((s.mode&1)===0?i=1:(i=Je,Je<<=1,(Je&130023424)===0&&(Je=4194304)));var l=Wn();s=ai(s,i),s!==null&&(Li(s,i,l),or(s,l))}function oS(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),d_(s,l)}function aS(s,i){var l=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),d_(s,l)}var h_;h_=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||nr.current)sr=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return sr=!1,KI(s,i,l);sr=(s.flags&131072)!==0}else sr=!1,Lt&&(i.flags&1048576)!==0&&qw(i,ld,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Cd(s,i),s=i.pendingProps;var p=sl(i,Pn.current);ul(i,l),p=Dp(null,i,d,s,p,l);var w=Op();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,rr(d)?(w=!0,id(i)):w=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Sp(i),p.updater=Ed,i.stateNode=p,p._reactInternals=i,$p(i,d,s,l),i=Hp(null,i,d,!0,w,l)):(i.tag=0,Lt&&w&&gp(i),qn(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(Cd(s,i),s=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=cS(d),s=ss(d,s),p){case 0:i=zp(null,i,d,s,l);break e;case 1:i=Vv(null,i,d,s,l);break e;case 11:i=Dv(null,i,d,s,l);break e;case 14:i=Ov(null,i,d,ss(d.type,s),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),zp(s,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),Vv(s,i,d,p,l);case 3:e:{if(Fv(i),s===null)throw Error(n(387));d=i.pendingProps,w=i.memoizedState,p=w.element,ev(s,i),pd(i,d,null,l);var E=i.memoizedState;if(d=E.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){p=hl(Error(n(423)),i),i=$v(s,i,d,l,p);break e}else if(d!==p){p=hl(Error(n(424)),i),i=$v(s,i,d,l,p);break e}else for(br=Bi(i.stateNode.containerInfo.firstChild),Er=i,Lt=!0,rs=null,l=Xw(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(al(),d===p){i=ci(s,i,l);break e}qn(s,i,d,l)}i=i.child}return i;case 5:return rv(i),s===null&&vp(i),d=i.type,p=i.pendingProps,w=s!==null?s.memoizedProps:null,E=p.children,up(d,p)?E=null:w!==null&&up(d,w)&&(i.flags|=32),Mv(s,i),qn(s,i,E,l),i.child;case 6:return s===null&&vp(i),null;case 13:return Uv(s,i,l);case 4:return xp(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=ll(i,null,d,l):qn(s,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),Dv(s,i,d,p,l);case 7:return qn(s,i,i.pendingProps,l),i.child;case 8:return qn(s,i,i.pendingProps.children,l),i.child;case 12:return qn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,w=i.memoizedProps,E=p.value,Ct(dd,d._currentValue),d._currentValue=E,w!==null)if(ns(w.value,E)){if(w.children===p.children&&!nr.current){i=ci(s,i,l);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var D=w.dependencies;if(D!==null){E=w.child;for(var V=D.firstContext;V!==null;){if(V.context===d){if(w.tag===1){V=li(-1,l&-l),V.tag=2;var J=w.updateQueue;if(J!==null){J=J.shared;var ae=J.pending;ae===null?V.next=V:(V.next=ae.next,ae.next=V),J.pending=V}}w.lanes|=l,V=w.alternate,V!==null&&(V.lanes|=l),Tp(w.return,l,i),D.lanes|=l;break}V=V.next}}else if(w.tag===10)E=w.type===i.type?null:w.child;else if(w.tag===18){if(E=w.return,E===null)throw Error(n(341));E.lanes|=l,D=E.alternate,D!==null&&(D.lanes|=l),Tp(E,l,i),E=w.sibling}else E=w.child;if(E!==null)E.return=w;else for(E=w;E!==null;){if(E===i){E=null;break}if(w=E.sibling,w!==null){w.return=E.return,E=w;break}E=E.return}w=E}qn(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,ul(i,l),p=Mr(p),d=d(p),i.flags|=1,qn(s,i,d,l),i.child;case 14:return d=i.type,p=ss(d,i.pendingProps),p=ss(d.type,p),Ov(s,i,d,p,l);case 15:return Lv(s,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),Cd(s,i),i.tag=1,rr(d)?(s=!0,id(i)):s=!1,ul(i,l),Sv(i,d,p),$p(i,d,p,l),Hp(null,i,d,!0,s,l);case 19:return zv(s,i,l);case 22:return jv(s,i,l)}throw Error(n(156,i.tag))};function f_(s,i){return Ys(s,i)}function lS(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(s,i,l,d){return new lS(s,i,l,d)}function um(s){return s=s.prototype,!(!s||!s.isReactComponent)}function cS(s){if(typeof s=="function")return um(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Te)return 14}return 2}function Zi(s,i){var l=s.alternate;return l===null?(l=$r(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Od(s,i,l,d,p,w){var E=2;if(d=s,typeof s=="function")um(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case k:return na(l.children,p,w,i);case S:E=8,p|=8;break;case R:return s=$r(12,l,i,p|2),s.elementType=R,s.lanes=w,s;case A:return s=$r(13,l,i,p),s.elementType=A,s.lanes=w,s;case Pe:return s=$r(19,l,i,p),s.elementType=Pe,s.lanes=w,s;case Le:return Ld(l,p,w,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:E=10;break e;case M:E=9;break e;case U:E=11;break e;case Te:E=14;break e;case Ne:E=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=$r(E,l,i,p),i.elementType=s,i.type=d,i.lanes=w,i}function na(s,i,l,d){return s=$r(7,s,d,i),s.lanes=l,s}function Ld(s,i,l,d){return s=$r(22,s,d,i),s.elementType=Le,s.lanes=l,s.stateNode={isHidden:!1},s}function dm(s,i,l){return s=$r(6,s,null,i),s.lanes=l,s}function hm(s,i,l){return i=$r(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function uS(s,i,l,d,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function fm(s,i,l,d,p,w,E,D,V){return s=new uS(s,i,l,D,V),i===1?(i=1,w===!0&&(i|=8)):i=0,w=$r(3,null,null,i),s.current=w,w.stateNode=s,w.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sp(w),s}function dS(s,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:d==null?null:""+d,children:s,containerInfo:i,implementation:l}}function p_(s){if(!s)return Hi;s=s._reactInternals;e:{if($t(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(rr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(rr(l))return Bw(s,l,i)}return i}function m_(s,i,l,d,p,w,E,D,V){return s=fm(l,d,!0,s,p,w,E,D,V),s.context=p_(null),l=s.current,d=Wn(),p=Yi(l),w=li(d,p),w.callback=i??null,Gi(l,w,p),s.current.lanes=p,Li(s,p,d),or(s,d),s}function jd(s,i,l,d){var p=i.current,w=Wn(),E=Yi(p);return l=p_(l),i.context===null?i.context=l:i.pendingContext=l,i=li(w,E),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=Gi(p,i,E),s!==null&&(as(s,p,E,w),fd(s,p,E)),E}function Md(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function g_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function pm(s,i){g_(s,i),(s=s.alternate)&&g_(s,i)}function hS(){return null}var y_=typeof reportError=="function"?reportError:function(s){console.error(s)};function mm(s){this._internalRoot=s}Vd.prototype.render=mm.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));jd(s,i,null,null)},Vd.prototype.unmount=mm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Zo(function(){jd(null,s,null,null)}),i[ri]=null}};function Vd(s){this._internalRoot=s}Vd.prototype.unstable_scheduleHydration=function(s){if(s){var i=Vu();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Cs.length&&i!==0&&i<Cs[l].priority;l++);Cs.splice(l,0,s),l===0&&Uu(s)}};function gm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Fd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function w_(){}function fS(s,i,l,d,p){if(p){if(typeof d=="function"){var w=d;d=function(){var J=Md(E);w.call(J)}}var E=m_(i,d,s,0,null,!1,!1,"",w_);return s._reactRootContainer=E,s[ri]=E.current,_c(s.nodeType===8?s.parentNode:s),Zo(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var D=d;d=function(){var J=Md(V);D.call(J)}}var V=fm(s,0,!1,null,null,!1,!1,"",w_);return s._reactRootContainer=V,s[ri]=V.current,_c(s.nodeType===8?s.parentNode:s),Zo(function(){jd(i,V,l,d)}),V}function $d(s,i,l,d,p){var w=l._reactRootContainer;if(w){var E=w;if(typeof p=="function"){var D=p;p=function(){var V=Md(E);D.call(V)}}jd(i,E,s,p)}else E=fS(l,i,s,p,d);return Md(E)}ju=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=Dt(i.pendingLanes);l!==0&&(ji(i,l|1),or(i,_t()),(lt&6)===0&&(ml=_t()+500,qi()))}break;case 13:Zo(function(){var d=ai(s,1);if(d!==null){var p=Wn();as(d,s,1,p)}}),pm(s,1)}},$a=function(s){if(s.tag===13){var i=ai(s,134217728);if(i!==null){var l=Wn();as(i,s,134217728,l)}pm(s,134217728)}},Mu=function(s){if(s.tag===13){var i=Yi(s),l=ai(s,i);if(l!==null){var d=Wn();as(l,s,i,d)}pm(s,i)}},Vu=function(){return it},Fu=function(s,i){var l=it;try{return it=s,i()}finally{it=l}},Ri=function(s,i,l){switch(i){case"input":if(Fe(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var p=rd(d);if(!p)throw Error(n(90));St(d),Fe(d,p)}}}break;case"textarea":Xe(s,l);break;case"select":i=l.value,i!=null&&qe(s,!!l.multiple,i,!1)}},vs=am,Pi=Zo;var pS={usingClientEntryPoint:!1,Events:[Cc,nl,rd,Pr,Lo,am]},Mc={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mS={bundleType:Mc.bundleType,version:Mc.version,rendererPackageName:Mc.rendererPackageName,rendererConfig:Mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Di(s),s===null?null:s.stateNode},findFiberByHostInstance:Mc.findFiberByHostInstance||hS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{Xs=Ud.inject(mS),zn=Ud}catch{}}return ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pS,ar.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(i))throw Error(n(200));return dS(s,i,null,l)},ar.createRoot=function(s,i){if(!gm(s))throw Error(n(299));var l=!1,d="",p=y_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=fm(s,1,!1,null,null,l,!1,d,p),s[ri]=i.current,_c(s.nodeType===8?s.parentNode:s),new mm(i)},ar.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Di(i),s=s===null?null:s.stateNode,s},ar.flushSync=function(s){return Zo(s)},ar.hydrate=function(s,i,l){if(!Fd(i))throw Error(n(200));return $d(null,s,i,!0,l)},ar.hydrateRoot=function(s,i,l){if(!gm(s))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,w="",E=y_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=m_(i,null,s,1,l??null,p,!1,w,E),s[ri]=i.current,_c(s),d)for(s=0;s<d.length;s++)l=d[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new Vd(i)},ar.render=function(s,i,l){if(!Fd(i))throw Error(n(200));return $d(null,s,i,!1,l)},ar.unmountComponentAtNode=function(s){if(!Fd(s))throw Error(n(40));return s._reactRootContainer?(Zo(function(){$d(null,null,s,!1,function(){s._reactRootContainer=null,s[ri]=null})}),!0):!1},ar.unstable_batchedUpdates=am,ar.unstable_renderSubtreeIntoContainer=function(s,i,l,d){if(!Fd(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return $d(s,i,l,!1,d)},ar.version="18.3.1-next-f1338f8080-20240426",ar}var S_;function TS(){if(S_)return vm.exports;S_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vm.exports=CS(),vm.exports}var x_;function IS(){if(x_)return Bd;x_=1;var t=TS();return Bd.createRoot=t.createRoot,Bd.hydrateRoot=t.hydrateRoot,Bd}var SS=IS();const xS=()=>{};var k_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},kS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},tb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,h=u?t[o+1]:0,f=o+2<t.length,y=f?t[o+2]:0,v=a>>2,b=(a&3)<<4|h>>4;let T=(h&15)<<2|y>>6,N=y&63;f||(N=64,u||(T=64)),r.push(n[v],n[b],n[T],n[N])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const y=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||y==null||b==null)throw new RS;const T=a<<2|h>>4;if(r.push(T),y!==64){const N=h<<4&240|y>>2;if(r.push(N),b!==64){const j=y<<6&192|b;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PS=function(t){const e=eb(t);return tb.encodeByteArray(e,!0)},_h=function(t){return PS(t).replace(/\./g,"")},nb=function(t){try{return tb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=()=>AS().__FIREBASE_DEFAULTS__,DS=()=>{if(typeof process>"u"||typeof k_>"u")return;const t=k_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nb(t[1]);return e&&JSON.parse(e)},sf=()=>{try{return xS()||NS()||DS()||OS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rb=t=>sf()?.emulatorHosts?.[t],sb=t=>{const e=rb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ib=()=>sf()?.config,ob=t=>sf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_h(JSON.stringify(n)),_h(JSON.stringify(u)),""].join(".")}const Kc={};function jS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kc))Kc[e]?t.emulator.push(e):t.prod.push(e);return t}function MS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let R_=!1;function Fg(t,e){if(typeof window>"u"||typeof document>"u"||!Ta(window.location.host)||Kc[t]===e||Kc[t]||R_)return;Kc[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=jS().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,N){T.setAttribute("width","24"),T.setAttribute("id",N),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{R_=!0,u()},T}function v(T,N){T.setAttribute("id",N),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=MS(r),N=n("text"),j=document.getElementById(N)||document.createElement("span"),F=n("learnmore"),L=document.getElementById(F)||document.createElement("a"),H=n("preprendIcon"),O=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;h(z),v(L,F);const G=y();f(O,H),z.append(O,j,L,G),document.body.appendChild(z)}a?(j.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function FS(){const t=sf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function US(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zS(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HS(){return!FS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qS(){try{return typeof indexedDB=="object"}catch{return!1}}function WS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FirebaseError";class Hs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GS,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?KS(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Hs(o,h,r)}}function KS(t,e){return t.replace(JS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const JS=/\{\$([^}]+)}/g;function QS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],u=e[o];if(P_(a)&&P_(u)){if(!vi(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function P_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Bc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YS(t,e){const n=new XS(t,e);return n.subscribe.bind(n)}class XS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class _o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nx(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tx(t){return t===sa?void 0:t}function nx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ex(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const sx={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},ix=tt.INFO,ox={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},ax=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=ox[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $g{constructor(e){this.name=e,this._logLevel=ix,this._logHandler=ax,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const lx=(t,e)=>e.some(n=>t instanceof n);let A_,N_;function cx(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ux(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lb=new WeakMap,Jm=new WeakMap,cb=new WeakMap,Cm=new WeakMap,Ug=new WeakMap;function dx(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(mo(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&lb.set(n,t)}).catch(()=>{}),Ug.set(e,t),e}function hx(t){if(Jm.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Jm.set(t,e)}let Qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fx(t){Qm=t(Qm)}function px(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tm(this),e,...n);return cb.set(r,e.sort?e.sort():[e]),mo(r)}:ux().includes(t)?function(...e){return t.apply(Tm(this),e),mo(lb.get(this))}:function(...e){return mo(t.apply(Tm(this),e))}}function mx(t){return typeof t=="function"?px(t):(t instanceof IDBTransaction&&hx(t),lx(t,cx())?new Proxy(t,Qm):t)}function mo(t){if(t instanceof IDBRequest)return dx(t);if(Cm.has(t))return Cm.get(t);const e=mx(t);return e!==t&&(Cm.set(t,e),Ug.set(e,t)),e}const Tm=t=>Ug.get(t);function gx(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),h=mo(u);return r&&u.addEventListener("upgradeneeded",f=>{r(mo(u.result),f.oldVersion,f.newVersion,mo(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const yx=["get","getKey","getAll","getAllKeys","count"],wx=["put","add","delete","clear"],Im=new Map;function D_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=wx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||yx.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let y=f.store;return r&&(y=y.index(h.shift())),(await Promise.all([y[n](...h),o&&f.done]))[0]};return Im.set(e,a),a}fx(t=>({...t,get:(e,n,r)=>D_(e,n)||t.get(e,n,r),has:(e,n)=>!!D_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_x(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _x(t){return t.getComponent()?.type==="VERSION"}const Ym="@firebase/app",O_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new $g("@firebase/app"),Ex="@firebase/app-compat",bx="@firebase/analytics-compat",Cx="@firebase/analytics",Tx="@firebase/app-check-compat",Ix="@firebase/app-check",Sx="@firebase/auth",xx="@firebase/auth-compat",kx="@firebase/database",Rx="@firebase/data-connect",Px="@firebase/database-compat",Ax="@firebase/functions",Nx="@firebase/functions-compat",Dx="@firebase/installations",Ox="@firebase/installations-compat",Lx="@firebase/messaging",jx="@firebase/messaging-compat",Mx="@firebase/performance",Vx="@firebase/performance-compat",Fx="@firebase/remote-config",$x="@firebase/remote-config-compat",Ux="@firebase/storage",Bx="@firebase/storage-compat",zx="@firebase/firestore",Hx="@firebase/ai",qx="@firebase/firestore-compat",Wx="firebase",Gx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",Kx={[Ym]:"fire-core",[Ex]:"fire-core-compat",[Cx]:"fire-analytics",[bx]:"fire-analytics-compat",[Ix]:"fire-app-check",[Tx]:"fire-app-check-compat",[Sx]:"fire-auth",[xx]:"fire-auth-compat",[kx]:"fire-rtdb",[Rx]:"fire-data-connect",[Px]:"fire-rtdb-compat",[Ax]:"fire-fn",[Nx]:"fire-fn-compat",[Dx]:"fire-iid",[Ox]:"fire-iid-compat",[Lx]:"fire-fcm",[jx]:"fire-fcm-compat",[Mx]:"fire-perf",[Vx]:"fire-perf-compat",[Fx]:"fire-rc",[$x]:"fire-rc-compat",[Ux]:"fire-gcs",[Bx]:"fire-gcs-compat",[zx]:"fire-fst",[qx]:"fire-fst-compat",[Hx]:"fire-vertex","fire-js":"fire-js",[Wx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,Jx=new Map,Zm=new Map;function L_(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(Zm.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,t);for(const n of Eh.values())L_(n,t);for(const n of Jx.values())L_(n,t);return!0}function of(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new pu("app","Firebase",Qx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=Gx;function ub(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Xm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw go.create("bad-app-name",{appName:String(o)});if(n||(n=ib()),!n)throw go.create("no-options");const a=Eh.get(o);if(a){if(vi(n,a.options)&&vi(r,a.config))return a;throw go.create("duplicate-app",{appName:o})}const u=new rx(o);for(const f of Zm.values())u.addComponent(f);const h=new Yx(n,r,u);return Eh.set(o,h),h}function Bg(t=Xm){const e=Eh.get(t);if(!e&&t===Xm&&ib())return ub();if(!e)throw go.create("no-app",{appName:t});return e}function Ls(t,e,n){let r=Kx[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(u.join(" "));return}fa(new _o(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="firebase-heartbeat-database",Zx=1,ru="firebase-heartbeat-store";let Sm=null;function db(){return Sm||(Sm=gx(Xx,Zx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(t=>{throw go.create("idb-open",{originalErrorMessage:t.message})})),Sm}async function ek(t){try{const n=(await db()).transaction(ru),r=await n.objectStore(ru).get(hb(t));return await n.done,r}catch(e){if(e instanceof Hs)_i.warn(e.message);else{const n=go.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}}async function j_(t,e){try{const r=(await db()).transaction(ru,"readwrite");await r.objectStore(ru).put(e,hb(t)),await r.done}catch(n){if(n instanceof Hs)_i.warn(n.message);else{const r=go.create("idb-set",{originalErrorMessage:n?.message});_i.warn(r.message)}}}function hb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=1024,nk=30;class rk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ik(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=M_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>nk){const o=ok(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=M_(),{heartbeatsToSend:n,unsentEntries:r}=sk(this._heartbeatsCache.heartbeats),o=_h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _i.warn(e),""}}}function M_(){return new Date().toISOString().substring(0,10)}function sk(t,e=tk){const n=[];let r=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),V_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),V_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ik{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qS()?WS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ek(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return j_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return j_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function V_(t){return _h(JSON.stringify({version:2,heartbeats:t})).length}function ok(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){fa(new _o("platform-logger",e=>new vx(e),"PRIVATE")),fa(new _o("heartbeat",e=>new rk(e),"PRIVATE")),Ls(Ym,O_,t),Ls(Ym,O_,"esm2020"),Ls("fire-js","")}ak("");function fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lk=fb,pb=new pu("auth","Firebase",fb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new $g("@firebase/auth");function ck(t,...e){bh.logLevel<=tt.WARN&&bh.warn(`Auth (${Ia}): ${t}`,...e)}function nh(t,...e){bh.logLevel<=tt.ERROR&&bh.error(`Auth (${Ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,...e){throw Hg(t,...e)}function Br(t,...e){return Hg(t,...e)}function zg(t,e,n){const r={...lk(),[e]:n};return new pu("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return zg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Hr(t,"argument-error"),zg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pb.create(t,...e)}function Me(t,e,...n){if(!t)throw Hg(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nh(e),new Error(e)}function Ei(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(){return typeof self<"u"&&self.location?.href||""}function uk(){return F_()==="http:"||F_()==="https:"}function F_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uk()||US()||"connection"in navigator)?navigator.onLine:!0}function hk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=VS()||BS()}get(){return dk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mk=new gu(3e4,6e4);function Si(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fs(t,e,n,r,o={}){return yb(t,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=mu({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:f,...a};return $S()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(y.credentials="include"),gb.fetch()(await wb(t,t.config.apiHost,n,h),y)})}async function yb(t,e,n){t._canInitEmulator=!1;const r={...fk,...e};try{const o=new yk(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw zd(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,y]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw zd(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw zd(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw zd(t,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zg(t,v,y);Hr(t,v)}}catch(o){if(o instanceof Hs)throw o;Hr(t,"network-request-failed",{message:String(o)})}}async function yu(t,e,n,r,o={}){const a=await fs(t,e,n,r,o);return"mfaPendingCredential"in a&&Hr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function wb(t,e,n,r){const o=`${e}${n}?${r}`,a=t,u=a.config.emulator?qg(t.config,o):`${t.config.apiScheme}://${o}`;return pk.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function gk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),mk.get())})}}function zd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Br(t,e,r);return o.customData._tokenResponse=n,o}function $_(t){return t!==void 0&&t.enterprise!==void 0}class wk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vk(t,e){return fs(t,"GET","/v2/recaptchaConfig",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(t,e){return fs(t,"POST","/v1/accounts:delete",e)}async function Ch(t,e){return fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ek(t,e=!1){const n=At(t),r=await n.getIdToken(e),o=Wg(r);Me(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Jc(xm(o.auth_time)),issuedAtTime:Jc(xm(o.iat)),expirationTime:Jc(xm(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function xm(t){return Number(t)*1e3}function Wg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=nb(n);return o?JSON.parse(o):(nh("Failed to decode base64 JWT payload"),null)}catch(o){return nh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function U_(t){const e=Wg(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hs&&bk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t){const e=t.auth,n=await t.getIdToken(),r=await pa(t,Ch(e,{idToken:n}));Me(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=o.providerUserInfo?.length?vb(o.providerUserInfo):[],u=Ik(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!u?.length,y=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,v)}async function Tk(t){const e=At(t);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ik(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function vb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(t,e){const n=await yb(t,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,u=await wb(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(f.credentials="include"),gb.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xk(t,e){return fs(t,"POST","/v2/accounts:revokeToken",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=U_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await Sk(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,u=new Tl;return r&&(Me(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Me(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Me(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ls{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Ck(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await pa(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ek(this,e)}reload(){return Tk(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ls({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await pa(this,_k(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,y=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:T,isAnonymous:N,providerData:j,stsTokenManager:F}=n;Me(b&&F,e,"internal-error");const L=Tl.fromJSON(this.name,F);Me(typeof b=="string",e,"internal-error"),to(r,e.name),to(o,e.name),Me(typeof T=="boolean",e,"internal-error"),Me(typeof N=="boolean",e,"internal-error"),to(a,e.name),to(u,e.name),to(h,e.name),to(f,e.name),to(y,e.name),to(v,e.name);const H=new ls({uid:b,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:N,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:L,createdAt:y,lastLoginAt:v});return j&&Array.isArray(j)&&(H.providerData=j.map(O=>({...O}))),f&&(H._redirectEventId=f),H}static async _fromIdTokenResponse(e,n,r=!1){const o=new Tl;o.updateFromServerResponse(n);const a=new ls({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Th(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Me(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?vb(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,h=new Tl;h.updateFromIdToken(r);const f=new ls({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;function pi(t){Ei(t instanceof Function,"Expected a class definition");let e=B_.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,B_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_b.type="NONE";const z_=_b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t,e,n){return`firebase:${t}:${e}:${n}`}class Il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=rh(this.userKey,o.apiKey,a),this.fullPersistenceKey=rh("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?ls._fromGetAccountInfoResponse(this.auth,n,e):null}return ls._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Il(pi(z_),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||pi(z_);const u=rh(r,e.config.apiKey,e.name);let h=null;for(const y of n)try{const v=await y._get(u);if(v){let b;if(typeof v=="string"){const T=await Ch(e,{idToken:v}).catch(()=>{});if(!T)break;b=await ls._fromGetAccountInfoResponse(e,T,v)}else b=ls._fromJSON(e,v);y!==a&&(h=b),a=y;break}}catch{}const f=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Il(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(n.map(async y=>{if(y!==a)try{await y._remove(u)}catch{}})),new Il(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sb(e))return"Blackberry";if(xb(e))return"Webos";if(bb(e))return"Safari";if((e.includes("chrome/")||Cb(e))&&!e.includes("edge/"))return"Chrome";if(Ib(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Eb(t=Vn()){return/firefox\//i.test(t)}function bb(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cb(t=Vn()){return/crios\//i.test(t)}function Tb(t=Vn()){return/iemobile/i.test(t)}function Ib(t=Vn()){return/android/i.test(t)}function Sb(t=Vn()){return/blackberry/i.test(t)}function xb(t=Vn()){return/webos/i.test(t)}function Gg(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kk(t=Vn()){return Gg(t)&&!!window.navigator?.standalone}function Rk(){return zS()&&document.documentMode===10}function kb(t=Vn()){return Gg(t)||Ib(t)||xb(t)||Sb(t)||/windows phone/i.test(t)||Tb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e=[]){let n;switch(t){case"Browser":n=H_(Vn());break;case"Worker":n=`${H_(Vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t,e={}){return fs(t,"GET","/v2/passwordPolicy",Si(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=6;class Dk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Nk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q_(this),this.idTokenSubscription=new q_(this),this.beforeStateQueue=new Pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),r=await ls._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(mi(this));const n=e?At(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ak(this),n=new Dk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ck(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xi(t){return At(t)}class q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=YS(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lk(t){af=t}function Pb(t){return af.loadJS(t)}function jk(){return af.recaptchaEnterpriseScript}function Mk(){return af.gapiScript}function Vk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Fk{constructor(){this.enterprise=new $k}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $k{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Uk="recaptcha-enterprise",Ab="NO_RECAPTCHA";class Bk{constructor(e){this.type=Uk,this.auth=xi(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{vk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new wk(f);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,u(y.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;$_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(y=>{u(y)}).catch(()=>{u(Ab)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!n&&$_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=jk();f.length!==0&&(f+=h),Pb(f).then(()=>{o(h,a,u)}).catch(y=>{u(y)})}}).catch(h=>{u(h)})})}}async function W_(t,e,n,r=!1,o=!1){const a=new Bk(t);let u;if(o)u=Ab;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ih(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await W_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await W_(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t,e){const n=of(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(vi(a,e??{}))return o;Hr(o,"already-initialized")}return n.initialize({options:e})}function Hk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function qk(t,e,n){const r=xi(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=Nb(e),{host:u,port:h}=Wk(e),f=h===null?"":`:${h}`,y={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(vi(y,r.config.emulator)&&vi(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Ta(u)?(Vg(`${a}//${u}${f}`),Fg("Auth",!0)):Gk()}function Nb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Wk(t){const e=Nb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:G_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:G_(u)}}}function G_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Gk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function Kk(t,e){return fs(t,"POST","/v1/accounts:update",e)}async function Jk(t,e){return fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(t,e){return yu(t,"POST","/v1/accounts:signInWithPassword",Si(t,e))}async function Yk(t,e){return fs(t,"POST","/v1/accounts:sendOobCode",Si(t,e))}async function Xk(t,e){return Yk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(t,e){return yu(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}async function eR(t,e){return yu(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Kg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,n,"signInWithPassword",Qk);case"emailLink":return Zk(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,r,"signUpPassword",Jk);case"emailLink":return eR(e,{idToken:n,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return yu(t,"POST","/v1/accounts:signInWithIdp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="http://localhost";class ma extends Kg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=n;if(!r||!o)return null;const u=new ma(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sl(e,n)}buildRequest(){const e={requestUri:tR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rR(t){const e=Uc(Bc(t)).link,n=e?Uc(Bc(e)).deep_link_id:null,r=Uc(Bc(t)).deep_link_id;return(r?Uc(Bc(r)).link:null)||r||n||e||t}class Jg{constructor(e){const n=Uc(Bc(e)),r=n.apiKey??null,o=n.oobCode??null,a=nR(n.mode??null);Me(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=rR(e);try{return new Jg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.providerId=Sa.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jg.parseLink(n);return Me(r,"argument-error"),su._fromEmailAndCode(e,r.code,r.tenantId)}}Sa.PROVIDER_ID="password";Sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends lf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends wu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends wu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends wu{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(t,e){return yu(t,"POST","/v1/accounts:signUp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await ls._fromIdTokenResponse(e,r,o),u=K_(r);return new ga({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=K_(r);return new ga({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function K_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Hs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Sh(e,n,r,o)}}function Db(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(t,a,e,r):a})}async function iR(t,e,n=!1){const r=await pa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ga._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(t,e,n=!1){const{auth:r}=t;if(Gn(r.app))return Promise.reject(mi(r));const o="reauthenticate";try{const a=await pa(t,Db(r,o,e,t),n);Me(a.idToken,r,"internal-error");const u=Wg(a.idToken);Me(u,r,"internal-error");const{sub:h}=u;return Me(t.uid===h,r,"user-mismatch"),ga._forOperation(t,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Hr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t,e,n=!1){if(Gn(t.app))return Promise.reject(mi(t));const r="signIn",o=await Db(t,r,e),a=await ga._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function oR(t,e){return Lb(xi(t),e)}async function aR(t,e){return Ob(At(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t){const e=xi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Mb(t,e,n){const r=xi(t);await Ih(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Xk)}async function lR(t,e,n){if(Gn(t.app))return Promise.reject(mi(t));const r=xi(t),u=await Ih(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&jb(t),f}),h=await ga._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function cR(t,e,n){return Gn(t.app)?Promise.reject(mi(t)):oR(At(t),Sa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(t,e){return fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=At(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await pa(r,uR(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function dR(t,e){return hR(At(t),null,e)}async function hR(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const u=await pa(t,Kk(r,a));await t._updateTokensIfNecessary(u,!0)}function fR(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function pR(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function mR(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function vu(t){return At(t).signOut()}async function gR(t){return At(t).delete()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=1e3,wR=10;class $b extends Fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Rk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$b.type="LOCAL";const vR=$b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ub.type="SESSION";const Bb=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new cf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async y=>y(n.origin,a)),f=await _R(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const y=Qg("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(b){const T=b;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return window}function bR(t){js().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){return typeof js().WorkerGlobalScope<"u"&&typeof js().importScripts=="function"}async function CR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TR(){return navigator?.serviceWorker?.controller||null}function IR(){return zb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="firebaseLocalStorageDb",SR=1,kh="firebaseLocalStorage",qb="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uf(t,e){return t.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function xR(){const t=indexedDB.deleteDatabase(Hb);return new _u(t).toPromise()}function ng(){const t=indexedDB.open(Hb,SR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kh,{keyPath:qb})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await xR(),e(await ng()))})})}async function J_(t,e,n){const r=uf(t,!0).put({[qb]:e,value:n});return new _u(r).toPromise()}async function kR(t,e){const n=uf(t,!1).get(e),r=await new _u(n).toPromise();return r===void 0?null:r.value}function Q_(t,e){const n=uf(t,!0).delete(e);return new _u(n).toPromise()}const RR=800,PR=3;class Wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(IR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CR(),!this.activeServiceWorker)return;this.sender=new ER(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ng();return await J_(e,xh,"1"),await Q_(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=uf(o,!1).getAll();return new _u(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wb.type="LOCAL";const AR=Wb;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e){return e?pi(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg extends Kg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NR(t){return Lb(t.auth,new Xg(t),t.bypassAuthState)}function DR(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),Ob(n,new Xg(t),t.bypassAuthState)}async function OR(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),iR(n,new Xg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NR;case"linkViaPopup":case"linkViaRedirect":return OR;case"reauthViaPopup":case"reauthViaRedirect":return DR;default:Hr(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new gu(2e3,1e4);async function jR(t,e,n){if(Gn(t.app))return Promise.reject(Br(t,"operation-not-supported-in-this-environment"));const r=xi(t);mb(t,e,lf);const o=Yg(r,n);return new uo(r,"signInViaPopup",e,o).executeNotNull()}async function MR(t,e,n){const r=At(t);if(Gn(r.auth.app))return Promise.reject(Br(r.auth,"operation-not-supported-in-this-environment"));mb(r.auth,e,lf);const o=Yg(r.auth,n);return new uo(r.auth,"reauthViaPopup",e,o,r).executeNotNull()}class uo extends Gb{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=Qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LR.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="pendingRedirect",sh=new Map;class FR extends Gb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const r=await $R(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $R(t,e){const n=zR(e),r=BR(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function UR(t,e){sh.set(t._key(),e)}function BR(t){return pi(t._redirectPersistence)}function zR(t){return rh(VR,t.config.apiKey,t.name)}async function HR(t,e,n=!1){if(Gn(t.app))return Promise.reject(mi(t));const r=xi(t),o=Yg(r,e),u=await new FR(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=600*1e3;class WR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Kb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Br(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y_(e))}saveEventToCache(e){this.cachedEventUids.add(Y_(e)),this.lastProcessedEventTime=Date.now()}}function Y_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Kb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function GR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(t,e={}){return fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QR=/^https?/;async function YR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KR(t);for(const n of e)try{if(XR(n))return}catch{}Hr(t,"unauthorized-domain")}function XR(t){const e=eg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!QR.test(n))return!1;if(JR.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new gu(3e4,6e4);function X_(){const t=js().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eP(t){return new Promise((e,n)=>{function r(){X_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X_(),n(Br(t,"network-request-failed"))},timeout:ZR.get()})}if(js().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(js().gapi?.load)r();else{const o=Vk("iframefcb");return js()[o]=()=>{gapi.load?r():n(Br(t,"network-request-failed"))},Pb(`${Mk()}?onload=${o}`).catch(a=>n(a))}}).catch(e=>{throw ih=null,e})}let ih=null;function tP(t){return ih=ih||eP(t),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new gu(5e3,15e3),rP="__/auth/iframe",sP="emulator/auth/iframe",iP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aP(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qg(e,sP):`https://${t.config.authDomain}/${rP}`,r={apiKey:e.apiKey,appName:t.name,v:Ia},o=oP.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${mu(r).slice(1)}`}async function lP(t){const e=await tP(t),n=js().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:aP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iP,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Br(t,"network-request-failed"),h=js().setTimeout(()=>{a(u)},nP.get());function f(){js().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uP=500,dP=600,hP="_blank",fP="http://localhost";class Z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pP(t,e,n,r=uP,o=dP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...cP,width:r.toString(),height:o.toString(),top:a,left:u},y=Vn().toLowerCase();n&&(h=Cb(y)?hP:n),Eb(y)&&(e=e||fP,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[N,j])=>`${T}${N}=${j},`,"");if(kk(y)&&h!=="_self")return mP(e||"",h),new Z_(null);const b=window.open(e||"",h,v);Me(b,t,"popup-blocked");try{b.focus()}catch{}return new Z_(b)}function mP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="__/auth/handler",yP="emulator/auth/handler",wP=encodeURIComponent("fac");async function e0(t,e,n,r,o,a){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ia,eventId:o};if(e instanceof lf){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",QS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof wu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await t._getAppCheckToken(),y=f?`#${wP}=${encodeURIComponent(f)}`:"";return`${vP(t)}?${mu(h).slice(1)}${y}`}function vP({config:t}){return t.emulator?qg(t,yP):`https://${t.authDomain}/${gP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class _P{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bb,this._completeRedirectFn=HR,this._overrideRedirectResult=UR}async _openPopup(e,n,r,o){Ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await e0(e,n,r,eg(),o);return pP(e,a,Qg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await e0(e,n,r,eg(),o);return bR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(Ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lP(e),r=new WR(e);return n.register("authEvent",o=>(Me(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},o=>{const a=o?.[0]?.[km];a!==void 0&&n(!!a),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kb()||bb()||Gg()}}const EP=_P;var t0="@firebase/auth",n0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TP(t){fa(new _o("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Me(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rb(t)},y=new Ok(r,o,a,f);return Hk(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fa(new _o("auth-internal",e=>{const n=xi(e.getProvider("auth").getImmediate());return(r=>new bP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(t0,n0,CP(t)),Ls(t0,n0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=300,SP=ob("authIdTokenMaxAge")||IP;let r0=null;const xP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SP)return;const o=n?.token;r0!==o&&(r0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Kr(t=Bg()){const e=of(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zk(t,{popupRedirectResolver:EP,persistence:[AR,vR,Bb]}),r=ob("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=xP(a.toString());pR(n,u,()=>u(n.currentUser)),fR(n,h=>u(h))}}const o=rb("auth");return o&&qk(n,`http://${o}`),n}function kP(){return document.getElementsByTagName("head")?.[0]??document}Lk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=Br("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",kP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TP("Browser");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yo,Jb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function R(){}R.prototype=S.prototype,k.D=S.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(P,M,U){for(var A=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)A[Pe-2]=arguments[Pe];return S.prototype[M].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,R){R||(R=0);var P=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)P[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)P[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=k.g[0],R=k.g[1],M=k.g[2];var U=k.g[3],A=S+(U^R&(M^U))+P[0]+3614090360&4294967295;S=R+(A<<7&4294967295|A>>>25),A=U+(M^S&(R^M))+P[1]+3905402710&4294967295,U=S+(A<<12&4294967295|A>>>20),A=M+(R^U&(S^R))+P[2]+606105819&4294967295,M=U+(A<<17&4294967295|A>>>15),A=R+(S^M&(U^S))+P[3]+3250441966&4294967295,R=M+(A<<22&4294967295|A>>>10),A=S+(U^R&(M^U))+P[4]+4118548399&4294967295,S=R+(A<<7&4294967295|A>>>25),A=U+(M^S&(R^M))+P[5]+1200080426&4294967295,U=S+(A<<12&4294967295|A>>>20),A=M+(R^U&(S^R))+P[6]+2821735955&4294967295,M=U+(A<<17&4294967295|A>>>15),A=R+(S^M&(U^S))+P[7]+4249261313&4294967295,R=M+(A<<22&4294967295|A>>>10),A=S+(U^R&(M^U))+P[8]+1770035416&4294967295,S=R+(A<<7&4294967295|A>>>25),A=U+(M^S&(R^M))+P[9]+2336552879&4294967295,U=S+(A<<12&4294967295|A>>>20),A=M+(R^U&(S^R))+P[10]+4294925233&4294967295,M=U+(A<<17&4294967295|A>>>15),A=R+(S^M&(U^S))+P[11]+2304563134&4294967295,R=M+(A<<22&4294967295|A>>>10),A=S+(U^R&(M^U))+P[12]+1804603682&4294967295,S=R+(A<<7&4294967295|A>>>25),A=U+(M^S&(R^M))+P[13]+4254626195&4294967295,U=S+(A<<12&4294967295|A>>>20),A=M+(R^U&(S^R))+P[14]+2792965006&4294967295,M=U+(A<<17&4294967295|A>>>15),A=R+(S^M&(U^S))+P[15]+1236535329&4294967295,R=M+(A<<22&4294967295|A>>>10),A=S+(M^U&(R^M))+P[1]+4129170786&4294967295,S=R+(A<<5&4294967295|A>>>27),A=U+(R^M&(S^R))+P[6]+3225465664&4294967295,U=S+(A<<9&4294967295|A>>>23),A=M+(S^R&(U^S))+P[11]+643717713&4294967295,M=U+(A<<14&4294967295|A>>>18),A=R+(U^S&(M^U))+P[0]+3921069994&4294967295,R=M+(A<<20&4294967295|A>>>12),A=S+(M^U&(R^M))+P[5]+3593408605&4294967295,S=R+(A<<5&4294967295|A>>>27),A=U+(R^M&(S^R))+P[10]+38016083&4294967295,U=S+(A<<9&4294967295|A>>>23),A=M+(S^R&(U^S))+P[15]+3634488961&4294967295,M=U+(A<<14&4294967295|A>>>18),A=R+(U^S&(M^U))+P[4]+3889429448&4294967295,R=M+(A<<20&4294967295|A>>>12),A=S+(M^U&(R^M))+P[9]+568446438&4294967295,S=R+(A<<5&4294967295|A>>>27),A=U+(R^M&(S^R))+P[14]+3275163606&4294967295,U=S+(A<<9&4294967295|A>>>23),A=M+(S^R&(U^S))+P[3]+4107603335&4294967295,M=U+(A<<14&4294967295|A>>>18),A=R+(U^S&(M^U))+P[8]+1163531501&4294967295,R=M+(A<<20&4294967295|A>>>12),A=S+(M^U&(R^M))+P[13]+2850285829&4294967295,S=R+(A<<5&4294967295|A>>>27),A=U+(R^M&(S^R))+P[2]+4243563512&4294967295,U=S+(A<<9&4294967295|A>>>23),A=M+(S^R&(U^S))+P[7]+1735328473&4294967295,M=U+(A<<14&4294967295|A>>>18),A=R+(U^S&(M^U))+P[12]+2368359562&4294967295,R=M+(A<<20&4294967295|A>>>12),A=S+(R^M^U)+P[5]+4294588738&4294967295,S=R+(A<<4&4294967295|A>>>28),A=U+(S^R^M)+P[8]+2272392833&4294967295,U=S+(A<<11&4294967295|A>>>21),A=M+(U^S^R)+P[11]+1839030562&4294967295,M=U+(A<<16&4294967295|A>>>16),A=R+(M^U^S)+P[14]+4259657740&4294967295,R=M+(A<<23&4294967295|A>>>9),A=S+(R^M^U)+P[1]+2763975236&4294967295,S=R+(A<<4&4294967295|A>>>28),A=U+(S^R^M)+P[4]+1272893353&4294967295,U=S+(A<<11&4294967295|A>>>21),A=M+(U^S^R)+P[7]+4139469664&4294967295,M=U+(A<<16&4294967295|A>>>16),A=R+(M^U^S)+P[10]+3200236656&4294967295,R=M+(A<<23&4294967295|A>>>9),A=S+(R^M^U)+P[13]+681279174&4294967295,S=R+(A<<4&4294967295|A>>>28),A=U+(S^R^M)+P[0]+3936430074&4294967295,U=S+(A<<11&4294967295|A>>>21),A=M+(U^S^R)+P[3]+3572445317&4294967295,M=U+(A<<16&4294967295|A>>>16),A=R+(M^U^S)+P[6]+76029189&4294967295,R=M+(A<<23&4294967295|A>>>9),A=S+(R^M^U)+P[9]+3654602809&4294967295,S=R+(A<<4&4294967295|A>>>28),A=U+(S^R^M)+P[12]+3873151461&4294967295,U=S+(A<<11&4294967295|A>>>21),A=M+(U^S^R)+P[15]+530742520&4294967295,M=U+(A<<16&4294967295|A>>>16),A=R+(M^U^S)+P[2]+3299628645&4294967295,R=M+(A<<23&4294967295|A>>>9),A=S+(M^(R|~U))+P[0]+4096336452&4294967295,S=R+(A<<6&4294967295|A>>>26),A=U+(R^(S|~M))+P[7]+1126891415&4294967295,U=S+(A<<10&4294967295|A>>>22),A=M+(S^(U|~R))+P[14]+2878612391&4294967295,M=U+(A<<15&4294967295|A>>>17),A=R+(U^(M|~S))+P[5]+4237533241&4294967295,R=M+(A<<21&4294967295|A>>>11),A=S+(M^(R|~U))+P[12]+1700485571&4294967295,S=R+(A<<6&4294967295|A>>>26),A=U+(R^(S|~M))+P[3]+2399980690&4294967295,U=S+(A<<10&4294967295|A>>>22),A=M+(S^(U|~R))+P[10]+4293915773&4294967295,M=U+(A<<15&4294967295|A>>>17),A=R+(U^(M|~S))+P[1]+2240044497&4294967295,R=M+(A<<21&4294967295|A>>>11),A=S+(M^(R|~U))+P[8]+1873313359&4294967295,S=R+(A<<6&4294967295|A>>>26),A=U+(R^(S|~M))+P[15]+4264355552&4294967295,U=S+(A<<10&4294967295|A>>>22),A=M+(S^(U|~R))+P[6]+2734768916&4294967295,M=U+(A<<15&4294967295|A>>>17),A=R+(U^(M|~S))+P[13]+1309151649&4294967295,R=M+(A<<21&4294967295|A>>>11),A=S+(M^(R|~U))+P[4]+4149444226&4294967295,S=R+(A<<6&4294967295|A>>>26),A=U+(R^(S|~M))+P[11]+3174756917&4294967295,U=S+(A<<10&4294967295|A>>>22),A=M+(S^(U|~R))+P[2]+718787259&4294967295,M=U+(A<<15&4294967295|A>>>17),A=R+(U^(M|~S))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var R=S-this.blockSize,P=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=R;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<S;)if(P[M++]=k.charCodeAt(U++),M==this.blockSize){o(this,P),M=0;break}}else for(;U<S;)if(P[M++]=k[U++],M==this.blockSize){o(this,P),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var R=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=R&255,R/=256;for(this.u(k),k=Array(16),S=R=0;4>S;++S)for(var P=0;32>P;P+=8)k[R++]=this.g[S]>>>P&255;return k};function a(k,S){var R=h;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=S(k)}function u(k,S){this.h=S;for(var R=[],P=!0,M=k.length-1;0<=M;M--){var U=k[M]|0;P&&U==S||(R[M]=U,P=!1)}this.g=R}var h={};function f(k){return-128<=k&&128>k?a(k,function(S){return new u([S|0],0>S?-1:0)}):new u([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return L(y(-k));for(var S=[],R=1,P=0;k>=R;P++)S[P]=k/R|0,R*=4294967296;return new u(S,0)}function v(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return L(v(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),P=b,M=0;M<k.length;M+=8){var U=Math.min(8,k.length-M),A=parseInt(k.substring(M,M+U),S);8>U?(U=y(Math.pow(S,U)),P=P.j(U).add(y(A))):(P=P.j(R),P=P.add(y(A)))}return P}var b=f(0),T=f(1),N=f(16777216);t=u.prototype,t.m=function(){if(F(this))return-L(this).m();for(var k=0,S=1,R=0;R<this.g.length;R++){var P=this.i(R);k+=(0<=P?P:4294967296+P)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(j(this))return"0";if(F(this))return"-"+L(this).toString(k);for(var S=y(Math.pow(k,6)),R=this,P="";;){var M=G(R,S).g;R=H(R,M.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=M,j(R))return U+P;for(;6>U.length;)U="0"+U;P=U+P}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function j(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function F(k){return k.h==-1}t.l=function(k){return k=H(this,k),F(k)?-1:j(k)?0:1};function L(k){for(var S=k.g.length,R=[],P=0;P<S;P++)R[P]=~k.g[P];return new u(R,~k.h).add(T)}t.abs=function(){return F(this)?L(this):this},t.add=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],P=0,M=0;M<=S;M++){var U=P+(this.i(M)&65535)+(k.i(M)&65535),A=(U>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);P=A>>>16,U&=65535,A&=65535,R[M]=A<<16|U}return new u(R,R[R.length-1]&-2147483648?-1:0)};function H(k,S){return k.add(L(S))}t.j=function(k){if(j(this)||j(k))return b;if(F(this))return F(k)?L(this).j(L(k)):L(L(this).j(k));if(F(k))return L(this.j(L(k)));if(0>this.l(N)&&0>k.l(N))return y(this.m()*k.m());for(var S=this.g.length+k.g.length,R=[],P=0;P<2*S;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<k.g.length;M++){var U=this.i(P)>>>16,A=this.i(P)&65535,Pe=k.i(M)>>>16,Te=k.i(M)&65535;R[2*P+2*M]+=A*Te,O(R,2*P+2*M),R[2*P+2*M+1]+=U*Te,O(R,2*P+2*M+1),R[2*P+2*M+1]+=A*Pe,O(R,2*P+2*M+1),R[2*P+2*M+2]+=U*Pe,O(R,2*P+2*M+2)}for(P=0;P<S;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=S;P<2*S;P++)R[P]=0;return new u(R,0)};function O(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function z(k,S){this.g=k,this.h=S}function G(k,S){if(j(S))throw Error("division by zero");if(j(k))return new z(b,b);if(F(k))return S=G(L(k),S),new z(L(S.g),L(S.h));if(F(S))return S=G(k,L(S)),new z(L(S.g),S.h);if(30<k.g.length){if(F(k)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,P=S;0>=P.l(k);)R=ne(R),P=ne(P);var M=Z(R,1),U=Z(P,1);for(P=Z(P,2),R=Z(R,2);!j(P);){var A=U.add(P);0>=A.l(k)&&(M=M.add(R),U=A),P=Z(P,1),R=Z(R,1)}return S=H(k,M.j(S)),new z(M,S)}for(M=b;0<=k.l(S);){for(R=Math.max(1,Math.floor(k.m()/S.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),U=y(R),A=U.j(S);F(A)||0<A.l(k);)R-=P,U=y(R),A=U.j(S);j(U)&&(U=T),M=M.add(U),k=H(k,A)}return new z(M,k)}t.A=function(k){return G(this,k).h},t.and=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],P=0;P<S;P++)R[P]=this.i(P)&k.i(P);return new u(R,this.h&k.h)},t.or=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],P=0;P<S;P++)R[P]=this.i(P)|k.i(P);return new u(R,this.h|k.h)},t.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],P=0;P<S;P++)R[P]=this.i(P)^k.i(P);return new u(R,this.h^k.h)};function ne(k){for(var S=k.g.length+1,R=[],P=0;P<S;P++)R[P]=k.i(P)<<1|k.i(P-1)>>>31;return new u(R,k.h)}function Z(k,S){var R=S>>5;S%=32;for(var P=k.g.length-R,M=[],U=0;U<P;U++)M[U]=0<S?k.i(U+R)>>>S|k.i(U+R+1)<<32-S:k.i(U+R);return new u(M,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Jb=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,yo=u}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qb,zc,Yb,oh,rg,Xb,Zb,e1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var q=c[I];if(!(q in _))break e;_=_[q]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,q={next:function(){if(!I&&_<c.length){var Q=_++;return{value:g(Q,c[Q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,I),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function T(c,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,T.apply(null,arguments)}function N(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function j(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,q,Q){for(var he=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)he[gt-2]=arguments[gt];return g.prototype[q].apply(I,he)}}function F(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function L(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const q=c.length||0,Q=I.length||0;c.length=q+Q;for(let he=0;he<Q;he++)c[q+he]=I[he]}else c.push(I)}}class H{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function O(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function G(c){return G[" "](c),c}G[" "]=function(){};var ne=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Z(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function k(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,g){let _,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(_ in I)c[_]=I[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){h.setTimeout(()=>{throw c},0)}function A(){var c=le;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Pe{constructor(){this.h=this.g=null}add(g,_){const I=Te.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var Te=new H(()=>new Ne,c=>c.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,X=!1,le=new Pe,ee=()=>{const c=h.Promise.resolve(void 0);Le=()=>{c.then(x)}};var x=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(_){U(_)}var g=Te;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}X=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var se=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c})();function fe(c,g){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ne){e:{try{G(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fe.aa.h.call(this)}}j(fe,te);var pe={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function He(c,g,_,I,q){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=q,this.key=++Ae,this.da=this.fa=!1}function yt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bt(c){this.src=c,this.g={},this.h=0}bt.prototype.add=function(c,g,_,I,q){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var he=$n(c,g,I,q);return-1<he?(g=c[he],_||(g.fa=!1)):(g=new He(g,this.src,Q,!!I,q),g.fa=_,c.push(g)),g};function St(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],q=Array.prototype.indexOf.call(I,g,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(I,q,1),Q&&(yt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function $n(c,g,_,I){for(var q=0;q<c.length;++q){var Q=c[q];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==I)return q}return-1}var Un="closure_lm_"+(1e6*Math.random()|0),fr={};function Jr(c,g,_,I,q){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)Jr(c,g[Q],_,I,q);return null}return _=Ze(_),c&&c[Ce]?c.K(g,_,y(I)?!!I.capture:!1,q):Fe(c,g,_,!1,I,q)}function Fe(c,g,_,I,q,Q){if(!g)throw Error("Invalid event type");var he=y(q)?!!q.capture:!!q,gt=Ge(c);if(gt||(c[Un]=gt=new bt(c)),_=gt.add(g,_,I,he,Q),_.proxy)return _;if(I=we(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)se||(q=he),q===void 0&&(q=!1),c.addEventListener(g.toString(),I,q);else if(c.attachEvent)c.attachEvent(qe(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function we(){function c(_){return g.call(c.src,c.listener,_)}const g=wt;return c}function st(c,g,_,I,q){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)st(c,g[Q],_,I,q);else I=y(I)?!!I.capture:!!I,_=Ze(_),c&&c[Ce]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],_=$n(Q,_,I,q),-1<_&&(yt(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ge(c))&&(g=c.g[g.toString()],c=-1,g&&(c=$n(g,_,I,q)),(_=-1<c?g[c]:null)&&De(_))}function De(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ce])St(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(qe(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=Ge(g))?(St(_,c),_.h==0&&(_.src=null,g[Un]=null)):yt(c)}}}function qe(c){return c in fr?fr[c]:fr[c]="on"+c}function wt(c,g){if(c.da)c=!0;else{g=new fe(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&De(c),c=_.call(I,g)}return c}function Ge(c){return c=c[Un],c instanceof bt?c:null}var Xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ze(c){return typeof c=="function"?c:(c[Xe]||(c[Xe]=function(g){return c.handleEvent(g)}),c[Xe])}function et(){$.call(this),this.i=new bt(this),this.M=this,this.F=null}j(et,$),et.prototype[Ce]=!0,et.prototype.removeEventListener=function(c,g,_,I){st(this,c,g,_,I)};function vt(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new te(g,c);else if(g instanceof te)g.target=g.target||c;else{var q=g;g=new te(I,c),P(g,q)}if(q=!0,_)for(var Q=_.length-1;0<=Q;Q--){var he=g.g=_[Q];q=pr(he,I,!0,g)&&q}if(he=g.g=c,q=pr(he,I,!0,g)&&q,q=pr(he,I,!1,g)&&q,_)for(Q=0;Q<_.length;Q++)he=g.g=_[Q],q=pr(he,I,!1,g)&&q}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)yt(_[I]);delete c.g[g],c.h--}}this.F=null},et.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},et.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function pr(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,Q=0;Q<g.length;++Q){var he=g[Q];if(he&&!he.da&&he.capture==_){var gt=he.listener,an=he.ha||he.src;he.fa&&St(c.i,he),q=gt.call(an,I)!==!1&&q}}return q&&!I.defaultPrevented}function Po(c,g,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function gs(c){c.g=Po(()=>{c.g=null,c.i&&(c.i=!1,gs(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ys extends ${constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){$.call(this),this.h=c,this.g={}}j(ws,$);var Ao=[];function No(c){Z(c.g,function(g,_){this.g.hasOwnProperty(_)&&De(g)},c),c.g={}}ws.prototype.N=function(){ws.aa.N.call(this),No(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=h.JSON.stringify,Do=h.JSON.parse,Oo=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ws(){}Ws.prototype.h=null;function Gs(c){return c.h||(c.h=c.i())}function Ri(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){te.call(this,"d")}j(mr,te);function Rr(){te.call(this,"c")}j(Rr,te);var Pr={},Lo=null;function vs(){return Lo=Lo||new et}Pr.La="serverreachability";function Pi(c){te.call(this,Pr.La,c)}j(Pi,te);function Ar(c){const g=vs();vt(g,new Pi(g))}Pr.STAT_EVENT="statevent";function Ai(c,g){te.call(this,Pr.STAT_EVENT,c),this.stat=g}j(Ai,te);function Nt(c){const g=vs();vt(g,new Ai(g,c))}Pr.Ma="timingevent";function Ks(c,g){te.call(this,Pr.Ma,c),this.size=g}j(Ks,te);function Yn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function Js(c,g,_,I,q,Q){c.info(function(){if(c.g)if(Q)for(var he="",gt=Q.split("&"),an=0;an<gt.length;an++){var ot=gt[an].split("=");if(1<ot.length){var fn=ot[0];ot=ot[1];var Zt=fn.split("_");he=2<=Zt.length&&Zt[1]=="type"?he+(fn+"="+ot+"&"):he+(fn+"=redacted&")}}else he=null;else he=Q;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+g+`
`+_+`
`+he})}function Ni(c,g,_,I,q,Q,he){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+g+`
`+_+`
`+Q+" "+he})}function Yt(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+jo(c,_)+(I?" "+I:"")})}function _n(c,g){c.info(function(){return"TIMEOUT: "+g})}_s.prototype.info=function(){};function jo(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var q=I[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var he=1;he<q.length;he++)q[he]=""}}}}return ki(_)}catch{return g}}var Qs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$t;function Xn(){}j(Xn,Ws),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},$t=new Xn;function gr(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nr}function Nr(){this.i=null,this.g="",this.h=!1}var Di={},Qr={};function Ys(c,g,_){c.L=1,c.v=ji(Xt(g)),c.m=_,c.P=!0,Vo(c,null)}function Vo(c,g){c.F=Date.now(),_t(c),c.A=Xt(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Vi(_.i,"t",I),c.C=0,_=c.j.J,c.h=new Nr,c.g=Gu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new ys(T(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Ao[0]=q.toString()),q=Ao);for(var Q=0;Q<q.length;Q++){var he=Jr(_,q[Q],I||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ar(),Js(c.i,c.u,c.A,c.l,c.R,c.m)}gr.prototype.ca=function(c){c=c.target;const g=this.M;g&&tr(c)==3?g.j():this.Y(c)},gr.prototype.Y=function(c){try{if(c==this.g)e:{const Zt=tr(this.g);var g=this.g.Ba();const Or=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||dc(this.g)))){this.J||Zt!=4||g==7||(g==8||0>=Or?Ar(3):Ar(2)),yr(this);var _=this.g.Z();this.X=_;t:if(La(this)){var I=dc(this.g);c="";var q=I.length,Q=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),Es(this);var he="";break t}this.h.i=new h.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(Q&&g==q-1)});I.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,Ni(this.i,this.u,this.A,this.l,this.R,Zt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,an=this.g;if((gt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(gt)){var ot=gt;break t}}ot=null}if(_=ot)Yt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fo(this,_);else{this.o=!1,this.s=3,Nt(12),Zn(this),Es(this);break e}}if(this.P){_=!0;let _r;for(;!this.J&&this.C<he.length;)if(_r=ac(this,he),_r==Qr){Zt==4&&(this.s=4,Nt(14),_=!1),Yt(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==Di){this.s=4,Nt(15),Yt(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else Yt(this.i,this.l,_r,null),Fo(this,_r);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||he.length!=0||this.h.h||(this.s=1,Nt(16),_=!1),this.o=this.o&&_,!_)Yt(this.i,this.l,he,"[Invalid Chunked Response]"),Zn(this),Es(this);else if(0<he.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),fc(fn),fn.M=!0,Nt(11))}}else Yt(this.i,this.l,he,null),Fo(this,he);Zt==4&&Zn(this),this.o&&!this.J&&(Zt==4?Ka(this.j,this):(this.o=!1,_t(this)))}else za(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Zn(this),Es(this)}}}catch{}finally{}};function La(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ac(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?Qr:(_=Number(g.substring(_,I)),isNaN(_)?Di:(I+=1,I+_>g.length?Qr:(g=g.slice(I,I+_),c.C=I+_,g)))}gr.prototype.cancel=function(){this.J=!0,Zn(this)};function _t(c){c.S=Date.now()+c.I,qt(c,c.I)}function qt(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Yn(T(c.ba,c),g)}function yr(c){c.B&&(h.clearTimeout(c.B),c.B=null)}gr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_n(this.i,this.A),this.L!=2&&(Ar(),Nt(17)),Zn(this),this.s=2,Es(this)):qt(this,this.S-c)};function Es(c){c.j.G==0||c.J||Ka(c.j,c)}function Zn(c){yr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,No(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Fo(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Ut(_.h,c))){if(!c.K&&Ut(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ga(_),ts(_);else break e;Wa(_),Nt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Yn(T(_.Za,_),6e3));if(1>=Ma(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ni(_,11)}else if((c.K||_.g==c)&&Ga(_),!O(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let ot=q[g];if(_.T=ot[0],ot=ot[1],_.G==2)if(ot[0]=="c"){_.K=ot[1],_.ia=ot[2];const fn=ot[3];fn!=null&&(_.la=fn,_.j.info("VER="+_.la));const Zt=ot[4];Zt!=null&&(_.Aa=Zt,_.j.info("SVER="+_.Aa));const Or=ot[5];Or!=null&&typeof Or=="number"&&0<Or&&(I=1.5*Or,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const _r=c.g;if(_r){const Ho=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ho){var Q=I.h;Q.g||Ho.indexOf("spdy")==-1&&Ho.indexOf("quic")==-1&&Ho.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&($o(Q,Q.h),Q.h=null))}if(I.D){const Qa=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(I.ya=Qa,Et(I.I,I.D,Qa))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var he=c;if(I.qa=Wu(I,I.J?I.ia:null,I.W),he.K){Va(I.h,he);var gt=he,an=I.L;an&&(gt.I=an),gt.B&&(yr(gt),_t(gt)),I.g=he}else zo(I);0<_.i.length&&Is(_)}else ot[0]!="stop"&&ot[0]!="close"||ni(_,7);else _.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?ni(_,7):bn(_):ot[0]!="noop"&&_.l&&_.l.ta(ot),_.v=0)}}Ar(4)}catch{}}var ja=class{constructor(c,g){this.g=c,this.map=g}};function Xs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ma(c){return c.h?1:c.g?c.g.size:0}function Ut(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function $o(c,g){c.g?c.g.add(g):c.h=g}function Va(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Xs.prototype.cancel=function(){if(this.i=Fa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return F(c.i)}function Se(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function Je(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function Dt(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Je(c),I=Se(c),q=I.length,Q=0;Q<q;Q++)g.call(void 0,I[Q],_&&_[Q],c)}var on=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oe(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),q=null;if(0<=I){var Q=c[_].substring(0,I);q=c[_].substring(I+1)}else Q=c[_];g(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function wr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wr){this.h=c.h,Rn(this,c.j),this.o=c.o,this.g=c.g,Oi(this,c.s),this.l=c.l;var g=c.i,_=new bs;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Li(this,_),this.m=c.m}else c&&(g=String(c).match(on))?(this.h=!1,Rn(this,g[1]||"",!0),this.o=it(g[2]||""),this.g=it(g[3]||"",!0),Oi(this,g[4]),this.l=it(g[5]||"",!0),Li(this,g[6]||"",!0),this.m=it(g[7]||"")):(this.h=!1,this.i=new bs(null,this.h))}wr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Mi(g,$a,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Mi(g,$a,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Mi(_,_.charAt(0)=="/"?Vu:Mu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Mi(_,lc)),c.join("")};function Xt(c){return new wr(c)}function Rn(c,g,_){c.j=_?it(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Oi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Li(c,g,_){g instanceof bs?(c.i=g,Cs(c.i,c.h)):(_||(g=Mi(g,Fu)),c.i=new bs(g,c.h))}function Et(c,g,_){c.i.set(g,_)}function ji(c){return Et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function it(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Mi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,ju),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $a=/[#\/\?@]/g,Mu=/[#\?:]/g,Vu=/[#\?]/g,Fu=/[#\?@]/g,lc=/#/g;function bs(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&Oe(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=bs.prototype,t.add=function(c,g){En(this),this.i=null,c=Dr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Yr(c,g){En(c),g=Dr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Xr(c,g){return En(c),g=Dr(c,g),c.g.has(g)}t.forEach=function(c,g){En(this),this.g.forEach(function(_,I){_.forEach(function(q){c.call(g,q,I,this)},this)},this)},t.na=function(){En(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const q=c[I];for(let Q=0;Q<q.length;Q++)_.push(g[I])}return _},t.V=function(c){En(this);let g=[];if(typeof c=="string")Xr(this,c)&&(g=g.concat(this.g.get(Dr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},t.set=function(c,g){return En(this),this.i=null,c=Dr(this,c),Xr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Vi(c,g,_){Yr(c,g),0<_.length&&(c.i=null,c.g.set(Dr(c,g),F(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const Q=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var q=Q;he[I]!==""&&(q+="="+encodeURIComponent(String(he[I]))),c.push(q)}}return this.i=c.join("&")};function Dr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Cs(c,g){g&&!c.j&&(En(c),c.i=null,c.g.forEach(function(_,I){var q=I.toLowerCase();I!=q&&(Yr(this,I),Vi(this,q,_))},c)),c.j=g}function Kf(c,g){const _=new _s;if(h.Image){const I=new Image;I.onload=N(er,_,"TestLoadImage: loaded",!0,g,I),I.onerror=N(er,_,"TestLoadImage: error",!1,g,I),I.onabort=N(er,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=N(er,_,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function $u(c,g){const _=new _s,I=new AbortController,q=setTimeout(()=>{I.abort(),er(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(Q=>{clearTimeout(q),Q.ok?er(_,"TestPingServer: ok",!0,g):er(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),er(_,"TestPingServer: error",!1,g)})}function er(c,g,_,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(_)}catch{}}function Jf(){this.g=new Oo}function Uu(c,g,_){const I=_||"";try{Dt(c,function(q,Q){let he=q;y(q)&&(he=ki(q)),g.push(I+Q+"="+encodeURIComponent(he))})}catch(q){throw g.push(I+"type="+encodeURIComponent("_badmap")),q}}function Zs(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Zs,Ws),Zs.prototype.g=function(){return new Uo(this.l,this.j)},Zs.prototype.i=(function(c){return function(){return c}})({});function Uo(c,g){et.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Uo,et),t=Uo.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,es(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Zr(this):es(this),this.readyState==3&&Bu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Zr(this))},t.Qa=function(c){this.g&&(this.response=c,Zr(this))},t.ga=function(){this.g&&Zr(this)};function Zr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,es(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function es(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ei(c){let g="";return Z(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function Fi(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=ei(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Et(c,g,_))}function Ot(c){et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ot,et);var Qf=/^https?$/i,cc=["POST","PUT"];t=Ot.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$t.g(),this.v=this.o?Gs(this.o):Gs($t),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){Bo(this,Q);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)_.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Q of I.keys())_.set(Q,I.get(Q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(cc,g,void 0))||I||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,he]of _)this.g.setRequestHeader(Q,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Bo(this,Q)}};function Bo(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ua(c),vr(c)}function Ua(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uc(this):this.bb())},t.bb=function(){uc(this)};function uc(c){if(c.h&&typeof u<"u"&&(!c.v[1]||tr(c)!=4||c.Z()!=2)){if(c.u&&tr(c)==4)Po(c.Ea,0,c);else if(vt(c,"readystatechange"),tr(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=he===0){var q=String(c.D).match(on)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),I=!Qf.test(q?q.toLowerCase():"")}_=I}if(_)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var Q=2<tr(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ua(c)}}finally{vr(c)}}}}function vr(c,g){if(c.g){Ba(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||vt(c,"ready");try{_.onreadystatechange=I}catch{}}}function Ba(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Do(g)}};function dc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function za(c){const g={};c=(c.g&&2<=tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(O(c[I]))continue;var _=M(c[I]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[q]||[];g[q]=Q,Q.push(_)}k(g,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function hc(c){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Xs(c&&c.concurrentRequestLimit),this.Da=new Jf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hc.prototype,t.la=8,t.G=1,t.connect=function(c,g,_,I){Nt(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=Wu(this,null,this.W),Is(this)};function bn(c){if(Ha(c),c.G==3){var g=c.U++,_=Xt(c.I);if(Et(_,"SID",c.K),Et(_,"RID",g),Et(_,"TYPE","terminate"),ti(c,_),g=new gr(c,c.j,g),g.L=2,g.v=ji(Xt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=Gu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),_t(g)}qu(c)}function ts(c){c.g&&(fc(c),c.g.cancel(),c.g=null)}function Ha(c){ts(c),c.u&&(h.clearTimeout(c.u),c.u=null),Ga(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Is(c){if(!zn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Le||ee(),X||(Le(),X=!0),le.add(g,c),c.B=0}}function Yf(c,g){return Ma(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Yn(T(c.Ga,c,g),Hu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new gr(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=S(Q),P(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=$i(this,q,g),_=Xt(this.I),Et(_,"RID",c),Et(_,"CVER",22),this.D&&Et(_,"X-HTTP-Session-Id",this.D),ti(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(ei(Q)))+"&"+g:this.m&&Fi(_,this.m,Q)),$o(this.h,q),this.Ua&&Et(_,"TYPE","init"),this.P?(Et(_,"$req",g),Et(_,"SID","null"),q.T=!0,Ys(q,_,null)):Ys(q,_,g),this.G=2}}else this.G==3&&(c?qa(this,c):this.i.length==0||zn(this.h)||qa(this))};function qa(c,g){var _;g?_=g.l:_=c.U++;const I=Xt(c.I);Et(I,"SID",c.K),Et(I,"RID",_),Et(I,"AID",c.T),ti(c,I),c.m&&c.o&&Fi(I,c.m,c.o),_=new gr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=$i(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$o(c.h,_),Ys(_,I,g)}function ti(c,g){c.H&&Z(c.H,function(_,I){Et(g,I,_)}),c.l&&Dt({},function(_,I){Et(g,I,_)})}function $i(c,g,_){_=Math.min(c.i.length,_);var I=c.l?T(c.l.Na,c.l,c):null;e:{var q=c.i;let Q=-1;for(;;){const he=["count="+_];Q==-1?0<_?(Q=q[0].g,he.push("ofs="+Q)):Q=0:he.push("ofs="+Q);let gt=!0;for(let an=0;an<_;an++){let ot=q[an].g;const fn=q[an].map;if(ot-=Q,0>ot)Q=Math.max(0,q[an].g-100),gt=!1;else try{Uu(fn,he,"req"+ot+"_")}catch{I&&I(fn)}}if(gt){I=he.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function zo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Le||ee(),X||(Le(),X=!0),le.add(g,c),c.v=0}}function Wa(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Yn(T(c.Fa,c),Hu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Yn(T(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),ts(this),zu(this))};function fc(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new gr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Xt(c.qa);Et(g,"RID","rpc"),Et(g,"SID",c.K),Et(g,"AID",c.T),Et(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Et(g,"TO",c.ja),Et(g,"TYPE","xmlhttp"),ti(c,g),c.m&&c.o&&Fi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ji(Xt(g)),_.m=null,_.P=!0,Vo(_,c)}t.Za=function(){this.C!=null&&(this.C=null,ts(this),Wa(this),Nt(19))};function Ga(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ka(c,g){var _=null;if(c.g==g){Ga(c),fc(c),c.g=null;var I=2}else if(Ut(c.h,g))_=g.D,Va(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;I=vs(),vt(I,new Ks(I,_)),Is(c)}else zo(c);else if(q=g.s,q==3||q==0&&0<g.X||!(I==1&&Yf(c,g)||I==2&&Wa(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),q){case 1:ni(c,5);break;case 4:ni(c,10);break;case 3:ni(c,6);break;default:ni(c,2)}}}function Hu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function ni(c,g){if(c.j.info("Error code "+g),g==2){var _=T(c.fb,c),I=c.Xa;const q=!I;I=new wr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Rn(I,"https"),ji(I),q?Kf(I.toString(),_):$u(I.toString(),_)}else Nt(2);c.G=0,c.l&&c.l.sa(g),qu(c),Ha(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const g=Fa(c.h);(g.length!=0||c.i.length!=0)&&(L(c.ka,g),L(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Wu(c,g,_){var I=_ instanceof wr?Xt(_):new wr(_);if(I.g!="")g&&(I.g=g+"."+I.g),Oi(I,I.s);else{var q=h.location;I=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var Q=new wr(null);I&&Rn(Q,I),g&&(Q.g=g),q&&Oi(Q,q),_&&(Q.l=_),I=Q}return _=c.D,g=c.ya,_&&g&&Et(I,_,g),Et(I,"VER",c.la),ti(c,I),I}function Gu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ot(new Zs({eb:_})):new Ot(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pc(){}t=pc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ja(){}Ja.prototype.g=function(c,g){return new Hn(c,g)};function Hn(c,g){et.call(this),this.g=new hc(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!O(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!O(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ss(this)}j(Hn,et),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){bn(this.g)},Hn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ki(c),c=_);g.i.push(new ja(g.Ya++,c)),g.G==3&&Is(g)},Hn.prototype.N=function(){this.g.l=null,delete this.j,bn(this.g),delete this.g,Hn.aa.N.call(this)};function Ku(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}j(Ku,mr);function Ju(){Rr.call(this),this.status=1}j(Ju,Rr);function Ss(c){this.g=c}j(Ss,pc),Ss.prototype.ua=function(){vt(this.g,"a")},Ss.prototype.ta=function(c){vt(this.g,new Ku(c))},Ss.prototype.sa=function(c){vt(this.g,new Ju)},Ss.prototype.ra=function(){vt(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,e1=function(){return new Ja},Zb=function(){return vs()},Xb=Pr,rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,oh=Qs,Mo.COMPLETE="complete",Yb=Mo,Ri.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",et.prototype.listen=et.prototype.K,zc=Ri,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,Qb=Ot}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});const i0="@firebase/firestore",o0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new $g("@firebase/firestore");function vl(){return ya.logLevel}function ye(t,...e){if(ya.logLevel<=tt.DEBUG){const n=e.map(Zg);ya.debug(`Firestore (${Jl}): ${t}`,...n)}}function bi(t,...e){if(ya.logLevel<=tt.ERROR){const n=e.map(Zg);ya.error(`Firestore (${Jl}): ${t}`,...n)}}function Pl(t,...e){if(ya.logLevel<=tt.WARN){const n=e.map(Zg);ya.warn(`Firestore (${Jl}): ${t}`,...n)}}function Zg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,t1(t,r,n)}function t1(t,e,n){let r=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bi(r),new Error(r)}function mt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||t1(e,o,r)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ln.UNAUTHENTICATED)))}shutdown(){}}class PP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AP{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gi,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new n1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class NP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new NP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new a0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=LP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function sg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),a=e.charAt(r);if(o!==a)return Rm(o)===Rm(a)?nt(o,a):Rm(o)?1:-1}return nt(t.length,e.length)}const jP=55296,MP=57343;function Rm(t){const e=t.charCodeAt(0);return e>=jP&&e<=MP}function Al(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="__name__";class As{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=As.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return nt(e.length,n.length)}static compareSegments(e,n){const r=As.isNumericId(e),o=As.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?As.extractNumericId(e).compare(As.extractNumericId(n)):sg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yo.fromString(e.substring(4,e.length-2))}}class Tt extends As{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const VP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends As{construct(e,n,r){return new Sn(e,n,r)}static isValidIdentifier(e){return VP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l0}static keyField(){return new Sn([l0])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Tt.fromString(e))}static fromName(e){return new Ie(Tt.fromString(e).popFirst(5))}static empty(){return new Ie(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t,e,n){if(!n)throw new me(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FP(t,e,n,r){if(e===!0&&r===!0)throw new me(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c0(t){if(!Ie.isDocumentKey(t))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u0(t){if(Ie.isDocumentKey(t))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function s1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(t);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Eu(t,e){if(!s1(t))throw new me(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(o&&typeof u!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new me(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=-62135596800,h0=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*h0);return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d0)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h0}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eu(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:sn("string",Pt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Pt(0,0))}static max(){return new Ue(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function $P(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new Eo(o,Ie.empty(),e)}function UP(t){return new Eo(t.readTime,t.key,iu)}class Eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Eo(Ue.min(),Ie.empty(),iu)}static max(){return new Eo(Ue.max(),Ie.empty(),iu)}}function BP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==zP)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let o=0,a=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++a,u&&a===o&&n()}),(f=>r(f)))})),u=!0,a===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((o=>o?ie.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,a)=>{r.push(n.call(this,o,a))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const y=f;n(e[y]).next((v=>{u[y]=v,++h,h===a&&r(u)}),(v=>o(v)))}}))}static doWhile(e,n){return new ie(((r,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):r()};a()}))}}function qP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-1;function ff(t){return t==null}function Rh(t){return t===0&&1/t==-1/0}function WP(t){return typeof t=="number"&&Number.isInteger(t)&&!Rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="";function GP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=f0(e)),e=KP(t.get(n),e);return f0(e)}function KP(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case i1:n+="";break;default:n+=a}}return n}function f0(t){return t+i1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qd(this.root,e,this.comparator,!0)}}class qd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??In.RED,this.left=o??In.EMPTY,this.right=a??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new In(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return In.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(e){return new m0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class m0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new Ir([])}unionWith(e){let n=new dn(Sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new a1("Invalid base64 string: "+a):a}})(e);return new xn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const JP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=JP.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="server_timestamp",c1="__type__",u1="__previous_value__",d1="__local_write_time__";function ny(t){return(t?.mapValue?.fields||{})[c1]?.stringValue===l1}function pf(t){const e=t.mapValue.fields[u1];return ny(e)?pf(e):e}function ou(t){const e=bo(t.mapValue.fields[d1].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n,r,o,a,u,h,f,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=y,this.isUsingEmulator=v}}const Ph="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||Ph}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="__type__",YP="__max__",Wd={mapValue:{}},f1="__vector__",Ah="value";function To(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ny(t)?4:ZP(t)?9007199254740991:XP(t)?10:11:Ve(28295,{value:t})}function Us(t,e){if(t===e)return!0;const n=To(t);if(n!==To(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ou(t).isEqual(ou(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=bo(o.timestampValue),h=bo(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return Co(o.bytesValue).isEqual(Co(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Kt(o.geoPointValue.latitude)===Kt(a.geoPointValue.latitude)&&Kt(o.geoPointValue.longitude)===Kt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Kt(o.integerValue)===Kt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Kt(o.doubleValue),h=Kt(a.doubleValue);return u===h?Rh(u)===Rh(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Al(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(p0(u)!==p0(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Us(u[f],h[f])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function lu(t,e){return(t.values||[]).find((n=>Us(n,e)))!==void 0}function Nl(t,e){if(t===e)return 0;const n=To(t),r=To(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=Kt(a.integerValue||a.doubleValue),f=Kt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return g0(t.timestampValue,e.timestampValue);case 4:return g0(ou(t),ou(e));case 5:return sg(t.stringValue,e.stringValue);case 6:return(function(a,u){const h=Co(a),f=Co(u);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let y=0;y<h.length&&y<f.length;y++){const v=nt(h[y],f[y]);if(v!==0)return v}return nt(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=nt(Kt(a.latitude),Kt(u.latitude));return h!==0?h:nt(Kt(a.longitude),Kt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return y0(t.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},y=h[Ah]?.arrayValue,v=f[Ah]?.arrayValue,b=nt(y?.values?.length||0,v?.values?.length||0);return b!==0?b:y0(y,v)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Wd.mapValue&&u===Wd.mapValue)return 0;if(a===Wd.mapValue)return 1;if(u===Wd.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),y=u.fields||{},v=Object.keys(y);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const T=sg(f[b],v[b]);if(T!==0)return T;const N=Nl(h[f[b]],y[v[b]]);if(N!==0)return N}return nt(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function g0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=bo(t),r=bo(e),o=nt(n.seconds,r.seconds);return o!==0?o:nt(n.nanos,r.nanos)}function y0(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=Nl(n[o],r[o]);if(a)return a}return nt(n.length,r.length)}function Dl(t){return ig(t)}function ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=bo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Co(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=ig(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${ig(n.fields[u])}`;return o+"}"})(t.mapValue):Ve(61005,{value:t})}function ah(t){switch(To(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pf(t);return e?16+ah(e):16;case 5:return 2*t.stringValue.length;case 6:return Co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+ah(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return xo(r.fields,((a,u)=>{o+=a.length+ah(u)})),o})(t.mapValue);default:throw Ve(13486,{value:t})}}function w0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function og(t){return!!t&&"integerValue"in t}function ry(t){return!!t&&"arrayValue"in t}function v0(t){return!!t&&"nullValue"in t}function _0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lh(t){return!!t&&"mapValue"in t}function XP(t){return(t?.mapValue?.fields||{})[h1]?.stringValue===f1}function Qc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Qc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qc(t.arrayValue.values[n]);return e}return{...t}}function ZP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(n)}setAll(e){let n=Sn.emptyPath(),r={},o=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,o),r={},o=[],n=h.popLast()}u?r[h.lastSegment()]=Qc(u):o.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){xo(n,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new cr(Qc(this.value))}}function p1(t){const e=[];return xo(t.fields,((n,r)=>{const o=new Sn([n]);if(lh(r)){const a=p1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,r,o,a,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new jn(e,0,Ue.min(),Ue.min(),Ue.min(),cr.empty(),0)}static newFoundDocument(e,n,r,o){return new jn(e,1,n,Ue.min(),r,o,0)}static newNoDocument(e,n){return new jn(e,2,n,Ue.min(),Ue.min(),cr.empty(),0)}static newUnknownDocument(e,n){return new jn(e,3,n,Ue.min(),Ue.min(),cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function E0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(u.referenceValue),n.key):r=Nl(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function b0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function eA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{}class rn extends m1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nA(e,n,r):n==="array-contains"?new iA(e,r):n==="in"?new oA(e,r):n==="not-in"?new aA(e,r):n==="array-contains-any"?new lA(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rA(e,r):new sA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nl(n,this.value)):n!==null&&To(this.value)===To(n)&&this.matchesComparison(Nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends m1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ds(e,n)}matches(e){return g1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g1(t){return t.op==="and"}function y1(t){return tA(t)&&g1(t)}function tA(t){for(const e of t.filters)if(e instanceof ds)return!1;return!0}function ag(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Dl(t.value);if(y1(t))return t.filters.map((e=>ag(e))).join(",");{const e=t.filters.map((n=>ag(n))).join(",");return`${t.op}(${e})`}}function w1(t,e){return t instanceof rn?(function(r,o){return o instanceof rn&&r.op===o.op&&r.field.isEqual(o.field)&&Us(r.value,o.value)})(t,e):t instanceof ds?(function(r,o){return o instanceof ds&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,h)=>a&&w1(u,o.filters[h])),!0):!1})(t,e):void Ve(19439)}function v1(t){return t instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Dl(n.value)}`})(t):t instanceof ds?(function(n){return n.op.toString()+" {"+n.getFilters().map(v1).join(" ,")+"}"})(t):"Filter"}class nA extends rn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class rA extends rn{constructor(e,n){super(e,"in",n),this.keys=_1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class sA extends rn{constructor(e,n){super(e,"not-in",n),this.keys=_1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _1(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class iA extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ry(n)&&lu(n.arrayValue,this.value)}}class oA extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class aA extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class lA extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>lu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function C0(t,e=null,n=[],r=[],o=null,a=null,u=null){return new cA(t,e,n,r,o,a,u)}function sy(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ag(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Dl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Dl(r))).join(",")),e.Te=n}return e.Te}function iy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!w1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b0(t.startAt,e.startAt)&&b0(t.endAt,e.endAt)}function lg(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n=null,r=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uA(t,e,n,r,o,a,u,h){return new bu(t,e,n,r,o,a,u,h)}function mf(t){return new bu(t)}function T0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function E1(t){return t.collectionGroup!==null}function Yc(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new dn(Sn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((y=>{y.isInequality()&&(h=h.add(y.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Dh(a,r))})),n.has(Sn.keyField().canonicalString())||e.Ie.push(new Dh(Sn.keyField(),r))}return e.Ie}function Ms(t){const e=ze(t);return e.Ee||(e.Ee=dA(e,Yc(t))),e.Ee}function dA(t,e){if(t.limitType==="F")return C0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Dh(o.field,a)}));const n=t.endAt?new Nh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nh(t.startAt.position,t.startAt.inclusive):null;return C0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cg(t,e){const n=t.filters.concat([e]);return new bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ug(t,e,n){return new bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return iy(Ms(t),Ms(e))&&t.limitType===e.limitType}function b1(t){return`${sy(Ms(t))}|lt:${t.limitType}`}function _l(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>v1(o))).join(", ")}]`),ff(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Dl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Dl(o))).join(",")),`Target(${r})`})(Ms(t))}; limitType=${t.limitType})`}function yf(t,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,o){for(const a of Yc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(u,h,f){const y=E0(u,h,f);return u.inclusive?y<=0:y<0})(r.startAt,Yc(r),o)||r.endAt&&!(function(u,h,f){const y=E0(u,h,f);return u.inclusive?y>=0:y>0})(r.endAt,Yc(r),o))})(t,e)}function hA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function C1(t){return(e,n)=>{let r=!1;for(const o of Yc(t)){const a=fA(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function fA(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(a,u,h){const f=u.data.field(a),y=h.data.field(a);return f!==null&&y!==null?Nl(f,y):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,((n,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return o1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new Ft(Ie.comparator);function Ci(){return pA}const T1=new Ft(Ie.comparator);function Hc(...t){let e=T1;for(const n of t)e=e.insert(n.key,n);return e}function I1(t){let e=T1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function oa(){return Xc()}function S1(){return Xc()}function Xc(){return new xa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const mA=new Ft(Ie.comparator),gA=new dn(Ie.comparator);function rt(...t){let e=gA;for(const n of t)e=e.add(n);return e}const yA=new dn(nt);function wA(){return yA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function x1(t){return{integerValue:""+t}}function k1(t,e){return WP(e)?x1(e):oy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this._=void 0}}function vA(t,e,n){return t instanceof cu?(function(o,a){const u={fields:{[c1]:{stringValue:l1},[d1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&ny(a)&&(a=pf(a)),a&&(u.fields[u1]=a),{mapValue:u}})(n,e):t instanceof Ol?P1(t,e):t instanceof Ll?A1(t,e):(function(o,a){const u=R1(o,a),h=I0(u)+I0(o.Ae);return og(u)&&og(o.Ae)?x1(h):oy(o.serializer,h)})(t,e)}function _A(t,e,n){return t instanceof Ol?P1(t,e):t instanceof Ll?A1(t,e):n}function R1(t,e){return t instanceof uu?(function(r){return og(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class cu extends wf{}class Ol extends wf{constructor(e){super(),this.elements=e}}function P1(t,e){const n=N1(e);for(const r of t.elements)n.some((o=>Us(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Ll extends wf{constructor(e){super(),this.elements=e}}function A1(t,e){let n=N1(e);for(const r of t.elements)n=n.filter((o=>!Us(o,r)));return{arrayValue:{values:n}}}class uu extends wf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function I0(t){return Kt(t.integerValue||t.doubleValue)}function N1(t){return ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.field=e,this.transform=n}}function EA(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Ol&&o instanceof Ol||r instanceof Ll&&o instanceof Ll?Al(r.elements,o.elements,Us):r instanceof uu&&o instanceof uu?Us(r.Ae,o.Ae):r instanceof cu&&o instanceof cu})(t.transform,e.transform)}class bA{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _f{}function D1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ay(t.key,zr.none()):new Cu(t.key,t.data,zr.none());{const n=t.data,r=cr.empty();let o=new dn(Sn.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new ko(t.key,r,new Ir(o.toArray()),zr.none())}}function CA(t,e,n){t instanceof Cu?(function(o,a,u){const h=o.value.clone(),f=x0(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ko?(function(o,a,u){if(!ch(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=x0(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(O1(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Zc(t,e,n,r){return t instanceof Cu?(function(a,u,h,f){if(!ch(a.precondition,u))return h;const y=a.value.clone(),v=k0(a.fieldTransforms,f,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,n,r):t instanceof ko?(function(a,u,h,f){if(!ch(a.precondition,u))return h;const y=k0(a.fieldTransforms,f,u),v=u.data;return v.setAll(O1(a)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(a,u,h){return ch(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function TA(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=R1(r.transform,o||null);a!=null&&(n===null&&(n=cr.empty()),n.set(r.field,a))}return n||null}function S0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Al(r,o,((a,u)=>EA(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends _f{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ko extends _f{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function O1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function x0(t,e,n){const r=new Map;mt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,_A(u,h,n[o]))}return r}function k0(t,e,n){const r=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);r.set(o.field,vA(a,u,e))}return r}class ay extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IA extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&CA(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=S1();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(o.key)?null:h;const f=D1(u,h);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),rt())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((n,r)=>S0(n,r)))&&Al(this.baseMutations,e.baseMutations,((n,r)=>S0(n,r)))}}class ly{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){mt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return mA})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new ly(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,at;function RA(t){switch(t){case re.OK:return Ve(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function L1(t){if(t===void 0)return bi("GRPC error has no .code"),re.UNKNOWN;switch(t){case tn.OK:return re.OK;case tn.CANCELLED:return re.CANCELLED;case tn.UNKNOWN:return re.UNKNOWN;case tn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case tn.INTERNAL:return re.INTERNAL;case tn.UNAVAILABLE:return re.UNAVAILABLE;case tn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case tn.NOT_FOUND:return re.NOT_FOUND;case tn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case tn.ABORTED:return re.ABORTED;case tn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case tn.DATA_LOSS:return re.DATA_LOSS;default:return Ve(39323,{code:t})}}(at=tn||(tn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new yo([4294967295,4294967295],0);function R0(t){const e=PA().encode(t),n=new Jb;return n.update(e),new Uint8Array(n.digest())}function P0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new yo([n,r],0),new yo([o,a],0)]}class cy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qc(`Invalid padding: ${n}`);if(r<0)throw new qc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=yo.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(yo.fromNumber(r)));return o.compare(AA)===1&&(o=new yo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=R0(e),[r,o]=P0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new cy(a,o,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=R0(e),[r,o]=P0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ef(Ue.min(),o,new Ft(nt),Ci(),rt())}}class Tu{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tu(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class j1{constructor(e,n){this.targetId=e,this.Ce=n}}class M1{constructor(e,n,r=xn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class A0{constructor(){this.ve=0,this.Fe=N0(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),n=rt(),r=rt();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ve(38017,{changeType:a})}})),new Tu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=N0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ci(),this.Je=Gd(),this.He=Gd(),this.Ye=new Ft(nt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(lg(a))if(r===0){const u=new Ie(a.path);this.et(n,u,jn.newNoDocument(u,Ue.min()))}else mt(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let u,h;try{u=Co(r).toUint8Array()}catch(f){if(f instanceof a1)return Pl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new cy(u,o,a)}catch(f){return Pl(f instanceof qc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&lg(h.target)){const f=new Ie(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,jn.newNoDocument(f,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let r=rt();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const y=this.ot(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new Ef(e,n,this.Ye,this.je,r);return this.je=Ci(),this.Je=Gd(),this.He=Gd(),this.Ye=new Ft(nt),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new A0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dn(nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dn(nt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gd(){return new Ft(Ie.comparator)}function N0(){return new Ft(Ie.comparator)}const DA={asc:"ASCENDING",desc:"DESCENDING"},OA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LA={and:"AND",or:"OR"};class jA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dg(t,e){return t.useProto3Json||ff(e)?e:{value:e}}function Oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MA(t,e){return Oh(t,e.toTimestamp())}function Vs(t){return mt(!!t,49232),Ue.fromTimestamp((function(n){const r=bo(n);return new Pt(r.seconds,r.nanos)})(t))}function uy(t,e){return hg(t,e).canonicalString()}function hg(t,e){const n=(function(o){return new Tt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function F1(t){const e=Tt.fromString(t);return mt(H1(e),10190,{key:e.toString()}),e}function fg(t,e){return uy(t.databaseId,e.path)}function Pm(t,e){const n=F1(e);if(n.get(1)!==t.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(U1(n))}function $1(t,e){return uy(t.databaseId,e)}function VA(t){const e=F1(t);return e.length===4?Tt.emptyPath():U1(e)}function pg(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function U1(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function D0(t,e,n){return{name:fg(t,e),fields:n.value.mapValue.fields}}function FA(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(y,v){return y.useProto3Json?(mt(v===void 0||typeof v=="string",58123),xn.fromBase64String(v||"")):(mt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),xn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(y){const v=y.code===void 0?re.UNKNOWN:L1(y.code);return new me(v,y.message||"")})(u);n=new M1(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Pm(t,r.document.name),a=Vs(r.document.updateTime),u=r.document.createTime?Vs(r.document.createTime):Ue.min(),h=new cr({mapValue:{fields:r.document.fields}}),f=jn.newFoundDocument(o,a,u,h),y=r.targetIds||[],v=r.removedTargetIds||[];n=new uh(y,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Pm(t,r.document),a=r.readTime?Vs(r.readTime):Ue.min(),u=jn.newNoDocument(o,a),h=r.removedTargetIds||[];n=new uh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Pm(t,r.document),a=r.removedTargetIds||[];n=new uh([],a,o,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new kA(o,a),h=r.targetId;n=new j1(h,u)}}return n}function $A(t,e){let n;if(e instanceof Cu)n={update:D0(t,e.key,e.value)};else if(e instanceof ay)n={delete:fg(t,e.key)};else if(e instanceof ko)n={update:D0(t,e.key,e.data),updateMask:JA(e.fieldMask)};else{if(!(e instanceof IA))return Ve(16599,{Vt:e.type});n={verify:fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof cu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ol)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ll)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof uu)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ve(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:MA(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ve(27497)})(t,e.precondition)),n}function UA(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?Vs(o.updateTime):Vs(a);return u.isEqual(Ue.min())&&(u=Vs(a)),new bA(u,o.transformResults||[])})(n,e)))):[]}function BA(t,e){return{documents:[$1(t,e.path)]}}function zA(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$1(t,o);const a=(function(y){if(y.length!==0)return z1(ds.create(y,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(y){if(y.length!==0)return y.map((v=>(function(T){return{field:El(T.field),direction:WA(T.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=dg(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function HA(t){let e=VA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){mt(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=(function(b){const T=B1(b);return T instanceof ds&&y1(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((T=>(function(j){return new Dh(bl(j.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let T;return T=typeof b=="object"?b.value:b,ff(T)?null:T})(n.limit));let f=null;n.startAt&&(f=(function(b){const T=!!b.before,N=b.values||[];return new Nh(N,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const T=!b.before,N=b.values||[];return new Nh(N,T)})(n.endAt)),uA(e,o,u,a,h,"F",f,y)}function qA(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function B1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bl(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=bl(n.unaryFilter.field);return rn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=bl(n.unaryFilter.field);return rn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bl(n.unaryFilter.field);return rn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rn.create(bl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ds.create(n.compositeFilter.filters.map((r=>B1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function WA(t){return DA[t]}function GA(t){return OA[t]}function KA(t){return LA[t]}function El(t){return{fieldPath:t.canonicalString()}}function bl(t){return Sn.fromServerFormat(t.fieldPath)}function z1(t){return t instanceof rn?(function(n){if(n.op==="=="){if(_0(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NAN"}};if(v0(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_0(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NAN"}};if(v0(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(n.field),op:GA(n.op),value:n.value}}})(t):t instanceof ds?(function(n){const r=n.getFilters().map((o=>z1(o)));return r.length===1?r[0]:{compositeFilter:{op:KA(n.op),filters:r}}})(t):Ve(54877,{filter:t})}function JA(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function H1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,o,a=Ue.min(),u=Ue.min(),h=xn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.yt=e}}function YA(t){const e=HA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.Cn=new ZA}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Eo.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class ZA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new dn(Tt.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new dn(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q1=41943040;class lr{static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(q1,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jl(0)}static cr(){return new jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="LruGarbageCollector",e2=1048576;function j0([t,e],[n,r]){const o=nt(t,n);return o===0?nt(e,r):o}class t2{constructor(e){this.Ir=e,this.buffer=new dn(j0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();j0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class n2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(L0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yl(n)?ye(L0,"Ignoring IndexedDB error during garbage collection: ",n):await Ql(n)}await this.Vr(3e5)}))}}class r2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(hf.ce);const r=new t2(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(O0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,a,u,h,f,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,n)))).next((b=>(a=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),vl()<=tt.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(y-f)+`ms
Total Duration: ${y-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:b}))))}}function s2(t,e){return new r2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.changes=new xa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Zc(r.mutation,o,Ir.empty(),Pt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,rt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=rt()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((a=>{let u=Hc();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=oa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,rt())))}populateOverlays(e,n,r){const o=[];return r.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,o){let a=Ci();const u=Xc(),h=(function(){return Xc()})();return n.forEach(((f,y)=>{const v=r.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof ko)?a=a.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),Zc(v.mutation,y,v.mutation.getFieldMask(),Pt.now())):u.set(y.key,Ir.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((y,v)=>u.set(y,v))),n.forEach(((y,v)=>h.set(y,new o2(v,u.get(y)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Xc();let o=new Ft(((u,h)=>u-h)),a=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((f=>{const y=n.get(f);if(y===null)return;let v=r.get(f)||Ir.empty();v=h.applyToLocalView(y,v),r.set(f,v);const b=(o.get(h.batchId)||rt()).add(f);o=o.insert(h.batchId,b)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),y=f.key,v=f.value,b=S1();v.forEach((T=>{if(!a.has(T)){const N=D1(n.get(T),r.get(T));N!==null&&b.set(T,N),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ie.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):ie.resolve(oa());let h=iu,f=a;return u.next((y=>ie.forEach(y,((v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),a.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,f,y,rt()))).next((v=>({batchId:h,changes:I1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let o=Hc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let u=Hc();return this.indexManager.getCollectionParents(e,a).next((h=>ie.forEach(h,(f=>{const y=(function(b,T){return new bu(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((v=>{v.forEach(((b,T)=>{u=u.insert(b,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o)))).next((u=>{a.forEach(((f,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,jn.newInvalidDocument(v)))}));let h=Hc();return u.forEach(((f,y)=>{const v=a.get(f);v!==void 0&&Zc(v.mutation,y,Ir.empty(),Pt.now()),yf(n,y)&&(h=h.insert(f,y))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vs(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:YA(o.bundledQuery),readTime:Vs(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.overlays=new Ft(Ie.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oa();return ie.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,a)=>{this.St(e,n,a)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const o=oa(),a=n.length+1,u=new Ie(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,y=f.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new Ft(((y,v)=>y-v));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let v=a.get(y.largestBatchId);v===null&&(v=oa(),a=a.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const h=oa(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((y,v)=>h.set(y,v))),!(h.size()>=o)););return ie.resolve(h)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new xA(n,r));let a=this.qr.get(n);a===void 0&&(a=rt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.Qr=new dn(yn.$r),this.Ur=new dn(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new yn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ie(new Tt([])),r=new yn(n,e),o=new yn(n,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new Tt([])),r=new yn(n,e),o=new yn(n,e+1);let a=rt();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new yn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||nt(e.Yr,n.Yr)}static Kr(e,n){return nt(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dn(yn.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new SA(a,n,r,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new yn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),a=o<0?0:o;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?ty:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),o=new yn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const h=this.Xr(u.Yr);a.push(h)})),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(nt);return n.forEach((o=>{const a=new yn(o,0),u=new yn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{r=r.add(h.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const u=new yn(new Ie(a),0);let h=new dn(nt);return this.Zr.forEachWhile((f=>{const y=f.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(h=h.add(f.Yr)),!0)}),u),ie.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(o=>{const a=new yn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new yn(n,0),o=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.ri=e,this.docs=(function(){return new Ft(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():jn.newInvalidDocument(o))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=Ci();const u=n.path,h=new Ie(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:y,value:{document:v}}=f.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||BP(UP(v),r)<=0||(o.has(v.key)||yf(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,n,r,o){Ve(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new f2(this)}getSize(e){return ie.resolve(this.size)}}class f2 extends i2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.persistence=e,this.si=new xa((n=>sy(n)),iy),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new dy,this.targetCount=0,this.ai=jl.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ie.waitFor(a).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),ie.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.ui={},this.overlays={},this.ci=new hf(0),this.li=!1,this.li=!0,this.hi=new u2,this.referenceDelegate=e(this),this.Pi=new p2(this),this.indexManager=new XA,this.remoteDocumentCache=(function(o){return new h2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new QA(n),this.Ii=new l2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new d2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const o=new m2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class m2 extends HP{constructor(e){super(),this.currentSequenceNumber=e}}class hy{constructor(e){this.persistence=e,this.Ri=new dy,this.Vi=null}static mi(e){return new hy(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const o=Ie.fromPath(r);return this.gi(e,o).next((a=>{a||n.removeEntry(o,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.pi=new xa((r=>GP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=s2(this,n)}static mi(e,n){return new Lh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?ie.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,a.removeEntry(u,Ue.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ah(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=rt(),o=rt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new fy(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HS()?8:qP(Vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new g2;return this.Ss(e,n,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>a.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(vl()<=tt.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",_l(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(vl()<=tt.DEBUG&&ye("QueryEngine","Query:",_l(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(vl()<=tt.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",_l(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ms(n))):ie.resolve())}ys(e,n){if(T0(n))return ie.resolve(null);let r=Ms(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ug(n,null,"F"),r=Ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=rt(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const y=this.Ds(n,h);return this.Cs(n,y,u,f.readTime)?this.ys(e,ug(n,null,"F")):this.vs(e,y,n,f)}))))})))))}ws(e,n,r,o){return T0(n)||o.isEqual(Ue.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,r,o)?ie.resolve(null):(vl()<=tt.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_l(n)),this.vs(e,u,n,$P(o,iu)).next((h=>h)))}))}Ds(e,n){let r=new dn(C1(e));return n.forEach(((o,a)=>{yf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return vl()<=tt.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",_l(n)),this.ps.getDocumentsMatchingQuery(e,n,Eo.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="LocalStore",w2=3e8;class v2{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Ft(nt),this.xs=new xa((a=>sy(a)),iy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function _2(t,e,n,r){return new v2(t,e,n,r)}async function G1(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let f=rt();for(const y of o){u.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}for(const y of a){h.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(r,f).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:h})))}))}))}function E2(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,y,v){const b=y.batch,T=b.keys();let N=ie.resolve();return T.forEach((j=>{N=N.next((()=>v.getEntry(f,j))).next((F=>{const L=y.docVersions.get(j);mt(L!==null,48541),F.version.compareTo(L)<0&&(b.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),v.addEntry(F)))}))})),N.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=rt();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(f=f.add(h.batch.mutations[y].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function K1(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function b2(t,e){const n=ze(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const h=[];e.targetChanges.forEach(((v,b)=>{const T=o.get(b);if(!T)return;h.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(a,v.addedDocuments,b))));let N=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(xn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,r)),o=o.insert(b,N),(function(F,L,H){return F.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=w2?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(T,N,v)&&h.push(n.Pi.updateTargetData(a,N))}));let f=Ci(),y=rt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(C2(a,u,e.documentUpdates).next((v=>{f=v.ks,y=v.qs}))),!r.isEqual(Ue.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next((b=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(v)}return ie.waitFor(h).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,y))).next((()=>f))})).then((a=>(n.Ms=o,a)))}function C2(t,e,n){let r=rt(),o=rt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let u=Ci();return n.forEach(((h,f)=>{const y=a.get(h);f.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Ue.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ye(py,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function T2(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ty),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function I2(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((a=>a?(o=a,ie.resolve(o)):n.Pi.allocateTargetId(r).next((u=>(o=new ho(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function mg(t,e,n){const r=ze(t),o=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Yl(u))throw u;ye(py,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function M0(t,e,n){const r=ze(t);let o=Ue.min(),a=rt();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,y,v){const b=ze(f),T=b.xs.get(v);return T!==void 0?ie.resolve(b.Ms.get(T)):b.Pi.getTargetData(y,v)})(r,u,Ms(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?o:Ue.min(),n?a:rt()))).next((h=>(S2(r,hA(e),h),{documents:h,Qs:a})))))}function S2(t,e,n){let r=t.Os.get(e)||Ue.min();n.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class V0{constructor(){this.activeTargetIds=wA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x2{constructor(){this.Mo=new V0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="ConnectivityMonitor";class $0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(F0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(F0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd=null;function gg(){return Kd===null?Kd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kd++,"0x"+Kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",R2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Ph?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,a){const u=gg(),h=this.zo(e,n.toUriEncodedString());ye(Am,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:y}=new URL(h),v=Ta(y);return this.Jo(e,h,f,r,v).then((b=>(ye(Am,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Pl(Am,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",r),b}))}Ho(e,n,r,o,a,u){return this.Go(e,n,r,o,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const r=R2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class N2 extends P2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const u=gg();return new Promise(((h,f)=>{const y=new Qb;y.setWithCredentials(!0),y.listenOnce(Yb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case oh.NO_ERROR:const b=y.getResponseJson();ye(On,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case oh.TIMEOUT:ye(On,`RPC '${e}' ${u} timed out`),f(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const T=y.getStatus();if(ye(On,`RPC '${e}' ${u} failed with status:`,T,"response text:",y.getResponseText()),T>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const j=N?.error;if(j&&j.status&&j.message){const F=(function(H){const O=H.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(O)>=0?O:re.UNKNOWN})(j.status);f(new me(F,j.message))}else f(new me(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new me(re.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ye(On,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);ye(On,`RPC '${e}' ${u} sending request:`,o),y.send(n,"POST",v,r,15)}))}T_(e,n,r){const o=gg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=e1(),h=Zb(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const v=a.join("");ye(On,`Creating RPC '${e}' stream ${o}: ${v}`,f);const b=u.createWebChannel(v,f);this.I_(b);let T=!1,N=!1;const j=new A2({Yo:L=>{N?ye(On,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(ye(On,`Opening RPC '${e}' stream ${o} transport.`),b.open(),T=!0),ye(On,`RPC '${e}' stream ${o} sending:`,L),b.send(L))},Zo:()=>b.close()}),F=(L,H,O)=>{L.listen(H,(z=>{try{O(z)}catch(G){setTimeout((()=>{throw G}),0)}}))};return F(b,zc.EventType.OPEN,(()=>{N||(ye(On,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),F(b,zc.EventType.CLOSE,(()=>{N||(N=!0,ye(On,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(b))})),F(b,zc.EventType.ERROR,(L=>{N||(N=!0,Pl(On,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),j.a_(new me(re.UNAVAILABLE,"The operation could not be completed")))})),F(b,zc.EventType.MESSAGE,(L=>{if(!N){const H=L.data[0];mt(!!H,16349);const O=H,z=O?.error||O[0]?.error;if(z){ye(On,`RPC '${e}' stream ${o} received error:`,z);const G=z.status;let ne=(function(S){const R=tn[S];if(R!==void 0)return L1(R)})(G),Z=z.message;ne===void 0&&(ne=re.INTERNAL,Z="Unknown error status: "+G+" with message "+z.message),N=!0,j.a_(new me(ne,Z)),b.close()}else ye(On,`RPC '${e}' stream ${o} received:`,H),j.u_(H)}})),F(h,Xb.STAT_EVENT,(L=>{L.stat===rg.PROXY?ye(On,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===rg.NOPROXY&&ye(On,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){return new jA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="PersistentStream";class Q1{constructor(e,n,r,o,a,u,h,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new J1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new me(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(U0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ye(U0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class D2 extends Q1{constructor(e,n,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FA(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ue.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ue.min():u.readTime?Vs(u.readTime):Ue.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=pg(this.serializer),n.addTarget=(function(a,u){let h;const f=u.target;if(h=lg(f)?{documents:BA(a,f)}:{query:zA(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=V1(a,u.resumeToken);const y=dg(a,u.expectedCount);y!==null&&(h.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ue.min())>0){h.readTime=Oh(a,u.snapshotVersion.toTimestamp());const y=dg(a,u.expectedCount);y!==null&&(h.expectedCount=y)}return h})(this.serializer,e);const r=qA(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=pg(this.serializer),n.removeTarget=e,this.q_(n)}}class O2 extends Q1{constructor(e,n,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=UA(e.writeResults,e.commitTime),r=Vs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=pg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>$A(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{}class j2 extends L2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,hg(n,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(re.UNKNOWN,a.toString())}))}Ho(e,n,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,hg(n,r),o,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(re.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class M2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class V2{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{ka(this)&&(ye(wa,"Restarting streams for network reachability change."),await(async function(f){const y=ze(f);y.Ea.add(4),await Iu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Cf(y)})(this))}))})),this.Ra=new M2(r,o)}}async function Cf(t){if(ka(t))for(const e of t.da)await e(!0)}async function Iu(t){for(const e of t.da)await e(!1)}function Y1(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wy(n)?yy(n):Xl(n).O_()&&gy(n,e))}function my(t,e){const n=ze(t),r=Xl(n);n.Ia.delete(e),r.O_()&&X1(n,e),n.Ia.size===0&&(r.O_()?r.L_():ka(n)&&n.Ra.set("Unknown"))}function gy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xl(t).Y_(e)}function X1(t,e){t.Va.Ue(e),Xl(t).Z_(e)}function yy(t){t.Va=new NA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xl(t).start(),t.Ra.ua()}function wy(t){return ka(t)&&!Xl(t).x_()&&t.Ia.size>0}function ka(t){return ze(t).Ea.size===0}function Z1(t){t.Va=void 0}async function F2(t){t.Ra.set("Online")}async function $2(t){t.Ia.forEach(((e,n)=>{gy(t,e)}))}async function U2(t,e){Z1(t),wy(t)?(t.Ra.ha(e),yy(t)):t.Ra.set("Unknown")}async function B2(t,e,n){if(t.Ra.set("Online"),e instanceof M1&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))})(t,e)}catch(r){ye(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jh(t,r)}else if(e instanceof uh?t.Va.Ze(e):e instanceof j1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const r=await K1(t.localStore);n.compareTo(r)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(y);v&&a.Ia.set(y,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,y)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(xn.EMPTY_BYTE_STRING,v.snapshotVersion)),X1(a,f);const b=new ho(v.target,f,y,v.sequenceNumber);gy(a,b)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ye(wa,"Failed to raise snapshot:",r),await jh(t,r)}}async function jh(t,e,n){if(!Yl(e))throw e;t.Ea.add(1),await Iu(t),t.Ra.set("Offline"),n||(n=()=>K1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(wa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cf(t)}))}function eC(t,e){return e().catch((n=>jh(t,n,e)))}async function Tf(t){const e=ze(t),n=Io(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ty;for(;z2(e);)try{const o=await T2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,H2(e,o)}catch(o){await jh(e,o)}tC(e)&&nC(e)}function z2(t){return ka(t)&&t.Ta.length<10}function H2(t,e){t.Ta.push(e);const n=Io(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tC(t){return ka(t)&&!Io(t).x_()&&t.Ta.length>0}function nC(t){Io(t).start()}async function q2(t){Io(t).ra()}async function W2(t){const e=Io(t);for(const n of t.Ta)e.ea(n.mutations)}async function G2(t,e,n){const r=t.Ta.shift(),o=ly.from(r,e,n);await eC(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Tf(t)}async function K2(t,e){e&&Io(t).X_&&await(async function(r,o){if((function(u){return RA(u)&&u!==re.ABORTED})(o.code)){const a=r.Ta.shift();Io(r).B_(),await eC(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Tf(r)}})(t,e),tC(t)&&nC(t)}async function B0(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),ye(wa,"RemoteStore received new credentials");const r=ka(n);n.Ea.add(3),await Iu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cf(n)}async function J2(t,e){const n=ze(t);e?(n.Ea.delete(2),await Cf(n)):e||(n.Ea.add(2),await Iu(n),n.Ra.set("Unknown"))}function Xl(t){return t.ma||(t.ma=(function(n,r,o){const a=ze(n);return a.sa(),new D2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:F2.bind(null,t),t_:$2.bind(null,t),r_:U2.bind(null,t),H_:B2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),wy(t)?yy(t):t.Ra.set("Unknown")):(await t.ma.stop(),Z1(t))}))),t.ma}function Io(t){return t.fa||(t.fa=(function(n,r,o){const a=ze(n);return a.sa(),new O2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:q2.bind(null,t),r_:K2.bind(null,t),ta:W2.bind(null,t),na:G2.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Tf(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(wa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const u=Date.now()+r,h=new vy(e,n,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _y(t,e){if(bi("AsyncQueue",`${e}: ${t}`),Yl(t))return new me(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Hc(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.ga=new Ft(Ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ml{constructor(e,n,r,o,a,u,h,f,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,a){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Ml(e,n,xl.emptySet(n),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Y2{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=ze(n),a=o.queries;o.queries=H0(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new me(re.ABORTED,"Firestore shutting down"))}}function H0(){return new xa((t=>b1(t)),gf)}async function Ey(t,e){const n=ze(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new Q2,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=_y(u,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Cy(n)}async function by(t,e){const n=ze(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function X2(t,e){const n=ze(t);let r=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const h of u.Sa)h.Fa(o)&&(r=!0);u.wa=o}}r&&Cy(n)}function Z2(t,e,n){const r=ze(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function Cy(t){t.Ca.forEach((e=>{e.next()}))}var yg,q0;(q0=yg||(yg={})).Ma="default",q0.Cache="cache";class Ty{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.key=e}}class sC{constructor(e){this.key=e}}class eN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rt(),this.mutatedKeys=rt(),this.eu=C1(e),this.tu=new xl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new z0,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const T=o.get(v),N=yf(this.query,b)?b:null,j=!!T&&this.mutatedKeys.has(T.key),F=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let L=!1;T&&N?T.data.isEqual(N.data)?j!==F&&(r.track({type:3,doc:N}),L=!0):this.su(T,N)||(r.track({type:2,doc:N}),L=!0,(f&&this.eu(N,f)>0||y&&this.eu(N,y)<0)&&(h=!0)):!T&&N?(r.track({type:0,doc:N}),L=!0):T&&!N&&(r.track({type:1,doc:T}),L=!0,(f||y)&&(h=!0)),L&&(N?(u=u.add(N),a=F?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(N,j){const F=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:L})}};return F(N)-F(j)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const h=n&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,y=f!==this.Za;return this.Za=f,u.length!==0||y?{snapshot:new Ml(this.query,e.tu,a,u,e.mutatedKeys,f===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new sC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new rC(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Iy="SyncEngine";class tN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nN{constructor(e){this.key=e,this.hu=!1}}class rN{constructor(e,n,r,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new xa((h=>b1(h)),gf),this.Iu=new Map,this.Eu=new Set,this.du=new Ft(Ie.comparator),this.Au=new Map,this.Ru=new dy,this.Vu={},this.mu=new Map,this.fu=jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sN(t,e,n=!0){const r=uC(t);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await iC(r,e,n,!0),o}async function iN(t,e){const n=uC(t);await iC(n,e,!0,!1)}async function iC(t,e,n,r){const o=await I2(t.localStore,Ms(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await oN(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&Y1(t.remoteStore,o),h}async function oN(t,e,n,r,o){t.pu=(b,T,N)=>(async function(F,L,H,O){let z=L.view.ru(H);z.Cs&&(z=await M0(F.localStore,L.query,!1).then((({documents:k})=>L.view.ru(k,z))));const G=O&&O.targetChanges.get(L.targetId),ne=O&&O.targetMismatches.get(L.targetId)!=null,Z=L.view.applyChanges(z,F.isPrimaryClient,G,ne);return G0(F,L.targetId,Z.au),Z.snapshot})(t,b,T,N);const a=await M0(t.localStore,e,!0),u=new eN(e,a.Qs),h=u.ru(a.documents),f=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),y=u.applyChanges(h,t.isPrimaryClient,f);G0(t,n,y.au);const v=new tN(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function aN(t,e,n){const r=ze(t),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!gf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await mg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&my(r.remoteStore,o.targetId),wg(r,o.targetId)})).catch(Ql)):(wg(r,o.targetId),await mg(r.localStore,o.targetId,!0))}async function lN(t,e){const n=ze(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),my(n.remoteStore,r.targetId))}async function cN(t,e,n){const r=gN(t);try{const o=await(function(u,h){const f=ze(u),y=Pt.now(),v=h.reduce(((N,j)=>N.add(j.key)),rt());let b,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let j=Ci(),F=rt();return f.Ns.getEntries(N,v).next((L=>{j=L,j.forEach(((H,O)=>{O.isValidDocument()||(F=F.add(H))}))})).next((()=>f.localDocuments.getOverlayedDocuments(N,j))).next((L=>{b=L;const H=[];for(const O of h){const z=TA(O,b.get(O.key).overlayedDocument);z!=null&&H.push(new ko(O.key,z,p1(z.value.mapValue),zr.exists(!0)))}return f.mutationQueue.addMutationBatch(N,y,H,h)})).next((L=>{T=L;const H=L.applyToLocalDocumentSet(b,F);return f.documentOverlayCache.saveOverlays(N,L.batchId,H)}))})).then((()=>({batchId:T.batchId,changes:I1(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,h,f){let y=u.Vu[u.currentUser.toKey()];y||(y=new Ft(nt)),y=y.insert(h,f),u.Vu[u.currentUser.toKey()]=y})(r,o.batchId,n),await Su(r,o.changes),await Tf(r.remoteStore)}catch(o){const a=_y(o,"Failed to persist write");n.reject(a)}}async function oC(t,e){const n=ze(t);try{const r=await b2(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?mt(u.hu,14607):o.removedDocuments.size>0&&(mt(u.hu,42227),u.hu=!1))})),await Su(n,r,e)}catch(r){await Ql(r)}}function W0(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const f=ze(u);f.onlineState=h;let y=!1;f.queries.forEach(((v,b)=>{for(const T of b.Sa)T.va(h)&&(y=!0)})),y&&Cy(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uN(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new Ft(Ie.comparator);u=u.insert(a,jn.newNoDocument(a,Ue.min()));const h=rt().add(a),f=new Ef(Ue.min(),new Map,new Ft(nt),u,h);await oC(r,f),r.du=r.du.remove(a),r.Au.delete(e),Sy(r)}else await mg(r.localStore,e,!1).then((()=>wg(r,e,n))).catch(Ql)}async function dN(t,e){const n=ze(t),r=e.batch.batchId;try{const o=await E2(n.localStore,e);lC(n,r,null),aC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Su(n,o)}catch(o){await Ql(o)}}async function hN(t,e,n){const r=ze(t);try{const o=await(function(u,h){const f=ze(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return f.mutationQueue.lookupMutationBatch(y,h).next((b=>(mt(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(y,b)))).next((()=>f.mutationQueue.performConsistencyCheck(y))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(y,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>f.localDocuments.getDocuments(y,v)))}))})(r.localStore,e);lC(r,e,n),aC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Su(r,o)}catch(o){await Ql(o)}}function aC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function lC(t,e,n){const r=ze(t);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function wg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||cC(t,r)}))}function cC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(my(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Sy(t))}function G0(t,e,n){for(const r of n)r instanceof rC?(t.Ru.addReference(r.key,e),fN(t,r)):r instanceof sC?(ye(Iy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||cC(t,r.key)):Ve(19791,{wu:r})}function fN(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ye(Iy,"New document in limbo: "+n),t.Eu.add(r),Sy(t))}function Sy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(Tt.fromString(e)),r=t.fu.next();t.Au.set(r,new nN(n)),t.du=t.du.insert(n,r),Y1(t.remoteStore,new ho(Ms(mf(n.path)),r,"TargetPurposeLimboResolution",hf.ce))}}async function Su(t,e,n){const r=ze(t),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const v=y?!y.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(y){o.push(y);const v=fy.As(f.targetId,y);a.push(v)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(f,y){const v=ze(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(y,(T=>ie.forEach(T.Es,(N=>v.persistence.referenceDelegate.addReference(b,T.targetId,N))).next((()=>ie.forEach(T.ds,(N=>v.persistence.referenceDelegate.removeReference(b,T.targetId,N)))))))))}catch(b){if(!Yl(b))throw b;ye(py,"Failed to update sequence numbers: "+b)}for(const b of y){const T=b.targetId;if(!b.fromCache){const N=v.Ms.get(T),j=N.snapshotVersion,F=N.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(T,F)}}})(r.localStore,a))}async function pN(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){ye(Iy,"User change. New user:",e.toKey());const r=await G1(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new me(re.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(n,r.Ls)}}function mN(t,e){const n=ze(t),r=n.Au.get(e);if(r&&r.hu)return rt().add(r.key);{let o=rt();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const h=n.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function uC(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uN.bind(null,e),e.Pu.H_=X2.bind(null,e.eventManager),e.Pu.yu=Z2.bind(null,e.eventManager),e}function gN(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hN.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _2(this.persistence,new y2,e.initialUser,this.serializer)}Cu(e){return new W1(hy.mi,this.serializer)}Du(e){return new x2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class yN extends Mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){mt(this.persistence.referenceDelegate instanceof Lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new n2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new W1((r=>Lh.mi(r,n)),this.serializer)}}class vg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pN.bind(null,this.syncEngine),await J2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Y2})()}createDatastore(e){const n=bf(e.databaseInfo.databaseId),r=(function(a){return new N2(a)})(e.databaseInfo);return(function(a,u,h,f){return new j2(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,a,u,h){return new V2(r,o,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>W0(this.syncEngine,n,0)),(function(){return $0.v()?new $0:new k2})())}createSyncEngine(e,n){return(function(o,a,u,h,f,y,v){const b=new rN(o,a,u,h,f,y);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ze(n);ye(wa,"RemoteStore shutting down."),r.Ea.add(5),await Iu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vg.provider={build:()=>new vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="FirestoreClient";class wN{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Ln.UNAUTHENTICATED,this.clientId=ey.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ye(So,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ye(So,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_y(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Dm(t,e){t.asyncQueue.verifyOperationInProgress(),ye(So,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await G1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function K0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vN(t);ye(So,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>B0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>B0(e.remoteStore,o))),t._onlineComponents=e}async function vN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(So,"Using user provided OfflineComponentProvider");try{await Dm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Pl("Error using user provided cache. Falling back to memory cache: "+n),await Dm(t,new Mh)}}else ye(So,"Using default OfflineComponentProvider"),await Dm(t,new yN(void 0));return t._offlineComponents}async function dC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(So,"Using user provided OnlineComponentProvider"),await K0(t,t._uninitializedComponentsProvider._online)):(ye(So,"Using default OnlineComponentProvider"),await K0(t,new vg))),t._onlineComponents}function _N(t){return dC(t).then((e=>e.syncEngine))}async function Vh(t){const e=await dC(t),n=e.eventManager;return n.onListen=sN.bind(null,e.syncEngine),n.onUnlisten=aN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lN.bind(null,e.syncEngine),n}function EN(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,y){const v=new xy({next:T=>{v.Nu(),u.enqueueAndForget((()=>by(a,b)));const N=T.docs.has(h);!N&&T.fromCache?y.reject(new me(re.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&T.fromCache&&f&&f.source==="server"?y.reject(new me(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new Ty(mf(h.path),v,{includeMetadataChanges:!0,qa:!0});return Ey(a,b)})(await Vh(t),t.asyncQueue,e,n,r))),r.promise}function bN(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,y){const v=new xy({next:T=>{v.Nu(),u.enqueueAndForget((()=>by(a,b))),T.fromCache&&f.source==="server"?y.reject(new me(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new Ty(h,v,{includeMetadataChanges:!0,qa:!0});return Ey(a,b)})(await Vh(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firestore.googleapis.com",Q0=!0;class Y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fC,this.ssl=Q0}else this.host=e.host,this.ssl=e.ssl??Q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e2)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new RP;switch(r.type){case"firstParty":return new DP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=J0.get(n);r&&(ye("ComponentProvider","Removing Datastore"),J0.delete(n),r.terminate())})(this),Promise.resolve()}}function CN(t,e,n,r={}){t=ur(t,If);const o=Ta(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(Vg(`https://${h}`),Fg("Firestore",!0)),a.host!==fC&&a.host!==h&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:o,emulatorOptions:r};if(!vi(f,u)&&(t._setSettings(f),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=Ln.MOCK_USER;else{y=ab(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ln(b)}t._authCredentials=new PP(new n1(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ra(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Eu(n,Ht._jsonSchema))return new Ht(e,r||null,new Ie(Tt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:sn("string",Ht._jsonSchemaVersion),referencePath:sn("string")};class wo extends Ra{constructor(e,n,r){super(e,n,mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ie(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function hr(t,e,...n){if(t=At(t),r1("collection","path",e),t instanceof If){const r=Tt.fromString(e,...n);return u0(r),new wo(t,null,r)}{if(!(t instanceof Ht||t instanceof wo))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return u0(r),new wo(t.firestore,null,r)}}function Be(t,e,...n){if(t=At(t),arguments.length===1&&(e=ey.newId()),r1("doc","path",e),t instanceof If){const r=Tt.fromString(e,...n);return c0(r),new Ht(t,null,new Ie(r))}{if(!(t instanceof Ht||t instanceof wo))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return c0(r),new Ht(t.firestore,t instanceof wo?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="AsyncQueue";class Z0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new J1(this,"async_queue_retry"),this._c=()=>{const r=Nm();r&&ye(X0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yl(e))throw e;ye(X0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",eE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=vy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ve(47125,{Pc:eE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function eE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Ti extends If{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Z0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z0(e),this._firestoreClient=void 0,await e}}}function Jn(t,e){const n=typeof t=="object"?t:Bg(),r=typeof t=="string"?t:Ph,o=of(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=sb("firestore");a&&CN(o,...a)}return o}function Sf(t){if(t._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TN(t),t._firestoreClient}function TN(t){const e=t._freezeSettings(),n=(function(o,a,u,h){return new QP(o,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new wN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ur(xn.fromBase64String(e))}catch(n){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ur(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eu(e,Ur._jsonSchema))return Ur.fromBase64String(e.bytes)}}Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:sn("string",Ur._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fs._jsonSchemaVersion}}static fromJSON(e){if(Eu(e,Fs._jsonSchema))return new Fs(e.latitude,e.longitude)}}Fs._jsonSchemaVersion="firestore/geoPoint/1.0",Fs._jsonSchema={type:sn("string",Fs._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eu(e,$s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $s(e.vectorValues);throw new me(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:sn("string",$s._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=/^__.*__$/;class SN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class pC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class kf{constructor(e,n,r,o,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mC(this.Ac)&&IN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bf(e)}Cc(e,n,r,o=!1){return new kf({Ac:e,methodName:n,Dc:r,path:Sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rf(t){const e=t._freezeSettings(),n=bf(t._databaseId);return new xN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gC(t,e,n,r,o,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);Ny("Data must be an object, but it was:",u,r);const h=wC(r,u);let f,y;if(a.merge)f=new Ir(u.fieldMask),y=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const b of a.mergeFields){const T=_g(e,b,n);if(!u.contains(T))throw new me(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);_C(v,T)||v.push(T)}f=new Ir(v),y=u.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,y=u.fieldTransforms;return new SN(new cr(h),f,y)}class Pf extends Pa{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pf}}function yC(t,e,n){return new kf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ky extends Pa{_toFieldTransform(e){return new vf(e.path,new cu)}isEqual(e){return e instanceof ky}}class Ry extends Pa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=yC(this,e,!0),r=this.vc.map((a=>Aa(a,n))),o=new Ol(r);return new vf(e.path,o)}isEqual(e){return e instanceof Ry&&vi(this.vc,e.vc)}}class Py extends Pa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=yC(this,e,!0),r=this.vc.map((a=>Aa(a,n))),o=new Ll(r);return new vf(e.path,o)}isEqual(e){return e instanceof Py&&vi(this.vc,e.vc)}}class Ay extends Pa{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new uu(e.serializer,k1(e.serializer,this.Fc));return new vf(e.path,n)}isEqual(e){return e instanceof Ay&&this.Fc===e.Fc}}function kN(t,e,n,r){const o=t.Cc(1,e,n);Ny("Data must be an object, but it was:",o,r);const a=[],u=cr.empty();xo(r,((f,y)=>{const v=Dy(e,f,n);y=At(y);const b=o.yc(v);if(y instanceof Pf)a.push(v);else{const T=Aa(y,b);T!=null&&(a.push(v),u.set(v,T))}}));const h=new Ir(a);return new pC(u,h,o.fieldTransforms)}function RN(t,e,n,r,o,a){const u=t.Cc(1,e,n),h=[_g(e,r,n)],f=[o];if(a.length%2!=0)throw new me(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(_g(e,a[T])),f.push(a[T+1]);const y=[],v=cr.empty();for(let T=h.length-1;T>=0;--T)if(!_C(y,h[T])){const N=h[T];let j=f[T];j=At(j);const F=u.yc(N);if(j instanceof Pf)y.push(N);else{const L=Aa(j,F);L!=null&&(y.push(N),v.set(N,L))}}const b=new Ir(y);return new pC(v,b,u.fieldTransforms)}function PN(t,e,n,r=!1){return Aa(n,t.Cc(r?4:3,e))}function Aa(t,e){if(vC(t=At(t)))return Ny("Unsupported field value:",e,t),wC(t,e);if(t instanceof Pa)return(function(r,o){if(!mC(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const h of r){let f=Aa(h,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(r,o){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return k1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Pt.fromDate(r);return{timestampValue:Oh(o.serializer,a)}}if(r instanceof Pt){const a=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,a)}}if(r instanceof Fs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:V1(o.serializer,r._byteString)};if(r instanceof Ht){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:uy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof $s)return(function(u,h){return{mapValue:{fields:{[h1]:{stringValue:f1},[Ah]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw h.Sc("VectorValues must only contain numeric values.");return oy(h.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${df(r)}`)})(t,e)}function wC(t,e){const n={};return o1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,((r,o)=>{const a=Aa(o,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function vC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof Fs||t instanceof Ur||t instanceof Ht||t instanceof Pa||t instanceof $s)}function Ny(t,e,n){if(!vC(n)||!s1(n)){const r=df(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function _g(t,e,n){if((e=At(e))instanceof xf)return e._internalPath;if(typeof e=="string")return Dy(t,e);throw Fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const AN=new RegExp("[~\\*/\\[\\]]");function Dy(t,e,n){if(e.search(AN)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fh(t,e,n,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new me(re.INVALID_ARGUMENT,h+t+f)}function _C(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Oy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NN extends EC{data(){return super.data()}}function Oy(t,e){return typeof e=="string"?Dy(t,e):e instanceof xf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ly{}class DN extends Ly{}function Af(t,e,...n){let r=[];e instanceof Ly&&r.push(e),r=r.concat(n),(function(a){const u=a.filter((f=>f instanceof jy)).length,h=a.filter((f=>f instanceof Nf)).length;if(u>1||u>0&&h>0)throw new me(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Nf extends DN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nf(e,n,r)}_apply(e){const n=this._parse(e);return CC(e._query,n),new Ra(e.firestore,e.converter,cg(e._query,n))}_parse(e){const n=Rf(e.firestore);return(function(a,u,h,f,y,v,b){let T;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){rE(b,v);const j=[];for(const F of b)j.push(nE(f,a,F));T={arrayValue:{values:j}}}else T=nE(f,a,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||rE(b,v),T=PN(h,u,b,v==="in"||v==="not-in");return rn.create(y,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Df(t,e,n){const r=e,o=Oy("where",t);return Nf._create(o,r,n)}class jy extends Ly{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)CC(u,f),u=cg(u,f)})(e._query,n),new Ra(e.firestore,e.converter,cg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nE(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new me(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E1(e)&&n.indexOf("/")!==-1)throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tt.fromString(n));if(!Ie.isDocumentKey(r))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return w0(t,new Ie(r))}if(n instanceof Ht)return w0(t,n._key);throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function rE(t,e){if(!Array.isArray(t)||t.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CC(t,e){const n=(function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ON{convertValue(e,n="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xo(e,((o,a)=>{r[o]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Ah].arrayValue?.values?.map((r=>Kt(r.doubleValue)));return new $s(n)}convertGeoPoint(e){return new Fs(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=bo(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);mt(H1(r),9688,{name:e});const o=new au(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return o.isEqual(n)||bi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends EC{constructor(e,n,r,o,a,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Oy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:sn("string",la._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class dh extends la{data(e={}){return super.data(e)}}class ca{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new dh(this._firestore,this._userDataWriter,r.key,r,new Wc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const f=new dh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Wc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new dh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Wc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return h.type!==0&&(y=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:LN(h.type),doc:f,oldIndex:y,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ey.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){t=ur(t,Ht);const e=ur(t.firestore,Ti);return EN(Sf(e),t._key).then((n=>SC(e,t,n)))}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:sn("string",ca._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class My extends ON{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function hs(t){t=ur(t,Ra);const e=ur(t.firestore,Ti),n=Sf(e),r=new My(e);return bC(t._query),bN(n,t._query).then((o=>new ca(e,r,t,o)))}function sE(t,e,n){t=ur(t,Ht);const r=ur(t.firestore,Ti),o=TC(t.converter,e,n);return Of(r,[gC(Rf(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,zr.none())])}function ct(t,e,n,...r){t=ur(t,Ht);const o=ur(t.firestore,Ti),a=Rf(o);let u;return u=typeof(e=At(e))=="string"||e instanceof xf?RN(a,"updateDoc",t._key,e,n,r):kN(a,"updateDoc",t._key,e),Of(o,[u.toMutation(t._key,zr.exists(!0))])}function IC(t){return Of(ur(t.firestore,Ti),[new ay(t._key,zr.none())])}function Eg(t,e){const n=ur(t.firestore,Ti),r=Be(t),o=TC(t.converter,e);return Of(n,[gC(Rf(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then((()=>r))}function jN(t,...e){t=At(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||tE(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(tE(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,u,h;if(t instanceof Ht)u=ur(t.firestore,Ti),h=mf(t._key.path),a={next:f=>{e[r]&&e[r](SC(u,t,f))},error:e[r+1],complete:e[r+2]};else{const f=ur(t,Ra);u=ur(f.firestore,Ti),h=f._query;const y=new My(u);a={next:v=>{e[r]&&e[r](new ca(u,y,f,v))},error:e[r+1],complete:e[r+2]},bC(t._query)}return(function(y,v,b,T){const N=new xy(T),j=new Ty(v,N,b);return y.asyncQueue.enqueueAndForget((async()=>Ey(await Vh(y),j))),()=>{N.Nu(),y.asyncQueue.enqueueAndForget((async()=>by(await Vh(y),j)))}})(Sf(u),h,o,a)}function Of(t,e){return(function(r,o){const a=new gi;return r.asyncQueue.enqueueAndForget((async()=>cN(await _N(r),o,a))),a.promise})(Sf(t),e)}function SC(t,e,n){const r=n.docs.get(e._key),o=new My(t);return new la(t,o,e._key,r,new Wc(n.hasPendingWrites,n.fromCache),e.converter)}function MN(){return new ky("serverTimestamp")}function Vy(...t){return new Ry("arrayUnion",t)}function Vl(...t){return new Py("arrayRemove",t)}function va(t){return new Ay("increment",t)}(function(e,n=!0){(function(o){Jl=o})(Ia),fa(new _o("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Ti(new AP(r.getProvider("auth-internal")),new OP(u,r.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(y.options.projectId,v)})(u,o),u);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Ls(i0,o0,e),Ls(i0,o0,"esm2020")})();var VN="firebase",FN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(VN,FN,"app");const $N={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},kn=ub($N);Jn(kn);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iE="popstate";function UN(t={}){function e(o,a){let{pathname:u="/",search:h="",hash:f=""}=Na(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),bg("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=o.location.href,y=f.indexOf("#");h=y===-1?f:f.slice(0,y)}return h+"#"+(typeof a=="string"?a:du(a))}function r(o,a){qr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return zN(e,n,r,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BN(){return Math.random().toString(36).substring(2,10)}function oE(t,e){return{usr:t.state,key:t.key,idx:e}}function bg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:n,key:e&&e.key||r||BN()}}function du({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function zN(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h="POP",f=null,y=v();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function v(){return(u.state||{idx:null}).idx}function b(){h="POP";let L=v(),H=L==null?null:L-y;y=L,f&&f({action:h,location:F.location,delta:H})}function T(L,H){h="PUSH";let O=bg(F.location,L,H);n&&n(O,L),y=v()+1;let z=oE(O,y),G=F.createHref(O);try{u.pushState(z,"",G)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(G)}a&&f&&f({action:h,location:F.location,delta:1})}function N(L,H){h="REPLACE";let O=bg(F.location,L,H);n&&n(O,L),y=v();let z=oE(O,y),G=F.createHref(O);u.replaceState(z,"",G),a&&f&&f({action:h,location:F.location,delta:0})}function j(L){return HN(L)}let F={get action(){return h},get location(){return t(o,u)},listen(L){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(iE,b),f=L,()=>{o.removeEventListener(iE,b),f=null}},createHref(L){return e(o,L)},createURL:j,encodeLocation(L){let H=j(L);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:N,go(L){return u.go(L)}};return F}function HN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),jt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:du(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function xC(t,e,n="/"){return qN(t,e,n,!1)}function qN(t,e,n,r){let o=typeof e=="string"?Na(e):e,a=Ii(o.pathname||"/",n);if(a==null)return null;let u=kC(t);WN(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let y=rD(a);h=tD(u[f],y,r)}return h}function kC(t,e=[],n=[],r="",o=!1){let a=(u,h,f=o,y)=>{let v={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;jt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let b=yi([r,v.relativePath]),T=n.concat(v);u.children&&u.children.length>0&&(jt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),kC(u.children,e,T,b,f)),!(u.path==null&&!u.index)&&e.push({path:b,score:ZN(b,u.index),routesMeta:T})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))a(u,h);else for(let f of RC(u.path))a(u,h,!0,f)}),e}function RC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=RC(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function WN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var GN=/^:[\w-]+$/,KN=3,JN=2,QN=1,YN=10,XN=-2,aE=t=>t==="*";function ZN(t,e){let n=t.split("/"),r=n.length;return n.some(aE)&&(r+=XN),e&&(r+=JN),n.filter(o=>!aE(o)).reduce((o,a)=>o+(GN.test(a)?KN:a===""?QN:YN),r)}function eD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function tD(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],y=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",b=$h({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},v),T=f.route;if(!b&&y&&n&&!r[r.length-1].route.index&&(b=$h({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:yi([a,b.pathname]),pathnameBase:aD(yi([a,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(a=yi([a,b.pathnameBase]))}return u}function $h(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nD(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((y,{paramName:v,isOptional:b},T)=>{if(v==="*"){let j=h[T]||"";u=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const N=h[T];return b&&!N?y[v]=void 0:y[v]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:u,pattern:t}}function nD(t,e=!1,n=!0){qr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function rD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ii(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sD(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Na(t):t;return{pathname:n?n.startsWith("/")?n:iD(n,e):e,search:lD(r),hash:cD(o)}}function iD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Om(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fy(t){let e=oD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $y(t,e,n,r=!1){let o;typeof t=="string"?o=Na(t):(o={...t},jt(!o.pathname||!o.pathname.includes("?"),Om("?","pathname","search",o)),jt(!o.pathname||!o.pathname.includes("#"),Om("#","pathname","hash",o)),jt(!o.search||!o.search.includes("#"),Om("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),b-=1;o.pathname=T.join("/")}h=b>=0?e[b]:"/"}let f=sD(o,h),y=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(y||v)&&(f.pathname+="/"),f}var yi=t=>t.join("/").replace(/\/\/+/g,"/"),aD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var PC=["POST","PUT","PATCH","DELETE"];new Set(PC);var dD=["GET",...PC];new Set(dD);var Zl=C.createContext(null);Zl.displayName="DataRouter";var Lf=C.createContext(null);Lf.displayName="DataRouterState";C.createContext(!1);var AC=C.createContext({isTransitioning:!1});AC.displayName="ViewTransition";var hD=C.createContext(new Map);hD.displayName="Fetchers";var fD=C.createContext(null);fD.displayName="Await";var ps=C.createContext(null);ps.displayName="Navigation";var xu=C.createContext(null);xu.displayName="Location";var ms=C.createContext({outlet:null,matches:[],isDataRoute:!1});ms.displayName="Route";var Uy=C.createContext(null);Uy.displayName="RouteError";function pD(t,{relative:e}={}){jt(ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(ps),{hash:o,pathname:a,search:u}=ku(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:yi([n,a])),r.createHref({pathname:h,search:u,hash:o})}function ec(){return C.useContext(xu)!=null}function Ro(){return jt(ec(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(xu).location}var NC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DC(t){C.useContext(ps).static||C.useLayoutEffect(t)}function By(){let{isDataRoute:t}=C.useContext(ms);return t?kD():mD()}function mD(){jt(ec(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Zl),{basename:e,navigator:n}=C.useContext(ps),{matches:r}=C.useContext(ms),{pathname:o}=Ro(),a=JSON.stringify(Fy(r)),u=C.useRef(!1);return DC(()=>{u.current=!0}),C.useCallback((f,y={})=>{if(qr(u.current,NC),!u.current)return;if(typeof f=="number"){n.go(f);return}let v=$y(f,JSON.parse(a),o,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:yi([e,v.pathname])),(y.replace?n.replace:n.push)(v,y.state,y)},[e,n,a,o,t])}C.createContext(null);function gD(){let{matches:t}=C.useContext(ms),e=t[t.length-1];return e?e.params:{}}function ku(t,{relative:e}={}){let{matches:n}=C.useContext(ms),{pathname:r}=Ro(),o=JSON.stringify(Fy(n));return C.useMemo(()=>$y(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function yD(t,e){return OC(t,e)}function OC(t,e,n,r,o){jt(ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=C.useContext(ps),{matches:u}=C.useContext(ms),h=u[u.length-1],f=h?h.params:{},y=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let O=b&&b.path||"";LC(y,!b||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let T=Ro(),N;if(e){let O=typeof e=="string"?Na(e):e;jt(v==="/"||O.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${O.pathname}" was given in the \`location\` prop.`),N=O}else N=T;let j=N.pathname||"/",F=j;if(v!=="/"){let O=v.replace(/^\//,"").split("/");F="/"+j.replace(/^\//,"").split("/").slice(O.length).join("/")}let L=xC(t,{pathname:F});qr(b||L!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),qr(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=bD(L&&L.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:yi([v,a.encodeLocation?a.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?v:yi([v,a.encodeLocation?a.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,n,r,o);return e&&H?C.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},H):H}function wD(){let t=xD(),e=uD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:o},n):null,u)}var vD=C.createElement(wD,null),_D=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(ms.Provider,{value:this.props.routeContext},C.createElement(Uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ED({routeContext:t,match:e,children:n}){let r=C.useContext(Zl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ms.Provider,{value:t},n)}function bD(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n?.errors;if(u!=null){let y=a.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);jt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let h=!1,f=-1;if(n)for(let y=0;y<a.length;y++){let v=a[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=y),v.route.id){let{loaderData:b,errors:T}=n,N=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||N){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((y,v,b)=>{let T,N=!1,j=null,F=null;n&&(T=u&&v.route.id?u[v.route.id]:void 0,j=v.route.errorElement||vD,h&&(f<0&&b===0?(LC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,F=null):f===b&&(N=!0,F=v.route.hydrateFallbackElement||null)));let L=e.concat(a.slice(0,b+1)),H=()=>{let O;return T?O=j:N?O=F:v.route.Component?O=C.createElement(v.route.Component,null):v.route.element?O=v.route.element:O=y,C.createElement(ED,{match:v,routeContext:{outlet:y,matches:L,isDataRoute:n!=null},children:O})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?C.createElement(_D,{location:n.location,revalidation:n.revalidation,component:j,error:T,children:H(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:r}):H()},null)}function zy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CD(t){let e=C.useContext(Zl);return jt(e,zy(t)),e}function TD(t){let e=C.useContext(Lf);return jt(e,zy(t)),e}function ID(t){let e=C.useContext(ms);return jt(e,zy(t)),e}function Hy(t){let e=ID(t),n=e.matches[e.matches.length-1];return jt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function SD(){return Hy("useRouteId")}function xD(){let t=C.useContext(Uy),e=TD("useRouteError"),n=Hy("useRouteError");return t!==void 0?t:e.errors?.[n]}function kD(){let{router:t}=CD("useNavigate"),e=Hy("useNavigate"),n=C.useRef(!1);return DC(()=>{n.current=!0}),C.useCallback(async(o,a={})=>{qr(n.current,NC),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var lE={};function LC(t,e,n){!e&&!lE[t]&&(lE[t]=!0,qr(!1,n))}C.memo(RD);function RD({routes:t,future:e,state:n,unstable_onError:r}){return OC(t,void 0,n,r,e)}function yl({to:t,replace:e,state:n,relative:r}){jt(ec(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(ps);qr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(ms),{pathname:u}=Ro(),h=By(),f=$y(t,Fy(a),u,r==="path"),y=JSON.stringify(f);return C.useEffect(()=>{h(JSON.parse(y),{replace:e,state:n,relative:r})},[h,y,r,e,n]),null}function ro(t){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){jt(!ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=Na(n));let{pathname:f="/",search:y="",hash:v="",state:b=null,key:T="default"}=n,N=C.useMemo(()=>{let j=Ii(f,u);return j==null?null:{location:{pathname:j,search:y,hash:v,state:b,key:T},navigationType:r}},[u,f,y,v,b,T,r]);return qr(N!=null,`<Router basename="${u}"> is not able to match the URL "${f}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:C.createElement(ps.Provider,{value:h},C.createElement(xu.Provider,{children:e,value:N}))}function AD({children:t,location:e}){return yD(Cg(t),e)}function Cg(t,e=[]){let n=[];return C.Children.forEach(t,(r,o)=>{if(!C.isValidElement(r))return;let a=[...e,o];if(r.type===C.Fragment){n.push.apply(n,Cg(r.props.children,a));return}jt(r.type===ro,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Cg(r.props.children,a)),n.push(u)}),n}var hh="get",fh="application/x-www-form-urlencoded";function jf(t){return t!=null&&typeof t.tagName=="string"}function ND(t){return jf(t)&&t.tagName.toLowerCase()==="button"}function DD(t){return jf(t)&&t.tagName.toLowerCase()==="form"}function OD(t){return jf(t)&&t.tagName.toLowerCase()==="input"}function LD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jD(t,e){return t.button===0&&(!e||e==="_self")&&!LD(t)}var Jd=null;function MD(){if(Jd===null)try{new FormData(document.createElement("form"),0),Jd=!1}catch{Jd=!0}return Jd}var VD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lm(t){return t!=null&&!VD.has(t)?(qr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):t}function FD(t,e){let n,r,o,a,u;if(DD(t)){let h=t.getAttribute("action");r=h?Ii(h,e):null,n=t.getAttribute("method")||hh,o=Lm(t.getAttribute("enctype"))||fh,a=new FormData(t)}else if(ND(t)||OD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ii(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||hh,o=Lm(t.getAttribute("formenctype"))||Lm(h.getAttribute("enctype"))||fh,a=new FormData(h,t),!MD()){let{name:y,type:v,value:b}=t;if(v==="image"){let T=y?`${y}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else y&&a.append(y,b)}}else{if(jf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,r=null,o=fh,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $D(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ii(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function UD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zD(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await UD(a,n);return u.links?u.links():[]}return[]}));return GD(r.flat(1).filter(BD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cE(t,e,n,r,o,a){let u=(f,y)=>n[y]?f.route.id!==n[y].route.id:!0,h=(f,y)=>n[y].pathname!==f.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,y)=>u(f,y)||h(f,y)):a==="data"?e.filter((f,y)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,y)||h(f,y))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function HD(t,e,{includeHydrateFallback:n}={}){return qD(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function qD(t){return[...new Set(t)]}function WD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function GD(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(WD(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function jC(){let t=C.useContext(Zl);return qy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function KD(){let t=C.useContext(Lf);return qy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wy=C.createContext(void 0);Wy.displayName="FrameworkContext";function MC(){let t=C.useContext(Wy);return qy(t,"You must render this element inside a <HydratedRouter> element"),t}function JD(t,e){let n=C.useContext(Wy),[r,o]=C.useState(!1),[a,u]=C.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:y,onMouseLeave:v,onTouchStart:b}=e,T=C.useRef(null);C.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let F=H=>{H.forEach(O=>{u(O.isIntersecting)})},L=new IntersectionObserver(F,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[t]),C.useEffect(()=>{if(r){let F=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(F)}}},[r]);let N=()=>{o(!0)},j=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,T,{}]:[a,T,{onFocus:Fc(h,N),onBlur:Fc(f,j),onMouseEnter:Fc(y,N),onMouseLeave:Fc(v,j),onTouchStart:Fc(b,N)}]:[!1,T,{}]}function Fc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QD({page:t,...e}){let{router:n}=jC(),r=C.useMemo(()=>xC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(XD,{page:t,matches:r,...e}):null}function YD(t){let{manifest:e,routeModules:n}=MC(),[r,o]=C.useState([]);return C.useEffect(()=>{let a=!1;return zD(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),r}function XD({page:t,matches:e,...n}){let r=Ro(),{manifest:o,routeModules:a}=MC(),{basename:u}=jC(),{loaderData:h,matches:f}=KD(),y=C.useMemo(()=>cE(t,e,f,o,r,"data"),[t,e,f,o,r]),v=C.useMemo(()=>cE(t,e,f,o,r,"assets"),[t,e,f,o,r]),b=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let j=new Set,F=!1;if(e.forEach(H=>{let O=o.routes[H.route.id];!O||!O.hasLoader||(!y.some(z=>z.route.id===H.route.id)&&H.route.id in h&&a[H.route.id]?.shouldRevalidate||O.hasClientLoader?F=!0:j.add(H.route.id))}),j.size===0)return[];let L=$D(t,u,"data");return F&&j.size>0&&L.searchParams.set("_routes",e.filter(H=>j.has(H.route.id)).map(H=>H.route.id).join(",")),[L.pathname+L.search]},[u,h,r,o,y,e,t,a]),T=C.useMemo(()=>HD(v,o),[v,o]),N=YD(v);return C.createElement(C.Fragment,null,b.map(j=>C.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),T.map(j=>C.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),N.map(({key:j,link:F})=>C.createElement("link",{key:j,nonce:n.nonce,...F})))}function ZD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VC&&(window.__reactRouterVersion="7.8.2")}catch{}function eO({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=UN({window:n,v5Compat:!0}));let o=r.current,[a,u]=C.useState({action:o.action,location:o.location}),h=C.useCallback(f=>{C.startTransition(()=>u(f))},[u]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.createElement(PD,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var FC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:y,preventScrollReset:v,viewTransition:b,...T},N){let{basename:j}=C.useContext(ps),F=typeof y=="string"&&FC.test(y),L,H=!1;if(typeof y=="string"&&F&&(L=y,VC))try{let R=new URL(window.location.href),P=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=Ii(P.pathname,j);P.origin===R.origin&&M!=null?y=M+P.search+P.hash:H=!0}catch{qr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=pD(y,{relative:o}),[z,G,ne]=JD(r,T),Z=sO(y,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:b});function k(R){e&&e(R),R.defaultPrevented||Z(R)}let S=C.createElement("a",{...T,...ne,href:L||O,onClick:H||a?e:k,ref:ZD(N,G),target:f,"data-discover":!F&&n==="render"?"true":void 0});return z&&!F?C.createElement(C.Fragment,null,S,C.createElement(QD,{page:O})):S});ht.displayName="Link";var tO=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...y},v){let b=ku(u,{relative:y.relative}),T=Ro(),N=C.useContext(Lf),{navigator:j,basename:F}=C.useContext(ps),L=N!=null&&cO(b)&&h===!0,H=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,O=T.pathname,z=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(O=O.toLowerCase(),z=z?z.toLowerCase():null,H=H.toLowerCase()),z&&F&&(z=Ii(z,F)||z);const G=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ne=O===H||!o&&O.startsWith(H)&&O.charAt(G)==="/",Z=z!=null&&(z===H||!o&&z.startsWith(H)&&z.charAt(H.length)==="/"),k={isActive:ne,isPending:Z,isTransitioning:L},S=ne?e:void 0,R;typeof r=="function"?R=r(k):R=[r,ne?"active":null,Z?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(k):a;return C.createElement(ht,{...y,"aria-current":S,className:R,ref:v,style:P,to:u,viewTransition:h},typeof f=="function"?f(k):f)});tO.displayName="NavLink";var nO=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:u=hh,action:h,onSubmit:f,relative:y,preventScrollReset:v,viewTransition:b,...T},N)=>{let j=aO(),F=lO(h,{relative:y}),L=u.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&FC.test(h),O=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let G=z.nativeEvent.submitter,ne=G?.getAttribute("formmethod")||u;j(G||z.currentTarget,{fetcherKey:e,method:ne,navigate:n,replace:o,state:a,relative:y,preventScrollReset:v,viewTransition:b})};return C.createElement("form",{ref:N,method:L,action:F,onSubmit:r?f:O,...T,"data-discover":!H&&t==="render"?"true":void 0})});nO.displayName="Form";function rO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $C(t){let e=C.useContext(Zl);return jt(e,rO(t)),e}function sO(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=By(),f=Ro(),y=ku(t,{relative:a});return C.useCallback(v=>{if(jD(v,e)){v.preventDefault();let b=n!==void 0?n:du(f)===du(y);h(t,{replace:b,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,y,n,r,e,t,o,a,u])}var iO=0,oO=()=>`__${String(++iO)}__`;function aO(){let{router:t}=$C("useSubmit"),{basename:e}=C.useContext(ps),n=SD();return C.useCallback(async(r,o={})=>{let{action:a,method:u,encType:h,formData:f,body:y}=FD(r,e);if(o.navigate===!1){let v=o.fetcherKey||oO();await t.fetch(v,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function lO(t,{relative:e}={}){let{basename:n}=C.useContext(ps),r=C.useContext(ms);jt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...ku(t||".",{relative:e})},u=Ro();if(t==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:yi([n,a.pathname])),du(a)}function cO(t,{relative:e}={}){let n=C.useContext(AC);jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$C("useViewTransitionState"),o=ku(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ii(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ii(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $h(o.pathname,u)!=null||$h(o.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function UC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function uO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function uE(t,e){return t.get(UC(t,e))}function dO(t,e,n){uO(t,e),e.set(t,n)}function hO(t,e,n){return t.set(UC(t,e),n),n}const fO=100,Re={},pO=()=>{Re.previousActiveElement instanceof HTMLElement?(Re.previousActiveElement.focus(),Re.previousActiveElement=null):document.body&&document.body.focus()},mO=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;Re.restoreFocusTimeout=setTimeout(()=>{pO(),e()},fO),window.scrollTo(n,r)}),BC="swal2-",gO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Y=gO.reduce((t,e)=>(t[e]=BC+e,t),{}),yO=["success","warning","info","question","error"],Uh=yO.reduce((t,e)=>(t[e]=BC+e,t),{}),zC="SweetAlert2:",Gy=t=>t.charAt(0).toUpperCase()+t.slice(1),Kn=t=>{console.warn(`${zC} ${typeof t=="object"?t.join(" "):t}`)},Da=t=>{console.error(`${zC} ${t}`)},dE=[],wO=t=>{dE.includes(t)||(dE.push(t),Kn(t))},HC=(t,e=null)=>{wO(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Mf=t=>typeof t=="function"?t():t,Ky=t=>t&&typeof t.toPromise=="function",Ru=t=>Ky(t)?t.toPromise():Promise.resolve(t),Jy=t=>t&&Promise.resolve(t)===t,Qn=()=>document.body.querySelector(`.${Y.container}`),Pu=t=>{const e=Qn();return e?e.querySelector(t):null},xr=t=>Pu(`.${t}`),dt=()=>xr(Y.popup),tc=()=>xr(Y.icon),vO=()=>xr(Y["icon-content"]),qC=()=>xr(Y.title),Qy=()=>xr(Y["html-container"]),WC=()=>xr(Y.image),Yy=()=>xr(Y["progress-steps"]),Vf=()=>xr(Y["validation-message"]),Bs=()=>Pu(`.${Y.actions} .${Y.confirm}`),nc=()=>Pu(`.${Y.actions} .${Y.cancel}`),Oa=()=>Pu(`.${Y.actions} .${Y.deny}`),_O=()=>xr(Y["input-label"]),rc=()=>Pu(`.${Y.loader}`),Au=()=>xr(Y.actions),GC=()=>xr(Y.footer),Ff=()=>xr(Y["timer-progress-bar"]),Xy=()=>xr(Y.close),EO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Zy=()=>{const t=dt();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,u)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(u.getAttribute("tabindex")||"0");return h>f?1:h<f?-1:0}),r=t.querySelectorAll(EO),o=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>dr(a))},ew=()=>wi(document.body,Y.shown)&&!wi(document.body,Y["toast-shown"])&&!wi(document.body,Y["no-backdrop"]),$f=()=>{const t=dt();return t?wi(t,Y.toast):!1},bO=()=>{const t=dt();return t?t.hasAttribute("data-loading"):!1},kr=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(u=>{t.appendChild(u)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?t.appendChild(u.cloneNode(!0)):t.appendChild(u)})}},wi=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},CO=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Y).includes(n)&&!Object.values(Uh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Sr=(t,e,n)=>{if(CO(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Kn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}ft(t,r)}},Uf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Y.popup} > .${Y[e]}`);case"checkbox":return t.querySelector(`.${Y.popup} > .${Y.checkbox} input`);case"radio":return t.querySelector(`.${Y.popup} > .${Y.radio} input:checked`)||t.querySelector(`.${Y.popup} > .${Y.radio} input:first-child`);case"range":return t.querySelector(`.${Y.popup} > .${Y.range} input`);default:return t.querySelector(`.${Y.popup} > .${Y.input}`)}},KC=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},JC=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(r):o.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},ft=(t,e)=>{JC(t,e,!0)},Wr=(t,e)=>{JC(t,e,!1)},fo=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const o=n[r];if(o instanceof HTMLElement&&wi(o,e))return o}},ua=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},vn=(t,e="flex")=>{t&&(t.style.display=e)},Fn=t=>{t&&(t.style.display="none")},tw=(t,e="block")=>{t&&new MutationObserver(()=>{Nu(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},hE=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},Nu=(t,e,n="flex")=>{e?vn(t,n):Fn(t)},dr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),TO=()=>!dr(Bs())&&!dr(Oa())&&!dr(nc()),Tg=t=>t.scrollHeight>t.clientHeight,IO=(t,e)=>{let n=t;for(;n&&n!==e;){if(Tg(n))return!0;n=n.parentElement}return!1},QC=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},nw=(t,e=!1)=>{const n=Ff();n&&dr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},SO=()=>{const t=Ff();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},xO=()=>typeof window>"u"||typeof document>"u",kO=`
 <div aria-labelledby="${Y.title}" aria-describedby="${Y["html-container"]}" class="${Y.popup}" tabindex="-1">
   <button type="button" class="${Y.close}"></button>
   <ul class="${Y["progress-steps"]}"></ul>
   <div class="${Y.icon}"></div>
   <img class="${Y.image}" />
   <h2 class="${Y.title}" id="${Y.title}"></h2>
   <div class="${Y["html-container"]}" id="${Y["html-container"]}"></div>
   <input class="${Y.input}" id="${Y.input}" />
   <input type="file" class="${Y.file}" />
   <div class="${Y.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Y.select}" id="${Y.select}"></select>
   <div class="${Y.radio}"></div>
   <label class="${Y.checkbox}">
     <input type="checkbox" id="${Y.checkbox}" />
     <span class="${Y.label}"></span>
   </label>
   <textarea class="${Y.textarea}" id="${Y.textarea}"></textarea>
   <div class="${Y["validation-message"]}" id="${Y["validation-message"]}"></div>
   <div class="${Y.actions}">
     <div class="${Y.loader}"></div>
     <button type="button" class="${Y.confirm}"></button>
     <button type="button" class="${Y.deny}"></button>
     <button type="button" class="${Y.cancel}"></button>
   </div>
   <div class="${Y.footer}"></div>
   <div class="${Y["timer-progress-bar-container"]}">
     <div class="${Y["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),RO=()=>{const t=Qn();return t?(t.remove(),Wr([document.documentElement,document.body],[Y["no-backdrop"],Y["toast-shown"],Y["has-column"]]),!0):!1},ra=()=>{Re.currentInstance.resetValidationMessage()},PO=()=>{const t=dt(),e=fo(t,Y.input),n=fo(t,Y.file),r=t.querySelector(`.${Y.range} input`),o=t.querySelector(`.${Y.range} output`),a=fo(t,Y.select),u=t.querySelector(`.${Y.checkbox} input`),h=fo(t,Y.textarea);e.oninput=ra,n.onchange=ra,a.onchange=ra,u.onchange=ra,h.oninput=ra,r.oninput=()=>{ra(),o.value=r.value},r.onchange=()=>{ra(),o.value=r.value}},AO=t=>typeof t=="string"?document.querySelector(t):t,NO=t=>{const e=dt();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},DO=t=>{window.getComputedStyle(t).direction==="rtl"&&ft(Qn(),Y.rtl)},OO=t=>{const e=RO();if(xO()){Da("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Y.container,e&&ft(n,Y["no-transition"]),kr(n,kO),n.dataset.swal2Theme=t.theme;const r=AO(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),NO(t),DO(r),PO()},rw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?LO(t,e):t&&kr(e,t)},LO=(t,e)=>{t.jquery?jO(e,t):kr(e,t.toString())},jO=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},MO=(t,e)=>{const n=Au(),r=rc();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Fn(n):vn(n),Sr(n,e,"actions"),VO(n,r,e),kr(r,e.loaderHtml||""),Sr(r,e,"loader"))};function VO(t,e,n){const r=Bs(),o=Oa(),a=nc();!r||!o||!a||(Mm(r,"confirm",n),Mm(o,"deny",n),Mm(a,"cancel",n),FO(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}function FO(t,e,n,r){if(!r.buttonsStyling){Wr([t,e,n],Y.styled);return}ft([t,e,n],Y.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),jm(t),jm(e),jm(n)}function jm(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Mm(t,e,n){const r=Gy(e);Nu(t,n[`show${r}Button`],"inline-block"),kr(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Y[e],Sr(t,n,`${e}Button`)}const $O=(t,e)=>{const n=Xy();n&&(kr(n,e.closeButtonHtml||""),Sr(n,e,"closeButton"),Nu(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},UO=(t,e)=>{const n=Qn();n&&(BO(n,e.backdrop),zO(n,e.position),HO(n,e.grow),Sr(n,e,"container"))};function BO(t,e){typeof e=="string"?t.style.background=e:e||ft([document.documentElement,document.body],Y["no-backdrop"])}function zO(t,e){e&&(e in Y?ft(t,Y[e]):(Kn('The "position" parameter is not valid, defaulting to "center"'),ft(t,Y.center)))}function HO(t,e){e&&ft(t,Y[`grow-${e}`])}var It={innerParams:new WeakMap,domCache:new WeakMap};const qO=["input","file","range","select","radio","checkbox","textarea"],WO=(t,e)=>{const n=dt();if(!n)return;const r=It.innerParams.get(t),o=!r||e.input!==r.input;qO.forEach(a=>{const u=fo(n,Y[a]);u&&(JO(a,e.inputAttributes),u.className=Y[a],o&&Fn(u))}),e.input&&(o&&GO(e),QO(e))},GO=t=>{if(!t.input)return;if(!Gt[t.input]){Da(`Unexpected type of input! Expected ${Object.keys(Gt).join(" | ")}, got "${t.input}"`);return}const e=YC(t.input);if(!e)return;const n=Gt[t.input](e,t);vn(e),t.inputAutoFocus&&setTimeout(()=>{KC(n)})},KO=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},JO=(t,e)=>{const n=dt();if(!n)return;const r=Uf(n,t);if(r){KO(r);for(const o in e)r.setAttribute(o,e[o])}},QO=t=>{if(!t.input)return;const e=YC(t.input);e&&Sr(e,t,"input")},sw=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Du=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=Y["input-label"];r.setAttribute("for",t.id),r.className=o,typeof n.customClass=="object"&&ft(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},YC=t=>{const e=dt();if(e)return fo(e,Y[t]||Y.input)},Bh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Jy(e)||Kn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Gt={};Gt.text=Gt.email=Gt.password=Gt.number=Gt.tel=Gt.url=Gt.search=Gt.date=Gt["datetime-local"]=Gt.time=Gt.week=Gt.month=(t,e)=>(Bh(t,e.inputValue),Du(t,t,e),sw(t,e),t.type=e.input,t);Gt.file=(t,e)=>(Du(t,t,e),sw(t,e),t);Gt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Bh(n,e.inputValue),n.type=e.input,Bh(r,e.inputValue),Du(n,t,e),t};Gt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");kr(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Du(t,t,e),t};Gt.radio=t=>(t.textContent="",t);Gt.checkbox=(t,e)=>{const n=Uf(dt(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return kr(r,e.inputPlaceholder||e.inputLabel),n};Gt.textarea=(t,e)=>{Bh(t,e.inputValue),sw(t,e),Du(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(dt()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?dt().style.width=`${a}px`:ua(dt(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const YO=(t,e)=>{const n=Qy();n&&(tw(n),Sr(n,e,"htmlContainer"),e.html?(rw(e.html,n),vn(n,"block")):e.text?(n.textContent=e.text,vn(n,"block")):Fn(n),WO(t,e))},XO=(t,e)=>{const n=GC();n&&(tw(n),Nu(n,e.footer,"block"),e.footer&&rw(e.footer,n),Sr(n,e,"footer"))},ZO=(t,e)=>{const n=It.innerParams.get(t),r=tc();if(!r)return;if(n&&e.icon===n.icon){pE(r,e),fE(r,e);return}if(!e.icon&&!e.iconHtml){Fn(r);return}if(e.icon&&Object.keys(Uh).indexOf(e.icon)===-1){Da(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Fn(r);return}vn(r),pE(r,e),fE(r,e),ft(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",XC)},fE=(t,e)=>{for(const[n,r]of Object.entries(Uh))e.icon!==n&&Wr(t,r);ft(t,e.icon&&Uh[e.icon]),nL(t,e),XC(),Sr(t,e,"icon")},XC=()=>{const t=dt();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},eL=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,tL=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,pE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=mE(e.iconHtml):e.icon==="success"?(r=eL(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=tL:e.icon&&(r=mE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&kr(t,r)},nL=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])hE(t,n,"background-color",e.iconColor);hE(t,".swal2-success-ring","border-color",e.iconColor)}},mE=t=>`<div class="${Y["icon-content"]}">${t}</div>`,rL=(t,e)=>{const n=WC();if(n){if(!e.imageUrl){Fn(n);return}vn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),ua(n,"width",e.imageWidth),ua(n,"height",e.imageHeight),n.className=Y.image,Sr(n,e,"image")}};let iw=!1,ZC=0,eT=0,tT=0,nT=0;const sL=t=>{t.addEventListener("mousedown",zh),document.body.addEventListener("mousemove",Hh),t.addEventListener("mouseup",qh),t.addEventListener("touchstart",zh),document.body.addEventListener("touchmove",Hh),t.addEventListener("touchend",qh)},iL=t=>{t.removeEventListener("mousedown",zh),document.body.removeEventListener("mousemove",Hh),t.removeEventListener("mouseup",qh),t.removeEventListener("touchstart",zh),document.body.removeEventListener("touchmove",Hh),t.removeEventListener("touchend",qh)},zh=t=>{const e=dt();if(t.target===e||tc().contains(t.target)){iw=!0;const n=rT(t);ZC=n.clientX,eT=n.clientY,tT=parseInt(e.style.insetInlineStart)||0,nT=parseInt(e.style.insetBlockStart)||0,ft(e,"swal2-dragging")}},Hh=t=>{const e=dt();if(iw){let{clientX:n,clientY:r}=rT(t);e.style.insetInlineStart=`${tT+(n-ZC)}px`,e.style.insetBlockStart=`${nT+(r-eT)}px`}},qh=()=>{const t=dt();iw=!1,Wr(t,"swal2-dragging")},rT=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},oL=(t,e)=>{const n=Qn(),r=dt();if(!(!n||!r)){if(e.toast){ua(n,"width",e.width),r.style.width="100%";const o=rc();o&&r.insertBefore(o,tc())}else ua(r,"width",e.width);ua(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Fn(Vf()),aL(r,e),e.draggable&&!e.toast?(ft(r,Y.draggable),sL(r)):(Wr(r,Y.draggable),iL(r))}},aL=(t,e)=>{const n=e.showClass||{};t.className=`${Y.popup} ${dr(t)?n.popup:""}`,e.toast?(ft([document.documentElement,document.body],Y["toast-shown"]),ft(t,Y.toast)):ft(t,Y.modal),Sr(t,e,"popup"),typeof e.customClass=="string"&&ft(t,e.customClass),e.icon&&ft(t,Y[`icon-${e.icon}`])},lL=(t,e)=>{const n=Yy();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){Fn(n);return}vn(n),n.textContent="",o>=r.length&&Kn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,u)=>{const h=cL(a);if(n.appendChild(h),u===o&&ft(h,Y["active-progress-step"]),u!==r.length-1){const f=uL(e);n.appendChild(f)}})},cL=t=>{const e=document.createElement("li");return ft(e,Y["progress-step"]),kr(e,t),e},uL=t=>{const e=document.createElement("li");return ft(e,Y["progress-step-line"]),t.progressStepsDistance&&ua(e,"width",t.progressStepsDistance),e},dL=(t,e)=>{const n=qC();n&&(tw(n),Nu(n,e.title||e.titleText,"block"),e.title&&rw(e.title,n),e.titleText&&(n.innerText=e.titleText),Sr(n,e,"title"))},sT=(t,e)=>{oL(t,e),UO(t,e),lL(t,e),ZO(t,e),rL(t,e),dL(t,e),$O(t,e),YO(t,e),MO(t,e),XO(t,e);const n=dt();typeof e.didRender=="function"&&n&&e.didRender(n),Re.eventEmitter.emit("didRender",n)},hL=()=>dr(dt()),iT=()=>{var t;return(t=Bs())===null||t===void 0?void 0:t.click()},fL=()=>{var t;return(t=Oa())===null||t===void 0?void 0:t.click()},pL=()=>{var t;return(t=nc())===null||t===void 0?void 0:t.click()},sc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),oT=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},mL=(t,e,n)=>{oT(t),e.toast||(t.keydownHandler=r=>yL(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:dt(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Ig=(t,e)=>{var n;const r=Zy();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=dt())===null||n===void 0||n.focus()},aT=["ArrowRight","ArrowDown"],gL=["ArrowLeft","ArrowUp"],yL=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?wL(e,t):e.key==="Tab"?vL(e):[...aT,...gL].includes(e.key)?_L(e.key):e.key==="Escape"&&EL(e,t,n)))},wL=(t,e)=>{if(!Mf(e.allowEnterKey))return;const n=Uf(dt(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;iT(),t.preventDefault()}},vL=t=>{const e=t.target,n=Zy();let r=-1;for(let o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?Ig(r,-1):Ig(r,1),t.stopPropagation(),t.preventDefault()},_L=t=>{const e=Au(),n=Bs(),r=Oa(),o=nc();if(!e||!n||!r||!o)return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const u=aT.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let f=0;f<e.children.length;f++){if(h=h[u],!h)return;if(h instanceof HTMLButtonElement&&dr(h))break}h instanceof HTMLButtonElement&&h.focus()}},EL=(t,e,n)=>{t.preventDefault(),Mf(e.allowEscapeKey)&&n(sc.esc)};var Fl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const bL=()=>{const t=Qn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},lT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},cT=typeof window<"u"&&!!window.GestureEvent,CL=()=>{if(cT&&!wi(document.body,Y.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,ft(document.body,Y.iosfix),TL()}},TL=()=>{const t=Qn();if(!t)return;let e;t.ontouchstart=n=>{e=IL(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},IL=t=>{const e=t.target,n=Qn(),r=Qy();return!n||!r||SL(t)||xL(t)?!1:e===n||!Tg(n)&&e instanceof HTMLElement&&!IO(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Tg(r)&&r.contains(e))},SL=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",xL=t=>t.touches&&t.touches.length>1,kL=()=>{if(wi(document.body,Y.iosfix)){const t=parseInt(document.body.style.top,10);Wr(document.body,Y.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},RL=()=>{const t=document.createElement("div");t.className=Y["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let kl=null;const PL=t=>{kl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(kl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${kl+RL()}px`)},AL=()=>{kl!==null&&(document.body.style.paddingRight=`${kl}px`,kl=null)};function uT(t,e,n,r){$f()?gE(t,r):(mO(n).then(()=>gE(t,r)),oT(Re)),cT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),ew()&&(AL(),kL(),lT()),NL()}function NL(){Wr([document.documentElement,document.body],[Y.shown,Y["height-auto"],Y["no-backdrop"],Y["toast-shown"]])}function po(t){t=OL(t);const e=Fl.swalPromiseResolve.get(this),n=DL(this);this.isAwaitingPromise?t.isDismissed||(Ou(this),e(t)):n&&e(t)}const DL=t=>{const e=dt();if(!e)return!1;const n=It.innerParams.get(t);if(!n||wi(e,n.hideClass.popup))return!1;Wr(e,n.showClass.popup),ft(e,n.hideClass.popup);const r=Qn();return Wr(r,n.showClass.backdrop),ft(r,n.hideClass.backdrop),LL(t,e,n),!0};function dT(t){const e=Fl.swalPromiseReject.get(this);Ou(this),e&&e(t)}const Ou=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,It.innerParams.get(t)||t._destroy())},OL=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),LL=(t,e,n)=>{var r;const o=Qn(),a=QC(e);typeof n.willClose=="function"&&n.willClose(e),(r=Re.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?jL(t,e,o,n.returnFocus,n.didClose):uT(t,o,n.returnFocus,n.didClose)},jL=(t,e,n,r,o)=>{Re.swalCloseEventFinishedCallback=uT.bind(null,t,n,r,o);const a=function(u){if(u.target===e){var h;(h=Re.swalCloseEventFinishedCallback)===null||h===void 0||h.call(Re),delete Re.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},gE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Re.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},$l=t=>{let e=dt();if(e||new je,e=dt(),!e)return;const n=rc();$f()?Fn(tc()):ML(e,t),vn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},ML=(t,e)=>{const n=Au(),r=rc();!n||!r||(!e&&dr(Bs())&&(e=Bs()),vn(n),e&&(Fn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),ft([t,n],Y.loading))},VL=(t,e)=>{e.input==="select"||e.input==="radio"?zL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Ky(e.inputValue)||Jy(e.inputValue))&&($l(Bs()),HL(t,e))},FL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return $L(n);case"radio":return UL(n);case"file":return BL(n);default:return e.inputAutoTrim?n.value.trim():n.value}},$L=t=>t.checked?1:0,UL=t=>t.checked?t.value:null,BL=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,zL=(t,e)=>{const n=dt();if(!n)return;const r=o=>{e.input==="select"?qL(n,Wh(o),e):e.input==="radio"&&WL(n,Wh(o),e)};Ky(e.inputOptions)||Jy(e.inputOptions)?($l(Bs()),Ru(e.inputOptions).then(o=>{t.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):Da(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},HL=(t,e)=>{const n=t.getInput();n&&(Fn(n),Ru(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,vn(n),n.focus(),t.hideLoading()}).catch(r=>{Da(`Error in inputValue promise: ${r}`),n.value="",vn(n),n.focus(),t.hideLoading()}))};function qL(t,e,n){const r=fo(t,Y.select);if(!r)return;const o=(a,u,h)=>{const f=document.createElement("option");f.value=h,kr(f,u),f.selected=hT(h,n.inputValue),a.appendChild(f)};e.forEach(a=>{const u=a[0],h=a[1];if(Array.isArray(h)){const f=document.createElement("optgroup");f.label=u,f.disabled=!1,r.appendChild(f),h.forEach(y=>o(f,y[1],y[0]))}else o(r,h,u)}),r.focus()}function WL(t,e,n){const r=fo(t,Y.radio);if(!r)return;e.forEach(a=>{const u=a[0],h=a[1],f=document.createElement("input"),y=document.createElement("label");f.type="radio",f.name=Y.radio,f.value=u,hT(u,n.inputValue)&&(f.checked=!0);const v=document.createElement("span");kr(v,h),v.className=Y.label,y.appendChild(f),y.appendChild(v),r.appendChild(y)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const Wh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let o=n;typeof o=="object"&&(o=Wh(o)),e.push([r,o])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Wh(r)),e.push([n,r])}),e},hT=(t,e)=>!!e&&e.toString()===t.toString(),GL=t=>{const e=It.innerParams.get(t);t.disableButtons(),e.input?fT(t,"confirm"):aw(t,!0)},KL=t=>{const e=It.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?fT(t,"deny"):ow(t,!1)},JL=(t,e)=>{t.disableButtons(),e(sc.cancel)},fT=(t,e)=>{const n=It.innerParams.get(t);if(!n.input){Da(`The "input" parameter is needed to be set when using returnInputValueOn${Gy(e)}`);return}const r=t.getInput(),o=FL(t,n);n.inputValidator?QL(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?ow(t,o):aw(t,o)},QL=(t,e,n)=>{const r=It.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Ru(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?ow(t,e):aw(t,e)})},ow=(t,e)=>{const n=It.innerParams.get(t||void 0);n.showLoaderOnDeny&&$l(Oa()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Ru(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),Ou(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>pT(t||void 0,o))):t.close({isDenied:!0,value:e})},yE=(t,e)=>{t.close({isConfirmed:!0,value:e})},pT=(t,e)=>{t.rejectPromise(e)},aw=(t,e)=>{const n=It.innerParams.get(t||void 0);n.showLoaderOnConfirm&&$l(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Ru(n.preConfirm(e,n.validationMessage))).then(o=>{dr(Vf())||o===!1?(t.hideLoading(),Ou(t)):yE(t,typeof o>"u"?e:o)}).catch(o=>pT(t||void 0,o))):yE(t,e)};function Gh(){const t=It.innerParams.get(this);if(!t)return;const e=It.domCache.get(this);Fn(e.loader),$f()?t.icon&&vn(tc()):YL(e),Wr([e.popup,e.actions],Y.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const YL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?vn(e[0],"inline-block"):TO()&&Fn(t.actions)};function mT(){const t=It.innerParams.get(this),e=It.domCache.get(this);return e?Uf(e.popup,t.input):null}function gT(t,e,n){const r=It.domCache.get(t);e.forEach(o=>{r[o].disabled=n})}function yT(t,e){const n=dt();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Y.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else t.disabled=e}function wT(){gT(this,["confirmButton","denyButton","cancelButton"],!1)}function vT(){gT(this,["confirmButton","denyButton","cancelButton"],!0)}function _T(){yT(this.getInput(),!1)}function ET(){yT(this.getInput(),!0)}function bT(t){const e=It.domCache.get(this),n=It.innerParams.get(this);kr(e.validationMessage,t),e.validationMessage.className=Y["validation-message"],n.customClass&&n.customClass.validationMessage&&ft(e.validationMessage,n.customClass.validationMessage),vn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Y["validation-message"]),KC(r),ft(r,Y.inputerror))}function CT(){const t=It.domCache.get(this);t.validationMessage&&Fn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Wr(e,Y.inputerror))}const Rl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},XL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],ZL={allowEnterKey:void 0},ej=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],TT=t=>Object.prototype.hasOwnProperty.call(Rl,t),IT=t=>XL.indexOf(t)!==-1,ST=t=>ZL[t],tj=t=>{TT(t)||Kn(`Unknown parameter "${t}"`)},nj=t=>{ej.includes(t)&&Kn(`The parameter "${t}" is incompatible with toasts`)},rj=t=>{const e=ST(t);e&&HC(t,e)},xT=t=>{t.backdrop===!1&&t.allowOutsideClick&&Kn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Kn(`Invalid theme "${t.theme}"`);for(const e in t)tj(e),t.toast&&nj(e),rj(e)};function kT(t){const e=Qn(),n=dt(),r=It.innerParams.get(this);if(!n||wi(n,r.hideClass.popup)){Kn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=sj(t),a=Object.assign({},r,o);xT(a),e.dataset.swal2Theme=a.theme,sT(this,a),It.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const sj=t=>{const e={};return Object.keys(t).forEach(n=>{IT(n)?e[n]=t[n]:Kn(`Invalid parameter to update: ${n}`)}),e};function RT(){const t=It.domCache.get(this),e=It.innerParams.get(this);if(!e){PT(this);return}t.popup&&Re.swalCloseEventFinishedCallback&&(Re.swalCloseEventFinishedCallback(),delete Re.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Re.eventEmitter.emit("didDestroy"),ij(this)}const ij=t=>{PT(t),delete t.params,delete Re.keydownHandler,delete Re.keydownTarget,delete Re.currentInstance},PT=t=>{t.isAwaitingPromise?(Vm(It,t),t.isAwaitingPromise=!0):(Vm(Fl,t),Vm(It,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Vm=(t,e)=>{for(const n in t)t[n].delete(e)};var oj=Object.freeze({__proto__:null,_destroy:RT,close:po,closeModal:po,closePopup:po,closeToast:po,disableButtons:vT,disableInput:ET,disableLoading:Gh,enableButtons:wT,enableInput:_T,getInput:mT,handleAwaitingPromise:Ou,hideLoading:Gh,rejectPromise:dT,resetValidationMessage:CT,showValidationMessage:bT,update:kT});const aj=(t,e,n)=>{t.toast?lj(t,e,n):(uj(e),dj(e),hj(t,e,n))},lj=(t,e,n)=>{e.popup.onclick=()=>{t&&(cj(t)||t.timer||t.input)||n(sc.close)}},cj=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Kh=!1;const uj=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Kh=!0)}}},dj=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Kh=!0)}}},hj=(t,e,n)=>{e.container.onclick=r=>{if(Kh){Kh=!1;return}r.target===e.container&&Mf(t.allowOutsideClick)&&n(sc.backdrop)}},fj=t=>typeof t=="object"&&t.jquery,wE=t=>t instanceof Element||fj(t),pj=t=>{const e={};return typeof t[0]=="object"&&!wE(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const o=t[r];typeof o=="string"||wE(o)?e[n]=o:o!==void 0&&Da(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function mj(...t){return new this(...t)}function gj(t){class e extends this{_main(r,o){return super._main(r,Object.assign({},t,o))}}return e}const yj=()=>Re.timeout&&Re.timeout.getTimerLeft(),AT=()=>{if(Re.timeout)return SO(),Re.timeout.stop()},NT=()=>{if(Re.timeout){const t=Re.timeout.start();return nw(t),t}},wj=()=>{const t=Re.timeout;return t&&(t.running?AT():NT())},vj=t=>{if(Re.timeout){const e=Re.timeout.increase(t);return nw(e,!0),e}},_j=()=>!!(Re.timeout&&Re.timeout.isRunning());let vE=!1;const Sg={};function Ej(t="data-swal-template"){Sg[t]=this,vE||(document.body.addEventListener("click",bj),vE=!0)}const bj=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Sg){const r=e.getAttribute(n);if(r){Sg[n].fire({template:r});return}}};class Cj{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...o)=>{this.removeListener(e,r),n.apply(this,o)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Re.eventEmitter=new Cj;const Tj=(t,e)=>{Re.eventEmitter.on(t,e)},Ij=(t,e)=>{Re.eventEmitter.once(t,e)},Sj=(t,e)=>{if(!t){Re.eventEmitter.reset();return}e?Re.eventEmitter.removeListener(t,e):Re.eventEmitter.removeAllListeners(t)};var xj=Object.freeze({__proto__:null,argsToParams:pj,bindClickHandler:Ej,clickCancel:pL,clickConfirm:iT,clickDeny:fL,enableLoading:$l,fire:mj,getActions:Au,getCancelButton:nc,getCloseButton:Xy,getConfirmButton:Bs,getContainer:Qn,getDenyButton:Oa,getFocusableElements:Zy,getFooter:GC,getHtmlContainer:Qy,getIcon:tc,getIconContent:vO,getImage:WC,getInputLabel:_O,getLoader:rc,getPopup:dt,getProgressSteps:Yy,getTimerLeft:yj,getTimerProgressBar:Ff,getTitle:qC,getValidationMessage:Vf,increaseTimer:vj,isDeprecatedParameter:ST,isLoading:bO,isTimerRunning:_j,isUpdatableParameter:IT,isValidParameter:TT,isVisible:hL,mixin:gj,off:Sj,on:Tj,once:Ij,resumeTimer:NT,showLoading:$l,stopTimer:AT,toggleTimer:wj});class kj{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const DT=["swal-title","swal-html","swal-footer"],Rj=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return Mj(n),Object.assign(Pj(n),Aj(n),Nj(n),Dj(n),Oj(n),Lj(n),jj(n,DT))},Pj=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{_a(r,["name","value"]);const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(typeof Rl[o]=="boolean"?e[o]=a!=="false":typeof Rl[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},Aj=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},Nj=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{_a(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${Gy(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},Dj=t=>{const e={},n=t.querySelector("swal-image");return n&&(_a(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},Oj=t=>{const e={},n=t.querySelector("swal-icon");return n&&(_a(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},Lj=t=>{const e={},n=t.querySelector("swal-input");n&&(_a(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{_a(o,["value"]);const a=o.getAttribute("value");if(!a)return;const u=o.innerHTML;e.inputOptions[a]=u})),e},jj=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(_a(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},Mj=t=>{const e=DT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Kn(`Unrecognized element <${r}>`)})},_a=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Kn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},OT=10,Vj=t=>{const e=Qn(),n=dt();typeof t.willOpen=="function"&&t.willOpen(n),Re.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;Uj(e,n,t),setTimeout(()=>{Fj(e,n)},OT),ew()&&($j(e,t.scrollbarPadding,o),bL()),!$f()&&!Re.previousActiveElement&&(Re.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Re.eventEmitter.emit("didOpen",n),Wr(e,Y["no-transition"])},Jh=t=>{const e=dt();if(t.target!==e)return;const n=Qn();e.removeEventListener("animationend",Jh),e.removeEventListener("transitionend",Jh),n.style.overflowY="auto"},Fj=(t,e)=>{QC(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Jh),e.addEventListener("transitionend",Jh)):t.style.overflowY="auto"},$j=(t,e,n)=>{CL(),e&&n!=="hidden"&&PL(n),setTimeout(()=>{t.scrollTop=0})},Uj=(t,e,n)=>{ft(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),vn(e,"grid"),setTimeout(()=>{ft(e,n.showClass.popup),e.style.removeProperty("opacity")},OT)):vn(e,"grid"),ft([document.documentElement,document.body],Y.shown),n.heightAuto&&n.backdrop&&!n.toast&&ft([document.documentElement,document.body],Y["height-auto"])};var _E={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Bj(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=_E.email),t.input==="url"&&(t.inputValidator=_E.url))}function zj(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Kn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Hj(t){Bj(t),t.showLoaderOnConfirm&&!t.preConfirm&&Kn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),zj(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),OO(t)}let Ns;var Qd=new WeakMap;class Qt{constructor(...e){if(dO(this,Qd,void 0),typeof window>"u")return;Ns=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,hO(Qd,this,this._main(Ns.params))}_main(e,n={}){if(xT(Object.assign({},n,e)),Re.currentInstance){const a=Fl.swalPromiseResolve.get(Re.currentInstance),{isAwaitingPromise:u}=Re.currentInstance;Re.currentInstance._destroy(),u||a({isDismissed:!0}),ew()&&lT()}Re.currentInstance=Ns;const r=Wj(e,n);Hj(r),Object.freeze(r),Re.timeout&&(Re.timeout.stop(),delete Re.timeout),clearTimeout(Re.restoreFocusTimeout);const o=Gj(Ns);return sT(Ns,r),It.innerParams.set(Ns,r),qj(Ns,o,r)}then(e){return uE(Qd,this).then(e)}finally(e){return uE(Qd,this).finally(e)}}const qj=(t,e,n)=>new Promise((r,o)=>{const a=u=>{t.close({isDismissed:!0,dismiss:u})};Fl.swalPromiseResolve.set(t,r),Fl.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{GL(t)},e.denyButton.onclick=()=>{KL(t)},e.cancelButton.onclick=()=>{JL(t,a)},e.closeButton.onclick=()=>{a(sc.close)},aj(n,e,a),mL(Re,n,a),VL(t,n),Vj(n),Kj(Re,n,a),Jj(e,n),setTimeout(()=>{e.container.scrollTop=0})}),Wj=(t,e)=>{const n=Rj(t),r=Object.assign({},Rl,e,n,t);return r.showClass=Object.assign({},Rl.showClass,r.showClass),r.hideClass=Object.assign({},Rl.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},Gj=t=>{const e={popup:dt(),container:Qn(),actions:Au(),confirmButton:Bs(),denyButton:Oa(),cancelButton:nc(),loader:rc(),closeButton:Xy(),validationMessage:Vf(),progressSteps:Yy()};return It.domCache.set(t,e),e},Kj=(t,e,n)=>{const r=Ff();Fn(r),e.timer&&(t.timeout=new kj(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(vn(r),Sr(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&nw(e.timer)})))},Jj=(t,e)=>{if(!e.toast){if(!Mf(e.allowEnterKey)){HC("allowEnterKey"),Xj();return}Qj(t)||Yj(t,e)||Ig(-1,1)}},Qj=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&dr(n))return n.focus(),!0;return!1},Yj=(t,e)=>e.focusDeny&&dr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&dr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&dr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,Xj=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Qt.prototype.disableButtons=vT;Qt.prototype.enableButtons=wT;Qt.prototype.getInput=mT;Qt.prototype.disableInput=ET;Qt.prototype.enableInput=_T;Qt.prototype.hideLoading=Gh;Qt.prototype.disableLoading=Gh;Qt.prototype.showValidationMessage=bT;Qt.prototype.resetValidationMessage=CT;Qt.prototype.close=po;Qt.prototype.closePopup=po;Qt.prototype.closeModal=po;Qt.prototype.closeToast=po;Qt.prototype.rejectPromise=dT;Qt.prototype.update=kT;Qt.prototype._destroy=RT;Object.assign(Qt,xj);Object.keys(oj).forEach(t=>{Qt[t]=function(...e){return Ns&&Ns[t]?Ns[t](...e):null}});Qt.DismissReason=sc;Qt.version="11.23.0";const je=Qt;je.default=je;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Ea="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",zt="/Fantasy-Casadillos/SinPerfil.jpg",Zj="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",eM="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",tM="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",nM="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",$c=Kr(kn),Fm=Jn(kn),rM=new Os,sM=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(!1),[o,a]=C.useState(Zj),u=By();C.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async v=>{v.preventDefault();const b=new FormData(v.currentTarget),T=b.get("email"),N=b.get("password");if(n)try{const j=b.get("nick"),F=hr(Fm,"usuarios"),L=Af(F,Df("nick","==",j));if(!(await hs(L)).empty){je.fire({icon:"error",title:"Nick en uso",text:"Ese nombre de usuario ya está ocupado. Elige otro."});return}const{user:O}=await lR($c,T,N);await Vb($c.currentUser,{displayName:j});const z={nick:j,correo:T,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await sE(Be(Fm,"usuarios",O.uid),z,{merge:!0})}catch(j){console.error("Error registrando usuario:",j);let F="No se pudo crear la cuenta. Revisa los datos.";j.code==="auth/email-already-in-use"?F="Ya existe una cuenta con este correo.":j.code==="auth/weak-password"?F="La contraseña debe tener al menos 6 caracteres.":j.code==="auth/invalid-email"?F="El correo electrónico no es válido.":F=`Error desconocido: ${j.code}`,je.fire({icon:"error",title:"Error",text:F})}else try{await cR($c,T,N),console.log("Inicio de sesión exitoso"),u("/home")}catch(j){console.error("Error iniciando sesión:",j);let F="Error al iniciar sesión.";(j.code==="auth/invalid-credential"||j.code==="auth/wrong-password"||j.code==="auth/user-not-found")&&(F="Correo o contraseña incorrectos."),je.fire({icon:"error",title:"Error al iniciar sesión",text:F})}},f=async()=>{const{value:v}=await je.fire({title:"Recuperar contraseña",input:"email",inputLabel:"Introduce tu correo electrónico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:b=>{if(!b)return"El correo es obligatorio"}});if(v)try{await Mb($c,v),je.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(b){je.fire("Error",b.message,"error")}},y=async()=>{try{const v=await jR($c,rM);if(!v?.user)throw new Error("No se obtuvo el usuario de Google.");const b=v.user,T=Be(Fm,"usuarios",b.uid);(await Jt(T)).exists()||await sE(T,{nick:b.displayName||"",correo:b.email,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(v){if(v.code==="auth/popup-closed-by-user"||v.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",v),je.fire({icon:"error",title:"Error",text:v.message||"No se pudo iniciar sesión con Google"})}};return m.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${Ea})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),m.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[m.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),m.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:m.jsx("label",{style:{cursor:"default",display:"inline-block"},children:m.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),m.jsxs("form",{onSubmit:h,children:[m.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&m.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),m.jsxs("div",{className:"cajaContainerContraseña",children:[m.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contraseña",className:"cajacontraseña",required:!0}),m.jsx("img",{src:t?tM:nM,alt:"Mostrar contraseña",className:"toggle-password-icon",onClick:()=>e(v=>!v)})]}),!n&&m.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:m.jsx("button",{type:"button",onClick:f,className:"link-style",children:"¿Has olvidado la contraseña?"})}),n?m.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[m.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesión"}),m.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),m.jsxs("button",{type:"button",onClick:y,className:"btn-google",style:{width:"auto"},children:[m.jsx("img",{src:eM,alt:"Google"}),"Google"]})]})]}),m.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",m.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesión":"Regístrate"})]})]})]})},xg={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebasestorage.googleapis.com",iM="storageBucket",oM=120*1e3,aM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Hs{constructor(e,n,r=0){super($m(e),`Firebase Storage: ${n} (${$m(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zs||(zs={}));function $m(t){return"storage/"+t}function lM(){const t="An unknown error occurred, please check the error payload for server response.";return new qs(zs.UNKNOWN,t)}function cM(){return new qs(zs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uM(){return new qs(zs.CANCELED,"User canceled the upload/download.")}function dM(t){return new qs(zs.INVALID_URL,"Invalid URL '"+t+"'.")}function hM(t){return new qs(zs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function EE(t){return new qs(zs.INVALID_ARGUMENT,t)}function jT(){return new qs(zs.APP_DELETED,"The Firebase app was deleted.")}function fM(t){return new qs(zs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cs.makeFromUrl(e,n)}catch{return new cs(e,"")}if(r.path==="")return r;throw hM(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function y(G){G.path_=decodeURIComponent(G.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",N=new RegExp(`^https?://${b}/${v}/b/${o}/o${T}`,"i"),j={bucket:1,path:3},F=n===LT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",H=new RegExp(`^https?://${F}/${o}/${L}`,"i"),z=[{regex:h,indices:f,postModify:a},{regex:N,indices:j,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let G=0;G<z.length;G++){const ne=z[G],Z=ne.regex.exec(e);if(Z){const k=Z[ne.indices.bucket];let S=Z[ne.indices.path];S||(S=""),r=new cs(k,S),ne.postModify(r);break}}if(r==null)throw dM(e);return r}}class pM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t,e,n){let r=1,o=null,a=null,u=!1,h=0;function f(){return h===2}let y=!1;function v(...L){y||(y=!0,e.apply(null,L))}function b(L){o=setTimeout(()=>{o=null,t(N,f())},L)}function T(){a&&clearTimeout(a)}function N(L,...H){if(y){T();return}if(L){T(),v.call(null,L,...H);return}if(f()||u){T(),v.call(null,L,...H);return}r<64&&(r*=2);let z;h===1?(h=2,z=0):z=(r+Math.random())*1e3,b(z)}let j=!1;function F(L){j||(j=!0,T(),!y&&(o!==null?(L||(h=2),clearTimeout(o),b(0)):L||(h=1)))}return b(0),a=setTimeout(()=>{u=!0,F(!0)},n),F}function gM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){return t!==void 0}function bE(t,e,n,r){if(r<e)throw EE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw EE(`Invalid value for '${t}'. Expected ${n} or less.`)}function wM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Qh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qh||(Qh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,r,o,a,u,h,f,y,v,b,T=!0,N=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=b,this.retry=T,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,F)=>{this.resolve_=j,this.reject_=F,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Yd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,y=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,y)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===Qh.NO_ERROR,f=a.getStatus();if(!h||vM(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Qh.ABORT;r(!1,new Yd(!1,null,v));return}const y=this.successCodes_.indexOf(f)!==-1;r(!0,new Yd(y,a))})},n=(r,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());yM(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=lM();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(o.canceled){const f=this.appDelete_?jT():uM();u(f)}else{const f=cM();u(f)}};this.canceled_?n(!1,new Yd(!1,null,!0)):this.backoffId_=mM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function EM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function TM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function IM(t,e,n,r,o,a,u=!0,h=!1){const f=wM(t.urlParams),y=t.url+f,v=Object.assign({},t.headers);return CM(v,e),EM(v,n),bM(v,a),TM(v,r),new _M(y,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this._service=e,n instanceof cs?this._location=n:this._location=cs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yh(e,n)}get root(){const e=new cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xM(this._location.path)}get storage(){return this._service}get parent(){const e=SM(this._location.path);if(e===null)return null;const n=new cs(this._location.bucket,e);return new Yh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fM(e)}}function CE(t,e){const n=e?.[iM];return n==null?null:cs.makeFromBucketSpec(n,t)}function kM(t,e,n,r={}){t.host=`${e}:${n}`;const o=Ta(e);o&&(Vg(`https://${t.host}/b`),Fg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:ab(a,t.app.options.projectId))}class RM{constructor(e,n,r,o,a,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=LT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oM,this._maxUploadRetryTime=aM,this._requests=new Set,o!=null?this._bucket=cs.makeFromBucketSpec(o,this._host):this._bucket=CE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cs.makeFromBucketSpec(this._url,e):this._bucket=CE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yh(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new pM(jT());{const u=IM(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const TE="@firebase/storage",IE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="storage";function Lu(t=Bg(),e){t=At(t);const r=of(t,MT).getImmediate({identifier:e}),o=sb("storage");return o&&PM(r,...o),r}function PM(t,e,n,r={}){kM(t,e,n,r)}function AM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new RM(n,r,o,e,Ia)}function NM(){fa(new _o(MT,AM,"PUBLIC").setMultipleInstances(!0)),Ls(TE,IE,""),Ls(TE,IE,"esm2020")}NM();function Ul({usuario:t,openModal:e,setOpenModal:n}){const r=Kr(),o=Jn();Lu();const a=t?.fotoPerfil||zt,[u,h]=C.useState(!1),[f,y]=C.useState(!1),[v,b]=C.useState(a),[T,N]=C.useState(null),[j,F]=C.useState(t.nick),[L,H]=C.useState(t.correo),[O,z]=C.useState(""),[G,ne]=C.useState(!1),[Z,k]=C.useState(""),[S,R]=C.useState(""),P=C.useRef();C.useEffect(()=>{e&&(b(t.fotoPerfil),N(null),F(t.nick),H(t.correo),z(""),k(t.nick),R(t.correo))},[e,t]),C.useEffect(()=>{const X=j!==Z||L!==S||O.length>0||T!==null;y(X)},[j,L,O,T,Z,S]);const M=async()=>{const X=r.currentUser?.email;if(!X){je.fire("Error","No se encontró un correo asociado al usuario","error");return}try{await Mb(r,X),await je.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(le){je.fire("Error",le.message,"error")}},U=X=>X.toLocaleString("es-ES")+"€",A=X=>{X.target===P.current&&n(!1)},Pe=X=>{const le=X.target.files[0];if(!le)return;N(le);const ee=new FileReader;ee.onloadend=()=>b(ee.result),ee.readAsDataURL(le)},Te=async()=>{try{ne(!0);const X=r.currentUser;let le=t.fotoPerfil;if(T){if(T.size>1*1024*1024){await je.fire({icon:"error",title:"Error",text:"La imagen es demasiado grande (máx. 1 MB)."});return}const x=new FormData;x.append("file",T),x.append("upload_preset","perfil_preset");const fe=await(await fetch("https://api.cloudinary.com/v1_1/drmoefeeq/image/upload",{method:"POST",body:x})).json();if(fe.secure_url)le=fe.secure_url;else{je.fire({icon:"error",title:"Error",text:"Error subiendo a Cloudinary"});return}}j!==t.nick&&await Vb(X,{displayName:j}),O&&await dR(X,O);const ee=Be(o,"usuarios",X.uid);await ct(ee,{fotoPerfil:le,nick:j}),await je.fire("Datos actualizados","Se han guardado sus modificaciones correctamente.","success")}catch(X){console.error("Error guardando perfil:",X),alert("No se pudo guardar los cambios: "+X.message)}finally{ne(!1),window.location.reload()}},Ne=async()=>{const X=r.currentUser;if(!X)throw new Error("No hay usuario autenticado.");const le=X.uid;if(X.providerData[0].providerId==="password"){const{value:se}=await je.fire({title:"Confirma tu contraseña",input:"password",inputLabel:"Introduce tu contraseña para continuar",inputPlaceholder:"Tu contraseña",inputAttributes:{autocapitalize:"off",autocorrect:"off"},showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"});if(!se)throw new Error("Se canceló la reautenticación");const fe=Sa.credential(X.email,se);await aR(X,fe)}else if(X.providerData[0].providerId==="google.com"){const se=new Os;await MR(X,se)}else throw new Error("Proveedor no soportado para reautenticación.");const ee=Af(hr(o,"jugadores"),Df("dueños","array-contains",le)),$=(await hs(ee)).docs.map(async se=>{const fe=se.ref;await ct(fe,{stockLibre:va(1),dueños:Vl(le)})});await Promise.all($);const te=Be(o,"usuarios",le);await IC(te),await gR(X)},Le=async()=>{if((await je.fire({title:"¿Estás seguro?",text:"Esta acción eliminará tu cuenta permanentemente. No podrás deshacerlo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, borrar cuenta",cancelButtonText:"Cancelar"})).isConfirmed)try{ne(!0),await Ne(),await je.fire("Cuenta eliminada","Tu cuenta ha sido borrada exitosamente.","success")}catch(le){console.error("Error al borrar la cuenta:",le),je.fire("Error","No se pudo borrar la cuenta: "+le.message,"error")}finally{ne(!1)}};return e?m.jsx("div",{className:"modal-overlay",ref:P,onClick:A,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsxs("label",{className:"modal-avatar",children:[m.jsx("img",{src:v,alt:"Perfil"}),m.jsx("input",{type:"file",accept:"image/*",onChange:Pe}),m.jsx("span",{className:"modal-avatar-overlay",children:"Editar"})]}),m.jsxs("div",{className:"modal-userinfo",children:[m.jsx("h2",{children:t.nick}),m.jsx("small",{children:t.correo}),m.jsxs("small",{children:["Dinero: ",m.jsx("span",{className:"dinero-verde",children:U(t.dinero)})]}),m.jsx("div",{className:"ultimas-jornadas",children:t.puntuaciones&&t.puntuaciones.length>0?t.puntuaciones.slice(-5).map((X,le,ee)=>{const x=X??"-",$=ee.length<5?le+1:t.puntuaciones.length-5+le+1;let te="";return typeof X=="number"&&(X>=36?te="verde":X<28?te="rojo":te="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",$]}),m.jsx("div",{className:`jornada-cuadro ${te}`,children:x})]},le)}):[...Array(5)].map((X,le)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",le+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},le))})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-body",children:[m.jsxs("div",{className:"field-group",children:[m.jsxs("label",{children:["Nick ",m.jsx("small",{children:"(Recomendado máximo 12 caracteres)"})]}),m.jsxs("div",{className:"field-with-icon",children:[m.jsx("input",{type:"text",value:j,onChange:X=>F(X.target.value),disabled:!u}),m.jsx("button",{className:"icon-pencil",onClick:()=>h(!u),title:"Editar nick",children:"✎"})]})]}),m.jsx("div",{style:{textAlign:"left"},children:m.jsx("button",{type:"button",onClick:M,className:"link-style",children:"Cambiar contraseña"})})]}),m.jsxs("div",{className:"modal-footer",children:[f&&m.jsx("button",{className:"modal-save-btn",onClick:Te,disabled:G,children:G?"Guardando…":"Guardar cambios"}),m.jsx("button",{className:"modal-delete-btn",onClick:Le,disabled:G,children:"Borrar cuenta"})]})]})}):null}function DM({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,user:o,edicionActiva:a}){Kr();const u=Jn();Lu();const h=t?.foto||zt,[f,y]=C.useState(null),v=async()=>{if(!t||!o)return;if(!a){await je.fire({icon:"error",title:"Jornada Empezada",text:"No se puede vender con la jornada empezada.",confirmButtonText:"Ok"});return}const H=Math.round(t.precio*.6),O=Be(u,"usuarios",o.uid),z=Be(u,"jugadores",t.id);try{await ct(O,{dinero:va(H)}),await ct(z,{stockLibre:va(1),dueños:Vl(o.uid)});const G=await Jt(O);if(G.exists()){const ne=G.data(),Z=ne.equipo.titulares.map(S=>S.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:S),k=ne.equipo.banquillo.map(S=>S.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:S);await ct(O,{"equipo.titulares":Z,"equipo.banquillo":k})}await Eg(hr(u,"historial"),{tipo:"venta directa",vendedorNombre:o.nick,compradorNombre:"",jugadorNombre:t.nombre,fotoJugador:t?.foto,precio:H,fecha:new Date}),await je.fire({icon:"success",title:"¡Jugador vendido!",html:`Has recibido <strong>${H.toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"}),window.location.reload()}catch(G){console.error("Error en la venta:",G),await je.fire({icon:"error",title:"Error",text:"No se pudo completar la venta.",confirmButtonText:"Ok"})}},b=()=>{const H=Math.round(t.precio*.6);je.fire({title:"¿Cómo quieres vender?",showDenyButton:!0,confirmButtonText:"💰 Poner en el Mercado",denyButtonText:`Venta Directa
(<span style="color:#2ecc71">+${H.toLocaleString("es-ES")}€</span>)`,confirmButtonColor:"#28a745",denyButtonColor:"#4878a4ff",background:"#1e1e1e",color:"#fff"}).then(O=>{O.isConfirmed?console.log("Venta en mercado"):O.isDenied&&(v(),console.log("Venta directa por",H))})},T=H=>{switch(H){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return H||"Sin posición"}},N=C.useRef();C.useEffect(()=>{(async()=>{if(!o)return;const O=Be(u,"usuarios",o.uid),z=await Jt(O);if(z.exists()){const G=z.data();y(G.equipo?.capitan||null)}})()},[o,u,n]);const j=async H=>{try{const O=Be(u,"usuarios",o.uid);await ct(O,{"equipo.capitan":H}),y(H),await je.fire({icon:"success",title:"¡Capitán asignado!",text:`${t.nombre} ahora es tu capitán.`,confirmButtonColor:"#28a745"})}catch(O){console.error("Error al asignar capitán:",O),je.fire({icon:"error",title:"Error",text:"No se pudo asignar el capitán, inténtalo de nuevo."})}finally{window.location.reload()}},F=H=>{H.target===N.current&&r(!1)},L=H=>H.toLocaleString("es-ES")+"€";return n?m.jsx("div",{className:"modal-overlay",ref:N,onClick:F,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:h,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:T(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",L(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const H=t.historialPrecios||[];if(H.length===0)return m.jsx("small",{children:"(±0€)"});const O=H[H.length-1].precio||0,z=t.precio-O,G=z>0?"+":z<0?"-":"±";return m.jsxs("small",{className:z>0?"subida":z<0?"bajada":"igual",children:["(",G,L(Math.abs(z)),")"]})})()})]}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",L(e)]})}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Media de puntos:"})," ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(H=>typeof H=="number").reduce((H,O,z,G)=>H+O/G.length,0).toFixed(2):"-"]})})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((H,O,z)=>{const G=H??"-",ne=z.length<5?O+1:t.puntosPorJornada.length-5+O+1;let Z="";return typeof H=="number"&&(H>=9?Z="verde":H<7?Z="rojo":Z="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",ne]}),m.jsx("div",{className:`jornada-cuadro ${Z}`,children:G})]},O)}):[...Array(5)].map((H,O)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",O+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},O))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoración"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:a?m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn-accion",onClick:()=>b(),children:"Vender"}),m.jsx("button",{className:"btn-capitan",disabled:f===t.id,onClick:()=>j(t.id),children:f===t.id?"Ya es capitán":"Nombrar capitán"})]}):m.jsx("button",{className:"btn-accion",disabled:!0,children:"🔒 Jornada empezada"})})]})}):null}const co=Jn(kn),OM=async()=>{try{const t=Be(co,"mercado","actual"),e=await Jt(t);if(e.exists()){const f=e.data();for(const y of f.jugadores)if(y.stock>0){const v=Be(co,"jugadores",y.idJugador);await ct(v,{stockLibre:va(y.stock),dueños:Vl("mercado")})}}const o=(await hs(hr(co,"jugadores"))).docs.map(f=>({idJugador:f.id,...f.data()})).filter(f=>f.stockLibre>0).sort(()=>.5-Math.random()).slice(0,15);for(const f of o){const y=Be(co,"jugadores",f.idJugador);await ct(y,{stockLibre:va(-1),dueños:Vy("mercado")})}await ct(t,{jugadores:o.map(f=>({idJugador:f.idJugador,nombre:f.nombre,precio:f.precio,precioClausula:f.precioClausula,goles:f.goles,asistencias:f.asistencias,valoracion:f.valoracion,nota:f.nota,puntos:f.puntosTotales,partidos:f.partidos,foto:f.foto,posicion:f.posicion,vendedor:"Fantasy Casadillos",stock:1,historialPrecios:f.historialPrecios||[],puntosPorJornada:f.puntosPorJornada||[]})),ultimaActualizacion:MN()});const a=hr(co,"mercado/actual/usuarios"),h=(await hs(a)).docs.map(f=>({idVenta:f.id,...f.data(),vendedor:f.data().vendedorNick||"Usuario"}));return[...o,...h]}catch(t){throw console.error("Error al refrescar mercado:",t),t}},LM=async()=>{try{const t=Be(co,"mercado","actual"),e=await Jt(t);if(!e.exists())return;const n=e.data();for(const a of n.jugadores||[])if(a.vendedor==="Fantasy Casadillos"){const u=Be(co,"jugadores",a.idJugador);await ct(u,{stockLibre:va(a.stock||1),dueños:Vl("mercado")})}const r=hr(co,"mercado/actual/usuarios"),o=await hs(r);for(const a of o.docs)await IC(a.ref);return await ct(t,{jugadores:[],ultimaActualizacion:null}),!0}catch(t){throw console.error("Error al resetear mercado:",t),t}};function Bl({user:t,openModal:e,setOpenModal:n}){Kr();const r=Jn();Lu();const o=C.useRef(),[a,u]=C.useState(!1),[h,f]=C.useState(!1),y=v=>{v.target===o.current&&n(!1)};return e?m.jsx("div",{className:"modal-overlay",ref:o,onClick:y,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),m.jsxs("div",{className:"modal-footer-grid",children:[m.jsx("button",{type:"button",className:"modal-admin-btn",disabled:a,onClick:async()=>{u(!0);try{await OM(),(await je.fire({title:"Mercado actualizado",text:"Se ha refrescado el mercado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch(v){console.error(v),await je.fire({title:"Error",text:"No se pudo actualizar el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{u(!1)}},children:a?"⏳ Cargando...":"🔄 Actualizar mercado"}),m.jsx("button",{type:"button",className:"modal-admin-btn",disabled:h,onClick:async()=>{f(!0);try{await LM(),(await je.fire({title:"Éxito",text:"El mercado se ha reseteado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch{await je.fire({title:"Error",text:"No se pudo resetear el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{f(!1)}},children:h?"⏳ Reseteando...":"♻️ Resetear mercado"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Be(r,"admin","controles");await ct(v,{edicionActiva:!1}),await je.fire({title:"Jornada iniciada",text:"Se han bloqueado los cambios de formaciones y mercado",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al empezar jornada:",v),await je.fire({title:"Error",text:"No se pudo empezar la jornada",icon:"error",confirmButtonText:"Aceptar"})}},children:"⏱️ Empezar jornada"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Be(r,"admin","controles");await ct(v,{edicionActiva:!0}),await ct(v,{clausulaPermitida:!0}),await je.fire({title:"Jornada finalizada",text:"Se han repartido los puntos y desbloqueado la edición",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al finalizar la jornada:",v),await je.fire({title:"Error",text:"No se pudo acabar la jornada",icon:"error",confirmButtonText:"Aceptar"})}},children:"📊 Repartir puntos"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Be(r,"admin","controles");await ct(v,{clausulaPermitida:!0}),await je.fire({title:"Cláusulas activadas",text:"Los jugadores pueden ser comprados por cláusula",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al activar cláusulas:",v),await je.fire({title:"Error",text:"No se pudo activar la cláusula",icon:"error",confirmButtonText:"Aceptar"})}},children:"📝 Activar cláusulas"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Be(r,"admin","controles");await ct(v,{clausulaPermitida:!1}),await je.fire({title:"Cláusulas desactivadas",text:"Las cláusulas de rescisión han sido bloqueadas",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al desactivar cláusulas:",v),await je.fire({title:"Error",text:"No se pudo desactivar la cláusula",icon:"error",confirmButtonText:"Aceptar"})}},children:"🚫 Bloquear cláusulas"})]})]})}):null}const no=Jn(kn),SE=Kr(kn),jM={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function xE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=jM[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function MM({usuario:t}){const[e,n]=C.useState(!1),[r,o]=C.useState(null),[a,u]=C.useState(!1),h=t?.fotoPerfil||zt,f=t?.equipo?.titulares||[],y=t?.equipo?.banquillo||[],[v,b]=C.useState(f),[T,N]=C.useState(y),[j,F]=C.useState([]),[L,H]=C.useState(null),O=t?.equipo?.capitan||"",z=Object.keys(xg),[G,ne]=C.useState(t?.equipo?.formacion||"2-1-1"),[Z,k]=C.useState(G),[S,R]=C.useState(!1),[P,M]=C.useState(!1),[U,A]=C.useState(t?.equipocreado),[Pe,Te]=C.useState(!1),[Ne,Le]=C.useState(!1),[X,le]=C.useState(!1),[ee,x]=C.useState(!1),$=C.useRef(null),te=()=>vu(SE),[se,fe]=C.useState(!1),[pe,Ce]=C.useState(null),[Ae,He]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const we=Be(no,"admin","controles"),st=await Jt(we);if(st.exists()){const De=st.data();He(De.edicionActiva===!0)}}catch(we){console.error("Error al obtener estado de edición:",we)}})()},[]);const yt=()=>{fe(!se),Ce(null)},bt=(Fe,we,st)=>{if(se)if(st==="titulares"?[...v]:[...T],!pe)Ce({jugadorId:Fe,index:we,tipo:st});else{const{index:De,tipo:qe}=pe,wt=qe==="titulares"?v[De]:T[De],Ge=st==="titulares"?v[we]:T[we];if(wt===null&&Ge===null){Ce(null);return}if(qe==="titulares"&&st==="titulares"){const Xe=[...v];[Xe[De],Xe[we]]=[Xe[we],Xe[De]],b(Xe)}else if(qe==="banquillo"&&st==="banquillo"){const Xe=[...T];[Xe[De],Xe[we]]=[Xe[we],Xe[De]],N(Xe)}else{const Xe=[...v],Ze=[...T];qe==="titulares"?[Xe[De],Ze[we]]=[Ze[we],Xe[De]]:[Ze[De],Xe[we]]=[Xe[we],Ze[De]],b(Xe),N(Ze)}M(!0),Ce(null)}};C.useEffect(()=>{const Fe=we=>{$.current&&!$.current.contains(we.target)&&x(!1)};return document.addEventListener("mousedown",Fe),()=>{document.removeEventListener("mousedown",Fe)}},[]);const St=Fe=>{k(Fe.target.value)},$n=async()=>{try{R(!0);const Fe=Be(no,"usuarios",t.uid);await ct(Fe,{"equipo.formacion":Z,"equipo.titulares":v,"equipo.banquillo":T}),ne(Z),M(!1)}catch(Fe){console.error("Error al guardar formación:",Fe)}finally{R(!1),fe(!1)}},Un=()=>{u(!a)},fr=Fe=>Fe.toLocaleString("es-ES")+"€",Jr=async()=>{try{R(!0);const Fe=await hs(hr(no,"jugadores"));let we=[];if(Fe.forEach(Ze=>{const et=Ze.data();et.stockLibre>0&&we.push({id:Ze.id,...et})}),we.length<4){await je.fire({icon:"warning",title:"No hay suficientes jugadores disponibles",text:"Se necesitan al menos 4 jugadores con stock para crear un equipo.",confirmButtonText:"Entendido"}),R(!1);return}const st=we.filter(Ze=>Ze.precio>15e6&&Ze.precio<=4e7),De=we.filter(Ze=>Ze.precio<=15e6);let qe=[],wt=0;if(st.length>=1&&De.length>=3){const Ze=Math.floor(Math.random()*st.length);qe.push(st[Ze]);for(let et=0;et<3;et++){const vt=Math.floor(Math.random()*De.length);qe.push(De[vt]),De.splice(vt,1)}}else{const Ze=we.filter(et=>et.precio<=4e7);if(Ze.length<4){await je.fire({icon:"error",title:"No hay jugadores válidos",text:"No hay suficiente stock para crear un equipo bajo las condiciones establecidas.",confirmButtonText:"Ok"}),R(!1);return}for(let et=0;et<4;et++){const vt=Math.floor(Math.random()*Ze.length);qe.push(Ze[vt]),Ze.splice(vt,1)}qe.every(et=>et.precio<15e6)&&(wt=1e7)}const Ge=qe.map(async Ze=>{const et=Be(no,"jugadores",Ze.id);return ct(et,{stockLibre:Ze.stockLibre-1,dueños:Vy(t.uid)})});await Promise.all(Ge);const Xe=Be(no,"usuarios",t.uid);await ct(Xe,{"equipo.titulares":qe.map(Ze=>({jugadorId:Ze.id,clausulaPersonal:Ze.precioClausula})),"equipo.banquillo":[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],equipocreado:!0,...wt>0&&{dinero:increment(wt)}}),A(!0)}catch(Fe){console.error("Error al crear equipo:",Fe),await je.fire({icon:"error",title:"Error al crear el equipo",text:"Inténtalo de nuevo más tarde."})}finally{R(!1),window.location.reload()}};return C.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const we=setTimeout(async()=>{try{const st=Be(no,"usuarios",SE.currentUser.uid);await ct(st,{onboarding:!0}),window.location.reload()}catch(st){console.error("Error actualizando onboarding:",st)}},500);return()=>clearTimeout(we)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const we=Be(no,"usuarios",t.uid);Jt(we).then(st=>{st.exists()&&o(st.data().dinero)})}(async()=>{const we=[...f?.map(Ge=>Ge?.jugadorId)||[],...y?.map(Ge=>Ge?.jugadorId)||[]].filter(Boolean);if(we.length===0)return;const st=hr(no,"jugadores"),De=[];for(let Ge=0;Ge<we.length;Ge+=10){const Xe=we.slice(Ge,Ge+10),Ze=Af(st,Df("__name__","in",Xe));De.push(hs(Ze))}const wt=(await Promise.all(De)).flatMap(Ge=>Ge.docs.map(Xe=>({id:Xe.id,...Xe.data()})));F(wt)})()},[t],[f,y]),U?m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:Fe=>{Fe.currentTarget.onerror=null,Fe.currentTarget.src=zt},alt:"Foto de perfil",onClick:()=>x(!ee),onMouseEnter:()=>x(!0)}),ee&&m.jsxs("div",{className:"perfil-bocadillo",ref:$,onMouseLeave:()=>x(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{Te(!0),x(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:te,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{le(!0),x(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:fr(r)})]})]})]}),m.jsx("button",{onClick:Un,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Pe&&m.jsx(Ul,{usuario:t,openModal:Pe,setOpenModal:Te}),X&&m.jsx(Bl,{usuario:t,openModal:X,setOpenModal:le}),Ne&&L&&m.jsx(DM,{jugador:L,clausulaPersonal:t?.equipo?.titulares?.find(Fe=>Fe.jugadorId===L.id)?.clausulaPersonal??t?.equipo?.banquillo?.find(Fe=>Fe.jugadorId===L.id)?.clausulaPersonal,openModal:Ne,setOpenModal:Le,user:t,edicionActiva:Ae}),m.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[m.jsxs("div",{className:"formacion-selector",children:[m.jsx("label",{htmlFor:"formacion-select",children:"Formación:"}),m.jsx("select",{id:"formacion-select",value:Z,onChange:St,disabled:!Ae,children:z.map(Fe=>m.jsx("option",{value:Fe,children:Fe},Fe))}),(Z!==G||P)&&m.jsx("button",{onClick:$n,disabled:S,children:S?"Guardando...":"Guardar"})]}),m.jsx("div",{className:"modo-edicion-buttons",children:m.jsx("button",{onClick:yt,disabled:!Ae,children:Ae?se?"Desactivar modo edición":"Activar modo edición":"🔒 Jornada Empezada"})}),m.jsx("div",{className:"campo",children:xg[Z]?.map((Fe,we)=>{const st=v[we],De=st?.jugadorId||null;st?.clausulaPersonal;const qe=j.find(Ge=>Ge.id===De),wt=pe?.index===we&&pe?.tipo==="titulares";return m.jsxs("div",{className:`jugador ${se?"modo-edicion":""} ${wt?"seleccionado":""}`,style:{position:"absolute",top:Fe.top,left:Fe.left,transform:"translate(-50%, -50%)"},onClick:()=>{se?bt(qe?.id||null,we,"titulares"):qe&&(Le(!0),H(qe))},children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:qe?.foto||zt,alt:qe?.nombre||"Vacío",className:"jugador-img",style:xE(qe,we,Z).style}),(()=>{const{status:Ge}=xE(qe,we,Z);if(!Ge)return null;if(Ge==="green")return m.jsx("div",{className:"status-badge green",children:"✓"});if(Ge==="orange")return m.jsx("div",{className:"status-badge orange",children:"!"});if(Ge==="red")return m.jsx("div",{className:"status-badge red",children:"✕"})})(),O===qe?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!qe?.puntosPorJornada?.length)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const Ge=qe.puntosPorJornada[qe.puntosPorJornada.length-1];if(Ge==null)return null;let Xe=Ge==="-"?"gray":Ge<7?"red":Ge<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${Xe}`,children:Ge})})()]}),m.jsx("p",{className:"jugador-nombre",children:qe?.nombre||"Vacío"})]},qe?.id||we)})}),m.jsxs("div",{className:"banquillo-section",children:[m.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),m.jsx("div",{className:"banquillo-container",children:T.map((Fe,we)=>{const st=Fe?.jugadorId||null,De=j.find(wt=>wt.id===st),qe=pe?.index===we&&pe?.tipo==="banquillo";return m.jsx("div",{className:`banquillo-slot ${se?"modo-edicion":""} ${qe?"seleccionado":""}`,onClick:()=>{se?bt(De?.id||null,we,"banquillo"):De&&(Le(!0),H(De))},children:De?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:De?.foto||zt,alt:De?.nombre||"Vacío",className:"jugador-img"}),O===De?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!De?.puntosPorJornada?.length)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const wt=De.puntosPorJornada[De.puntosPorJornada.length-1];if(wt==null)return null;let Ge=wt==="-"?"gray":wt<7?"red":wt<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${Ge}`,children:wt})})()]}),m.jsx("p",{className:"jugador-nombre-banquillo",children:De?.nombre})]}):m.jsx(ht,{to:se?"#":"/mercado",className:`banquillo-add ${se?"disabled":""}`,onClick:wt=>{se&&wt.preventDefault()},children:"+"})},De?.id||we)})})]})]})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]}):m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:Fe=>{Fe.currentTarget.onerror=null,Fe.currentTarget.src=zt},alt:"Foto de perfil",onClick:()=>x(!ee),onMouseEnter:()=>x(!0)}),ee&&m.jsxs("div",{className:"perfil-bocadillo",ref:$,onMouseLeave:()=>x(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{Te(!0),x(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:te,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{le(!0),x(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:fr(r)})]})]})]}),m.jsx("button",{onClick:Un,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Pe&&m.jsx(Ul,{usuario:t,openModal:Pe,setOpenModal:Te}),X&&m.jsx(Bl,{usuario:t,openModal:X,setOpenModal:le}),m.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:m.jsx("div",{className:"campo",children:m.jsx("button",{className:"crear-equipo-btn",onClick:Jr,disabled:S,children:S?"Creando equipo...":"Crear equipo"})})})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}function VM({jugador:t,openModal:e,setOpenModal:n}){Kr(),Jn(),Lu();const r=t?.foto||zt,o=f=>{switch(f){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return f||"Sin posición"}},a=C.useRef(),u=f=>{f.target===a.current&&n(!1)},h=f=>typeof f!="number"||isNaN(f)?"—":f.toLocaleString("es-ES")+"€";return e?(console.log("DEBUG jugador en modal:",t),m.jsx("div",{className:"modal-overlay",ref:a,onClick:u,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:r,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:o(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",h(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const f=t.historialPrecios||[];if(f.length===0)return m.jsx("small",{children:"(±0€)"});const y=f[f.length-1].precio||0,v=t.precio-y,b=v>0?"+":v<0?"-":"±";return m.jsxs("small",{className:v>0?"subida":v<0?"bajada":"igual",children:["(",b,h(Math.abs(v)),")"]})})()})]}),m.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",m.jsx("span",{className:"vendedor",children:t?.vendedor})]}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos: ",m.jsxs("span",{className:"media",children:[" ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(f=>typeof f=="number").reduce((f,y,v,b)=>f+y/b.length,0).toFixed(2):"-"]})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((f,y,v)=>{const b=f??"-",T=v.length<5?y+1:t.puntosPorJornada.length-5+y+1;let N="";return typeof f=="number"&&(f>=9?N="verde":f<7?N="rojo":N="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",T]}),m.jsx("div",{className:`jornada-cuadro ${N}`,children:b})]},y)}):[...Array(5)].map((f,y)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",y+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},y))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoración"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]})]})})):null}const di=Jn(kn),Um=Kr(kn);function FM({usuario:t}){const[e,n]=C.useState(!1),[r,o]=C.useState(null),[a,u]=C.useState(!1),h=t?.fotoPerfil||zt,f=t?.equipo?.titulares||[],[y,v]=C.useState(!1);t?.equipo?.banquillo;const[b,T]=C.useState([]),[N,j]=C.useState([]),[F,L]=C.useState(!1),[H,O]=C.useState(!1),[z,G]=C.useState(!1),[ne,Z]=C.useState(!1),[k,S]=C.useState(null),[R,P]=C.useState(!1),[M,U]=C.useState(!1),A=C.useRef(null),[Pe,Te]=C.useState("mercado"),Ne=()=>vu(Um);C.useEffect(()=>{(async()=>{try{const $=Be(di,"admin","controles"),te=await Jt($);if(te.exists()){const se=te.data();U(se.edicionActiva===!0)}}catch($){console.error("Error al obtener estado de edición:",$)}})()},[]),C.useEffect(()=>{const x=$=>{A.current&&!A.current.contains($.target)&&P(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]),C.useEffect(()=>{(async()=>{const $=Be(di,"mercado","actual"),te=await Jt($);if(te.exists()){const fe=(te.data().jugadores||[]).map(pe=>({...pe,vendedor:pe.vendedor||"Fantasy Casadillos"}));T(fe)}else T([])})()},[]),C.useEffect(()=>{(async()=>{const $=Be(di,"mercado","actual"),te=await Jt($);let se=[];te.exists()&&(se=te.data().jugadores||[]);const fe=hr(di,"mercado/actual/usuarios"),Ce=(await hs(fe)).docs.map(Ae=>({idVenta:Ae.id,...Ae.data(),vendedor:Ae.data().vendedorNick||"Usuario"}));T([...se,...Ce])})()},[]),C.useEffect(()=>{const x=Jn(kn),$=Be(x,"mercado","actual"),te=jN($,se=>{if(se.exists()){const pe=(se.data().jugadores||[]).map(Ce=>({...Ce,vendedor:Ce.vendedor||"Fantasy Casadillos"}));T(pe)}else T([])});return()=>te()},[]);const Le=async x=>{if(x.stock<=0){alert("Ya no queda stock de este jugador");return}const $=Be(di,"mercado","actual"),te=await Jt($);if(!te.exists())return;const fe=te.data().jugadores.map(Ce=>Ce.idJugador===x.idJugador?{...Ce,stock:Ce.stock-1}:Ce);await ct($,{jugadores:fe}),await ct(Be(di,"jugadores",x.idJugador),{stockTotal:va(-1)});const pe=Be(di,"usuarios",Um.currentUser.uid);await ct(pe,{"equipo.banquillo":[...t.equipo?.banquillo||[],x.idJugador]}),T(fe),alert(`Has comprado a ${x.nombre}`)},X=()=>{u(!a)},le=x=>{switch(x){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return x||"Sin posición"}},ee=x=>typeof x!="number"||isNaN(x)?"—":x.toLocaleString("es-ES")+"€";return C.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const x=setTimeout(async()=>{try{const $=Be(di,"usuarios",Um.currentUser.uid);await ct($,{onboarding:!0}),window.location.reload()}catch($){console.error("Error actualizando onboarding:",$)}},500);return()=>clearTimeout(x)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const x=Be(di,"usuarios",t.uid);Jt(x).then($=>{$.exists()&&o($.data().dinero)})}},[t],[f]),m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:x=>{x.currentTarget.onerror=null,x.currentTarget.src=zt},alt:"Foto de perfil",onClick:()=>P(!R),onMouseEnter:()=>P(!0)}),R&&m.jsxs("div",{className:"perfil-bocadillo",ref:A,onMouseLeave:()=>P(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{O(!0),P(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:Ne,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{Z(!0),P(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:ee(r)})]})]})]}),m.jsx("button",{onClick:X,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),H&&m.jsx(Ul,{usuario:t,openModal:H,setOpenModal:O}),ne&&m.jsx(Bl,{usuario:t,openModal:ne,setOpenModal:Z}),z&&k&&m.jsx(VM,{jugador:k,openModal:z,setOpenModal:G}),m.jsxs("div",{className:"tabs-wrapper",children:[m.jsxs("div",{className:"tabs-container",style:{},children:[m.jsx("button",{className:`tab-btn ${Pe==="mercado"?"active":""}`,onClick:()=>Te("mercado"),children:"Mercado"}),m.jsx("button",{className:`tab-btn ${Pe==="operaciones"?"active":""}`,onClick:()=>Te("operaciones"),children:"Mis operaciones"})]}),Pe==="mercado"&&m.jsx("div",{className:"mercado-jugadores",children:b.length===0?m.jsx("div",{className:"sin-mercado",children:m.jsx("p",{children:"No hay mercado disponible"})}):m.jsx("ul",{className:"lista-jugadores",children:b.map(x=>m.jsx("li",{className:"jugador-card",onClick:()=>{S(x),G(!0)},children:m.jsxs("div",{className:"jugador-perfil",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:x.foto||zt,alt:x.nombre,onError:$=>{$.currentTarget.onerror=null,$.currentTarget.src=zt}})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:(window.innerWidth<450,x.nombre)}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${x.posicion}`,children:m.jsx("small",{children:le(x.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",ee(x.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const $=x.historialPrecios||[];if($.length===0)return m.jsx("small",{children:"(±0€)"});const te=$[$.length-1].precio||0,se=x.precio-te,fe=se>0?"+":se<0?"-":"±";return m.jsxs("small",{className:se>0?"subida":se<0?"bajada":"igual",children:["(",fe,ee(Math.abs(se)),")"]})})()})]}),m.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",m.jsx("span",{className:"vendedor",children:x.vendedor})]}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos: ",m.jsxs("span",{className:"media",children:[" ",x.puntosPorJornada&&x.puntosPorJornada.length>0?x.puntosPorJornada.filter($=>typeof $=="number").reduce(($,te,se,fe)=>$+te/fe.length,0).toFixed(2):"-"]})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:x.puntosPorJornada&&x.puntosPorJornada.length>0?x.puntosPorJornada.slice(-5).map(($,te)=>{const se=$??"-",pe=x.puntosPorJornada.length-5+te+1;let Ce="";return typeof $=="number"&&($>=9?Ce="verde":$<7&&(Ce="rojo")),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",pe]}),m.jsx("div",{className:`jornada-cuadro ${Ce}`,children:se})]},te)}):[...Array(5)].map(($,te)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",te+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},te))})})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:m.jsx("button",{className:"btn-comprar",disabled:!M,onClick:$=>{$.stopPropagation(),Le(x)},children:"Pujar por el jugador"})})]})},x.idJugador))})}),Pe==="operaciones"&&m.jsx("div",{className:"operaciones-container",children:m.jsxs("div",{className:"operaciones-animacion",children:[m.jsx("h2",{children:"Mis operaciones pendientes"}),t?.operaciones&&t.operaciones.length>0?m.jsx("ul",{children:t.operaciones.map((x,$)=>m.jsxs("li",{children:[x.tipo," - ",x.jugador," - ",ee(x.cantidad)]},$))}):m.jsx("p",{children:"No tienes operaciones pendientes"})]})})]})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}var Mn=function(){return Mn=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mn.apply(this,arguments)};function Xh(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Rt="-ms-",eu="-moz-",pt="-webkit-",VT="comm",Bf="rule",lw="decl",$M="@import",FT="@keyframes",UM="@layer",$T=Math.abs,cw=String.fromCharCode,kg=Object.assign;function BM(t,e){return wn(t,0)^45?(((e<<2^wn(t,0))<<2^wn(t,1))<<2^wn(t,2))<<2^wn(t,3):0}function UT(t){return t.trim()}function hi(t,e){return(t=e.exec(t))?t[0]:t}function We(t,e,n){return t.replace(e,n)}function ph(t,e,n){return t.indexOf(e,n)}function wn(t,e){return t.charCodeAt(e)|0}function zl(t,e,n){return t.slice(e,n)}function Ds(t){return t.length}function BT(t){return t.length}function Gc(t,e){return e.push(t),t}function zM(t,e){return t.map(e).join("")}function kE(t,e){return t.filter(function(n){return!hi(n,e)})}var zf=1,Hl=1,zT=0,Gr=0,nn=0,ic="";function Hf(t,e,n,r,o,a,u,h){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:zf,column:Hl,length:u,return:"",siblings:h}}function so(t,e){return kg(Hf("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function wl(t){for(;t.root;)t=so(t.root,{children:[t]});Gc(t,t.siblings)}function HM(){return nn}function qM(){return nn=Gr>0?wn(ic,--Gr):0,Hl--,nn===10&&(Hl=1,zf--),nn}function us(){return nn=Gr<zT?wn(ic,Gr++):0,Hl++,nn===10&&(Hl=1,zf++),nn}function da(){return wn(ic,Gr)}function mh(){return Gr}function qf(t,e){return zl(ic,t,e)}function Rg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WM(t){return zf=Hl=1,zT=Ds(ic=t),Gr=0,[]}function GM(t){return ic="",t}function Bm(t){return UT(qf(Gr-1,Pg(t===91?t+2:t===40?t+1:t)))}function KM(t){for(;(nn=da())&&nn<33;)us();return Rg(t)>2||Rg(nn)>3?"":" "}function JM(t,e){for(;--e&&us()&&!(nn<48||nn>102||nn>57&&nn<65||nn>70&&nn<97););return qf(t,mh()+(e<6&&da()==32&&us()==32))}function Pg(t){for(;us();)switch(nn){case t:return Gr;case 34:case 39:t!==34&&t!==39&&Pg(nn);break;case 40:t===41&&Pg(t);break;case 92:us();break}return Gr}function QM(t,e){for(;us()&&t+nn!==57;)if(t+nn===84&&da()===47)break;return"/*"+qf(e,Gr-1)+"*"+cw(t===47?t:us())}function YM(t){for(;!Rg(da());)us();return qf(t,Gr)}function XM(t){return GM(gh("",null,null,null,[""],t=WM(t),0,[0],t))}function gh(t,e,n,r,o,a,u,h,f){for(var y=0,v=0,b=u,T=0,N=0,j=0,F=1,L=1,H=1,O=0,z="",G=o,ne=a,Z=r,k=z;L;)switch(j=O,O=us()){case 40:if(j!=108&&wn(k,b-1)==58){ph(k+=We(Bm(O),"&","&\f"),"&\f",$T(y?h[y-1]:0))!=-1&&(H=-1);break}case 34:case 39:case 91:k+=Bm(O);break;case 9:case 10:case 13:case 32:k+=KM(j);break;case 92:k+=JM(mh()-1,7);continue;case 47:switch(da()){case 42:case 47:Gc(ZM(QM(us(),mh()),e,n,f),f);break;default:k+="/"}break;case 123*F:h[y++]=Ds(k)*H;case 125*F:case 59:case 0:switch(O){case 0:case 125:L=0;case 59+v:H==-1&&(k=We(k,/\f/g,"")),N>0&&Ds(k)-b&&Gc(N>32?PE(k+";",r,n,b-1,f):PE(We(k," ","")+";",r,n,b-2,f),f);break;case 59:k+=";";default:if(Gc(Z=RE(k,e,n,y,v,o,h,z,G=[],ne=[],b,a),a),O===123)if(v===0)gh(k,e,Z,Z,G,a,b,h,ne);else switch(T===99&&wn(k,3)===110?100:T){case 100:case 108:case 109:case 115:gh(t,Z,Z,r&&Gc(RE(t,Z,Z,0,0,o,h,z,o,G=[],b,ne),ne),o,ne,b,h,r?G:ne);break;default:gh(k,Z,Z,Z,[""],ne,0,h,ne)}}y=v=N=0,F=H=1,z=k="",b=u;break;case 58:b=1+Ds(k),N=j;default:if(F<1){if(O==123)--F;else if(O==125&&F++==0&&qM()==125)continue}switch(k+=cw(O),O*F){case 38:H=v>0?1:(k+="\f",-1);break;case 44:h[y++]=(Ds(k)-1)*H,H=1;break;case 64:da()===45&&(k+=Bm(us())),T=da(),v=b=Ds(z=k+=YM(mh())),O++;break;case 45:j===45&&Ds(k)==2&&(F=0)}}return a}function RE(t,e,n,r,o,a,u,h,f,y,v,b){for(var T=o-1,N=o===0?a:[""],j=BT(N),F=0,L=0,H=0;F<r;++F)for(var O=0,z=zl(t,T+1,T=$T(L=u[F])),G=t;O<j;++O)(G=UT(L>0?N[O]+" "+z:We(z,/&\f/g,N[O])))&&(f[H++]=G);return Hf(t,e,n,o===0?Bf:h,f,y,v,b)}function ZM(t,e,n,r){return Hf(t,e,n,VT,cw(HM()),zl(t,2,-2),0,r)}function PE(t,e,n,r,o){return Hf(t,e,n,lw,zl(t,0,r),zl(t,r+1,-1),r,o)}function HT(t,e,n){switch(BM(t,e)){case 5103:return pt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pt+t+t;case 4789:return eu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return pt+t+eu+t+Rt+t+t;case 5936:switch(wn(t,e+11)){case 114:return pt+t+Rt+We(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return pt+t+Rt+We(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return pt+t+Rt+We(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return pt+t+Rt+t+t;case 6165:return pt+t+Rt+"flex-"+t+t;case 5187:return pt+t+We(t,/(\w+).+(:[^]+)/,pt+"box-$1$2"+Rt+"flex-$1$2")+t;case 5443:return pt+t+Rt+"flex-item-"+We(t,/flex-|-self/g,"")+(hi(t,/flex-|baseline/)?"":Rt+"grid-row-"+We(t,/flex-|-self/g,""))+t;case 4675:return pt+t+Rt+"flex-line-pack"+We(t,/align-content|flex-|-self/g,"")+t;case 5548:return pt+t+Rt+We(t,"shrink","negative")+t;case 5292:return pt+t+Rt+We(t,"basis","preferred-size")+t;case 6060:return pt+"box-"+We(t,"-grow","")+pt+t+Rt+We(t,"grow","positive")+t;case 4554:return pt+We(t,/([^-])(transform)/g,"$1"+pt+"$2")+t;case 6187:return We(We(We(t,/(zoom-|grab)/,pt+"$1"),/(image-set)/,pt+"$1"),t,"")+t;case 5495:case 3959:return We(t,/(image-set\([^]*)/,pt+"$1$`$1");case 4968:return We(We(t,/(.+:)(flex-)?(.*)/,pt+"box-pack:$3"+Rt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pt+t+t;case 4200:if(!hi(t,/flex-|baseline/))return Rt+"grid-column-align"+zl(t,e)+t;break;case 2592:case 3360:return Rt+We(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,hi(r.props,/grid-\w+-end/)})?~ph(t+(n=n[e].value),"span",0)?t:Rt+We(t,"-start","")+t+Rt+"grid-row-span:"+(~ph(n,"span",0)?hi(n,/\d+/):+hi(n,/\d+/)-+hi(t,/\d+/))+";":Rt+We(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return hi(r.props,/grid-\w+-start/)})?t:Rt+We(We(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return We(t,/(.+)-inline(.+)/,pt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ds(t)-1-e>6)switch(wn(t,e+1)){case 109:if(wn(t,e+4)!==45)break;case 102:return We(t,/(.+:)(.+)-([^]+)/,"$1"+pt+"$2-$3$1"+eu+(wn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ph(t,"stretch",0)?HT(We(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return We(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,a,u,h,f,y){return Rt+o+":"+a+y+(u?Rt+o+"-span:"+(h?f:+f-+a)+y:"")+t});case 4949:if(wn(t,e+6)===121)return We(t,":",":"+pt)+t;break;case 6444:switch(wn(t,wn(t,14)===45?18:11)){case 120:return We(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+pt+(wn(t,14)===45?"inline-":"")+"box$3$1"+pt+"$2$3$1"+Rt+"$2box$3")+t;case 100:return We(t,":",":"+Rt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return We(t,"scroll-","scroll-snap-")+t}return t}function Zh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function e5(t,e,n,r){switch(t.type){case UM:if(t.children.length)break;case $M:case lw:return t.return=t.return||t.value;case VT:return"";case FT:return t.return=t.value+"{"+Zh(t.children,r)+"}";case Bf:if(!Ds(t.value=t.props.join(",")))return""}return Ds(n=Zh(t.children,r))?t.return=t.value+"{"+n+"}":""}function t5(t){var e=BT(t);return function(n,r,o,a){for(var u="",h=0;h<e;h++)u+=t[h](n,r,o,a)||"";return u}}function n5(t){return function(e){e.root||(e=e.return)&&t(e)}}function r5(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case lw:t.return=HT(t.value,t.length,n);return;case FT:return Zh([so(t,{value:We(t.value,"@","@"+pt)})],r);case Bf:if(t.length)return zM(n=t.props,function(o){switch(hi(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":wl(so(t,{props:[We(o,/:(read-\w+)/,":"+eu+"$1")]})),wl(so(t,{props:[o]})),kg(t,{props:kE(n,r)});break;case"::placeholder":wl(so(t,{props:[We(o,/:(plac\w+)/,":"+pt+"input-$1")]})),wl(so(t,{props:[We(o,/:(plac\w+)/,":"+eu+"$1")]})),wl(so(t,{props:[We(o,/:(plac\w+)/,Rt+"input-$1")]})),wl(so(t,{props:[o]})),kg(t,{props:kE(n,r)});break}return""})}}var s5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tr={},ql=typeof process<"u"&&Tr!==void 0&&(Tr.REACT_APP_SC_ATTR||Tr.SC_ATTR)||"data-styled",qT="active",WT="data-styled-version",Wf="6.1.19",uw=`/*!sc*/
`,ef=typeof window<"u"&&typeof document<"u",i5=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Tr!==void 0&&Tr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Tr.REACT_APP_SC_DISABLE_SPEEDY!==""?Tr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Tr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Tr!==void 0&&Tr.SC_DISABLE_SPEEDY!==void 0&&Tr.SC_DISABLE_SPEEDY!==""&&Tr.SC_DISABLE_SPEEDY!=="false"&&Tr.SC_DISABLE_SPEEDY),Gf=Object.freeze([]),Wl=Object.freeze({});function o5(t,e,n){return n===void 0&&(n=Wl),t.theme!==n.theme&&t.theme||e||n.theme}var GT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),a5=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,l5=/(^-|-$)/g;function AE(t){return t.replace(a5,"-").replace(l5,"")}var c5=/(a)(d)/gi,Xd=52,NE=function(t){return String.fromCharCode(t+(t>25?39:97))};function Ag(t){var e,n="";for(e=Math.abs(t);e>Xd;e=e/Xd|0)n=NE(e%Xd)+n;return(NE(e%Xd)+n).replace(c5,"$1-$2")}var zm,KT=5381,Cl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},JT=function(t){return Cl(KT,t)};function u5(t){return Ag(JT(t)>>>0)}function d5(t){return t.displayName||t.name||"Component"}function Hm(t){return typeof t=="string"&&!0}var QT=typeof Symbol=="function"&&Symbol.for,YT=QT?Symbol.for("react.memo"):60115,h5=QT?Symbol.for("react.forward_ref"):60112,f5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},p5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},XT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},m5=((zm={})[h5]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zm[YT]=XT,zm);function DE(t){return("type"in(e=t)&&e.type.$$typeof)===YT?XT:"$$typeof"in t?m5[t.$$typeof]:f5;var e}var g5=Object.defineProperty,y5=Object.getOwnPropertyNames,OE=Object.getOwnPropertySymbols,w5=Object.getOwnPropertyDescriptor,v5=Object.getPrototypeOf,LE=Object.prototype;function ZT(t,e,n){if(typeof e!="string"){if(LE){var r=v5(e);r&&r!==LE&&ZT(t,r,n)}var o=y5(e);OE&&(o=o.concat(OE(e)));for(var a=DE(t),u=DE(e),h=0;h<o.length;++h){var f=o[h];if(!(f in p5||n&&n[f]||u&&f in u||a&&f in a)){var y=w5(e,f);try{g5(t,f,y)}catch{}}}}return t}function ba(t){return typeof t=="function"}function dw(t){return typeof t=="object"&&"styledComponentId"in t}function aa(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function jE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function hu(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Ng(t,e,n){if(n===void 0&&(n=!1),!n&&!hu(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Ng(t[r],e[r]);else if(hu(e))for(var r in e)t[r]=Ng(t[r],e[r]);return t}function hw(t,e){Object.defineProperty(t,"toString",{value:e})}function Ca(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var _5=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,a=o;e>=a;)if((a<<=1)<0)throw Ca(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var u=o;u<a;u++)this.groupSizes[u]=0}for(var h=this.indexOfGroup(e+1),f=(u=0,n.length);u<f;u++)this.tag.insertRule(h,n[u])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var a=r;a<o;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),a=o+r,u=o;u<a;u++)n+="".concat(this.tag.getRule(u)).concat(uw);return n},t})(),yh=new Map,tf=new Map,wh=1,Zd=function(t){if(yh.has(t))return yh.get(t);for(;tf.has(wh);)wh++;var e=wh++;return yh.set(t,e),tf.set(e,t),e},E5=function(t,e){wh=e+1,yh.set(t,e),tf.set(e,t)},b5="style[".concat(ql,"][").concat(WT,'="').concat(Wf,'"]'),C5=new RegExp("^".concat(ql,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),T5=function(t,e,n){for(var r,o=n.split(","),a=0,u=o.length;a<u;a++)(r=o[a])&&t.registerName(e,r)},I5=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(uw),o=[],a=0,u=r.length;a<u;a++){var h=r[a].trim();if(h){var f=h.match(C5);if(f){var y=0|parseInt(f[1],10),v=f[2];y!==0&&(E5(v,y),T5(t,v,f[3]),t.getTag().insertRules(y,o)),o.length=0}else o.push(h)}}},ME=function(t){for(var e=document.querySelectorAll(b5),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute(ql)!==qT&&(I5(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function S5(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var eI=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=(function(h){var f=Array.from(h.querySelectorAll("style[".concat(ql,"]")));return f[f.length-1]})(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(ql,qT),r.setAttribute(WT,Wf);var u=S5();return u&&r.setAttribute("nonce",u),n.insertBefore(r,a),r},x5=(function(){function t(e){this.element=eI(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,a=r.length;o<a;o++){var u=r[o];if(u.ownerNode===n)return u}throw Ca(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),k5=(function(){function t(e){this.element=eI(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),R5=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),VE=ef,P5={isServer:!ef,useCSSOMInjection:!i5},tI=(function(){function t(e,n,r){e===void 0&&(e=Wl),n===void 0&&(n={});var o=this;this.options=Mn(Mn({},P5),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&ef&&VE&&(VE=!1,ME(this)),hw(this,function(){return(function(a){for(var u=a.getTag(),h=u.length,f="",y=function(b){var T=(function(H){return tf.get(H)})(b);if(T===void 0)return"continue";var N=a.names.get(T),j=u.getGroup(b);if(N===void 0||!N.size||j.length===0)return"continue";var F="".concat(ql,".g").concat(b,'[id="').concat(T,'"]'),L="";N!==void 0&&N.forEach(function(H){H.length>0&&(L+="".concat(H,","))}),f+="".concat(j).concat(F,'{content:"').concat(L,'"}').concat(uw)},v=0;v<h;v++)y(v);return f})(o)})}return t.registerId=function(e){return Zd(e)},t.prototype.rehydrate=function(){!this.server&&ef&&ME(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Mn(Mn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new R5(o):r?new x5(o):new k5(o)})(this.options),new _5(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Zd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Zd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Zd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),A5=/&/g,N5=/^\s*\/\/.*$/gm;function nI(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=nI(n.children,e)),n})}function D5(t){var e,n,r,o=Wl,a=o.options,u=a===void 0?Wl:a,h=o.plugins,f=h===void 0?Gf:h,y=function(T,N,j){return j.startsWith(n)&&j.endsWith(n)&&j.replaceAll(n,"").length>0?".".concat(e):T},v=f.slice();v.push(function(T){T.type===Bf&&T.value.includes("&")&&(T.props[0]=T.props[0].replace(A5,n).replace(r,y))}),u.prefix&&v.push(r5),v.push(e5);var b=function(T,N,j,F){N===void 0&&(N=""),j===void 0&&(j=""),F===void 0&&(F="&"),e=F,n=N,r=new RegExp("\\".concat(n,"\\b"),"g");var L=T.replace(N5,""),H=XM(j||N?"".concat(j," ").concat(N," { ").concat(L," }"):L);u.namespace&&(H=nI(H,u.namespace));var O=[];return Zh(H,t5(v.concat(n5(function(z){return O.push(z)})))),O};return b.hash=f.length?f.reduce(function(T,N){return N.name||Ca(15),Cl(T,N.name)},KT).toString():"",b}var O5=new tI,Dg=D5(),rI=Ke.createContext({shouldForwardProp:void 0,styleSheet:O5,stylis:Dg});rI.Consumer;Ke.createContext(void 0);function FE(){return C.useContext(rI)}var L5=(function(){function t(e,n){var r=this;this.inject=function(o,a){a===void 0&&(a=Dg);var u=r.name+a.hash;o.hasNameForId(r.id,u)||o.insertRules(r.id,u,a(r.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,hw(this,function(){throw Ca(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Dg),this.name+e.hash},t})(),j5=function(t){return t>="A"&&t<="Z"};function $E(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;j5(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var sI=function(t){return t==null||t===!1||t===""},iI=function(t){var e,n,r=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!sI(a)&&(Array.isArray(a)&&a.isCss||ba(a)?r.push("".concat($E(o),":"),a,";"):hu(a)?r.push.apply(r,Xh(Xh(["".concat(o," {")],iI(a),!1),["}"],!1)):r.push("".concat($E(o),": ").concat((e=o,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in s5||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ha(t,e,n,r){if(sI(t))return[];if(dw(t))return[".".concat(t.styledComponentId)];if(ba(t)){if(!ba(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var o=t(e);return ha(o,e,n,r)}var a;return t instanceof L5?n?(t.inject(n,r),[t.getName(r)]):[t]:hu(t)?iI(t):Array.isArray(t)?Array.prototype.concat.apply(Gf,t.map(function(u){return ha(u,e,n,r)})):[t.toString()]}function M5(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ba(n)&&!dw(n))return!1}return!0}var V5=JT(Wf),F5=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&M5(e),this.componentId=n,this.baseHash=Cl(V5,n),this.baseStyle=r,tI.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=aa(o,this.staticRulesId);else{var a=jE(ha(this.rules,e,n,r)),u=Ag(Cl(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,u)){var h=r(a,".".concat(u),void 0,this.componentId);n.insertRules(this.componentId,u,h)}o=aa(o,u),this.staticRulesId=u}else{for(var f=Cl(this.baseHash,r.hash),y="",v=0;v<this.rules.length;v++){var b=this.rules[v];if(typeof b=="string")y+=b;else if(b){var T=jE(ha(b,e,n,r));f=Cl(f,T+v),y+=T}}if(y){var N=Ag(f>>>0);n.hasNameForId(this.componentId,N)||n.insertRules(this.componentId,N,r(y,".".concat(N),void 0,this.componentId)),o=aa(o,N)}}return o},t})(),nf=Ke.createContext(void 0);nf.Consumer;function $5(t){var e=Ke.useContext(nf),n=C.useMemo(function(){return(function(r,o){if(!r)throw Ca(14);if(ba(r)){var a=r(o);return a}if(Array.isArray(r)||typeof r!="object")throw Ca(8);return o?Mn(Mn({},o),r):r})(t.theme,e)},[t.theme,e]);return t.children?Ke.createElement(nf.Provider,{value:n},t.children):null}var qm={};function U5(t,e,n){var r=dw(t),o=t,a=!Hm(t),u=e.attrs,h=u===void 0?Gf:u,f=e.componentId,y=f===void 0?(function(G,ne){var Z=typeof G!="string"?"sc":AE(G);qm[Z]=(qm[Z]||0)+1;var k="".concat(Z,"-").concat(u5(Wf+Z+qm[Z]));return ne?"".concat(ne,"-").concat(k):k})(e.displayName,e.parentComponentId):f,v=e.displayName,b=v===void 0?(function(G){return Hm(G)?"styled.".concat(G):"Styled(".concat(d5(G),")")})(t):v,T=e.displayName&&e.componentId?"".concat(AE(e.displayName),"-").concat(e.componentId):e.componentId||y,N=r&&o.attrs?o.attrs.concat(h).filter(Boolean):h,j=e.shouldForwardProp;if(r&&o.shouldForwardProp){var F=o.shouldForwardProp;if(e.shouldForwardProp){var L=e.shouldForwardProp;j=function(G,ne){return F(G,ne)&&L(G,ne)}}else j=F}var H=new F5(n,T,r?o.componentStyle:void 0);function O(G,ne){return(function(Z,k,S){var R=Z.attrs,P=Z.componentStyle,M=Z.defaultProps,U=Z.foldedComponentIds,A=Z.styledComponentId,Pe=Z.target,Te=Ke.useContext(nf),Ne=FE(),Le=Z.shouldForwardProp||Ne.shouldForwardProp,X=o5(k,Te,M)||Wl,le=(function(fe,pe,Ce){for(var Ae,He=Mn(Mn({},pe),{className:void 0,theme:Ce}),yt=0;yt<fe.length;yt+=1){var bt=ba(Ae=fe[yt])?Ae(He):Ae;for(var St in bt)He[St]=St==="className"?aa(He[St],bt[St]):St==="style"?Mn(Mn({},He[St]),bt[St]):bt[St]}return pe.className&&(He.className=aa(He.className,pe.className)),He})(R,k,X),ee=le.as||Pe,x={};for(var $ in le)le[$]===void 0||$[0]==="$"||$==="as"||$==="theme"&&le.theme===X||($==="forwardedAs"?x.as=le.forwardedAs:Le&&!Le($,ee)||(x[$]=le[$]));var te=(function(fe,pe){var Ce=FE(),Ae=fe.generateAndInjectStyles(pe,Ce.styleSheet,Ce.stylis);return Ae})(P,le),se=aa(U,A);return te&&(se+=" "+te),le.className&&(se+=" "+le.className),x[Hm(ee)&&!GT.has(ee)?"class":"className"]=se,S&&(x.ref=S),C.createElement(ee,x)})(z,G,ne)}O.displayName=b;var z=Ke.forwardRef(O);return z.attrs=N,z.componentStyle=H,z.displayName=b,z.shouldForwardProp=j,z.foldedComponentIds=r?aa(o.foldedComponentIds,o.styledComponentId):"",z.styledComponentId=T,z.target=r?o.target:t,Object.defineProperty(z,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(G){this._foldedDefaultProps=r?(function(ne){for(var Z=[],k=1;k<arguments.length;k++)Z[k-1]=arguments[k];for(var S=0,R=Z;S<R.length;S++)Ng(ne,R[S],!0);return ne})({},o.defaultProps,G):G}}),hw(z,function(){return".".concat(z.styledComponentId)}),a&&ZT(z,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),z}function UE(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var BE=function(t){return Object.assign(t,{isCss:!0})};function hn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ba(t)||hu(t))return BE(ha(UE(Gf,Xh([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ha(r):BE(ha(UE(r,e)))}function Og(t,e,n){if(n===void 0&&(n=Wl),!e)throw Ca(1,e);var r=function(o){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];return t(e,n,hn.apply(void 0,Xh([o],a,!1)))};return r.attrs=function(o){return Og(t,e,Mn(Mn({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Og(t,e,Mn(Mn({},n),o))},r}var oI=function(t){return Og(U5,t)},Ye=oI;GT.forEach(function(t){Ye[t]=oI(t)});var vo;function Gl(t,e){return t[e]}function B5(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function z5(t=[],e,n="id"){const r=t.slice(),o=Gl(e,n);return o?r.splice(r.findIndex((a=>Gl(a,n)===o)),1):r.splice(r.findIndex((a=>a===e)),1),r}function zE(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function tu(t,e){return Math.ceil(t/e)}function Wm(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(vo||(vo={}));const un=()=>null;function aI(t,e=[],n=[]){let r={},o=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(o=[...o,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:o.join(" ")}}function vh(t,e=[],n="id"){const r=Gl(t,n);return r?e.some((o=>Gl(o,n)===r)):e.some((o=>o===t))}function eh(t,e){return e?t.findIndex((n=>nu(n.id,e))):-1}function nu(t,e){return t==e}function H5(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:o,rowCount:a,mergeSelections:u}=e,h=!t.allSelected,f=!t.toggleOnSelectedRowsChange;if(u){const y=h?[...t.selectedRows,...o.filter((v=>!vh(v,t.selectedRows,r)))]:t.selectedRows.filter((v=>!vh(v,o,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:y.length,selectedRows:y,toggleOnSelectedRowsChange:f})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?o:[],toggleOnSelectedRowsChange:f})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:o,isSelected:a,rowCount:u,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[o],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:z5(t.selectedRows,o,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===u,selectedRows:B5(t.selectedRows,o),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:o,totalRows:a,mergeSelections:u}=e;if(u){const h=[...t.selectedRows,...o.filter((f=>!vh(f,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:o.length,allSelected:o.length===a,selectedRows:o,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:o,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:o,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:o,visibleOnly:a,persistSelectedOnPageChange:u}=e,h=o&&u,f=o&&!u||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),f&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:o}=e;return Object.assign(Object.assign({},t),{currentPage:o,rowsPerPage:r})}}}const q5=hn`
	pointer-events: none;
	opacity: 0.4;
`,W5=Ye.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&q5};
	${({theme:t})=>t.table.style};
`,G5=hn`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,K5=Ye.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&G5};
	${({theme:t})=>t.head.style};
`,J5=Ye.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,lI=(t,...e)=>hn`
		@media screen and (max-width: ${599}px) {
			${hn(t,...e)}
		}
	`,Q5=(t,...e)=>hn`
		@media screen and (max-width: ${959}px) {
			${hn(t,...e)}
		}
	`,Y5=(t,...e)=>hn`
		@media screen and (max-width: ${1280}px) {
			${hn(t,...e)}
		}
	`,X5=t=>(e,...n)=>hn`
			@media screen and (max-width: ${t}px) {
				${hn(e,...n)}
			}
		`,oc=Ye.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,cI=Ye(oc)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&hn`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&lI`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&Q5`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&Y5`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&X5(t)`
    display: none;
  `};
`,Z5=hn`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,eV=Ye(cI).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&Z5};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var tV=C.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:o,isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:y,onDragLeave:v}){const{conditionalStyle:b,classNames:T}=aI(n,e.conditionalCellStyles,["rdt_TableCell"]);return C.createElement(eV,{id:t,"data-column-id":e.id,role:"cell",className:T,"data-tag":o,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:b,$isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:y,onDragLeave:v},!e.cell&&C.createElement("div",{"data-tag":o},(function(N,j,F,L){return j?F&&typeof F=="function"?F(N,L):j(N,L):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const HE="input";var uI=C.memo((function({name:t,component:e=HE,componentOptions:n={style:{}},indeterminate:r=!1,checked:o=!1,disabled:a=!1,onClick:u=un}){const h=e,f=h!==HE?n.style:(v=>Object.assign(Object.assign({fontSize:"18px"},!v&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),y=C.useMemo((()=>(function(v,...b){let T;return Object.keys(v).map((N=>v[N])).forEach(((N,j)=>{typeof N=="function"&&(T=Object.assign(Object.assign({},v),{[Object.keys(v)[j]]:N(...b)}))})),T||v})(n,r)),[n,r]);return C.createElement(h,Object.assign({type:"checkbox",ref:v=>{v&&(v.indeterminate=r)},style:f,onClick:a?un:u,name:t,"aria-label":t,checked:o,disabled:a},y,{onChange:un}))}));const nV=Ye(oc)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function rV({name:t,keyField:e,row:n,rowCount:r,selected:o,selectableRowsComponent:a,selectableRowsComponentProps:u,selectableRowsSingle:h,selectableRowDisabled:f,onSelectedRow:y}){const v=!(!f||!f(n));return C.createElement(nV,{onClick:b=>b.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},C.createElement(uI,{name:t,component:a,componentOptions:u,checked:o,"aria-checked":o,onClick:()=>{y({type:"SELECT_SINGLE_ROW",row:n,isSelected:o,keyField:e,rowCount:r,singleSelect:h})},disabled:v}))}const sV=Ye.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function iV({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:o,onToggled:a}){const u=e?n.expanded:n.collapsed;return C.createElement(sV,{"aria-disabled":t,onClick:()=>a&&a(o),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},u)}const oV=Ye(oc)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function aV({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:o,disabled:a=!1}){return C.createElement(oV,{onClick:u=>u.stopPropagation(),$noPadding:!0},C.createElement(iV,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:o}))}const lV=Ye.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var cV=C.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:o}){const a=["rdt_ExpanderRow",...o.split(" ").filter((u=>u!=="rdt_TableRow"))].join(" ");return C.createElement(lV,{className:a,$extendedRowStyle:r},C.createElement(e,Object.assign({data:t},n)))}));const Gm="allowRowEvents";var rf,Lg,qE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(rf||(rf={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(Lg||(Lg={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(qE||(qE={}));const uV=hn`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,dV=hn`
	&:hover {
		cursor: pointer;
	}
`,hV=Ye.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&uV};
	${({$pointerOnHover:t})=>t&&dV};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function fV({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:o=!1,expandableIcon:a,expandableRows:u=!1,expandableRowsComponent:h,expandableRowsComponentProps:f,expandableRowsHideExpander:y,expandOnRowClicked:v=!1,expandOnRowDoubleClicked:b=!1,highlightOnHover:T=!1,id:N,expandableInheritConditionalStyles:j,keyField:F,onRowClicked:L=un,onRowDoubleClicked:H=un,onRowMouseEnter:O=un,onRowMouseLeave:z=un,onRowExpandToggled:G=un,onSelectedRow:ne=un,pointerOnHover:Z=!1,row:k,rowCount:S,rowIndex:R,selectableRowDisabled:P=null,selectableRows:M=!1,selectableRowsComponent:U,selectableRowsComponentProps:A,selectableRowsHighlight:Pe=!1,selectableRowsSingle:Te=!1,selected:Ne,striped:Le=!1,draggingColumnId:X,onDragStart:le,onDragOver:ee,onDragEnd:x,onDragEnter:$,onDragLeave:te}){const[se,fe]=C.useState(n);C.useEffect((()=>{fe(n)}),[n]);const pe=C.useCallback((()=>{fe(!se),G(!se,k)}),[se,G,k]),Ce=Z||u&&(v||b),Ae=C.useCallback((we=>{we.target.getAttribute("data-tag")===Gm&&(L(k,we),!r&&u&&v&&pe())}),[r,v,u,pe,L,k]),He=C.useCallback((we=>{we.target.getAttribute("data-tag")===Gm&&(H(k,we),!r&&u&&b&&pe())}),[r,b,u,pe,H,k]),yt=C.useCallback((we=>{O(k,we)}),[O,k]),bt=C.useCallback((we=>{z(k,we)}),[z,k]),St=Gl(k,F),{conditionalStyle:$n,classNames:Un}=aI(k,e,["rdt_TableRow"]),fr=Pe&&Ne,Jr=j?$n:{},Fe=Le&&R%2==0;return C.createElement(C.Fragment,null,C.createElement(hV,{id:`row-${N}`,role:"row",$striped:Fe,$highlightOnHover:T,$pointerOnHover:!r&&Ce,$dense:o,onClick:Ae,onDoubleClick:He,onMouseEnter:yt,onMouseLeave:bt,className:Un,$selected:fr,$conditionalStyle:$n},M&&C.createElement(rV,{name:`select-row-${St}`,keyField:F,row:k,rowCount:S,selected:Ne,selectableRowsComponent:U,selectableRowsComponentProps:A,selectableRowDisabled:P,selectableRowsSingle:Te,onSelectedRow:ne}),u&&!y&&C.createElement(aV,{id:St,expandableIcon:a,expanded:se,row:k,onToggled:pe,disabled:r}),t.map((we=>we.omit?null:C.createElement(tV,{id:`cell-${we.id}-${St}`,key:`cell-${we.id}-${St}`,dataTag:we.ignoreRowClick||we.button?null:Gm,column:we,row:k,rowIndex:R,isDragging:nu(X,we.id),onDragStart:le,onDragOver:ee,onDragEnd:x,onDragEnter:$,onDragLeave:te})))),u&&se&&C.createElement(cV,{key:`expander-${St}`,data:k,extendedRowStyle:Jr,extendedClassNames:Un,ExpanderComponent:h,expanderComponentProps:f}))}const pV=Ye.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,mV=({sortActive:t,sortDirection:e})=>Ke.createElement(pV,{$sortActive:t,$sortDirection:e},"▲"),gV=Ye(cI)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,yV=hn`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&hn`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,wV=Ye.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&yV};
`,vV=Ye.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var _V=C.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:o,sortIcon:a,sortServer:u,pagination:h,paginationServer:f,persistSelectedOnSort:y,selectableRowsVisibleOnly:v,onSort:b,onDragStart:T,onDragOver:N,onDragEnd:j,onDragEnter:F,onDragLeave:L}){C.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[H,O]=C.useState(!1),z=C.useRef(null);if(C.useEffect((()=>{z.current&&O(z.current.scrollWidth>z.current.clientWidth)}),[H]),t.omit)return null;const G=()=>{if(!t.sortable&&!t.selector)return;let A=o;nu(r.id,t.id)&&(A=o===vo.ASC?vo.DESC:vo.ASC),b({type:"SORT_CHANGE",sortDirection:A,selectedColumn:t,clearSelectedOnSort:h&&f&&!y||u||v})},ne=A=>C.createElement(mV,{sortActive:A,sortDirection:o}),Z=()=>C.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},a),k=!(!t.sortable||!nu(r.id,t.id)),S=!t.sortable||e,R=t.sortable&&!a&&!t.right,P=t.sortable&&!a&&t.right,M=t.sortable&&a&&!t.right,U=t.sortable&&a&&t.right;return C.createElement(gV,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:nu(t.id,n),onDragStart:T,onDragOver:N,onDragEnd:j,onDragEnter:F,onDragLeave:L},t.name&&C.createElement(wV,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:S?void 0:G,onKeyPress:S?void 0:A=>{A.key==="Enter"&&G()},$sortActive:!S&&k,disabled:S},!S&&U&&Z(),!S&&P&&ne(k),typeof t.name=="string"?C.createElement(vV,{title:H?t.name:void 0,ref:z,"data-column-id":t.id},t.name):t.name,!S&&M&&Z(),!S&&R&&ne(k)))}));const EV=Ye(oc)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function bV({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:o,selectedRows:a,selectableRowsComponent:u,selectableRowsComponentProps:h,selectableRowDisabled:f,onSelectAllRows:y}){const v=a.length>0&&!r,b=f?e.filter((j=>!f(j))):e,T=b.length===0,N=Math.min(e.length,b.length);return C.createElement(EV,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},C.createElement(uI,{name:"select-all-rows",component:u,componentOptions:h,onClick:()=>{y({type:"SELECT_ALL_ROWS",rows:b,rowCount:N,mergeSelections:o,keyField:n})},checked:r,indeterminate:v,disabled:T}))}function dI(t=rf.AUTO){const e=typeof window=="object",[n,r]=C.useState(!1);return C.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const o=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],u=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||u.dir==="rtl";r(o&&h)}}),[t,e]),n}const CV=Ye.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,TV=Ye.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,WE=Ye.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function IV({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:o}){const a=dI(o),u=r>0;return n?C.createElement(WE,{$visible:u},C.cloneElement(n,{selectedCount:r})):C.createElement(WE,{$visible:u,$rtl:a},C.createElement(CV,null,((h,f,y)=>{if(f===0)return null;const v=f===1?h.singular:h.plural;return y?`${f} ${h.message||""} ${v}`:`${f} ${v} ${h.message||""}`})(t,r,a)),C.createElement(TV,null,e))}const SV=Ye.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,xV=Ye.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,kV=Ye.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,RV=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:o,selectedCount:a,direction:u,showMenu:h=!0})=>C.createElement(SV,{className:"rdt_TableHeader",role:"heading","aria-level":1},C.createElement(xV,null,t),e&&C.createElement(kV,null,e),h&&C.createElement(IV,{contextMessage:n,contextActions:r,contextComponent:o,direction:u,selectedCount:a}));function hI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const PV={left:"flex-start",right:"flex-end",center:"center"},AV=Ye.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>PV[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,NV=t=>{var{align:e="right",wrapContent:n=!0}=t,r=hI(t,["align","wrapContent"]);return C.createElement(AV,Object.assign({align:e,$wrapContent:n},r))},DV=Ye.div`
	display: flex;
	flex-direction: column;
`,OV=Ye.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&hn`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&hn`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,GE=Ye.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,LV=Ye.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,jV=Ye(oc)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,MV=Ye.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,VV=()=>Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Ke.createElement("path",{d:"M7 10l5 5 5-5z"}),Ke.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),FV=Ye.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,$V=Ye.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,UV=t=>{var{defaultValue:e,onChange:n}=t,r=hI(t,["defaultValue","onChange"]);return C.createElement($V,null,C.createElement(FV,Object.assign({onChange:n,defaultValue:e},r)),C.createElement(VV,null))},ue={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return Ke.createElement("div",null,"To add an expander pass in a component instance via ",Ke.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:Ke.createElement((()=>Ke.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Ke.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),Ke.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:Ke.createElement((()=>Ke.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Ke.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),Ke.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:Ke.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:Ke.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Lg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:Ke.createElement((()=>Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ke.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),Ke.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:Ke.createElement((()=>Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ke.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),Ke.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:Ke.createElement((()=>Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ke.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),Ke.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:Ke.createElement((()=>Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ke.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),Ke.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:rf.AUTO,onChangePage:un,onChangeRowsPerPage:un,onRowClicked:un,onRowDoubleClicked:un,onRowMouseEnter:un,onRowMouseLeave:un,onRowExpandToggled:un,onSelectedRowsChange:un,onSort:un,onColumnOrderChange:un},BV={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},zV=Ye.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,th=Ye.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,HV=Ye.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${lI`
    width: 100%;
    justify-content: space-around;
  `};
`,fI=Ye.span`
	flex-shrink: 1;
	user-select: none;
`,qV=Ye(fI)`
	margin: 0 24px;
`,WV=Ye(fI)`
	margin: 0 4px;
`;var GV=C.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=ue.direction,paginationRowsPerPageOptions:o=ue.paginationRowsPerPageOptions,paginationIconLastPage:a=ue.paginationIconLastPage,paginationIconFirstPage:u=ue.paginationIconFirstPage,paginationIconNext:h=ue.paginationIconNext,paginationIconPrevious:f=ue.paginationIconPrevious,paginationComponentOptions:y=ue.paginationComponentOptions,onChangeRowsPerPage:v=ue.onChangeRowsPerPage,onChangePage:b=ue.onChangePage}){const T=(()=>{const A=typeof window=="object";function Pe(){return{width:A?window.innerWidth:void 0,height:A?window.innerHeight:void 0}}const[Te,Ne]=C.useState(Pe);return C.useEffect((()=>{if(!A)return()=>null;function Le(){Ne(Pe())}return window.addEventListener("resize",Le),()=>window.removeEventListener("resize",Le)}),[]),Te})(),N=dI(r),j=T.width&&T.width>599,F=tu(e,t),L=n*t,H=L-t+1,O=n===1,z=n===F,G=Object.assign(Object.assign({},BV),y),ne=n===F?`${H}-${e} ${G.rangeSeparatorText} ${e}`:`${H}-${L} ${G.rangeSeparatorText} ${e}`,Z=C.useCallback((()=>b(n-1)),[n,b]),k=C.useCallback((()=>b(n+1)),[n,b]),S=C.useCallback((()=>b(1)),[b]),R=C.useCallback((()=>b(tu(e,t))),[b,e,t]),P=C.useCallback((A=>v(Number(A.target.value),n)),[n,v]),M=o.map((A=>C.createElement("option",{key:A,value:A},A)));G.selectAllRowsItem&&M.push(C.createElement("option",{key:-1,value:e},G.selectAllRowsItemText));const U=C.createElement(UV,{onChange:P,defaultValue:t,"aria-label":G.rowsPerPageText},M);return C.createElement(zV,{className:"rdt_Pagination"},!G.noRowsPerPage&&j&&C.createElement(C.Fragment,null,C.createElement(WV,null,G.rowsPerPageText),U),j&&C.createElement(qV,null,ne),C.createElement(HV,null,C.createElement(th,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":O,onClick:S,disabled:O,$isRTL:N},u),C.createElement(th,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":O,onClick:Z,disabled:O,$isRTL:N},f),!G.noRowsPerPage&&!j&&U,C.createElement(th,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":z,onClick:k,disabled:z,$isRTL:N},h),C.createElement(th,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":z,onClick:R,disabled:z,$isRTL:N},a)))}));const ia=(t,e)=>{const n=C.useRef(!0);C.useEffect((()=>{n.current?n.current=!1:t()}),e)};function KV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JV=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===QV})(e)})(t)},QV=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function fu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Kl((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function YV(t,e,n){return t.concat(e).map((function(r){return fu(r,n)}))}function KE(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function JE(t,e){try{return e in t}catch{return!1}}function XV(t,e,n){var r={};return n.isMergeableObject(t)&&KE(t).forEach((function(o){r[o]=fu(t[o],n)})),KE(e).forEach((function(o){(function(a,u){return JE(a,u)&&!(Object.hasOwnProperty.call(a,u)&&Object.propertyIsEnumerable.call(a,u))})(t,o)||(JE(t,o)&&n.isMergeableObject(e[o])?r[o]=(function(a,u){if(!u.customMerge)return Kl;var h=u.customMerge(a);return typeof h=="function"?h:Kl})(o,n)(t[o],e[o],n):r[o]=fu(e[o],n))})),r}function Kl(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||YV,n.isMergeableObject=n.isMergeableObject||JV,n.cloneUnlessOtherwiseSpecified=fu;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):XV(t,e,n):fu(e,n)}Kl.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return Kl(n,r,e)}),{})};var jg=KV(Kl);const QE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},io={default:QE,light:QE,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function ZV(t="default",e,n="default"){return io[t]||(io[t]=jg(io[n],e||{})),io[t]=jg(io[t],e||{}),io[t]}function e4(t,e,n,r){const[o,a]=C.useState((()=>zE(t))),[u,h]=C.useState(""),f=C.useRef("");ia((()=>{a(zE(t))}),[t]);const y=C.useCallback((L=>{var H,O,z;const{attributes:G}=L.target,ne=(H=G.getNamedItem("data-column-id"))===null||H===void 0?void 0:H.value;ne&&(f.current=((z=(O=o[eh(o,ne)])===null||O===void 0?void 0:O.id)===null||z===void 0?void 0:z.toString())||"",h(f.current))}),[o]),v=C.useCallback((L=>{var H;const{attributes:O}=L.target,z=(H=O.getNamedItem("data-column-id"))===null||H===void 0?void 0:H.value;if(z&&f.current&&z!==f.current){const G=eh(o,f.current),ne=eh(o,z),Z=[...o];Z[G]=o[ne],Z[ne]=o[G],a(Z),e(Z)}}),[e,o]),b=C.useCallback((L=>{L.preventDefault()}),[]),T=C.useCallback((L=>{L.preventDefault()}),[]),N=C.useCallback((L=>{L.preventDefault(),f.current="",h("")}),[]),j=(function(L=!1){return L?vo.ASC:vo.DESC})(r),F=C.useMemo((()=>o[eh(o,n?.toString())]||{}),[n,o]);return{tableColumns:o,draggingColumnId:u,handleDragStart:y,handleDragEnter:v,handleDragOver:b,handleDragLeave:T,handleDragEnd:N,defaultSortDirection:j,defaultSortColumn:F}}var t4=C.memo((function(t){const{data:e=ue.data,columns:n=ue.columns,title:r=ue.title,actions:o=ue.actions,keyField:a=ue.keyField,striped:u=ue.striped,highlightOnHover:h=ue.highlightOnHover,pointerOnHover:f=ue.pointerOnHover,dense:y=ue.dense,selectableRows:v=ue.selectableRows,selectableRowsSingle:b=ue.selectableRowsSingle,selectableRowsHighlight:T=ue.selectableRowsHighlight,selectableRowsNoSelectAll:N=ue.selectableRowsNoSelectAll,selectableRowsVisibleOnly:j=ue.selectableRowsVisibleOnly,selectableRowSelected:F=ue.selectableRowSelected,selectableRowDisabled:L=ue.selectableRowDisabled,selectableRowsComponent:H=ue.selectableRowsComponent,selectableRowsComponentProps:O=ue.selectableRowsComponentProps,onRowExpandToggled:z=ue.onRowExpandToggled,onSelectedRowsChange:G=ue.onSelectedRowsChange,expandableIcon:ne=ue.expandableIcon,onChangeRowsPerPage:Z=ue.onChangeRowsPerPage,onChangePage:k=ue.onChangePage,paginationServer:S=ue.paginationServer,paginationServerOptions:R=ue.paginationServerOptions,paginationTotalRows:P=ue.paginationTotalRows,paginationDefaultPage:M=ue.paginationDefaultPage,paginationResetDefaultPage:U=ue.paginationResetDefaultPage,paginationPerPage:A=ue.paginationPerPage,paginationRowsPerPageOptions:Pe=ue.paginationRowsPerPageOptions,paginationIconLastPage:Te=ue.paginationIconLastPage,paginationIconFirstPage:Ne=ue.paginationIconFirstPage,paginationIconNext:Le=ue.paginationIconNext,paginationIconPrevious:X=ue.paginationIconPrevious,paginationComponent:le=ue.paginationComponent,paginationComponentOptions:ee=ue.paginationComponentOptions,responsive:x=ue.responsive,progressPending:$=ue.progressPending,progressComponent:te=ue.progressComponent,persistTableHead:se=ue.persistTableHead,noDataComponent:fe=ue.noDataComponent,disabled:pe=ue.disabled,noTableHead:Ce=ue.noTableHead,noHeader:Ae=ue.noHeader,fixedHeader:He=ue.fixedHeader,fixedHeaderScrollHeight:yt=ue.fixedHeaderScrollHeight,pagination:bt=ue.pagination,subHeader:St=ue.subHeader,subHeaderAlign:$n=ue.subHeaderAlign,subHeaderWrap:Un=ue.subHeaderWrap,subHeaderComponent:fr=ue.subHeaderComponent,noContextMenu:Jr=ue.noContextMenu,contextMessage:Fe=ue.contextMessage,contextActions:we=ue.contextActions,contextComponent:st=ue.contextComponent,expandableRows:De=ue.expandableRows,onRowClicked:qe=ue.onRowClicked,onRowDoubleClicked:wt=ue.onRowDoubleClicked,onRowMouseEnter:Ge=ue.onRowMouseEnter,onRowMouseLeave:Xe=ue.onRowMouseLeave,sortIcon:Ze=ue.sortIcon,onSort:et=ue.onSort,sortFunction:vt=ue.sortFunction,sortServer:pr=ue.sortServer,expandableRowsComponent:Po=ue.expandableRowsComponent,expandableRowsComponentProps:gs=ue.expandableRowsComponentProps,expandableRowDisabled:ys=ue.expandableRowDisabled,expandableRowsHideExpander:ws=ue.expandableRowsHideExpander,expandOnRowClicked:Ao=ue.expandOnRowClicked,expandOnRowDoubleClicked:No=ue.expandOnRowDoubleClicked,expandableRowExpanded:ki=ue.expandableRowExpanded,expandableInheritConditionalStyles:Do=ue.expandableInheritConditionalStyles,defaultSortFieldId:Oo=ue.defaultSortFieldId,defaultSortAsc:Ws=ue.defaultSortAsc,clearSelectedRows:Gs=ue.clearSelectedRows,conditionalRowStyles:Ri=ue.conditionalRowStyles,theme:Bn=ue.theme,customStyles:mr=ue.customStyles,direction:Rr=ue.direction,onColumnOrderChange:Pr=ue.onColumnOrderChange,className:Lo,ariaLabel:vs}=t,{tableColumns:Pi,draggingColumnId:Ar,handleDragStart:Ai,handleDragEnter:Nt,handleDragOver:Ks,handleDragLeave:Yn,handleDragEnd:_s,defaultSortDirection:Js,defaultSortColumn:Ni}=e4(n,Pr,Oo,Ws),[{rowsPerPage:Yt,currentPage:_n,selectedRows:jo,allSelected:Qs,selectedCount:Mo,selectedColumn:$t,sortDirection:Xn,toggleOnSelectedRowsChange:gr},Nr]=C.useReducer(H5,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Ni,toggleOnSelectedRowsChange:!1,sortDirection:Js,currentPage:M,rowsPerPage:A,selectedRowsFlag:!1,contextMessage:ue.contextMessage}),{persistSelectedOnSort:Di=!1,persistSelectedOnPageChange:Qr=!1}=R,Ys=!(!S||!Qr&&!Di),Vo=bt&&!$&&e.length>0,La=le||GV,ac=C.useMemo((()=>((Se={},Je="default",Dt="default")=>{const on=io[Je]?Je:Dt;return jg({table:{style:{color:(Oe=io[on]).text.primary,backgroundColor:Oe.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:Oe.text.primary,backgroundColor:Oe.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:Oe.background.default,minHeight:"52px"}},head:{style:{color:Oe.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:Oe.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:Oe.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:Oe.context.background,fontSize:"18px",fontWeight:400,color:Oe.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:Oe.text.primary,backgroundColor:Oe.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:Oe.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:Oe.selected.text,backgroundColor:Oe.selected.default,borderBottomColor:Oe.background.default}},highlightOnHoverStyle:{color:Oe.highlightOnHover.text,backgroundColor:Oe.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:Oe.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:Oe.background.default},stripedStyle:{color:Oe.striped.text,backgroundColor:Oe.striped.default}},expanderRow:{style:{color:Oe.text.primary,backgroundColor:Oe.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:Oe.button.default,fill:Oe.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:Oe.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:Oe.button.hover},"&:focus":{outline:"none",backgroundColor:Oe.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:Oe.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:Oe.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:Oe.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:Oe.button.default,fill:Oe.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:Oe.button.disabled,fill:Oe.button.disabled},"&:hover:not(:disabled)":{backgroundColor:Oe.button.hover},"&:focus":{outline:"none",backgroundColor:Oe.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Oe.text.primary,backgroundColor:Oe.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Oe.text.primary,backgroundColor:Oe.background.default}}},Se);var Oe})(mr,Bn)),[mr,Bn]),_t=C.useMemo((()=>Object.assign({},Rr!=="auto"&&{dir:Rr})),[Rr]),qt=C.useMemo((()=>{if(pr)return e;if($t?.sortFunction&&typeof $t.sortFunction=="function"){const Se=$t.sortFunction,Je=Xn===vo.ASC?Se:(Dt,on)=>-1*Se(Dt,on);return[...e].sort(Je)}return(function(Se,Je,Dt,on){return Je?on&&typeof on=="function"?on(Se.slice(0),Je,Dt):Se.slice(0).sort(((Oe,wr)=>{const Xt=Je(Oe),Rn=Je(wr);if(Dt==="asc"){if(Xt<Rn)return-1;if(Xt>Rn)return 1}if(Dt==="desc"){if(Xt>Rn)return-1;if(Xt<Rn)return 1}return 0})):Se})(e,$t?.selector,Xn,vt)}),[pr,$t,Xn,e,vt]),yr=C.useMemo((()=>{if(bt&&!S){const Se=_n*Yt,Je=Se-Yt;return qt.slice(Je,Se)}return qt}),[_n,bt,S,Yt,qt]),Es=C.useCallback((Se=>{Nr(Se)}),[]),Zn=C.useCallback((Se=>{Nr(Se)}),[]),Fo=C.useCallback((Se=>{Nr(Se)}),[]),ja=C.useCallback(((Se,Je)=>qe(Se,Je)),[qe]),Xs=C.useCallback(((Se,Je)=>wt(Se,Je)),[wt]),zn=C.useCallback(((Se,Je)=>Ge(Se,Je)),[Ge]),Ma=C.useCallback(((Se,Je)=>Xe(Se,Je)),[Xe]),Ut=C.useCallback((Se=>Nr({type:"CHANGE_PAGE",page:Se,paginationServer:S,visibleOnly:j,persistSelectedOnPageChange:Qr})),[S,Qr,j]),$o=C.useCallback((Se=>{const Je=tu(P||yr.length,Se),Dt=Wm(_n,Je);S||Ut(Dt),Nr({type:"CHANGE_ROWS_PER_PAGE",page:Dt,rowsPerPage:Se})}),[_n,Ut,S,P,yr.length]);if(bt&&!S&&qt.length>0&&yr.length===0){const Se=tu(qt.length,Yt),Je=Wm(_n,Se);Ut(Je)}ia((()=>{G({allSelected:Qs,selectedCount:Mo,selectedRows:jo.slice(0)})}),[gr]),ia((()=>{et($t,Xn,qt.slice(0))}),[$t,Xn]),ia((()=>{k(_n,P||qt.length)}),[_n]),ia((()=>{Z(Yt,_n)}),[Yt]),ia((()=>{Ut(M)}),[M,U]),ia((()=>{if(bt&&S&&P>0){const Se=tu(P,Yt),Je=Wm(_n,Se);_n!==Je&&Ut(Je)}}),[P]),C.useEffect((()=>{Nr({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Gs})}),[b,Gs]),C.useEffect((()=>{if(!F)return;const Se=qt.filter((Dt=>F(Dt))),Je=b?Se.slice(0,1):Se;Nr({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:Je,totalRows:qt.length,mergeSelections:Ys})}),[e,F]);const Va=j?yr:qt,Fa=Qr||b||N;return C.createElement($5,{theme:ac},!Ae&&(!!r||!!o)&&C.createElement(RV,{title:r,actions:o,showMenu:!Jr,selectedCount:Mo,direction:Rr,contextActions:we,contextComponent:st,contextMessage:Fe}),St&&C.createElement(NV,{align:$n,wrapContent:Un},fr),C.createElement(OV,Object.assign({$responsive:x,$fixedHeader:He,$fixedHeaderScrollHeight:yt,className:Lo},_t),C.createElement(LV,null,$&&!se&&C.createElement(GE,null,te),C.createElement(W5,Object.assign({disabled:pe,className:"rdt_Table",role:"table"},vs&&{"aria-label":vs}),!Ce&&(!!se||qt.length>0&&!$)&&C.createElement(K5,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:He},C.createElement(J5,{className:"rdt_TableHeadRow",role:"row",$dense:y},v&&(Fa?C.createElement(oc,{style:{flex:"0 0 48px"}}):C.createElement(bV,{allSelected:Qs,selectedRows:jo,selectableRowsComponent:H,selectableRowsComponentProps:O,selectableRowDisabled:L,rowData:Va,keyField:a,mergeSelections:Ys,onSelectAllRows:Zn})),De&&!ws&&C.createElement(jV,null),Pi.map((Se=>C.createElement(_V,{key:Se.id,column:Se,selectedColumn:$t,disabled:$||qt.length===0,pagination:bt,paginationServer:S,persistSelectedOnSort:Di,selectableRowsVisibleOnly:j,sortDirection:Xn,sortIcon:Ze,sortServer:pr,onSort:Es,onDragStart:Ai,onDragOver:Ks,onDragEnd:_s,onDragEnter:Nt,onDragLeave:Yn,draggingColumnId:Ar}))))),!qt.length&&!$&&C.createElement(MV,null,fe),$&&se&&C.createElement(GE,null,te),!$&&qt.length>0&&C.createElement(DV,{className:"rdt_TableBody",role:"rowgroup"},yr.map(((Se,Je)=>{const Dt=Gl(Se,a),on=(function(Rn=""){return typeof Rn!="number"&&(!Rn||Rn.length===0)})(Dt)?Je:Dt,Oe=vh(Se,jo,a),wr=!!(De&&ki&&ki(Se)),Xt=!!(De&&ys&&ys(Se));return C.createElement(fV,{id:on,key:on,keyField:a,"data-row-id":on,columns:Pi,row:Se,rowCount:qt.length,rowIndex:Je,selectableRows:v,expandableRows:De,expandableIcon:ne,highlightOnHover:h,pointerOnHover:f,dense:y,expandOnRowClicked:Ao,expandOnRowDoubleClicked:No,expandableRowsComponent:Po,expandableRowsComponentProps:gs,expandableRowsHideExpander:ws,defaultExpanderDisabled:Xt,defaultExpanded:wr,expandableInheritConditionalStyles:Do,conditionalRowStyles:Ri,selected:Oe,selectableRowsHighlight:T,selectableRowsComponent:H,selectableRowsComponentProps:O,selectableRowDisabled:L,selectableRowsSingle:b,striped:u,onRowExpandToggled:z,onRowClicked:ja,onRowDoubleClicked:Xs,onRowMouseEnter:zn,onRowMouseLeave:Ma,onSelectedRow:Fo,draggingColumnId:Ar,onDragStart:Ai,onDragOver:Ks,onDragEnd:_s,onDragEnter:Nt,onDragLeave:Yn})})))))),Vo&&C.createElement("div",null,C.createElement(La,{onChangePage:Ut,onChangeRowsPerPage:$o,rowCount:P||qt.length,currentPage:_n,rowsPerPage:Yt,direction:Rr,paginationRowsPerPageOptions:Pe,paginationIconLastPage:Te,paginationIconFirstPage:Ne,paginationIconNext:Le,paginationIconPrevious:X,paginationComponentOptions:ee})))}));const YE=Jn(kn),n4=Kr(kn);ZV("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function r4({usuario:t}){const[e,n]=C.useState(!1),[r,o]=C.useState(null),[a,u]=C.useState(!1),[h,f]=C.useState(!1),[y,v]=C.useState(!1),[b,T]=C.useState(!1),N=C.useRef(null),j=()=>vu(n4);C.useEffect(()=>{const P=M=>{N.current&&!N.current.contains(M.target)&&T(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const F=P=>parseInt(P),L=t?.fotoPerfil||zt,H=[{when:P=>P.pos==="1º",style:{background:"linear-gradient(135deg, rgb(255, 215, 0), rgb(218, 165, 32))",boxShadow:"0 0 8px rgba(255, 215, 0, 0.7), inset 0 0 4px rgba(255, 255, 255, 0.6)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:P=>P.pos==="2º",style:{background:"linear-gradient(135deg, rgb(192,192,192), rgb(169,169,169))",boxShadow:"0 0 8px rgba(192,192,192, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.5)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:P=>P.pos==="3º",style:{background:"linear-gradient(135deg, rgb(205, 127, 50), rgb(139, 69, 19))",boxShadow:"0 0 8px rgba(205, 127, 50, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.4)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:P=>F(P.pos)>3&&F(P.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:P=>F(P.pos)>3&&F(P.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],O=[{name:"Pos.",selector:P=>P.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:P=>P.jugador,cell:P=>m.jsxs(ht,{to:P.id===t.uid?"/home":`/equipo/${P.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit",cursor:"pointer"},children:[m.jsx("img",{src:P.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"1px solid black"}}),m.jsx("span",{children:P.jugador})]})},{name:"Puntos",selector:P=>P.puntos,width:"5.5rem",center:!0}],z=()=>{u(!a)},G=P=>P>=1e6?(P/1e6).toFixed(2)+"M":P>=1e3?(P/1e3).toFixed(2)+"K":P.toFixed(2);C.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const P=Be(YE,"usuarios",t.uid);Jt(P).then(M=>{M.exists()&&o(M.data().dinero)})}},[t]);const[ne,Z]=C.useState([]),[k,S]=C.useState(!1);C.useEffect(()=>{(async()=>{S(!0);try{const M=hr(YE,"usuarios");let Pe=(await hs(M)).docs.map(Te=>({id:Te.id,...Te.data()})).sort((Te,Ne)=>(Ne.puntos||0)-(Te.puntos||0)).map((Te,Ne)=>({id:Te.id,pos:`${Ne+1}º`,jugador:Te.nick||"Sin nombre",puntos:Te.puntos||0,fotoPerfil:Te.fotoPerfil||zt}));Z(Pe)}catch(M){console.error("Error al cargar usuarios:",M)}finally{S(!1)}})()},[]);const R={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:L,onError:P=>{P.currentTarget.onerror=null,P.currentTarget.src=zt},alt:"Foto de perfil",onClick:()=>T(!b),onMouseEnter:()=>T(!0)}),b&&m.jsxs("div",{className:"perfil-bocadillo",ref:N,onMouseLeave:()=>T(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{f(!0),T(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:j,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{v(!0),T(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:G(r)})]})]})]}),m.jsx("button",{onClick:z,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&m.jsx(Ul,{usuario:t,openModal:h,setOpenModal:f}),y&&m.jsx(Bl,{usuario:t,openModal:y,setOpenModal:v}),m.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:m.jsx(t4,{title:"CLASIFICACIÓN",columns:O,data:ne,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:k,progressComponent:m.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:H,customStyles:R,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:m.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}function s4({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,idUsuario:o}){const a=Kr(),u=Jn();Lu();const h=t?.foto||zt,[f,y]=C.useState(!1),[v,b]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const z=Be(u,"admin","controles"),G=await Jt(z);if(G.exists()){const ne=G.data();y(ne.edicionActiva===!0),b(ne.clausulaPermitida===!0)}}catch(z){console.error("Error al obtener estado de edición:",z)}})()},[]);const T=O=>{switch(O){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return O||"Sin posición"}},N=C.useRef(),j=O=>{O.target===N.current&&r(!1)},F=O=>O.toLocaleString("es-ES")+"€",L=async()=>{if(!t||!a.currentUser)return;if(!v||!f){await je.fire({icon:"error",title:"Jornada Empezada",text:"No se puede pagar clausulas un día antes de la jornada.",confirmButtonText:"Ok"});return}const O=a.currentUser,z=Be(u,"usuarios",O.uid),G=Be(u,"usuarios",o),ne=Be(u,"jugadores",t.id);try{const[Z,k]=await Promise.all([Jt(z),Jt(G)]);if(!Z.exists()||!k.exists())throw new Error("Usuario no encontrado en la base de datos");const S=Z.data(),R=k.data(),P=S.equipo.titulares.findIndex(Ne=>Ne.jugadorId===null),M=S.equipo.banquillo.findIndex(Ne=>Ne.jugadorId===null);if(P===-1&&M===-1){await je.fire({icon:"error",title:"Equipo completo",text:"No tienes hueco en tu plantilla para fichar a este jugador.",confirmButtonText:"Ok"});return}if(S.dinero<e){await je.fire({icon:"error",title:"Fondos insuficientes",text:"No tienes suficiente dinero para pagar esta cláusula.",confirmButtonText:"Ok"});return}await ct(z,{dinero:S.dinero-e}),await ct(G,{dinero:R.dinero+e});let U=[...S.equipo.titulares],A=[...S.equipo.banquillo];P!==-1?U[P]={jugadorId:t.id,clausulaPersonal:Math.round(e*1.5)}:A[M]={jugadorId:t.id,clausulaPersonal:Math.round(e*1.5)},await ct(z,{"equipo.titulares":U,"equipo.banquillo":A});let Pe=[...R.equipo.titulares],Te=[...R.equipo.banquillo];Pe=Pe.map(Ne=>Ne.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:Ne),Te=Te.map(Ne=>Ne.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:Ne),await ct(G,{"equipo.titulares":Pe,"equipo.banquillo":Te}),await ct(ne,{dueños:Vl(o)}),await ct(ne,{dueños:Vy(O.uid)}),await Eg(hr(u,"historial"),{tipo:"clausulazo",compradorUid:O.uid,compradorNombre:S.nick,vendedorUid:o,vendedorNombre:R.nick,jugadorId:t.id,jugadorNombre:t.nombre,fotoJugador:t?.foto||null,precio:e,fecha:new Date}),await je.fire({icon:"success",title:"¡Cláusula pagada!",html:`Has fichado a <strong>${t.nombre}</strong> por <strong>${e.toLocaleString("es-ES")}€</strong><br/>Nueva cláusula: <strong>${Math.round(e*1.5).toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"}),window.location.reload()}catch(Z){console.error("Error al pagar cláusula:",Z),await je.fire({icon:"error",title:"Error",text:"No se pudo completar el pago de la cláusula.",confirmButtonText:"Ok"})}},H=async()=>{if(!t||!user)return;if(!f){await je.fire({icon:"error",title:"Jornada Empezada",text:"No se puede vender con la jornada empezada.",confirmButtonText:"Ok"});return}const O=Math.round(t.precio*.6),z=Be(u,"usuarios",user.uid),G=Be(u,"jugadores",t.id);try{await ct(z,{dinero:increment(O)}),await ct(G,{stockLibre:increment(1),dueños:Vl(user.uid)});const ne=await Jt(z);if(ne.exists()){const Z=ne.data(),k=Z.equipo.titulares.map(R=>R.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:R),S=Z.equipo.banquillo.map(R=>R.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:R);await ct(z,{"equipo.titulares":k,"equipo.banquillo":S})}await Eg(hr(u,"historial"),{tipo:"venta directa",vendedorNombre:user.nick,compradorNombre:"",jugadorNombre:t.nombre,fotoJugador:t?.foto,precio:O,fecha:new Date}),await je.fire({icon:"success",title:"¡Jugador vendido!",html:`Has recibido <strong>${O.toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"}),window.location.reload()}catch(ne){console.error("Error en la venta:",ne),await je.fire({icon:"error",title:"Error",text:"No se pudo completar la venta.",confirmButtonText:"Ok"})}};return n?m.jsx("div",{className:"modal-overlay",ref:N,onClick:j,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:h,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:T(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",F(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const O=t.historialPrecios||[];if(O.length===0)return m.jsx("small",{children:"(±0€)"});const z=O[O.length-1].precio||0,G=t.precio-z,ne=G>0?"+":G<0?"-":"±";return m.jsxs("small",{className:G>0?"subida":G<0?"bajada":"igual",children:["(",ne,F(Math.abs(G)),")"]})})()})]}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",F(e)]})}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Media de puntos:"})," ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(O=>typeof O=="number").reduce((O,z,G,ne)=>O+z/ne.length,0).toFixed(2):"-"]})})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((O,z,G)=>{const ne=O??"-",Z=G.length<5?z+1:t.puntosPorJornada.length-5+z+1;let k="";return typeof O=="number"&&(O>=9?k="verde":O<7?k="rojo":k="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",Z]}),m.jsx("div",{className:`jornada-cuadro ${k}`,children:ne})]},z)}):[...Array(5)].map((O,z)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",z+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},z))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoración"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-footer",children:[m.jsxs("button",{className:"btn-accion",disabled:!v||!f,onClick:()=>{L()},children:["Pagar Cláusula",m.jsxs("small",{className:"precio-compra",children:["(-",F(t.precioClausula),")"]})]}),m.jsx("button",{className:"btn-accion",disabled:!f,onClick:()=>{H()},children:"Hacer oferta"})]})]})}):null}const Km=Jn(kn),i4=Kr(kn),o4={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function XE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=o4[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function a4({usuario:t}){const{jugadorId:e}=gD(),[n,r]=C.useState(!0),[o,a]=C.useState(null),[u,h]=C.useState(!1),[f,y]=C.useState(!1),[v,b]=C.useState(null),T=t?.fotoPerfil||zt,N=o?.equipo?.titulares||[],j=o?.equipo?.banquillo||[],[F,L]=C.useState([]),H=o?.equipo?.capitan||"",[O,z]=C.useState(o?.equipo?.formacion||"2-1-1"),[G,ne]=C.useState(O);C.useEffect(()=>{o?.equipo?.formacion&&(z(o.equipo.formacion),ne(o.equipo.formacion))},[o]);const[Z,k]=C.useState(!1),[S,R]=C.useState(!1),[P,M]=C.useState(!1),[U,A]=C.useState(null),[Pe,Te]=C.useState(!1),Ne=C.useRef(null),Le=()=>vu(i4);C.useEffect(()=>{const ee=x=>{Ne.current&&!Ne.current.contains(x.target)&&Te(!1)};return document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[]),C.useEffect(()=>{if(window.particlesJS&&document.getElementById("particles-js")&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const ee=Be(Km,"usuarios",t.uid);Jt(ee).then(x=>{x.exists()&&b(x.data().dinero)})}},[t]),C.useEffect(()=>{(async()=>{if(e){r(!0);try{const x=await Jt(Be(Km,"usuarios",e));x.exists()?a({id:x.id,...x.data()}):a(null)}catch(x){console.error("Error fetching jugador:",x)}finally{r(!1)}}})()},[e]),C.useEffect(()=>{(async()=>{if(o?.equipo)try{const x=[...(o.equipo.titulares||[]).map(pe=>pe?.jugadorId).filter(Boolean),...(o.equipo.banquillo||[]).map(pe=>pe?.jugadorId).filter(Boolean)];if(x.length===0){L([]);return}const $=hr(Km,"jugadores"),te=Af($,Df("__name__","in",x)),fe=(await hs(te)).docs.map(pe=>({id:pe.id,...pe.data()}));L(fe)}catch(x){console.error("Error cargando jugadores:",x)}})()},[o]);const X=()=>{h(!u)},le=ee=>ee.toLocaleString("es-ES")+"€";return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:T,onError:ee=>{ee.currentTarget.onerror=null,ee.currentTarget.src=zt},alt:"Foto de perfil",onClick:()=>Te(!Pe),onMouseEnter:()=>Te(!0)}),Pe&&m.jsxs("div",{className:"perfil-bocadillo",ref:Ne,onMouseLeave:()=>Te(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{k(!0),Te(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:Le,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{M(!0),Te(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),v!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:le(v)})]})]})]}),m.jsx("button",{onClick:X,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${u?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Z&&m.jsx(Ul,{usuario:t,openModal:Z,setOpenModal:k}),P&&m.jsx(Bl,{usuario:t,openModal:P,setOpenModal:M}),S&&U&&m.jsx(s4,{jugador:U,clausulaPersonal:o?.equipo?.titulares?.find(ee=>ee.jugadorId===U.id)?.clausulaPersonal??o?.equipo?.banquillo?.find(ee=>ee.jugadorId===U.id)?.clausulaPersonal,openModal:S,setOpenModal:R,idUsuario:o?.uid}),m.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1,marginTop:"0rem"},children:[m.jsxs("div",{className:"datos-equipo",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Formación:"})," ",m.jsx("small",{children:G})," "]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Dinero:"})," ",m.jsx("small",{children:m.jsx("span",{className:"verde",children:le(o?.dinero||0)})})]})]}),m.jsx("div",{className:"ultimas-jornadas-equipo-jugador",children:o?.puntuaciones&&o?.puntuaciones.length>0?o?.puntuaciones.slice(-5).map((ee,x,$)=>{const te=ee??"-",se=$.length<5?x+1:o?.puntuaciones.length-5+x+1;let fe="";return typeof ee=="number"&&(ee>=36?fe="verde":ee<28?fe="rojo":fe="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",se]}),m.jsx("div",{className:`jornada-cuadro ${fe}`,children:te})]},x)}):[...Array(5)].map((ee,x)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",x+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},x))}),m.jsx("div",{className:"campo",children:xg[G]?.map((ee,x)=>{const $=N[x],te=F.find(se=>se.id===$?.jugadorId);return m.jsxs("div",{className:"jugador",style:{position:"absolute",top:ee.top,left:ee.left,transform:"translate(-50%, -50%)"},children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:te?.foto||zt,alt:te?.nombre||"Vacío",className:"jugador-img",style:XE(te,x,G).style,onClick:()=>{R(!0),A(te)}}),(()=>{const{status:se}=XE(te,x,G);return console.log(se),se?se==="green"?m.jsx("div",{className:"status-badge green",children:"✓"}):se==="orange"?m.jsx("div",{className:"status-badge orange",children:"!"}):se==="red"?m.jsx("div",{className:"status-badge red",children:"✕"}):null:null})(),H===te?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(te?.puntosPorJornada.length===0)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const se=te?.puntosPorJornada?.length?te?.puntosPorJornada[te?.puntosPorJornada.length-1]:null;if(se==null)return null;let fe=se==="-"?"gray":se<7?"red":se<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${fe}`,children:se})})()]}),m.jsx("p",{className:"jugador-nombre",children:te?.nombre||"Vacío"})]},te?.id||x)})}),m.jsxs("div",{className:"banquillo-section",children:[m.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),m.jsx("div",{className:"banquillo-container",children:j.map((ee,x)=>{const $=F.find(te=>te.id===ee?.jugadorId);return m.jsx("div",{className:"banquillo-slot",children:$?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:$?.foto||zt,alt:$?.nombre||"Vacío",className:"jugador-img",onClick:()=>{R(!0),A($)}}),(()=>{if($?.puntosPorJornada?.length===0)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const te=$?.puntosPorJornada?.length?$?.puntosPorJornada[$?.puntosPorJornada.length-1]:null;if(te==null)return null;let se=te==="-"?"gray":te<7?"red":te<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${se}`,children:te})})()]}),m.jsx("p",{className:"jugador-nombre-banquillo",children:$?.nombre})]}):m.jsx(ht,{className:"banquillo-add",children:"+"})})})})]})]})]}),f&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}const ZE=Jn(kn),l4=Kr(kn);function c4({usuario:t}){const[e,n]=C.useState([]),[r,o]=C.useState(!1),a=C.useRef(null),[u,h]=C.useState(null),[f,y]=C.useState(!1),[v,b]=C.useState(!1),[T,N]=C.useState(!1),j=t?.fotoPerfil||zt,F=()=>vu(l4);C.useEffect(()=>{const O=z=>{a.current&&!a.current.contains(z.target)&&N(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]),C.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const z=Be(ZE,"usuarios",t.uid);Jt(z).then(G=>{G.exists()&&h(G.data().dinero)})}(async()=>{try{const z=await hs(hr(ZE,"historial"));if(z.empty)n([]);else{const ne=z.docs.map(Z=>({id:Z.id,...Z.data()})).sort((Z,k)=>(k.fecha?.toMillis?.()||0)-(Z.fecha?.toMillis?.()||0));n(ne)}}catch(z){console.error("Error cargando historial:",z),n([])}})()},[]);const L=O=>typeof O!="number"||isNaN(O)?"—":O.toLocaleString("es-ES")+"€",H=()=>{o(!r)};return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:j,onError:O=>{O.currentTarget.onerror=null,O.currentTarget.src=zt},alt:"Foto de perfil",onClick:()=>N(!T),onMouseEnter:()=>N(!0)}),T&&m.jsxs("div",{className:"perfil-bocadillo",ref:a,onMouseLeave:()=>N(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{y(!0),N(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:F,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{b(!0),N(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),u!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:L(u)})]})]})]}),m.jsx("button",{onClick:H,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${r?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(ht,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ea})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),f&&m.jsx(Ul,{usuario:t,openModal:f,setOpenModal:y}),v&&m.jsx(Bl,{usuario:t,openModal:v,setOpenModal:b}),m.jsxs("div",{className:"tabs-wrapper",children:[m.jsx("div",{className:"tabs-container",children:m.jsx("button",{className:"tab-btn active",children:"Historial de transacciones"})}),m.jsx("div",{className:"historial-container",children:e.length===0?m.jsx("div",{className:"sin-historial",children:m.jsx("p",{children:"🕒 Todavía no ha habido ninguna transacción"})}):m.jsx("ul",{className:"lista-historial",children:e.map(O=>{const z={color:"#e74c3c"},G={color:"#2ecc71"},ne={color:"white"};let Z;return O.tipo==="venta directa"?Z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:ne,children:O.vendedorNombre})," ha vendido de forma rápida a"," ",m.jsx("strong",{style:ne,children:O.jugadorNombre})," por"," ",m.jsx("strong",{style:G,children:L(O.precio)})]}):O.tipo==="clausulazo"?Z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:ne,children:O.compradorNombre})," ha pagado la cláusula de"," ",m.jsx("strong",{style:G,children:O.jugadorNombre})," a"," ",m.jsx("strong",{style:ne,children:O.vendedorNombre})," por"," ",m.jsx("strong",{style:G,children:L(O.precio)})]}):Z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:ne,children:O.compradorNombre})," ha pagado"," ",m.jsx("strong",{style:z,children:L(O.precio)})," por"," ",m.jsx("strong",{style:ne,children:O.jugadorNombre})," a"," ",m.jsx("strong",{style:ne,children:O.vendedorNombre})]}),m.jsx("li",{className:"historial-item",children:m.jsxs("div",{className:"historial-card",children:[m.jsx("img",{src:O.fotoJugador,alt:O.jugadorNombre,className:"historial-foto"}),m.jsxs("div",{className:"historial-info",children:[m.jsx("p",{children:Z}),m.jsx("small",{children:O.fecha?.toDate?O.fecha.toDate().toLocaleString("es-ES"):""})]})]})},O.id)})})})]})]})]})}function u4({usuario:t}){return m.jsx("main",{className:"fallback-root",role:"main",children:m.jsxs("div",{className:"fallback-card","aria-live":"polite",children:[m.jsx("div",{className:"fallback-illustration","aria-hidden":"true",children:m.jsxs("svg",{viewBox:"0 0 600 400",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"g1",x1:"0",x2:"1",children:[m.jsx("stop",{offset:"0",stopColor:"#06202a"}),m.jsx("stop",{offset:"1",stopColor:"#072f34"})]})}),m.jsx("rect",{width:"100%",height:"100%",rx:"16",fill:"url(#g1)",opacity:"0.12"}),m.jsxs("g",{transform:"translate(50,40)",fill:"none",stroke:"#bfe7e8",strokeOpacity:"0.08",strokeWidth:"6",children:[m.jsx("path",{d:"M0 150 C 120 10, 360 10, 480 150",strokeLinecap:"round"}),m.jsx("circle",{cx:"120",cy:"120",r:"18"}),m.jsx("circle",{cx:"360",cy:"120",r:"18"})]})]})}),m.jsxs("div",{className:"fallback-body",children:[m.jsx("h1",{className:"fallback-title",children:"Página no encontrada"}),m.jsxs("p",{className:"fallback-sub",children:["Lo sentimos, la ruta que buscas no existe o ha sido movida.",t?" Vamos a llevarte a tu panel.":" Usa el botón para volver al inicio."]}),m.jsxs("div",{className:"fallback-actions",children:[m.jsx(ht,{to:t?"/home":"/",className:"btn-primary",children:"Volver al inicio"}),t&&m.jsx(ht,{to:"/mercado",className:"btn-ghost",children:"Ir al mercado"})]}),m.jsx("small",{className:"fallback-hint",children:"Si crees que esto es un error, revisa la URL o contacta con soporte."})]})]})})}const d4=Kr(kn),h4=Jn(kn);function f4(){const[t,e]=C.useState(null),[n,r]=C.useState(!0);return C.useEffect(()=>{const o=mR(d4,async a=>{if(a)try{const u=await Jt(Be(h4,"usuarios",a.uid));u.exists()?e({uid:a.uid,...u.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(u){console.error("Error obteniendo datos de usuario:",u),e(null)}else e(null);r(!1)});return()=>o()},[]),n?m.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):m.jsx(eO,{children:m.jsxs(AD,{children:[m.jsx(ro,{path:"/",element:t?m.jsx(yl,{to:"/home",replace:!0}):m.jsx(sM,{})}),m.jsx(ro,{path:"/home",element:t?m.jsx(MM,{usuario:t}):m.jsx(yl,{to:"/",replace:!0})}),m.jsx(ro,{path:"/mercado",element:t?m.jsx(FM,{usuario:t}):m.jsx(yl,{to:"/",replace:!0})}),m.jsx(ro,{path:"/clasificacion",element:t?m.jsx(r4,{usuario:t}):m.jsx(yl,{to:"/",replace:!0})}),m.jsx(ro,{path:"/equipo/:jugadorId",element:t?m.jsx(a4,{usuario:t}):m.jsx(yl,{to:"/",replace:!0})}),m.jsx(ro,{path:"/historial",element:t?m.jsx(c4,{usuario:t}):m.jsx(yl,{to:"/",replace:!0})}),m.jsx(ro,{path:"*",element:m.jsx(u4,{usuario:t})})]})})}SS.createRoot(document.getElementById("root")).render(m.jsx(C.StrictMode,{children:m.jsx(f4,{})}));
