(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function ZI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nm={exports:{}},Pu={},rm={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function eS(){if(e_)return ze;e_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function O(M,G,fe){this.props=M,this.context=G,this.refs=j,this.updater=fe||x}O.prototype.isReactComponent={},O.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},O.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=O.prototype;function z(M,G,fe){this.props=M,this.context=G,this.refs=j,this.updater=fe||x}var K=z.prototype=new W;K.constructor=z,D(K,O.prototype),K.isPureReactComponent=!0;var Z=Array.isArray,ce=Object.prototype.hasOwnProperty,se={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function C(M,G,fe){var Ee,Ne={},Oe=null,Fe=null;if(G!=null)for(Ee in G.ref!==void 0&&(Fe=G.ref),G.key!==void 0&&(Oe=""+G.key),G)ce.call(G,Ee)&&!R.hasOwnProperty(Ee)&&(Ne[Ee]=G[Ee]);var Me=arguments.length-2;if(Me===1)Ne.children=fe;else if(1<Me){for(var $e=Array(Me),ot=0;ot<Me;ot++)$e[ot]=arguments[ot+2];Ne.children=$e}if(M&&M.defaultProps)for(Ee in Me=M.defaultProps,Me)Ne[Ee]===void 0&&(Ne[Ee]=Me[Ee]);return{$$typeof:t,type:M,key:Oe,ref:Fe,props:Ne,_owner:se.current}}function I(M,G){return{$$typeof:t,type:M.type,key:G,ref:M.ref,props:M.props,_owner:M._owner}}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function V(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(fe){return G[fe]})}var $=/\/+/g;function k(M,G){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):G.toString(36)}function ge(M,G,fe,Ee,Ne){var Oe=typeof M;(Oe==="undefined"||Oe==="boolean")&&(M=null);var Fe=!1;if(M===null)Fe=!0;else switch(Oe){case"string":case"number":Fe=!0;break;case"object":switch(M.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=M,Ne=Ne(Fe),M=Ee===""?"."+k(Fe,0):Ee,Z(Ne)?(fe="",M!=null&&(fe=M.replace($,"$&/")+"/"),ge(Ne,G,fe,"",function(ot){return ot})):Ne!=null&&(N(Ne)&&(Ne=I(Ne,fe+(!Ne.key||Fe&&Fe.key===Ne.key?"":(""+Ne.key).replace($,"$&/")+"/")+M)),G.push(Ne)),1;if(Fe=0,Ee=Ee===""?".":Ee+":",Z(M))for(var Me=0;Me<M.length;Me++){Oe=M[Me];var $e=Ee+k(Oe,Me);Fe+=ge(Oe,G,fe,$e,Ne)}else if($e=b(M),typeof $e=="function")for(M=$e.call(M),Me=0;!(Oe=M.next()).done;)Oe=Oe.value,$e=Ee+k(Oe,Me++),Fe+=ge(Oe,G,fe,$e,Ne);else if(Oe==="object")throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Te(M,G,fe){if(M==null)return M;var Ee=[],Ne=0;return ge(M,Ee,"","",function(Oe){return G.call(fe,Oe,Ne++)}),Ee}function he(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(fe){(M._status===0||M._status===-1)&&(M._status=1,M._result=fe)},function(fe){(M._status===0||M._status===-1)&&(M._status=2,M._result=fe)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var te={current:null},X={transition:null},ue={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:X,ReactCurrentOwner:se};function oe(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:Te,forEach:function(M,G,fe){Te(M,function(){G.apply(this,arguments)},fe)},count:function(M){var G=0;return Te(M,function(){G++}),G},toArray:function(M){return Te(M,function(G){return G})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ze.Component=O,ze.Fragment=n,ze.Profiler=o,ze.PureComponent=z,ze.StrictMode=r,ze.Suspense=p,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,ze.act=oe,ze.cloneElement=function(M,G,fe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ee=D({},M.props),Ne=M.key,Oe=M.ref,Fe=M._owner;if(G!=null){if(G.ref!==void 0&&(Oe=G.ref,Fe=se.current),G.key!==void 0&&(Ne=""+G.key),M.type&&M.type.defaultProps)var Me=M.type.defaultProps;for($e in G)ce.call(G,$e)&&!R.hasOwnProperty($e)&&(Ee[$e]=G[$e]===void 0&&Me!==void 0?Me[$e]:G[$e])}var $e=arguments.length-2;if($e===1)Ee.children=fe;else if(1<$e){Me=Array($e);for(var ot=0;ot<$e;ot++)Me[ot]=arguments[ot+2];Ee.children=Me}return{$$typeof:t,type:M.type,key:Ne,ref:Oe,props:Ee,_owner:Fe}},ze.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},ze.createElement=C,ze.createFactory=function(M){var G=C.bind(null,M);return G.type=M,G},ze.createRef=function(){return{current:null}},ze.forwardRef=function(M){return{$$typeof:h,render:M}},ze.isValidElement=N,ze.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:he}},ze.memo=function(M,G){return{$$typeof:y,type:M,compare:G===void 0?null:G}},ze.startTransition=function(M){var G=X.transition;X.transition={};try{M()}finally{X.transition=G}},ze.unstable_act=oe,ze.useCallback=function(M,G){return te.current.useCallback(M,G)},ze.useContext=function(M){return te.current.useContext(M)},ze.useDebugValue=function(){},ze.useDeferredValue=function(M){return te.current.useDeferredValue(M)},ze.useEffect=function(M,G){return te.current.useEffect(M,G)},ze.useId=function(){return te.current.useId()},ze.useImperativeHandle=function(M,G,fe){return te.current.useImperativeHandle(M,G,fe)},ze.useInsertionEffect=function(M,G){return te.current.useInsertionEffect(M,G)},ze.useLayoutEffect=function(M,G){return te.current.useLayoutEffect(M,G)},ze.useMemo=function(M,G){return te.current.useMemo(M,G)},ze.useReducer=function(M,G,fe){return te.current.useReducer(M,G,fe)},ze.useRef=function(M){return te.current.useRef(M)},ze.useState=function(M){return te.current.useState(M)},ze.useSyncExternalStore=function(M,G,fe){return te.current.useSyncExternalStore(M,G,fe)},ze.useTransition=function(){return te.current.useTransition()},ze.version="18.3.1",ze}var t_;function wg(){return t_||(t_=1,rm.exports=eS()),rm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function tS(){if(n_)return Pu;n_=1;var t=wg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,y){var w,E={},b=null,x=null;y!==void 0&&(b=""+y),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(x=p.ref);for(w in p)r.call(p,w)&&!a.hasOwnProperty(w)&&(E[w]=p[w]);if(h&&h.defaultProps)for(w in p=h.defaultProps,p)E[w]===void 0&&(E[w]=p[w]);return{$$typeof:e,type:h,key:b,ref:x,props:E,_owner:o.current}}return Pu.Fragment=n,Pu.jsx=c,Pu.jsxs=c,Pu}var r_;function nS(){return r_||(r_=1,nm.exports=tS()),nm.exports}var P=nS(),S=wg();const Ue=ZI(S);var xd={},im={exports:{}},Gn={},sm={exports:{}},om={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function rS(){return i_||(i_=1,(function(t){function e(X,ue){var oe=X.length;X.push(ue);e:for(;0<oe;){var M=oe-1>>>1,G=X[M];if(0<o(G,ue))X[M]=ue,X[oe]=G,oe=M;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],oe=X.pop();if(oe!==ue){X[0]=oe;e:for(var M=0,G=X.length,fe=G>>>1;M<fe;){var Ee=2*(M+1)-1,Ne=X[Ee],Oe=Ee+1,Fe=X[Oe];if(0>o(Ne,oe))Oe<G&&0>o(Fe,Ne)?(X[M]=Fe,X[Oe]=oe,M=Oe):(X[M]=Ne,X[Ee]=oe,M=Ee);else if(Oe<G&&0>o(Fe,oe))X[M]=Fe,X[Oe]=oe,M=Oe;else break e}}return ue}function o(X,ue){var oe=X.sortIndex-ue.sortIndex;return oe!==0?oe:X.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],y=[],w=1,E=null,b=3,x=!1,D=!1,j=!1,O=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(X){for(var ue=n(y);ue!==null;){if(ue.callback===null)r(y);else if(ue.startTime<=X)r(y),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(y)}}function Z(X){if(j=!1,K(X),!D)if(n(p)!==null)D=!0,he(ce);else{var ue=n(y);ue!==null&&te(Z,ue.startTime-X)}}function ce(X,ue){D=!1,j&&(j=!1,W(C),C=-1),x=!0;var oe=b;try{for(K(ue),E=n(p);E!==null&&(!(E.expirationTime>ue)||X&&!V());){var M=E.callback;if(typeof M=="function"){E.callback=null,b=E.priorityLevel;var G=M(E.expirationTime<=ue);ue=t.unstable_now(),typeof G=="function"?E.callback=G:E===n(p)&&r(p),K(ue)}else r(p);E=n(p)}if(E!==null)var fe=!0;else{var Ee=n(y);Ee!==null&&te(Z,Ee.startTime-ue),fe=!1}return fe}finally{E=null,b=oe,x=!1}}var se=!1,R=null,C=-1,I=5,N=-1;function V(){return!(t.unstable_now()-N<I)}function $(){if(R!==null){var X=t.unstable_now();N=X;var ue=!0;try{ue=R(!0,X)}finally{ue?k():(se=!1,R=null)}}else se=!1}var k;if(typeof z=="function")k=function(){z($)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Te=ge.port2;ge.port1.onmessage=$,k=function(){Te.postMessage(null)}}else k=function(){O($,0)};function he(X){R=X,se||(se=!0,k())}function te(X,ue){C=O(function(){X(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){D||x||(D=!0,he(ce))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var oe=b;b=ue;try{return X()}finally{b=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=b;b=X;try{return ue()}finally{b=oe}},t.unstable_scheduleCallback=function(X,ue,oe){var M=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?M+oe:M):oe=M,X){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,X={id:w++,callback:ue,priorityLevel:X,startTime:oe,expirationTime:G,sortIndex:-1},oe>M?(X.sortIndex=oe,e(y,X),n(p)===null&&X===n(y)&&(j?(W(C),C=-1):j=!0,te(Z,oe-M))):(X.sortIndex=G,e(p,X),D||x||(D=!0,he(ce))),X},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(X){var ue=b;return function(){var oe=b;b=ue;try{return X.apply(this,arguments)}finally{b=oe}}}})(om)),om}var s_;function iS(){return s_||(s_=1,sm.exports=rS()),sm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function sS(){if(o_)return Gn;o_=1;var t=wg(),e=iS();function n(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){c(i,s),c(i+"Capture",s)}function c(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function b(i){return p.call(E,i)?!0:p.call(w,i)?!1:y.test(i)?E[i]=!0:(w[i]=!0,!1)}function x(i,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function D(i,s,l,d){if(s===null||typeof s>"u"||x(i,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(i,s,l,d,f,g,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=g,this.removeEmptyString=_}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){O[i]=new j(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];O[s]=new j(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){O[i]=new j(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){O[i]=new j(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){O[i]=new j(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){O[i]=new j(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){O[i]=new j(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){O[i]=new j(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){O[i]=new j(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(W,z);O[s]=new j(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(W,z);O[s]=new j(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(W,z);O[s]=new j(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){O[i]=new j(i,1,!1,i.toLowerCase(),null,!1,!1)}),O.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){O[i]=new j(i,1,!1,i.toLowerCase(),null,!0,!0)});function K(i,s,l,d){var f=O.hasOwnProperty(s)?O[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,l,f,d)&&(l=null),d||f===null?b(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):f.mustUseProperty?i[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,d=f.attributeNamespace,l===null?i.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?i.setAttributeNS(d,s,l):i.setAttribute(s,l))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),se=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),X=Symbol.iterator;function ue(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,M;function G(i){if(M===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+i}var fe=!1;function Ee(i,s){if(!i||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var d=q}Reflect.construct(i,[],s)}else{try{s.call()}catch(q){d=q}i.call(s.prototype)}else{try{throw Error()}catch(q){d=q}i()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),g=d.stack.split(`
`),_=f.length-1,A=g.length-1;1<=_&&0<=A&&f[_]!==g[A];)A--;for(;1<=_&&0<=A;_--,A--)if(f[_]!==g[A]){if(_!==1||A!==1)do if(_--,A--,0>A||f[_]!==g[A]){var L=`
`+f[_].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=_&&0<=A);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?G(i):""}function Ne(i){switch(i.tag){case 5:return G(i.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return i=Ee(i.type,!1),i;case 11:return i=Ee(i.type.render,!1),i;case 1:return i=Ee(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case se:return"Portal";case I:return"Profiler";case C:return"StrictMode";case k:return"Suspense";case ge:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case $:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Te:return s=i.displayName||null,s!==null?s:Oe(i.type)||"Memo";case he:s=i._payload,i=i._init;try{return Oe(i(s))}catch{}}return null}function Fe(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $e(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ot(i){var s=$e(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){d=""+_,g.call(this,_)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Et(i){i._valueTracker||(i._valueTracker=ot(i))}function bt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return i&&(d=$e(i)?i.checked?"true":"false":i.value),i=d,i!==l?(s.setValue(i),!0):!1}function Xn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function pr(i,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function ti(i,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Me(s.value!=null?s.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Oi(i,s){s=s.checked,s!=null&&K(i,"checked",s,!1)}function Di(i,s){Oi(i,s);var l=Me(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?ys(i,s.type,l):s.hasOwnProperty("defaultValue")&&ys(i,s.type,Me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function pt(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function ys(i,s,l){(s!=="number"||Xn(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Vn=Array.isArray;function mr(i,s,l,d){if(i=i.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<i.length;l++)f=s.hasOwnProperty("$"+i[l].value),i[l].selected!==f&&(i[l].selected=f),f&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Me(l),s=null,f=0;f<i.length;f++){if(i[f].value===l){i[f].selected=!0,d&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function ws(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Li(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(Vn(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Me(l)}}function Vi(i,s){var l=Me(s.value),d=Me(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function _o(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Pt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Pt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Jn,Eo=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,f){MSApp.execUnsafeLocalFunction(function(){return i(s,l,d,f)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Jn=Jn||document.createElement("div"),Jn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Jn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ni(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ii=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(i){ii.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),ri[s]=ri[i]})});function bo(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ri.hasOwnProperty(i)&&ri[i]?(""+s).trim():s+"px"}function To(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=bo(l,s[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,f):i[l]=f}}var vs=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Co(i,s){if(s){if(vs[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Io(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mi=null;function Fi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _s=null,kn=null,Zn=null;function gr(i){if(i=mu(i)){if(typeof _s!="function")throw Error(n(280));var s=i.stateNode;s&&(s=qc(s),_s(i.stateNode,i.type,s))}}function yr(i){kn?Zn?Zn.push(i):Zn=[i]:kn=i}function So(){if(kn){var i=kn,s=Zn;if(Zn=kn=null,gr(i),s)for(i=0;i<s.length;i++)gr(s[i])}}function si(i,s){return i(s)}function Es(){}var wr=!1;function bs(i,s,l){if(wr)return i(s,l);wr=!0;try{return si(i,s,l)}finally{wr=!1,(kn!==null||Zn!==null)&&(Es(),So())}}function mt(i,s){var l=i.stateNode;if(l===null)return null;var d=qc(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var ji=!1;if(h)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){ji=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{ji=!1}function oi(i,s,l,d,f,g,_,A,L){var q=Array.prototype.slice.call(arguments,3);try{s.apply(l,q)}catch(re){this.onError(re)}}var $i=!1,Ts=null,Mt=!1,an=null,Ro={onError:function(i){$i=!0,Ts=i}};function Ui(i,s,l,d,f,g,_,A,L){$i=!1,Ts=null,oi.apply(Ro,arguments)}function ko(i,s,l,d,f,g,_,A,L){if(Ui.apply(this,arguments),$i){if($i){var q=Ts;$i=!1,Ts=null}else throw Error(n(198));Mt||(Mt=!0,an=q)}}function Rt(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function Fn(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function er(i){if(Rt(i)!==i)throw Error(n(188))}function vr(i){var s=i.alternate;if(!s){if(s=Rt(i),s===null)throw Error(n(188));return s!==i?null:i}for(var l=i,d=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return er(f),i;if(g===d)return er(f),s;g=g.sibling}throw Error(n(188))}if(l.return!==d.return)l=f,d=g;else{for(var _=!1,A=f.child;A;){if(A===l){_=!0,l=f,d=g;break}if(A===d){_=!0,d=f,l=g;break}A=A.sibling}if(!_){for(A=g.child;A;){if(A===l){_=!0,l=g,d=f;break}if(A===d){_=!0,d=g,l=f;break}A=A.sibling}if(!_)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:s}function Cs(i){return i=vr(i),i!==null?Dr(i):null}function Dr(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Dr(i);if(s!==null)return s;i=i.sibling}return null}var Bi=e.unstable_scheduleCallback,Ao=e.unstable_cancelCallback,Ia=e.unstable_shouldYield,Zl=e.unstable_requestPaint,it=e.unstable_now,xt=e.unstable_getCurrentPriorityLevel,tr=e.unstable_ImmediatePriority,ai=e.unstable_UserBlockingPriority,jn=e.unstable_NormalPriority,Po=e.unstable_LowPriority,Sa=e.unstable_IdlePriority,zi=null,An=null;function Ra(i){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(zi,i,void 0,(i.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Aa,xo=Math.log,ka=Math.LN2;function Aa(i){return i>>>=0,i===0?32:31-(xo(i)/ka|0)|0}var Ie=64,Be=4194304;function gt(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Wt(i,s){var l=i.pendingLanes;if(l===0)return 0;var d=0,f=i.suspendedLanes,g=i.pingedLanes,_=l&268435455;if(_!==0){var A=_&~f;A!==0?d=gt(A):(g&=_,g!==0&&(d=gt(g)))}else _=l&~f,_!==0?d=gt(_):g!==0&&(d=gt(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&f)===0&&(f=d&-d,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=d;0<s;)l=31-kt(s),f=1<<l,d|=i[l],s&=~f;return d}function Ae(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(i,s){for(var l=i.suspendedLanes,d=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes;0<g;){var _=31-kt(g),A=1<<_,L=f[_];L===-1?((A&l)===0||(A&d)!==0)&&(f[_]=Ae(A,s)):L<=s&&(i.expiredLanes|=A),g&=~A}}function Ft(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function mn(){var i=Ie;return Ie<<=1,(Ie&4194240)===0&&(Ie=64),i}function Is(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Ss(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-kt(s),i[s]=l}function st(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var f=31-kt(l),g=1<<f;s[f]=0,d[f]=-1,i[f]=-1,l&=~g}}function Rs(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var d=31-kt(l),f=1<<d;f&s|i[d]&s&&(i[d]|=s),l&=~f}}var Ke=0;function ks(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ic,Pa,Sc,Rc,kc,eu=!1,li=[],ln=null,Lr=null,Vr=null,As=new Map,_r=new Map,ui=[],Of="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ac(i,s){switch(i){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":As.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(s.pointerId)}}function $n(i,s,l,d,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},s!==null&&(s=mu(s),s!==null&&Pa(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function Df(i,s,l,d,f){switch(s){case"focusin":return ln=$n(ln,i,s,l,d,f),!0;case"dragenter":return Lr=$n(Lr,i,s,l,d,f),!0;case"mouseover":return Vr=$n(Vr,i,s,l,d,f),!0;case"pointerover":var g=f.pointerId;return As.set(g,$n(As.get(g)||null,i,s,l,d,f)),!0;case"gotpointercapture":return g=f.pointerId,_r.set(g,$n(_r.get(g)||null,i,s,l,d,f)),!0}return!1}function Pc(i){var s=Vo(i.target);if(s!==null){var l=Rt(s);if(l!==null){if(s=l.tag,s===13){if(s=Fn(l),s!==null){i.blockedOn=s,kc(i.priority,function(){Sc(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hi(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=xa(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Mi=d,l.target.dispatchEvent(d),Mi=null}else return s=mu(l),s!==null&&Pa(s),i.blockedOn=l,!1;s.shift()}return!0}function No(i,s,l){Hi(i)&&l.delete(s)}function xc(){eu=!1,ln!==null&&Hi(ln)&&(ln=null),Lr!==null&&Hi(Lr)&&(Lr=null),Vr!==null&&Hi(Vr)&&(Vr=null),As.forEach(No),_r.forEach(No)}function Mr(i,s){i.blockedOn===s&&(i.blockedOn=null,eu||(eu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xc)))}function Fr(i){function s(f){return Mr(f,i)}if(0<li.length){Mr(li[0],i);for(var l=1;l<li.length;l++){var d=li[l];d.blockedOn===i&&(d.blockedOn=null)}}for(ln!==null&&Mr(ln,i),Lr!==null&&Mr(Lr,i),Vr!==null&&Mr(Vr,i),As.forEach(s),_r.forEach(s),l=0;l<ui.length;l++)d=ui[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<ui.length&&(l=ui[0],l.blockedOn===null);)Pc(l),l.blockedOn===null&&ui.shift()}var Wi=Z.ReactCurrentBatchConfig,Ps=!0;function yt(i,s,l,d){var f=Ke,g=Wi.transition;Wi.transition=null;try{Ke=1,tu(i,s,l,d)}finally{Ke=f,Wi.transition=g}}function Lf(i,s,l,d){var f=Ke,g=Wi.transition;Wi.transition=null;try{Ke=4,tu(i,s,l,d)}finally{Ke=f,Wi.transition=g}}function tu(i,s,l,d){if(Ps){var f=xa(i,s,l,d);if(f===null)qf(i,s,d,Oo,l),Ac(i,d);else if(Df(f,i,s,l,d))d.stopPropagation();else if(Ac(i,d),s&4&&-1<Of.indexOf(i)){for(;f!==null;){var g=mu(f);if(g!==null&&Ic(g),g=xa(i,s,l,d),g===null&&qf(i,s,d,Oo,l),g===f)break;f=g}f!==null&&d.stopPropagation()}else qf(i,s,d,null,l)}}var Oo=null;function xa(i,s,l,d){if(Oo=null,i=Fi(d),i=Vo(i),i!==null)if(s=Rt(i),s===null)i=null;else if(l=s.tag,l===13){if(i=Fn(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Oo=i,null}function nu(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xt()){case tr:return 1;case ai:return 4;case jn:case Po:return 16;case Sa:return 536870912;default:return 16}default:return 16}}var rr=null,Na=null,Un=null;function ru(){if(Un)return Un;var i,s=Na,l=s.length,d,f="value"in rr?rr.value:rr.textContent,g=f.length;for(i=0;i<l&&s[i]===f[i];i++);var _=l-i;for(d=1;d<=_&&s[l-d]===f[g-d];d++);return Un=f.slice(i,1<d?1-d:void 0)}function Oa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ci(){return!0}function iu(){return!1}function un(i){function s(l,d,f,g,_){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ci:iu,this.isPropagationStopped=iu,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),s}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=un(jr),di=oe({},jr,{view:0,detail:0}),Vf=un(di),La,qi,xs,Do=oe({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hi,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==xs&&(xs&&i.type==="mousemove"?(La=i.screenX-xs.screenX,qi=i.screenY-xs.screenY):qi=La=0,xs=i),La)},movementY:function(i){return"movementY"in i?i.movementY:qi}}),Va=un(Do),su=oe({},Do,{dataTransfer:0}),Nc=un(su),Ma=oe({},di,{relatedTarget:0}),Fa=un(Ma),Oc=oe({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gi=un(Oc),Dc=oe({},jr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Lc=un(Dc),Vc=oe({},jr,{data:0}),ou=un(Vc),ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Mc[i])?!!s[i]:!1}function hi(){return Fc}var u=oe({},di,{key:function(i){if(i.key){var s=ja[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hi,charCode:function(i){return i.type==="keypress"?Oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),m=un(u),v=oe({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=un(v),U=oe({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hi}),Q=un(U),de=oe({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rt=un(de),qt=oe({},Do,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=un(qt),Jt=[9,13,27,32],jt=h&&"CompositionEvent"in window,Er=null;h&&"documentMode"in document&&(Er=document.documentMode);var ir=h&&"TextEvent"in window&&!Er,Lo=h&&(!jt||Er&&8<Er&&11>=Er),$a=" ",Ky=!1;function Qy(i,s){switch(i){case"keyup":return Jt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ua=!1;function YC(i,s){switch(i){case"compositionend":return Yy(s);case"keypress":return s.which!==32?null:(Ky=!0,$a);case"textInput":return i=s.data,i===$a&&Ky?null:i;default:return null}}function XC(i,s){if(Ua)return i==="compositionend"||!jt&&Qy(i,s)?(i=ru(),Un=Na=rr=null,Ua=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Lo&&s.locale!=="ko"?null:s.data;default:return null}}var JC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!JC[i.type]:s==="textarea"}function Jy(i,s,l,d){yr(d),s=zc(s,"onChange"),0<s.length&&(l=new Da("onChange","change",null,l,d),i.push({event:l,listeners:s}))}var au=null,lu=null;function ZC(i){gw(i,0)}function jc(i){var s=qa(i);if(bt(s))return i}function eI(i,s){if(i==="change")return s}var Zy=!1;if(h){var Mf;if(h){var Ff="oninput"in document;if(!Ff){var ew=document.createElement("div");ew.setAttribute("oninput","return;"),Ff=typeof ew.oninput=="function"}Mf=Ff}else Mf=!1;Zy=Mf&&(!document.documentMode||9<document.documentMode)}function tw(){au&&(au.detachEvent("onpropertychange",nw),lu=au=null)}function nw(i){if(i.propertyName==="value"&&jc(lu)){var s=[];Jy(s,lu,i,Fi(i)),bs(ZC,s)}}function tI(i,s,l){i==="focusin"?(tw(),au=s,lu=l,au.attachEvent("onpropertychange",nw)):i==="focusout"&&tw()}function nI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jc(lu)}function rI(i,s){if(i==="click")return jc(s)}function iI(i,s){if(i==="input"||i==="change")return jc(s)}function sI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var $r=typeof Object.is=="function"?Object.is:sI;function uu(i,s){if($r(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(s,f)||!$r(i[f],s[f]))return!1}return!0}function rw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function iw(i,s){var l=rw(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=s&&d>=s)return{node:l,offset:s-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=rw(l)}}function sw(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?sw(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ow(){for(var i=window,s=Xn();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Xn(i.document)}return s}function jf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function oI(i){var s=ow(),l=i.focusedElem,d=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&sw(l.ownerDocument.documentElement,l)){if(d!==null&&jf(l)){if(s=d.start,i=d.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var f=l.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!i.extend&&g>d&&(f=d,d=g,g=f),f=iw(l,g);var _=iw(l,d);f&&_&&(i.rangeCount!==1||i.anchorNode!==f.node||i.anchorOffset!==f.offset||i.focusNode!==_.node||i.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),i.removeAllRanges(),g>d?(i.addRange(s),i.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var aI=h&&"documentMode"in document&&11>=document.documentMode,Ba=null,$f=null,cu=null,Uf=!1;function aw(i,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Uf||Ba==null||Ba!==Xn(d)||(d=Ba,"selectionStart"in d&&jf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),cu&&uu(cu,d)||(cu=d,d=zc($f,"onSelect"),0<d.length&&(s=new Da("onSelect","select",null,s,l),i.push({event:s,listeners:d}),s.target=Ba)))}function $c(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var za={animationend:$c("Animation","AnimationEnd"),animationiteration:$c("Animation","AnimationIteration"),animationstart:$c("Animation","AnimationStart"),transitionend:$c("Transition","TransitionEnd")},Bf={},lw={};h&&(lw=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Uc(i){if(Bf[i])return Bf[i];if(!za[i])return i;var s=za[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in lw)return Bf[i]=s[l];return i}var uw=Uc("animationend"),cw=Uc("animationiteration"),dw=Uc("animationstart"),hw=Uc("transitionend"),fw=new Map,pw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(i,s){fw.set(i,s),a(s,[i])}for(var zf=0;zf<pw.length;zf++){var Hf=pw[zf],lI=Hf.toLowerCase(),uI=Hf[0].toUpperCase()+Hf.slice(1);Ns(lI,"on"+uI)}Ns(uw,"onAnimationEnd"),Ns(cw,"onAnimationIteration"),Ns(dw,"onAnimationStart"),Ns("dblclick","onDoubleClick"),Ns("focusin","onFocus"),Ns("focusout","onBlur"),Ns(hw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cI=new Set("cancel close invalid load scroll toggle".split(" ").concat(du));function mw(i,s,l){var d=i.type||"unknown-event";i.currentTarget=l,ko(d,s,void 0,i),i.currentTarget=null}function gw(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],f=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var _=d.length-1;0<=_;_--){var A=d[_],L=A.instance,q=A.currentTarget;if(A=A.listener,L!==g&&f.isPropagationStopped())break e;mw(f,A,q),g=L}else for(_=0;_<d.length;_++){if(A=d[_],L=A.instance,q=A.currentTarget,A=A.listener,L!==g&&f.isPropagationStopped())break e;mw(f,A,q),g=L}}}if(Mt)throw i=an,Mt=!1,an=null,i}function ct(i,s){var l=s[Jf];l===void 0&&(l=s[Jf]=new Set);var d=i+"__bubble";l.has(d)||(yw(s,i,2,!1),l.add(d))}function Wf(i,s,l){var d=0;s&&(d|=4),yw(l,i,d,s)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function hu(i){if(!i[Bc]){i[Bc]=!0,r.forEach(function(l){l!=="selectionchange"&&(cI.has(l)||Wf(l,!1,i),Wf(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Bc]||(s[Bc]=!0,Wf("selectionchange",!1,s))}}function yw(i,s,l,d){switch(nu(s)){case 1:var f=yt;break;case 4:f=Lf;break;default:f=tu}l=f.bind(null,s,l,i),f=void 0,!ji||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?i.addEventListener(s,l,{capture:!0,passive:f}):i.addEventListener(s,l,!0):f!==void 0?i.addEventListener(s,l,{passive:f}):i.addEventListener(s,l,!1)}function qf(i,s,l,d,f){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var A=d.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(_===4)for(_=d.return;_!==null;){var L=_.tag;if((L===3||L===4)&&(L=_.stateNode.containerInfo,L===f||L.nodeType===8&&L.parentNode===f))return;_=_.return}for(;A!==null;){if(_=Vo(A),_===null)return;if(L=_.tag,L===5||L===6){d=g=_;continue e}A=A.parentNode}}d=d.return}bs(function(){var q=g,re=Fi(l),ie=[];e:{var ne=fw.get(i);if(ne!==void 0){var me=Da,ve=i;switch(i){case"keypress":if(Oa(l)===0)break e;case"keydown":case"keyup":me=m;break;case"focusin":ve="focus",me=Fa;break;case"focusout":ve="blur",me=Fa;break;case"beforeblur":case"afterblur":me=Fa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Q;break;case uw:case cw:case dw:me=Gi;break;case hw:me=rt;break;case"scroll":me=Vf;break;case"wheel":me=Qe;break;case"copy":case"cut":case"paste":me=Lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=T}var _e=(s&4)!==0,Nt=!_e&&i==="scroll",B=_e?ne!==null?ne+"Capture":null:ne;_e=[];for(var F=q,H;F!==null;){H=F;var le=H.stateNode;if(H.tag===5&&le!==null&&(H=le,B!==null&&(le=mt(F,B),le!=null&&_e.push(fu(F,le,H)))),Nt)break;F=F.return}0<_e.length&&(ne=new me(ne,ve,null,l,re),ie.push({event:ne,listeners:_e}))}}if((s&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",ne&&l!==Mi&&(ve=l.relatedTarget||l.fromElement)&&(Vo(ve)||ve[Ki]))break e;if((me||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,me?(ve=l.relatedTarget||l.toElement,me=q,ve=ve?Vo(ve):null,ve!==null&&(Nt=Rt(ve),ve!==Nt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=q),me!==ve)){if(_e=Va,le="onMouseLeave",B="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(_e=T,le="onPointerLeave",B="onPointerEnter",F="pointer"),Nt=me==null?ne:qa(me),H=ve==null?ne:qa(ve),ne=new _e(le,F+"leave",me,l,re),ne.target=Nt,ne.relatedTarget=H,le=null,Vo(re)===q&&(_e=new _e(B,F+"enter",ve,l,re),_e.target=H,_e.relatedTarget=Nt,le=_e),Nt=le,me&&ve)t:{for(_e=me,B=ve,F=0,H=_e;H;H=Ha(H))F++;for(H=0,le=B;le;le=Ha(le))H++;for(;0<F-H;)_e=Ha(_e),F--;for(;0<H-F;)B=Ha(B),H--;for(;F--;){if(_e===B||B!==null&&_e===B.alternate)break t;_e=Ha(_e),B=Ha(B)}_e=null}else _e=null;me!==null&&ww(ie,ne,me,_e,!1),ve!==null&&Nt!==null&&ww(ie,Nt,ve,_e,!0)}}e:{if(ne=q?qa(q):window,me=ne.nodeName&&ne.nodeName.toLowerCase(),me==="select"||me==="input"&&ne.type==="file")var be=eI;else if(Xy(ne))if(Zy)be=iI;else{be=nI;var Se=tI}else(me=ne.nodeName)&&me.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(be=rI);if(be&&(be=be(i,q))){Jy(ie,be,l,re);break e}Se&&Se(i,ne,q),i==="focusout"&&(Se=ne._wrapperState)&&Se.controlled&&ne.type==="number"&&ys(ne,"number",ne.value)}switch(Se=q?qa(q):window,i){case"focusin":(Xy(Se)||Se.contentEditable==="true")&&(Ba=Se,$f=q,cu=null);break;case"focusout":cu=$f=Ba=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,aw(ie,l,re);break;case"selectionchange":if(aI)break;case"keydown":case"keyup":aw(ie,l,re)}var Re;if(jt)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ua?Qy(i,l)&&(De="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(Lo&&l.locale!=="ko"&&(Ua||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ua&&(Re=ru()):(rr=re,Na="value"in rr?rr.value:rr.textContent,Ua=!0)),Se=zc(q,De),0<Se.length&&(De=new ou(De,i,null,l,re),ie.push({event:De,listeners:Se}),Re?De.data=Re:(Re=Yy(l),Re!==null&&(De.data=Re)))),(Re=ir?YC(i,l):XC(i,l))&&(q=zc(q,"onBeforeInput"),0<q.length&&(re=new ou("onBeforeInput","beforeinput",null,l,re),ie.push({event:re,listeners:q}),re.data=Re))}gw(ie,s)})}function fu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function zc(i,s){for(var l=s+"Capture",d=[];i!==null;){var f=i,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=mt(i,l),g!=null&&d.unshift(fu(i,g,f)),g=mt(i,s),g!=null&&d.push(fu(i,g,f))),i=i.return}return d}function Ha(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ww(i,s,l,d,f){for(var g=s._reactName,_=[];l!==null&&l!==d;){var A=l,L=A.alternate,q=A.stateNode;if(L!==null&&L===d)break;A.tag===5&&q!==null&&(A=q,f?(L=mt(l,g),L!=null&&_.unshift(fu(l,L,A))):f||(L=mt(l,g),L!=null&&_.push(fu(l,L,A)))),l=l.return}_.length!==0&&i.push({event:s,listeners:_})}var dI=/\r\n?/g,hI=/\u0000|\uFFFD/g;function vw(i){return(typeof i=="string"?i:""+i).replace(dI,`
`).replace(hI,"")}function Hc(i,s,l){if(s=vw(s),vw(i)!==s&&l)throw Error(n(425))}function Wc(){}var Gf=null,Kf=null;function Qf(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,fI=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,pI=typeof queueMicrotask=="function"?queueMicrotask:typeof _w<"u"?function(i){return _w.resolve(null).then(i).catch(mI)}:Yf;function mI(i){setTimeout(function(){throw i})}function Xf(i,s){var l=s,d=0;do{var f=l.nextSibling;if(i.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){i.removeChild(f),Fr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);Fr(s)}function Os(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Ew(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),fi="__reactFiber$"+Wa,pu="__reactProps$"+Wa,Ki="__reactContainer$"+Wa,Jf="__reactEvents$"+Wa,gI="__reactListeners$"+Wa,yI="__reactHandles$"+Wa;function Vo(i){var s=i[fi];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Ki]||l[fi]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Ew(i);i!==null;){if(l=i[fi])return l;i=Ew(i)}return s}i=l,l=i.parentNode}return null}function mu(i){return i=i[fi]||i[Ki],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function qa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function qc(i){return i[pu]||null}var Zf=[],Ga=-1;function Ds(i){return{current:i}}function dt(i){0>Ga||(i.current=Zf[Ga],Zf[Ga]=null,Ga--)}function at(i,s){Ga++,Zf[Ga]=i.current,i.current=s}var Ls={},gn=Ds(Ls),Bn=Ds(!1),Mo=Ls;function Ka(i,s){var l=i.type.contextTypes;if(!l)return Ls;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=f),f}function zn(i){return i=i.childContextTypes,i!=null}function Gc(){dt(Bn),dt(gn)}function bw(i,s,l){if(gn.current!==Ls)throw Error(n(168));at(gn,s),at(Bn,l)}function Tw(i,s,l){var d=i.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(n(108,Fe(i)||"Unknown",f));return oe({},l,d)}function Kc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ls,Mo=gn.current,at(gn,i),at(Bn,Bn.current),!0}function Cw(i,s,l){var d=i.stateNode;if(!d)throw Error(n(169));l?(i=Tw(i,s,Mo),d.__reactInternalMemoizedMergedChildContext=i,dt(Bn),dt(gn),at(gn,i)):dt(Bn),at(Bn,l)}var Qi=null,Qc=!1,ep=!1;function Iw(i){Qi===null?Qi=[i]:Qi.push(i)}function wI(i){Qc=!0,Iw(i)}function Vs(){if(!ep&&Qi!==null){ep=!0;var i=0,s=Ke;try{var l=Qi;for(Ke=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Qi=null,Qc=!1}catch(f){throw Qi!==null&&(Qi=Qi.slice(i+1)),Bi(tr,Vs),f}finally{Ke=s,ep=!1}}return null}var Qa=[],Ya=0,Yc=null,Xc=0,br=[],Tr=0,Fo=null,Yi=1,Xi="";function jo(i,s){Qa[Ya++]=Xc,Qa[Ya++]=Yc,Yc=i,Xc=s}function Sw(i,s,l){br[Tr++]=Yi,br[Tr++]=Xi,br[Tr++]=Fo,Fo=i;var d=Yi;i=Xi;var f=32-kt(d)-1;d&=~(1<<f),l+=1;var g=32-kt(s)+f;if(30<g){var _=f-f%5;g=(d&(1<<_)-1).toString(32),d>>=_,f-=_,Yi=1<<32-kt(s)+f|l<<f|d,Xi=g+i}else Yi=1<<g|l<<f|d,Xi=i}function tp(i){i.return!==null&&(jo(i,1),Sw(i,1,0))}function np(i){for(;i===Yc;)Yc=Qa[--Ya],Qa[Ya]=null,Xc=Qa[--Ya],Qa[Ya]=null;for(;i===Fo;)Fo=br[--Tr],br[Tr]=null,Xi=br[--Tr],br[Tr]=null,Yi=br[--Tr],br[Tr]=null}var sr=null,or=null,wt=!1,Ur=null;function Rw(i,s){var l=Rr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function kw(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,sr=i,or=Os(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,sr=i,or=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Fo!==null?{id:Yi,overflow:Xi}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Rr(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,sr=i,or=null,!0):!1;default:return!1}}function rp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ip(i){if(wt){var s=or;if(s){var l=s;if(!kw(i,s)){if(rp(i))throw Error(n(418));s=Os(l.nextSibling);var d=sr;s&&kw(i,s)?Rw(d,l):(i.flags=i.flags&-4097|2,wt=!1,sr=i)}}else{if(rp(i))throw Error(n(418));i.flags=i.flags&-4097|2,wt=!1,sr=i}}}function Aw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;sr=i}function Jc(i){if(i!==sr)return!1;if(!wt)return Aw(i),wt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Qf(i.type,i.memoizedProps)),s&&(s=or)){if(rp(i))throw Pw(),Error(n(418));for(;s;)Rw(i,s),s=Os(s.nextSibling)}if(Aw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){or=Os(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}or=null}}else or=sr?Os(i.stateNode.nextSibling):null;return!0}function Pw(){for(var i=or;i;)i=Os(i.nextSibling)}function Xa(){or=sr=null,wt=!1}function sp(i){Ur===null?Ur=[i]:Ur.push(i)}var vI=Z.ReactCurrentBatchConfig;function gu(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,i));var f=d,g=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var A=f.refs;_===null?delete A[g]:A[g]=_},s._stringRef=g,s)}if(typeof i!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,i))}return i}function Zc(i,s){throw i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function xw(i){var s=i._init;return s(i._payload)}function Nw(i){function s(B,F){if(i){var H=B.deletions;H===null?(B.deletions=[F],B.flags|=16):H.push(F)}}function l(B,F){if(!i)return null;for(;F!==null;)s(B,F),F=F.sibling;return null}function d(B,F){for(B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function f(B,F){return B=Hs(B,F),B.index=0,B.sibling=null,B}function g(B,F,H){return B.index=H,i?(H=B.alternate,H!==null?(H=H.index,H<F?(B.flags|=2,F):H):(B.flags|=2,F)):(B.flags|=1048576,F)}function _(B){return i&&B.alternate===null&&(B.flags|=2),B}function A(B,F,H,le){return F===null||F.tag!==6?(F=Yp(H,B.mode,le),F.return=B,F):(F=f(F,H),F.return=B,F)}function L(B,F,H,le){var be=H.type;return be===R?re(B,F,H.props.children,le,H.key):F!==null&&(F.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===he&&xw(be)===F.type)?(le=f(F,H.props),le.ref=gu(B,F,H),le.return=B,le):(le=Td(H.type,H.key,H.props,null,B.mode,le),le.ref=gu(B,F,H),le.return=B,le)}function q(B,F,H,le){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=Xp(H,B.mode,le),F.return=B,F):(F=f(F,H.children||[]),F.return=B,F)}function re(B,F,H,le,be){return F===null||F.tag!==7?(F=Go(H,B.mode,le,be),F.return=B,F):(F=f(F,H),F.return=B,F)}function ie(B,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Yp(""+F,B.mode,H),F.return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ce:return H=Td(F.type,F.key,F.props,null,B.mode,H),H.ref=gu(B,null,F),H.return=B,H;case se:return F=Xp(F,B.mode,H),F.return=B,F;case he:var le=F._init;return ie(B,le(F._payload),H)}if(Vn(F)||ue(F))return F=Go(F,B.mode,H,null),F.return=B,F;Zc(B,F)}return null}function ne(B,F,H,le){var be=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return be!==null?null:A(B,F,""+H,le);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ce:return H.key===be?L(B,F,H,le):null;case se:return H.key===be?q(B,F,H,le):null;case he:return be=H._init,ne(B,F,be(H._payload),le)}if(Vn(H)||ue(H))return be!==null?null:re(B,F,H,le,null);Zc(B,H)}return null}function me(B,F,H,le,be){if(typeof le=="string"&&le!==""||typeof le=="number")return B=B.get(H)||null,A(F,B,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case ce:return B=B.get(le.key===null?H:le.key)||null,L(F,B,le,be);case se:return B=B.get(le.key===null?H:le.key)||null,q(F,B,le,be);case he:var Se=le._init;return me(B,F,H,Se(le._payload),be)}if(Vn(le)||ue(le))return B=B.get(H)||null,re(F,B,le,be,null);Zc(F,le)}return null}function ve(B,F,H,le){for(var be=null,Se=null,Re=F,De=F=0,tn=null;Re!==null&&De<H.length;De++){Re.index>De?(tn=Re,Re=null):tn=Re.sibling;var Je=ne(B,Re,H[De],le);if(Je===null){Re===null&&(Re=tn);break}i&&Re&&Je.alternate===null&&s(B,Re),F=g(Je,F,De),Se===null?be=Je:Se.sibling=Je,Se=Je,Re=tn}if(De===H.length)return l(B,Re),wt&&jo(B,De),be;if(Re===null){for(;De<H.length;De++)Re=ie(B,H[De],le),Re!==null&&(F=g(Re,F,De),Se===null?be=Re:Se.sibling=Re,Se=Re);return wt&&jo(B,De),be}for(Re=d(B,Re);De<H.length;De++)tn=me(Re,B,De,H[De],le),tn!==null&&(i&&tn.alternate!==null&&Re.delete(tn.key===null?De:tn.key),F=g(tn,F,De),Se===null?be=tn:Se.sibling=tn,Se=tn);return i&&Re.forEach(function(Ws){return s(B,Ws)}),wt&&jo(B,De),be}function _e(B,F,H,le){var be=ue(H);if(typeof be!="function")throw Error(n(150));if(H=be.call(H),H==null)throw Error(n(151));for(var Se=be=null,Re=F,De=F=0,tn=null,Je=H.next();Re!==null&&!Je.done;De++,Je=H.next()){Re.index>De?(tn=Re,Re=null):tn=Re.sibling;var Ws=ne(B,Re,Je.value,le);if(Ws===null){Re===null&&(Re=tn);break}i&&Re&&Ws.alternate===null&&s(B,Re),F=g(Ws,F,De),Se===null?be=Ws:Se.sibling=Ws,Se=Ws,Re=tn}if(Je.done)return l(B,Re),wt&&jo(B,De),be;if(Re===null){for(;!Je.done;De++,Je=H.next())Je=ie(B,Je.value,le),Je!==null&&(F=g(Je,F,De),Se===null?be=Je:Se.sibling=Je,Se=Je);return wt&&jo(B,De),be}for(Re=d(B,Re);!Je.done;De++,Je=H.next())Je=me(Re,B,De,Je.value,le),Je!==null&&(i&&Je.alternate!==null&&Re.delete(Je.key===null?De:Je.key),F=g(Je,F,De),Se===null?be=Je:Se.sibling=Je,Se=Je);return i&&Re.forEach(function(JI){return s(B,JI)}),wt&&jo(B,De),be}function Nt(B,F,H,le){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ce:e:{for(var be=H.key,Se=F;Se!==null;){if(Se.key===be){if(be=H.type,be===R){if(Se.tag===7){l(B,Se.sibling),F=f(Se,H.props.children),F.return=B,B=F;break e}}else if(Se.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===he&&xw(be)===Se.type){l(B,Se.sibling),F=f(Se,H.props),F.ref=gu(B,Se,H),F.return=B,B=F;break e}l(B,Se);break}else s(B,Se);Se=Se.sibling}H.type===R?(F=Go(H.props.children,B.mode,le,H.key),F.return=B,B=F):(le=Td(H.type,H.key,H.props,null,B.mode,le),le.ref=gu(B,F,H),le.return=B,B=le)}return _(B);case se:e:{for(Se=H.key;F!==null;){if(F.key===Se)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){l(B,F.sibling),F=f(F,H.children||[]),F.return=B,B=F;break e}else{l(B,F);break}else s(B,F);F=F.sibling}F=Xp(H,B.mode,le),F.return=B,B=F}return _(B);case he:return Se=H._init,Nt(B,F,Se(H._payload),le)}if(Vn(H))return ve(B,F,H,le);if(ue(H))return _e(B,F,H,le);Zc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(l(B,F.sibling),F=f(F,H),F.return=B,B=F):(l(B,F),F=Yp(H,B.mode,le),F.return=B,B=F),_(B)):l(B,F)}return Nt}var Ja=Nw(!0),Ow=Nw(!1),ed=Ds(null),td=null,Za=null,op=null;function ap(){op=Za=td=null}function lp(i){var s=ed.current;dt(ed),i._currentValue=s}function up(i,s,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===l)break;i=i.return}}function el(i,s){td=i,op=Za=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(Hn=!0),i.firstContext=null)}function Cr(i){var s=i._currentValue;if(op!==i)if(i={context:i,memoizedValue:s,next:null},Za===null){if(td===null)throw Error(n(308));Za=i,td.dependencies={lanes:0,firstContext:i}}else Za=Za.next=i;return s}var $o=null;function cp(i){$o===null?$o=[i]:$o.push(i)}function Dw(i,s,l,d){var f=s.interleaved;return f===null?(l.next=l,cp(s)):(l.next=f.next,f.next=l),s.interleaved=l,Ji(i,d)}function Ji(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ms=!1;function dp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lw(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Zi(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Fs(i,s,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Xe&2)!==0){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,Ji(i,l)}return f=d.interleaved,f===null?(s.next=s,cp(d)):(s.next=f.next,f.next=s),d.interleaved=s,Ji(i,l)}function nd(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,Rs(i,l)}}function Vw(i,s){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=_:g=g.next=_,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function rd(i,s,l,d){var f=i.updateQueue;Ms=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var L=A,q=L.next;L.next=null,_===null?g=q:_.next=q,_=L;var re=i.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==_&&(A===null?re.firstBaseUpdate=q:A.next=q,re.lastBaseUpdate=L))}if(g!==null){var ie=f.baseState;_=0,re=q=L=null,A=g;do{var ne=A.lane,me=A.eventTime;if((d&ne)===ne){re!==null&&(re=re.next={eventTime:me,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ve=i,_e=A;switch(ne=s,me=l,_e.tag){case 1:if(ve=_e.payload,typeof ve=="function"){ie=ve.call(me,ie,ne);break e}ie=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=_e.payload,ne=typeof ve=="function"?ve.call(me,ie,ne):ve,ne==null)break e;ie=oe({},ie,ne);break e;case 2:Ms=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,ne=f.effects,ne===null?f.effects=[A]:ne.push(A))}else me={eventTime:me,lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(q=re=me,L=ie):re=re.next=me,_|=ne;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);if(re===null&&(L=ie),f.baseState=L,f.firstBaseUpdate=q,f.lastBaseUpdate=re,s=f.shared.interleaved,s!==null){f=s;do _|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);zo|=_,i.lanes=_,i.memoizedState=ie}}function Mw(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var d=i[s],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(n(191,f));f.call(d)}}}var yu={},pi=Ds(yu),wu=Ds(yu),vu=Ds(yu);function Uo(i){if(i===yu)throw Error(n(174));return i}function hp(i,s){switch(at(vu,s),at(wu,i),at(pi,yu),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:St(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=St(s,i)}dt(pi),at(pi,s)}function tl(){dt(pi),dt(wu),dt(vu)}function Fw(i){Uo(vu.current);var s=Uo(pi.current),l=St(s,i.type);s!==l&&(at(wu,i),at(pi,l))}function fp(i){wu.current===i&&(dt(pi),dt(wu))}var Tt=Ds(0);function id(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var pp=[];function mp(){for(var i=0;i<pp.length;i++)pp[i]._workInProgressVersionPrimary=null;pp.length=0}var sd=Z.ReactCurrentDispatcher,gp=Z.ReactCurrentBatchConfig,Bo=0,Ct=null,Gt=null,Zt=null,od=!1,_u=!1,Eu=0,_I=0;function yn(){throw Error(n(321))}function yp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!$r(i[l],s[l]))return!1;return!0}function wp(i,s,l,d,f,g){if(Bo=g,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,sd.current=i===null||i.memoizedState===null?CI:II,i=l(d,f),_u){g=0;do{if(_u=!1,Eu=0,25<=g)throw Error(n(301));g+=1,Zt=Gt=null,s.updateQueue=null,sd.current=SI,i=l(d,f)}while(_u)}if(sd.current=ud,s=Gt!==null&&Gt.next!==null,Bo=0,Zt=Gt=Ct=null,od=!1,s)throw Error(n(300));return i}function vp(){var i=Eu!==0;return Eu=0,i}function mi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ct.memoizedState=Zt=i:Zt=Zt.next=i,Zt}function Ir(){if(Gt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Gt.next;var s=Zt===null?Ct.memoizedState:Zt.next;if(s!==null)Zt=s,Gt=i;else{if(i===null)throw Error(n(310));Gt=i,i={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Zt===null?Ct.memoizedState=Zt=i:Zt=Zt.next=i}return Zt}function bu(i,s){return typeof s=="function"?s(i):s}function _p(i){var s=Ir(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var d=Gt,f=d.baseQueue,g=l.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}d.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,d=d.baseState;var A=_=null,L=null,q=g;do{var re=q.lane;if((Bo&re)===re)L!==null&&(L=L.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:i(d,q.action);else{var ie={lane:re,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};L===null?(A=L=ie,_=d):L=L.next=ie,Ct.lanes|=re,zo|=re}q=q.next}while(q!==null&&q!==g);L===null?_=d:L.next=A,$r(d,s.memoizedState)||(Hn=!0),s.memoizedState=d,s.baseState=_,s.baseQueue=L,l.lastRenderedState=d}if(i=l.interleaved,i!==null){f=i;do g=f.lane,Ct.lanes|=g,zo|=g,f=f.next;while(f!==i)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Ep(i){var s=Ir(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var d=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var _=f=f.next;do g=i(g,_.action),_=_.next;while(_!==f);$r(g,s.memoizedState)||(Hn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,d]}function jw(){}function $w(i,s){var l=Ct,d=Ir(),f=s(),g=!$r(d.memoizedState,f);if(g&&(d.memoizedState=f,Hn=!0),d=d.queue,bp(zw.bind(null,l,d,i),[i]),d.getSnapshot!==s||g||Zt!==null&&Zt.memoizedState.tag&1){if(l.flags|=2048,Tu(9,Bw.bind(null,l,d,f,s),void 0,null),en===null)throw Error(n(349));(Bo&30)!==0||Uw(l,s,f)}return f}function Uw(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ct.updateQueue,s===null?(s={lastEffect:null,stores:null},Ct.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Bw(i,s,l,d){s.value=l,s.getSnapshot=d,Hw(s)&&Ww(i)}function zw(i,s,l){return l(function(){Hw(s)&&Ww(i)})}function Hw(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!$r(i,l)}catch{return!0}}function Ww(i){var s=Ji(i,1);s!==null&&Wr(s,i,1,-1)}function qw(i){var s=mi();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:i},s.queue=i,i=i.dispatch=TI.bind(null,Ct,i),[s.memoizedState,i]}function Tu(i,s,l,d){return i={tag:i,create:s,destroy:l,deps:d,next:null},s=Ct.updateQueue,s===null?(s={lastEffect:null,stores:null},Ct.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,s.lastEffect=i)),i}function Gw(){return Ir().memoizedState}function ad(i,s,l,d){var f=mi();Ct.flags|=i,f.memoizedState=Tu(1|s,l,void 0,d===void 0?null:d)}function ld(i,s,l,d){var f=Ir();d=d===void 0?null:d;var g=void 0;if(Gt!==null){var _=Gt.memoizedState;if(g=_.destroy,d!==null&&yp(d,_.deps)){f.memoizedState=Tu(s,l,g,d);return}}Ct.flags|=i,f.memoizedState=Tu(1|s,l,g,d)}function Kw(i,s){return ad(8390656,8,i,s)}function bp(i,s){return ld(2048,8,i,s)}function Qw(i,s){return ld(4,2,i,s)}function Yw(i,s){return ld(4,4,i,s)}function Xw(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Jw(i,s,l){return l=l!=null?l.concat([i]):null,ld(4,4,Xw.bind(null,s,i),l)}function Tp(){}function Zw(i,s){var l=Ir();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&yp(s,d[1])?d[0]:(l.memoizedState=[i,s],i)}function ev(i,s){var l=Ir();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&yp(s,d[1])?d[0]:(i=i(),l.memoizedState=[i,s],i)}function tv(i,s,l){return(Bo&21)===0?(i.baseState&&(i.baseState=!1,Hn=!0),i.memoizedState=l):($r(l,s)||(l=mn(),Ct.lanes|=l,zo|=l,i.baseState=!0),s)}function EI(i,s){var l=Ke;Ke=l!==0&&4>l?l:4,i(!0);var d=gp.transition;gp.transition={};try{i(!1),s()}finally{Ke=l,gp.transition=d}}function nv(){return Ir().memoizedState}function bI(i,s,l){var d=Bs(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},rv(i))iv(s,l);else if(l=Dw(i,s,l,d),l!==null){var f=Nn();Wr(l,i,d,f),sv(l,s,d)}}function TI(i,s,l){var d=Bs(i),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(rv(i))iv(s,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,A=g(_,l);if(f.hasEagerState=!0,f.eagerState=A,$r(A,_)){var L=s.interleaved;L===null?(f.next=f,cp(s)):(f.next=L.next,L.next=f),s.interleaved=f;return}}catch{}finally{}l=Dw(i,s,f,d),l!==null&&(f=Nn(),Wr(l,i,d,f),sv(l,s,d))}}function rv(i){var s=i.alternate;return i===Ct||s!==null&&s===Ct}function iv(i,s){_u=od=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function sv(i,s,l){if((l&4194240)!==0){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,Rs(i,l)}}var ud={readContext:Cr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},CI={readContext:Cr,useCallback:function(i,s){return mi().memoizedState=[i,s===void 0?null:s],i},useContext:Cr,useEffect:Kw,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,ad(4194308,4,Xw.bind(null,s,i),l)},useLayoutEffect:function(i,s){return ad(4194308,4,i,s)},useInsertionEffect:function(i,s){return ad(4,2,i,s)},useMemo:function(i,s){var l=mi();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var d=mi();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},d.queue=i,i=i.dispatch=bI.bind(null,Ct,i),[d.memoizedState,i]},useRef:function(i){var s=mi();return i={current:i},s.memoizedState=i},useState:qw,useDebugValue:Tp,useDeferredValue:function(i){return mi().memoizedState=i},useTransition:function(){var i=qw(!1),s=i[0];return i=EI.bind(null,i[1]),mi().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var d=Ct,f=mi();if(wt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),en===null)throw Error(n(349));(Bo&30)!==0||Uw(d,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,Kw(zw.bind(null,d,g,i),[i]),d.flags|=2048,Tu(9,Bw.bind(null,d,g,l,s),void 0,null),l},useId:function(){var i=mi(),s=en.identifierPrefix;if(wt){var l=Xi,d=Yi;l=(d&~(1<<32-kt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Eu++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=_I++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},II={readContext:Cr,useCallback:Zw,useContext:Cr,useEffect:bp,useImperativeHandle:Jw,useInsertionEffect:Qw,useLayoutEffect:Yw,useMemo:ev,useReducer:_p,useRef:Gw,useState:function(){return _p(bu)},useDebugValue:Tp,useDeferredValue:function(i){var s=Ir();return tv(s,Gt.memoizedState,i)},useTransition:function(){var i=_p(bu)[0],s=Ir().memoizedState;return[i,s]},useMutableSource:jw,useSyncExternalStore:$w,useId:nv,unstable_isNewReconciler:!1},SI={readContext:Cr,useCallback:Zw,useContext:Cr,useEffect:bp,useImperativeHandle:Jw,useInsertionEffect:Qw,useLayoutEffect:Yw,useMemo:ev,useReducer:Ep,useRef:Gw,useState:function(){return Ep(bu)},useDebugValue:Tp,useDeferredValue:function(i){var s=Ir();return Gt===null?s.memoizedState=i:tv(s,Gt.memoizedState,i)},useTransition:function(){var i=Ep(bu)[0],s=Ir().memoizedState;return[i,s]},useMutableSource:jw,useSyncExternalStore:$w,useId:nv,unstable_isNewReconciler:!1};function Br(i,s){if(i&&i.defaultProps){s=oe({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Cp(i,s,l,d){s=i.memoizedState,l=l(d,s),l=l==null?s:oe({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var cd={isMounted:function(i){return(i=i._reactInternals)?Rt(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var d=Nn(),f=Bs(i),g=Zi(d,f);g.payload=s,l!=null&&(g.callback=l),s=Fs(i,g,f),s!==null&&(Wr(s,i,f,d),nd(s,i,f))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var d=Nn(),f=Bs(i),g=Zi(d,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Fs(i,g,f),s!==null&&(Wr(s,i,f,d),nd(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Nn(),d=Bs(i),f=Zi(l,d);f.tag=2,s!=null&&(f.callback=s),s=Fs(i,f,d),s!==null&&(Wr(s,i,d,l),nd(s,i,d))}};function ov(i,s,l,d,f,g,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,g,_):s.prototype&&s.prototype.isPureReactComponent?!uu(l,d)||!uu(f,g):!0}function av(i,s,l){var d=!1,f=Ls,g=s.contextType;return typeof g=="object"&&g!==null?g=Cr(g):(f=zn(s)?Mo:gn.current,d=s.contextTypes,g=(d=d!=null)?Ka(i,f):Ls),s=new s(l,g),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=cd,i.stateNode=s,s._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=f,i.__reactInternalMemoizedMaskedChildContext=g),s}function lv(i,s,l,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==i&&cd.enqueueReplaceState(s,s.state,null)}function Ip(i,s,l,d){var f=i.stateNode;f.props=l,f.state=i.memoizedState,f.refs={},dp(i);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Cr(g):(g=zn(s)?Mo:gn.current,f.context=Ka(i,g)),f.state=i.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Cp(i,s,g,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&cd.enqueueReplaceState(f,f.state,null),rd(i,l,f,d),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308)}function nl(i,s){try{var l="",d=s;do l+=Ne(d),d=d.return;while(d);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:i,source:s,stack:f,digest:null}}function Sp(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Rp(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var RI=typeof WeakMap=="function"?WeakMap:Map;function uv(i,s,l){l=Zi(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){yd||(yd=!0,Bp=d),Rp(i,s)},l}function cv(i,s,l){l=Zi(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;l.payload=function(){return d(f)},l.callback=function(){Rp(i,s)}}var g=i.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Rp(i,s),typeof d!="function"&&($s===null?$s=new Set([this]):$s.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),l}function dv(i,s,l){var d=i.pingCache;if(d===null){d=i.pingCache=new RI;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(l)||(f.add(l),i=UI.bind(null,i,s,l),s.then(i,i))}function hv(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function fv(i,s,l,d,f){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Zi(-1,1),s.tag=2,Fs(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=f,i)}var kI=Z.ReactCurrentOwner,Hn=!1;function xn(i,s,l,d){s.child=i===null?Ow(s,null,l,d):Ja(s,i.child,l,d)}function pv(i,s,l,d,f){l=l.render;var g=s.ref;return el(s,f),d=wp(i,s,l,d,g,f),l=vp(),i!==null&&!Hn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,es(i,s,f)):(wt&&l&&tp(s),s.flags|=1,xn(i,s,d,f),s.child)}function mv(i,s,l,d,f){if(i===null){var g=l.type;return typeof g=="function"&&!Qp(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,gv(i,s,g,d,f)):(i=Td(l.type,null,d,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,(i.lanes&f)===0){var _=g.memoizedProps;if(l=l.compare,l=l!==null?l:uu,l(_,d)&&i.ref===s.ref)return es(i,s,f)}return s.flags|=1,i=Hs(g,d),i.ref=s.ref,i.return=s,s.child=i}function gv(i,s,l,d,f){if(i!==null){var g=i.memoizedProps;if(uu(g,d)&&i.ref===s.ref)if(Hn=!1,s.pendingProps=d=g,(i.lanes&f)!==0)(i.flags&131072)!==0&&(Hn=!0);else return s.lanes=i.lanes,es(i,s,f)}return kp(i,s,l,d,f)}function yv(i,s,l){var d=s.pendingProps,f=d.children,g=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(il,ar),ar|=l;else{if((l&1073741824)===0)return i=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,at(il,ar),ar|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,at(il,ar),ar|=d}else g!==null?(d=g.baseLanes|l,s.memoizedState=null):d=l,at(il,ar),ar|=d;return xn(i,s,f,l),s.child}function wv(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function kp(i,s,l,d,f){var g=zn(l)?Mo:gn.current;return g=Ka(s,g),el(s,f),l=wp(i,s,l,d,g,f),d=vp(),i!==null&&!Hn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,es(i,s,f)):(wt&&d&&tp(s),s.flags|=1,xn(i,s,l,f),s.child)}function vv(i,s,l,d,f){if(zn(l)){var g=!0;Kc(s)}else g=!1;if(el(s,f),s.stateNode===null)hd(i,s),av(s,l,d),Ip(s,l,d,f),d=!0;else if(i===null){var _=s.stateNode,A=s.memoizedProps;_.props=A;var L=_.context,q=l.contextType;typeof q=="object"&&q!==null?q=Cr(q):(q=zn(l)?Mo:gn.current,q=Ka(s,q));var re=l.getDerivedStateFromProps,ie=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function";ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==d||L!==q)&&lv(s,_,d,q),Ms=!1;var ne=s.memoizedState;_.state=ne,rd(s,d,_,f),L=s.memoizedState,A!==d||ne!==L||Bn.current||Ms?(typeof re=="function"&&(Cp(s,l,re,d),L=s.memoizedState),(A=Ms||ov(s,l,A,d,ne,L,q))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=L),_.props=d,_.state=L,_.context=q,d=A):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{_=s.stateNode,Lw(i,s),A=s.memoizedProps,q=s.type===s.elementType?A:Br(s.type,A),_.props=q,ie=s.pendingProps,ne=_.context,L=l.contextType,typeof L=="object"&&L!==null?L=Cr(L):(L=zn(l)?Mo:gn.current,L=Ka(s,L));var me=l.getDerivedStateFromProps;(re=typeof me=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==ie||ne!==L)&&lv(s,_,d,L),Ms=!1,ne=s.memoizedState,_.state=ne,rd(s,d,_,f);var ve=s.memoizedState;A!==ie||ne!==ve||Bn.current||Ms?(typeof me=="function"&&(Cp(s,l,me,d),ve=s.memoizedState),(q=Ms||ov(s,l,q,d,ne,ve,L)||!1)?(re||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,ve,L),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,ve,L)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ve),_.props=d,_.state=ve,_.context=L,d=q):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),d=!1)}return Ap(i,s,l,d,g,f)}function Ap(i,s,l,d,f,g){wv(i,s);var _=(s.flags&128)!==0;if(!d&&!_)return f&&Cw(s,l,!1),es(i,s,g);d=s.stateNode,kI.current=s;var A=_&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,i!==null&&_?(s.child=Ja(s,i.child,null,g),s.child=Ja(s,null,A,g)):xn(i,s,A,g),s.memoizedState=d.state,f&&Cw(s,l,!0),s.child}function _v(i){var s=i.stateNode;s.pendingContext?bw(i,s.pendingContext,s.pendingContext!==s.context):s.context&&bw(i,s.context,!1),hp(i,s.containerInfo)}function Ev(i,s,l,d,f){return Xa(),sp(f),s.flags|=256,xn(i,s,l,d),s.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function xp(i){return{baseLanes:i,cachePool:null,transitions:null}}function bv(i,s,l){var d=s.pendingProps,f=Tt.current,g=!1,_=(s.flags&128)!==0,A;if((A=_)||(A=i!==null&&i.memoizedState===null?!1:(f&2)!==0),A?(g=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(f|=1),at(Tt,f&1),i===null)return ip(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=d.children,i=d.fallback,g?(d=s.mode,g=s.child,_={mode:"hidden",children:_},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Cd(_,d,0,null),i=Go(i,d,l,null),g.return=s,i.return=s,g.sibling=i,s.child=g,s.child.memoizedState=xp(l),s.memoizedState=Pp,i):Np(s,_));if(f=i.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return AI(i,s,_,d,A,f,l);if(g){g=d.fallback,_=s.mode,f=i.child,A=f.sibling;var L={mode:"hidden",children:d.children};return(_&1)===0&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=L,s.deletions=null):(d=Hs(f,L),d.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=Hs(A,g):(g=Go(g,_,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,_=i.child.memoizedState,_=_===null?xp(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=i.childLanes&~l,s.memoizedState=Pp,d}return g=i.child,i=g.sibling,d=Hs(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=d,s.memoizedState=null,d}function Np(i,s){return s=Cd({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function dd(i,s,l,d){return d!==null&&sp(d),Ja(s,i.child,null,l),i=Np(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function AI(i,s,l,d,f,g,_){if(l)return s.flags&256?(s.flags&=-257,d=Sp(Error(n(422))),dd(i,s,_,d)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(g=d.fallback,f=s.mode,d=Cd({mode:"visible",children:d.children},f,0,null),g=Go(g,f,_,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&Ja(s,i.child,null,_),s.child.memoizedState=xp(_),s.memoizedState=Pp,g);if((s.mode&1)===0)return dd(i,s,_,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var A=d.dgst;return d=A,g=Error(n(419)),d=Sp(g,d,void 0),dd(i,s,_,d)}if(A=(_&i.childLanes)!==0,Hn||A){if(d=en,d!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|_))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Ji(i,f),Wr(d,i,f,-1))}return Kp(),d=Sp(Error(n(421))),dd(i,s,_,d)}return f.data==="$?"?(s.flags|=128,s.child=i.child,s=BI.bind(null,i),f._reactRetry=s,null):(i=g.treeContext,or=Os(f.nextSibling),sr=s,wt=!0,Ur=null,i!==null&&(br[Tr++]=Yi,br[Tr++]=Xi,br[Tr++]=Fo,Yi=i.id,Xi=i.overflow,Fo=s),s=Np(s,d.children),s.flags|=4096,s)}function Tv(i,s,l){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),up(i.return,s,l)}function Op(i,s,l,d,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=f)}function Cv(i,s,l){var d=s.pendingProps,f=d.revealOrder,g=d.tail;if(xn(i,s,d.children,l),d=Tt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Tv(i,l,s);else if(i.tag===19)Tv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(at(Tt,d),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)i=l.alternate,i!==null&&id(i)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Op(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&id(i)===null){s.child=f;break}i=f.sibling,f.sibling=l,l=f,f=i}Op(s,!0,l,null,g);break;case"together":Op(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hd(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function es(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),zo|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,l=Hs(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Hs(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function PI(i,s,l){switch(s.tag){case 3:_v(s),Xa();break;case 5:Fw(s);break;case 1:zn(s.type)&&Kc(s);break;case 4:hp(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;at(ed,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(at(Tt,Tt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?bv(i,s,l):(at(Tt,Tt.current&1),i=es(i,s,l),i!==null?i.sibling:null);at(Tt,Tt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(i.flags&128)!==0){if(d)return Cv(i,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Tt,Tt.current),d)break;return null;case 22:case 23:return s.lanes=0,yv(i,s,l)}return es(i,s,l)}var Iv,Dp,Sv,Rv;Iv=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Dp=function(){},Sv=function(i,s,l,d){var f=i.memoizedProps;if(f!==d){i=s.stateNode,Uo(pi.current);var g=null;switch(l){case"input":f=pr(i,f),d=pr(i,d),g=[];break;case"select":f=oe({},f,{value:void 0}),d=oe({},d,{value:void 0}),g=[];break;case"textarea":f=ws(i,f),d=ws(i,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Wc)}Co(l,d);var _;l=null;for(q in f)if(!d.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var A=f[q];for(_ in A)A.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in d){var L=d[q];if(A=f?.[q],d.hasOwnProperty(q)&&L!==A&&(L!=null||A!=null))if(q==="style")if(A){for(_ in A)!A.hasOwnProperty(_)||L&&L.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in L)L.hasOwnProperty(_)&&A[_]!==L[_]&&(l||(l={}),l[_]=L[_])}else l||(g||(g=[]),g.push(q,l)),l=L;else q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,A=A?A.__html:void 0,L!=null&&A!==L&&(g=g||[]).push(q,L)):q==="children"?typeof L!="string"&&typeof L!="number"||(g=g||[]).push(q,""+L):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(L!=null&&q==="onScroll"&&ct("scroll",i),g||A===L||(g=[])):(g=g||[]).push(q,L))}l&&(g=g||[]).push("style",l);var q=g;(s.updateQueue=q)&&(s.flags|=4)}},Rv=function(i,s,l,d){l!==d&&(s.flags|=4)};function Cu(i,s){if(!wt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function wn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(s)for(var f=i.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=d,i.childLanes=l,s}function xI(i,s,l){var d=s.pendingProps;switch(np(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(s),null;case 1:return zn(s.type)&&Gc(),wn(s),null;case 3:return d=s.stateNode,tl(),dt(Bn),dt(gn),mp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Jc(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ur!==null&&(Wp(Ur),Ur=null))),Dp(i,s),wn(s),null;case 5:fp(s);var f=Uo(vu.current);if(l=s.type,i!==null&&s.stateNode!=null)Sv(i,s,l,d,f),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return wn(s),null}if(i=Uo(pi.current),Jc(s)){d=s.stateNode,l=s.type;var g=s.memoizedProps;switch(d[fi]=s,d[pu]=g,i=(s.mode&1)!==0,l){case"dialog":ct("cancel",d),ct("close",d);break;case"iframe":case"object":case"embed":ct("load",d);break;case"video":case"audio":for(f=0;f<du.length;f++)ct(du[f],d);break;case"source":ct("error",d);break;case"img":case"image":case"link":ct("error",d),ct("load",d);break;case"details":ct("toggle",d);break;case"input":ti(d,g),ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},ct("invalid",d);break;case"textarea":Li(d,g),ct("invalid",d)}Co(l,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var A=g[_];_==="children"?typeof A=="string"?d.textContent!==A&&(g.suppressHydrationWarning!==!0&&Hc(d.textContent,A,i),f=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&Hc(d.textContent,A,i),f=["children",""+A]):o.hasOwnProperty(_)&&A!=null&&_==="onScroll"&&ct("scroll",d)}switch(l){case"input":Et(d),pt(d,g,!0);break;case"textarea":Et(d),_o(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Wc)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Pt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=_.createElement(l,{is:d.is}):(i=_.createElement(l),l==="select"&&(_=i,d.multiple?_.multiple=!0:d.size&&(_.size=d.size))):i=_.createElementNS(i,l),i[fi]=s,i[pu]=d,Iv(i,s,!1,!1),s.stateNode=i;e:{switch(_=Io(l,d),l){case"dialog":ct("cancel",i),ct("close",i),f=d;break;case"iframe":case"object":case"embed":ct("load",i),f=d;break;case"video":case"audio":for(f=0;f<du.length;f++)ct(du[f],i);f=d;break;case"source":ct("error",i),f=d;break;case"img":case"image":case"link":ct("error",i),ct("load",i),f=d;break;case"details":ct("toggle",i),f=d;break;case"input":ti(i,d),f=pr(i,d),ct("invalid",i);break;case"option":f=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},f=oe({},d,{value:void 0}),ct("invalid",i);break;case"textarea":Li(i,d),f=ws(i,d),ct("invalid",i);break;default:f=d}Co(l,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var L=A[g];g==="style"?To(i,L):g==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Eo(i,L)):g==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&ni(i,L):typeof L=="number"&&ni(i,""+L):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?L!=null&&g==="onScroll"&&ct("scroll",i):L!=null&&K(i,g,L,_))}switch(l){case"input":Et(i),pt(i,d,!1);break;case"textarea":Et(i),_o(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Me(d.value));break;case"select":i.multiple=!!d.multiple,g=d.value,g!=null?mr(i,!!d.multiple,g,!1):d.defaultValue!=null&&mr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(i.onclick=Wc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return wn(s),null;case 6:if(i&&s.stateNode!=null)Rv(i,s,i.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(l=Uo(vu.current),Uo(pi.current),Jc(s)){if(d=s.stateNode,l=s.memoizedProps,d[fi]=s,(g=d.nodeValue!==l)&&(i=sr,i!==null))switch(i.tag){case 3:Hc(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Hc(d.nodeValue,l,(i.mode&1)!==0)}g&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[fi]=s,s.stateNode=d}return wn(s),null;case 13:if(dt(Tt),d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(wt&&or!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Pw(),Xa(),s.flags|=98560,g=!1;else if(g=Jc(s),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[fi]=s}else Xa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wn(s),g=!1}else Ur!==null&&(Wp(Ur),Ur=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(Tt.current&1)!==0?Kt===0&&(Kt=3):Kp())),s.updateQueue!==null&&(s.flags|=4),wn(s),null);case 4:return tl(),Dp(i,s),i===null&&hu(s.stateNode.containerInfo),wn(s),null;case 10:return lp(s.type._context),wn(s),null;case 17:return zn(s.type)&&Gc(),wn(s),null;case 19:if(dt(Tt),g=s.memoizedState,g===null)return wn(s),null;if(d=(s.flags&128)!==0,_=g.rendering,_===null)if(d)Cu(g,!1);else{if(Kt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=id(i),_!==null){for(s.flags|=128,Cu(g,!1),d=_.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)g=l,i=d,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=i,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,i=_.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return at(Tt,Tt.current&1|2),s.child}i=i.sibling}g.tail!==null&&it()>sl&&(s.flags|=128,d=!0,Cu(g,!1),s.lanes=4194304)}else{if(!d)if(i=id(_),i!==null){if(s.flags|=128,d=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Cu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!wt)return wn(s),null}else 2*it()-g.renderingStartTime>sl&&l!==1073741824&&(s.flags|=128,d=!0,Cu(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(l=g.last,l!==null?l.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=it(),s.sibling=null,l=Tt.current,at(Tt,d?l&1|2:l&1),s):(wn(s),null);case 22:case 23:return Gp(),d=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(ar&1073741824)!==0&&(wn(s),s.subtreeFlags&6&&(s.flags|=8192)):wn(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function NI(i,s){switch(np(s),s.tag){case 1:return zn(s.type)&&Gc(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return tl(),dt(Bn),dt(gn),mp(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return fp(s),null;case 13:if(dt(Tt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Xa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return dt(Tt),null;case 4:return tl(),null;case 10:return lp(s.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var fd=!1,vn=!1,OI=typeof WeakSet=="function"?WeakSet:Set,we=null;function rl(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){At(i,s,d)}else l.current=null}function Lp(i,s,l){try{l()}catch(d){At(i,s,d)}}var kv=!1;function DI(i,s){if(Gf=Ps,i=ow(),jf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var _=0,A=-1,L=-1,q=0,re=0,ie=i,ne=null;t:for(;;){for(var me;ie!==l||f!==0&&ie.nodeType!==3||(A=_+f),ie!==g||d!==0&&ie.nodeType!==3||(L=_+d),ie.nodeType===3&&(_+=ie.nodeValue.length),(me=ie.firstChild)!==null;)ne=ie,ie=me;for(;;){if(ie===i)break t;if(ne===l&&++q===f&&(A=_),ne===g&&++re===d&&(L=_),(me=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=me}l=A===-1||L===-1?null:{start:A,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kf={focusedElem:i,selectionRange:l},Ps=!1,we=s;we!==null;)if(s=we,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,we=i;else for(;we!==null;){s=we;try{var ve=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var _e=ve.memoizedProps,Nt=ve.memoizedState,B=s.stateNode,F=B.getSnapshotBeforeUpdate(s.elementType===s.type?_e:Br(s.type,_e),Nt);B.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){At(s,s.return,le)}if(i=s.sibling,i!==null){i.return=s.return,we=i;break}we=s.return}return ve=kv,kv=!1,ve}function Iu(i,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&i)===i){var g=f.destroy;f.destroy=void 0,g!==void 0&&Lp(s,l,g)}f=f.next}while(f!==d)}}function pd(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Vp(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Av(i){var s=i.alternate;s!==null&&(i.alternate=null,Av(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[fi],delete s[pu],delete s[Jf],delete s[gI],delete s[yI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Pv(i){return i.tag===5||i.tag===3||i.tag===4}function xv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Pv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mp(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Wc));else if(d!==4&&(i=i.child,i!==null))for(Mp(i,s,l),i=i.sibling;i!==null;)Mp(i,s,l),i=i.sibling}function Fp(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Fp(i,s,l),i=i.sibling;i!==null;)Fp(i,s,l),i=i.sibling}var cn=null,zr=!1;function js(i,s,l){for(l=l.child;l!==null;)Nv(i,s,l),l=l.sibling}function Nv(i,s,l){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(zi,l)}catch{}switch(l.tag){case 5:vn||rl(l,s);case 6:var d=cn,f=zr;cn=null,js(i,s,l),cn=d,zr=f,cn!==null&&(zr?(i=cn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):cn.removeChild(l.stateNode));break;case 18:cn!==null&&(zr?(i=cn,l=l.stateNode,i.nodeType===8?Xf(i.parentNode,l):i.nodeType===1&&Xf(i,l),Fr(i)):Xf(cn,l.stateNode));break;case 4:d=cn,f=zr,cn=l.stateNode.containerInfo,zr=!0,js(i,s,l),cn=d,zr=f;break;case 0:case 11:case 14:case 15:if(!vn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&Lp(l,s,_),f=f.next}while(f!==d)}js(i,s,l);break;case 1:if(!vn&&(rl(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){At(l,s,A)}js(i,s,l);break;case 21:js(i,s,l);break;case 22:l.mode&1?(vn=(d=vn)||l.memoizedState!==null,js(i,s,l),vn=d):js(i,s,l);break;default:js(i,s,l)}}function Ov(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new OI),s.forEach(function(d){var f=zI.bind(null,i,d);l.has(d)||(l.add(d),d.then(f,f))})}}function Hr(i,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var g=i,_=s,A=_;e:for(;A!==null;){switch(A.tag){case 5:cn=A.stateNode,zr=!1;break e;case 3:cn=A.stateNode.containerInfo,zr=!0;break e;case 4:cn=A.stateNode.containerInfo,zr=!0;break e}A=A.return}if(cn===null)throw Error(n(160));Nv(g,_,f),cn=null,zr=!1;var L=f.alternate;L!==null&&(L.return=null),f.return=null}catch(q){At(f,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Dv(s,i),s=s.sibling}function Dv(i,s){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Hr(s,i),gi(i),d&4){try{Iu(3,i,i.return),pd(3,i)}catch(_e){At(i,i.return,_e)}try{Iu(5,i,i.return)}catch(_e){At(i,i.return,_e)}}break;case 1:Hr(s,i),gi(i),d&512&&l!==null&&rl(l,l.return);break;case 5:if(Hr(s,i),gi(i),d&512&&l!==null&&rl(l,l.return),i.flags&32){var f=i.stateNode;try{ni(f,"")}catch(_e){At(i,i.return,_e)}}if(d&4&&(f=i.stateNode,f!=null)){var g=i.memoizedProps,_=l!==null?l.memoizedProps:g,A=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Oi(f,g),Io(A,_);var q=Io(A,g);for(_=0;_<L.length;_+=2){var re=L[_],ie=L[_+1];re==="style"?To(f,ie):re==="dangerouslySetInnerHTML"?Eo(f,ie):re==="children"?ni(f,ie):K(f,re,ie,q)}switch(A){case"input":Di(f,g);break;case"textarea":Vi(f,g);break;case"select":var ne=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var me=g.value;me!=null?mr(f,!!g.multiple,me,!1):ne!==!!g.multiple&&(g.defaultValue!=null?mr(f,!!g.multiple,g.defaultValue,!0):mr(f,!!g.multiple,g.multiple?[]:"",!1))}f[pu]=g}catch(_e){At(i,i.return,_e)}}break;case 6:if(Hr(s,i),gi(i),d&4){if(i.stateNode===null)throw Error(n(162));f=i.stateNode,g=i.memoizedProps;try{f.nodeValue=g}catch(_e){At(i,i.return,_e)}}break;case 3:if(Hr(s,i),gi(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Fr(s.containerInfo)}catch(_e){At(i,i.return,_e)}break;case 4:Hr(s,i),gi(i);break;case 13:Hr(s,i),gi(i),f=i.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Up=it())),d&4&&Ov(i);break;case 22:if(re=l!==null&&l.memoizedState!==null,i.mode&1?(vn=(q=vn)||re,Hr(s,i),vn=q):Hr(s,i),gi(i),d&8192){if(q=i.memoizedState!==null,(i.stateNode.isHidden=q)&&!re&&(i.mode&1)!==0)for(we=i,re=i.child;re!==null;){for(ie=we=re;we!==null;){switch(ne=we,me=ne.child,ne.tag){case 0:case 11:case 14:case 15:Iu(4,ne,ne.return);break;case 1:rl(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){d=ne,l=ne.return;try{s=d,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(_e){At(d,l,_e)}}break;case 5:rl(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Mv(ie);continue}}me!==null?(me.return=ne,we=me):Mv(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{f=ie.stateNode,q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=ie.stateNode,L=ie.memoizedProps.style,_=L!=null&&L.hasOwnProperty("display")?L.display:null,A.style.display=bo("display",_))}catch(_e){At(i,i.return,_e)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=q?"":ie.memoizedProps}catch(_e){At(i,i.return,_e)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Hr(s,i),gi(i),d&4&&Ov(i);break;case 21:break;default:Hr(s,i),gi(i)}}function gi(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Pv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(ni(f,""),d.flags&=-33);var g=xv(i);Fp(i,g,f);break;case 3:case 4:var _=d.stateNode.containerInfo,A=xv(i);Mp(i,A,_);break;default:throw Error(n(161))}}catch(L){At(i,i.return,L)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function LI(i,s,l){we=i,Lv(i)}function Lv(i,s,l){for(var d=(i.mode&1)!==0;we!==null;){var f=we,g=f.child;if(f.tag===22&&d){var _=f.memoizedState!==null||fd;if(!_){var A=f.alternate,L=A!==null&&A.memoizedState!==null||vn;A=fd;var q=vn;if(fd=_,(vn=L)&&!q)for(we=f;we!==null;)_=we,L=_.child,_.tag===22&&_.memoizedState!==null?Fv(f):L!==null?(L.return=_,we=L):Fv(f);for(;g!==null;)we=g,Lv(g),g=g.sibling;we=f,fd=A,vn=q}Vv(i)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,we=g):Vv(i)}}function Vv(i){for(;we!==null;){var s=we;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:vn||pd(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!vn)if(l===null)d.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Br(s.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Mw(s,g,d);break;case 3:var _=s.updateQueue;if(_!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Mw(s,_,l)}break;case 5:var A=s.stateNode;if(l===null&&s.flags&4){l=A;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var re=q.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&Fr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vn||s.flags&512&&Vp(s)}catch(ne){At(s,s.return,ne)}}if(s===i){we=null;break}if(l=s.sibling,l!==null){l.return=s.return,we=l;break}we=s.return}}function Mv(i){for(;we!==null;){var s=we;if(s===i){we=null;break}var l=s.sibling;if(l!==null){l.return=s.return,we=l;break}we=s.return}}function Fv(i){for(;we!==null;){var s=we;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{pd(4,s)}catch(L){At(s,l,L)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(L){At(s,f,L)}}var g=s.return;try{Vp(s)}catch(L){At(s,g,L)}break;case 5:var _=s.return;try{Vp(s)}catch(L){At(s,_,L)}}}catch(L){At(s,s.return,L)}if(s===i){we=null;break}var A=s.sibling;if(A!==null){A.return=s.return,we=A;break}we=s.return}}var VI=Math.ceil,md=Z.ReactCurrentDispatcher,jp=Z.ReactCurrentOwner,Sr=Z.ReactCurrentBatchConfig,Xe=0,en=null,$t=null,dn=0,ar=0,il=Ds(0),Kt=0,Su=null,zo=0,gd=0,$p=0,Ru=null,Wn=null,Up=0,sl=1/0,ts=null,yd=!1,Bp=null,$s=null,wd=!1,Us=null,vd=0,ku=0,zp=null,_d=-1,Ed=0;function Nn(){return(Xe&6)!==0?it():_d!==-1?_d:_d=it()}function Bs(i){return(i.mode&1)===0?1:(Xe&2)!==0&&dn!==0?dn&-dn:vI.transition!==null?(Ed===0&&(Ed=mn()),Ed):(i=Ke,i!==0||(i=window.event,i=i===void 0?16:nu(i.type)),i)}function Wr(i,s,l,d){if(50<ku)throw ku=0,zp=null,Error(n(185));Ss(i,l,d),((Xe&2)===0||i!==en)&&(i===en&&((Xe&2)===0&&(gd|=l),Kt===4&&zs(i,dn)),qn(i,d),l===1&&Xe===0&&(s.mode&1)===0&&(sl=it()+500,Qc&&Vs()))}function qn(i,s){var l=i.callbackNode;nr(i,s);var d=Wt(i,i===en?dn:0);if(d===0)l!==null&&Ao(l),i.callbackNode=null,i.callbackPriority=0;else if(s=d&-d,i.callbackPriority!==s){if(l!=null&&Ao(l),s===1)i.tag===0?wI($v.bind(null,i)):Iw($v.bind(null,i)),pI(function(){(Xe&6)===0&&Vs()}),l=null;else{switch(ks(d)){case 1:l=tr;break;case 4:l=ai;break;case 16:l=jn;break;case 536870912:l=Sa;break;default:l=jn}l=Kv(l,jv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function jv(i,s){if(_d=-1,Ed=0,(Xe&6)!==0)throw Error(n(327));var l=i.callbackNode;if(ol()&&i.callbackNode!==l)return null;var d=Wt(i,i===en?dn:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||s)s=bd(i,d);else{s=d;var f=Xe;Xe|=2;var g=Bv();(en!==i||dn!==s)&&(ts=null,sl=it()+500,Wo(i,s));do try{jI();break}catch(A){Uv(i,A)}while(!0);ap(),md.current=g,Xe=f,$t!==null?s=0:(en=null,dn=0,s=Kt)}if(s!==0){if(s===2&&(f=Ft(i),f!==0&&(d=f,s=Hp(i,f))),s===1)throw l=Su,Wo(i,0),zs(i,d),qn(i,it()),l;if(s===6)zs(i,d);else{if(f=i.current.alternate,(d&30)===0&&!MI(f)&&(s=bd(i,d),s===2&&(g=Ft(i),g!==0&&(d=g,s=Hp(i,g))),s===1))throw l=Su,Wo(i,0),zs(i,d),qn(i,it()),l;switch(i.finishedWork=f,i.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:qo(i,Wn,ts);break;case 3:if(zs(i,d),(d&130023424)===d&&(s=Up+500-it(),10<s)){if(Wt(i,0)!==0)break;if(f=i.suspendedLanes,(f&d)!==d){Nn(),i.pingedLanes|=i.suspendedLanes&f;break}i.timeoutHandle=Yf(qo.bind(null,i,Wn,ts),s);break}qo(i,Wn,ts);break;case 4:if(zs(i,d),(d&4194240)===d)break;for(s=i.eventTimes,f=-1;0<d;){var _=31-kt(d);g=1<<_,_=s[_],_>f&&(f=_),d&=~g}if(d=f,d=it()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*VI(d/1960))-d,10<d){i.timeoutHandle=Yf(qo.bind(null,i,Wn,ts),d);break}qo(i,Wn,ts);break;case 5:qo(i,Wn,ts);break;default:throw Error(n(329))}}}return qn(i,it()),i.callbackNode===l?jv.bind(null,i):null}function Hp(i,s){var l=Ru;return i.current.memoizedState.isDehydrated&&(Wo(i,s).flags|=256),i=bd(i,s),i!==2&&(s=Wn,Wn=l,s!==null&&Wp(s)),i}function Wp(i){Wn===null?Wn=i:Wn.push.apply(Wn,i)}function MI(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],g=f.getSnapshot;f=f.value;try{if(!$r(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zs(i,s){for(s&=~$p,s&=~gd,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-kt(s),d=1<<l;i[l]=-1,s&=~d}}function $v(i){if((Xe&6)!==0)throw Error(n(327));ol();var s=Wt(i,0);if((s&1)===0)return qn(i,it()),null;var l=bd(i,s);if(i.tag!==0&&l===2){var d=Ft(i);d!==0&&(s=d,l=Hp(i,d))}if(l===1)throw l=Su,Wo(i,0),zs(i,s),qn(i,it()),l;if(l===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,qo(i,Wn,ts),qn(i,it()),null}function qp(i,s){var l=Xe;Xe|=1;try{return i(s)}finally{Xe=l,Xe===0&&(sl=it()+500,Qc&&Vs())}}function Ho(i){Us!==null&&Us.tag===0&&(Xe&6)===0&&ol();var s=Xe;Xe|=1;var l=Sr.transition,d=Ke;try{if(Sr.transition=null,Ke=1,i)return i()}finally{Ke=d,Sr.transition=l,Xe=s,(Xe&6)===0&&Vs()}}function Gp(){ar=il.current,dt(il)}function Wo(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,fI(l)),$t!==null)for(l=$t.return;l!==null;){var d=l;switch(np(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Gc();break;case 3:tl(),dt(Bn),dt(gn),mp();break;case 5:fp(d);break;case 4:tl();break;case 13:dt(Tt);break;case 19:dt(Tt);break;case 10:lp(d.type._context);break;case 22:case 23:Gp()}l=l.return}if(en=i,$t=i=Hs(i.current,null),dn=ar=s,Kt=0,Su=null,$p=gd=zo=0,Wn=Ru=null,$o!==null){for(s=0;s<$o.length;s++)if(l=$o[s],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,g=l.pending;if(g!==null){var _=g.next;g.next=f,d.next=_}l.pending=d}$o=null}return i}function Uv(i,s){do{var l=$t;try{if(ap(),sd.current=ud,od){for(var d=Ct.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}od=!1}if(Bo=0,Zt=Gt=Ct=null,_u=!1,Eu=0,jp.current=null,l===null||l.return===null){Kt=1,Su=s,$t=null;break}e:{var g=i,_=l.return,A=l,L=s;if(s=dn,A.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var q=L,re=A,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var me=hv(_);if(me!==null){me.flags&=-257,fv(me,_,A,g,s),me.mode&1&&dv(g,q,s),s=me,L=q;var ve=s.updateQueue;if(ve===null){var _e=new Set;_e.add(L),s.updateQueue=_e}else ve.add(L);break e}else{if((s&1)===0){dv(g,q,s),Kp();break e}L=Error(n(426))}}else if(wt&&A.mode&1){var Nt=hv(_);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),fv(Nt,_,A,g,s),sp(nl(L,A));break e}}g=L=nl(L,A),Kt!==4&&(Kt=2),Ru===null?Ru=[g]:Ru.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=uv(g,L,s);Vw(g,B);break e;case 1:A=L;var F=g.type,H=g.stateNode;if((g.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&($s===null||!$s.has(H)))){g.flags|=65536,s&=-s,g.lanes|=s;var le=cv(g,A,s);Vw(g,le);break e}}g=g.return}while(g!==null)}Hv(l)}catch(be){s=be,$t===l&&l!==null&&($t=l=l.return);continue}break}while(!0)}function Bv(){var i=md.current;return md.current=ud,i===null?ud:i}function Kp(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),en===null||(zo&268435455)===0&&(gd&268435455)===0||zs(en,dn)}function bd(i,s){var l=Xe;Xe|=2;var d=Bv();(en!==i||dn!==s)&&(ts=null,Wo(i,s));do try{FI();break}catch(f){Uv(i,f)}while(!0);if(ap(),Xe=l,md.current=d,$t!==null)throw Error(n(261));return en=null,dn=0,Kt}function FI(){for(;$t!==null;)zv($t)}function jI(){for(;$t!==null&&!Ia();)zv($t)}function zv(i){var s=Gv(i.alternate,i,ar);i.memoizedProps=i.pendingProps,s===null?Hv(i):$t=s,jp.current=null}function Hv(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=xI(l,s,ar),l!==null){$t=l;return}}else{if(l=NI(l,s),l!==null){l.flags&=32767,$t=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Kt=6,$t=null;return}}if(s=s.sibling,s!==null){$t=s;return}$t=s=i}while(s!==null);Kt===0&&(Kt=5)}function qo(i,s,l){var d=Ke,f=Sr.transition;try{Sr.transition=null,Ke=1,$I(i,s,l,d)}finally{Sr.transition=f,Ke=d}return null}function $I(i,s,l,d){do ol();while(Us!==null);if((Xe&6)!==0)throw Error(n(327));l=i.finishedWork;var f=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var g=l.lanes|l.childLanes;if(st(i,g),i===en&&($t=en=null,dn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||wd||(wd=!0,Kv(jn,function(){return ol(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Sr.transition,Sr.transition=null;var _=Ke;Ke=1;var A=Xe;Xe|=4,jp.current=null,DI(i,l),Dv(l,i),oI(Kf),Ps=!!Gf,Kf=Gf=null,i.current=l,LI(l),Zl(),Xe=A,Ke=_,Sr.transition=g}else i.current=l;if(wd&&(wd=!1,Us=i,vd=f),g=i.pendingLanes,g===0&&($s=null),Ra(l.stateNode),qn(i,it()),s!==null)for(d=i.onRecoverableError,l=0;l<s.length;l++)f=s[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(yd)throw yd=!1,i=Bp,Bp=null,i;return(vd&1)!==0&&i.tag!==0&&ol(),g=i.pendingLanes,(g&1)!==0?i===zp?ku++:(ku=0,zp=i):ku=0,Vs(),null}function ol(){if(Us!==null){var i=ks(vd),s=Sr.transition,l=Ke;try{if(Sr.transition=null,Ke=16>i?16:i,Us===null)var d=!1;else{if(i=Us,Us=null,vd=0,(Xe&6)!==0)throw Error(n(331));var f=Xe;for(Xe|=4,we=i.current;we!==null;){var g=we,_=g.child;if((we.flags&16)!==0){var A=g.deletions;if(A!==null){for(var L=0;L<A.length;L++){var q=A[L];for(we=q;we!==null;){var re=we;switch(re.tag){case 0:case 11:case 15:Iu(8,re,g)}var ie=re.child;if(ie!==null)ie.return=re,we=ie;else for(;we!==null;){re=we;var ne=re.sibling,me=re.return;if(Av(re),re===q){we=null;break}if(ne!==null){ne.return=me,we=ne;break}we=me}}}var ve=g.alternate;if(ve!==null){var _e=ve.child;if(_e!==null){ve.child=null;do{var Nt=_e.sibling;_e.sibling=null,_e=Nt}while(_e!==null)}}we=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,we=_;else e:for(;we!==null;){if(g=we,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Iu(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,we=B;break e}we=g.return}}var F=i.current;for(we=F;we!==null;){_=we;var H=_.child;if((_.subtreeFlags&2064)!==0&&H!==null)H.return=_,we=H;else e:for(_=F;we!==null;){if(A=we,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:pd(9,A)}}catch(be){At(A,A.return,be)}if(A===_){we=null;break e}var le=A.sibling;if(le!==null){le.return=A.return,we=le;break e}we=A.return}}if(Xe=f,Vs(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(zi,i)}catch{}d=!0}return d}finally{Ke=l,Sr.transition=s}}return!1}function Wv(i,s,l){s=nl(l,s),s=uv(i,s,1),i=Fs(i,s,1),s=Nn(),i!==null&&(Ss(i,1,s),qn(i,s))}function At(i,s,l){if(i.tag===3)Wv(i,i,l);else for(;s!==null;){if(s.tag===3){Wv(s,i,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&($s===null||!$s.has(d))){i=nl(l,i),i=cv(s,i,1),s=Fs(s,i,1),i=Nn(),s!==null&&(Ss(s,1,i),qn(s,i));break}}s=s.return}}function UI(i,s,l){var d=i.pingCache;d!==null&&d.delete(s),s=Nn(),i.pingedLanes|=i.suspendedLanes&l,en===i&&(dn&l)===l&&(Kt===4||Kt===3&&(dn&130023424)===dn&&500>it()-Up?Wo(i,0):$p|=l),qn(i,s)}function qv(i,s){s===0&&((i.mode&1)===0?s=1:(s=Be,Be<<=1,(Be&130023424)===0&&(Be=4194304)));var l=Nn();i=Ji(i,s),i!==null&&(Ss(i,s,l),qn(i,l))}function BI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),qv(i,l)}function zI(i,s){var l=0;switch(i.tag){case 13:var d=i.stateNode,f=i.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),qv(i,l)}var Gv;Gv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||Bn.current)Hn=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return Hn=!1,PI(i,s,l);Hn=(i.flags&131072)!==0}else Hn=!1,wt&&(s.flags&1048576)!==0&&Sw(s,Xc,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;hd(i,s),i=s.pendingProps;var f=Ka(s,gn.current);el(s,l),f=wp(null,s,d,i,f,l);var g=vp();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,zn(d)?(g=!0,Kc(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,dp(s),f.updater=cd,s.stateNode=f,f._reactInternals=s,Ip(s,d,i,l),s=Ap(null,s,d,!0,g,l)):(s.tag=0,wt&&g&&tp(s),xn(null,s,f,l),s=s.child),s;case 16:d=s.elementType;e:{switch(hd(i,s),i=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=WI(d),i=Br(d,i),f){case 0:s=kp(null,s,d,i,l);break e;case 1:s=vv(null,s,d,i,l);break e;case 11:s=pv(null,s,d,i,l);break e;case 14:s=mv(null,s,d,Br(d.type,i),l);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Br(d,f),kp(i,s,d,f,l);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Br(d,f),vv(i,s,d,f,l);case 3:e:{if(_v(s),i===null)throw Error(n(387));d=s.pendingProps,g=s.memoizedState,f=g.element,Lw(i,s),rd(s,d,null,l);var _=s.memoizedState;if(d=_.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=nl(Error(n(423)),s),s=Ev(i,s,d,l,f);break e}else if(d!==f){f=nl(Error(n(424)),s),s=Ev(i,s,d,l,f);break e}else for(or=Os(s.stateNode.containerInfo.firstChild),sr=s,wt=!0,Ur=null,l=Ow(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Xa(),d===f){s=es(i,s,l);break e}xn(i,s,d,l)}s=s.child}return s;case 5:return Fw(s),i===null&&ip(s),d=s.type,f=s.pendingProps,g=i!==null?i.memoizedProps:null,_=f.children,Qf(d,f)?_=null:g!==null&&Qf(d,g)&&(s.flags|=32),wv(i,s),xn(i,s,_,l),s.child;case 6:return i===null&&ip(s),null;case 13:return bv(i,s,l);case 4:return hp(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Ja(s,null,d,l):xn(i,s,d,l),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Br(d,f),pv(i,s,d,f,l);case 7:return xn(i,s,s.pendingProps,l),s.child;case 8:return xn(i,s,s.pendingProps.children,l),s.child;case 12:return xn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,g=s.memoizedProps,_=f.value,at(ed,d._currentValue),d._currentValue=_,g!==null)if($r(g.value,_)){if(g.children===f.children&&!Bn.current){s=es(i,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){_=g.child;for(var L=A.firstContext;L!==null;){if(L.context===d){if(g.tag===1){L=Zi(-1,l&-l),L.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var re=q.pending;re===null?L.next=L:(L.next=re.next,re.next=L),q.pending=L}}g.lanes|=l,L=g.alternate,L!==null&&(L.lanes|=l),up(g.return,l,s),A.lanes|=l;break}L=L.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(n(341));_.lanes|=l,A=_.alternate,A!==null&&(A.lanes|=l),up(_,l,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}xn(i,s,f.children,l),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,el(s,l),f=Cr(f),d=d(f),s.flags|=1,xn(i,s,d,l),s.child;case 14:return d=s.type,f=Br(d,s.pendingProps),f=Br(d.type,f),mv(i,s,d,f,l);case 15:return gv(i,s,s.type,s.pendingProps,l);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Br(d,f),hd(i,s),s.tag=1,zn(d)?(i=!0,Kc(s)):i=!1,el(s,l),av(s,d,f),Ip(s,d,f,l),Ap(null,s,d,!0,i,l);case 19:return Cv(i,s,l);case 22:return yv(i,s,l)}throw Error(n(156,s.tag))};function Kv(i,s){return Bi(i,s)}function HI(i,s,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(i,s,l,d){return new HI(i,s,l,d)}function Qp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function WI(i){if(typeof i=="function")return Qp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===Te)return 14}return 2}function Hs(i,s){var l=i.alternate;return l===null?(l=Rr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Td(i,s,l,d,f,g){var _=2;if(d=i,typeof i=="function")Qp(i)&&(_=1);else if(typeof i=="string")_=5;else e:switch(i){case R:return Go(l.children,f,g,s);case C:_=8,f|=8;break;case I:return i=Rr(12,l,s,f|2),i.elementType=I,i.lanes=g,i;case k:return i=Rr(13,l,s,f),i.elementType=k,i.lanes=g,i;case ge:return i=Rr(19,l,s,f),i.elementType=ge,i.lanes=g,i;case te:return Cd(l,f,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:_=10;break e;case V:_=9;break e;case $:_=11;break e;case Te:_=14;break e;case he:_=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return s=Rr(_,l,s,f),s.elementType=i,s.type=d,s.lanes=g,s}function Go(i,s,l,d){return i=Rr(7,i,d,s),i.lanes=l,i}function Cd(i,s,l,d){return i=Rr(22,i,d,s),i.elementType=te,i.lanes=l,i.stateNode={isHidden:!1},i}function Yp(i,s,l){return i=Rr(6,i,null,s),i.lanes=l,i}function Xp(i,s,l){return s=Rr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function qI(i,s,l,d,f){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Is(0),this.expirationTimes=Is(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Is(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Jp(i,s,l,d,f,g,_,A,L){return i=new qI(i,s,l,A,L),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Rr(3,null,null,s),i.current=g,g.stateNode=i,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},dp(g),i}function GI(i,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:i,containerInfo:s,implementation:l}}function Qv(i){if(!i)return Ls;i=i._reactInternals;e:{if(Rt(i)!==i||i.tag!==1)throw Error(n(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(zn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(i.tag===1){var l=i.type;if(zn(l))return Tw(i,l,s)}return s}function Yv(i,s,l,d,f,g,_,A,L){return i=Jp(l,d,!0,i,f,g,_,A,L),i.context=Qv(null),l=i.current,d=Nn(),f=Bs(l),g=Zi(d,f),g.callback=s??null,Fs(l,g,f),i.current.lanes=f,Ss(i,f,d),qn(i,d),i}function Id(i,s,l,d){var f=s.current,g=Nn(),_=Bs(f);return l=Qv(l),s.context===null?s.context=l:s.pendingContext=l,s=Zi(g,_),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=Fs(f,s,_),i!==null&&(Wr(i,f,_,g),nd(i,f,_)),_}function Sd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Xv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Zp(i,s){Xv(i,s),(i=i.alternate)&&Xv(i,s)}function KI(){return null}var Jv=typeof reportError=="function"?reportError:function(i){console.error(i)};function em(i){this._internalRoot=i}Rd.prototype.render=em.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));Id(i,s,null,null)},Rd.prototype.unmount=em.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ho(function(){Id(null,i,null,null)}),s[Ki]=null}};function Rd(i){this._internalRoot=i}Rd.prototype.unstable_scheduleHydration=function(i){if(i){var s=Rc();i={blockedOn:null,target:i,priority:s};for(var l=0;l<ui.length&&s!==0&&s<ui[l].priority;l++);ui.splice(l,0,i),l===0&&Pc(i)}};function tm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function kd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Zv(){}function QI(i,s,l,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var q=Sd(_);g.call(q)}}var _=Yv(s,d,i,0,null,!1,!1,"",Zv);return i._reactRootContainer=_,i[Ki]=_.current,hu(i.nodeType===8?i.parentNode:i),Ho(),_}for(;f=i.lastChild;)i.removeChild(f);if(typeof d=="function"){var A=d;d=function(){var q=Sd(L);A.call(q)}}var L=Jp(i,0,!1,null,null,!1,!1,"",Zv);return i._reactRootContainer=L,i[Ki]=L.current,hu(i.nodeType===8?i.parentNode:i),Ho(function(){Id(s,L,l,d)}),L}function Ad(i,s,l,d,f){var g=l._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var A=f;f=function(){var L=Sd(_);A.call(L)}}Id(s,_,i,f)}else _=QI(l,s,i,f,d);return Sd(_)}Ic=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=gt(s.pendingLanes);l!==0&&(Rs(s,l|1),qn(s,it()),(Xe&6)===0&&(sl=it()+500,Vs()))}break;case 13:Ho(function(){var d=Ji(i,1);if(d!==null){var f=Nn();Wr(d,i,1,f)}}),Zp(i,1)}},Pa=function(i){if(i.tag===13){var s=Ji(i,134217728);if(s!==null){var l=Nn();Wr(s,i,134217728,l)}Zp(i,134217728)}},Sc=function(i){if(i.tag===13){var s=Bs(i),l=Ji(i,s);if(l!==null){var d=Nn();Wr(l,i,s,d)}Zp(i,s)}},Rc=function(){return Ke},kc=function(i,s){var l=Ke;try{return Ke=i,s()}finally{Ke=l}},_s=function(i,s,l){switch(s){case"input":if(Di(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==i&&d.form===i.form){var f=qc(d);if(!f)throw Error(n(90));bt(d),Di(d,f)}}}break;case"textarea":Vi(i,l);break;case"select":s=l.value,s!=null&&mr(i,!!l.multiple,s,!1)}},si=qp,Es=Ho;var YI={usingClientEntryPoint:!1,Events:[mu,qa,qc,yr,So,qp]},Au={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XI={bundleType:Au.bundleType,version:Au.version,rendererPackageName:Au.rendererPackageName,rendererConfig:Au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Cs(i),i===null?null:i.stateNode},findFiberByHostInstance:Au.findFiberByHostInstance||KI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{zi=Pd.inject(XI),An=Pd}catch{}}return Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YI,Gn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tm(s))throw Error(n(200));return GI(i,s,null,l)},Gn.createRoot=function(i,s){if(!tm(i))throw Error(n(299));var l=!1,d="",f=Jv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Jp(i,1,!1,null,null,l,!1,d,f),i[Ki]=s.current,hu(i.nodeType===8?i.parentNode:i),new em(s)},Gn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Cs(s),i=i===null?null:i.stateNode,i},Gn.flushSync=function(i){return Ho(i)},Gn.hydrate=function(i,s,l){if(!kd(s))throw Error(n(200));return Ad(null,i,s,!0,l)},Gn.hydrateRoot=function(i,s,l){if(!tm(i))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,f=!1,g="",_=Jv;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),s=Yv(s,null,i,1,l??null,f,!1,g,_),i[Ki]=s.current,hu(i),d)for(i=0;i<d.length;i++)l=d[i],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Rd(s)},Gn.render=function(i,s,l){if(!kd(s))throw Error(n(200));return Ad(null,i,s,!1,l)},Gn.unmountComponentAtNode=function(i){if(!kd(i))throw Error(n(40));return i._reactRootContainer?(Ho(function(){Ad(null,null,i,!1,function(){i._reactRootContainer=null,i[Ki]=null})}),!0):!1},Gn.unstable_batchedUpdates=qp,Gn.unstable_renderSubtreeIntoContainer=function(i,s,l,d){if(!kd(l))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Ad(i,s,l,!1,d)},Gn.version="18.3.1-next-f1338f8080-20240426",Gn}var a_;function oS(){if(a_)return im.exports;a_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),im.exports=sS(),im.exports}var l_;function aS(){if(l_)return xd;l_=1;var t=oS();return xd.createRoot=t.createRoot,xd.hydrateRoot=t.hydrateRoot,xd}var lS=aS();const uS=()=>{};var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},cS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],h=t[n++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,h=c?t[o+1]:0,p=o+2<t.length,y=p?t[o+2]:0,w=a>>2,E=(a&3)<<4|h>>4;let b=(h&15)<<2|y>>6,x=y&63;p||(x=64,c||(b=64)),r.push(n[w],n[E],n[b],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const y=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||y==null||E==null)throw new dS;const b=a<<2|h>>4;if(r.push(b),y!==64){const x=h<<4&240|y>>2;if(r.push(x),E!==64){const D=y<<6&192|E;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hS=function(t){const e=DE(t);return LE.encodeByteArray(e,!0)},ch=function(t){return hS(t).replace(/\./g,"")},VE=function(t){try{return LE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=()=>fS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof u_>"u")return;const t=u_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VE(t[1]);return e&&JSON.parse(e)},Yh=()=>{try{return uS()||pS()||mS()||gS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ME=t=>Yh()?.emulatorHosts?.[t],FE=t=>{const e=ME(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jE=()=>Yh()?.config,$E=t=>Yh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ch(JSON.stringify(n)),ch(JSON.stringify(c)),""].join(".")}const $u={};function wS(){const t={prod:[],emulator:[]};for(const e of Object.keys($u))$u[e]?t.emulator.push(e):t.prod.push(e);return t}function vS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let c_=!1;function _g(t,e){if(typeof window>"u"||typeof document>"u"||!ma(window.location.host)||$u[t]===e||$u[t]||c_)return;$u[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",a=wS().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{c_=!0,c()},b}function w(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=vS(r),x=n("text"),D=document.getElementById(x)||document.createElement("span"),j=n("learnmore"),O=document.getElementById(j)||document.createElement("a"),W=n("preprendIcon"),z=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const K=b.element;h(K),w(O,j);const Z=y();p(z,W),K.append(z,D,O,Z),document.body.appendChild(K)}a?(D.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function ES(){const t=Yh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IS(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SS(){return!ES()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AS,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?PS(a,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new xi(o,h,r)}}function PS(t,e){return t.replace(xS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const xS=/\{\$([^}]+)}/g;function NS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function us(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],c=e[o];if(d_(a)&&d_(c)){if(!us(a,c))return!1}else if(a!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function d_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ou(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Du(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OS(t,e){const n=new DS(t,e);return n.subscribe.bind(n)}class DS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=am),o.error===void 0&&(o.error=am),o.complete===void 0&&(o.complete=am);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FS(e))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yo){return this.instances.has(e)}getOptions(e=Yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&c.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yo){return this.component?this.component.multipleInstances?e:Yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MS(t){return t===Yo?void 0:t}function FS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const $S={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},US=We.INFO,BS={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},zS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=BS[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eg{constructor(e){this.name=e,this._logLevel=US,this._logHandler=zS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$S[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const HS=(t,e)=>e.some(n=>t instanceof n);let h_,f_;function WS(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qS(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BE=new WeakMap,xm=new WeakMap,zE=new WeakMap,lm=new WeakMap,bg=new WeakMap;function GS(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(no(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&BE.set(n,t)}).catch(()=>{}),bg.set(e,t),e}function KS(t){if(xm.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});xm.set(t,e)}let Nm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return no(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QS(t){Nm=t(Nm)}function YS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(um(this),e,...n);return zE.set(r,e.sort?e.sort():[e]),no(r)}:qS().includes(t)?function(...e){return t.apply(um(this),e),no(BE.get(this))}:function(...e){return no(t.apply(um(this),e))}}function XS(t){return typeof t=="function"?YS(t):(t instanceof IDBTransaction&&KS(t),HS(t,WS())?new Proxy(t,Nm):t)}function no(t){if(t instanceof IDBRequest)return GS(t);if(lm.has(t))return lm.get(t);const e=XS(t);return e!==t&&(lm.set(t,e),bg.set(e,t)),e}const um=t=>bg.get(t);function JS(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),h=no(c);return r&&c.addEventListener("upgradeneeded",p=>{r(no(c.result),p.oldVersion,p.newVersion,no(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const ZS=["get","getKey","getAll","getAllKeys","count"],eR=["put","add","delete","clear"],cm=new Map;function p_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cm.get(e))return cm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=eR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ZS.includes(n)))return;const a=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(h.shift())),(await Promise.all([y[n](...h),o&&p.done]))[0]};return cm.set(e,a),a}QS(t=>({...t,get:(e,n,r)=>p_(e,n)||t.get(e,n,r),has:(e,n)=>!!p_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nR(t){return t.getComponent()?.type==="VERSION"}const Om="@firebase/app",m_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Eg("@firebase/app"),rR="@firebase/app-compat",iR="@firebase/analytics-compat",sR="@firebase/analytics",oR="@firebase/app-check-compat",aR="@firebase/app-check",lR="@firebase/auth",uR="@firebase/auth-compat",cR="@firebase/database",dR="@firebase/data-connect",hR="@firebase/database-compat",fR="@firebase/functions",pR="@firebase/functions-compat",mR="@firebase/installations",gR="@firebase/installations-compat",yR="@firebase/messaging",wR="@firebase/messaging-compat",vR="@firebase/performance",_R="@firebase/performance-compat",ER="@firebase/remote-config",bR="@firebase/remote-config-compat",TR="@firebase/storage",CR="@firebase/storage-compat",IR="@firebase/firestore",SR="@firebase/ai",RR="@firebase/firestore-compat",kR="firebase",AR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",PR={[Om]:"fire-core",[rR]:"fire-core-compat",[sR]:"fire-analytics",[iR]:"fire-analytics-compat",[aR]:"fire-app-check",[oR]:"fire-app-check-compat",[lR]:"fire-auth",[uR]:"fire-auth-compat",[cR]:"fire-rtdb",[dR]:"fire-data-connect",[hR]:"fire-rtdb-compat",[fR]:"fire-fn",[pR]:"fire-fn-compat",[mR]:"fire-iid",[gR]:"fire-iid-compat",[yR]:"fire-fcm",[wR]:"fire-fcm-compat",[vR]:"fire-perf",[_R]:"fire-perf-compat",[ER]:"fire-rc",[bR]:"fire-rc-compat",[TR]:"fire-gcs",[CR]:"fire-gcs-compat",[IR]:"fire-fst",[RR]:"fire-fst-compat",[SR]:"fire-vertex","fire-js":"fire-js",[kR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,xR=new Map,Lm=new Map;function g_(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oa(t){const e=t.name;if(Lm.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,t);for(const n of dh.values())g_(n,t);for(const n of xR.values())g_(n,t);return!0}function Xh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ro=new sc("app","Firebase",NR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=AR;function HE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Dm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ro.create("bad-app-name",{appName:String(o)});if(n||(n=jE()),!n)throw ro.create("no-options");const a=dh.get(o);if(a){if(us(n,a.options)&&us(r,a.config))return a;throw ro.create("duplicate-app",{appName:o})}const c=new jS(o);for(const p of Lm.values())c.addComponent(p);const h=new OR(n,r,c);return dh.set(o,h),h}function Tg(t=Dm){const e=dh.get(t);if(!e&&t===Dm&&jE())return HE();if(!e)throw ro.create("no-app",{appName:t});return e}function Ei(t,e,n){let r=PR[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(c.join(" "));return}oa(new lo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="firebase-heartbeat-database",LR=1,Qu="firebase-heartbeat-store";let dm=null;function WE(){return dm||(dm=JS(DR,LR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ro.create("idb-open",{originalErrorMessage:t.message})})),dm}async function VR(t){try{const n=(await WE()).transaction(Qu),r=await n.objectStore(Qu).get(qE(t));return await n.done,r}catch(e){if(e instanceof xi)cs.warn(e.message);else{const n=ro.create("idb-get",{originalErrorMessage:e?.message});cs.warn(n.message)}}}async function y_(t,e){try{const r=(await WE()).transaction(Qu,"readwrite");await r.objectStore(Qu).put(e,qE(t)),await r.done}catch(n){if(n instanceof xi)cs.warn(n.message);else{const r=ro.create("idb-set",{originalErrorMessage:n?.message});cs.warn(r.message)}}}function qE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=1024,FR=30;class jR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>FR){const o=BR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w_(),{heartbeatsToSend:n,unsentEntries:r}=$R(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cs.warn(e),""}}}function w_(){return new Date().toISOString().substring(0,10)}function $R(t,e=MR){const n=[];let r=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),v_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),v_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function v_(t){return ch(JSON.stringify({version:2,heartbeats:t})).length}function BR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){oa(new lo("platform-logger",e=>new tR(e),"PRIVATE")),oa(new lo("heartbeat",e=>new jR(e),"PRIVATE")),Ei(Om,m_,t),Ei(Om,m_,"esm2020"),Ei("fire-js","")}zR("");function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HR=GE,KE=new sc("auth","Firebase",GE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Eg("@firebase/auth");function WR(t,...e){hh.logLevel<=We.WARN&&hh.warn(`Auth (${ga}): ${t}`,...e)}function qd(t,...e){hh.logLevel<=We.ERROR&&hh.error(`Auth (${ga}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,...e){throw Ig(t,...e)}function Ar(t,...e){return Ig(t,...e)}function Cg(t,e,n){const r={...HR(),[e]:n};return new sc("auth","Firebase",r).create(e,{appName:t.name})}function ss(t){return Cg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QE(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pr(t,"argument-error"),Cg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ig(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KE.create(t,...e)}function Pe(t,e,...n){if(!t)throw Ig(e,...n)}function rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qd(e),new Error(e)}function ds(t,e){t||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){return typeof self<"u"&&self.location?.href||""}function qR(){return __()==="http:"||__()==="https:"}function __(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qR()||TS()||"connection"in navigator)?navigator.onLine:!0}function KR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=_S()||CS()}get(){return GR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XR=new ac(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Jr(t,e,n,r,o={}){return XE(t,o,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const h=oc({key:t.config.apiKey,...c}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:p,...a};return bS()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&ma(t.emulatorConfig.host)&&(y.credentials="include"),YE.fetch()(await JE(t,t.config.apiHost,n,h),y)})}async function XE(t,e,n){t._canInitEmulator=!1;const r={...QR,...e};try{const o=new ZR(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Nd(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,y]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nd(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Nd(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw Nd(t,"user-disabled",c);const w=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Cg(t,w,y);Pr(t,w)}}catch(o){if(o instanceof xi)throw o;Pr(t,"network-request-failed",{message:String(o)})}}async function lc(t,e,n,r,o={}){const a=await Jr(t,e,n,r,o);return"mfaPendingCredential"in a&&Pr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function JE(t,e,n,r){const o=`${e}${n}?${r}`,a=t,c=a.config.emulator?Sg(t.config,o):`${t.config.apiScheme}://${o}`;return YR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function JR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),XR.get())})}}function Nd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ar(t,e,r);return o.customData._tokenResponse=n,o}function E_(t){return t!==void 0&&t.enterprise!==void 0}class ek{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tk(t,e){return Jr(t,"GET","/v2/recaptchaConfig",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(t,e){return Jr(t,"POST","/v1/accounts:delete",e)}async function fh(t,e){return Jr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rk(t,e=!1){const n=_t(t),r=await n.getIdToken(e),o=Rg(r);Pe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:r,authTime:Uu(hm(o.auth_time)),issuedAtTime:Uu(hm(o.iat)),expirationTime:Uu(hm(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function hm(t){return Number(t)*1e3}function Rg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const o=VE(n);return o?JSON.parse(o):(qd("Failed to decode base64 JWT payload"),null)}catch(o){return qd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function b_(t){const e=Rg(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xi&&ik(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ik({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t){const e=t.auth,n=await t.getIdToken(),r=await aa(t,fh(e,{idToken:n}));Pe(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=o.providerUserInfo?.length?ZE(o.providerUserInfo):[],c=ak(t.providerData,a),h=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!c?.length,y=h?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function ok(t){const e=_t(t);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ak(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function ZE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e){const n=await XE(t,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,c=await JE(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:r};return t.emulatorConfig&&ma(t.emulatorConfig.host)&&(p.credentials="include"),YE.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uk(t,e){return Jr(t,"POST","/v2/accounts:revokeToken",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=b_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await lk(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,c=new pl;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Pe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Pe(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qr{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new sk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await aa(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rk(this,e)}reload(){return ok(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await aa(this,nk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:x,providerData:D,stsTokenManager:j}=n;Pe(E&&j,e,"internal-error");const O=pl.fromJSON(this.name,j);Pe(typeof E=="string",e,"internal-error"),qs(r,e.name),qs(o,e.name),Pe(typeof b=="boolean",e,"internal-error"),Pe(typeof x=="boolean",e,"internal-error"),qs(a,e.name),qs(c,e.name),qs(h,e.name),qs(p,e.name),qs(y,e.name),qs(w,e.name);const W=new qr({uid:E,auth:e,email:o,emailVerified:b,displayName:r,isAnonymous:x,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:O,createdAt:y,lastLoginAt:w});return D&&Array.isArray(D)&&(W.providerData=D.map(z=>({...z}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,r=!1){const o=new pl;o.updateFromServerResponse(n);const a=new qr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await ph(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Pe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?ZE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,h=new pl;h.updateFromIdToken(r);const p=new qr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;function is(t){ds(t instanceof Function,"Expected a class definition");let e=T_.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}e1.type="NONE";const C_=e1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}class ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Gd(this.userKey,o.apiKey,a),this.fullPersistenceKey=Gd("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fh(this.auth,{idToken:e}).catch(()=>{});return n?qr._fromGetAccountInfoResponse(this.auth,n,e):null}return qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ml(is(C_),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||is(C_);const c=Gd(r,e.config.apiKey,e.name);let h=null;for(const y of n)try{const w=await y._get(c);if(w){let E;if(typeof w=="string"){const b=await fh(e,{idToken:w}).catch(()=>{});if(!b)break;E=await qr._fromGetAccountInfoResponse(e,b,w)}else E=qr._fromJSON(e,w);y!==a&&(h=E),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new ml(a,e,r):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(n.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new ml(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o1(e))return"Blackberry";if(a1(e))return"Webos";if(n1(e))return"Safari";if((e.includes("chrome/")||r1(e))&&!e.includes("edge/"))return"Chrome";if(s1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function t1(t=Sn()){return/firefox\//i.test(t)}function n1(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r1(t=Sn()){return/crios\//i.test(t)}function i1(t=Sn()){return/iemobile/i.test(t)}function s1(t=Sn()){return/android/i.test(t)}function o1(t=Sn()){return/blackberry/i.test(t)}function a1(t=Sn()){return/webos/i.test(t)}function kg(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ck(t=Sn()){return kg(t)&&!!window.navigator?.standalone}function dk(){return IS()&&document.documentMode===10}function l1(t=Sn()){return kg(t)||s1(t)||a1(t)||o1(t)||/windows phone/i.test(t)||i1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t,e=[]){let n;switch(t){case"Browser":n=I_(Sn());break;case"Worker":n=`${I_(Sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(t,e={}){return Jr(t,"GET","/v2/passwordPolicy",ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=6;class mk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??pk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new hk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fh(this,{idToken:e}),r=await qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(On(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(ss(this));const n=e?_t(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fk(this),n=new mk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function gs(t){return _t(t)}class S_{constructor(e){this.auth=e,this.observer=null,this.addObserver=OS(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yk(t){Jh=t}function c1(t){return Jh.loadJS(t)}function wk(){return Jh.recaptchaEnterpriseScript}function vk(){return Jh.gapiScript}function _k(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Ek{constructor(){this.enterprise=new bk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Tk="recaptcha-enterprise",d1="NO_RECAPTCHA";class Ck{constructor(e){this.type=Tk,this.auth=gs(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{tk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new ek(p);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(p=>{h(p)})})}function o(a,c,h){const p=window.grecaptcha;E_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(d1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ek().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(h=>{if(!n&&E_(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=wk();p.length!==0&&(p+=h),c1(p).then(()=>{o(h,a,c)}).catch(y=>{c(y)})}}).catch(h=>{c(h)})})}}async function R_(t,e,n,r=!1,o=!1){const a=new Ck(t);let c;if(o)c=d1;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function mh(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await R_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await R_(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e){const n=Xh(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(us(a,e??{}))return o;Pr(o,"already-initialized")}return n.initialize({options:e})}function Sk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Rk(t,e,n){const r=gs(t);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=h1(e),{host:c,port:h}=kk(e),p=h===null?"":`:${h}`,y={url:`${a}//${c}${p}/`},w=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(us(y,r.config.emulator)&&us(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,ma(c)?(vg(`${a}//${c}${p}`),_g("Auth",!0)):Ak()}function h1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kk(t){const e=h1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:k_(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:k_(c)}}}function k_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ak(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function Pk(t,e){return Jr(t,"POST","/v1/accounts:update",e)}async function xk(t,e){return Jr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e){return lc(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}async function Ok(t,e){return Jr(t,"POST","/v1/accounts:sendOobCode",ms(t,e))}async function Dk(t,e){return Ok(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(t,e){return lc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function Vk(t,e){return lc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends Ag{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mh(e,n,"signInWithPassword",Nk);case"emailLink":return Lk(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mh(e,r,"signUpPassword",xk);case"emailLink":return Vk(e,{idToken:n,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e){return lc(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="http://localhost";class la extends Ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=n;if(!r||!o)return null;const c=new la(r,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return gl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gl(e,n)}buildRequest(){const e={requestUri:Mk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jk(t){const e=Ou(Du(t)).link,n=e?Ou(Du(e)).deep_link_id:null,r=Ou(Du(t)).deep_link_id;return(r?Ou(Du(r)).link:null)||r||n||e||t}class Pg{constructor(e){const n=Ou(Du(e)),r=n.apiKey??null,o=n.oobCode??null,a=Fk(n.mode??null);Pe(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=jk(e);try{return new Pg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,n){return Yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pg.parseLink(n);return Pe(r,"argument-error"),Yu._fromEmailAndCode(e,r.code,r.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Zh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends uc{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends uc{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends uc{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(t,e){return lc(t,"POST","/v1/accounts:signUp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await qr._fromIdTokenResponse(e,r,o),c=A_(r);return new ua({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=A_(r);return new ua({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function A_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends xi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new gh(e,n,r,o)}}function f1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(t,a,e,r):a})}async function Uk(t,e,n=!1){const r=await aa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ua._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(t,e,n=!1){const{auth:r}=t;if(On(r.app))return Promise.reject(ss(r));const o="reauthenticate";try{const a=await aa(t,f1(r,o,e,t),n);Pe(a.idToken,r,"internal-error");const c=Rg(a.idToken);Pe(c,r,"internal-error");const{sub:h}=c;return Pe(t.uid===h,r,"user-mismatch"),ua._forOperation(t,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Pr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(t,e,n=!1){if(On(t.app))return Promise.reject(ss(t));const r="signIn",o=await f1(t,r,e),a=await ua._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function Bk(t,e){return m1(gs(t),e)}async function zk(t,e){return p1(_t(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(t){const e=gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Hk(t,e,n){const r=gs(t);await mh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Dk)}async function Wk(t,e,n){if(On(t.app))return Promise.reject(ss(t));const r=gs(t),c=await mh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$k).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&g1(t),p}),h=await ua._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function qk(t,e,n){return On(t.app)?Promise.reject(ss(t)):Bk(_t(t),ya.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&g1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e){return Jr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=_t(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await aa(r,Gk(r.auth,a));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const h=r.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function Kk(t,e){return Qk(_t(t),null,e)}async function Qk(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const c=await aa(t,Pk(r,a));await t._updateTokensIfNecessary(c,!0)}function Yk(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function Xk(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function Jk(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}function xg(t){return _t(t).signOut()}async function Zk(t){return _t(t).delete()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=1e3,t2=10;class v1 extends w1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);dk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,t2):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}v1.type="LOCAL";const n2=v1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends w1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_1.type="SESSION";const E1=_1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async y=>y(n.origin,a)),p=await r2(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const y=Ng("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const b=E;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(b.data.response);break;default:clearTimeout(w),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function s2(t){bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function o2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a2(){return navigator?.serviceWorker?.controller||null}function l2(){return b1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firebaseLocalStorageDb",u2=1,wh="firebaseLocalStorage",C1="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(t,e){return t.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function c2(){const t=indexedDB.deleteDatabase(T1);return new cc(t).toPromise()}function Fm(){const t=indexedDB.open(T1,u2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wh,{keyPath:C1})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wh)?e(r):(r.close(),await c2(),e(await Fm()))})})}async function P_(t,e,n){const r=tf(t,!0).put({[C1]:e,value:n});return new cc(r).toPromise()}async function d2(t,e){const n=tf(t,!1).get(e),r=await new cc(n).toPromise();return r===void 0?null:r.value}function x_(t,e){const n=tf(t,!0).delete(e);return new cc(n).toPromise()}const h2=800,f2=3;class I1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>f2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return b1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(l2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await o2(),!this.activeServiceWorker)return;this.sender=new i2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await P_(e,yh,"1"),await x_(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>d2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=tf(o,!1).getAll();return new cc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I1.type="LOCAL";const p2=I1;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){return e?is(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends Ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function m2(t){return m1(t.auth,new Dg(t),t.bypassAuthState)}function g2(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),p1(n,new Dg(t),t.bypassAuthState)}async function y2(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Uk(n,new Dg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m2;case"linkViaPopup":case"linkViaRedirect":return y2;case"reauthViaPopup":case"reauthViaRedirect":return g2;default:Pr(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new ac(2e3,1e4);async function v2(t,e,n){if(On(t.app))return Promise.reject(Ar(t,"operation-not-supported-in-this-environment"));const r=gs(t);QE(t,e,Zh);const o=Og(r,n);return new Js(r,"signInViaPopup",e,o).executeNotNull()}async function _2(t,e,n){const r=_t(t);if(On(r.auth.app))return Promise.reject(Ar(r.auth,"operation-not-supported-in-this-environment"));QE(r.auth,e,Zh);const o=Og(r.auth,n);return new Js(r.auth,"reauthViaPopup",e,o,r).executeNotNull()}class Js extends S1{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w2.get())};e()}}Js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="pendingRedirect",Kd=new Map;class b2 extends S1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kd.get(this.auth._key());if(!e){try{const r=await T2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T2(t,e){const n=S2(e),r=I2(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function C2(t,e){Kd.set(t._key(),e)}function I2(t){return is(t._redirectPersistence)}function S2(t){return Gd(E2,t.config.apiKey,t.name)}async function R2(t,e,n=!1){if(On(t.app))return Promise.reject(ss(t));const r=gs(t),o=Og(r,e),c=await new b2(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=600*1e3;class A2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!R1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ar(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k2&&this.cachedEventUids.clear(),this.cachedEventUids.has(N_(e))}saveEventToCache(e){this.cachedEventUids.add(N_(e)),this.lastProcessedEventTime=Date.now()}}function N_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function R1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function P2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,e={}){return Jr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O2=/^https?/;async function D2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x2(t);for(const n of e)try{if(L2(n))return}catch{}Pr(t,"unauthorized-domain")}function L2(t){const e=Vm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!O2.test(n))return!1;if(N2.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new ac(3e4,6e4);function O_(){const t=bi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function M2(t){return new Promise((e,n)=>{function r(){O_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O_(),n(Ar(t,"network-request-failed"))},timeout:V2.get()})}if(bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bi().gapi?.load)r();else{const o=_k("iframefcb");return bi()[o]=()=>{gapi.load?r():n(Ar(t,"network-request-failed"))},c1(`${vk()}?onload=${o}`).catch(a=>n(a))}}).catch(e=>{throw Qd=null,e})}let Qd=null;function F2(t){return Qd=Qd||M2(t),Qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new ac(5e3,15e3),$2="__/auth/iframe",U2="emulator/auth/iframe",B2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H2(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sg(e,U2):`https://${t.config.authDomain}/${$2}`,r={apiKey:e.apiKey,appName:t.name,v:ga},o=z2.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${oc(r).slice(1)}`}async function W2(t){const e=await F2(t),n=bi().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:H2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B2,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const c=Ar(t,"network-request-failed"),h=bi().setTimeout(()=>{a(c)},j2.get());function p(){bi().clearTimeout(h),o(r)}r.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G2=500,K2=600,Q2="_blank",Y2="http://localhost";class D_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X2(t,e,n,r=G2,o=K2){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p={...q2,width:r.toString(),height:o.toString(),top:a,left:c},y=Sn().toLowerCase();n&&(h=r1(y)?Q2:n),t1(y)&&(e=e||Y2,p.scrollbars="yes");const w=Object.entries(p).reduce((b,[x,D])=>`${b}${x}=${D},`,"");if(ck(y)&&h!=="_self")return J2(e||"",h),new D_(null);const E=window.open(e||"",h,w);Pe(E,t,"popup-blocked");try{E.focus()}catch{}return new D_(E)}function J2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="__/auth/handler",eA="emulator/auth/handler",tA=encodeURIComponent("fac");async function L_(t,e,n,r,o,a){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ga,eventId:o};if(e instanceof Zh){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",NS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))c[w]=E}if(e instanceof uc){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(c.scopes=w.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const p=await t._getAppCheckToken(),y=p?`#${tA}=${encodeURIComponent(p)}`:"";return`${nA(t)}?${oc(h).slice(1)}${y}`}function nA({config:t}){return t.emulator?Sg(t,eA):`https://${t.authDomain}/${Z2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="webStorageSupport";class rA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E1,this._completeRedirectFn=R2,this._overrideRedirectResult=C2}async _openPopup(e,n,r,o){ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await L_(e,n,r,Vm(),o);return X2(e,a,Ng())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await L_(e,n,r,Vm(),o);return s2(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(ds(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await W2(e),r=new A2(e);return n.register("authEvent",o=>(Pe(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},o=>{const a=o?.[0]?.[fm];a!==void 0&&n(!!a),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return l1()||n1()||kg()}}const iA=rA;var V_="@firebase/auth",M_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aA(t){oa(new lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Pe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u1(t)},y=new gk(r,o,a,p);return Sk(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oa(new lo("auth-internal",e=>{const n=gs(e.getProvider("auth").getImmediate());return(r=>new sA(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(V_,M_,oA(t)),Ei(V_,M_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=300,uA=$E("authIdTokenMaxAge")||lA;let F_=null;const cA=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uA)return;const o=n?.token;F_!==o&&(F_=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wa(t=Tg()){const e=Xh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ik(t,{popupRedirectResolver:iA,persistence:[p2,n2,E1]}),r=$E("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=cA(a.toString());Xk(n,c,()=>c(n.currentUser)),Yk(n,h=>c(h))}}const o=ME("auth");return o&&Rk(n,`http://${o}`),n}function dA(){return document.getElementsByTagName("head")?.[0]??document}yk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=Ar("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",dA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aA("Browser");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var io,k1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function I(){}I.prototype=C.prototype,R.D=C.prototype,R.prototype=new I,R.prototype.constructor=R,R.C=function(N,V,$){for(var k=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)k[ge-2]=arguments[ge];return C.prototype[V].apply(N,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,C,I){I||(I=0);var N=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)N[V]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(V=0;16>V;++V)N[V]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=R.g[0],I=R.g[1],V=R.g[2];var $=R.g[3],k=C+($^I&(V^$))+N[0]+3614090360&4294967295;C=I+(k<<7&4294967295|k>>>25),k=$+(V^C&(I^V))+N[1]+3905402710&4294967295,$=C+(k<<12&4294967295|k>>>20),k=V+(I^$&(C^I))+N[2]+606105819&4294967295,V=$+(k<<17&4294967295|k>>>15),k=I+(C^V&($^C))+N[3]+3250441966&4294967295,I=V+(k<<22&4294967295|k>>>10),k=C+($^I&(V^$))+N[4]+4118548399&4294967295,C=I+(k<<7&4294967295|k>>>25),k=$+(V^C&(I^V))+N[5]+1200080426&4294967295,$=C+(k<<12&4294967295|k>>>20),k=V+(I^$&(C^I))+N[6]+2821735955&4294967295,V=$+(k<<17&4294967295|k>>>15),k=I+(C^V&($^C))+N[7]+4249261313&4294967295,I=V+(k<<22&4294967295|k>>>10),k=C+($^I&(V^$))+N[8]+1770035416&4294967295,C=I+(k<<7&4294967295|k>>>25),k=$+(V^C&(I^V))+N[9]+2336552879&4294967295,$=C+(k<<12&4294967295|k>>>20),k=V+(I^$&(C^I))+N[10]+4294925233&4294967295,V=$+(k<<17&4294967295|k>>>15),k=I+(C^V&($^C))+N[11]+2304563134&4294967295,I=V+(k<<22&4294967295|k>>>10),k=C+($^I&(V^$))+N[12]+1804603682&4294967295,C=I+(k<<7&4294967295|k>>>25),k=$+(V^C&(I^V))+N[13]+4254626195&4294967295,$=C+(k<<12&4294967295|k>>>20),k=V+(I^$&(C^I))+N[14]+2792965006&4294967295,V=$+(k<<17&4294967295|k>>>15),k=I+(C^V&($^C))+N[15]+1236535329&4294967295,I=V+(k<<22&4294967295|k>>>10),k=C+(V^$&(I^V))+N[1]+4129170786&4294967295,C=I+(k<<5&4294967295|k>>>27),k=$+(I^V&(C^I))+N[6]+3225465664&4294967295,$=C+(k<<9&4294967295|k>>>23),k=V+(C^I&($^C))+N[11]+643717713&4294967295,V=$+(k<<14&4294967295|k>>>18),k=I+($^C&(V^$))+N[0]+3921069994&4294967295,I=V+(k<<20&4294967295|k>>>12),k=C+(V^$&(I^V))+N[5]+3593408605&4294967295,C=I+(k<<5&4294967295|k>>>27),k=$+(I^V&(C^I))+N[10]+38016083&4294967295,$=C+(k<<9&4294967295|k>>>23),k=V+(C^I&($^C))+N[15]+3634488961&4294967295,V=$+(k<<14&4294967295|k>>>18),k=I+($^C&(V^$))+N[4]+3889429448&4294967295,I=V+(k<<20&4294967295|k>>>12),k=C+(V^$&(I^V))+N[9]+568446438&4294967295,C=I+(k<<5&4294967295|k>>>27),k=$+(I^V&(C^I))+N[14]+3275163606&4294967295,$=C+(k<<9&4294967295|k>>>23),k=V+(C^I&($^C))+N[3]+4107603335&4294967295,V=$+(k<<14&4294967295|k>>>18),k=I+($^C&(V^$))+N[8]+1163531501&4294967295,I=V+(k<<20&4294967295|k>>>12),k=C+(V^$&(I^V))+N[13]+2850285829&4294967295,C=I+(k<<5&4294967295|k>>>27),k=$+(I^V&(C^I))+N[2]+4243563512&4294967295,$=C+(k<<9&4294967295|k>>>23),k=V+(C^I&($^C))+N[7]+1735328473&4294967295,V=$+(k<<14&4294967295|k>>>18),k=I+($^C&(V^$))+N[12]+2368359562&4294967295,I=V+(k<<20&4294967295|k>>>12),k=C+(I^V^$)+N[5]+4294588738&4294967295,C=I+(k<<4&4294967295|k>>>28),k=$+(C^I^V)+N[8]+2272392833&4294967295,$=C+(k<<11&4294967295|k>>>21),k=V+($^C^I)+N[11]+1839030562&4294967295,V=$+(k<<16&4294967295|k>>>16),k=I+(V^$^C)+N[14]+4259657740&4294967295,I=V+(k<<23&4294967295|k>>>9),k=C+(I^V^$)+N[1]+2763975236&4294967295,C=I+(k<<4&4294967295|k>>>28),k=$+(C^I^V)+N[4]+1272893353&4294967295,$=C+(k<<11&4294967295|k>>>21),k=V+($^C^I)+N[7]+4139469664&4294967295,V=$+(k<<16&4294967295|k>>>16),k=I+(V^$^C)+N[10]+3200236656&4294967295,I=V+(k<<23&4294967295|k>>>9),k=C+(I^V^$)+N[13]+681279174&4294967295,C=I+(k<<4&4294967295|k>>>28),k=$+(C^I^V)+N[0]+3936430074&4294967295,$=C+(k<<11&4294967295|k>>>21),k=V+($^C^I)+N[3]+3572445317&4294967295,V=$+(k<<16&4294967295|k>>>16),k=I+(V^$^C)+N[6]+76029189&4294967295,I=V+(k<<23&4294967295|k>>>9),k=C+(I^V^$)+N[9]+3654602809&4294967295,C=I+(k<<4&4294967295|k>>>28),k=$+(C^I^V)+N[12]+3873151461&4294967295,$=C+(k<<11&4294967295|k>>>21),k=V+($^C^I)+N[15]+530742520&4294967295,V=$+(k<<16&4294967295|k>>>16),k=I+(V^$^C)+N[2]+3299628645&4294967295,I=V+(k<<23&4294967295|k>>>9),k=C+(V^(I|~$))+N[0]+4096336452&4294967295,C=I+(k<<6&4294967295|k>>>26),k=$+(I^(C|~V))+N[7]+1126891415&4294967295,$=C+(k<<10&4294967295|k>>>22),k=V+(C^($|~I))+N[14]+2878612391&4294967295,V=$+(k<<15&4294967295|k>>>17),k=I+($^(V|~C))+N[5]+4237533241&4294967295,I=V+(k<<21&4294967295|k>>>11),k=C+(V^(I|~$))+N[12]+1700485571&4294967295,C=I+(k<<6&4294967295|k>>>26),k=$+(I^(C|~V))+N[3]+2399980690&4294967295,$=C+(k<<10&4294967295|k>>>22),k=V+(C^($|~I))+N[10]+4293915773&4294967295,V=$+(k<<15&4294967295|k>>>17),k=I+($^(V|~C))+N[1]+2240044497&4294967295,I=V+(k<<21&4294967295|k>>>11),k=C+(V^(I|~$))+N[8]+1873313359&4294967295,C=I+(k<<6&4294967295|k>>>26),k=$+(I^(C|~V))+N[15]+4264355552&4294967295,$=C+(k<<10&4294967295|k>>>22),k=V+(C^($|~I))+N[6]+2734768916&4294967295,V=$+(k<<15&4294967295|k>>>17),k=I+($^(V|~C))+N[13]+1309151649&4294967295,I=V+(k<<21&4294967295|k>>>11),k=C+(V^(I|~$))+N[4]+4149444226&4294967295,C=I+(k<<6&4294967295|k>>>26),k=$+(I^(C|~V))+N[11]+3174756917&4294967295,$=C+(k<<10&4294967295|k>>>22),k=V+(C^($|~I))+N[2]+718787259&4294967295,V=$+(k<<15&4294967295|k>>>17),k=I+($^(V|~C))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+$&4294967295}r.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var I=C-this.blockSize,N=this.B,V=this.h,$=0;$<C;){if(V==0)for(;$<=I;)o(this,R,$),$+=this.blockSize;if(typeof R=="string"){for(;$<C;)if(N[V++]=R.charCodeAt($++),V==this.blockSize){o(this,N),V=0;break}}else for(;$<C;)if(N[V++]=R[$++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=C},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var I=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=I&255,I/=256;for(this.u(R),R=Array(16),C=I=0;4>C;++C)for(var N=0;32>N;N+=8)R[I++]=this.g[C]>>>N&255;return R};function a(R,C){var I=h;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=C(R)}function c(R,C){this.h=C;for(var I=[],N=!0,V=R.length-1;0<=V;V--){var $=R[V]|0;N&&$==C||(I[V]=$,N=!1)}this.g=I}var h={};function p(R){return-128<=R&&128>R?a(R,function(C){return new c([C|0],0>C?-1:0)}):new c([R|0],0>R?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return E;if(0>R)return O(y(-R));for(var C=[],I=1,N=0;R>=I;N++)C[N]=R/I|0,I*=4294967296;return new c(C,0)}function w(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return O(w(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(C,8)),N=E,V=0;V<R.length;V+=8){var $=Math.min(8,R.length-V),k=parseInt(R.substring(V,V+$),C);8>$?($=y(Math.pow(C,$)),N=N.j($).add(y(k))):(N=N.j(I),N=N.add(y(k)))}return N}var E=p(0),b=p(1),x=p(16777216);t=c.prototype,t.m=function(){if(j(this))return-O(this).m();for(var R=0,C=1,I=0;I<this.g.length;I++){var N=this.i(I);R+=(0<=N?N:4294967296+N)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(j(this))return"-"+O(this).toString(R);for(var C=y(Math.pow(R,6)),I=this,N="";;){var V=Z(I,C).g;I=W(I,V.j(C));var $=((0<I.g.length?I.g[0]:I.h)>>>0).toString(R);if(I=V,D(I))return $+N;for(;6>$.length;)$="0"+$;N=$+N}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function j(R){return R.h==-1}t.l=function(R){return R=W(this,R),j(R)?-1:D(R)?0:1};function O(R){for(var C=R.g.length,I=[],N=0;N<C;N++)I[N]=~R.g[N];return new c(I,~R.h).add(b)}t.abs=function(){return j(this)?O(this):this},t.add=function(R){for(var C=Math.max(this.g.length,R.g.length),I=[],N=0,V=0;V<=C;V++){var $=N+(this.i(V)&65535)+(R.i(V)&65535),k=($>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);N=k>>>16,$&=65535,k&=65535,I[V]=k<<16|$}return new c(I,I[I.length-1]&-2147483648?-1:0)};function W(R,C){return R.add(O(C))}t.j=function(R){if(D(this)||D(R))return E;if(j(this))return j(R)?O(this).j(O(R)):O(O(this).j(R));if(j(R))return O(this.j(O(R)));if(0>this.l(x)&&0>R.l(x))return y(this.m()*R.m());for(var C=this.g.length+R.g.length,I=[],N=0;N<2*C;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<R.g.length;V++){var $=this.i(N)>>>16,k=this.i(N)&65535,ge=R.i(V)>>>16,Te=R.i(V)&65535;I[2*N+2*V]+=k*Te,z(I,2*N+2*V),I[2*N+2*V+1]+=$*Te,z(I,2*N+2*V+1),I[2*N+2*V+1]+=k*ge,z(I,2*N+2*V+1),I[2*N+2*V+2]+=$*ge,z(I,2*N+2*V+2)}for(N=0;N<C;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=C;N<2*C;N++)I[N]=0;return new c(I,0)};function z(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function K(R,C){this.g=R,this.h=C}function Z(R,C){if(D(C))throw Error("division by zero");if(D(R))return new K(E,E);if(j(R))return C=Z(O(R),C),new K(O(C.g),O(C.h));if(j(C))return C=Z(R,O(C)),new K(O(C.g),C.h);if(30<R.g.length){if(j(R)||j(C))throw Error("slowDivide_ only works with positive integers.");for(var I=b,N=C;0>=N.l(R);)I=ce(I),N=ce(N);var V=se(I,1),$=se(N,1);for(N=se(N,2),I=se(I,2);!D(N);){var k=$.add(N);0>=k.l(R)&&(V=V.add(I),$=k),N=se(N,1),I=se(I,1)}return C=W(R,V.j(C)),new K(V,C)}for(V=E;0<=R.l(C);){for(I=Math.max(1,Math.floor(R.m()/C.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),$=y(I),k=$.j(C);j(k)||0<k.l(R);)I-=N,$=y(I),k=$.j(C);D($)&&($=b),V=V.add($),R=W(R,k)}return new K(V,R)}t.A=function(R){return Z(this,R).h},t.and=function(R){for(var C=Math.max(this.g.length,R.g.length),I=[],N=0;N<C;N++)I[N]=this.i(N)&R.i(N);return new c(I,this.h&R.h)},t.or=function(R){for(var C=Math.max(this.g.length,R.g.length),I=[],N=0;N<C;N++)I[N]=this.i(N)|R.i(N);return new c(I,this.h|R.h)},t.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),I=[],N=0;N<C;N++)I[N]=this.i(N)^R.i(N);return new c(I,this.h^R.h)};function ce(R){for(var C=R.g.length+1,I=[],N=0;N<C;N++)I[N]=R.i(N)<<1|R.i(N-1)>>>31;return new c(I,R.h)}function se(R,C){var I=C>>5;C%=32;for(var N=R.g.length-I,V=[],$=0;$<N;$++)V[$]=0<C?R.i($+I)>>>C|R.i($+I+1)<<32-C:R.i($+I);return new c(V,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,k1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=w,io=c}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var Od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A1,Lu,P1,Yd,jm,x1,N1,O1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Od=="object"&&Od];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,T=!1,U={next:function(){if(!T&&v<u.length){var Q=v++;return{value:m(Q,u[Q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function b(u,m,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:E,b.apply(null,arguments)}function x(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function D(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,U,Q){for(var de=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)de[rt-2]=arguments[rt];return m.prototype[U].apply(T,de)}}function j(u){const m=u.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function O(u,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const U=u.length||0,Q=T.length||0;u.length=U+Q;for(let de=0;de<Q;de++)u[U+de]=T[de]}else u.push(T)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function Z(u){return Z[" "](u),u}Z[" "]=function(){};var ce=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function se(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function R(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function C(u){const m={};for(const v in u)m[v]=u[v];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let Q=0;Q<I.length;Q++)v=I[Q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function V(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function $(u){h.setTimeout(()=>{throw u},0)}function k(){var u=ue;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,v){const T=Te.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Te=new W(()=>new he,u=>u.reset());class he{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,X=!1,ue=new ge,oe=()=>{const u=h.Promise.resolve(void 0);te=()=>{u.then(M)}};var M=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(v){$(v)}var m=Te;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}X=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ee=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return u})();function Ne(u,m){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ce){e:{try{Z(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Oe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ne.aa.h.call(this)}}D(Ne,fe);var Oe={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function $e(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++Me,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Et(u){this.src=u,this.g={},this.h=0}Et.prototype.add=function(u,m,v,T,U){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var de=Xn(u,m,T,U);return-1<de?(m=u[de],v||(m.fa=!1)):(m=new $e(m,this.src,Q,!!T,U),m.fa=v,u.push(m)),m};function bt(u,m){var v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),Q;(Q=0<=U)&&Array.prototype.splice.call(T,U,1),Q&&(ot(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Xn(u,m,v,T){for(var U=0;U<u.length;++U){var Q=u[U];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==T)return U}return-1}var pr="closure_lm_"+(1e6*Math.random()|0),ti={};function Oi(u,m,v,T,U){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Oi(u,m[Q],v,T,U);return null}return v=_o(v),u&&u[Fe]?u.K(m,v,y(T)?!!T.capture:!1,U):Di(u,m,v,!1,T,U)}function Di(u,m,v,T,U,Q){if(!m)throw Error("Invalid event type");var de=y(U)?!!U.capture:!!U,rt=Li(u);if(rt||(u[pr]=rt=new Et(u)),v=rt.add(m,v,T,de,Q),v.proxy)return v;if(T=pt(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)Ee||(U=de),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(mr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pt(){function u(v){return m.call(u.src,u.listener,v)}const m=ws;return u}function ys(u,m,v,T,U){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)ys(u,m[Q],v,T,U);else T=y(T)?!!T.capture:!!T,v=_o(v),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],v=Xn(Q,v,T,U),-1<v&&(ot(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Li(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Xn(m,v,T,U)),(v=-1<u?m[u]:null)&&Vn(v))}function Vn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])bt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(mr(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Li(m))?(bt(v,u),v.h==0&&(v.src=null,m[pr]=null)):ot(u)}}}function mr(u){return u in ti?ti[u]:ti[u]="on"+u}function ws(u,m){if(u.da)u=!0;else{m=new Ne(m,this);var v=u.listener,T=u.ha||u.src;u.fa&&Vn(u),u=v.call(T,m)}return u}function Li(u){return u=u[pr],u instanceof Et?u:null}var Vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function _o(u){return typeof u=="function"?u:(u[Vi]||(u[Vi]=function(m){return u.handleEvent(m)}),u[Vi])}function Pt(){G.call(this),this.i=new Et(this),this.M=this,this.F=null}D(Pt,G),Pt.prototype[Fe]=!0,Pt.prototype.removeEventListener=function(u,m,v,T){ys(this,u,m,v,T)};function St(u,m){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new fe(m,u);else if(m instanceof fe)m.target=m.target||u;else{var U=m;m=new fe(T,u),N(m,U)}if(U=!0,v)for(var Q=v.length-1;0<=Q;Q--){var de=m.g=v[Q];U=Jn(de,T,!0,m)&&U}if(de=m.g=u,U=Jn(de,T,!0,m)&&U,U=Jn(de,T,!1,m)&&U,v)for(Q=0;Q<v.length;Q++)de=m.g=v[Q],U=Jn(de,T,!1,m)&&U}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],T=0;T<v.length;T++)ot(v[T]);delete u.g[m],u.h--}}this.F=null},Pt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Pt.prototype.L=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Jn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,Q=0;Q<m.length;++Q){var de=m[Q];if(de&&!de.da&&de.capture==v){var rt=de.listener,qt=de.ha||de.src;de.fa&&bt(u.i,de),U=rt.call(qt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Eo(u,m,v){if(typeof u=="function")v&&(u=b(u,v));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function ni(u){u.g=Eo(()=>{u.g=null,u.i&&(u.i=!1,ni(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ri extends G{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ni(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(u){G.call(this),this.h=u,this.g={}}D(ii,G);var bo=[];function To(u){se(u.g,function(m,v){this.g.hasOwnProperty(v)&&Vn(m)},u),u.g={}}ii.prototype.N=function(){ii.aa.N.call(this),To(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=h.JSON.stringify,Co=h.JSON.parse,Io=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Mi(){}Mi.prototype.h=null;function Fi(u){return u.h||(u.h=u.i())}function _s(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){fe.call(this,"d")}D(Zn,fe);function gr(){fe.call(this,"c")}D(gr,fe);var yr={},So=null;function si(){return So=So||new Pt}yr.La="serverreachability";function Es(u){fe.call(this,yr.La,u)}D(Es,fe);function wr(u){const m=si();St(m,new Es(m))}yr.STAT_EVENT="statevent";function bs(u,m){fe.call(this,yr.STAT_EVENT,u),this.stat=m}D(bs,fe);function mt(u){const m=si();St(m,new bs(m,u))}yr.Ma="timingevent";function ji(u,m){fe.call(this,yr.Ma,u),this.size=m}D(ji,fe);function Mn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function $i(u,m,v,T,U,Q){u.info(function(){if(u.g)if(Q)for(var de="",rt=Q.split("&"),qt=0;qt<rt.length;qt++){var Qe=rt[qt].split("=");if(1<Qe.length){var Jt=Qe[0];Qe=Qe[1];var jt=Jt.split("_");de=2<=jt.length&&jt[1]=="type"?de+(Jt+"="+Qe+"&"):de+(Jt+"=redacted&")}}else de=null;else de=Q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+de})}function Ts(u,m,v,T,U,Q,de){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+Q+" "+de})}function Mt(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ro(u,v)+(T?" "+T:"")})}function an(u,m){u.info(function(){return"TIMEOUT: "+m})}oi.prototype.info=function(){};function Ro(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var Q=U[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var de=1;de<U.length;de++)U[de]=""}}}}return vs(v)}catch{return m}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ko={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rt;function Fn(){}D(Fn,Mi),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},Rt=new Fn;function er(u,m,v,T){this.j=u,this.i=m,this.l=v,this.R=T||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vr}function vr(){this.i=null,this.g="",this.h=!1}var Cs={},Dr={};function Bi(u,m,v){u.L=1,u.v=Rs(Ft(m)),u.m=v,u.P=!0,Ao(u,null)}function Ao(u,m){u.F=Date.now(),it(u),u.A=Ft(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),As(v.i,"t",T),u.C=0,v=u.j.J,u.h=new vr,u.g=Vc(u.j,v?m:null,!u.m),0<u.O&&(u.M=new ri(b(u.Y,u,u.g),u.O)),m=u.U,v=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(bo[0]=U.toString()),U=bo);for(var Q=0;Q<U.length;Q++){var de=Oi(v,U[Q],T||m.handleEvent,!1,m.h||m);if(!de)break;m.g[de.key]=de}m=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),wr(),$i(u.i,u.u,u.A,u.l,u.R,u.m)}er.prototype.ca=function(u){u=u.target;const m=this.M;m&&Un(u)==3?m.j():this.Y(u)},er.prototype.Y=function(u){try{if(u==this.g)e:{const jt=Un(this.g);var m=this.g.Ba();const Er=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||ru(this.g)))){this.J||jt!=4||m==7||(m==8||0>=Er?wr(3):wr(2)),tr(this);var v=this.g.Z();this.X=v;t:if(Ia(this)){var T=ru(this.g);u="";var U=T.length,Q=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),ai(this);var de="";break t}this.h.i=new h.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(Q&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=v==200,Ts(this.i,this.u,this.A,this.l,this.R,jt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,qt=this.g;if((rt=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(rt)){var Qe=rt;break t}}Qe=null}if(v=Qe)Mt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Po(this,v);else{this.o=!1,this.s=3,mt(12),jn(this),ai(this);break e}}if(this.P){v=!0;let ir;for(;!this.J&&this.C<de.length;)if(ir=Zl(this,de),ir==Dr){jt==4&&(this.s=4,mt(14),v=!1),Mt(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==Cs){this.s=4,mt(15),Mt(this.i,this.l,de,"[Invalid Chunk]"),v=!1;break}else Mt(this.i,this.l,ir,null),Po(this,ir);if(Ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||de.length!=0||this.h.h||(this.s=1,mt(16),v=!1),this.o=this.o&&v,!v)Mt(this.i,this.l,de,"[Invalid Chunked Response]"),jn(this),ai(this);else if(0<de.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),su(Jt),Jt.M=!0,mt(11))}}else Mt(this.i,this.l,de,null),Po(this,de);jt==4&&jn(this),this.o&&!this.J&&(jt==4?Fa(this.j,this):(this.o=!1,it(this)))}else Oa(this.g),v==400&&0<de.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),jn(this),ai(this)}}}catch{}finally{}};function Ia(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Zl(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Dr:(v=Number(m.substring(v,T)),isNaN(v)?Cs:(T+=1,T+v>m.length?Dr:(m=m.slice(T,T+v),u.C=T+v,m)))}er.prototype.cancel=function(){this.J=!0,jn(this)};function it(u){u.S=Date.now()+u.I,xt(u,u.I)}function xt(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mn(b(u.ba,u),m)}function tr(u){u.B&&(h.clearTimeout(u.B),u.B=null)}er.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(an(this.i,this.A),this.L!=2&&(wr(),mt(17)),jn(this),this.s=2,ai(this)):xt(this,this.S-u)};function ai(u){u.j.G==0||u.J||Fa(u.j,u)}function jn(u){tr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,To(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Po(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||kt(v.h,u))){if(!u.K&&kt(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Ma(v),jr(v);else break e;Va(v),mt(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Mn(b(v.Za,v),6e3));if(1>=Ra(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Gi(v,11)}else if((u.K||v.g==u)&&Ma(v),!z(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Qe=U[m];if(v.T=Qe[0],Qe=Qe[1],v.G==2)if(Qe[0]=="c"){v.K=Qe[1],v.ia=Qe[2];const Jt=Qe[3];Jt!=null&&(v.la=Jt,v.j.info("VER="+v.la));const jt=Qe[4];jt!=null&&(v.Aa=jt,v.j.info("SVER="+v.Aa));const Er=Qe[5];Er!=null&&typeof Er=="number"&&0<Er&&(T=1.5*Er,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ir=u.g;if(ir){const Lo=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lo){var Q=T.h;Q.g||Lo.indexOf("spdy")==-1&&Lo.indexOf("quic")==-1&&Lo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(xo(Q,Q.h),Q.h=null))}if(T.D){const $a=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(T.ya=$a,st(T.I,T.D,$a))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var de=u;if(T.qa=Lc(T,T.J?T.ia:null,T.W),de.K){ka(T.h,de);var rt=de,qt=T.L;qt&&(rt.I=qt),rt.B&&(tr(rt),it(rt)),T.g=de}else Do(T);0<v.i.length&&di(v)}else Qe[0]!="stop"&&Qe[0]!="close"||Gi(v,7);else v.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Gi(v,7):un(v):Qe[0]!="noop"&&v.l&&v.l.ta(Qe),v.v=0)}}wr(4)}catch{}}var Sa=class{constructor(u,m){this.g=u,this.map=m}};function zi(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ra(u){return u.h?1:u.g?u.g.size:0}function kt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xo(u,m){u.g?u.g.add(m):u.h=m}function ka(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}zi.prototype.cancel=function(){if(this.i=Aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Aa(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return j(u.i)}function Ie(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,T=0;T<v;T++)m.push(u[T]);return m}m=[],v=0;for(T in u)m[v++]=u[T];return m}function Be(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const T in u)m[v++]=T;return m}}}function gt(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Be(u),T=Ie(u),U=T.length,Q=0;Q<U;Q++)m.call(void 0,T[Q],v&&v[Q],u)}var Wt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ae(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),U=null;if(0<=T){var Q=u[v].substring(0,T);U=u[v].substring(T+1)}else Q=u[v];m(Q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function nr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof nr){this.h=u.h,mn(this,u.j),this.o=u.o,this.g=u.g,Is(this,u.s),this.l=u.l;var m=u.i,v=new li;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Ss(this,v),this.m=u.m}else u&&(m=String(u).match(Wt))?(this.h=!1,mn(this,m[1]||"",!0),this.o=Ke(m[2]||""),this.g=Ke(m[3]||"",!0),Is(this,m[4]),this.l=Ke(m[5]||"",!0),Ss(this,m[6]||"",!0),this.m=Ke(m[7]||"")):(this.h=!1,this.i=new li(null,this.h))}nr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ks(m,Pa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ks(m,Pa,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ks(v,v.charAt(0)=="/"?Rc:Sc,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ks(v,eu)),u.join("")};function Ft(u){return new nr(u)}function mn(u,m,v){u.j=v?Ke(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Is(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ss(u,m,v){m instanceof li?(u.i=m,ui(u.i,u.h)):(v||(m=ks(m,kc)),u.i=new li(m,u.h))}function st(u,m,v){u.i.set(m,v)}function Rs(u){return st(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ke(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ks(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Ic),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ic(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Pa=/[#\/\?@]/g,Sc=/[#\?:]/g,Rc=/[#\?]/g,kc=/[#\?@]/g,eu=/#/g;function li(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&Ae(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=li.prototype,t.add=function(u,m){ln(this),this.i=null,u=_r(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Lr(u,m){ln(u),m=_r(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vr(u,m){return ln(u),m=_r(u,m),u.g.has(m)}t.forEach=function(u,m){ln(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)},t.na=function(){ln(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const U=u[T];for(let Q=0;Q<U.length;Q++)v.push(m[T])}return v},t.V=function(u){ln(this);let m=[];if(typeof u=="string")Vr(this,u)&&(m=m.concat(this.g.get(_r(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},t.set=function(u,m){return ln(this),this.i=null,u=_r(this,u),Vr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function As(u,m,v){Lr(u,m),0<v.length&&(u.i=null,u.g.set(_r(u,m),j(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const Q=encodeURIComponent(String(T)),de=this.V(T);for(T=0;T<de.length;T++){var U=Q;de[T]!==""&&(U+="="+encodeURIComponent(String(de[T]))),u.push(U)}}return this.i=u.join("&")};function _r(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ui(u,m){m&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(v,T){var U=T.toLowerCase();T!=U&&(Lr(this,T),As(this,U,v))},u)),u.j=m}function Of(u,m){const v=new oi;if(h.Image){const T=new Image;T.onload=x($n,v,"TestLoadImage: loaded",!0,m,T),T.onerror=x($n,v,"TestLoadImage: error",!1,m,T),T.onabort=x($n,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=x($n,v,"TestLoadImage: timeout",!1,m,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ac(u,m){const v=new oi,T=new AbortController,U=setTimeout(()=>{T.abort(),$n(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(Q=>{clearTimeout(U),Q.ok?$n(v,"TestPingServer: ok",!0,m):$n(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),$n(v,"TestPingServer: error",!1,m)})}function $n(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Df(){this.g=new Io}function Pc(u,m,v){const T=v||"";try{gt(u,function(U,Q){let de=U;y(U)&&(de=vs(U)),m.push(T+Q+"="+encodeURIComponent(de))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Hi(u){this.l=u.Ub||null,this.j=u.eb||!1}D(Hi,Mi),Hi.prototype.g=function(){return new No(this.l,this.j)},Hi.prototype.i=(function(u){return function(){return u}})({});function No(u,m){Pt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(No,Pt),t=No.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fr(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xc(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function xc(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Mr(this):Fr(this),this.readyState==3&&xc(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Mr(this))},t.Qa=function(u){this.g&&(this.response=u,Mr(this))},t.ga=function(){this.g&&Mr(this)};function Mr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fr(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(No.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wi(u){let m="";return se(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ps(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Wi(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):st(u,m,v))}function yt(u){Pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(yt,Pt);var Lf=/^https?$/i,tu=["POST","PUT"];t=yt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rt.g(),this.v=this.o?Fi(this.o):Fi(Rt),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){Oo(this,Q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Q of T.keys())v.set(Q,T.get(Q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(tu,m,void 0))||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,de]of v)this.g.setRequestHeader(Q,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Na(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Oo(this,Q)}};function Oo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,xa(u),rr(u)}function xa(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),rr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nu(this):this.bb())},t.bb=function(){nu(this)};function nu(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Un(u)!=4||u.Z()!=2)){if(u.u&&Un(u)==4)Eo(u.Ea,0,u);else if(St(u,"readystatechange"),Un(u)==4){u.h=!1;try{const de=u.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=de===0){var U=String(u.D).match(Wt)[1]||null;!U&&h.self&&h.self.location&&(U=h.self.location.protocol.slice(0,-1)),T=!Lf.test(U?U.toLowerCase():"")}v=T}if(v)St(u,"complete"),St(u,"success");else{u.m=6;try{var Q=2<Un(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",xa(u)}}finally{rr(u)}}}}function rr(u,m){if(u.g){Na(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||St(u,"ready");try{v.onreadystatechange=T}catch{}}}function Na(u){u.I&&(h.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Un(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Co(m)}};function ru(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oa(u){const m={};u=(u.g&&2<=Un(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(z(u[T]))continue;var v=V(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[U]||[];m[U]=Q,Q.push(v)}R(m,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function iu(u){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ci("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ci("baseRetryDelayMs",5e3,u),this.cb=ci("retryDelaySeedMs",1e4,u),this.Wa=ci("forwardChannelMaxRetries",2,u),this.wa=ci("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(u&&u.concurrentRequestLimit),this.Da=new Df,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iu.prototype,t.la=8,t.G=1,t.connect=function(u,m,v,T){mt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Lc(this,null,this.W),di(this)};function un(u){if(Da(u),u.G==3){var m=u.U++,v=Ft(u.I);if(st(v,"SID",u.K),st(v,"RID",m),st(v,"TYPE","terminate"),qi(u,v),m=new er(u,u.j,m),m.L=2,m.v=Rs(Ft(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.v,v=!0),v||(m.g=Vc(m.j,null),m.g.ea(m.v)),m.F=Date.now(),it(m)}Dc(u)}function jr(u){u.g&&(su(u),u.g.cancel(),u.g=null)}function Da(u){jr(u),u.u&&(h.clearTimeout(u.u),u.u=null),Ma(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function di(u){if(!An(u.h)&&!u.s){u.s=!0;var m=u.Ga;te||oe(),X||(te(),X=!0),ue.add(m,u),u.B=0}}function Vf(u,m){return Ra(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mn(b(u.Ga,u,m),Oc(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new er(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=C(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(U.H=Q,Q=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=xs(this,U,m),v=Ft(this.I),st(v,"RID",u),st(v,"CVER",22),this.D&&st(v,"X-HTTP-Session-Id",this.D),qi(this,v),Q&&(this.O?m="headers="+encodeURIComponent(String(Wi(Q)))+"&"+m:this.m&&Ps(v,this.m,Q)),xo(this.h,U),this.Ua&&st(v,"TYPE","init"),this.P?(st(v,"$req",m),st(v,"SID","null"),U.T=!0,Bi(U,v,null)):Bi(U,v,m),this.G=2}}else this.G==3&&(u?La(this,u):this.i.length==0||An(this.h)||La(this))};function La(u,m){var v;m?v=m.l:v=u.U++;const T=Ft(u.I);st(T,"SID",u.K),st(T,"RID",v),st(T,"AID",u.T),qi(u,T),u.m&&u.o&&Ps(T,u.m,u.o),v=new er(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=xs(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),xo(u.h,v),Bi(v,T,m)}function qi(u,m){u.H&&se(u.H,function(v,T){st(m,T,v)}),u.l&&gt({},function(v,T){st(m,T,v)})}function xs(u,m,v){v=Math.min(u.i.length,v);var T=u.l?b(u.l.Na,u.l,u):null;e:{var U=u.i;let Q=-1;for(;;){const de=["count="+v];Q==-1?0<v?(Q=U[0].g,de.push("ofs="+Q)):Q=0:de.push("ofs="+Q);let rt=!0;for(let qt=0;qt<v;qt++){let Qe=U[qt].g;const Jt=U[qt].map;if(Qe-=Q,0>Qe)Q=Math.max(0,U[qt].g-100),rt=!1;else try{Pc(Jt,de,"req"+Qe+"_")}catch{T&&T(Jt)}}if(rt){T=de.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,T}function Do(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;te||oe(),X||(te(),X=!0),ue.add(m,u),u.v=0}}function Va(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mn(b(u.Fa,u),Oc(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mn(b(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),jr(this),Nc(this))};function su(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Nc(u){u.g=new er(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Ft(u.qa);st(m,"RID","rpc"),st(m,"SID",u.K),st(m,"AID",u.T),st(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&st(m,"TO",u.ja),st(m,"TYPE","xmlhttp"),qi(u,m),u.m&&u.o&&Ps(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Rs(Ft(m)),v.m=null,v.P=!0,Ao(v,u)}t.Za=function(){this.C!=null&&(this.C=null,jr(this),Va(this),mt(19))};function Ma(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Fa(u,m){var v=null;if(u.g==m){Ma(u),su(u),u.g=null;var T=2}else if(kt(u.h,m))v=m.D,ka(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=si(),St(T,new ji(T,v)),di(u)}else Do(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Vf(u,m)||T==2&&Va(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Gi(u,5);break;case 4:Gi(u,10);break;case 3:Gi(u,6);break;default:Gi(u,2)}}}function Oc(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Gi(u,m){if(u.j.info("Error code "+m),m==2){var v=b(u.fb,u),T=u.Xa;const U=!T;T=new nr(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||mn(T,"https"),Rs(T),U?Of(T.toString(),v):Ac(T.toString(),v)}else mt(2);u.G=0,u.l&&u.l.sa(m),Dc(u),Da(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Dc(u){if(u.G=0,u.ka=[],u.l){const m=Aa(u.h);(m.length!=0||u.i.length!=0)&&(O(u.ka,m),O(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function Lc(u,m,v){var T=v instanceof nr?Ft(v):new nr(v);if(T.g!="")m&&(T.g=m+"."+T.g),Is(T,T.s);else{var U=h.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var Q=new nr(null);T&&mn(Q,T),m&&(Q.g=m),U&&Is(Q,U),v&&(Q.l=v),T=Q}return v=u.D,m=u.ya,v&&m&&st(T,v,m),st(T,"VER",u.la),qi(u,T),T}function Vc(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new yt(new Hi({eb:v})):new yt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}t=ou.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ja(){}ja.prototype.g=function(u,m){return new Pn(u,m)};function Pn(u,m){Pt.call(this),this.g=new iu(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!z(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!z(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new hi(this)}D(Pn,Pt),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){un(this.g)},Pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=vs(u),u=v);m.i.push(new Sa(m.Ya++,u)),m.G==3&&di(m)},Pn.prototype.N=function(){this.g.l=null,delete this.j,un(this.g),delete this.g,Pn.aa.N.call(this)};function Mc(u){Zn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}D(Mc,Zn);function Fc(){gr.call(this),this.status=1}D(Fc,gr);function hi(u){this.g=u}D(hi,ou),hi.prototype.ua=function(){St(this.g,"a")},hi.prototype.ta=function(u){St(this.g,new Mc(u))},hi.prototype.sa=function(u){St(this.g,new Fc)},hi.prototype.ra=function(){St(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,O1=function(){return new ja},N1=function(){return si()},x1=yr,jm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,Yd=Ui,ko.COMPLETE="complete",P1=ko,_s.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,Lu=_s,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,A1=yt}).apply(typeof Od<"u"?Od:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore",U_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Eg("@firebase/firestore");function ul(){return ca.logLevel}function ye(t,...e){if(ca.logLevel<=We.DEBUG){const n=e.map(Lg);ca.debug(`Firestore (${Fl}): ${t}`,...n)}}function hs(t,...e){if(ca.logLevel<=We.ERROR){const n=e.map(Lg);ca.error(`Firestore (${Fl}): ${t}`,...n)}}function El(t,...e){if(ca.logLevel<=We.WARN){const n=e.map(Lg);ca.warn(`Firestore (${Fl}): ${t}`,...n)}}function Lg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,D1(t,r,n)}function D1(t,e,n){let r=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hs(r),new Error(r)}function nt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||D1(e,o,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(En.UNAUTHENTICATED)))}shutdown(){}}class fA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pA{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let a=new os;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new os,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},h=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new os)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new L1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class mA{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gA{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new mA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class B_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new B_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new B_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=wA(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function $m(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),a=e.charAt(r);if(o!==a)return pm(o)===pm(a)?qe(o,a):pm(o)?1:-1}return qe(t.length,e.length)}const vA=55296,_A=57343;function pm(t){const e=t.charCodeAt(0);return e>=vA&&e<=_A}function bl(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="__name__";class yi{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=yi.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return qe(e.length,n.length)}static compareSegments(e,n){const r=yi.isNumericId(e),o=yi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?yi.extractNumericId(e).compare(yi.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return io.fromString(e.substring(4,e.length-2))}}class lt extends yi{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const EA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends yi{construct(e,n,r){return new fn(e,n,r)}static isValidIdentifier(e){return EA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z_}static keyField(){return new fn([z_])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(r+=h,o++):(a(),o++)}if(a(),c)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(lt.fromString(e))}static fromName(e){return new Ce(lt.fromString(e).popFirst(5))}static empty(){return new Ce(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e,n){if(!n)throw new pe(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bA(t,e,n,r){if(e===!0&&r===!0)throw new pe(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function H_(t){if(!Ce.isDocumentKey(t))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function W_(t){if(Ce.isDocumentKey(t))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function M1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function nf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(t);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function dc(t,e){if(!M1(t))throw new pe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new pe(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=-62135596800,G_=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*G_);return new ft(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<q_)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ht("string",ft._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new ft(0,0))}static max(){return new Le(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=-1;function TA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new uo(o,Ce.empty(),e)}function CA(t){return new uo(t.readTime,t.key,Xu)}class uo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new uo(Le.min(),Ce.empty(),Xu)}static max(){return new uo(Le.max(),Ce.empty(),Xu)}}function IA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==SA)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&n()}),(p=>r(p)))})),c=!0,a===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((o=>o?ee.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,a)=>{r.push(n.call(this,o,a))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,o)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const y=p;n(e[y]).next((w=>{c[y]=w,++h,h===a&&r(c)}),(w=>o(w)))}}))}static doWhile(e,n){return new ee(((r,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):r()};a()}))}}function kA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=-1;function sf(t){return t==null}function vh(t){return t===0&&1/t==-1/0}function AA(t){return typeof t=="number"&&Number.isInteger(t)&&!vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="";function PA(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=K_(e)),e=xA(t.get(n),e);return K_(e)}function xA(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case F1:n+="";break;default:n+=a}}return n}function K_(t){return t+F1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function j1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dd(this.root,e,this.comparator,!0)}}class Dd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??hn.RED,this.left=o??hn.EMPTY,this.right=a??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new hn(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Y_(this.data.getIterator())}getIteratorFrom(e){return new Y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class Y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new ur([])}unionWith(e){let n=new Yt(fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new $1("Invalid base64 string: "+a):a}})(e);return new pn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const NA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=NA.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ho(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="server_timestamp",B1="__type__",z1="__previous_value__",H1="__local_write_time__";function Fg(t){return(t?.mapValue?.fields||{})[B1]?.stringValue===U1}function of(t){const e=t.mapValue.fields[z1];return Fg(e)?of(e):e}function Ju(t){const e=co(t.mapValue.fields[H1].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r,o,a,c,h,p,y,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=w}}const _h="(default)";class Zu{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="__type__",DA="__max__",Ld={mapValue:{}},q1="__vector__",Eh="value";function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fg(t)?4:VA(t)?9007199254740991:LA(t)?10:11:xe(28295,{value:t})}function ki(t,e){if(t===e)return!0;const n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ju(t).isEqual(Ju(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=co(o.timestampValue),h=co(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return ho(o.bytesValue).isEqual(ho(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Dt(o.geoPointValue.latitude)===Dt(a.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Dt(o.integerValue)===Dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Dt(o.doubleValue),h=Dt(a.doubleValue);return c===h?vh(c)===vh(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return bl(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Q_(c)!==Q_(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!ki(c[p],h[p])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function ec(t,e){return(t.values||[]).find((n=>ki(n,e)))!==void 0}function Tl(t,e){if(t===e)return 0;const n=fo(t),r=fo(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=Dt(a.integerValue||a.doubleValue),p=Dt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(t,e);case 3:return X_(t.timestampValue,e.timestampValue);case 4:return X_(Ju(t),Ju(e));case 5:return $m(t.stringValue,e.stringValue);case 6:return(function(a,c){const h=ho(a),p=ho(c);return h.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),p=c.split("/");for(let y=0;y<h.length&&y<p.length;y++){const w=qe(h[y],p[y]);if(w!==0)return w}return qe(h.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=qe(Dt(a.latitude),Dt(c.latitude));return h!==0?h:qe(Dt(a.longitude),Dt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return J_(t.arrayValue,e.arrayValue);case 10:return(function(a,c){const h=a.fields||{},p=c.fields||{},y=h[Eh]?.arrayValue,w=p[Eh]?.arrayValue,E=qe(y?.values?.length||0,w?.values?.length||0);return E!==0?E:J_(y,w)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Ld.mapValue&&c===Ld.mapValue)return 0;if(a===Ld.mapValue)return 1;if(c===Ld.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),y=c.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let E=0;E<p.length&&E<w.length;++E){const b=$m(p[E],w[E]);if(b!==0)return b;const x=Tl(h[p[E]],y[w[E]]);if(x!==0)return x}return qe(p.length,w.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function X_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=co(t),r=co(e),o=qe(n.seconds,r.seconds);return o!==0?o:qe(n.nanos,r.nanos)}function J_(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=Tl(n[o],r[o]);if(a)return a}return qe(n.length,r.length)}function Cl(t){return Um(t)}function Um(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=co(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ho(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=Um(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of r)a?a=!1:o+=",",o+=`${c}:${Um(n.fields[c])}`;return o+"}"})(t.mapValue):xe(61005,{value:t})}function Xd(t){switch(fo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(t);return e?16+Xd(e):16;case 5:return 2*t.stringValue.length;case 6:return ho(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Xd(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return go(r.fields,((a,c)=>{o+=a.length+Xd(c)})),o})(t.mapValue);default:throw xe(13486,{value:t})}}function Z_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bm(t){return!!t&&"integerValue"in t}function jg(t){return!!t&&"arrayValue"in t}function e0(t){return!!t&&"nullValue"in t}function t0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jd(t){return!!t&&"mapValue"in t}function LA(t){return(t?.mapValue?.fields||{})[W1]?.stringValue===q1}function Bu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Bu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bu(t.arrayValue.values[n]);return e}return{...t}}function VA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===DA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(n)}setAll(e){let n=fn.emptyPath(),r={},o=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=h.popLast()}c?r[h.lastSegment()]=Bu(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());Jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Jd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){go(n,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Qn(Bu(this.value))}}function G1(t){const e=[];return go(t.fields,((n,r)=>{const o=new fn([n]);if(Jd(r)){const a=G1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r,o,a,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Tn(e,0,Le.min(),Le.min(),Le.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,o){return new Tn(e,1,n,Le.min(),r,o,0)}static newNoDocument(e,n){return new Tn(e,2,n,Le.min(),Le.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,Le.min(),Le.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function n0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?r=Ce.comparator(Ce.fromName(c.referenceValue),n.key):r=Tl(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function MA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{}class zt extends K1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jA(e,n,r):n==="array-contains"?new BA(e,r):n==="in"?new zA(e,r):n==="not-in"?new HA(e,r):n==="array-contains-any"?new WA(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $A(e,r):new UA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Tl(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(Tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends K1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xr(e,n)}matches(e){return Q1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Q1(t){return t.op==="and"}function Y1(t){return FA(t)&&Q1(t)}function FA(t){for(const e of t.filters)if(e instanceof Xr)return!1;return!0}function zm(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+Cl(t.value);if(Y1(t))return t.filters.map((e=>zm(e))).join(",");{const e=t.filters.map((n=>zm(n))).join(",");return`${t.op}(${e})`}}function X1(t,e){return t instanceof zt?(function(r,o){return o instanceof zt&&r.op===o.op&&r.field.isEqual(o.field)&&ki(r.value,o.value)})(t,e):t instanceof Xr?(function(r,o){return o instanceof Xr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,c,h)=>a&&X1(c,o.filters[h])),!0):!1})(t,e):void xe(19439)}function J1(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Cl(n.value)}`})(t):t instanceof Xr?(function(n){return n.op.toString()+" {"+n.getFilters().map(J1).join(" ,")+"}"})(t):"Filter"}class jA extends zt{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class $A extends zt{constructor(e,n){super(e,"in",n),this.keys=Z1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UA extends zt{constructor(e,n){super(e,"not-in",n),this.keys=Z1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Z1(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class BA extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jg(n)&&ec(n.arrayValue,this.value)}}class zA extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}}class HA extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ec(this.value.arrayValue,n)}}class WA extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ec(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n=null,r=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function i0(t,e=null,n=[],r=[],o=null,a=null,c=null){return new qA(t,e,n,r,o,a,c)}function $g(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>zm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Cl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Cl(r))).join(",")),e.Te=n}return e.Te}function Ug(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!X1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r0(t.startAt,e.startAt)&&r0(t.endAt,e.endAt)}function Hm(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n=null,r=[],o=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GA(t,e,n,r,o,a,c,h){return new hc(t,e,n,r,o,a,c,h)}function Bg(t){return new hc(t)}function s0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eb(t){return t.collectionGroup!==null}function zu(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Yt(fn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(h=h.add(y.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Th(a,r))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new Th(fn.keyField(),r))}return e.Ie}function Ti(t){const e=Ve(t);return e.Ee||(e.Ee=KA(e,zu(t))),e.Ee}function KA(t,e){if(t.limitType==="F")return i0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Th(o.field,a)}));const n=t.endAt?new bh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bh(t.startAt.position,t.startAt.inclusive):null;return i0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wm(t,e){const n=t.filters.concat([e]);return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qm(t,e,n){return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function af(t,e){return Ug(Ti(t),Ti(e))&&t.limitType===e.limitType}function tb(t){return`${$g(Ti(t))}|lt:${t.limitType}`}function cl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>J1(o))).join(", ")}]`),sf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Cl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Cl(o))).join(",")),`Target(${r})`})(Ti(t))}; limitType=${t.limitType})`}function lf(t,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ce.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,o){for(const a of zu(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,h,p){const y=n0(c,h,p);return c.inclusive?y<=0:y<0})(r.startAt,zu(r),o)||r.endAt&&!(function(c,h,p){const y=n0(c,h,p);return c.inclusive?y>=0:y>0})(r.endAt,zu(r),o))})(t,e)}function QA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nb(t){return(e,n)=>{let r=!1;for(const o of zu(t)){const a=YA(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function YA(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(a,c,h){const p=c.data.field(a),y=h.data.field(a);return p!==null&&y!==null?Tl(p,y):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,((n,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return j1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new It(Ce.comparator);function fs(){return XA}const rb=new It(Ce.comparator);function Vu(...t){let e=rb;for(const n of t)e=e.insert(n.key,n);return e}function ib(t){let e=rb;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Zo(){return Hu()}function sb(){return Hu()}function Hu(){return new va((t=>t.toString()),((t,e)=>t.isEqual(e)))}const JA=new It(Ce.comparator),ZA=new Yt(Ce.comparator);function Ge(...t){let e=ZA;for(const n of t)e=e.add(n);return e}const eP=new Yt(qe);function tP(){return eP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function ob(t){return{integerValue:""+t}}function ab(t,e){return AA(e)?ob(e):zg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function nP(t,e,n){return t instanceof Ch?(function(o,a){const c={fields:{[B1]:{stringValue:U1},[H1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Fg(a)&&(a=of(a)),a&&(c.fields[z1]=a),{mapValue:c}})(n,e):t instanceof Il?ub(t,e):t instanceof Sl?cb(t,e):(function(o,a){const c=lb(o,a),h=o0(c)+o0(o.Ae);return Bm(c)&&Bm(o.Ae)?ob(h):zg(o.serializer,h)})(t,e)}function rP(t,e,n){return t instanceof Il?ub(t,e):t instanceof Sl?cb(t,e):n}function lb(t,e){return t instanceof tc?(function(r){return Bm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Ch extends uf{}class Il extends uf{constructor(e){super(),this.elements=e}}function ub(t,e){const n=db(e);for(const r of t.elements)n.some((o=>ki(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Sl extends uf{constructor(e){super(),this.elements=e}}function cb(t,e){let n=db(e);for(const r of t.elements)n=n.filter((o=>!ki(o,r)));return{arrayValue:{values:n}}}class tc extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function o0(t){return Dt(t.integerValue||t.doubleValue)}function db(t){return jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.field=e,this.transform=n}}function iP(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Il&&o instanceof Il||r instanceof Sl&&o instanceof Sl?bl(r.elements,o.elements,ki):r instanceof tc&&o instanceof tc?ki(r.Ae,o.Ae):r instanceof Ch&&o instanceof Ch})(t.transform,e.transform)}class sP{constructor(e,n){this.version=e,this.transformResults=n}}class Qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cf{}function hb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wg(t.key,Qr.none()):new fc(t.key,t.data,Qr.none());{const n=t.data,r=Qn.empty();let o=new Yt(fn.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),o=o.add(a)}return new yo(t.key,r,new ur(o.toArray()),Qr.none())}}function oP(t,e,n){t instanceof fc?(function(o,a,c){const h=o.value.clone(),p=l0(o.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof yo?(function(o,a,c){if(!Zd(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=l0(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(fb(o)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(t,e,n):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Wu(t,e,n,r){return t instanceof fc?(function(a,c,h,p){if(!Zd(a.precondition,c))return h;const y=a.value.clone(),w=u0(a.fieldTransforms,p,c);return y.setAll(w),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(t,e,n,r):t instanceof yo?(function(a,c,h,p){if(!Zd(a.precondition,c))return h;const y=u0(a.fieldTransforms,p,c),w=c.data;return w.setAll(fb(a)),w.setAll(y),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(t,e,n,r):(function(a,c,h){return Zd(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function aP(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=lb(r.transform,o||null);a!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,a))}return n||null}function a0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&bl(r,o,((a,c)=>iP(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fc extends cf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yo extends cf{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function fb(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function l0(t,e,n){const r=new Map;nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,h=e.data.field(a.field);r.set(a.field,rP(c,h,n[o]))}return r}function u0(t,e,n){const r=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);r.set(o.field,nP(a,c,e))}return r}class Wg extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lP extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&oP(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sb();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=n.has(o.key)?null:h;const p=hb(c,h);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((n,r)=>a0(n,r)))&&bl(this.baseMutations,e.baseMutations,((n,r)=>a0(n,r)))}}class qg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return JA})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,r[c].version);return new qg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ye;function hP(t){switch(t){case J.OK:return xe(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function pb(t){if(t===void 0)return hs("GRPC error has no .code"),J.UNKNOWN;switch(t){case Ut.OK:return J.OK;case Ut.CANCELLED:return J.CANCELLED;case Ut.UNKNOWN:return J.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return J.INTERNAL;case Ut.UNAVAILABLE:return J.UNAVAILABLE;case Ut.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ut.NOT_FOUND:return J.NOT_FOUND;case Ut.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ut.ABORTED:return J.ABORTED;case Ut.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ut.DATA_LOSS:return J.DATA_LOSS;default:return xe(39323,{code:t})}}(Ye=Ut||(Ut={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new io([4294967295,4294967295],0);function c0(t){const e=fP().encode(t),n=new k1;return n.update(e),new Uint8Array(n.digest())}function d0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new io([n,r],0),new io([o,a],0)]}class Gg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mu(`Invalid padding: ${n}`);if(r<0)throw new Mu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=io.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(io.fromNumber(r)));return o.compare(pP)===1&&(o=new io([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=c0(e),[r,o]=d0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);if(!this.we(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Gg(a,o,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=c0(e),[r,o]=d0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new df(Le.min(),o,new It(qe),fs(),Ge())}}class pc{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pc(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class mb{constructor(e,n){this.targetId=e,this.Ce=n}}class gb{constructor(e,n,r=pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class h0{constructor(){this.ve=0,this.Fe=f0(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:xe(38017,{changeType:a})}})),new pc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=f0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mP{constructor(e){this.Ge=e,this.ze=new Map,this.je=fs(),this.Je=Vd(),this.He=Vd(),this.Ye=new It(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Hm(a))if(r===0){const c=new Ce(a.path);this.et(n,c,Tn.newNoDocument(c,Le.min()))}else nt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),p=h?this.ct(h,e,c):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let c,h;try{c=ho(r).toUint8Array()}catch(p){if(p instanceof $1)return El("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Gg(c,o,a)}catch(p){return El(p instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&Hm(h.target)){const p=new Ce(h.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Tn.newNoDocument(p,e))}a.Be&&(n.set(c,a.ke()),a.qe())}}));let r=Ge();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const o=new df(e,n,this.Ye,this.je,r);return this.je=fs(),this.Je=Vd(),this.He=Vd(),this.Ye=new It(qe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new h0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Yt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Yt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vd(){return new It(Ce.comparator)}function f0(){return new It(Ce.comparator)}const gP={asc:"ASCENDING",desc:"DESCENDING"},yP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wP={and:"AND",or:"OR"};class vP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gm(t,e){return t.useProto3Json||sf(e)?e:{value:e}}function Ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _P(t,e){return Ih(t,e.toTimestamp())}function Ci(t){return nt(!!t,49232),Le.fromTimestamp((function(n){const r=co(n);return new ft(r.seconds,r.nanos)})(t))}function Kg(t,e){return Km(t,e).canonicalString()}function Km(t,e){const n=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function wb(t){const e=lt.fromString(t);return nt(Tb(e),10190,{key:e.toString()}),e}function Qm(t,e){return Kg(t.databaseId,e.path)}function mm(t,e){const n=wb(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(_b(n))}function vb(t,e){return Kg(t.databaseId,e)}function EP(t){const e=wb(t);return e.length===4?lt.emptyPath():_b(e)}function Ym(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _b(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function p0(t,e,n){return{name:Qm(t,e),fields:n.value.mapValue.fields}}function bP(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(y,w){return y.useProto3Json?(nt(w===void 0||typeof w=="string",58123),pn.fromBase64String(w||"")):(nt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),pn.fromUint8Array(w||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(y){const w=y.code===void 0?J.UNKNOWN:pb(y.code);return new pe(w,y.message||"")})(c);n=new gb(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=mm(t,r.document.name),a=Ci(r.document.updateTime),c=r.document.createTime?Ci(r.document.createTime):Le.min(),h=new Qn({mapValue:{fields:r.document.fields}}),p=Tn.newFoundDocument(o,a,c,h),y=r.targetIds||[],w=r.removedTargetIds||[];n=new eh(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=mm(t,r.document),a=r.readTime?Ci(r.readTime):Le.min(),c=Tn.newNoDocument(o,a),h=r.removedTargetIds||[];n=new eh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=mm(t,r.document),a=r.removedTargetIds||[];n=new eh([],a,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,c=new dP(o,a),h=r.targetId;n=new mb(h,c)}}return n}function TP(t,e){let n;if(e instanceof fc)n={update:p0(t,e.key,e.value)};else if(e instanceof Wg)n={delete:Qm(t,e.key)};else if(e instanceof yo)n={update:p0(t,e.key,e.data),updateMask:NP(e.fieldMask)};else{if(!(e instanceof lP))return xe(16599,{Vt:e.type});n={verify:Qm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const h=c.transform;if(h instanceof Ch)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Il)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Sl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof tc)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw xe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:_P(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe(27497)})(t,e.precondition)),n}function CP(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(o,a){let c=o.updateTime?Ci(o.updateTime):Ci(a);return c.isEqual(Le.min())&&(c=Ci(a)),new sP(c,o.transformResults||[])})(n,e)))):[]}function IP(t,e){return{documents:[vb(t,e.path)]}}function SP(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vb(t,o);const a=(function(y){if(y.length!==0)return bb(Xr.create(y,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(y){if(y.length!==0)return y.map((w=>(function(b){return{field:dl(b.field),direction:AP(b.dir)}})(w)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Gm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function RP(t){let e=EP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){nt(r===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];n.where&&(a=(function(E){const b=Eb(E);return b instanceof Xr&&Y1(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((b=>(function(D){return new Th(hl(D.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(b)))})(n.orderBy));let h=null;n.limit&&(h=(function(E){let b;return b=typeof E=="object"?E.value:E,sf(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(E){const b=!!E.before,x=E.values||[];return new bh(x,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const b=!E.before,x=E.values||[];return new bh(x,b)})(n.endAt)),GA(e,o,c,a,h,"F",p,y)}function kP(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Eb(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hl(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=hl(n.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=hl(n.unaryFilter.field);return zt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=hl(n.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(hl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Xr.create(n.compositeFilter.filters.map((r=>Eb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function AP(t){return gP[t]}function PP(t){return yP[t]}function xP(t){return wP[t]}function dl(t){return{fieldPath:t.canonicalString()}}function hl(t){return fn.fromServerFormat(t.fieldPath)}function bb(t){return t instanceof zt?(function(n){if(n.op==="=="){if(t0(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NAN"}};if(e0(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t0(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NAN"}};if(e0(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(n.field),op:PP(n.op),value:n.value}}})(t):t instanceof Xr?(function(n){const r=n.getFilters().map((o=>bb(o)));return r.length===1?r[0]:{compositeFilter:{op:xP(n.op),filters:r}}})(t):xe(54877,{filter:t})}function NP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Tb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r,o,a=Le.min(),c=Le.min(),h=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.yt=e}}function DP(t){const e=RP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.Cn=new VP}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(uo.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class VP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Yt(lt.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Yt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cb=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(Cb,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rl(0)}static cr(){return new Rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="LruGarbageCollector",MP=1048576;function y0([t,e],[n,r]){const o=qe(t,n);return o===0?qe(e,r):o}class FP{constructor(e){this.Ir=e,this.buffer=new Yt(y0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();y0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(g0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$l(n)?ye(g0,"Ignoring IndexedDB error during garbage collection: ",n):await jl(n)}await this.Vr(3e5)}))}}class $P{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(rf.ce);const r=new FP(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(m0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,a,c,h,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,h=Date.now(),this.removeTargets(e,r,n)))).next((E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),ul()<=We.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E}))))}}function UP(t,e){return new $P(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.changes=new va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Wu(r.mutation,o,ur.empty(),ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const o=Zo();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((a=>{let c=Vu();return a.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Zo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const o=[];return r.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,o){let a=fs();const c=Hu(),h=(function(){return Hu()})();return n.forEach(((p,y)=>{const w=r.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof yo)?a=a.insert(y.key,y):w!==void 0?(c.set(y.key,w.mutation.getFieldMask()),Wu(w.mutation,y,w.mutation.getFieldMask(),ft.now())):c.set(y.key,ur.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((y,w)=>c.set(y,w))),n.forEach(((y,w)=>h.set(y,new zP(w,c.get(y)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Hu();let o=new It(((c,h)=>c-h)),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let w=r.get(p)||ur.empty();w=h.applyToLocalView(y,w),r.set(p,w);const E=(o.get(h.batchId)||Ge()).add(p);o=o.insert(h.batchId,E)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,w=p.value,E=sb();w.forEach((b=>{if(!a.has(b)){const x=hb(n.get(b),r.get(b));x!==null&&E.set(b,x),a=a.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ee.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return Ce.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):ee.resolve(Zo());let h=Xu,p=a;return c.next((y=>ee.forEach(y,((w,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(w)?ee.resolve():this.remoteDocumentCache.getEntry(e,w).next((b=>{p=p.insert(w,b)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,p,y,Ge()))).next((w=>({batchId:h,changes:ib(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((r=>{let o=Vu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let c=Vu();return this.indexManager.getCollectionParents(e,a).next((h=>ee.forEach(h,(p=>{const y=(function(E,b){return new hc(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((w=>{w.forEach(((E,b)=>{c=c.insert(E,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o)))).next((c=>{a.forEach(((p,y)=>{const w=y.getKey();c.get(w)===null&&(c=c.insert(w,Tn.newInvalidDocument(w)))}));let h=Vu();return c.forEach(((p,y)=>{const w=a.get(p);w!==void 0&&Wu(w.mutation,y,ur.empty(),ft.now()),lf(n,y)&&(h=h.insert(p,y))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:DP(o.bundledQuery),readTime:Ci(o.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.overlays=new It(Ce.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zo();return ee.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,a)=>{this.St(e,n,a)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const o=Zo(),a=n.length+1,c=new Ce(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new It(((y,w)=>y-w));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let w=a.get(y.largestBatchId);w===null&&(w=Zo(),a=a.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const h=Zo(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,w)=>h.set(y,w))),!(h.size()>=o)););return ee.resolve(h)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new cP(n,r));let a=this.qr.get(n);a===void 0&&(a=Ge(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.Qr=new Yt(nn.$r),this.Ur=new Yt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new nn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ce(new lt([])),r=new nn(n,e),o=new nn(n,e+1),a=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new lt([])),r=new nn(n,e),o=new nn(n,e+1);let a=Ge();return this.Ur.forEachInRange([r,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new nn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(nn.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new uP(a,n,r,o);this.mutationQueue.push(c);for(const h of o)this.Zr=this.Zr.add(new nn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Mg:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),o=new nn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(c=>{const h=this.Xr(c.Yr);a.push(h)})),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(qe);return n.forEach((o=>{const a=new nn(o,0),c=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{r=r.add(h.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;Ce.isDocumentKey(a)||(a=a.child(""));const c=new nn(new Ce(a),0);let h=new Yt(qe);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(h=h.add(p.Yr)),!0)}),c),ee.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,(o=>{const a=new nn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new nn(n,0),o=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.ri=e,this.docs=(function(){return new It(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=fs();return n.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Tn.newInvalidDocument(o))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=fs();const c=n.path,h=new Ce(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||IA(CA(w),r)<=0||(o.has(w.key)||lf(n,w))&&(a=a.insert(w.key,w.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,o){xe(9500)}ii(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new YP(this)}getSize(e){return ee.resolve(this.size)}}class YP extends BP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.persistence=e,this.si=new va((n=>$g(n)),Ug),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new Qg,this.targetCount=0,this.ai=Rl.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Rl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ee.waitFor(a).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.ui={},this.overlays={},this.ci=new rf(0),this.li=!1,this.li=!0,this.hi=new GP,this.referenceDelegate=e(this),this.Pi=new XP(this),this.indexManager=new LP,this.remoteDocumentCache=(function(o){return new QP(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new OP(n),this.Ii=new WP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new KP(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const o=new JP(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class JP extends RA{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.Ri=new Qg,this.Vi=null}static mi(e){return new Yg(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const o=Ce.fromPath(r);return this.gi(e,o).next((a=>{a||n.removeEntry(o,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.pi=new va((r=>PA(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=UP(this,n)}static mi(e,n){return new Sh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?ee.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((h=>{h||(r++,a.removeEntry(c,Le.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xd(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Ge(),o=Ge();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Xg(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SS()?8:kA(Sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ys(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,n,o,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new ZP;return this.Ss(e,n,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>a.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(ul()<=We.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(ul()<=We.DEBUG&&ye("QueryEngine","Query:",cl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ul()<=We.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(n))):ee.resolve())}ys(e,n){if(s0(n))return ee.resolve(null);let r=Ti(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=qm(n,null,"F"),r=Ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=Ge(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.Ds(n,h);return this.Cs(n,y,c,p.readTime)?this.ys(e,qm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,r,o){return s0(n)||o.isEqual(Le.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(n,a);return this.Cs(n,c,r,o)?ee.resolve(null):(ul()<=We.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),cl(n)),this.vs(e,c,n,TA(o,Xu)).next((h=>h)))}))}Ds(e,n){let r=new Yt(nb(e));return n.forEach(((o,a)=>{lf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return ul()<=We.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",cl(n)),this.ps.getDocumentsMatchingQuery(e,n,uo.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="LocalStore",tx=3e8;class nx{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new It(qe),this.xs=new va((a=>$g(a)),Ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function rx(t,e,n,r){return new nx(t,e,n,r)}async function Sb(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],h=[];let p=Ge();for(const y of o){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of a){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:h})))}))}))}function ix(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,y,w){const E=y.batch,b=E.keys();let x=ee.resolve();return b.forEach((D=>{x=x.next((()=>w.getEntry(p,D))).next((j=>{const O=y.docVersions.get(D);nt(O!==null,48541),j.version.compareTo(O)<0&&(E.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),w.addEntry(j)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(p,E)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let p=Ge();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(p=p.add(h.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Rb(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function sx(t,e){const n=Ve(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const h=[];e.targetChanges.forEach(((w,E)=>{const b=o.get(E);if(!b)return;h.push(n.Pi.removeMatchingKeys(a,w.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(a,w.addedDocuments,E))));let x=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?x=x.withResumeToken(pn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):w.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(w.resumeToken,r)),o=o.insert(E,x),(function(j,O,W){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=tx?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(b,x,w)&&h.push(n.Pi.updateTargetData(a,x))}));let p=fs(),y=Ge();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,w))})),h.push(ox(a,c,e.documentUpdates).next((w=>{p=w.ks,y=w.qs}))),!r.isEqual(Le.min())){const w=n.Pi.getLastRemoteSnapshotVersion(a).next((E=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(w)}return ee.waitFor(h).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,p,y))).next((()=>p))})).then((a=>(n.Ms=o,a)))}function ox(t,e,n){let r=Ge(),o=Ge();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let c=fs();return n.forEach(((h,p)=>{const y=a.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Le.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):ye(Jg,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function ax(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Mg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lx(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((a=>a?(o=a,ee.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new Zs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Xm(t,e,n){const r=Ve(t),o=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!$l(c))throw c;ye(Jg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function w0(t,e,n){const r=Ve(t);let o=Le.min(),a=Ge();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,y,w){const E=Ve(p),b=E.xs.get(w);return b!==void 0?ee.resolve(E.Ms.get(b)):E.Pi.getTargetData(y,w)})(r,c,Ti(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((p=>{a=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?o:Le.min(),n?a:Ge()))).next((h=>(ux(r,QA(e),h),{documents:h,Qs:a})))))}function ux(t,e,n){let r=t.Os.get(e)||Le.min();n.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class v0{constructor(){this.activeTargetIds=tP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cx{constructor(){this.Mo=new v0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="ConnectivityMonitor";class E0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(_0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(_0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md=null;function Jm(){return Md===null?Md=(function(){return 268435456+Math.round(2147483648*Math.random())})():Md++,"0x"+Md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="RestConnection",hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,a){const c=Jm(),h=this.zo(e,n.toUriEncodedString());ye(gm,`Sending RPC '${e}' ${c}:`,h,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,a);const{host:y}=new URL(h),w=ma(y);return this.Jo(e,h,p,r,w).then((E=>(ye(gm,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw El(gm,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",r),E}))}Ho(e,n,r,o,a,c){return this.Go(e,n,r,o,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const r=hx[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class mx extends fx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const c=Jm();return new Promise(((h,p)=>{const y=new A1;y.setWithCredentials(!0),y.listenOnce(P1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Yd.NO_ERROR:const E=y.getResponseJson();ye(_n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case Yd.TIMEOUT:ye(_n,`RPC '${e}' ${c} timed out`),p(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Yd.HTTP_ERROR:const b=y.getStatus();if(ye(_n,`RPC '${e}' ${c} failed with status:`,b,"response text:",y.getResponseText()),b>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x?.error;if(D&&D.status&&D.message){const j=(function(W){const z=W.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(z)>=0?z:J.UNKNOWN})(D.status);p(new pe(j,D.message))}else p(new pe(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new pe(J.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ye(_n,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);ye(_n,`RPC '${e}' ${c} sending request:`,o),y.send(n,"POST",w,r,15)}))}T_(e,n,r){const o=Jm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=O1(),h=N1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const w=a.join("");ye(_n,`Creating RPC '${e}' stream ${o}: ${w}`,p);const E=c.createWebChannel(w,p);this.I_(E);let b=!1,x=!1;const D=new px({Yo:O=>{x?ye(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(b||(ye(_n,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),ye(_n,`RPC '${e}' stream ${o} sending:`,O),E.send(O))},Zo:()=>E.close()}),j=(O,W,z)=>{O.listen(W,(K=>{try{z(K)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return j(E,Lu.EventType.OPEN,(()=>{x||(ye(_n,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),j(E,Lu.EventType.CLOSE,(()=>{x||(x=!0,ye(_n,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(E))})),j(E,Lu.EventType.ERROR,(O=>{x||(x=!0,El(_n,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),D.a_(new pe(J.UNAVAILABLE,"The operation could not be completed")))})),j(E,Lu.EventType.MESSAGE,(O=>{if(!x){const W=O.data[0];nt(!!W,16349);const z=W,K=z?.error||z[0]?.error;if(K){ye(_n,`RPC '${e}' stream ${o} received error:`,K);const Z=K.status;let ce=(function(C){const I=Ut[C];if(I!==void 0)return pb(I)})(Z),se=K.message;ce===void 0&&(ce=J.INTERNAL,se="Unknown error status: "+Z+" with message "+K.message),x=!0,D.a_(new pe(ce,se)),E.close()}else ye(_n,`RPC '${e}' stream ${o} received:`,W),D.u_(W)}})),j(h,x1.STAT_EVENT,(O=>{O.stat===jm.PROXY?ye(_n,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===jm.NOPROXY&&ye(_n,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){return new vP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="PersistentStream";class Ab{constructor(e,n,r,o,a,c,h,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(b0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ye(b0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gx extends Ab{constructor(e,n,r,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bP(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Le.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Le.min():c.readTime?Ci(c.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ym(this.serializer),n.addTarget=(function(a,c){let h;const p=c.target;if(h=Hm(p)?{documents:IP(a,p)}:{query:SP(a,p).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=yb(a,c.resumeToken);const y=Gm(a,c.expectedCount);y!==null&&(h.expectedCount=y)}else if(c.snapshotVersion.compareTo(Le.min())>0){h.readTime=Ih(a,c.snapshotVersion.toTimestamp());const y=Gm(a,c.expectedCount);y!==null&&(h.expectedCount=y)}return h})(this.serializer,e);const r=kP(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ym(this.serializer),n.removeTarget=e,this.q_(n)}}class yx extends Ab{constructor(e,n,r,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CP(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ym(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>TP(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{}class vx extends wx{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,Km(n,r),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(J.UNKNOWN,a.toString())}))}Ho(e,n,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,Km(n,r),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _x{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class Ex{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{_a(this)&&(ye(da,"Restarting streams for network reachability change."),await(async function(p){const y=Ve(p);y.Ea.add(4),await mc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ff(y)})(this))}))})),this.Ra=new _x(r,o)}}async function ff(t){if(_a(t))for(const e of t.da)await e(!0)}async function mc(t){for(const e of t.da)await e(!1)}function Pb(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ny(n)?ty(n):Ul(n).O_()&&ey(n,e))}function Zg(t,e){const n=Ve(t),r=Ul(n);n.Ia.delete(e),r.O_()&&xb(n,e),n.Ia.size===0&&(r.O_()?r.L_():_a(n)&&n.Ra.set("Unknown"))}function ey(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).Y_(e)}function xb(t,e){t.Va.Ue(e),Ul(t).Z_(e)}function ty(t){t.Va=new mP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.Ra.ua()}function ny(t){return _a(t)&&!Ul(t).x_()&&t.Ia.size>0}function _a(t){return Ve(t).Ea.size===0}function Nb(t){t.Va=void 0}async function bx(t){t.Ra.set("Online")}async function Tx(t){t.Ia.forEach(((e,n)=>{ey(t,e)}))}async function Cx(t,e){Nb(t),ny(t)?(t.Ra.ha(e),ty(t)):t.Ra.set("Unknown")}async function Ix(t,e,n){if(t.Ra.set("Online"),e instanceof gb&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.Ia.delete(h),o.Va.removeTarget(h))})(t,e)}catch(r){ye(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(t,r)}else if(e instanceof eh?t.Va.Ze(e):e instanceof mb?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const r=await Rb(t.localStore);n.compareTo(r)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.Ia.get(y);w&&a.Ia.set(y,w.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,y)=>{const w=a.Ia.get(p);if(!w)return;a.Ia.set(p,w.withResumeToken(pn.EMPTY_BYTE_STRING,w.snapshotVersion)),xb(a,p);const E=new Zs(w.target,p,y,w.sequenceNumber);ey(a,E)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ye(da,"Failed to raise snapshot:",r),await Rh(t,r)}}async function Rh(t,e,n){if(!$l(e))throw e;t.Ea.add(1),await mc(t),t.Ra.set("Offline"),n||(n=()=>Rb(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(da,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ff(t)}))}function Ob(t,e){return e().catch((n=>Rh(t,n,e)))}async function pf(t){const e=Ve(t),n=po(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mg;for(;Sx(e);)try{const o=await ax(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,Rx(e,o)}catch(o){await Rh(e,o)}Db(e)&&Lb(e)}function Sx(t){return _a(t)&&t.Ta.length<10}function Rx(t,e){t.Ta.push(e);const n=po(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Db(t){return _a(t)&&!po(t).x_()&&t.Ta.length>0}function Lb(t){po(t).start()}async function kx(t){po(t).ra()}async function Ax(t){const e=po(t);for(const n of t.Ta)e.ea(n.mutations)}async function Px(t,e,n){const r=t.Ta.shift(),o=qg.from(r,e,n);await Ob(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await pf(t)}async function xx(t,e){e&&po(t).X_&&await(async function(r,o){if((function(c){return hP(c)&&c!==J.ABORTED})(o.code)){const a=r.Ta.shift();po(r).B_(),await Ob(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await pf(r)}})(t,e),Db(t)&&Lb(t)}async function T0(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),ye(da,"RemoteStore received new credentials");const r=_a(n);n.Ea.add(3),await mc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ff(n)}async function Nx(t,e){const n=Ve(t);e?(n.Ea.delete(2),await ff(n)):e||(n.Ea.add(2),await mc(n),n.Ra.set("Unknown"))}function Ul(t){return t.ma||(t.ma=(function(n,r,o){const a=Ve(n);return a.sa(),new gx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:bx.bind(null,t),t_:Tx.bind(null,t),r_:Cx.bind(null,t),H_:Ix.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ny(t)?ty(t):t.Ra.set("Unknown")):(await t.ma.stop(),Nb(t))}))),t.ma}function po(t){return t.fa||(t.fa=(function(n,r,o){const a=Ve(n);return a.sa(),new yx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:kx.bind(null,t),r_:xx.bind(null,t),ta:Ax.bind(null,t),na:Px.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await pf(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(da,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const c=Date.now()+r,h=new ry(e,n,c,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(t,e){if(hs("AsyncQueue",`${e}: ${t}`),$l(t))return new pe(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{static emptySet(e){return new yl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=Vu(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.ga=new It(Ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class kl{constructor(e,n,r,o,a,c,h,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,a){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new kl(e,n,yl.emptySet(n),c,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Dx{constructor(){this.queries=I0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ve(n),a=o.queries;o.queries=I0(),a.forEach(((c,h)=>{for(const p of h.Sa)p.onError(r)}))})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function I0(){return new va((t=>tb(t)),af)}async function Vb(t,e){const n=Ve(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new Ox,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const h=iy(c,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&sy(n)}async function Mb(t,e){const n=Ve(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Lx(t,e){const n=Ve(t);let r=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const h of c.Sa)h.Fa(o)&&(r=!0);c.wa=o}}r&&sy(n)}function Vx(t,e,n){const r=Ve(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function sy(t){t.Ca.forEach((e=>{e.next()}))}var Zm,S0;(S0=Zm||(Zm={})).Ma="default",S0.Cache="cache";class Fb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.key=e}}class $b{constructor(e){this.key=e}}class Mx{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=nb(e),this.tu=new yl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new C0,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const b=o.get(w),x=lf(this.query,E)?E:null,D=!!b&&this.mutatedKeys.has(b.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let O=!1;b&&x?b.data.isEqual(x.data)?D!==j&&(r.track({type:3,doc:x}),O=!0):this.su(b,x)||(r.track({type:2,doc:x}),O=!0,(p&&this.eu(x,p)>0||y&&this.eu(x,y)<0)&&(h=!0)):!b&&x?(r.track({type:0,doc:x}),O=!0):b&&!x&&(r.track({type:1,doc:b}),O=!0,(p||y)&&(h=!0)),O&&(x?(c=c.add(x),a=j?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{tu:c,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,E)=>(function(x,D){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:O})}};return j(x)-j(D)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(r),o=o??!1;const h=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,c.length!==0||y?{snapshot:new kl(this.query,e.tu,a,c,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new $b(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new jb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const oy="SyncEngine";class Fx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jx{constructor(e){this.key=e,this.hu=!1}}class $x{constructor(e,n,r,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new va((h=>tb(h)),af),this.Iu=new Map,this.Eu=new Set,this.du=new It(Ce.comparator),this.Au=new Map,this.Ru=new Qg,this.Vu={},this.mu=new Map,this.fu=Rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ux(t,e,n=!0){const r=qb(t);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await Ub(r,e,n,!0),o}async function Bx(t,e){const n=qb(t);await Ub(n,e,!0,!1)}async function Ub(t,e,n,r){const o=await lx(t.localStore,Ti(e)),a=o.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await zx(t,e,a,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&Pb(t.remoteStore,o),h}async function zx(t,e,n,r,o){t.pu=(E,b,x)=>(async function(j,O,W,z){let K=O.view.ru(W);K.Cs&&(K=await w0(j.localStore,O.query,!1).then((({documents:R})=>O.view.ru(R,K))));const Z=z&&z.targetChanges.get(O.targetId),ce=z&&z.targetMismatches.get(O.targetId)!=null,se=O.view.applyChanges(K,j.isPrimaryClient,Z,ce);return k0(j,O.targetId,se.au),se.snapshot})(t,E,b,x);const a=await w0(t.localStore,e,!0),c=new Mx(e,a.Qs),h=c.ru(a.documents),p=pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),y=c.applyChanges(h,t.isPrimaryClient,p);k0(t,n,y.au);const w=new Fx(e,n,c);return t.Tu.set(e,w),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function Hx(t,e,n){const r=Ve(t),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((c=>!af(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Xm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Zg(r.remoteStore,o.targetId),eg(r,o.targetId)})).catch(jl)):(eg(r,o.targetId),await Xm(r.localStore,o.targetId,!0))}async function Wx(t,e){const n=Ve(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zg(n.remoteStore,r.targetId))}async function qx(t,e,n){const r=Zx(t);try{const o=await(function(c,h){const p=Ve(c),y=ft.now(),w=h.reduce(((x,D)=>x.add(D.key)),Ge());let E,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let D=fs(),j=Ge();return p.Ns.getEntries(x,w).next((O=>{D=O,D.forEach(((W,z)=>{z.isValidDocument()||(j=j.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,D))).next((O=>{E=O;const W=[];for(const z of h){const K=aP(z,E.get(z.key).overlayedDocument);K!=null&&W.push(new yo(z.key,K,G1(K.value.mapValue),Qr.exists(!0)))}return p.mutationQueue.addMutationBatch(x,y,W,h)})).next((O=>{b=O;const W=O.applyToLocalDocumentSet(E,j);return p.documentOverlayCache.saveOverlays(x,O.batchId,W)}))})).then((()=>({batchId:b.batchId,changes:ib(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,h,p){let y=c.Vu[c.currentUser.toKey()];y||(y=new It(qe)),y=y.insert(h,p),c.Vu[c.currentUser.toKey()]=y})(r,o.batchId,n),await gc(r,o.changes),await pf(r.remoteStore)}catch(o){const a=iy(o,"Failed to persist write");n.reject(a)}}async function Bb(t,e){const n=Ve(t);try{const r=await sx(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=n.Au.get(a);c&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?nt(c.hu,14607):o.removedDocuments.size>0&&(nt(c.hu,42227),c.hu=!1))})),await gc(n,r,e)}catch(r){await jl(r)}}function R0(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const p=Ve(c);p.onlineState=h;let y=!1;p.queries.forEach(((w,E)=>{for(const b of E.Sa)b.va(h)&&(y=!0)})),y&&sy(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Gx(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),a=o&&o.key;if(a){let c=new It(Ce.comparator);c=c.insert(a,Tn.newNoDocument(a,Le.min()));const h=Ge().add(a),p=new df(Le.min(),new Map,new It(qe),c,h);await Bb(r,p),r.du=r.du.remove(a),r.Au.delete(e),ay(r)}else await Xm(r.localStore,e,!1).then((()=>eg(r,e,n))).catch(jl)}async function Kx(t,e){const n=Ve(t),r=e.batch.batchId;try{const o=await ix(n.localStore,e);Hb(n,r,null),zb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gc(n,o)}catch(o){await jl(o)}}async function Qx(t,e,n){const r=Ve(t);try{const o=await(function(c,h){const p=Ve(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return p.mutationQueue.lookupMutationBatch(y,h).next((E=>(nt(E!==null,37113),w=E.keys(),p.mutationQueue.removeMutationBatch(y,E)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>p.localDocuments.getDocuments(y,w)))}))})(r.localStore,e);Hb(r,e,n),zb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gc(r,o)}catch(o){await jl(o)}}function zb(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Hb(t,e,n){const r=Ve(t);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Wb(t,r)}))}function Wb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Zg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ay(t))}function k0(t,e,n){for(const r of n)r instanceof jb?(t.Ru.addReference(r.key,e),Yx(t,r)):r instanceof $b?(ye(oy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Wb(t,r.key)):xe(19791,{wu:r})}function Yx(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ye(oy,"New document in limbo: "+n),t.Eu.add(r),ay(t))}function ay(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(lt.fromString(e)),r=t.fu.next();t.Au.set(r,new jx(n)),t.du=t.du.insert(n,r),Pb(t.remoteStore,new Zs(Ti(Bg(n.path)),r,"TargetPurposeLimboResolution",rf.ce))}}async function gc(t,e,n){const r=Ve(t),o=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,p)=>{c.push(r.pu(p,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const w=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Xg.As(p.targetId,y);a.push(w)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,y){const w=Ve(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ee.forEach(y,(b=>ee.forEach(b.Es,(x=>w.persistence.referenceDelegate.addReference(E,b.targetId,x))).next((()=>ee.forEach(b.ds,(x=>w.persistence.referenceDelegate.removeReference(E,b.targetId,x)))))))))}catch(E){if(!$l(E))throw E;ye(Jg,"Failed to update sequence numbers: "+E)}for(const E of y){const b=E.targetId;if(!E.fromCache){const x=w.Ms.get(b),D=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(D);w.Ms=w.Ms.insert(b,j)}}})(r.localStore,a))}async function Xx(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){ye(oy,"User change. New user:",e.toKey());const r=await Sb(n.localStore,e);n.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((p=>{p.reject(new pe(J.CANCELLED,c))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gc(n,r.Ls)}}function Jx(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const a=n.Iu.get(e);if(!a)return o;for(const c of a){const h=n.Tu.get(c);o=o.unionWith(h.view.nu)}return o}}function qb(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gx.bind(null,e),e.Pu.H_=Lx.bind(null,e.eventManager),e.Pu.yu=Vx.bind(null,e.eventManager),e}function Zx(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qx.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return rx(this.persistence,new ex,e.initialUser,this.serializer)}Cu(e){return new Ib(Yg.mi,this.serializer)}Du(e){return new cx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class eN extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof Sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jP(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new Ib((r=>Sh.mi(r,n)),this.serializer)}}class tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xx.bind(null,this.syncEngine),await Nx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Dx})()}createDatastore(e){const n=hf(e.databaseInfo.databaseId),r=(function(a){return new mx(a)})(e.databaseInfo);return(function(a,c,h,p){return new vx(a,c,h,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,a,c,h){return new Ex(r,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>R0(this.syncEngine,n,0)),(function(){return E0.v()?new E0:new dx})())}createSyncEngine(e,n){return(function(o,a,c,h,p,y,w){const E=new $x(o,a,c,h,p,y);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);ye(da,"RemoteStore shutting down."),r.Ea.add(5),await mc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tg.provider={build:()=>new tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="FirestoreClient";class tN{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=Vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{ye(mo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ye(mo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wm(t,e){t.asyncQueue.verifyOperationInProgress(),ye(mo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Sb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function A0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nN(t);ye(mo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>T0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>T0(e.remoteStore,o))),t._onlineComponents=e}async function nN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(mo,"Using user provided OfflineComponentProvider");try{await wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;El("Error using user provided cache. Falling back to memory cache: "+n),await wm(t,new kh)}}else ye(mo,"Using default OfflineComponentProvider"),await wm(t,new eN(void 0));return t._offlineComponents}async function Kb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(mo,"Using user provided OnlineComponentProvider"),await A0(t,t._uninitializedComponentsProvider._online)):(ye(mo,"Using default OnlineComponentProvider"),await A0(t,new tg))),t._onlineComponents}function rN(t){return Kb(t).then((e=>e.syncEngine))}async function Qb(t){const e=await Kb(t),n=e.eventManager;return n.onListen=Ux.bind(null,e.syncEngine),n.onUnlisten=Hx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Wx.bind(null,e.syncEngine),n}function iN(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,p,y){const w=new Gb({next:b=>{w.Nu(),c.enqueueAndForget((()=>Mb(a,E)));const x=b.docs.has(h);!x&&b.fromCache?y.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&p&&p.source==="server"?y.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),E=new Fb(Bg(h.path),w,{includeMetadataChanges:!0,qa:!0});return Vb(a,E)})(await Qb(t),t.asyncQueue,e,n,r))),r.promise}function sN(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,p,y){const w=new Gb({next:b=>{w.Nu(),c.enqueueAndForget((()=>Mb(a,E))),b.fromCache&&p.source==="server"?y.reject(new pe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),E=new Fb(h,w,{includeMetadataChanges:!0,qa:!0});return Vb(a,E)})(await Qb(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firestore.googleapis.com",x0=!0;class N0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xb,this.ssl=x0}else this.host=e.host,this.ssl=e.ssl??x0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Cb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MP)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hA;switch(r.type){case"firstParty":return new gA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=P0.get(n);r&&(ye("ComponentProvider","Removing Datastore"),P0.delete(n),r.terminate())})(this),Promise.resolve()}}function oN(t,e,n,r={}){t=Ri(t,mf);const o=ma(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(vg(`https://${h}`),_g("Firestore",!0)),a.host!==Xb&&a.host!==h&&El("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:h,ssl:o,emulatorOptions:r};if(!us(p,c)&&(t._setSettings(p),r.mockUserToken)){let y,w;if(typeof r.mockUserToken=="string")y=r.mockUserToken,w=En.MOCK_USER;else{y=UE(r.mockUserToken,t._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new En(E)}t._authCredentials=new fA(new L1(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bl(this.firestore,e,this._query)}}class Lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dc(n,Lt._jsonSchema))return new Lt(e,r||null,new Ce(lt.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Ht("string",Lt._jsonSchemaVersion),referencePath:Ht("string")};class so extends Bl{constructor(e,n,r){super(e,n,Bg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Ce(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function Ah(t,e,...n){if(t=_t(t),V1("collection","path",e),t instanceof mf){const r=lt.fromString(e,...n);return W_(r),new so(t,null,r)}{if(!(t instanceof Lt||t instanceof so))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return W_(r),new so(t.firestore,null,r)}}function Cn(t,e,...n){if(t=_t(t),arguments.length===1&&(e=Vg.newId()),V1("doc","path",e),t instanceof mf){const r=lt.fromString(e,...n);return H_(r),new Lt(t,null,new Ce(r))}{if(!(t instanceof Lt||t instanceof so))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return H_(r),new Lt(t.firestore,t instanceof so?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="AsyncQueue";class D0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kb(this,"async_queue_retry"),this._c=()=>{const r=ym();r&&ye(O0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;ye(O0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",L0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ry.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:L0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function L0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zl extends mf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new D0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D0(e),this._firestoreClient=void 0,await e}}}function wo(t,e){const n=typeof t=="object"?t:Tg(),r=typeof t=="string"?t:_h,o=Xh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=FE("firestore");a&&oN(o,...a)}return o}function ly(t){if(t._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aN(t),t._firestoreClient}function aN(t){const e=t._freezeSettings(),n=(function(o,a,c,h){return new OA(o,a,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Yb(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new tN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kr(pn.fromBase64String(e))}catch(n){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kr(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dc(e,kr._jsonSchema))return kr.fromBase64String(e.bytes)}}kr._jsonSchemaVersion="firestore/bytes/1.0",kr._jsonSchema={type:Ht("string",kr._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(dc(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ht("string",Ii._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dc(e,Si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Si(e.vectorValues);throw new pe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Ht("string",Si._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=/^__.*__$/;class uN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yo(e,this.data,this.fieldMask,n,this.fieldTransforms):new fc(e,this.data,n,this.fieldTransforms)}}class Jb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class yf{constructor(e,n,r,o,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Zb(this.Ac)&&lN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hf(e)}Cc(e,n,r,o=!1){return new yf({Ac:e,methodName:n,Dc:r,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uy(t){const e=t._freezeSettings(),n=hf(t._databaseId);return new cN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dN(t,e,n,r,o,a={}){const c=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);fy("Data must be an object, but it was:",c,r);const h=tT(r,c);let p,y;if(a.merge)p=new ur(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const E of a.mergeFields){const b=ng(e,E,n);if(!c.contains(b))throw new pe(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);rT(w,b)||w.push(b)}p=new ur(w),y=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,y=c.fieldTransforms;return new uN(new Qn(h),p,y)}class wf extends Hl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}function eT(t,e,n){return new yf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cy extends Hl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=eT(this,e,!0),r=this.vc.map((a=>Ea(a,n))),o=new Il(r);return new Hg(e.path,o)}isEqual(e){return e instanceof cy&&us(this.vc,e.vc)}}class dy extends Hl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=eT(this,e,!0),r=this.vc.map((a=>Ea(a,n))),o=new Sl(r);return new Hg(e.path,o)}isEqual(e){return e instanceof dy&&us(this.vc,e.vc)}}class hy extends Hl{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new tc(e.serializer,ab(e.serializer,this.Fc));return new Hg(e.path,n)}isEqual(e){return e instanceof hy&&this.Fc===e.Fc}}function hN(t,e,n,r){const o=t.Cc(1,e,n);fy("Data must be an object, but it was:",o,r);const a=[],c=Qn.empty();go(r,((p,y)=>{const w=py(e,p,n);y=_t(y);const E=o.yc(w);if(y instanceof wf)a.push(w);else{const b=Ea(y,E);b!=null&&(a.push(w),c.set(w,b))}}));const h=new ur(a);return new Jb(c,h,o.fieldTransforms)}function fN(t,e,n,r,o,a){const c=t.Cc(1,e,n),h=[ng(e,r,n)],p=[o];if(a.length%2!=0)throw new pe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)h.push(ng(e,a[b])),p.push(a[b+1]);const y=[],w=Qn.empty();for(let b=h.length-1;b>=0;--b)if(!rT(y,h[b])){const x=h[b];let D=p[b];D=_t(D);const j=c.yc(x);if(D instanceof wf)y.push(x);else{const O=Ea(D,j);O!=null&&(y.push(x),w.set(x,O))}}const E=new ur(y);return new Jb(w,E,c.fieldTransforms)}function pN(t,e,n,r=!1){return Ea(n,t.Cc(r?4:3,e))}function Ea(t,e){if(nT(t=_t(t)))return fy("Unsupported field value:",e,t),tT(t,e);if(t instanceof Hl)return(function(r,o){if(!Zb(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let c=0;for(const h of r){let p=Ea(h,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}})(t,e)}return(function(r,o){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ab(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ft.fromDate(r);return{timestampValue:Ih(o.serializer,a)}}if(r instanceof ft){const a=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ih(o.serializer,a)}}if(r instanceof Ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kr)return{bytesValue:yb(o.serializer,r._byteString)};if(r instanceof Lt){const a=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Kg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Si)return(function(c,h){return{mapValue:{fields:{[W1]:{stringValue:q1},[Eh]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw h.Sc("VectorValues must only contain numeric values.");return zg(h.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${nf(r)}`)})(t,e)}function tT(t,e){const n={};return j1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,((r,o)=>{const a=Ea(o,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function nT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Ii||t instanceof kr||t instanceof Lt||t instanceof Hl||t instanceof Si)}function fy(t,e,n){if(!nT(n)||!M1(n)){const r=nf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ng(t,e,n){if((e=_t(e))instanceof gf)return e._internalPath;if(typeof e=="string")return py(t,e);throw Ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const mN=new RegExp("[~\\*/\\[\\]]");function py(t,e,n){if(e.search(mN)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gf(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ph(t,e,n,r,o){const a=r&&!r.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new pe(J.INVALID_ARGUMENT,h+t+p)}function rT(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(my("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gN extends iT{data(){return super.data()}}function my(t,e){return typeof e=="string"?py(t,e):e instanceof gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gy{}class wN extends gy{}function sT(t,e,...n){let r=[];e instanceof gy&&r.push(e),r=r.concat(n),(function(a){const c=a.filter((p=>p instanceof yy)).length,h=a.filter((p=>p instanceof vf)).length;if(c>1||c>0&&h>0)throw new pe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class vf extends wN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vf(e,n,r)}_apply(e){const n=this._parse(e);return aT(e._query,n),new Bl(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=uy(e.firestore);return(function(a,c,h,p,y,w,E){let b;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new pe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){M0(E,w);const D=[];for(const j of E)D.push(V0(p,a,j));b={arrayValue:{values:D}}}else b=V0(p,a,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||M0(E,w),b=pN(h,c,E,w==="in"||w==="not-in");return zt.create(y,w,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oT(t,e,n){const r=e,o=my("where",t);return vf._create(o,r,n)}class yy extends gy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let c=o;const h=a.getFlattenedFilters();for(const p of h)aT(c,p),c=Wm(c,p)})(e._query,n),new Bl(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function V0(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new pe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eb(e)&&n.indexOf("/")!==-1)throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!Ce.isDocumentKey(r))throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Z_(t,new Ce(r))}if(n instanceof Lt)return Z_(t,n._key);throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function M0(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aT(t,e){const n=(function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vN{convertValue(e,n="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return go(e,((o,a)=>{r[o]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Eh].arrayValue?.values?.map((r=>Dt(r.doubleValue)));return new Si(n)}convertGeoPoint(e){return new Ii(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=of(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const n=co(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);nt(Tb(r),9688,{name:e});const o=new Zu(r.get(1),r.get(3)),a=new Ce(r.popFirst(5));return o.isEqual(n)||hs(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends iT{constructor(e,n,r,o,a,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(my("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Ht("string",na._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class th extends na{data(e={}){return super.data(e)}}class wl{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new th(this._firestore,this._userDataWriter,r.key,r,new Fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const p=new th(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Fu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const p=new th(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Fu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return h.type!==0&&(y=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),w=c.indexOf(h.doc.key)),{type:EN(h.type),doc:p,oldIndex:y,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t){t=Ri(t,Lt);const e=Ri(t.firestore,zl);return iN(ly(e),t._key).then((n=>TN(e,t,n)))}wl._jsonSchemaVersion="firestore/querySnapshot/1.0",wl._jsonSchema={type:Ht("string",wl._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class lT extends vN{constructor(e){super(),this.firestore=e}convertBytes(e){return new kr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function xh(t){t=Ri(t,Bl);const e=Ri(t.firestore,zl),n=ly(e),r=new lT(e);return yN(t._query),sN(n,t._query).then((o=>new wl(e,r,t,o)))}function F0(t,e,n){t=Ri(t,Lt);const r=Ri(t.firestore,zl),o=_N(t.converter,e,n);return wy(r,[dN(uy(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Qr.none())])}function ea(t,e,n,...r){t=Ri(t,Lt);const o=Ri(t.firestore,zl),a=uy(o);let c;return c=typeof(e=_t(e))=="string"||e instanceof gf?fN(a,"updateDoc",t._key,e,n,r):hN(a,"updateDoc",t._key,e),wy(o,[c.toMutation(t._key,Qr.exists(!0))])}function bN(t){return wy(Ri(t.firestore,zl),[new Wg(t._key,Qr.none())])}function wy(t,e){return(function(r,o){const a=new os;return r.asyncQueue.enqueueAndForget((async()=>qx(await rN(r),o,a))),a.promise})(ly(t),e)}function TN(t,e,n){const r=n.docs.get(e._key),o=new lT(t);return new na(t,o,e._key,r,new Fu(n.hasPendingWrites,n.fromCache),e.converter)}function CN(...t){return new cy("arrayUnion",t)}function IN(...t){return new dy("arrayRemove",t)}function SN(t){return new hy("increment",t)}(function(e,n=!0){(function(o){Fl=o})(ga),oa(new lo("firestore",((r,{instanceIdentifier:o,options:a})=>{const c=r.getProvider("app").getImmediate(),h=new zl(new pA(r.getProvider("auth-internal")),new yA(c,r.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(y.options.projectId,w)})(c,o),c);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Ei($_,U_,e),Ei($_,U_,"esm2020")})();var RN="firebase",kN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(RN,kN,"app");const AN={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},dr=HE(AN);wo(dr);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var j0="popstate";function PN(t={}){function e(o,a){let{pathname:c="/",search:h="",hash:p=""}=ba(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),rg("",{pathname:c,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");h=y===-1?p:p.slice(0,y)}return h+"#"+(typeof a=="string"?a:nc(a))}function r(o,a){xr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return NN(e,n,r,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xN(){return Math.random().toString(36).substring(2,10)}function $0(t,e){return{usr:t.state,key:t.key,idx:e}}function rg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:n,key:e&&e.key||r||xN()}}function nc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function NN(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,c=o.history,h="POP",p=null,y=w();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function w(){return(c.state||{idx:null}).idx}function E(){h="POP";let O=w(),W=O==null?null:O-y;y=O,p&&p({action:h,location:j.location,delta:W})}function b(O,W){h="PUSH";let z=rg(j.location,O,W);n&&n(z,O),y=w()+1;let K=$0(z,y),Z=j.createHref(z);try{c.pushState(K,"",Z)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(Z)}a&&p&&p({action:h,location:j.location,delta:1})}function x(O,W){h="REPLACE";let z=rg(j.location,O,W);n&&n(z,O),y=w();let K=$0(z,y),Z=j.createHref(z);c.replaceState(K,"",Z),a&&p&&p({action:h,location:j.location,delta:0})}function D(O){return ON(O)}let j={get action(){return h},get location(){return t(o,c)},listen(O){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(j0,E),p=O,()=>{o.removeEventListener(j0,E),p=null}},createHref(O){return e(o,O)},createURL:D,encodeLocation(O){let W=D(O);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:b,replace:x,go(O){return c.go(O)}};return j}function ON(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:nc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function uT(t,e,n="/"){return DN(t,e,n,!1)}function DN(t,e,n,r){let o=typeof e=="string"?ba(e):e,a=ps(o.pathname||"/",n);if(a==null)return null;let c=cT(t);LN(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let y=qN(a);h=HN(c[p],y,r)}return h}function cT(t,e=[],n=[],r="",o=!1){let a=(c,h,p=o,y)=>{let w={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(r)&&p)return;vt(w.relativePath.startsWith(r),`Absolute route path "${w.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(r.length)}let E=as([r,w.relativePath]),b=n.concat(w);c.children&&c.children.length>0&&(vt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),cT(c.children,e,b,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:BN(E,c.index),routesMeta:b})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))a(c,h);else for(let p of dT(c.path))a(c,h,!0,p)}),e}function dT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let c=dT(r.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function LN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var VN=/^:[\w-]+$/,MN=3,FN=2,jN=1,$N=10,UN=-2,U0=t=>t==="*";function BN(t,e){let n=t.split("/"),r=n.length;return n.some(U0)&&(r+=UN),e&&(r+=FN),n.filter(o=>!U0(o)).reduce((o,a)=>o+(VN.test(a)?MN:a===""?jN:$N),r)}function zN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function HN(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",c=[];for(let h=0;h<r.length;++h){let p=r[h],y=h===r.length-1,w=a==="/"?e:e.slice(a.length)||"/",E=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),b=p.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:as([a,E.pathname]),pathnameBase:YN(as([a,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(a=as([a,E.pathnameBase]))}return c}function Nh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WN(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((y,{paramName:w,isOptional:E},b)=>{if(w==="*"){let D=h[b]||"";c=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const x=h[b];return E&&!x?y[w]=void 0:y[w]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:t}}function WN(t,e=!1,n=!0){xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function qN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ps(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GN(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ba(t):t;return{pathname:n?n.startsWith("/")?n:KN(n,e):e,search:XN(r),hash:JN(o)}}function KN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function vm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vy(t){let e=QN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _y(t,e,n,r=!1){let o;typeof t=="string"?o=ba(t):(o={...t},vt(!o.pathname||!o.pathname.includes("?"),vm("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),vm("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),vm("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=n;else{let E=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;o.pathname=b.join("/")}h=E>=0?e[E]:"/"}let p=GN(o,h),y=c&&c!=="/"&&c.endsWith("/"),w=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}var as=t=>t.join("/").replace(/\/\/+/g,"/"),YN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var hT=["POST","PUT","PATCH","DELETE"];new Set(hT);var eO=["GET",...hT];new Set(eO);var Wl=S.createContext(null);Wl.displayName="DataRouter";var _f=S.createContext(null);_f.displayName="DataRouterState";S.createContext(!1);var fT=S.createContext({isTransitioning:!1});fT.displayName="ViewTransition";var tO=S.createContext(new Map);tO.displayName="Fetchers";var nO=S.createContext(null);nO.displayName="Await";var Zr=S.createContext(null);Zr.displayName="Navigation";var yc=S.createContext(null);yc.displayName="Location";var ei=S.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var Ey=S.createContext(null);Ey.displayName="RouteError";function rO(t,{relative:e}={}){vt(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Zr),{hash:o,pathname:a,search:c}=wc(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:as([n,a])),r.createHref({pathname:h,search:c,hash:o})}function ql(){return S.useContext(yc)!=null}function vo(){return vt(ql(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(yc).location}var pT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mT(t){S.useContext(Zr).static||S.useLayoutEffect(t)}function by(){let{isDataRoute:t}=S.useContext(ei);return t?yO():iO()}function iO(){vt(ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Wl),{basename:e,navigator:n}=S.useContext(Zr),{matches:r}=S.useContext(ei),{pathname:o}=vo(),a=JSON.stringify(vy(r)),c=S.useRef(!1);return mT(()=>{c.current=!0}),S.useCallback((p,y={})=>{if(xr(c.current,pT),!c.current)return;if(typeof p=="number"){n.go(p);return}let w=_y(p,JSON.parse(a),o,y.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:as([e,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[e,n,a,o,t])}S.createContext(null);function sO(){let{matches:t}=S.useContext(ei),e=t[t.length-1];return e?e.params:{}}function wc(t,{relative:e}={}){let{matches:n}=S.useContext(ei),{pathname:r}=vo(),o=JSON.stringify(vy(n));return S.useMemo(()=>_y(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function oO(t,e){return gT(t,e)}function gT(t,e,n,r,o){vt(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(Zr),{matches:c}=S.useContext(ei),h=c[c.length-1],p=h?h.params:{},y=h?h.pathname:"/",w=h?h.pathnameBase:"/",E=h&&h.route;{let z=E&&E.path||"";yT(y,!E||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let b=vo(),x;if(e){let z=typeof e=="string"?ba(e):e;vt(w==="/"||z.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${z.pathname}" was given in the \`location\` prop.`),x=z}else x=b;let D=x.pathname||"/",j=D;if(w!=="/"){let z=w.replace(/^\//,"").split("/");j="/"+D.replace(/^\//,"").split("/").slice(z.length).join("/")}let O=uT(t,{pathname:j});xr(E||O!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),xr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=dO(O&&O.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:as([w,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?w:as([w,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,n,r,o);return e&&W?S.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},W):W}function aO(){let t=gO(),e=ZN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,c)}var lO=S.createElement(aO,null),uO=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(ei.Provider,{value:this.props.routeContext},S.createElement(Ey.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cO({routeContext:t,match:e,children:n}){let r=S.useContext(Wl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(ei.Provider,{value:t},n)}function dO(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n?.errors;if(c!=null){let y=a.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);vt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let h=!1,p=-1;if(n)for(let y=0;y<a.length;y++){let w=a[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=y),w.route.id){let{loaderData:E,errors:b}=n,x=w.route.loader&&!E.hasOwnProperty(w.route.id)&&(!b||b[w.route.id]===void 0);if(w.route.lazy||x){h=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((y,w,E)=>{let b,x=!1,D=null,j=null;n&&(b=c&&w.route.id?c[w.route.id]:void 0,D=w.route.errorElement||lO,h&&(p<0&&E===0?(yT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):p===E&&(x=!0,j=w.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,E+1)),W=()=>{let z;return b?z=D:x?z=j:w.route.Component?z=S.createElement(w.route.Component,null):w.route.element?z=w.route.element:z=y,S.createElement(cO,{match:w,routeContext:{outlet:y,matches:O,isDataRoute:n!=null},children:z})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?S.createElement(uO,{location:n.location,revalidation:n.revalidation,component:D,error:b,children:W(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:r}):W()},null)}function Ty(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hO(t){let e=S.useContext(Wl);return vt(e,Ty(t)),e}function fO(t){let e=S.useContext(_f);return vt(e,Ty(t)),e}function pO(t){let e=S.useContext(ei);return vt(e,Ty(t)),e}function Cy(t){let e=pO(t),n=e.matches[e.matches.length-1];return vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function mO(){return Cy("useRouteId")}function gO(){let t=S.useContext(Ey),e=fO("useRouteError"),n=Cy("useRouteError");return t!==void 0?t:e.errors?.[n]}function yO(){let{router:t}=hO("useNavigate"),e=Cy("useNavigate"),n=S.useRef(!1);return mT(()=>{n.current=!0}),S.useCallback(async(o,a={})=>{xr(n.current,pT),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var B0={};function yT(t,e,n){!e&&!B0[t]&&(B0[t]=!0,xr(!1,n))}S.memo(wO);function wO({routes:t,future:e,state:n,unstable_onError:r}){return gT(t,void 0,n,r,e)}function al({to:t,replace:e,state:n,relative:r}){vt(ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(Zr);xr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=S.useContext(ei),{pathname:c}=vo(),h=by(),p=_y(t,vy(a),c,r==="path"),y=JSON.stringify(p);return S.useEffect(()=>{h(JSON.parse(y),{replace:e,state:n,relative:r})},[h,y,r,e,n]),null}function Xo(t){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){vt(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=ba(n));let{pathname:p="/",search:y="",hash:w="",state:E=null,key:b="default"}=n,x=S.useMemo(()=>{let D=ps(p,c);return D==null?null:{location:{pathname:D,search:y,hash:w,state:E,key:b},navigationType:r}},[c,p,y,w,E,b,r]);return xr(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:S.createElement(Zr.Provider,{value:h},S.createElement(yc.Provider,{children:e,value:x}))}function _O({children:t,location:e}){return oO(ig(t),e)}function ig(t,e=[]){let n=[];return S.Children.forEach(t,(r,o)=>{if(!S.isValidElement(r))return;let a=[...e,o];if(r.type===S.Fragment){n.push.apply(n,ig(r.props.children,a));return}vt(r.type===Xo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ig(r.props.children,a)),n.push(c)}),n}var nh="get",rh="application/x-www-form-urlencoded";function Ef(t){return t!=null&&typeof t.tagName=="string"}function EO(t){return Ef(t)&&t.tagName.toLowerCase()==="button"}function bO(t){return Ef(t)&&t.tagName.toLowerCase()==="form"}function TO(t){return Ef(t)&&t.tagName.toLowerCase()==="input"}function CO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IO(t,e){return t.button===0&&(!e||e==="_self")&&!CO(t)}var Fd=null;function SO(){if(Fd===null)try{new FormData(document.createElement("form"),0),Fd=!1}catch{Fd=!0}return Fd}var RO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(t){return t!=null&&!RO.has(t)?(xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):t}function kO(t,e){let n,r,o,a,c;if(bO(t)){let h=t.getAttribute("action");r=h?ps(h,e):null,n=t.getAttribute("method")||nh,o=_m(t.getAttribute("enctype"))||rh,a=new FormData(t)}else if(EO(t)||TO(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(r=p?ps(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||nh,o=_m(t.getAttribute("formenctype"))||_m(h.getAttribute("enctype"))||rh,a=new FormData(h,t),!SO()){let{name:y,type:w,value:E}=t;if(w==="image"){let b=y?`${y}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else y&&a.append(y,E)}}else{if(Ef(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,r=null,o=rh,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Iy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AO(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ps(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function PO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function NO(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await PO(a,n);return c.links?c.links():[]}return[]}));return VO(r.flat(1).filter(xO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function z0(t,e,n,r,o,a){let c=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,h=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return a==="assets"?e.filter((p,y)=>c(p,y)||h(p,y)):a==="data"?e.filter((p,y)=>{let w=r.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(c(p,y)||h(p,y))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function OO(t,e,{includeHydrateFallback:n}={}){return DO(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function DO(t){return[...new Set(t)]}function LO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function VO(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(LO(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function wT(){let t=S.useContext(Wl);return Iy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MO(){let t=S.useContext(_f);return Iy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Sy=S.createContext(void 0);Sy.displayName="FrameworkContext";function vT(){let t=S.useContext(Sy);return Iy(t,"You must render this element inside a <HydratedRouter> element"),t}function FO(t,e){let n=S.useContext(Sy),[r,o]=S.useState(!1),[a,c]=S.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:y,onMouseLeave:w,onTouchStart:E}=e,b=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=W=>{W.forEach(z=>{c(z.isIntersecting)})},O=new IntersectionObserver(j,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[t]),S.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let x=()=>{o(!0)},D=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:xu(h,x),onBlur:xu(p,D),onMouseEnter:xu(y,x),onMouseLeave:xu(w,D),onTouchStart:xu(E,x)}]:[!1,b,{}]}function xu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function jO({page:t,...e}){let{router:n}=wT(),r=S.useMemo(()=>uT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(UO,{page:t,matches:r,...e}):null}function $O(t){let{manifest:e,routeModules:n}=vT(),[r,o]=S.useState([]);return S.useEffect(()=>{let a=!1;return NO(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),r}function UO({page:t,matches:e,...n}){let r=vo(),{manifest:o,routeModules:a}=vT(),{basename:c}=wT(),{loaderData:h,matches:p}=MO(),y=S.useMemo(()=>z0(t,e,p,o,r,"data"),[t,e,p,o,r]),w=S.useMemo(()=>z0(t,e,p,o,r,"assets"),[t,e,p,o,r]),E=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,j=!1;if(e.forEach(W=>{let z=o.routes[W.route.id];!z||!z.hasLoader||(!y.some(K=>K.route.id===W.route.id)&&W.route.id in h&&a[W.route.id]?.shouldRevalidate||z.hasClientLoader?j=!0:D.add(W.route.id))}),D.size===0)return[];let O=AO(t,c,"data");return j&&D.size>0&&O.searchParams.set("_routes",e.filter(W=>D.has(W.route.id)).map(W=>W.route.id).join(",")),[O.pathname+O.search]},[c,h,r,o,y,e,t,a]),b=S.useMemo(()=>OO(w,o),[w,o]),x=$O(w);return S.createElement(S.Fragment,null,E.map(D=>S.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),b.map(D=>S.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),x.map(({key:D,link:j})=>S.createElement("link",{key:D,nonce:n.nonce,...j})))}function BO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_T&&(window.__reactRouterVersion="7.8.2")}catch{}function zO({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=PN({window:n,v5Compat:!0}));let o=r.current,[a,c]=S.useState({action:o.action,location:o.location}),h=S.useCallback(p=>{S.startTransition(()=>c(p))},[c]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.createElement(vO,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var ET=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:y,preventScrollReset:w,viewTransition:E,...b},x){let{basename:D}=S.useContext(Zr),j=typeof y=="string"&&ET.test(y),O,W=!1;if(typeof y=="string"&&j&&(O=y,_T))try{let I=new URL(window.location.href),N=y.startsWith("//")?new URL(I.protocol+y):new URL(y),V=ps(N.pathname,D);N.origin===I.origin&&V!=null?y=V+N.search+N.hash:W=!0}catch{xr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=rO(y,{relative:o}),[K,Z,ce]=FO(r,b),se=GO(y,{replace:c,state:h,target:p,preventScrollReset:w,relative:o,viewTransition:E});function R(I){e&&e(I),I.defaultPrevented||se(I)}let C=S.createElement("a",{...b,...ce,href:O||z,onClick:W||a?e:R,ref:BO(x,Z),target:p,"data-discover":!j&&n==="render"?"true":void 0});return K&&!j?S.createElement(S.Fragment,null,C,S.createElement(jO,{page:z})):C});sn.displayName="Link";var HO=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:c,viewTransition:h,children:p,...y},w){let E=wc(c,{relative:y.relative}),b=vo(),x=S.useContext(_f),{navigator:D,basename:j}=S.useContext(Zr),O=x!=null&&JO(E)&&h===!0,W=D.encodeLocation?D.encodeLocation(E).pathname:E.pathname,z=b.pathname,K=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(z=z.toLowerCase(),K=K?K.toLowerCase():null,W=W.toLowerCase()),K&&j&&(K=ps(K,j)||K);const Z=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ce=z===W||!o&&z.startsWith(W)&&z.charAt(Z)==="/",se=K!=null&&(K===W||!o&&K.startsWith(W)&&K.charAt(W.length)==="/"),R={isActive:ce,isPending:se,isTransitioning:O},C=ce?e:void 0,I;typeof r=="function"?I=r(R):I=[r,ce?"active":null,se?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(R):a;return S.createElement(sn,{...y,"aria-current":C,className:I,ref:w,style:N,to:c,viewTransition:h},typeof p=="function"?p(R):p)});HO.displayName="NavLink";var WO=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:c=nh,action:h,onSubmit:p,relative:y,preventScrollReset:w,viewTransition:E,...b},x)=>{let D=YO(),j=XO(h,{relative:y}),O=c.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&ET.test(h),z=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let Z=K.nativeEvent.submitter,ce=Z?.getAttribute("formmethod")||c;D(Z||K.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:a,relative:y,preventScrollReset:w,viewTransition:E})};return S.createElement("form",{ref:x,method:O,action:j,onSubmit:r?p:z,...b,"data-discover":!W&&t==="render"?"true":void 0})});WO.displayName="Form";function qO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bT(t){let e=S.useContext(Wl);return vt(e,qO(t)),e}function GO(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=by(),p=vo(),y=wc(t,{relative:a});return S.useCallback(w=>{if(IO(w,e)){w.preventDefault();let E=n!==void 0?n:nc(p)===nc(y);h(t,{replace:E,state:r,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,y,n,r,e,t,o,a,c])}var KO=0,QO=()=>`__${String(++KO)}__`;function YO(){let{router:t}=bT("useSubmit"),{basename:e}=S.useContext(Zr),n=mO();return S.useCallback(async(r,o={})=>{let{action:a,method:c,encType:h,formData:p,body:y}=kO(r,e);if(o.navigate===!1){let w=o.fetcherKey||QO();await t.fetch(w,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function XO(t,{relative:e}={}){let{basename:n}=S.useContext(Zr),r=S.useContext(ei);vt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...wc(t||".",{relative:e})},c=vo();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(w=>w==="")){h.delete("index"),p.filter(E=>E).forEach(E=>h.append("index",E));let w=h.toString();a.search=w?`?${w}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:as([n,a.pathname])),nc(a)}function JO(t,{relative:e}={}){let n=S.useContext(fT);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bT("useViewTransitionState"),o=wc(t,{relative:e});if(!n.isTransitioning)return!1;let a=ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nh(o.pathname,c)!=null||Nh(o.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function TT(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function ZO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function H0(t,e){return t.get(TT(t,e))}function eD(t,e,n){ZO(t,e),e.set(t,n)}function tD(t,e,n){return t.set(TT(t,e),n),n}const nD=100,ke={},rD=()=>{ke.previousActiveElement instanceof HTMLElement?(ke.previousActiveElement.focus(),ke.previousActiveElement=null):document.body&&document.body.focus()},iD=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;ke.restoreFocusTimeout=setTimeout(()=>{rD(),e()},nD),window.scrollTo(n,r)}),CT="swal2-",sD=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Y=sD.reduce((t,e)=>(t[e]=CT+e,t),{}),oD=["success","warning","info","question","error"],Oh=oD.reduce((t,e)=>(t[e]=CT+e,t),{}),IT="SweetAlert2:",Ry=t=>t.charAt(0).toUpperCase()+t.slice(1),Dn=t=>{console.warn(`${IT} ${typeof t=="object"?t.join(" "):t}`)},Ta=t=>{console.error(`${IT} ${t}`)},W0=[],aD=t=>{W0.includes(t)||(W0.push(t),Dn(t))},ST=(t,e=null)=>{aD(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},bf=t=>typeof t=="function"?t():t,ky=t=>t&&typeof t.toPromise=="function",vc=t=>ky(t)?t.toPromise():Promise.resolve(t),Ay=t=>t&&Promise.resolve(t)===t,Ln=()=>document.body.querySelector(`.${Y.container}`),_c=t=>{const e=Ln();return e?e.querySelector(t):null},hr=t=>_c(`.${t}`),Ze=()=>hr(Y.popup),Gl=()=>hr(Y.icon),lD=()=>hr(Y["icon-content"]),RT=()=>hr(Y.title),Py=()=>hr(Y["html-container"]),kT=()=>hr(Y.image),xy=()=>hr(Y["progress-steps"]),Tf=()=>hr(Y["validation-message"]),Ai=()=>_c(`.${Y.actions} .${Y.confirm}`),Kl=()=>_c(`.${Y.actions} .${Y.cancel}`),Ca=()=>_c(`.${Y.actions} .${Y.deny}`),uD=()=>hr(Y["input-label"]),Ql=()=>_c(`.${Y.loader}`),Ec=()=>hr(Y.actions),AT=()=>hr(Y.footer),Cf=()=>hr(Y["timer-progress-bar"]),Ny=()=>hr(Y.close),cD=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Oy=()=>{const t=Ze();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,c)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),p=parseInt(c.getAttribute("tabindex")||"0");return h>p?1:h<p?-1:0}),r=t.querySelectorAll(cD),o=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>Yn(a))},Dy=()=>ls(document.body,Y.shown)&&!ls(document.body,Y["toast-shown"])&&!ls(document.body,Y["no-backdrop"]),If=()=>{const t=Ze();return t?ls(t,Y.toast):!1},dD=()=>{const t=Ze();return t?t.hasAttribute("data-loading"):!1},fr=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(c=>{t.appendChild(c)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?t.appendChild(c.cloneNode(!0)):t.appendChild(c)})}},ls=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},hD=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Y).includes(n)&&!Object.values(Oh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},cr=(t,e,n)=>{if(hD(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Dn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}et(t,r)}},Sf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Y.popup} > .${Y[e]}`);case"checkbox":return t.querySelector(`.${Y.popup} > .${Y.checkbox} input`);case"radio":return t.querySelector(`.${Y.popup} > .${Y.radio} input:checked`)||t.querySelector(`.${Y.popup} > .${Y.radio} input:first-child`);case"range":return t.querySelector(`.${Y.popup} > .${Y.range} input`);default:return t.querySelector(`.${Y.popup} > .${Y.input}`)}},PT=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},xT=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(r):o.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},et=(t,e)=>{xT(t,e,!0)},Nr=(t,e)=>{xT(t,e,!1)},eo=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const o=n[r];if(o instanceof HTMLElement&&ls(o,e))return o}},ra=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},on=(t,e="flex")=>{t&&(t.style.display=e)},Rn=t=>{t&&(t.style.display="none")},Ly=(t,e="block")=>{t&&new MutationObserver(()=>{bc(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},q0=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},bc=(t,e,n="flex")=>{e?on(t,n):Rn(t)},Yn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),fD=()=>!Yn(Ai())&&!Yn(Ca())&&!Yn(Kl()),sg=t=>t.scrollHeight>t.clientHeight,pD=(t,e)=>{let n=t;for(;n&&n!==e;){if(sg(n))return!0;n=n.parentElement}return!1},NT=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},Vy=(t,e=!1)=>{const n=Cf();n&&Yn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},mD=()=>{const t=Cf();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},gD=()=>typeof window>"u"||typeof document>"u",yD=`
 <div aria-labelledby="${Y.title}" aria-describedby="${Y["html-container"]}" class="${Y.popup}" tabindex="-1">
   <button type="button" class="${Y.close}"></button>
   <ul class="${Y["progress-steps"]}"></ul>
   <div class="${Y.icon}"></div>
   <img class="${Y.image}" />
   <h2 class="${Y.title}" id="${Y.title}"></h2>
   <div class="${Y["html-container"]}" id="${Y["html-container"]}"></div>
   <input class="${Y.input}" id="${Y.input}" />
   <input type="file" class="${Y.file}" />
   <div class="${Y.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Y.select}" id="${Y.select}"></select>
   <div class="${Y.radio}"></div>
   <label class="${Y.checkbox}">
     <input type="checkbox" id="${Y.checkbox}" />
     <span class="${Y.label}"></span>
   </label>
   <textarea class="${Y.textarea}" id="${Y.textarea}"></textarea>
   <div class="${Y["validation-message"]}" id="${Y["validation-message"]}"></div>
   <div class="${Y.actions}">
     <div class="${Y.loader}"></div>
     <button type="button" class="${Y.confirm}"></button>
     <button type="button" class="${Y.deny}"></button>
     <button type="button" class="${Y.cancel}"></button>
   </div>
   <div class="${Y.footer}"></div>
   <div class="${Y["timer-progress-bar-container"]}">
     <div class="${Y["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),wD=()=>{const t=Ln();return t?(t.remove(),Nr([document.documentElement,document.body],[Y["no-backdrop"],Y["toast-shown"],Y["has-column"]]),!0):!1},Ko=()=>{ke.currentInstance.resetValidationMessage()},vD=()=>{const t=Ze(),e=eo(t,Y.input),n=eo(t,Y.file),r=t.querySelector(`.${Y.range} input`),o=t.querySelector(`.${Y.range} output`),a=eo(t,Y.select),c=t.querySelector(`.${Y.checkbox} input`),h=eo(t,Y.textarea);e.oninput=Ko,n.onchange=Ko,a.onchange=Ko,c.onchange=Ko,h.oninput=Ko,r.oninput=()=>{Ko(),o.value=r.value},r.onchange=()=>{Ko(),o.value=r.value}},_D=t=>typeof t=="string"?document.querySelector(t):t,ED=t=>{const e=Ze();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},bD=t=>{window.getComputedStyle(t).direction==="rtl"&&et(Ln(),Y.rtl)},TD=t=>{const e=wD();if(gD()){Ta("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Y.container,e&&et(n,Y["no-transition"]),fr(n,yD),n.dataset.swal2Theme=t.theme;const r=_D(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),ED(t),bD(r),vD()},My=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?CD(t,e):t&&fr(e,t)},CD=(t,e)=>{t.jquery?ID(e,t):fr(e,t.toString())},ID=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},SD=(t,e)=>{const n=Ec(),r=Ql();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Rn(n):on(n),cr(n,e,"actions"),RD(n,r,e),fr(r,e.loaderHtml||""),cr(r,e,"loader"))};function RD(t,e,n){const r=Ai(),o=Ca(),a=Kl();!r||!o||!a||(bm(r,"confirm",n),bm(o,"deny",n),bm(a,"cancel",n),kD(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}function kD(t,e,n,r){if(!r.buttonsStyling){Nr([t,e,n],Y.styled);return}et([t,e,n],Y.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Em(t),Em(e),Em(n)}function Em(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function bm(t,e,n){const r=Ry(e);bc(t,n[`show${r}Button`],"inline-block"),fr(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Y[e],cr(t,n,`${e}Button`)}const AD=(t,e)=>{const n=Ny();n&&(fr(n,e.closeButtonHtml||""),cr(n,e,"closeButton"),bc(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},PD=(t,e)=>{const n=Ln();n&&(xD(n,e.backdrop),ND(n,e.position),OD(n,e.grow),cr(n,e,"container"))};function xD(t,e){typeof e=="string"?t.style.background=e:e||et([document.documentElement,document.body],Y["no-backdrop"])}function ND(t,e){e&&(e in Y?et(t,Y[e]):(Dn('The "position" parameter is not valid, defaulting to "center"'),et(t,Y.center)))}function OD(t,e){e&&et(t,Y[`grow-${e}`])}var ut={innerParams:new WeakMap,domCache:new WeakMap};const DD=["input","file","range","select","radio","checkbox","textarea"],LD=(t,e)=>{const n=Ze();if(!n)return;const r=ut.innerParams.get(t),o=!r||e.input!==r.input;DD.forEach(a=>{const c=eo(n,Y[a]);c&&(FD(a,e.inputAttributes),c.className=Y[a],o&&Rn(c))}),e.input&&(o&&VD(e),jD(e))},VD=t=>{if(!t.input)return;if(!Ot[t.input]){Ta(`Unexpected type of input! Expected ${Object.keys(Ot).join(" | ")}, got "${t.input}"`);return}const e=OT(t.input);if(!e)return;const n=Ot[t.input](e,t);on(e),t.inputAutoFocus&&setTimeout(()=>{PT(n)})},MD=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},FD=(t,e)=>{const n=Ze();if(!n)return;const r=Sf(n,t);if(r){MD(r);for(const o in e)r.setAttribute(o,e[o])}},jD=t=>{if(!t.input)return;const e=OT(t.input);e&&cr(e,t,"input")},Fy=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Tc=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=Y["input-label"];r.setAttribute("for",t.id),r.className=o,typeof n.customClass=="object"&&et(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},OT=t=>{const e=Ze();if(e)return eo(e,Y[t]||Y.input)},Dh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Ay(e)||Dn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Ot={};Ot.text=Ot.email=Ot.password=Ot.number=Ot.tel=Ot.url=Ot.search=Ot.date=Ot["datetime-local"]=Ot.time=Ot.week=Ot.month=(t,e)=>(Dh(t,e.inputValue),Tc(t,t,e),Fy(t,e),t.type=e.input,t);Ot.file=(t,e)=>(Tc(t,t,e),Fy(t,e),t);Ot.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Dh(n,e.inputValue),n.type=e.input,Dh(r,e.inputValue),Tc(n,t,e),t};Ot.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");fr(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Tc(t,t,e),t};Ot.radio=t=>(t.textContent="",t);Ot.checkbox=(t,e)=>{const n=Sf(Ze(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return fr(r,e.inputPlaceholder||e.inputLabel),n};Ot.textarea=(t,e)=>{Dh(t,e.inputValue),Fy(t,e),Tc(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(Ze()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?Ze().style.width=`${a}px`:ra(Ze(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const $D=(t,e)=>{const n=Py();n&&(Ly(n),cr(n,e,"htmlContainer"),e.html?(My(e.html,n),on(n,"block")):e.text?(n.textContent=e.text,on(n,"block")):Rn(n),LD(t,e))},UD=(t,e)=>{const n=AT();n&&(Ly(n),bc(n,e.footer,"block"),e.footer&&My(e.footer,n),cr(n,e,"footer"))},BD=(t,e)=>{const n=ut.innerParams.get(t),r=Gl();if(!r)return;if(n&&e.icon===n.icon){K0(r,e),G0(r,e);return}if(!e.icon&&!e.iconHtml){Rn(r);return}if(e.icon&&Object.keys(Oh).indexOf(e.icon)===-1){Ta(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Rn(r);return}on(r),K0(r,e),G0(r,e),et(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",DT)},G0=(t,e)=>{for(const[n,r]of Object.entries(Oh))e.icon!==n&&Nr(t,r);et(t,e.icon&&Oh[e.icon]),WD(t,e),DT(),cr(t,e,"icon")},DT=()=>{const t=Ze();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},zD=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,HD=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,K0=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=Q0(e.iconHtml):e.icon==="success"?(r=zD(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=HD:e.icon&&(r=Q0({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&fr(t,r)},WD=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])q0(t,n,"background-color",e.iconColor);q0(t,".swal2-success-ring","border-color",e.iconColor)}},Q0=t=>`<div class="${Y["icon-content"]}">${t}</div>`,qD=(t,e)=>{const n=kT();if(n){if(!e.imageUrl){Rn(n);return}on(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),ra(n,"width",e.imageWidth),ra(n,"height",e.imageHeight),n.className=Y.image,cr(n,e,"image")}};let jy=!1,LT=0,VT=0,MT=0,FT=0;const GD=t=>{t.addEventListener("mousedown",Lh),document.body.addEventListener("mousemove",Vh),t.addEventListener("mouseup",Mh),t.addEventListener("touchstart",Lh),document.body.addEventListener("touchmove",Vh),t.addEventListener("touchend",Mh)},KD=t=>{t.removeEventListener("mousedown",Lh),document.body.removeEventListener("mousemove",Vh),t.removeEventListener("mouseup",Mh),t.removeEventListener("touchstart",Lh),document.body.removeEventListener("touchmove",Vh),t.removeEventListener("touchend",Mh)},Lh=t=>{const e=Ze();if(t.target===e||Gl().contains(t.target)){jy=!0;const n=jT(t);LT=n.clientX,VT=n.clientY,MT=parseInt(e.style.insetInlineStart)||0,FT=parseInt(e.style.insetBlockStart)||0,et(e,"swal2-dragging")}},Vh=t=>{const e=Ze();if(jy){let{clientX:n,clientY:r}=jT(t);e.style.insetInlineStart=`${MT+(n-LT)}px`,e.style.insetBlockStart=`${FT+(r-VT)}px`}},Mh=()=>{const t=Ze();jy=!1,Nr(t,"swal2-dragging")},jT=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},QD=(t,e)=>{const n=Ln(),r=Ze();if(!(!n||!r)){if(e.toast){ra(n,"width",e.width),r.style.width="100%";const o=Ql();o&&r.insertBefore(o,Gl())}else ra(r,"width",e.width);ra(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Rn(Tf()),YD(r,e),e.draggable&&!e.toast?(et(r,Y.draggable),GD(r)):(Nr(r,Y.draggable),KD(r))}},YD=(t,e)=>{const n=e.showClass||{};t.className=`${Y.popup} ${Yn(t)?n.popup:""}`,e.toast?(et([document.documentElement,document.body],Y["toast-shown"]),et(t,Y.toast)):et(t,Y.modal),cr(t,e,"popup"),typeof e.customClass=="string"&&et(t,e.customClass),e.icon&&et(t,Y[`icon-${e.icon}`])},XD=(t,e)=>{const n=xy();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){Rn(n);return}on(n),n.textContent="",o>=r.length&&Dn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,c)=>{const h=JD(a);if(n.appendChild(h),c===o&&et(h,Y["active-progress-step"]),c!==r.length-1){const p=ZD(e);n.appendChild(p)}})},JD=t=>{const e=document.createElement("li");return et(e,Y["progress-step"]),fr(e,t),e},ZD=t=>{const e=document.createElement("li");return et(e,Y["progress-step-line"]),t.progressStepsDistance&&ra(e,"width",t.progressStepsDistance),e},eL=(t,e)=>{const n=RT();n&&(Ly(n),bc(n,e.title||e.titleText,"block"),e.title&&My(e.title,n),e.titleText&&(n.innerText=e.titleText),cr(n,e,"title"))},$T=(t,e)=>{QD(t,e),PD(t,e),XD(t,e),BD(t,e),qD(t,e),eL(t,e),AD(t,e),$D(t,e),SD(t,e),UD(t,e);const n=Ze();typeof e.didRender=="function"&&n&&e.didRender(n),ke.eventEmitter.emit("didRender",n)},tL=()=>Yn(Ze()),UT=()=>{var t;return(t=Ai())===null||t===void 0?void 0:t.click()},nL=()=>{var t;return(t=Ca())===null||t===void 0?void 0:t.click()},rL=()=>{var t;return(t=Kl())===null||t===void 0?void 0:t.click()},Yl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),BT=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},iL=(t,e,n)=>{BT(t),e.toast||(t.keydownHandler=r=>oL(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:Ze(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},og=(t,e)=>{var n;const r=Oy();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=Ze())===null||n===void 0||n.focus()},zT=["ArrowRight","ArrowDown"],sL=["ArrowLeft","ArrowUp"],oL=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?aL(e,t):e.key==="Tab"?lL(e):[...zT,...sL].includes(e.key)?uL(e.key):e.key==="Escape"&&cL(e,t,n)))},aL=(t,e)=>{if(!bf(e.allowEnterKey))return;const n=Sf(Ze(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;UT(),t.preventDefault()}},lL=t=>{const e=t.target,n=Oy();let r=-1;for(let o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?og(r,-1):og(r,1),t.stopPropagation(),t.preventDefault()},uL=t=>{const e=Ec(),n=Ai(),r=Ca(),o=Kl();if(!e||!n||!r||!o)return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const c=zT.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let p=0;p<e.children.length;p++){if(h=h[c],!h)return;if(h instanceof HTMLButtonElement&&Yn(h))break}h instanceof HTMLButtonElement&&h.focus()}},cL=(t,e,n)=>{t.preventDefault(),bf(e.allowEscapeKey)&&n(Yl.esc)};var Al={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const dL=()=>{const t=Ln();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},HT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},WT=typeof window<"u"&&!!window.GestureEvent,hL=()=>{if(WT&&!ls(document.body,Y.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,et(document.body,Y.iosfix),fL()}},fL=()=>{const t=Ln();if(!t)return;let e;t.ontouchstart=n=>{e=pL(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},pL=t=>{const e=t.target,n=Ln(),r=Py();return!n||!r||mL(t)||gL(t)?!1:e===n||!sg(n)&&e instanceof HTMLElement&&!pD(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(sg(r)&&r.contains(e))},mL=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",gL=t=>t.touches&&t.touches.length>1,yL=()=>{if(ls(document.body,Y.iosfix)){const t=parseInt(document.body.style.top,10);Nr(document.body,Y.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},wL=()=>{const t=document.createElement("div");t.className=Y["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let vl=null;const vL=t=>{vl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(vl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${vl+wL()}px`)},_L=()=>{vl!==null&&(document.body.style.paddingRight=`${vl}px`,vl=null)};function qT(t,e,n,r){If()?Y0(t,r):(iD(n).then(()=>Y0(t,r)),BT(ke)),WT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Dy()&&(_L(),yL(),HT()),EL()}function EL(){Nr([document.documentElement,document.body],[Y.shown,Y["height-auto"],Y["no-backdrop"],Y["toast-shown"]])}function to(t){t=TL(t);const e=Al.swalPromiseResolve.get(this),n=bL(this);this.isAwaitingPromise?t.isDismissed||(Cc(this),e(t)):n&&e(t)}const bL=t=>{const e=Ze();if(!e)return!1;const n=ut.innerParams.get(t);if(!n||ls(e,n.hideClass.popup))return!1;Nr(e,n.showClass.popup),et(e,n.hideClass.popup);const r=Ln();return Nr(r,n.showClass.backdrop),et(r,n.hideClass.backdrop),CL(t,e,n),!0};function GT(t){const e=Al.swalPromiseReject.get(this);Cc(this),e&&e(t)}const Cc=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,ut.innerParams.get(t)||t._destroy())},TL=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),CL=(t,e,n)=>{var r;const o=Ln(),a=NT(e);typeof n.willClose=="function"&&n.willClose(e),(r=ke.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?IL(t,e,o,n.returnFocus,n.didClose):qT(t,o,n.returnFocus,n.didClose)},IL=(t,e,n,r,o)=>{ke.swalCloseEventFinishedCallback=qT.bind(null,t,n,r,o);const a=function(c){if(c.target===e){var h;(h=ke.swalCloseEventFinishedCallback)===null||h===void 0||h.call(ke),delete ke.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},Y0=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ke.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Pl=t=>{let e=Ze();if(e||new bn,e=Ze(),!e)return;const n=Ql();If()?Rn(Gl()):SL(e,t),on(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},SL=(t,e)=>{const n=Ec(),r=Ql();!n||!r||(!e&&Yn(Ai())&&(e=Ai()),on(n),e&&(Rn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),et([t,n],Y.loading))},RL=(t,e)=>{e.input==="select"||e.input==="radio"?NL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(ky(e.inputValue)||Ay(e.inputValue))&&(Pl(Ai()),OL(t,e))},kL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return AL(n);case"radio":return PL(n);case"file":return xL(n);default:return e.inputAutoTrim?n.value.trim():n.value}},AL=t=>t.checked?1:0,PL=t=>t.checked?t.value:null,xL=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,NL=(t,e)=>{const n=Ze();if(!n)return;const r=o=>{e.input==="select"?DL(n,Fh(o),e):e.input==="radio"&&LL(n,Fh(o),e)};ky(e.inputOptions)||Ay(e.inputOptions)?(Pl(Ai()),vc(e.inputOptions).then(o=>{t.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):Ta(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},OL=(t,e)=>{const n=t.getInput();n&&(Rn(n),vc(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,on(n),n.focus(),t.hideLoading()}).catch(r=>{Ta(`Error in inputValue promise: ${r}`),n.value="",on(n),n.focus(),t.hideLoading()}))};function DL(t,e,n){const r=eo(t,Y.select);if(!r)return;const o=(a,c,h)=>{const p=document.createElement("option");p.value=h,fr(p,c),p.selected=KT(h,n.inputValue),a.appendChild(p)};e.forEach(a=>{const c=a[0],h=a[1];if(Array.isArray(h)){const p=document.createElement("optgroup");p.label=c,p.disabled=!1,r.appendChild(p),h.forEach(y=>o(p,y[1],y[0]))}else o(r,h,c)}),r.focus()}function LL(t,e,n){const r=eo(t,Y.radio);if(!r)return;e.forEach(a=>{const c=a[0],h=a[1],p=document.createElement("input"),y=document.createElement("label");p.type="radio",p.name=Y.radio,p.value=c,KT(c,n.inputValue)&&(p.checked=!0);const w=document.createElement("span");fr(w,h),w.className=Y.label,y.appendChild(p),y.appendChild(w),r.appendChild(y)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const Fh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let o=n;typeof o=="object"&&(o=Fh(o)),e.push([r,o])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Fh(r)),e.push([n,r])}),e},KT=(t,e)=>!!e&&e.toString()===t.toString(),VL=t=>{const e=ut.innerParams.get(t);t.disableButtons(),e.input?QT(t,"confirm"):Uy(t,!0)},ML=t=>{const e=ut.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?QT(t,"deny"):$y(t,!1)},FL=(t,e)=>{t.disableButtons(),e(Yl.cancel)},QT=(t,e)=>{const n=ut.innerParams.get(t);if(!n.input){Ta(`The "input" parameter is needed to be set when using returnInputValueOn${Ry(e)}`);return}const r=t.getInput(),o=kL(t,n);n.inputValidator?jL(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?$y(t,o):Uy(t,o)},jL=(t,e,n)=>{const r=ut.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>vc(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?$y(t,e):Uy(t,e)})},$y=(t,e)=>{const n=ut.innerParams.get(t||void 0);n.showLoaderOnDeny&&Pl(Ca()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>vc(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),Cc(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>YT(t||void 0,o))):t.close({isDenied:!0,value:e})},X0=(t,e)=>{t.close({isConfirmed:!0,value:e})},YT=(t,e)=>{t.rejectPromise(e)},Uy=(t,e)=>{const n=ut.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Pl(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>vc(n.preConfirm(e,n.validationMessage))).then(o=>{Yn(Tf())||o===!1?(t.hideLoading(),Cc(t)):X0(t,typeof o>"u"?e:o)}).catch(o=>YT(t||void 0,o))):X0(t,e)};function jh(){const t=ut.innerParams.get(this);if(!t)return;const e=ut.domCache.get(this);Rn(e.loader),If()?t.icon&&on(Gl()):$L(e),Nr([e.popup,e.actions],Y.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const $L=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?on(e[0],"inline-block"):fD()&&Rn(t.actions)};function XT(){const t=ut.innerParams.get(this),e=ut.domCache.get(this);return e?Sf(e.popup,t.input):null}function JT(t,e,n){const r=ut.domCache.get(t);e.forEach(o=>{r[o].disabled=n})}function ZT(t,e){const n=Ze();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Y.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else t.disabled=e}function eC(){JT(this,["confirmButton","denyButton","cancelButton"],!1)}function tC(){JT(this,["confirmButton","denyButton","cancelButton"],!0)}function nC(){ZT(this.getInput(),!1)}function rC(){ZT(this.getInput(),!0)}function iC(t){const e=ut.domCache.get(this),n=ut.innerParams.get(this);fr(e.validationMessage,t),e.validationMessage.className=Y["validation-message"],n.customClass&&n.customClass.validationMessage&&et(e.validationMessage,n.customClass.validationMessage),on(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Y["validation-message"]),PT(r),et(r,Y.inputerror))}function sC(){const t=ut.domCache.get(this);t.validationMessage&&Rn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Nr(e,Y.inputerror))}const _l={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},UL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],BL={allowEnterKey:void 0},zL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],oC=t=>Object.prototype.hasOwnProperty.call(_l,t),aC=t=>UL.indexOf(t)!==-1,lC=t=>BL[t],HL=t=>{oC(t)||Dn(`Unknown parameter "${t}"`)},WL=t=>{zL.includes(t)&&Dn(`The parameter "${t}" is incompatible with toasts`)},qL=t=>{const e=lC(t);e&&ST(t,e)},uC=t=>{t.backdrop===!1&&t.allowOutsideClick&&Dn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Dn(`Invalid theme "${t.theme}"`);for(const e in t)HL(e),t.toast&&WL(e),qL(e)};function cC(t){const e=Ln(),n=Ze(),r=ut.innerParams.get(this);if(!n||ls(n,r.hideClass.popup)){Dn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=GL(t),a=Object.assign({},r,o);uC(a),e.dataset.swal2Theme=a.theme,$T(this,a),ut.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const GL=t=>{const e={};return Object.keys(t).forEach(n=>{aC(n)?e[n]=t[n]:Dn(`Invalid parameter to update: ${n}`)}),e};function dC(){const t=ut.domCache.get(this),e=ut.innerParams.get(this);if(!e){hC(this);return}t.popup&&ke.swalCloseEventFinishedCallback&&(ke.swalCloseEventFinishedCallback(),delete ke.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ke.eventEmitter.emit("didDestroy"),KL(this)}const KL=t=>{hC(t),delete t.params,delete ke.keydownHandler,delete ke.keydownTarget,delete ke.currentInstance},hC=t=>{t.isAwaitingPromise?(Tm(ut,t),t.isAwaitingPromise=!0):(Tm(Al,t),Tm(ut,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Tm=(t,e)=>{for(const n in t)t[n].delete(e)};var QL=Object.freeze({__proto__:null,_destroy:dC,close:to,closeModal:to,closePopup:to,closeToast:to,disableButtons:tC,disableInput:rC,disableLoading:jh,enableButtons:eC,enableInput:nC,getInput:XT,handleAwaitingPromise:Cc,hideLoading:jh,rejectPromise:GT,resetValidationMessage:sC,showValidationMessage:iC,update:cC});const YL=(t,e,n)=>{t.toast?XL(t,e,n):(ZL(e),e5(e),t5(t,e,n))},XL=(t,e,n)=>{e.popup.onclick=()=>{t&&(JL(t)||t.timer||t.input)||n(Yl.close)}},JL=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let $h=!1;const ZL=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&($h=!0)}}},e5=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&($h=!0)}}},t5=(t,e,n)=>{e.container.onclick=r=>{if($h){$h=!1;return}r.target===e.container&&bf(t.allowOutsideClick)&&n(Yl.backdrop)}},n5=t=>typeof t=="object"&&t.jquery,J0=t=>t instanceof Element||n5(t),r5=t=>{const e={};return typeof t[0]=="object"&&!J0(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const o=t[r];typeof o=="string"||J0(o)?e[n]=o:o!==void 0&&Ta(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function i5(...t){return new this(...t)}function s5(t){class e extends this{_main(r,o){return super._main(r,Object.assign({},t,o))}}return e}const o5=()=>ke.timeout&&ke.timeout.getTimerLeft(),fC=()=>{if(ke.timeout)return mD(),ke.timeout.stop()},pC=()=>{if(ke.timeout){const t=ke.timeout.start();return Vy(t),t}},a5=()=>{const t=ke.timeout;return t&&(t.running?fC():pC())},l5=t=>{if(ke.timeout){const e=ke.timeout.increase(t);return Vy(e,!0),e}},u5=()=>!!(ke.timeout&&ke.timeout.isRunning());let Z0=!1;const ag={};function c5(t="data-swal-template"){ag[t]=this,Z0||(document.body.addEventListener("click",d5),Z0=!0)}const d5=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in ag){const r=e.getAttribute(n);if(r){ag[n].fire({template:r});return}}};class h5{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...o)=>{this.removeListener(e,r),n.apply(this,o)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ke.eventEmitter=new h5;const f5=(t,e)=>{ke.eventEmitter.on(t,e)},p5=(t,e)=>{ke.eventEmitter.once(t,e)},m5=(t,e)=>{if(!t){ke.eventEmitter.reset();return}e?ke.eventEmitter.removeListener(t,e):ke.eventEmitter.removeAllListeners(t)};var g5=Object.freeze({__proto__:null,argsToParams:r5,bindClickHandler:c5,clickCancel:rL,clickConfirm:UT,clickDeny:nL,enableLoading:Pl,fire:i5,getActions:Ec,getCancelButton:Kl,getCloseButton:Ny,getConfirmButton:Ai,getContainer:Ln,getDenyButton:Ca,getFocusableElements:Oy,getFooter:AT,getHtmlContainer:Py,getIcon:Gl,getIconContent:lD,getImage:kT,getInputLabel:uD,getLoader:Ql,getPopup:Ze,getProgressSteps:xy,getTimerLeft:o5,getTimerProgressBar:Cf,getTitle:RT,getValidationMessage:Tf,increaseTimer:l5,isDeprecatedParameter:lC,isLoading:dD,isTimerRunning:u5,isUpdatableParameter:aC,isValidParameter:oC,isVisible:tL,mixin:s5,off:m5,on:f5,once:p5,resumeTimer:pC,showLoading:Pl,stopTimer:fC,toggleTimer:a5});class y5{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const mC=["swal-title","swal-html","swal-footer"],w5=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return S5(n),Object.assign(v5(n),_5(n),E5(n),b5(n),T5(n),C5(n),I5(n,mC))},v5=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{ha(r,["name","value"]);const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(typeof _l[o]=="boolean"?e[o]=a!=="false":typeof _l[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},_5=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},E5=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{ha(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${Ry(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},b5=t=>{const e={},n=t.querySelector("swal-image");return n&&(ha(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},T5=t=>{const e={},n=t.querySelector("swal-icon");return n&&(ha(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},C5=t=>{const e={},n=t.querySelector("swal-input");n&&(ha(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{ha(o,["value"]);const a=o.getAttribute("value");if(!a)return;const c=o.innerHTML;e.inputOptions[a]=c})),e},I5=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(ha(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},S5=t=>{const e=mC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Dn(`Unrecognized element <${r}>`)})},ha=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Dn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},gC=10,R5=t=>{const e=Ln(),n=Ze();typeof t.willOpen=="function"&&t.willOpen(n),ke.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;P5(e,n,t),setTimeout(()=>{k5(e,n)},gC),Dy()&&(A5(e,t.scrollbarPadding,o),dL()),!If()&&!ke.previousActiveElement&&(ke.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ke.eventEmitter.emit("didOpen",n),Nr(e,Y["no-transition"])},Uh=t=>{const e=Ze();if(t.target!==e)return;const n=Ln();e.removeEventListener("animationend",Uh),e.removeEventListener("transitionend",Uh),n.style.overflowY="auto"},k5=(t,e)=>{NT(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Uh),e.addEventListener("transitionend",Uh)):t.style.overflowY="auto"},A5=(t,e,n)=>{hL(),e&&n!=="hidden"&&vL(n),setTimeout(()=>{t.scrollTop=0})},P5=(t,e,n)=>{et(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),on(e,"grid"),setTimeout(()=>{et(e,n.showClass.popup),e.style.removeProperty("opacity")},gC)):on(e,"grid"),et([document.documentElement,document.body],Y.shown),n.heightAuto&&n.backdrop&&!n.toast&&et([document.documentElement,document.body],Y["height-auto"])};var eE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function x5(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=eE.email),t.input==="url"&&(t.inputValidator=eE.url))}function N5(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Dn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function O5(t){x5(t),t.showLoaderOnConfirm&&!t.preConfirm&&Dn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),N5(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),TD(t)}let wi;var jd=new WeakMap;class Vt{constructor(...e){if(eD(this,jd,void 0),typeof window>"u")return;wi=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,tD(jd,this,this._main(wi.params))}_main(e,n={}){if(uC(Object.assign({},n,e)),ke.currentInstance){const a=Al.swalPromiseResolve.get(ke.currentInstance),{isAwaitingPromise:c}=ke.currentInstance;ke.currentInstance._destroy(),c||a({isDismissed:!0}),Dy()&&HT()}ke.currentInstance=wi;const r=L5(e,n);O5(r),Object.freeze(r),ke.timeout&&(ke.timeout.stop(),delete ke.timeout),clearTimeout(ke.restoreFocusTimeout);const o=V5(wi);return $T(wi,r),ut.innerParams.set(wi,r),D5(wi,o,r)}then(e){return H0(jd,this).then(e)}finally(e){return H0(jd,this).finally(e)}}const D5=(t,e,n)=>new Promise((r,o)=>{const a=c=>{t.close({isDismissed:!0,dismiss:c})};Al.swalPromiseResolve.set(t,r),Al.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{VL(t)},e.denyButton.onclick=()=>{ML(t)},e.cancelButton.onclick=()=>{FL(t,a)},e.closeButton.onclick=()=>{a(Yl.close)},YL(n,e,a),iL(ke,n,a),RL(t,n),R5(n),M5(ke,n,a),F5(e,n),setTimeout(()=>{e.container.scrollTop=0})}),L5=(t,e)=>{const n=w5(t),r=Object.assign({},_l,e,n,t);return r.showClass=Object.assign({},_l.showClass,r.showClass),r.hideClass=Object.assign({},_l.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},V5=t=>{const e={popup:Ze(),container:Ln(),actions:Ec(),confirmButton:Ai(),denyButton:Ca(),cancelButton:Kl(),loader:Ql(),closeButton:Ny(),validationMessage:Tf(),progressSteps:xy()};return ut.domCache.set(t,e),e},M5=(t,e,n)=>{const r=Cf();Rn(r),e.timer&&(t.timeout=new y5(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(on(r),cr(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Vy(e.timer)})))},F5=(t,e)=>{if(!e.toast){if(!bf(e.allowEnterKey)){ST("allowEnterKey"),U5();return}j5(t)||$5(t,e)||og(-1,1)}},j5=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Yn(n))return n.focus(),!0;return!1},$5=(t,e)=>e.focusDeny&&Yn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Yn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Yn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,U5=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Vt.prototype.disableButtons=tC;Vt.prototype.enableButtons=eC;Vt.prototype.getInput=XT;Vt.prototype.disableInput=rC;Vt.prototype.enableInput=nC;Vt.prototype.hideLoading=jh;Vt.prototype.disableLoading=jh;Vt.prototype.showValidationMessage=iC;Vt.prototype.resetValidationMessage=sC;Vt.prototype.close=to;Vt.prototype.closePopup=to;Vt.prototype.closeModal=to;Vt.prototype.closeToast=to;Vt.prototype.rejectPromise=GT;Vt.prototype.update=cC;Vt.prototype._destroy=dC;Object.assign(Vt,g5);Object.keys(QL).forEach(t=>{Vt[t]=function(...e){return wi&&wi[t]?wi[t](...e):null}});Vt.DismissReason=Yl;Vt.version="11.23.0";const bn=Vt;bn.default=bn;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const xl="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",Gr="/Fantasy-Casadillos/SinPerfil.jpg",B5="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",z5="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",H5="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",W5="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",Nu=wa(dr),tE=wo(dr),q5=new _i,G5=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[o,a]=S.useState(B5),c=by();S.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async w=>{w.preventDefault();const E=new FormData(w.currentTarget),b=E.get("email"),x=E.get("password");if(n)try{const{user:D}=await Wk(Nu,b,x),j=E.get("nick");await y1(Nu.currentUser,{displayName:j});const O={nick:j,correo:b,puntos:0,rol:"usuario",dinero:1e8,equipo:{formacion:"2-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[0],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await F0(Cn(tE,"usuarios",D.uid),O,{merge:!0})}catch(D){console.error("Error registrando usuario:",D);let j="No se pudo crear la cuenta. Revisa los datos.";D.code==="auth/email-already-in-use"?j="Ya existe una cuenta con este correo.":D.code==="auth/weak-password"?j="La contraseña debe tener al menos 6 caracteres.":D.code==="auth/invalid-email"?j="El correo electrónico no es válido.":j=`Error desconocido: ${D.code}`,bn.fire({icon:"error",title:"Error",text:j})}else try{await qk(Nu,b,x),console.log("Inicio de sesión exitoso"),c("/home")}catch(D){console.error("Error iniciando sesión:",D);let j="Error al iniciar sesión.";(D.code==="auth/invalid-credential"||D.code==="auth/wrong-password"||D.code==="auth/user-not-found")&&(j="Correo o contraseña incorrectos."),bn.fire({icon:"error",title:"Error al iniciar sesión",text:j})}},p=async()=>{const{value:w}=await bn.fire({title:"Recuperar contraseña",input:"email",inputLabel:"Introduce tu correo electrónico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:E=>{if(!E)return"El correo es obligatorio"}});if(w)try{await Hk(Nu,w),bn.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(E){bn.fire("Error",E.message,"error")}},y=async()=>{try{const w=await v2(Nu,q5);if(!w?.user)throw new Error("No se obtuvo el usuario de Google.");const E=w.user,b=Cn(tE,"usuarios",E.uid);(await oo(b)).exists()||await F0(b,{nick:E.displayName||"",correo:E.email,puntos:0,rol:"usuario",dinero:1e8,equipo:{formacion:"2-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[0],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(w){if(w.code==="auth/popup-closed-by-user"||w.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",w),bn.fire({icon:"error",title:"Error",text:w.message||"No se pudo iniciar sesión con Google"})}};return P.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${xl})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[P.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),P.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[P.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),P.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:P.jsx("label",{style:{cursor:"default",display:"inline-block"},children:P.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),P.jsxs("form",{onSubmit:h,children:[P.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&P.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),P.jsxs("div",{className:"cajaContainerContraseña",children:[P.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contraseña",className:"cajacontraseña",required:!0}),P.jsx("img",{src:t?H5:W5,alt:"Mostrar contraseña",className:"toggle-password-icon",onClick:()=>e(w=>!w)})]}),!n&&P.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:P.jsx("button",{type:"button",onClick:p,className:"link-style",children:"¿Has olvidado la contraseña?"})}),n?P.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):P.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[P.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesión"}),P.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),P.jsxs("button",{type:"button",onClick:y,className:"btn-google",style:{width:"auto"},children:[P.jsx("img",{src:z5,alt:"Google"}),"Google"]})]})]}),P.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",P.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesión":"Regístrate"})]})]})]})},lg={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebasestorage.googleapis.com",K5="storageBucket",Q5=120*1e3,Y5=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends xi{constructor(e,n,r=0){super(Cm(e),`Firebase Storage: ${n} (${Cm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ni.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pi||(Pi={}));function Cm(t){return"storage/"+t}function X5(){const t="An unknown error occurred, please check the error payload for server response.";return new Ni(Pi.UNKNOWN,t)}function J5(){return new Ni(Pi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z5(){return new Ni(Pi.CANCELED,"User canceled the upload/download.")}function eV(t){return new Ni(Pi.INVALID_URL,"Invalid URL '"+t+"'.")}function tV(t){return new Ni(Pi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nE(t){return new Ni(Pi.INVALID_ARGUMENT,t)}function wC(){return new Ni(Pi.APP_DELETED,"The Firebase app was deleted.")}function nV(t){return new Ni(Pi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kr.makeFromUrl(e,n)}catch{return new Kr(e,"")}if(r.path==="")return r;throw tV(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function y(Z){Z.path_=decodeURIComponent(Z.path)}const w="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",x=new RegExp(`^https?://${E}/${w}/b/${o}/o${b}`,"i"),D={bucket:1,path:3},j=n===yC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",W=new RegExp(`^https?://${j}/${o}/${O}`,"i"),K=[{regex:h,indices:p,postModify:a},{regex:x,indices:D,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let Z=0;Z<K.length;Z++){const ce=K[Z],se=ce.regex.exec(e);if(se){const R=se[ce.indices.bucket];let C=se[ce.indices.path];C||(C=""),r=new Kr(R,C),ce.postModify(r);break}}if(r==null)throw eV(e);return r}}class rV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t,e,n){let r=1,o=null,a=null,c=!1,h=0;function p(){return h===2}let y=!1;function w(...O){y||(y=!0,e.apply(null,O))}function E(O){o=setTimeout(()=>{o=null,t(x,p())},O)}function b(){a&&clearTimeout(a)}function x(O,...W){if(y){b();return}if(O){b(),w.call(null,O,...W);return}if(p()||c){b(),w.call(null,O,...W);return}r<64&&(r*=2);let K;h===1?(h=2,K=0):K=(r+Math.random())*1e3,E(K)}let D=!1;function j(O){D||(D=!0,b(),!y&&(o!==null?(O||(h=2),clearTimeout(o),E(0)):O||(h=1)))}return E(0),a=setTimeout(()=>{c=!0,j(!0)},n),j}function sV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){return t!==void 0}function rE(t,e,n,r){if(r<e)throw nE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw nE(`Invalid value for '${t}'. Expected ${n} or less.`)}function aV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Bh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bh||(Bh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,r,o,a,c,h,p,y,w,E,b=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,j)=>{this.resolve_=D,this.reject_=j,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new $d(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const p=h.loaded,y=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===Bh.NO_ERROR,p=a.getStatus();if(!h||lV(p,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===Bh.ABORT;r(!1,new $d(!1,null,w));return}const y=this.successCodes_.indexOf(p)!==-1;r(!0,new $d(y,a))})},n=(r,o)=>{const a=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());oV(p)?a(p):a()}catch(p){c(p)}else if(h!==null){const p=X5();p.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,p)):c(p)}else if(o.canceled){const p=this.appDelete_?wC():Z5();c(p)}else{const p=J5();c(p)}};this.canceled_?n(!1,new $d(!1,null,!0)):this.backoffId_=iV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $d{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function dV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pV(t,e,n,r,o,a,c=!0,h=!1){const p=aV(t.urlParams),y=t.url+p,w=Object.assign({},t.headers);return hV(w,e),cV(w,n),dV(w,a),fV(w,r),new uV(y,t.method,w,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this._service=e,n instanceof Kr?this._location=n:this._location=Kr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zh(e,n)}get root(){const e=new Kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gV(this._location.path)}get storage(){return this._service}get parent(){const e=mV(this._location.path);if(e===null)return null;const n=new Kr(this._location.bucket,e);return new zh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nV(e)}}function iE(t,e){const n=e?.[K5];return n==null?null:Kr.makeFromBucketSpec(n,t)}function yV(t,e,n,r={}){t.host=`${e}:${n}`;const o=ma(e);o&&(vg(`https://${t.host}/b`),_g("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:UE(a,t.app.options.projectId))}class wV{constructor(e,n,r,o,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=yC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Q5,this._maxUploadRetryTime=Y5,this._requests=new Set,o!=null?this._bucket=Kr.makeFromBucketSpec(o,this._host):this._bucket=iE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kr.makeFromBucketSpec(this._url,e):this._bucket=iE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zh(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new rV(wC());{const c=pV(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const sE="@firebase/storage",oE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="storage";function vV(t=Tg(),e){t=_t(t);const r=Xh(t,vC).getImmediate({identifier:e}),o=FE("storage");return o&&_V(r,...o),r}function _V(t,e,n,r={}){yV(t,e,n,r)}function EV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new wV(n,r,o,e,ga)}function bV(){oa(new lo(vC,EV,"PUBLIC").setMultipleInstances(!0)),Ei(sE,oE,""),Ei(sE,oE,"esm2020")}bV();function By({usuario:t,openModal:e,setOpenModal:n}){const r=wa(),o=wo();vV();const a=t?.fotoPerfil||Gr,[c,h]=S.useState(!1),[p,y]=S.useState(!1),[w,E]=S.useState(a),[b,x]=S.useState(null),[D,j]=S.useState(t.nick),[O,W]=S.useState(t.correo),[z,K]=S.useState(""),[Z,ce]=S.useState(!1),[se,R]=S.useState(""),[C,I]=S.useState(""),N=S.useRef();S.useEffect(()=>{e&&(E(t.fotoPerfil),x(null),j(t.nick),W(t.correo),K(""),R(t.nick),I(t.correo))},[e,t]),S.useEffect(()=>{const te=D!==se||O!==C||z.length>0||b!==null;y(te)},[D,O,z,b,se,C]);const V=te=>{te.target===N.current&&n(!1)},$=te=>{if(!te)return"";const X=10,ue=te.indexOf(" ");let oe;return ue!==-1&&ue<=X?(oe=ue,te.slice(0,oe)+"..."):te.length>X?(oe=X-3,te.slice(0,oe)+"..."):te},k=te=>{const X=te.target.files[0];if(!X)return;x(X);const ue=new FileReader;ue.onloadend=()=>E(ue.result),ue.readAsDataURL(X)},ge=async()=>{try{ce(!0);const te=r.currentUser;let X=t.fotoPerfil;if(b){if(b.size>1*1024*1024){await bn.fire({icon:"error",title:"Error",text:"La imagen es demasiado grande (máx. 1 MB)."});return}const oe=new FormData;oe.append("file",b),oe.append("upload_preset","perfil_preset");const Ee=await(await fetch("https://api.cloudinary.com/v1_1/drmoefeeq/image/upload",{method:"POST",body:oe})).json();if(Ee.secure_url)X=Ee.secure_url;else{bn.fire({icon:"error",title:"Error",text:"Error subiendo a Cloudinary"});return}}D!==t.nick&&await y1(te,{displayName:D}),z&&await Kk(te,z);const ue=Cn(o,"usuarios",te.uid);await ea(ue,{fotoPerfil:X,nick:D}),await bn.fire("Datos actualizados","Se han guardado sus modificaciones correctamente.","success")}catch(te){console.error("Error guardando perfil:",te),alert("No se pudo guardar los cambios: "+te.message)}finally{ce(!1),window.location.reload()}},Te=async()=>{const te=r.currentUser;if(!te)throw new Error("No hay usuario autenticado.");const X=te.uid;if(te.providerData[0].providerId==="password"){const{value:fe}=await bn.fire({title:"Confirma tu contraseña",input:"password",inputLabel:"Introduce tu contraseña para continuar",inputPlaceholder:"Tu contraseña",inputAttributes:{autocapitalize:"off",autocorrect:"off"},showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"});if(!fe)throw new Error("Se canceló la reautenticación");const Ee=ya.credential(te.email,fe);await zk(te,Ee)}else if(te.providerData[0].providerId==="google.com"){const fe=new _i;await _2(te,fe)}else throw new Error("Proveedor no soportado para reautenticación.");const ue=sT(Ah(o,"jugadores"),oT("dueños","array-contains",X)),M=(await xh(ue)).docs.map(async fe=>{const Ee=fe.ref;await ea(Ee,{stockLibre:SN(1),dueños:IN(X)})});await Promise.all(M);const G=Cn(o,"usuarios",X);await bN(G),await Zk(te)},he=async()=>{if((await bn.fire({title:"¿Estás seguro?",text:"Esta acción eliminará tu cuenta permanentemente. No podrás deshacerlo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, borrar cuenta",cancelButtonText:"Cancelar"})).isConfirmed)try{ce(!0),await Te(),await bn.fire("Cuenta eliminada","Tu cuenta ha sido borrada exitosamente.","success")}catch(X){console.error("Error al borrar la cuenta:",X),bn.fire("Error","No se pudo borrar la cuenta: "+X.message,"error")}finally{ce(!1)}};return e?P.jsx("div",{className:"modal-overlay",ref:N,onClick:V,children:P.jsxs("div",{className:"modal-perfil",children:[P.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),P.jsxs("div",{className:"modal-header",children:[P.jsxs("label",{className:"modal-avatar",children:[P.jsx("img",{src:w,alt:"Avatar"}),P.jsx("input",{type:"file",accept:"image/*",onChange:k})]}),P.jsxs("div",{className:"modal-userinfo",children:[P.jsx("h2",{children:window.innerWidth<450?$(t.nick):t.nick}),P.jsx("small",{children:t.correo})]})]}),P.jsx("hr",{}),P.jsxs("div",{className:"modal-body",children:[P.jsxs("div",{className:"field-group",children:[P.jsxs("label",{children:["Nick ",P.jsx("small",{children:"(Recomendado máximo 10 caracteres)"})]}),P.jsxs("div",{className:"field-with-icon",children:[P.jsx("input",{type:"text",value:D,onChange:te=>j(te.target.value),disabled:!c}),P.jsx("button",{className:"icon-pencil",onClick:()=>h(!c),title:"Editar nick",children:"✎"})]})]}),P.jsxs("div",{className:"field-group",children:[P.jsx("label",{children:"Correo"}),P.jsx("input",{type:"email",value:O,onChange:te=>W(te.target.value),disabled:!0})]}),P.jsxs("div",{className:"field-group",children:[P.jsx("label",{children:"Nueva contraseña"}),P.jsx("input",{type:"password",placeholder:"••••••••",value:z,onChange:te=>K(te.target.value)})]})]}),P.jsxs("div",{className:"modal-footer",children:[p&&P.jsx("button",{className:"modal-save-btn",onClick:ge,disabled:Z,children:Z?"Guardando…":"Guardar cambios"}),P.jsx("button",{className:"modal-delete-btn",onClick:he,disabled:Z,children:"Borrar cuenta"})]})]})}):null}const Qo=wo(dr),aE=wa(dr);function TV({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,c]=S.useState(!1),h=t?.fotoPerfil||Gr,p=t?.equipo?.titulares||[];t?.equipo?.banquillo;const[y,w]=S.useState([]),E=t?.equipo?.capitan||"",b=Object.keys(lg),[x,D]=S.useState(t?.equipo?.formacion||"2-1-1"),[j,O]=S.useState(x),[W,z]=S.useState(!1),[K,Z]=S.useState(t?.equipocreado),[ce,se]=S.useState(!1),[R,C]=S.useState(!1),I=S.useRef(null),N=()=>xg(aE);S.useEffect(()=>{const he=te=>{I.current&&!I.current.contains(te.target)&&C(!1)};return document.addEventListener("mousedown",he),()=>{document.removeEventListener("mousedown",he)}},[]);const V=he=>{O(he.target.value)},$=async()=>{try{z(!0);const he=Cn(Qo,"usuarios",t.uid);await ea(he,{"equipo.formacion":j}),D(j)}catch(he){console.error("Error al guardar formación:",he)}finally{z(!1)}},k=()=>{c(!a)},ge=he=>he>=1e6?(he/1e6).toFixed(2)+"M":he>=1e3?(he/1e3).toFixed(2)+"K":he.toFixed(2),Te=async()=>{try{z(!0);const he=await xh(Ah(Qo,"jugadores"));let te=[];if(he.forEach(M=>{const G=M.data();G.stockLibre>0&&te.push({id:M.id,...G})}),console.log(te.length),te.length<4){alert("No hay suficientes jugadores disponibles"),z(!1);return}let X=[];for(let M=0;M<4;M++){const G=Math.floor(Math.random()*te.length);X.push(te[G]),te.splice(G,1)}const ue=X.map(async M=>{const G=Cn(Qo,"jugadores",M.id);return ea(G,{stockLibre:M.stockLibre-1,dueños:CN(t.uid)})});await Promise.all(ue);const oe=Cn(Qo,"usuarios",t.uid);await ea(oe,{"equipo.titulares":X.map(M=>M.id),equipocreado:!0}),Z(!0)}catch(he){console.error("Error al crear equipo:",he)}finally{z(!1),window.location.reload()}};return S.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const te=setTimeout(async()=>{try{const X=Cn(Qo,"usuarios",aE.currentUser.uid);await ea(X,{onboarding:!0}),window.location.reload()}catch(X){console.error("Error actualizando onboarding:",X)}},500);return()=>clearTimeout(te)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const te=Cn(Qo,"usuarios",t.uid);oo(te).then(X=>{X.exists()&&o(X.data().dinero)})}(async()=>{if(!p||p.length===0)return;const te=Ah(Qo,"jugadores"),X=sT(te,oT("__name__","in",p)),oe=(await xh(X)).docs.map(M=>({id:M.id,...M.data()}));w(oe)})()},[t],[p]),K?P.jsxs("div",{children:[P.jsxs("header",{className:"Cabecera",children:[P.jsxs("div",{className:"container-profile",children:[P.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[P.jsx("img",{src:h,onError:he=>{he.currentTarget.onerror=null,he.currentTarget.src=Gr},alt:"Foto de perfil",onClick:()=>C(!R),onMouseEnter:()=>C(!0)}),R&&P.jsxs("div",{className:"perfil-bocadillo",ref:I,onMouseLeave:()=>C(!1),children:[P.jsx("div",{className:"triangulo"}),P.jsx("button",{className:"btn-perfil",onClick:()=>{se(!0),C(!1)},children:"👤 Perfil"}),P.jsx("button",{className:"btn-logout",onClick:N,children:"➜] Cerrar sesión"})]})]}),P.jsxs("div",{className:"info-profile",children:[P.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&P.jsxs("p",{className:"dinero-usuario",children:["💰",P.jsx("strong",{children:ge(r)})]})]})]}),P.jsx("button",{onClick:k,className:"Cabecera-button",children:P.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:P.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),P.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:P.jsxs("ul",{className:"Cabecera-ul",children:[P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),P.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${xl})`},children:[P.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),ce&&P.jsx(By,{usuario:t,openModal:ce,setOpenModal:se}),P.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[P.jsxs("div",{className:"formacion-selector",children:[P.jsx("label",{htmlFor:"formacion-select",children:"Formación:"}),P.jsx("select",{id:"formacion-select",value:j,onChange:V,children:b.map(he=>P.jsx("option",{value:he,children:he},he))}),j!==x&&P.jsx("button",{onClick:$,disabled:W,children:W?"Guardando...":"Guardar cambios"})]}),P.jsx("div",{className:"campo",children:lg[j]?.map((he,te)=>{const X=p[te],ue=y.find(oe=>oe.id===X);return P.jsxs("div",{className:"jugador",style:{position:"absolute",top:he.top,left:he.left,transform:"translate(-50%, -50%)"},children:[P.jsxs("div",{className:"jugador-wrapper",children:[P.jsx("img",{src:ue?.foto||Gr,alt:ue?.nombre||"Vacío",className:"jugador-img"}),E===ue?.id&&P.jsx("div",{className:"capitan-badge",children:"C"})]}),P.jsx("p",{className:"jugador-nombre",children:ue?.nombre||"Vacío"})]},ue?.id||te)})})]})]}),e&&P.jsx("div",{className:"onboarding-overlay",children:P.jsx("div",{className:"loader",children:"Cargando..."})})]}):P.jsxs("div",{children:[P.jsxs("header",{className:"Cabecera",children:[P.jsxs("div",{className:"container-profile",children:[P.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[P.jsx("img",{src:h,onError:he=>{he.currentTarget.onerror=null,he.currentTarget.src=Gr},alt:"Foto de perfil",onClick:()=>C(!R),onMouseEnter:()=>C(!0)}),R&&P.jsxs("div",{className:"perfil-bocadillo",ref:I,onMouseLeave:()=>C(!1),children:[P.jsx("div",{className:"triangulo"}),P.jsx("button",{className:"btn-perfil",onClick:()=>{se(!0),C(!1)},children:"👤 Perfil"}),P.jsx("button",{className:"btn-logout",onClick:N,children:"➜] Cerrar sesión"})]})]}),P.jsxs("div",{className:"info-profile",children:[P.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&P.jsxs("p",{className:"dinero-usuario",children:["💰",P.jsx("strong",{children:ge(r)})]})]})]}),P.jsx("button",{onClick:k,className:"Cabecera-button",children:P.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:P.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),P.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:P.jsxs("ul",{className:"Cabecera-ul",children:[P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),P.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${xl})`},children:[P.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),P.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:P.jsx("div",{className:"campo",children:P.jsx("button",{className:"crear-equipo-btn",onClick:Te,disabled:W,children:W?"Creando equipo...":"Crear equipo"})})})]}),e&&P.jsx("div",{className:"onboarding-overlay",children:P.jsx("div",{className:"loader",children:"Cargando..."})})]})}const lE="/Fantasy-Casadillos/assets/SinPerfil-HNB6URqh.jpg",CV=wo(dr);wa(dr);function IV({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,c]=S.useState(!1),h=t?.fotoPerfil||lE,p=()=>{c(!a)},y=E=>E>=1e6?(E/1e6).toFixed(2)+"M":E>=1e3?(E/1e3).toFixed(2)+"K":E.toFixed(2),w=E=>{if(!E)return"";const b=12,x=E.indexOf(" ");let D;return x!==-1&&x<=b?(D=x,E.slice(0,D)):E.length>b?(D=b-3,E.slice(0,D)+"..."):E};return S.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const E=Cn(CV,"usuarios",t.uid);oo(E).then(b=>{b.exists()&&o(b.data().dinero)})}},[t]),P.jsxs("div",{children:[P.jsxs("header",{className:"Cabecera",children:[P.jsxs("div",{className:"container-profile",children:[P.jsx("div",{className:"img-profile-small",children:P.jsx("img",{src:h,onError:E=>{E.currentTarget.onerror=null,E.currentTarget.src=lE},alt:"Foto de perfil"})}),P.jsxs("div",{className:"info-profile",children:[P.jsx("h2",{className:"nombre-usuario",children:w(t?.nick||t?.displayName)}),r!==null&&P.jsxs("p",{className:"dinero-usuario",children:["💰",P.jsx("strong",{children:y(r)})]})]})]}),P.jsx("button",{onClick:p,className:"Cabecera-button",children:P.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:P.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),P.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:P.jsxs("ul",{className:"Cabecera-ul",children:[P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),P.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${xl})`},children:[P.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),P.jsx("div",{className:"form-card-Home",style:{textAlign:"center",position:"relative",zIndex:1}})]}),P.jsxs("div",{className:"contenido-negro",children:[P.jsx("h2",{children:"Contenido debajo del fondo"}),P.jsx("p",{children:"Aquí puedes seguir añadiendo secciones."})]})]})}var In=function(){return In=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},In.apply(this,arguments)};function Hh(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var ht="-ms-",qu="-moz-",tt="-webkit-",_C="comm",Rf="rule",zy="decl",SV="@import",EC="@keyframes",RV="@layer",bC=Math.abs,Hy=String.fromCharCode,ug=Object.assign;function kV(t,e){return rn(t,0)^45?(((e<<2^rn(t,0))<<2^rn(t,1))<<2^rn(t,2))<<2^rn(t,3):0}function TC(t){return t.trim()}function ns(t,e){return(t=e.exec(t))?t[0]:t}function je(t,e,n){return t.replace(e,n)}function ih(t,e,n){return t.indexOf(e,n)}function rn(t,e){return t.charCodeAt(e)|0}function Nl(t,e,n){return t.slice(e,n)}function vi(t){return t.length}function CC(t){return t.length}function ju(t,e){return e.push(t),t}function AV(t,e){return t.map(e).join("")}function uE(t,e){return t.filter(function(n){return!ns(n,e)})}var kf=1,Ol=1,IC=0,Or=0,Bt=0,Xl="";function Af(t,e,n,r,o,a,c,h){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:kf,column:Ol,length:c,return:"",siblings:h}}function Gs(t,e){return ug(Af("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ll(t){for(;t.root;)t=Gs(t.root,{children:[t]});ju(t,t.siblings)}function PV(){return Bt}function xV(){return Bt=Or>0?rn(Xl,--Or):0,Ol--,Bt===10&&(Ol=1,kf--),Bt}function Yr(){return Bt=Or<IC?rn(Xl,Or++):0,Ol++,Bt===10&&(Ol=1,kf++),Bt}function ia(){return rn(Xl,Or)}function sh(){return Or}function Pf(t,e){return Nl(Xl,t,e)}function cg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NV(t){return kf=Ol=1,IC=vi(Xl=t),Or=0,[]}function OV(t){return Xl="",t}function Im(t){return TC(Pf(Or-1,dg(t===91?t+2:t===40?t+1:t)))}function DV(t){for(;(Bt=ia())&&Bt<33;)Yr();return cg(t)>2||cg(Bt)>3?"":" "}function LV(t,e){for(;--e&&Yr()&&!(Bt<48||Bt>102||Bt>57&&Bt<65||Bt>70&&Bt<97););return Pf(t,sh()+(e<6&&ia()==32&&Yr()==32))}function dg(t){for(;Yr();)switch(Bt){case t:return Or;case 34:case 39:t!==34&&t!==39&&dg(Bt);break;case 40:t===41&&dg(t);break;case 92:Yr();break}return Or}function VV(t,e){for(;Yr()&&t+Bt!==57;)if(t+Bt===84&&ia()===47)break;return"/*"+Pf(e,Or-1)+"*"+Hy(t===47?t:Yr())}function MV(t){for(;!cg(ia());)Yr();return Pf(t,Or)}function FV(t){return OV(oh("",null,null,null,[""],t=NV(t),0,[0],t))}function oh(t,e,n,r,o,a,c,h,p){for(var y=0,w=0,E=c,b=0,x=0,D=0,j=1,O=1,W=1,z=0,K="",Z=o,ce=a,se=r,R=K;O;)switch(D=z,z=Yr()){case 40:if(D!=108&&rn(R,E-1)==58){ih(R+=je(Im(z),"&","&\f"),"&\f",bC(y?h[y-1]:0))!=-1&&(W=-1);break}case 34:case 39:case 91:R+=Im(z);break;case 9:case 10:case 13:case 32:R+=DV(D);break;case 92:R+=LV(sh()-1,7);continue;case 47:switch(ia()){case 42:case 47:ju(jV(VV(Yr(),sh()),e,n,p),p);break;default:R+="/"}break;case 123*j:h[y++]=vi(R)*W;case 125*j:case 59:case 0:switch(z){case 0:case 125:O=0;case 59+w:W==-1&&(R=je(R,/\f/g,"")),x>0&&vi(R)-E&&ju(x>32?dE(R+";",r,n,E-1,p):dE(je(R," ","")+";",r,n,E-2,p),p);break;case 59:R+=";";default:if(ju(se=cE(R,e,n,y,w,o,h,K,Z=[],ce=[],E,a),a),z===123)if(w===0)oh(R,e,se,se,Z,a,E,h,ce);else switch(b===99&&rn(R,3)===110?100:b){case 100:case 108:case 109:case 115:oh(t,se,se,r&&ju(cE(t,se,se,0,0,o,h,K,o,Z=[],E,ce),ce),o,ce,E,h,r?Z:ce);break;default:oh(R,se,se,se,[""],ce,0,h,ce)}}y=w=x=0,j=W=1,K=R="",E=c;break;case 58:E=1+vi(R),x=D;default:if(j<1){if(z==123)--j;else if(z==125&&j++==0&&xV()==125)continue}switch(R+=Hy(z),z*j){case 38:W=w>0?1:(R+="\f",-1);break;case 44:h[y++]=(vi(R)-1)*W,W=1;break;case 64:ia()===45&&(R+=Im(Yr())),b=ia(),w=E=vi(K=R+=MV(sh())),z++;break;case 45:D===45&&vi(R)==2&&(j=0)}}return a}function cE(t,e,n,r,o,a,c,h,p,y,w,E){for(var b=o-1,x=o===0?a:[""],D=CC(x),j=0,O=0,W=0;j<r;++j)for(var z=0,K=Nl(t,b+1,b=bC(O=c[j])),Z=t;z<D;++z)(Z=TC(O>0?x[z]+" "+K:je(K,/&\f/g,x[z])))&&(p[W++]=Z);return Af(t,e,n,o===0?Rf:h,p,y,w,E)}function jV(t,e,n,r){return Af(t,e,n,_C,Hy(PV()),Nl(t,2,-2),0,r)}function dE(t,e,n,r,o){return Af(t,e,n,zy,Nl(t,0,r),Nl(t,r+1,-1),r,o)}function SC(t,e,n){switch(kV(t,e)){case 5103:return tt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+t+t;case 4789:return qu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+t+qu+t+ht+t+t;case 5936:switch(rn(t,e+11)){case 114:return tt+t+ht+je(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return tt+t+ht+je(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return tt+t+ht+je(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return tt+t+ht+t+t;case 6165:return tt+t+ht+"flex-"+t+t;case 5187:return tt+t+je(t,/(\w+).+(:[^]+)/,tt+"box-$1$2"+ht+"flex-$1$2")+t;case 5443:return tt+t+ht+"flex-item-"+je(t,/flex-|-self/g,"")+(ns(t,/flex-|baseline/)?"":ht+"grid-row-"+je(t,/flex-|-self/g,""))+t;case 4675:return tt+t+ht+"flex-line-pack"+je(t,/align-content|flex-|-self/g,"")+t;case 5548:return tt+t+ht+je(t,"shrink","negative")+t;case 5292:return tt+t+ht+je(t,"basis","preferred-size")+t;case 6060:return tt+"box-"+je(t,"-grow","")+tt+t+ht+je(t,"grow","positive")+t;case 4554:return tt+je(t,/([^-])(transform)/g,"$1"+tt+"$2")+t;case 6187:return je(je(je(t,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),t,"")+t;case 5495:case 3959:return je(t,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return je(je(t,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+ht+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+t+t;case 4200:if(!ns(t,/flex-|baseline/))return ht+"grid-column-align"+Nl(t,e)+t;break;case 2592:case 3360:return ht+je(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,ns(r.props,/grid-\w+-end/)})?~ih(t+(n=n[e].value),"span",0)?t:ht+je(t,"-start","")+t+ht+"grid-row-span:"+(~ih(n,"span",0)?ns(n,/\d+/):+ns(n,/\d+/)-+ns(t,/\d+/))+";":ht+je(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ns(r.props,/grid-\w+-start/)})?t:ht+je(je(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return je(t,/(.+)-inline(.+)/,tt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vi(t)-1-e>6)switch(rn(t,e+1)){case 109:if(rn(t,e+4)!==45)break;case 102:return je(t,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+qu+(rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ih(t,"stretch",0)?SC(je(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return je(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,a,c,h,p,y){return ht+o+":"+a+y+(c?ht+o+"-span:"+(h?p:+p-+a)+y:"")+t});case 4949:if(rn(t,e+6)===121)return je(t,":",":"+tt)+t;break;case 6444:switch(rn(t,rn(t,14)===45?18:11)){case 120:return je(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+tt+(rn(t,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+ht+"$2box$3")+t;case 100:return je(t,":",":"+ht)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return je(t,"scroll-","scroll-snap-")+t}return t}function Wh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function $V(t,e,n,r){switch(t.type){case RV:if(t.children.length)break;case SV:case zy:return t.return=t.return||t.value;case _C:return"";case EC:return t.return=t.value+"{"+Wh(t.children,r)+"}";case Rf:if(!vi(t.value=t.props.join(",")))return""}return vi(n=Wh(t.children,r))?t.return=t.value+"{"+n+"}":""}function UV(t){var e=CC(t);return function(n,r,o,a){for(var c="",h=0;h<e;h++)c+=t[h](n,r,o,a)||"";return c}}function BV(t){return function(e){e.root||(e=e.return)&&t(e)}}function zV(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case zy:t.return=SC(t.value,t.length,n);return;case EC:return Wh([Gs(t,{value:je(t.value,"@","@"+tt)})],r);case Rf:if(t.length)return AV(n=t.props,function(o){switch(ns(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ll(Gs(t,{props:[je(o,/:(read-\w+)/,":"+qu+"$1")]})),ll(Gs(t,{props:[o]})),ug(t,{props:uE(n,r)});break;case"::placeholder":ll(Gs(t,{props:[je(o,/:(plac\w+)/,":"+tt+"input-$1")]})),ll(Gs(t,{props:[je(o,/:(plac\w+)/,":"+qu+"$1")]})),ll(Gs(t,{props:[je(o,/:(plac\w+)/,ht+"input-$1")]})),ll(Gs(t,{props:[o]})),ug(t,{props:uE(n,r)});break}return""})}}var HV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lr={},Dl=typeof process<"u"&&lr!==void 0&&(lr.REACT_APP_SC_ATTR||lr.SC_ATTR)||"data-styled",RC="active",kC="data-styled-version",xf="6.1.19",Wy=`/*!sc*/
`,qh=typeof window<"u"&&typeof document<"u",WV=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&lr!==void 0&&lr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&lr.REACT_APP_SC_DISABLE_SPEEDY!==""?lr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&lr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&lr!==void 0&&lr.SC_DISABLE_SPEEDY!==void 0&&lr.SC_DISABLE_SPEEDY!==""&&lr.SC_DISABLE_SPEEDY!=="false"&&lr.SC_DISABLE_SPEEDY),Nf=Object.freeze([]),Ll=Object.freeze({});function qV(t,e,n){return n===void 0&&(n=Ll),t.theme!==n.theme&&t.theme||e||n.theme}var AC=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),GV=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,KV=/(^-|-$)/g;function hE(t){return t.replace(GV,"-").replace(KV,"")}var QV=/(a)(d)/gi,Ud=52,fE=function(t){return String.fromCharCode(t+(t>25?39:97))};function hg(t){var e,n="";for(e=Math.abs(t);e>Ud;e=e/Ud|0)n=fE(e%Ud)+n;return(fE(e%Ud)+n).replace(QV,"$1-$2")}var Sm,PC=5381,fl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},xC=function(t){return fl(PC,t)};function YV(t){return hg(xC(t)>>>0)}function XV(t){return t.displayName||t.name||"Component"}function Rm(t){return typeof t=="string"&&!0}var NC=typeof Symbol=="function"&&Symbol.for,OC=NC?Symbol.for("react.memo"):60115,JV=NC?Symbol.for("react.forward_ref"):60112,ZV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},DC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tM=((Sm={})[JV]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sm[OC]=DC,Sm);function pE(t){return("type"in(e=t)&&e.type.$$typeof)===OC?DC:"$$typeof"in t?tM[t.$$typeof]:ZV;var e}var nM=Object.defineProperty,rM=Object.getOwnPropertyNames,mE=Object.getOwnPropertySymbols,iM=Object.getOwnPropertyDescriptor,sM=Object.getPrototypeOf,gE=Object.prototype;function LC(t,e,n){if(typeof e!="string"){if(gE){var r=sM(e);r&&r!==gE&&LC(t,r,n)}var o=rM(e);mE&&(o=o.concat(mE(e)));for(var a=pE(t),c=pE(e),h=0;h<o.length;++h){var p=o[h];if(!(p in eM||n&&n[p]||c&&p in c||a&&p in a)){var y=iM(e,p);try{nM(t,p,y)}catch{}}}}return t}function fa(t){return typeof t=="function"}function qy(t){return typeof t=="object"&&"styledComponentId"in t}function ta(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function yE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function rc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function fg(t,e,n){if(n===void 0&&(n=!1),!n&&!rc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=fg(t[r],e[r]);else if(rc(e))for(var r in e)t[r]=fg(t[r],e[r]);return t}function Gy(t,e){Object.defineProperty(t,"toString",{value:e})}function pa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var oM=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,a=o;e>=a;)if((a<<=1)<0)throw pa(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var c=o;c<a;c++)this.groupSizes[c]=0}for(var h=this.indexOfGroup(e+1),p=(c=0,n.length);c<p;c++)this.tag.insertRule(h,n[c])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var a=r;a<o;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),a=o+r,c=o;c<a;c++)n+="".concat(this.tag.getRule(c)).concat(Wy);return n},t})(),ah=new Map,Gh=new Map,lh=1,Bd=function(t){if(ah.has(t))return ah.get(t);for(;Gh.has(lh);)lh++;var e=lh++;return ah.set(t,e),Gh.set(e,t),e},aM=function(t,e){lh=e+1,ah.set(t,e),Gh.set(e,t)},lM="style[".concat(Dl,"][").concat(kC,'="').concat(xf,'"]'),uM=new RegExp("^".concat(Dl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),cM=function(t,e,n){for(var r,o=n.split(","),a=0,c=o.length;a<c;a++)(r=o[a])&&t.registerName(e,r)},dM=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Wy),o=[],a=0,c=r.length;a<c;a++){var h=r[a].trim();if(h){var p=h.match(uM);if(p){var y=0|parseInt(p[1],10),w=p[2];y!==0&&(aM(w,y),cM(t,w,p[3]),t.getTag().insertRules(y,o)),o.length=0}else o.push(h)}}},wE=function(t){for(var e=document.querySelectorAll(lM),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute(Dl)!==RC&&(dM(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function hM(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var VC=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=(function(h){var p=Array.from(h.querySelectorAll("style[".concat(Dl,"]")));return p[p.length-1]})(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(Dl,RC),r.setAttribute(kC,xf);var c=hM();return c&&r.setAttribute("nonce",c),n.insertBefore(r,a),r},fM=(function(){function t(e){this.element=VC(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,a=r.length;o<a;o++){var c=r[o];if(c.ownerNode===n)return c}throw pa(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),pM=(function(){function t(e){this.element=VC(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),mM=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),vE=qh,gM={isServer:!qh,useCSSOMInjection:!WV},MC=(function(){function t(e,n,r){e===void 0&&(e=Ll),n===void 0&&(n={});var o=this;this.options=In(In({},gM),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&qh&&vE&&(vE=!1,wE(this)),Gy(this,function(){return(function(a){for(var c=a.getTag(),h=c.length,p="",y=function(E){var b=(function(W){return Gh.get(W)})(E);if(b===void 0)return"continue";var x=a.names.get(b),D=c.getGroup(E);if(x===void 0||!x.size||D.length===0)return"continue";var j="".concat(Dl,".g").concat(E,'[id="').concat(b,'"]'),O="";x!==void 0&&x.forEach(function(W){W.length>0&&(O+="".concat(W,","))}),p+="".concat(D).concat(j,'{content:"').concat(O,'"}').concat(Wy)},w=0;w<h;w++)y(w);return p})(o)})}return t.registerId=function(e){return Bd(e)},t.prototype.rehydrate=function(){!this.server&&qh&&wE(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(In(In({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new mM(o):r?new fM(o):new pM(o)})(this.options),new oM(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Bd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Bd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Bd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),yM=/&/g,wM=/^\s*\/\/.*$/gm;function FC(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=FC(n.children,e)),n})}function vM(t){var e,n,r,o=Ll,a=o.options,c=a===void 0?Ll:a,h=o.plugins,p=h===void 0?Nf:h,y=function(b,x,D){return D.startsWith(n)&&D.endsWith(n)&&D.replaceAll(n,"").length>0?".".concat(e):b},w=p.slice();w.push(function(b){b.type===Rf&&b.value.includes("&")&&(b.props[0]=b.props[0].replace(yM,n).replace(r,y))}),c.prefix&&w.push(zV),w.push($V);var E=function(b,x,D,j){x===void 0&&(x=""),D===void 0&&(D=""),j===void 0&&(j="&"),e=j,n=x,r=new RegExp("\\".concat(n,"\\b"),"g");var O=b.replace(wM,""),W=FV(D||x?"".concat(D," ").concat(x," { ").concat(O," }"):O);c.namespace&&(W=FC(W,c.namespace));var z=[];return Wh(W,UV(w.concat(BV(function(K){return z.push(K)})))),z};return E.hash=p.length?p.reduce(function(b,x){return x.name||pa(15),fl(b,x.name)},PC).toString():"",E}var _M=new MC,pg=vM(),jC=Ue.createContext({shouldForwardProp:void 0,styleSheet:_M,stylis:pg});jC.Consumer;Ue.createContext(void 0);function _E(){return S.useContext(jC)}var EM=(function(){function t(e,n){var r=this;this.inject=function(o,a){a===void 0&&(a=pg);var c=r.name+a.hash;o.hasNameForId(r.id,c)||o.insertRules(r.id,c,a(r.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Gy(this,function(){throw pa(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=pg),this.name+e.hash},t})(),bM=function(t){return t>="A"&&t<="Z"};function EE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;bM(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var $C=function(t){return t==null||t===!1||t===""},UC=function(t){var e,n,r=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!$C(a)&&(Array.isArray(a)&&a.isCss||fa(a)?r.push("".concat(EE(o),":"),a,";"):rc(a)?r.push.apply(r,Hh(Hh(["".concat(o," {")],UC(a),!1),["}"],!1)):r.push("".concat(EE(o),": ").concat((e=o,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in HV||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function sa(t,e,n,r){if($C(t))return[];if(qy(t))return[".".concat(t.styledComponentId)];if(fa(t)){if(!fa(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var o=t(e);return sa(o,e,n,r)}var a;return t instanceof EM?n?(t.inject(n,r),[t.getName(r)]):[t]:rc(t)?UC(t):Array.isArray(t)?Array.prototype.concat.apply(Nf,t.map(function(c){return sa(c,e,n,r)})):[t.toString()]}function TM(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(fa(n)&&!qy(n))return!1}return!0}var CM=xC(xf),IM=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&TM(e),this.componentId=n,this.baseHash=fl(CM,n),this.baseStyle=r,MC.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=ta(o,this.staticRulesId);else{var a=yE(sa(this.rules,e,n,r)),c=hg(fl(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,c)){var h=r(a,".".concat(c),void 0,this.componentId);n.insertRules(this.componentId,c,h)}o=ta(o,c),this.staticRulesId=c}else{for(var p=fl(this.baseHash,r.hash),y="",w=0;w<this.rules.length;w++){var E=this.rules[w];if(typeof E=="string")y+=E;else if(E){var b=yE(sa(E,e,n,r));p=fl(p,b+w),y+=b}}if(y){var x=hg(p>>>0);n.hasNameForId(this.componentId,x)||n.insertRules(this.componentId,x,r(y,".".concat(x),void 0,this.componentId)),o=ta(o,x)}}return o},t})(),Kh=Ue.createContext(void 0);Kh.Consumer;function SM(t){var e=Ue.useContext(Kh),n=S.useMemo(function(){return(function(r,o){if(!r)throw pa(14);if(fa(r)){var a=r(o);return a}if(Array.isArray(r)||typeof r!="object")throw pa(8);return o?In(In({},o),r):r})(t.theme,e)},[t.theme,e]);return t.children?Ue.createElement(Kh.Provider,{value:n},t.children):null}var km={};function RM(t,e,n){var r=qy(t),o=t,a=!Rm(t),c=e.attrs,h=c===void 0?Nf:c,p=e.componentId,y=p===void 0?(function(Z,ce){var se=typeof Z!="string"?"sc":hE(Z);km[se]=(km[se]||0)+1;var R="".concat(se,"-").concat(YV(xf+se+km[se]));return ce?"".concat(ce,"-").concat(R):R})(e.displayName,e.parentComponentId):p,w=e.displayName,E=w===void 0?(function(Z){return Rm(Z)?"styled.".concat(Z):"Styled(".concat(XV(Z),")")})(t):w,b=e.displayName&&e.componentId?"".concat(hE(e.displayName),"-").concat(e.componentId):e.componentId||y,x=r&&o.attrs?o.attrs.concat(h).filter(Boolean):h,D=e.shouldForwardProp;if(r&&o.shouldForwardProp){var j=o.shouldForwardProp;if(e.shouldForwardProp){var O=e.shouldForwardProp;D=function(Z,ce){return j(Z,ce)&&O(Z,ce)}}else D=j}var W=new IM(n,b,r?o.componentStyle:void 0);function z(Z,ce){return(function(se,R,C){var I=se.attrs,N=se.componentStyle,V=se.defaultProps,$=se.foldedComponentIds,k=se.styledComponentId,ge=se.target,Te=Ue.useContext(Kh),he=_E(),te=se.shouldForwardProp||he.shouldForwardProp,X=qV(R,Te,V)||Ll,ue=(function(Ne,Oe,Fe){for(var Me,$e=In(In({},Oe),{className:void 0,theme:Fe}),ot=0;ot<Ne.length;ot+=1){var Et=fa(Me=Ne[ot])?Me($e):Me;for(var bt in Et)$e[bt]=bt==="className"?ta($e[bt],Et[bt]):bt==="style"?In(In({},$e[bt]),Et[bt]):Et[bt]}return Oe.className&&($e.className=ta($e.className,Oe.className)),$e})(I,R,X),oe=ue.as||ge,M={};for(var G in ue)ue[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&ue.theme===X||(G==="forwardedAs"?M.as=ue.forwardedAs:te&&!te(G,oe)||(M[G]=ue[G]));var fe=(function(Ne,Oe){var Fe=_E(),Me=Ne.generateAndInjectStyles(Oe,Fe.styleSheet,Fe.stylis);return Me})(N,ue),Ee=ta($,k);return fe&&(Ee+=" "+fe),ue.className&&(Ee+=" "+ue.className),M[Rm(oe)&&!AC.has(oe)?"class":"className"]=Ee,C&&(M.ref=C),S.createElement(oe,M)})(K,Z,ce)}z.displayName=E;var K=Ue.forwardRef(z);return K.attrs=x,K.componentStyle=W,K.displayName=E,K.shouldForwardProp=D,K.foldedComponentIds=r?ta(o.foldedComponentIds,o.styledComponentId):"",K.styledComponentId=b,K.target=r?o.target:t,Object.defineProperty(K,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Z){this._foldedDefaultProps=r?(function(ce){for(var se=[],R=1;R<arguments.length;R++)se[R-1]=arguments[R];for(var C=0,I=se;C<I.length;C++)fg(ce,I[C],!0);return ce})({},o.defaultProps,Z):Z}}),Gy(K,function(){return".".concat(K.styledComponentId)}),a&&LC(K,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),K}function bE(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var TE=function(t){return Object.assign(t,{isCss:!0})};function Xt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fa(t)||rc(t))return TE(sa(bE(Nf,Hh([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?sa(r):TE(sa(bE(r,e)))}function mg(t,e,n){if(n===void 0&&(n=Ll),!e)throw pa(1,e);var r=function(o){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];return t(e,n,Xt.apply(void 0,Hh([o],a,!1)))};return r.attrs=function(o){return mg(t,e,In(In({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return mg(t,e,In(In({},n),o))},r}var BC=function(t){return mg(RM,t)},He=BC;AC.forEach(function(t){He[t]=BC(t)});var ao;function Vl(t,e){return t[e]}function kM(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function AM(t=[],e,n="id"){const r=t.slice(),o=Vl(e,n);return o?r.splice(r.findIndex((a=>Vl(a,n)===o)),1):r.splice(r.findIndex((a=>a===e)),1),r}function CE(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function Gu(t,e){return Math.ceil(t/e)}function Am(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(ao||(ao={}));const Qt=()=>null;function zC(t,e=[],n=[]){let r={},o=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(o=[...o,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:o.join(" ")}}function uh(t,e=[],n="id"){const r=Vl(t,n);return r?e.some((o=>Vl(o,n)===r)):e.some((o=>o===t))}function zd(t,e){return e?t.findIndex((n=>Ku(n.id,e))):-1}function Ku(t,e){return t==e}function PM(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:o,rowCount:a,mergeSelections:c}=e,h=!t.allSelected,p=!t.toggleOnSelectedRowsChange;if(c){const y=h?[...t.selectedRows,...o.filter((w=>!uh(w,t.selectedRows,r)))]:t.selectedRows.filter((w=>!uh(w,o,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:y.length,selectedRows:y,toggleOnSelectedRowsChange:p})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?o:[],toggleOnSelectedRowsChange:p})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:o,isSelected:a,rowCount:c,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[o],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:AM(t.selectedRows,o,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===c,selectedRows:kM(t.selectedRows,o),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:o,totalRows:a,mergeSelections:c}=e;if(c){const h=[...t.selectedRows,...o.filter((p=>!uh(p,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:o.length,allSelected:o.length===a,selectedRows:o,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:o,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:o,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:o,visibleOnly:a,persistSelectedOnPageChange:c}=e,h=o&&c,p=o&&!c||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),p&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:o}=e;return Object.assign(Object.assign({},t),{currentPage:o,rowsPerPage:r})}}}const xM=Xt`
	pointer-events: none;
	opacity: 0.4;
`,NM=He.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&xM};
	${({theme:t})=>t.table.style};
`,OM=Xt`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,DM=He.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&OM};
	${({theme:t})=>t.head.style};
`,LM=He.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,HC=(t,...e)=>Xt`
		@media screen and (max-width: ${599}px) {
			${Xt(t,...e)}
		}
	`,VM=(t,...e)=>Xt`
		@media screen and (max-width: ${959}px) {
			${Xt(t,...e)}
		}
	`,MM=(t,...e)=>Xt`
		@media screen and (max-width: ${1280}px) {
			${Xt(t,...e)}
		}
	`,FM=t=>(e,...n)=>Xt`
			@media screen and (max-width: ${t}px) {
				${Xt(e,...n)}
			}
		`,Jl=He.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,WC=He(Jl)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&Xt`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&HC`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&VM`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&MM`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&FM(t)`
    display: none;
  `};
`,jM=Xt`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,$M=He(WC).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&jM};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var UM=S.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:o,isDragging:a,onDragStart:c,onDragOver:h,onDragEnd:p,onDragEnter:y,onDragLeave:w}){const{conditionalStyle:E,classNames:b}=zC(n,e.conditionalCellStyles,["rdt_TableCell"]);return S.createElement($M,{id:t,"data-column-id":e.id,role:"cell",className:b,"data-tag":o,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:E,$isDragging:a,onDragStart:c,onDragOver:h,onDragEnd:p,onDragEnter:y,onDragLeave:w},!e.cell&&S.createElement("div",{"data-tag":o},(function(x,D,j,O){return D?j&&typeof j=="function"?j(x,O):D(x,O):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const IE="input";var qC=S.memo((function({name:t,component:e=IE,componentOptions:n={style:{}},indeterminate:r=!1,checked:o=!1,disabled:a=!1,onClick:c=Qt}){const h=e,p=h!==IE?n.style:(w=>Object.assign(Object.assign({fontSize:"18px"},!w&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),y=S.useMemo((()=>(function(w,...E){let b;return Object.keys(w).map((x=>w[x])).forEach(((x,D)=>{typeof x=="function"&&(b=Object.assign(Object.assign({},w),{[Object.keys(w)[D]]:x(...E)}))})),b||w})(n,r)),[n,r]);return S.createElement(h,Object.assign({type:"checkbox",ref:w=>{w&&(w.indeterminate=r)},style:p,onClick:a?Qt:c,name:t,"aria-label":t,checked:o,disabled:a},y,{onChange:Qt}))}));const BM=He(Jl)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function zM({name:t,keyField:e,row:n,rowCount:r,selected:o,selectableRowsComponent:a,selectableRowsComponentProps:c,selectableRowsSingle:h,selectableRowDisabled:p,onSelectedRow:y}){const w=!(!p||!p(n));return S.createElement(BM,{onClick:E=>E.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},S.createElement(qC,{name:t,component:a,componentOptions:c,checked:o,"aria-checked":o,onClick:()=>{y({type:"SELECT_SINGLE_ROW",row:n,isSelected:o,keyField:e,rowCount:r,singleSelect:h})},disabled:w}))}const HM=He.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function WM({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:o,onToggled:a}){const c=e?n.expanded:n.collapsed;return S.createElement(HM,{"aria-disabled":t,onClick:()=>a&&a(o),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},c)}const qM=He(Jl)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function GM({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:o,disabled:a=!1}){return S.createElement(qM,{onClick:c=>c.stopPropagation(),$noPadding:!0},S.createElement(WM,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:o}))}const KM=He.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var QM=S.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:o}){const a=["rdt_ExpanderRow",...o.split(" ").filter((c=>c!=="rdt_TableRow"))].join(" ");return S.createElement(KM,{className:a,$extendedRowStyle:r},S.createElement(e,Object.assign({data:t},n)))}));const Pm="allowRowEvents";var Qh,gg,SE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(Qh||(Qh={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(gg||(gg={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(SE||(SE={}));const YM=Xt`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,XM=Xt`
	&:hover {
		cursor: pointer;
	}
`,JM=He.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&YM};
	${({$pointerOnHover:t})=>t&&XM};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function ZM({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:o=!1,expandableIcon:a,expandableRows:c=!1,expandableRowsComponent:h,expandableRowsComponentProps:p,expandableRowsHideExpander:y,expandOnRowClicked:w=!1,expandOnRowDoubleClicked:E=!1,highlightOnHover:b=!1,id:x,expandableInheritConditionalStyles:D,keyField:j,onRowClicked:O=Qt,onRowDoubleClicked:W=Qt,onRowMouseEnter:z=Qt,onRowMouseLeave:K=Qt,onRowExpandToggled:Z=Qt,onSelectedRow:ce=Qt,pointerOnHover:se=!1,row:R,rowCount:C,rowIndex:I,selectableRowDisabled:N=null,selectableRows:V=!1,selectableRowsComponent:$,selectableRowsComponentProps:k,selectableRowsHighlight:ge=!1,selectableRowsSingle:Te=!1,selected:he,striped:te=!1,draggingColumnId:X,onDragStart:ue,onDragOver:oe,onDragEnd:M,onDragEnter:G,onDragLeave:fe}){const[Ee,Ne]=S.useState(n);S.useEffect((()=>{Ne(n)}),[n]);const Oe=S.useCallback((()=>{Ne(!Ee),Z(!Ee,R)}),[Ee,Z,R]),Fe=se||c&&(w||E),Me=S.useCallback((pt=>{pt.target.getAttribute("data-tag")===Pm&&(O(R,pt),!r&&c&&w&&Oe())}),[r,w,c,Oe,O,R]),$e=S.useCallback((pt=>{pt.target.getAttribute("data-tag")===Pm&&(W(R,pt),!r&&c&&E&&Oe())}),[r,E,c,Oe,W,R]),ot=S.useCallback((pt=>{z(R,pt)}),[z,R]),Et=S.useCallback((pt=>{K(R,pt)}),[K,R]),bt=Vl(R,j),{conditionalStyle:Xn,classNames:pr}=zC(R,e,["rdt_TableRow"]),ti=ge&&he,Oi=D?Xn:{},Di=te&&I%2==0;return S.createElement(S.Fragment,null,S.createElement(JM,{id:`row-${x}`,role:"row",$striped:Di,$highlightOnHover:b,$pointerOnHover:!r&&Fe,$dense:o,onClick:Me,onDoubleClick:$e,onMouseEnter:ot,onMouseLeave:Et,className:pr,$selected:ti,$conditionalStyle:Xn},V&&S.createElement(zM,{name:`select-row-${bt}`,keyField:j,row:R,rowCount:C,selected:he,selectableRowsComponent:$,selectableRowsComponentProps:k,selectableRowDisabled:N,selectableRowsSingle:Te,onSelectedRow:ce}),c&&!y&&S.createElement(GM,{id:bt,expandableIcon:a,expanded:Ee,row:R,onToggled:Oe,disabled:r}),t.map((pt=>pt.omit?null:S.createElement(UM,{id:`cell-${pt.id}-${bt}`,key:`cell-${pt.id}-${bt}`,dataTag:pt.ignoreRowClick||pt.button?null:Pm,column:pt,row:R,rowIndex:I,isDragging:Ku(X,pt.id),onDragStart:ue,onDragOver:oe,onDragEnd:M,onDragEnter:G,onDragLeave:fe})))),c&&Ee&&S.createElement(QM,{key:`expander-${bt}`,data:R,extendedRowStyle:Oi,extendedClassNames:pr,ExpanderComponent:h,expanderComponentProps:p}))}const e4=He.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,t4=({sortActive:t,sortDirection:e})=>Ue.createElement(e4,{$sortActive:t,$sortDirection:e},"▲"),n4=He(WC)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,r4=Xt`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&Xt`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,i4=He.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&r4};
`,s4=He.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var o4=S.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:o,sortIcon:a,sortServer:c,pagination:h,paginationServer:p,persistSelectedOnSort:y,selectableRowsVisibleOnly:w,onSort:E,onDragStart:b,onDragOver:x,onDragEnd:D,onDragEnter:j,onDragLeave:O}){S.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[W,z]=S.useState(!1),K=S.useRef(null);if(S.useEffect((()=>{K.current&&z(K.current.scrollWidth>K.current.clientWidth)}),[W]),t.omit)return null;const Z=()=>{if(!t.sortable&&!t.selector)return;let k=o;Ku(r.id,t.id)&&(k=o===ao.ASC?ao.DESC:ao.ASC),E({type:"SORT_CHANGE",sortDirection:k,selectedColumn:t,clearSelectedOnSort:h&&p&&!y||c||w})},ce=k=>S.createElement(t4,{sortActive:k,sortDirection:o}),se=()=>S.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},a),R=!(!t.sortable||!Ku(r.id,t.id)),C=!t.sortable||e,I=t.sortable&&!a&&!t.right,N=t.sortable&&!a&&t.right,V=t.sortable&&a&&!t.right,$=t.sortable&&a&&t.right;return S.createElement(n4,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Ku(t.id,n),onDragStart:b,onDragOver:x,onDragEnd:D,onDragEnter:j,onDragLeave:O},t.name&&S.createElement(i4,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:C?void 0:Z,onKeyPress:C?void 0:k=>{k.key==="Enter"&&Z()},$sortActive:!C&&R,disabled:C},!C&&$&&se(),!C&&N&&ce(R),typeof t.name=="string"?S.createElement(s4,{title:W?t.name:void 0,ref:K,"data-column-id":t.id},t.name):t.name,!C&&V&&se(),!C&&I&&ce(R)))}));const a4=He(Jl)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function l4({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:o,selectedRows:a,selectableRowsComponent:c,selectableRowsComponentProps:h,selectableRowDisabled:p,onSelectAllRows:y}){const w=a.length>0&&!r,E=p?e.filter((D=>!p(D))):e,b=E.length===0,x=Math.min(e.length,E.length);return S.createElement(a4,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},S.createElement(qC,{name:"select-all-rows",component:c,componentOptions:h,onClick:()=>{y({type:"SELECT_ALL_ROWS",rows:E,rowCount:x,mergeSelections:o,keyField:n})},checked:r,indeterminate:w,disabled:b}))}function GC(t=Qh.AUTO){const e=typeof window=="object",[n,r]=S.useState(!1);return S.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const o=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],c=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||c.dir==="rtl";r(o&&h)}}),[t,e]),n}const u4=He.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,c4=He.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,RE=He.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function d4({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:o}){const a=GC(o),c=r>0;return n?S.createElement(RE,{$visible:c},S.cloneElement(n,{selectedCount:r})):S.createElement(RE,{$visible:c,$rtl:a},S.createElement(u4,null,((h,p,y)=>{if(p===0)return null;const w=p===1?h.singular:h.plural;return y?`${p} ${h.message||""} ${w}`:`${p} ${w} ${h.message||""}`})(t,r,a)),S.createElement(c4,null,e))}const h4=He.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,f4=He.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,p4=He.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,m4=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:o,selectedCount:a,direction:c,showMenu:h=!0})=>S.createElement(h4,{className:"rdt_TableHeader",role:"heading","aria-level":1},S.createElement(f4,null,t),e&&S.createElement(p4,null,e),h&&S.createElement(d4,{contextMessage:n,contextActions:r,contextComponent:o,direction:c,selectedCount:a}));function KC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const g4={left:"flex-start",right:"flex-end",center:"center"},y4=He.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>g4[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,w4=t=>{var{align:e="right",wrapContent:n=!0}=t,r=KC(t,["align","wrapContent"]);return S.createElement(y4,Object.assign({align:e,$wrapContent:n},r))},v4=He.div`
	display: flex;
	flex-direction: column;
`,_4=He.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&Xt`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&Xt`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,kE=He.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,E4=He.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,b4=He(Jl)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,T4=He.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,C4=()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Ue.createElement("path",{d:"M7 10l5 5 5-5z"}),Ue.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),I4=He.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,S4=He.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,R4=t=>{var{defaultValue:e,onChange:n}=t,r=KC(t,["defaultValue","onChange"]);return S.createElement(S4,null,S.createElement(I4,Object.assign({onChange:n,defaultValue:e},r)),S.createElement(C4,null))},ae={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return Ue.createElement("div",null,"To add an expander pass in a component instance via ",Ue.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:Ue.createElement((()=>Ue.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Ue.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),Ue.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:Ue.createElement((()=>Ue.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Ue.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),Ue.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:Ue.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:Ue.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:gg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:Ue.createElement((()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ue.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),Ue.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:Ue.createElement((()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ue.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),Ue.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:Ue.createElement((()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ue.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),Ue.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:Ue.createElement((()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ue.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),Ue.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:Qh.AUTO,onChangePage:Qt,onChangeRowsPerPage:Qt,onRowClicked:Qt,onRowDoubleClicked:Qt,onRowMouseEnter:Qt,onRowMouseLeave:Qt,onRowExpandToggled:Qt,onSelectedRowsChange:Qt,onSort:Qt,onColumnOrderChange:Qt},k4={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},A4=He.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,Hd=He.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,P4=He.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${HC`
    width: 100%;
    justify-content: space-around;
  `};
`,QC=He.span`
	flex-shrink: 1;
	user-select: none;
`,x4=He(QC)`
	margin: 0 24px;
`,N4=He(QC)`
	margin: 0 4px;
`;var O4=S.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=ae.direction,paginationRowsPerPageOptions:o=ae.paginationRowsPerPageOptions,paginationIconLastPage:a=ae.paginationIconLastPage,paginationIconFirstPage:c=ae.paginationIconFirstPage,paginationIconNext:h=ae.paginationIconNext,paginationIconPrevious:p=ae.paginationIconPrevious,paginationComponentOptions:y=ae.paginationComponentOptions,onChangeRowsPerPage:w=ae.onChangeRowsPerPage,onChangePage:E=ae.onChangePage}){const b=(()=>{const k=typeof window=="object";function ge(){return{width:k?window.innerWidth:void 0,height:k?window.innerHeight:void 0}}const[Te,he]=S.useState(ge);return S.useEffect((()=>{if(!k)return()=>null;function te(){he(ge())}return window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)}),[]),Te})(),x=GC(r),D=b.width&&b.width>599,j=Gu(e,t),O=n*t,W=O-t+1,z=n===1,K=n===j,Z=Object.assign(Object.assign({},k4),y),ce=n===j?`${W}-${e} ${Z.rangeSeparatorText} ${e}`:`${W}-${O} ${Z.rangeSeparatorText} ${e}`,se=S.useCallback((()=>E(n-1)),[n,E]),R=S.useCallback((()=>E(n+1)),[n,E]),C=S.useCallback((()=>E(1)),[E]),I=S.useCallback((()=>E(Gu(e,t))),[E,e,t]),N=S.useCallback((k=>w(Number(k.target.value),n)),[n,w]),V=o.map((k=>S.createElement("option",{key:k,value:k},k)));Z.selectAllRowsItem&&V.push(S.createElement("option",{key:-1,value:e},Z.selectAllRowsItemText));const $=S.createElement(R4,{onChange:N,defaultValue:t,"aria-label":Z.rowsPerPageText},V);return S.createElement(A4,{className:"rdt_Pagination"},!Z.noRowsPerPage&&D&&S.createElement(S.Fragment,null,S.createElement(N4,null,Z.rowsPerPageText),$),D&&S.createElement(x4,null,ce),S.createElement(P4,null,S.createElement(Hd,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":z,onClick:C,disabled:z,$isRTL:x},c),S.createElement(Hd,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":z,onClick:se,disabled:z,$isRTL:x},p),!Z.noRowsPerPage&&!D&&$,S.createElement(Hd,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":K,onClick:R,disabled:K,$isRTL:x},h),S.createElement(Hd,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":K,onClick:I,disabled:K,$isRTL:x},a)))}));const Jo=(t,e)=>{const n=S.useRef(!0);S.useEffect((()=>{n.current?n.current=!1:t()}),e)};function D4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L4=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===V4})(e)})(t)},V4=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function ic(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ml((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function M4(t,e,n){return t.concat(e).map((function(r){return ic(r,n)}))}function AE(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function PE(t,e){try{return e in t}catch{return!1}}function F4(t,e,n){var r={};return n.isMergeableObject(t)&&AE(t).forEach((function(o){r[o]=ic(t[o],n)})),AE(e).forEach((function(o){(function(a,c){return PE(a,c)&&!(Object.hasOwnProperty.call(a,c)&&Object.propertyIsEnumerable.call(a,c))})(t,o)||(PE(t,o)&&n.isMergeableObject(e[o])?r[o]=(function(a,c){if(!c.customMerge)return Ml;var h=c.customMerge(a);return typeof h=="function"?h:Ml})(o,n)(t[o],e[o],n):r[o]=ic(e[o],n))})),r}function Ml(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||M4,n.isMergeableObject=n.isMergeableObject||L4,n.cloneUnlessOtherwiseSpecified=ic;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):F4(t,e,n):ic(e,n)}Ml.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return Ml(n,r,e)}),{})};var yg=D4(Ml);const xE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},Ks={default:xE,light:xE,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function j4(t="default",e,n="default"){return Ks[t]||(Ks[t]=yg(Ks[n],e||{})),Ks[t]=yg(Ks[t],e||{}),Ks[t]}function $4(t,e,n,r){const[o,a]=S.useState((()=>CE(t))),[c,h]=S.useState(""),p=S.useRef("");Jo((()=>{a(CE(t))}),[t]);const y=S.useCallback((O=>{var W,z,K;const{attributes:Z}=O.target,ce=(W=Z.getNamedItem("data-column-id"))===null||W===void 0?void 0:W.value;ce&&(p.current=((K=(z=o[zd(o,ce)])===null||z===void 0?void 0:z.id)===null||K===void 0?void 0:K.toString())||"",h(p.current))}),[o]),w=S.useCallback((O=>{var W;const{attributes:z}=O.target,K=(W=z.getNamedItem("data-column-id"))===null||W===void 0?void 0:W.value;if(K&&p.current&&K!==p.current){const Z=zd(o,p.current),ce=zd(o,K),se=[...o];se[Z]=o[ce],se[ce]=o[Z],a(se),e(se)}}),[e,o]),E=S.useCallback((O=>{O.preventDefault()}),[]),b=S.useCallback((O=>{O.preventDefault()}),[]),x=S.useCallback((O=>{O.preventDefault(),p.current="",h("")}),[]),D=(function(O=!1){return O?ao.ASC:ao.DESC})(r),j=S.useMemo((()=>o[zd(o,n?.toString())]||{}),[n,o]);return{tableColumns:o,draggingColumnId:c,handleDragStart:y,handleDragEnter:w,handleDragOver:E,handleDragLeave:b,handleDragEnd:x,defaultSortDirection:D,defaultSortColumn:j}}var U4=S.memo((function(t){const{data:e=ae.data,columns:n=ae.columns,title:r=ae.title,actions:o=ae.actions,keyField:a=ae.keyField,striped:c=ae.striped,highlightOnHover:h=ae.highlightOnHover,pointerOnHover:p=ae.pointerOnHover,dense:y=ae.dense,selectableRows:w=ae.selectableRows,selectableRowsSingle:E=ae.selectableRowsSingle,selectableRowsHighlight:b=ae.selectableRowsHighlight,selectableRowsNoSelectAll:x=ae.selectableRowsNoSelectAll,selectableRowsVisibleOnly:D=ae.selectableRowsVisibleOnly,selectableRowSelected:j=ae.selectableRowSelected,selectableRowDisabled:O=ae.selectableRowDisabled,selectableRowsComponent:W=ae.selectableRowsComponent,selectableRowsComponentProps:z=ae.selectableRowsComponentProps,onRowExpandToggled:K=ae.onRowExpandToggled,onSelectedRowsChange:Z=ae.onSelectedRowsChange,expandableIcon:ce=ae.expandableIcon,onChangeRowsPerPage:se=ae.onChangeRowsPerPage,onChangePage:R=ae.onChangePage,paginationServer:C=ae.paginationServer,paginationServerOptions:I=ae.paginationServerOptions,paginationTotalRows:N=ae.paginationTotalRows,paginationDefaultPage:V=ae.paginationDefaultPage,paginationResetDefaultPage:$=ae.paginationResetDefaultPage,paginationPerPage:k=ae.paginationPerPage,paginationRowsPerPageOptions:ge=ae.paginationRowsPerPageOptions,paginationIconLastPage:Te=ae.paginationIconLastPage,paginationIconFirstPage:he=ae.paginationIconFirstPage,paginationIconNext:te=ae.paginationIconNext,paginationIconPrevious:X=ae.paginationIconPrevious,paginationComponent:ue=ae.paginationComponent,paginationComponentOptions:oe=ae.paginationComponentOptions,responsive:M=ae.responsive,progressPending:G=ae.progressPending,progressComponent:fe=ae.progressComponent,persistTableHead:Ee=ae.persistTableHead,noDataComponent:Ne=ae.noDataComponent,disabled:Oe=ae.disabled,noTableHead:Fe=ae.noTableHead,noHeader:Me=ae.noHeader,fixedHeader:$e=ae.fixedHeader,fixedHeaderScrollHeight:ot=ae.fixedHeaderScrollHeight,pagination:Et=ae.pagination,subHeader:bt=ae.subHeader,subHeaderAlign:Xn=ae.subHeaderAlign,subHeaderWrap:pr=ae.subHeaderWrap,subHeaderComponent:ti=ae.subHeaderComponent,noContextMenu:Oi=ae.noContextMenu,contextMessage:Di=ae.contextMessage,contextActions:pt=ae.contextActions,contextComponent:ys=ae.contextComponent,expandableRows:Vn=ae.expandableRows,onRowClicked:mr=ae.onRowClicked,onRowDoubleClicked:ws=ae.onRowDoubleClicked,onRowMouseEnter:Li=ae.onRowMouseEnter,onRowMouseLeave:Vi=ae.onRowMouseLeave,sortIcon:_o=ae.sortIcon,onSort:Pt=ae.onSort,sortFunction:St=ae.sortFunction,sortServer:Jn=ae.sortServer,expandableRowsComponent:Eo=ae.expandableRowsComponent,expandableRowsComponentProps:ni=ae.expandableRowsComponentProps,expandableRowDisabled:ri=ae.expandableRowDisabled,expandableRowsHideExpander:ii=ae.expandableRowsHideExpander,expandOnRowClicked:bo=ae.expandOnRowClicked,expandOnRowDoubleClicked:To=ae.expandOnRowDoubleClicked,expandableRowExpanded:vs=ae.expandableRowExpanded,expandableInheritConditionalStyles:Co=ae.expandableInheritConditionalStyles,defaultSortFieldId:Io=ae.defaultSortFieldId,defaultSortAsc:Mi=ae.defaultSortAsc,clearSelectedRows:Fi=ae.clearSelectedRows,conditionalRowStyles:_s=ae.conditionalRowStyles,theme:kn=ae.theme,customStyles:Zn=ae.customStyles,direction:gr=ae.direction,onColumnOrderChange:yr=ae.onColumnOrderChange,className:So,ariaLabel:si}=t,{tableColumns:Es,draggingColumnId:wr,handleDragStart:bs,handleDragEnter:mt,handleDragOver:ji,handleDragLeave:Mn,handleDragEnd:oi,defaultSortDirection:$i,defaultSortColumn:Ts}=$4(n,yr,Io,Mi),[{rowsPerPage:Mt,currentPage:an,selectedRows:Ro,allSelected:Ui,selectedCount:ko,selectedColumn:Rt,sortDirection:Fn,toggleOnSelectedRowsChange:er},vr]=S.useReducer(PM,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Ts,toggleOnSelectedRowsChange:!1,sortDirection:$i,currentPage:V,rowsPerPage:k,selectedRowsFlag:!1,contextMessage:ae.contextMessage}),{persistSelectedOnSort:Cs=!1,persistSelectedOnPageChange:Dr=!1}=I,Bi=!(!C||!Dr&&!Cs),Ao=Et&&!G&&e.length>0,Ia=ue||O4,Zl=S.useMemo((()=>((Ie={},Be="default",gt="default")=>{const Wt=Ks[Be]?Be:gt;return yg({table:{style:{color:(Ae=Ks[Wt]).text.primary,backgroundColor:Ae.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:Ae.text.primary,backgroundColor:Ae.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:Ae.background.default,minHeight:"52px"}},head:{style:{color:Ae.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:Ae.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:Ae.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:Ae.context.background,fontSize:"18px",fontWeight:400,color:Ae.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:Ae.text.primary,backgroundColor:Ae.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:Ae.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:Ae.selected.text,backgroundColor:Ae.selected.default,borderBottomColor:Ae.background.default}},highlightOnHoverStyle:{color:Ae.highlightOnHover.text,backgroundColor:Ae.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:Ae.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:Ae.background.default},stripedStyle:{color:Ae.striped.text,backgroundColor:Ae.striped.default}},expanderRow:{style:{color:Ae.text.primary,backgroundColor:Ae.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:Ae.button.default,fill:Ae.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:Ae.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:Ae.button.hover},"&:focus":{outline:"none",backgroundColor:Ae.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:Ae.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:Ae.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:Ae.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:Ae.button.default,fill:Ae.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:Ae.button.disabled,fill:Ae.button.disabled},"&:hover:not(:disabled)":{backgroundColor:Ae.button.hover},"&:focus":{outline:"none",backgroundColor:Ae.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Ae.text.primary,backgroundColor:Ae.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Ae.text.primary,backgroundColor:Ae.background.default}}},Ie);var Ae})(Zn,kn)),[Zn,kn]),it=S.useMemo((()=>Object.assign({},gr!=="auto"&&{dir:gr})),[gr]),xt=S.useMemo((()=>{if(Jn)return e;if(Rt?.sortFunction&&typeof Rt.sortFunction=="function"){const Ie=Rt.sortFunction,Be=Fn===ao.ASC?Ie:(gt,Wt)=>-1*Ie(gt,Wt);return[...e].sort(Be)}return(function(Ie,Be,gt,Wt){return Be?Wt&&typeof Wt=="function"?Wt(Ie.slice(0),Be,gt):Ie.slice(0).sort(((Ae,nr)=>{const Ft=Be(Ae),mn=Be(nr);if(gt==="asc"){if(Ft<mn)return-1;if(Ft>mn)return 1}if(gt==="desc"){if(Ft>mn)return-1;if(Ft<mn)return 1}return 0})):Ie})(e,Rt?.selector,Fn,St)}),[Jn,Rt,Fn,e,St]),tr=S.useMemo((()=>{if(Et&&!C){const Ie=an*Mt,Be=Ie-Mt;return xt.slice(Be,Ie)}return xt}),[an,Et,C,Mt,xt]),ai=S.useCallback((Ie=>{vr(Ie)}),[]),jn=S.useCallback((Ie=>{vr(Ie)}),[]),Po=S.useCallback((Ie=>{vr(Ie)}),[]),Sa=S.useCallback(((Ie,Be)=>mr(Ie,Be)),[mr]),zi=S.useCallback(((Ie,Be)=>ws(Ie,Be)),[ws]),An=S.useCallback(((Ie,Be)=>Li(Ie,Be)),[Li]),Ra=S.useCallback(((Ie,Be)=>Vi(Ie,Be)),[Vi]),kt=S.useCallback((Ie=>vr({type:"CHANGE_PAGE",page:Ie,paginationServer:C,visibleOnly:D,persistSelectedOnPageChange:Dr})),[C,Dr,D]),xo=S.useCallback((Ie=>{const Be=Gu(N||tr.length,Ie),gt=Am(an,Be);C||kt(gt),vr({type:"CHANGE_ROWS_PER_PAGE",page:gt,rowsPerPage:Ie})}),[an,kt,C,N,tr.length]);if(Et&&!C&&xt.length>0&&tr.length===0){const Ie=Gu(xt.length,Mt),Be=Am(an,Ie);kt(Be)}Jo((()=>{Z({allSelected:Ui,selectedCount:ko,selectedRows:Ro.slice(0)})}),[er]),Jo((()=>{Pt(Rt,Fn,xt.slice(0))}),[Rt,Fn]),Jo((()=>{R(an,N||xt.length)}),[an]),Jo((()=>{se(Mt,an)}),[Mt]),Jo((()=>{kt(V)}),[V,$]),Jo((()=>{if(Et&&C&&N>0){const Ie=Gu(N,Mt),Be=Am(an,Ie);an!==Be&&kt(Be)}}),[N]),S.useEffect((()=>{vr({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Fi})}),[E,Fi]),S.useEffect((()=>{if(!j)return;const Ie=xt.filter((gt=>j(gt))),Be=E?Ie.slice(0,1):Ie;vr({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:Be,totalRows:xt.length,mergeSelections:Bi})}),[e,j]);const ka=D?tr:xt,Aa=Dr||E||x;return S.createElement(SM,{theme:Zl},!Me&&(!!r||!!o)&&S.createElement(m4,{title:r,actions:o,showMenu:!Oi,selectedCount:ko,direction:gr,contextActions:pt,contextComponent:ys,contextMessage:Di}),bt&&S.createElement(w4,{align:Xn,wrapContent:pr},ti),S.createElement(_4,Object.assign({$responsive:M,$fixedHeader:$e,$fixedHeaderScrollHeight:ot,className:So},it),S.createElement(E4,null,G&&!Ee&&S.createElement(kE,null,fe),S.createElement(NM,Object.assign({disabled:Oe,className:"rdt_Table",role:"table"},si&&{"aria-label":si}),!Fe&&(!!Ee||xt.length>0&&!G)&&S.createElement(DM,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:$e},S.createElement(LM,{className:"rdt_TableHeadRow",role:"row",$dense:y},w&&(Aa?S.createElement(Jl,{style:{flex:"0 0 48px"}}):S.createElement(l4,{allSelected:Ui,selectedRows:Ro,selectableRowsComponent:W,selectableRowsComponentProps:z,selectableRowDisabled:O,rowData:ka,keyField:a,mergeSelections:Bi,onSelectAllRows:jn})),Vn&&!ii&&S.createElement(b4,null),Es.map((Ie=>S.createElement(o4,{key:Ie.id,column:Ie,selectedColumn:Rt,disabled:G||xt.length===0,pagination:Et,paginationServer:C,persistSelectedOnSort:Cs,selectableRowsVisibleOnly:D,sortDirection:Fn,sortIcon:_o,sortServer:Jn,onSort:ai,onDragStart:bs,onDragOver:ji,onDragEnd:oi,onDragEnter:mt,onDragLeave:Mn,draggingColumnId:wr}))))),!xt.length&&!G&&S.createElement(T4,null,Ne),G&&Ee&&S.createElement(kE,null,fe),!G&&xt.length>0&&S.createElement(v4,{className:"rdt_TableBody",role:"rowgroup"},tr.map(((Ie,Be)=>{const gt=Vl(Ie,a),Wt=(function(mn=""){return typeof mn!="number"&&(!mn||mn.length===0)})(gt)?Be:gt,Ae=uh(Ie,Ro,a),nr=!!(Vn&&vs&&vs(Ie)),Ft=!!(Vn&&ri&&ri(Ie));return S.createElement(ZM,{id:Wt,key:Wt,keyField:a,"data-row-id":Wt,columns:Es,row:Ie,rowCount:xt.length,rowIndex:Be,selectableRows:w,expandableRows:Vn,expandableIcon:ce,highlightOnHover:h,pointerOnHover:p,dense:y,expandOnRowClicked:bo,expandOnRowDoubleClicked:To,expandableRowsComponent:Eo,expandableRowsComponentProps:ni,expandableRowsHideExpander:ii,defaultExpanderDisabled:Ft,defaultExpanded:nr,expandableInheritConditionalStyles:Co,conditionalRowStyles:_s,selected:Ae,selectableRowsHighlight:b,selectableRowsComponent:W,selectableRowsComponentProps:z,selectableRowDisabled:O,selectableRowsSingle:E,striped:c,onRowExpandToggled:K,onRowClicked:Sa,onRowDoubleClicked:zi,onRowMouseEnter:An,onRowMouseLeave:Ra,onSelectedRow:Po,draggingColumnId:wr,onDragStart:bs,onDragOver:ji,onDragEnd:oi,onDragEnter:mt,onDragLeave:Mn})})))))),Ao&&S.createElement("div",null,S.createElement(Ia,{onChangePage:kt,onChangeRowsPerPage:xo,rowCount:N||xt.length,currentPage:an,rowsPerPage:Mt,direction:gr,paginationRowsPerPageOptions:ge,paginationIconLastPage:Te,paginationIconFirstPage:he,paginationIconNext:te,paginationIconPrevious:X,paginationComponentOptions:oe})))}));const NE=wo(dr),B4=wa(dr);j4("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function z4({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,c]=S.useState(!1),[h,p]=S.useState(!1),[y,w]=S.useState(!1),E=S.useRef(null),b=()=>xg(B4);S.useEffect(()=>{const I=N=>{E.current&&!E.current.contains(N.target)&&w(!1)};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]);const x=I=>parseInt(I),D=t?.fotoPerfil||Gr,j=[{when:I=>I.pos==="1º",style:{background:"linear-gradient(135deg, rgb(255, 215, 0), rgb(218, 165, 32))",boxShadow:"0 0 8px rgba(255, 215, 0, 0.7), inset 0 0 4px rgba(255, 255, 255, 0.6)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:I=>I.pos==="2º",style:{background:"linear-gradient(135deg, rgb(192,192,192), rgb(169,169,169))",boxShadow:"0 0 8px rgba(192,192,192, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.5)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:I=>I.pos==="3º",style:{background:"linear-gradient(135deg, rgb(205, 127, 50), rgb(139, 69, 19))",boxShadow:"0 0 8px rgba(205, 127, 50, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.4)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:I=>x(I.pos)>3&&x(I.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:I=>x(I.pos)>3&&x(I.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],O=[{name:"Pos.",selector:I=>I.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:I=>I.jugador,cell:I=>P.jsxs(sn,{to:`/equipo/${I.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit"},children:[P.jsx("img",{src:I.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"1px solid black"}}),P.jsx("span",{children:I.jugador})]})},{name:"Puntos",selector:I=>I.puntos,width:"5.5rem",center:!0}],W=()=>{c(!a)},z=I=>I>=1e6?(I/1e6).toFixed(2)+"M":I>=1e3?(I/1e3).toFixed(2)+"K":I.toFixed(2),K=I=>{if(!I)return"";const N=10,V=I.indexOf(" ");let $;return V!==-1&&V<=N?($=V,I.slice(0,$)+"..."):I.length>N?($=N-3,I.slice(0,$)+"..."):I};S.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const I=Cn(NE,"usuarios",t.uid);oo(I).then(N=>{N.exists()&&o(N.data().dinero)})}},[t]);const[Z,ce]=S.useState([]),[se,R]=S.useState(!1);S.useEffect(()=>{(async()=>{R(!0);try{const N=Ah(NE,"usuarios");let k=(await xh(N)).docs.map(ge=>({id:ge.id,...ge.data()})).sort((ge,Te)=>(Te.puntos||0)-(ge.puntos||0)).map((ge,Te)=>({id:ge.id,pos:`${Te+1}º`,jugador:ge.nick||"Sin nombre",puntos:ge.puntos||0,fotoPerfil:ge.fotoPerfil||Gr}));ce(k)}catch(N){console.error("Error al cargar usuarios:",N)}finally{R(!1)}})()},[]);const C={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return P.jsxs("div",{children:[P.jsxs("header",{className:"Cabecera",children:[P.jsxs("div",{className:"container-profile",children:[P.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[P.jsx("img",{src:D,onError:I=>{I.currentTarget.onerror=null,I.currentTarget.src=Gr},alt:"Foto de perfil",onClick:()=>w(!y),onMouseEnter:()=>w(!0)}),y&&P.jsxs("div",{className:"perfil-bocadillo",ref:E,onMouseLeave:()=>w(!1),children:[P.jsx("div",{className:"triangulo"}),P.jsx("button",{className:"btn-perfil",onClick:()=>{p(!0),w(!1)},children:"👤 Perfil"}),P.jsx("button",{className:"btn-logout",onClick:b,children:"➜] Cerrar sesión"})]})]}),P.jsxs("div",{className:"info-profile",children:[P.jsx("h2",{className:"nombre-usuario",children:K(t?.nick||t?.displayName)}),r!==null&&P.jsxs("p",{className:"dinero-usuario",children:["💰",P.jsx("strong",{children:z(r)})]})]})]}),P.jsx("button",{onClick:W,className:"Cabecera-button",children:P.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:P.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),P.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:P.jsxs("ul",{className:"Cabecera-ul",children:[P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),P.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${xl})`},children:[P.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&P.jsx(By,{usuario:t,openModal:h,setOpenModal:p}),P.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:P.jsx(U4,{title:"CLASIFICACIÓN",columns:O,data:Z,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:se,progressComponent:P.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:j,customStyles:C,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:P.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}const Wd=wo(dr),OE=wa(dr);function H4({usuario:t}){const{jugadorId:e}=sO(),[n,r]=S.useState(!0),[o,a]=S.useState(null),[c,h]=S.useState(!1),[p,y]=S.useState(!1),[w,E]=S.useState(null),b=t?.fotoPerfil||Gr,x=o?.equipo?.titulares||[];o?.equipo?.banquillo;const[D,j]=S.useState([]),O=o?.equipo?.capitan||"",[W,z]=S.useState(o?.equipo?.formacion||"2-1-1"),[K,Z]=S.useState(W),[ce,se]=S.useState(!1),[R,C]=S.useState(!1),I=useRef(null),N=()=>xg(OE);S.useEffect(()=>{const ge=Te=>{I.current&&!I.current.contains(Te.target)&&C(!1)};return document.addEventListener("mousedown",ge),()=>{document.removeEventListener("mousedown",ge)}},[]),S.useEffect(()=>{(async()=>{r(!0);const Te=await oo(Cn(Wd,"usuarios",e));Te.exists()&&a({id:Te.id,...Te.data()}),r(!1)})()},[e]);const V=()=>{h(!c)},$=ge=>ge>=1e6?(ge/1e6).toFixed(2)+"M":ge>=1e3?(ge/1e3).toFixed(2)+"K":ge.toFixed(2),k=ge=>{if(!ge)return"";const Te=10,he=ge.indexOf(" ");let te;return he!==-1&&he<=Te?(te=he,ge.slice(0,te)+"..."):ge.length>Te?(te=Te-3,ge.slice(0,te)+"..."):ge};return S.useEffect(()=>{if(t&&t?.onboarding===!1){y(!0);const Te=setTimeout(async()=>{try{const he=Cn(Wd,"usuarios",OE.currentUser.uid);await ea(he,{onboarding:!0}),window.location.reload()}catch(he){console.error("Error actualizando onboarding:",he)}},500);return()=>clearTimeout(Te)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const Te=Cn(Wd,"usuarios",t.uid);oo(Te).then(he=>{he.exists()&&E(he.data().dinero)})}(async()=>{r(!0);try{const Te=await oo(Cn(Wd,"usuarios",e));Te.exists()?a({id:Te.id,...Te.data()}):a(null)}catch(Te){console.error("Error fetching jugador:",Te)}finally{r(!1)}})()},[t],[x],[e]),n?P.jsx("h2",{children:"Cargando equipo…"}):o?P.jsxs("div",{children:[P.jsxs("header",{className:"Cabecera",children:[P.jsxs("div",{className:"container-profile",children:[P.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[P.jsx("img",{src:b,onError:ge=>{ge.currentTarget.onerror=null,ge.currentTarget.src=Gr},alt:"Foto de perfil",onClick:()=>C(!R),onMouseEnter:()=>C(!0)}),R&&P.jsxs("div",{className:"perfil-bocadillo",ref:I,onMouseLeave:()=>C(!1),children:[P.jsx("div",{className:"triangulo"}),P.jsx("button",{className:"btn-perfil",onClick:()=>{se(!0),C(!1)},children:"👤 Perfil"}),P.jsx("button",{className:"btn-logout",onClick:N,children:"➜] Cerrar sesión"})]})]}),P.jsxs("div",{className:"info-profile",children:[P.jsx("h2",{className:"nombre-usuario",children:k(t?.nick||t?.displayName)}),w!==null&&P.jsxs("p",{className:"dinero-usuario",children:["💰",P.jsx("strong",{children:$(w)})]})]})]}),P.jsx("button",{onClick:V,className:"Cabecera-button",children:P.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:P.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),P.jsx("nav",{className:`Cabecera-nav ${c?"isActive":""}`,children:P.jsxs("ul",{className:"Cabecera-ul",children:[P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),P.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${xl})`},children:[P.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),ce&&P.jsx(By,{usuario:t,openModal:ce,setOpenModal:se}),P.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[P.jsxs("h1",{children:["Equipo de ",o.nick]}),P.jsx("div",{className:"formacion-selector",children:P.jsxs("label",{htmlFor:"formacion-select",children:["Formación: ",K]})}),P.jsx("div",{className:"campo",children:lg[K]?.map((ge,Te)=>{const he=x[Te],te=D.find(X=>X.id===he);return P.jsxs("div",{className:"jugador",style:{position:"absolute",top:ge.top,left:ge.left,transform:"translate(-50%, -50%)"},children:[P.jsxs("div",{className:"jugador-wrapper",children:[P.jsx("img",{src:te?.foto||Gr,alt:te?.nombre||"Vacío",className:"jugador-img"}),O===te?.id&&P.jsx("div",{className:"capitan-badge",children:"C"})]}),P.jsx("p",{className:"jugador-nombre",children:te?.nombre||"Vacío"})]},te?.id||Te)})})]})]}),p&&P.jsx("div",{className:"onboarding-overlay",children:P.jsx("div",{className:"loader",children:"Cargando..."})})]}):P.jsx("h2",{children:"Jugador no encontrado"})}const W4=wa(dr),q4=wo(dr);function G4(){const[t,e]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{const o=Jk(W4,async a=>{if(a)try{const c=await oo(Cn(q4,"usuarios",a.uid));c.exists()?e({uid:a.uid,...c.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(c){console.error("Error obteniendo datos de usuario:",c),e(null)}else e(null);r(!1)});return()=>o()},[]),n?P.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):P.jsx(zO,{children:P.jsxs(_O,{children:[P.jsx(Xo,{path:"/",element:t?P.jsx(al,{to:"/home",replace:!0}):P.jsx(G5,{})}),P.jsx(Xo,{path:"/home",element:t?P.jsx(TV,{usuario:t}):P.jsx(al,{to:"/",replace:!0})}),P.jsx(Xo,{path:"/mercado",element:t?P.jsx(IV,{usuario:t}):P.jsx(al,{to:"/",replace:!0})}),P.jsx(Xo,{path:"/clasificacion",element:t?P.jsx(z4,{usuario:t}):P.jsx(al,{to:"/",replace:!0})}),P.jsx(Xo,{path:"/equipo/:jugadorId",element:t?P.jsx(H4,{usuario:t}):P.jsx(al,{to:"/",replace:!0})}),P.jsx(Xo,{path:"*",element:P.jsx(al,{to:t?"/home":"/",replace:!0})})]})})}lS.createRoot(document.getElementById("root")).render(P.jsx(S.StrictMode,{children:P.jsx(G4,{})}));
