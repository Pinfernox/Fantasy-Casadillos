(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ax(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dm={exports:{}},Gc={},Om={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function Nx(){if(O_)return st;O_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,U={};function O(M,G,ae){this.props=M,this.context=G,this.refs=U,this.updater=ae||A}O.prototype.isReactComponent={},O.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},O.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=O.prototype;function V(M,G,ae){this.props=M,this.context=G,this.refs=U,this.updater=ae||A}var z=V.prototype=new W;z.constructor=V,L(z,O.prototype),z.isPureReactComponent=!0;var J=Array.isArray,se=Object.prototype.hasOwnProperty,Q={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function I(M,G,ae){var ce,_e={},ke=null,Je=null;if(G!=null)for(ce in G.ref!==void 0&&(Je=G.ref),G.key!==void 0&&(ke=""+G.key),G)se.call(G,ce)&&!x.hasOwnProperty(ce)&&(_e[ce]=G[ce]);var We=arguments.length-2;if(We===1)_e.children=ae;else if(1<We){for(var Xe=Array(We),Et=0;Et<We;Et++)Xe[Et]=arguments[Et+2];_e.children=Xe}if(M&&M.defaultProps)for(ce in We=M.defaultProps,We)_e[ce]===void 0&&(_e[ce]=We[ce]);return{$$typeof:t,type:M,key:ke,ref:Je,props:_e,_owner:Q.current}}function k(M,G){return{$$typeof:t,type:M.type,key:G,ref:M.ref,props:M.props,_owner:M._owner}}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function D(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return G[ae]})}var F=/\/+/g;function R(M,G){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):G.toString(36)}function ze(M,G,ae,ce,_e){var ke=typeof M;(ke==="undefined"||ke==="boolean")&&(M=null);var Je=!1;if(M===null)Je=!0;else switch(ke){case"string":case"number":Je=!0;break;case"object":switch(M.$$typeof){case t:case e:Je=!0}}if(Je)return Je=M,_e=_e(Je),M=ce===""?"."+R(Je,0):ce,J(_e)?(ae="",M!=null&&(ae=M.replace(F,"$&/")+"/"),ze(_e,G,ae,"",function(Et){return Et})):_e!=null&&(P(_e)&&(_e=k(_e,ae+(!_e.key||Je&&Je.key===_e.key?"":(""+_e.key).replace(F,"$&/")+"/")+M)),G.push(_e)),1;if(Je=0,ce=ce===""?".":ce+":",J(M))for(var We=0;We<M.length;We++){ke=M[We];var Xe=ce+R(ke,We);Je+=ze(ke,G,ae,Xe,_e)}else if(Xe=T(M),typeof Xe=="function")for(M=Xe.call(M),We=0;!(ke=M.next()).done;)ke=ke.value,Xe=ce+R(ke,We++),Je+=ze(ke,G,ae,Xe,_e);else if(ke==="object")throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Je}function Ee(M,G,ae){if(M==null)return M;var ce=[],_e=0;return ze(M,ce,"","",function(ke){return G.call(ae,ke,_e++)}),ce}function He(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var Be={current:null},ee={transition:null},ie={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Q};function ne(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:Ee,forEach:function(M,G,ae){Ee(M,function(){G.apply(this,arguments)},ae)},count:function(M){var G=0;return Ee(M,function(){G++}),G},toArray:function(M){return Ee(M,function(G){return G})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},st.Component=O,st.Fragment=n,st.Profiler=i,st.PureComponent=V,st.StrictMode=r,st.Suspense=f,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,st.act=ne,st.cloneElement=function(M,G,ae){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ce=L({},M.props),_e=M.key,ke=M.ref,Je=M._owner;if(G!=null){if(G.ref!==void 0&&(ke=G.ref,Je=Q.current),G.key!==void 0&&(_e=""+G.key),M.type&&M.type.defaultProps)var We=M.type.defaultProps;for(Xe in G)se.call(G,Xe)&&!x.hasOwnProperty(Xe)&&(ce[Xe]=G[Xe]===void 0&&We!==void 0?We[Xe]:G[Xe])}var Xe=arguments.length-2;if(Xe===1)ce.children=ae;else if(1<Xe){We=Array(Xe);for(var Et=0;Et<Xe;Et++)We[Et]=arguments[Et+2];ce.children=We}return{$$typeof:t,type:M.type,key:_e,ref:ke,props:ce,_owner:Je}},st.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},st.createElement=I,st.createFactory=function(M){var G=I.bind(null,M);return G.type=M,G},st.createRef=function(){return{current:null}},st.forwardRef=function(M){return{$$typeof:h,render:M}},st.isValidElement=P,st.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:He}},st.memo=function(M,G){return{$$typeof:g,type:M,compare:G===void 0?null:G}},st.startTransition=function(M){var G=ee.transition;ee.transition={};try{M()}finally{ee.transition=G}},st.unstable_act=ne,st.useCallback=function(M,G){return Be.current.useCallback(M,G)},st.useContext=function(M){return Be.current.useContext(M)},st.useDebugValue=function(){},st.useDeferredValue=function(M){return Be.current.useDeferredValue(M)},st.useEffect=function(M,G){return Be.current.useEffect(M,G)},st.useId=function(){return Be.current.useId()},st.useImperativeHandle=function(M,G,ae){return Be.current.useImperativeHandle(M,G,ae)},st.useInsertionEffect=function(M,G){return Be.current.useInsertionEffect(M,G)},st.useLayoutEffect=function(M,G){return Be.current.useLayoutEffect(M,G)},st.useMemo=function(M,G){return Be.current.useMemo(M,G)},st.useReducer=function(M,G,ae){return Be.current.useReducer(M,G,ae)},st.useRef=function(M){return Be.current.useRef(M)},st.useState=function(M){return Be.current.useState(M)},st.useSyncExternalStore=function(M,G,ae){return Be.current.useSyncExternalStore(M,G,ae)},st.useTransition=function(){return Be.current.useTransition()},st.version="18.3.1",st}var j_;function Jg(){return j_||(j_=1,Om.exports=Nx()),Om.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function Dx(){if(L_)return Gc;L_=1;var t=Jg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,g){var v,E={},T=null,A=null;g!==void 0&&(T=""+g),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(E[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)E[v]===void 0&&(E[v]=f[v]);return{$$typeof:e,type:h,key:T,ref:A,props:E,_owner:i.current}}return Gc.Fragment=n,Gc.jsx=c,Gc.jsxs=c,Gc}var M_;function Ox(){return M_||(M_=1,Dm.exports=Dx()),Dm.exports}var m=Ox(),C=Jg();const nt=Ax(C);var rh={},jm={exports:{}},mr={},Lm={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function jx(){return V_||(V_=1,(function(t){function e(ee,ie){var ne=ee.length;ee.push(ie);e:for(;0<ne;){var M=ne-1>>>1,G=ee[M];if(0<i(G,ie))ee[M]=ie,ee[ne]=G,ne=M;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],ne=ee.pop();if(ne!==ie){ee[0]=ne;e:for(var M=0,G=ee.length,ae=G>>>1;M<ae;){var ce=2*(M+1)-1,_e=ee[ce],ke=ce+1,Je=ee[ke];if(0>i(_e,ne))ke<G&&0>i(Je,_e)?(ee[M]=Je,ee[ke]=ne,M=ke):(ee[M]=_e,ee[ce]=ne,M=ce);else if(ke<G&&0>i(Je,ne))ee[M]=Je,ee[ke]=ne,M=ke;else break e}}return ie}function i(ee,ie){var ne=ee.sortIndex-ie.sortIndex;return ne!==0?ne:ee.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],g=[],v=1,E=null,T=3,A=!1,L=!1,U=!1,O=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(ee){for(var ie=n(g);ie!==null;){if(ie.callback===null)r(g);else if(ie.startTime<=ee)r(g),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=n(g)}}function J(ee){if(U=!1,z(ee),!L)if(n(f)!==null)L=!0,He(se);else{var ie=n(g);ie!==null&&Be(J,ie.startTime-ee)}}function se(ee,ie){L=!1,U&&(U=!1,W(I),I=-1),A=!0;var ne=T;try{for(z(ie),E=n(f);E!==null&&(!(E.expirationTime>ie)||ee&&!D());){var M=E.callback;if(typeof M=="function"){E.callback=null,T=E.priorityLevel;var G=M(E.expirationTime<=ie);ie=t.unstable_now(),typeof G=="function"?E.callback=G:E===n(f)&&r(f),z(ie)}else r(f);E=n(f)}if(E!==null)var ae=!0;else{var ce=n(g);ce!==null&&Be(J,ce.startTime-ie),ae=!1}return ae}finally{E=null,T=ne,A=!1}}var Q=!1,x=null,I=-1,k=5,P=-1;function D(){return!(t.unstable_now()-P<k)}function F(){if(x!==null){var ee=t.unstable_now();P=ee;var ie=!0;try{ie=x(!0,ee)}finally{ie?R():(Q=!1,x=null)}}else Q=!1}var R;if(typeof V=="function")R=function(){V(F)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,Ee=ze.port2;ze.port1.onmessage=F,R=function(){Ee.postMessage(null)}}else R=function(){O(F,0)};function He(ee){x=ee,Q||(Q=!0,R())}function Be(ee,ie){I=O(function(){ee(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){L||A||(L=!0,He(se))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ee){switch(T){case 1:case 2:case 3:var ie=3;break;default:ie=T}var ne=T;T=ie;try{return ee()}finally{T=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ne=T;T=ee;try{return ie()}finally{T=ne}},t.unstable_scheduleCallback=function(ee,ie,ne){var M=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?M+ne:M):ne=M,ee){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ne+G,ee={id:v++,callback:ie,priorityLevel:ee,startTime:ne,expirationTime:G,sortIndex:-1},ne>M?(ee.sortIndex=ne,e(g,ee),n(f)===null&&ee===n(g)&&(U?(W(I),I=-1):U=!0,Be(J,ne-M))):(ee.sortIndex=G,e(f,ee),L||A||(L=!0,He(se))),ee},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(ee){var ie=T;return function(){var ne=T;T=ie;try{return ee.apply(this,arguments)}finally{T=ne}}}})(Mm)),Mm}var F_;function Lx(){return F_||(F_=1,Lm.exports=jx()),Lm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function Mx(){if($_)return mr;$_=1;var t=Jg(),e=Lx();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function T(s){return f.call(E,s)?!0:f.call(v,s)?!1:g.test(s)?E[s]=!0:(v[s]=!0,!1)}function A(s,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function L(s,o,l,d){if(o===null||typeof o>"u"||A(s,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function U(s,o,l,d,p,w,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=b}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){O[s]=new U(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];O[o]=new U(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){O[s]=new U(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){O[s]=new U(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){O[s]=new U(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){O[s]=new U(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){O[s]=new U(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){O[s]=new U(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){O[s]=new U(s,5,!1,s.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(W,V);O[o]=new U(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(W,V);O[o]=new U(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(W,V);O[o]=new U(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){O[s]=new U(s,1,!1,s.toLowerCase(),null,!1,!1)}),O.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){O[s]=new U(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,o,l,d){var p=O.hasOwnProperty(o)?O[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(L(o,l,p,d)&&(l=null),d||p===null?T(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,d=p.attributeNamespace,l===null?s.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?s.setAttributeNS(d,o,l):s.setAttribute(o,l))))}var J=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),Q=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ie(s){return s===null||typeof s!="object"?null:(s=ee&&s[ee]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,M;function G(s){if(M===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);M=o&&o[1]||""}return`
`+M+s}var ae=!1;function ce(s,o){if(!s||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var d=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){d=X}s.call(o.prototype)}else{try{throw Error()}catch(X){d=X}s()}}catch(X){if(X&&d&&typeof X.stack=="string"){for(var p=X.stack.split(`
`),w=d.stack.split(`
`),b=p.length-1,N=w.length-1;1<=b&&0<=N&&p[b]!==w[N];)N--;for(;1<=b&&0<=N;b--,N--)if(p[b]!==w[N]){if(b!==1||N!==1)do if(b--,N--,0>N||p[b]!==w[N]){var $=`
`+p[b].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=b&&0<=N);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?G(s):""}function _e(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=ce(s.type,!1),s;case 11:return s=ce(s.type.render,!1),s;case 1:return s=ce(s.type,!0),s;default:return""}}function ke(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case Q:return"Portal";case k:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case ze:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case P:return(s._context.displayName||"Context")+".Provider";case F:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ee:return o=s.displayName||null,o!==null?o:ke(s.type)||"Memo";case He:o=s._payload,s=s._init;try{return ke(s(o))}catch{}}return null}function Je(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function We(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(s){var o=Xe(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,w=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return p.call(this)},set:function(b){d=""+b,w.call(this,b)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Y(s){s._valueTracker||(s._valueTracker=Et(s))}function Te(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return s&&(d=Xe(s)?s.checked?"true":"false":s.value),s=d,s!==l?(o.setValue(s),!0):!1}function ve(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function De(s,o){var l=o.checked;return ne({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function ye(s,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=We(o.value!=null?o.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function xe(s,o){o=o.checked,o!=null&&z(s,"checked",o,!1)}function me(s,o){xe(s,o);var l=We(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Le(s,o.type,l):o.hasOwnProperty("defaultValue")&&Le(s,o.type,We(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function he(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function Le(s,o,l){(o!=="number"||ve(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var be=Array.isArray;function Ze(s,o,l,d){if(s=s.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=o.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&d&&(s[l].defaultSelected=!0)}else{for(l=""+We(l),o=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}o!==null||s[p].disabled||(o=s[p])}o!==null&&(o.selected=!0)}}function St(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function tt(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(be(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:We(l)}}function ot(s,o){var l=We(o.value),d=We(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function at(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function lt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?lt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var vr,jo=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,p){MSApp.execUnsafeLocalFunction(function(){return s(o,l,d,p)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(vr=vr||document.createElement("div"),vr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=vr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Es(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cs=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(s){Cs.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),bs[o]=bs[s]})});function Lo(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||bs.hasOwnProperty(s)&&bs[s]?(""+o).trim():o+"px"}function Mo(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Lo(l,o[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,p):s[l]=p}}var Ni=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(s,o){if(o){if(Ni[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Fo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xs=null;function Zs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Di=null,Qn=null,_r=null;function Lr(s){if(s=Nc(s)){if(typeof Di!="function")throw Error(n(280));var o=s.stateNode;o&&(o=wd(o),Di(s.stateNode,s.type,o))}}function Mr(s){Qn?_r?_r.push(s):_r=[s]:Qn=s}function $o(){if(Qn){var s=Qn,o=_r;if(_r=Qn=null,Lr(s),o)for(s=0;s<o.length;s++)Lr(o[s])}}function Ts(s,o){return s(o)}function Oi(){}var Vr=!1;function ji(s,o,l){if(Vr)return s(o,l);Vr=!0;try{return Ts(s,o,l)}finally{Vr=!1,(Qn!==null||_r!==null)&&(Oi(),$o())}}function Ft(s,o){var l=s.stateNode;if(l===null)return null;var d=wd(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var ei=!1;if(h)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){ei=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{ei=!1}function Is(s,o,l,d,p,w,b,N,$){var X=Array.prototype.slice.call(arguments,3);try{o.apply(l,X)}catch(ue){this.onError(ue)}}var ti=!1,Li=null,rn=!1,Rn=null,Uo={onError:function(s){ti=!0,Li=s}};function ni(s,o,l,d,p,w,b,N,$){ti=!1,Li=null,Is.apply(Uo,arguments)}function Bo(s,o,l,d,p,w,b,N,$){if(ni.apply(this,arguments),ti){if(ti){var X=Li;ti=!1,Li=null}else throw Error(n(198));rn||(rn=!0,Rn=X)}}function Kt(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function or(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Er(s){if(Kt(s)!==s)throw Error(n(188))}function Fr(s){var o=s.alternate;if(!o){if(o=Kt(s),o===null)throw Error(n(188));return o!==s?null:s}for(var l=s,d=o;;){var p=l.return;if(p===null)break;var w=p.alternate;if(w===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===w.child){for(w=p.child;w;){if(w===l)return Er(p),s;if(w===d)return Er(p),o;w=w.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=w;else{for(var b=!1,N=p.child;N;){if(N===l){b=!0,l=p,d=w;break}if(N===d){b=!0,d=p,l=w;break}N=N.sibling}if(!b){for(N=w.child;N;){if(N===l){b=!0,l=w,d=p;break}if(N===d){b=!0,d=w,l=p;break}N=N.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:o}function Mi(s){return s=Fr(s),s!==null?ts(s):null}function ts(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ts(s);if(o!==null)return o;s=s.sibling}return null}var ri=e.unstable_scheduleCallback,zo=e.unstable_cancelCallback,Fa=e.unstable_shouldYield,gc=e.unstable_requestPaint,Rt=e.unstable_now,Yt=e.unstable_getCurrentPriorityLevel,br=e.unstable_ImmediatePriority,xs=e.unstable_UserBlockingPriority,ar=e.unstable_NormalPriority,Ho=e.unstable_LowPriority,$a=e.unstable_IdlePriority,si=null,Yn=null;function Ua(s){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(si,s,void 0,(s.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:za,qo=Math.log,Ba=Math.LN2;function za(s){return s>>>=0,s===0?32:31-(qo(s)/Ba|0)|0}var Me=64,rt=4194304;function $t(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function pn(s,o){var l=s.pendingLanes;if(l===0)return 0;var d=0,p=s.suspendedLanes,w=s.pingedLanes,b=l&268435455;if(b!==0){var N=b&~p;N!==0?d=$t(N):(w&=b,w!==0&&(d=$t(w)))}else b=l&~p,b!==0?d=$t(b):w!==0&&(d=$t(w));if(d===0)return 0;if(o!==0&&o!==d&&(o&p)===0&&(p=d&-d,w=o&-o,p>=w||p===16&&(w&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)l=31-Jt(o),p=1<<l,d|=s[l],o&=~p;return d}function qe(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cr(s,o){for(var l=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,w=s.pendingLanes;0<w;){var b=31-Jt(w),N=1<<b,$=p[b];$===-1?((N&l)===0||(N&d)!==0)&&(p[b]=qe(N,o)):$<=o&&(s.expiredLanes|=N),w&=~N}}function sn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Fn(){var s=Me;return Me<<=1,(Me&4194240)===0&&(Me=64),s}function Vi(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Fi(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Jt(o),s[o]=l}function Nt(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-Jt(l),w=1<<p;o[p]=0,d[p]=-1,s[p]=-1,l&=~w}}function $i(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var d=31-Jt(l),p=1<<d;p&o|s[d]&o&&(s[d]|=o),l&=~p}}var ht=0;function Ui(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Yu,Ha,Xu,Zu,ed,yc=!1,Ss=[],Pn=null,ns=null,rs=null,Bi=new Map,$r=new Map,ks=[],up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function td(s,o){switch(s){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Bi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(o.pointerId)}}function lr(s,o,l,d,p,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:w,targetContainers:[p]},o!==null&&(o=Nc(o),o!==null&&Ha(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),s)}function dp(s,o,l,d,p){switch(o){case"focusin":return Pn=lr(Pn,s,o,l,d,p),!0;case"dragenter":return ns=lr(ns,s,o,l,d,p),!0;case"mouseover":return rs=lr(rs,s,o,l,d,p),!0;case"pointerover":var w=p.pointerId;return Bi.set(w,lr(Bi.get(w)||null,s,o,l,d,p)),!0;case"gotpointercapture":return w=p.pointerId,$r.set(w,lr($r.get(w)||null,s,o,l,d,p)),!0}return!1}function nd(s){var o=Qo(s.target);if(o!==null){var l=Kt(o);if(l!==null){if(o=l.tag,o===13){if(o=or(l),o!==null){s.blockedOn=o,ed(s.priority,function(){Xu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ii(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=qa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Xs=d,l.target.dispatchEvent(d),Xs=null}else return o=Nc(l),o!==null&&Ha(o),s.blockedOn=l,!1;o.shift()}return!0}function Wo(s,o,l){ii(s)&&l.delete(o)}function rd(){yc=!1,Pn!==null&&ii(Pn)&&(Pn=null),ns!==null&&ii(ns)&&(ns=null),rs!==null&&ii(rs)&&(rs=null),Bi.forEach(Wo),$r.forEach(Wo)}function ss(s,o){s.blockedOn===o&&(s.blockedOn=null,yc||(yc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rd)))}function is(s){function o(p){return ss(p,s)}if(0<Ss.length){ss(Ss[0],s);for(var l=1;l<Ss.length;l++){var d=Ss[l];d.blockedOn===s&&(d.blockedOn=null)}}for(Pn!==null&&ss(Pn,s),ns!==null&&ss(ns,s),rs!==null&&ss(rs,s),Bi.forEach(o),$r.forEach(o),l=0;l<ks.length;l++)d=ks[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<ks.length&&(l=ks[0],l.blockedOn===null);)nd(l),l.blockedOn===null&&ks.shift()}var oi=J.ReactCurrentBatchConfig,zi=!0;function Ut(s,o,l,d){var p=ht,w=oi.transition;oi.transition=null;try{ht=1,wc(s,o,l,d)}finally{ht=p,oi.transition=w}}function hp(s,o,l,d){var p=ht,w=oi.transition;oi.transition=null;try{ht=4,wc(s,o,l,d)}finally{ht=p,oi.transition=w}}function wc(s,o,l,d){if(zi){var p=qa(s,o,l,d);if(p===null)Cp(s,o,d,Go,l),td(s,d);else if(dp(p,s,o,l,d))d.stopPropagation();else if(td(s,d),o&4&&-1<up.indexOf(s)){for(;p!==null;){var w=Nc(p);if(w!==null&&Yu(w),w=qa(s,o,l,d),w===null&&Cp(s,o,d,Go,l),w===p)break;p=w}p!==null&&d.stopPropagation()}else Cp(s,o,d,null,l)}}var Go=null;function qa(s,o,l,d){if(Go=null,s=Zs(d),s=Qo(s),s!==null)if(o=Kt(s),o===null)s=null;else if(l=o.tag,l===13){if(s=or(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Go=s,null}function vc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yt()){case br:return 1;case xs:return 4;case ar:case Ho:return 16;case $a:return 536870912;default:return 16}default:return 16}}var Tr=null,Wa=null,cr=null;function _c(){if(cr)return cr;var s,o=Wa,l=o.length,d,p="value"in Tr?Tr.value:Tr.textContent,w=p.length;for(s=0;s<l&&o[s]===p[s];s++);var b=l-s;for(d=1;d<=b&&o[l-d]===p[w-d];d++);return cr=p.slice(s,1<d?1-d:void 0)}function Ga(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Rs(){return!0}function Ec(){return!1}function An(s){function o(l,d,p,w,b){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=w,this.target=b,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(w):w[N]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Rs:Ec,this.isPropagationStopped=Ec,this}return ne(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),o}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=An(os),Ps=ne({},os,{view:0,detail:0}),fp=An(Ps),Ja,ai,Hi,Ko=ne({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hi&&(Hi&&s.type==="mousemove"?(Ja=s.screenX-Hi.screenX,ai=s.screenY-Hi.screenY):ai=Ja=0,Hi=s),Ja)},movementY:function(s){return"movementY"in s?s.movementY:ai}}),Qa=An(Ko),bc=ne({},Ko,{dataTransfer:0}),sd=An(bc),Ya=ne({},Ps,{relatedTarget:0}),Xa=An(Ya),id=ne({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),li=An(id),od=ne({},os,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ad=An(od),ld=ne({},os,{data:0}),Cc=An(ld),Za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ud(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=cd[s])?!!o[s]:!1}function As(){return ud}var u=ne({},Ps,{key:function(s){if(s.key){var o=Za[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ga(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Xn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(s){return s.type==="keypress"?Ga(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ga(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=An(u),_=ne({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=An(_),H=ne({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),Z=An(H),ge=ne({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),It=An(ge),mn=ne({},Ko,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ft=An(mn),En=[9,13,27,32],on=h&&"CompositionEvent"in window,Ur=null;h&&"documentMode"in document&&(Ur=document.documentMode);var Ir=h&&"TextEvent"in window&&!Ur,Jo=h&&(!on||Ur&&8<Ur&&11>=Ur),el=" ",kw=!1;function Rw(s,o){switch(s){case"keyup":return En.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var tl=!1;function kI(s,o){switch(s){case"compositionend":return Pw(o);case"keypress":return o.which!==32?null:(kw=!0,el);case"textInput":return s=o.data,s===el&&kw?null:s;default:return null}}function RI(s,o){if(tl)return s==="compositionend"||!on&&Rw(s,o)?(s=_c(),cr=Wa=Tr=null,tl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Jo&&o.locale!=="ko"?null:o.data;default:return null}}var PI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aw(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!PI[s.type]:o==="textarea"}function Nw(s,o,l,d){Mr(d),o=md(o,"onChange"),0<o.length&&(l=new Ka("onChange","change",null,l,d),s.push({event:l,listeners:o}))}var Tc=null,Ic=null;function AI(s){Qw(s,0)}function dd(s){var o=ol(s);if(Te(o))return s}function NI(s,o){if(s==="change")return o}var Dw=!1;if(h){var pp;if(h){var mp="oninput"in document;if(!mp){var Ow=document.createElement("div");Ow.setAttribute("oninput","return;"),mp=typeof Ow.oninput=="function"}pp=mp}else pp=!1;Dw=pp&&(!document.documentMode||9<document.documentMode)}function jw(){Tc&&(Tc.detachEvent("onpropertychange",Lw),Ic=Tc=null)}function Lw(s){if(s.propertyName==="value"&&dd(Ic)){var o=[];Nw(o,Ic,s,Zs(s)),ji(AI,o)}}function DI(s,o,l){s==="focusin"?(jw(),Tc=o,Ic=l,Tc.attachEvent("onpropertychange",Lw)):s==="focusout"&&jw()}function OI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return dd(Ic)}function jI(s,o){if(s==="click")return dd(o)}function LI(s,o){if(s==="input"||s==="change")return dd(o)}function MI(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var as=typeof Object.is=="function"?Object.is:MI;function xc(s,o){if(as(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(o,p)||!as(s[p],o[p]))return!1}return!0}function Mw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Vw(s,o){var l=Mw(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=o&&d>=o)return{node:l,offset:o-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Mw(l)}}function Fw(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Fw(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function $w(){for(var s=window,o=ve();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=ve(s.document)}return o}function gp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function VI(s){var o=$w(),l=s.focusedElem,d=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&Fw(l.ownerDocument.documentElement,l)){if(d!==null&&gp(l)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,w=Math.min(d.start,p);d=d.end===void 0?w:Math.min(d.end,p),!s.extend&&w>d&&(p=d,d=w,w=p),p=Vw(l,w);var b=Vw(l,d);p&&b&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),s.removeAllRanges(),w>d?(s.addRange(o),s.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var FI=h&&"documentMode"in document&&11>=document.documentMode,nl=null,yp=null,Sc=null,wp=!1;function Uw(s,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;wp||nl==null||nl!==ve(d)||(d=nl,"selectionStart"in d&&gp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Sc&&xc(Sc,d)||(Sc=d,d=md(yp,"onSelect"),0<d.length&&(o=new Ka("onSelect","select",null,o,l),s.push({event:o,listeners:d}),o.target=nl)))}function hd(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var rl={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},vp={},Bw={};h&&(Bw=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function fd(s){if(vp[s])return vp[s];if(!rl[s])return s;var o=rl[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Bw)return vp[s]=o[l];return s}var zw=fd("animationend"),Hw=fd("animationiteration"),qw=fd("animationstart"),Ww=fd("transitionend"),Gw=new Map,Kw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(s,o){Gw.set(s,o),a(o,[s])}for(var _p=0;_p<Kw.length;_p++){var Ep=Kw[_p],$I=Ep.toLowerCase(),UI=Ep[0].toUpperCase()+Ep.slice(1);qi($I,"on"+UI)}qi(zw,"onAnimationEnd"),qi(Hw,"onAnimationIteration"),qi(qw,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(Ww,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BI=new Set("cancel close invalid load scroll toggle".split(" ").concat(kc));function Jw(s,o,l){var d=s.type||"unknown-event";s.currentTarget=l,Bo(d,o,void 0,s),s.currentTarget=null}function Qw(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],p=d.event;d=d.listeners;e:{var w=void 0;if(o)for(var b=d.length-1;0<=b;b--){var N=d[b],$=N.instance,X=N.currentTarget;if(N=N.listener,$!==w&&p.isPropagationStopped())break e;Jw(p,N,X),w=$}else for(b=0;b<d.length;b++){if(N=d[b],$=N.instance,X=N.currentTarget,N=N.listener,$!==w&&p.isPropagationStopped())break e;Jw(p,N,X),w=$}}}if(rn)throw s=Rn,rn=!1,Rn=null,s}function jt(s,o){var l=o[Rp];l===void 0&&(l=o[Rp]=new Set);var d=s+"__bubble";l.has(d)||(Yw(o,s,2,!1),l.add(d))}function bp(s,o,l){var d=0;o&&(d|=4),Yw(l,s,d,o)}var pd="_reactListening"+Math.random().toString(36).slice(2);function Rc(s){if(!s[pd]){s[pd]=!0,r.forEach(function(l){l!=="selectionchange"&&(BI.has(l)||bp(l,!1,s),bp(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[pd]||(o[pd]=!0,bp("selectionchange",!1,o))}}function Yw(s,o,l,d){switch(vc(o)){case 1:var p=Ut;break;case 4:p=hp;break;default:p=wc}l=p.bind(null,o,l,s),p=void 0,!ei||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(o,l,{capture:!0,passive:p}):s.addEventListener(o,l,!0):p!==void 0?s.addEventListener(o,l,{passive:p}):s.addEventListener(o,l,!1)}function Cp(s,o,l,d,p){var w=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var N=d.stateNode.containerInfo;if(N===p||N.nodeType===8&&N.parentNode===p)break;if(b===4)for(b=d.return;b!==null;){var $=b.tag;if(($===3||$===4)&&($=b.stateNode.containerInfo,$===p||$.nodeType===8&&$.parentNode===p))return;b=b.return}for(;N!==null;){if(b=Qo(N),b===null)return;if($=b.tag,$===5||$===6){d=w=b;continue e}N=N.parentNode}}d=d.return}ji(function(){var X=w,ue=Zs(l),de=[];e:{var le=Gw.get(s);if(le!==void 0){var Ce=Ka,Re=s;switch(s){case"keypress":if(Ga(l)===0)break e;case"keydown":case"keyup":Ce=y;break;case"focusin":Re="focus",Ce=Xa;break;case"focusout":Re="blur",Ce=Xa;break;case"beforeblur":case"afterblur":Ce=Xa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=Z;break;case zw:case Hw:case qw:Ce=li;break;case Ww:Ce=It;break;case"scroll":Ce=fp;break;case"wheel":Ce=ft;break;case"copy":case"cut":case"paste":Ce=ad;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=S}var Ae=(o&4)!==0,Xt=!Ae&&s==="scroll",q=Ae?le!==null?le+"Capture":null:le;Ae=[];for(var B=X,K;B!==null;){K=B;var pe=K.stateNode;if(K.tag===5&&pe!==null&&(K=pe,q!==null&&(pe=Ft(B,q),pe!=null&&Ae.push(Pc(B,pe,K)))),Xt)break;B=B.return}0<Ae.length&&(le=new Ce(le,Re,null,l,ue),de.push({event:le,listeners:Ae}))}}if((o&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",le&&l!==Xs&&(Re=l.relatedTarget||l.fromElement)&&(Qo(Re)||Re[ci]))break e;if((Ce||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,Ce?(Re=l.relatedTarget||l.toElement,Ce=X,Re=Re?Qo(Re):null,Re!==null&&(Xt=Kt(Re),Re!==Xt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Ce=null,Re=X),Ce!==Re)){if(Ae=Qa,pe="onMouseLeave",q="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=S,pe="onPointerLeave",q="onPointerEnter",B="pointer"),Xt=Ce==null?le:ol(Ce),K=Re==null?le:ol(Re),le=new Ae(pe,B+"leave",Ce,l,ue),le.target=Xt,le.relatedTarget=K,pe=null,Qo(ue)===X&&(Ae=new Ae(q,B+"enter",Re,l,ue),Ae.target=K,Ae.relatedTarget=Xt,pe=Ae),Xt=pe,Ce&&Re)t:{for(Ae=Ce,q=Re,B=0,K=Ae;K;K=sl(K))B++;for(K=0,pe=q;pe;pe=sl(pe))K++;for(;0<B-K;)Ae=sl(Ae),B--;for(;0<K-B;)q=sl(q),K--;for(;B--;){if(Ae===q||q!==null&&Ae===q.alternate)break t;Ae=sl(Ae),q=sl(q)}Ae=null}else Ae=null;Ce!==null&&Xw(de,le,Ce,Ae,!1),Re!==null&&Xt!==null&&Xw(de,Xt,Re,Ae,!0)}}e:{if(le=X?ol(X):window,Ce=le.nodeName&&le.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&le.type==="file")var Oe=NI;else if(Aw(le))if(Dw)Oe=LI;else{Oe=OI;var Fe=DI}else(Ce=le.nodeName)&&Ce.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Oe=jI);if(Oe&&(Oe=Oe(s,X))){Nw(de,Oe,l,ue);break e}Fe&&Fe(s,le,X),s==="focusout"&&(Fe=le._wrapperState)&&Fe.controlled&&le.type==="number"&&Le(le,"number",le.value)}switch(Fe=X?ol(X):window,s){case"focusin":(Aw(Fe)||Fe.contentEditable==="true")&&(nl=Fe,yp=X,Sc=null);break;case"focusout":Sc=yp=nl=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,Uw(de,l,ue);break;case"selectionchange":if(FI)break;case"keydown":case"keyup":Uw(de,l,ue)}var $e;if(on)e:{switch(s){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else tl?Rw(s,l)&&(Qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Qe="onCompositionStart");Qe&&(Jo&&l.locale!=="ko"&&(tl||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&tl&&($e=_c()):(Tr=ue,Wa="value"in Tr?Tr.value:Tr.textContent,tl=!0)),Fe=md(X,Qe),0<Fe.length&&(Qe=new Cc(Qe,s,null,l,ue),de.push({event:Qe,listeners:Fe}),$e?Qe.data=$e:($e=Pw(l),$e!==null&&(Qe.data=$e)))),($e=Ir?kI(s,l):RI(s,l))&&(X=md(X,"onBeforeInput"),0<X.length&&(ue=new Cc("onBeforeInput","beforeinput",null,l,ue),de.push({event:ue,listeners:X}),ue.data=$e))}Qw(de,o)})}function Pc(s,o,l){return{instance:s,listener:o,currentTarget:l}}function md(s,o){for(var l=o+"Capture",d=[];s!==null;){var p=s,w=p.stateNode;p.tag===5&&w!==null&&(p=w,w=Ft(s,l),w!=null&&d.unshift(Pc(s,w,p)),w=Ft(s,o),w!=null&&d.push(Pc(s,w,p))),s=s.return}return d}function sl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Xw(s,o,l,d,p){for(var w=o._reactName,b=[];l!==null&&l!==d;){var N=l,$=N.alternate,X=N.stateNode;if($!==null&&$===d)break;N.tag===5&&X!==null&&(N=X,p?($=Ft(l,w),$!=null&&b.unshift(Pc(l,$,N))):p||($=Ft(l,w),$!=null&&b.push(Pc(l,$,N)))),l=l.return}b.length!==0&&s.push({event:o,listeners:b})}var zI=/\r\n?/g,HI=/\u0000|\uFFFD/g;function Zw(s){return(typeof s=="string"?s:""+s).replace(zI,`
`).replace(HI,"")}function gd(s,o,l){if(o=Zw(o),Zw(s)!==o&&l)throw Error(n(425))}function yd(){}var Tp=null,Ip=null;function xp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,qI=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,WI=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(s){return ev.resolve(null).then(s).catch(GI)}:Sp;function GI(s){setTimeout(function(){throw s})}function kp(s,o){var l=o,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){s.removeChild(p),is(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);is(o)}function Wi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function tv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var il=Math.random().toString(36).slice(2),Ns="__reactFiber$"+il,Ac="__reactProps$"+il,ci="__reactContainer$"+il,Rp="__reactEvents$"+il,KI="__reactListeners$"+il,JI="__reactHandles$"+il;function Qo(s){var o=s[Ns];if(o)return o;for(var l=s.parentNode;l;){if(o=l[ci]||l[Ns]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=tv(s);s!==null;){if(l=s[Ns])return l;s=tv(s)}return o}s=l,l=s.parentNode}return null}function Nc(s){return s=s[Ns]||s[ci],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ol(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function wd(s){return s[Ac]||null}var Pp=[],al=-1;function Gi(s){return{current:s}}function Lt(s){0>al||(s.current=Pp[al],Pp[al]=null,al--)}function Dt(s,o){al++,Pp[al]=s.current,s.current=o}var Ki={},$n=Gi(Ki),ur=Gi(!1),Yo=Ki;function ll(s,o){var l=s.type.contextTypes;if(!l)return Ki;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},w;for(w in l)p[w]=o[w];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=p),p}function dr(s){return s=s.childContextTypes,s!=null}function vd(){Lt(ur),Lt($n)}function nv(s,o,l){if($n.current!==Ki)throw Error(n(168));Dt($n,o),Dt(ur,l)}function rv(s,o,l){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(n(108,Je(s)||"Unknown",p));return ne({},l,d)}function _d(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ki,Yo=$n.current,Dt($n,s),Dt(ur,ur.current),!0}function sv(s,o,l){var d=s.stateNode;if(!d)throw Error(n(169));l?(s=rv(s,o,Yo),d.__reactInternalMemoizedMergedChildContext=s,Lt(ur),Lt($n),Dt($n,s)):Lt(ur),Dt(ur,l)}var ui=null,Ed=!1,Ap=!1;function iv(s){ui===null?ui=[s]:ui.push(s)}function QI(s){Ed=!0,iv(s)}function Ji(){if(!Ap&&ui!==null){Ap=!0;var s=0,o=ht;try{var l=ui;for(ht=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}ui=null,Ed=!1}catch(p){throw ui!==null&&(ui=ui.slice(s+1)),ri(br,Ji),p}finally{ht=o,Ap=!1}}return null}var cl=[],ul=0,bd=null,Cd=0,Br=[],zr=0,Xo=null,di=1,hi="";function Zo(s,o){cl[ul++]=Cd,cl[ul++]=bd,bd=s,Cd=o}function ov(s,o,l){Br[zr++]=di,Br[zr++]=hi,Br[zr++]=Xo,Xo=s;var d=di;s=hi;var p=32-Jt(d)-1;d&=~(1<<p),l+=1;var w=32-Jt(o)+p;if(30<w){var b=p-p%5;w=(d&(1<<b)-1).toString(32),d>>=b,p-=b,di=1<<32-Jt(o)+p|l<<p|d,hi=w+s}else di=1<<w|l<<p|d,hi=s}function Np(s){s.return!==null&&(Zo(s,1),ov(s,1,0))}function Dp(s){for(;s===bd;)bd=cl[--ul],cl[ul]=null,Cd=cl[--ul],cl[ul]=null;for(;s===Xo;)Xo=Br[--zr],Br[zr]=null,hi=Br[--zr],Br[zr]=null,di=Br[--zr],Br[zr]=null}var xr=null,Sr=null,Bt=!1,ls=null;function av(s,o){var l=Gr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function lv(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,xr=s,Sr=Wi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,xr=s,Sr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Xo!==null?{id:di,overflow:hi}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Gr(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,xr=s,Sr=null,!0):!1;default:return!1}}function Op(s){return(s.mode&1)!==0&&(s.flags&128)===0}function jp(s){if(Bt){var o=Sr;if(o){var l=o;if(!lv(s,o)){if(Op(s))throw Error(n(418));o=Wi(l.nextSibling);var d=xr;o&&lv(s,o)?av(d,l):(s.flags=s.flags&-4097|2,Bt=!1,xr=s)}}else{if(Op(s))throw Error(n(418));s.flags=s.flags&-4097|2,Bt=!1,xr=s}}}function cv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xr=s}function Td(s){if(s!==xr)return!1;if(!Bt)return cv(s),Bt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!xp(s.type,s.memoizedProps)),o&&(o=Sr)){if(Op(s))throw uv(),Error(n(418));for(;o;)av(s,o),o=Wi(o.nextSibling)}if(cv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){Sr=Wi(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}Sr=null}}else Sr=xr?Wi(s.stateNode.nextSibling):null;return!0}function uv(){for(var s=Sr;s;)s=Wi(s.nextSibling)}function dl(){Sr=xr=null,Bt=!1}function Lp(s){ls===null?ls=[s]:ls.push(s)}var YI=J.ReactCurrentBatchConfig;function Dc(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,s));var p=d,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(b){var N=p.refs;b===null?delete N[w]:N[w]=b},o._stringRef=w,o)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function Id(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function dv(s){var o=s._init;return o(s._payload)}function hv(s){function o(q,B){if(s){var K=q.deletions;K===null?(q.deletions=[B],q.flags|=16):K.push(B)}}function l(q,B){if(!s)return null;for(;B!==null;)o(q,B),B=B.sibling;return null}function d(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function p(q,B){return q=ro(q,B),q.index=0,q.sibling=null,q}function w(q,B,K){return q.index=K,s?(K=q.alternate,K!==null?(K=K.index,K<B?(q.flags|=2,B):K):(q.flags|=2,B)):(q.flags|=1048576,B)}function b(q){return s&&q.alternate===null&&(q.flags|=2),q}function N(q,B,K,pe){return B===null||B.tag!==6?(B=Sm(K,q.mode,pe),B.return=q,B):(B=p(B,K),B.return=q,B)}function $(q,B,K,pe){var Oe=K.type;return Oe===x?ue(q,B,K.props.children,pe,K.key):B!==null&&(B.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===He&&dv(Oe)===B.type)?(pe=p(B,K.props),pe.ref=Dc(q,B,K),pe.return=q,pe):(pe=Jd(K.type,K.key,K.props,null,q.mode,pe),pe.ref=Dc(q,B,K),pe.return=q,pe)}function X(q,B,K,pe){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=km(K,q.mode,pe),B.return=q,B):(B=p(B,K.children||[]),B.return=q,B)}function ue(q,B,K,pe,Oe){return B===null||B.tag!==7?(B=aa(K,q.mode,pe,Oe),B.return=q,B):(B=p(B,K),B.return=q,B)}function de(q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Sm(""+B,q.mode,K),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case se:return K=Jd(B.type,B.key,B.props,null,q.mode,K),K.ref=Dc(q,null,B),K.return=q,K;case Q:return B=km(B,q.mode,K),B.return=q,B;case He:var pe=B._init;return de(q,pe(B._payload),K)}if(be(B)||ie(B))return B=aa(B,q.mode,K,null),B.return=q,B;Id(q,B)}return null}function le(q,B,K,pe){var Oe=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Oe!==null?null:N(q,B,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case se:return K.key===Oe?$(q,B,K,pe):null;case Q:return K.key===Oe?X(q,B,K,pe):null;case He:return Oe=K._init,le(q,B,Oe(K._payload),pe)}if(be(K)||ie(K))return Oe!==null?null:ue(q,B,K,pe,null);Id(q,K)}return null}function Ce(q,B,K,pe,Oe){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return q=q.get(K)||null,N(B,q,""+pe,Oe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case se:return q=q.get(pe.key===null?K:pe.key)||null,$(B,q,pe,Oe);case Q:return q=q.get(pe.key===null?K:pe.key)||null,X(B,q,pe,Oe);case He:var Fe=pe._init;return Ce(q,B,K,Fe(pe._payload),Oe)}if(be(pe)||ie(pe))return q=q.get(K)||null,ue(B,q,pe,Oe,null);Id(B,pe)}return null}function Re(q,B,K,pe){for(var Oe=null,Fe=null,$e=B,Qe=B=0,Tn=null;$e!==null&&Qe<K.length;Qe++){$e.index>Qe?(Tn=$e,$e=null):Tn=$e.sibling;var yt=le(q,$e,K[Qe],pe);if(yt===null){$e===null&&($e=Tn);break}s&&$e&&yt.alternate===null&&o(q,$e),B=w(yt,B,Qe),Fe===null?Oe=yt:Fe.sibling=yt,Fe=yt,$e=Tn}if(Qe===K.length)return l(q,$e),Bt&&Zo(q,Qe),Oe;if($e===null){for(;Qe<K.length;Qe++)$e=de(q,K[Qe],pe),$e!==null&&(B=w($e,B,Qe),Fe===null?Oe=$e:Fe.sibling=$e,Fe=$e);return Bt&&Zo(q,Qe),Oe}for($e=d(q,$e);Qe<K.length;Qe++)Tn=Ce($e,q,Qe,K[Qe],pe),Tn!==null&&(s&&Tn.alternate!==null&&$e.delete(Tn.key===null?Qe:Tn.key),B=w(Tn,B,Qe),Fe===null?Oe=Tn:Fe.sibling=Tn,Fe=Tn);return s&&$e.forEach(function(so){return o(q,so)}),Bt&&Zo(q,Qe),Oe}function Ae(q,B,K,pe){var Oe=ie(K);if(typeof Oe!="function")throw Error(n(150));if(K=Oe.call(K),K==null)throw Error(n(151));for(var Fe=Oe=null,$e=B,Qe=B=0,Tn=null,yt=K.next();$e!==null&&!yt.done;Qe++,yt=K.next()){$e.index>Qe?(Tn=$e,$e=null):Tn=$e.sibling;var so=le(q,$e,yt.value,pe);if(so===null){$e===null&&($e=Tn);break}s&&$e&&so.alternate===null&&o(q,$e),B=w(so,B,Qe),Fe===null?Oe=so:Fe.sibling=so,Fe=so,$e=Tn}if(yt.done)return l(q,$e),Bt&&Zo(q,Qe),Oe;if($e===null){for(;!yt.done;Qe++,yt=K.next())yt=de(q,yt.value,pe),yt!==null&&(B=w(yt,B,Qe),Fe===null?Oe=yt:Fe.sibling=yt,Fe=yt);return Bt&&Zo(q,Qe),Oe}for($e=d(q,$e);!yt.done;Qe++,yt=K.next())yt=Ce($e,q,Qe,yt.value,pe),yt!==null&&(s&&yt.alternate!==null&&$e.delete(yt.key===null?Qe:yt.key),B=w(yt,B,Qe),Fe===null?Oe=yt:Fe.sibling=yt,Fe=yt);return s&&$e.forEach(function(Px){return o(q,Px)}),Bt&&Zo(q,Qe),Oe}function Xt(q,B,K,pe){if(typeof K=="object"&&K!==null&&K.type===x&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case se:e:{for(var Oe=K.key,Fe=B;Fe!==null;){if(Fe.key===Oe){if(Oe=K.type,Oe===x){if(Fe.tag===7){l(q,Fe.sibling),B=p(Fe,K.props.children),B.return=q,q=B;break e}}else if(Fe.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===He&&dv(Oe)===Fe.type){l(q,Fe.sibling),B=p(Fe,K.props),B.ref=Dc(q,Fe,K),B.return=q,q=B;break e}l(q,Fe);break}else o(q,Fe);Fe=Fe.sibling}K.type===x?(B=aa(K.props.children,q.mode,pe,K.key),B.return=q,q=B):(pe=Jd(K.type,K.key,K.props,null,q.mode,pe),pe.ref=Dc(q,B,K),pe.return=q,q=pe)}return b(q);case Q:e:{for(Fe=K.key;B!==null;){if(B.key===Fe)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){l(q,B.sibling),B=p(B,K.children||[]),B.return=q,q=B;break e}else{l(q,B);break}else o(q,B);B=B.sibling}B=km(K,q.mode,pe),B.return=q,q=B}return b(q);case He:return Fe=K._init,Xt(q,B,Fe(K._payload),pe)}if(be(K))return Re(q,B,K,pe);if(ie(K))return Ae(q,B,K,pe);Id(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(l(q,B.sibling),B=p(B,K),B.return=q,q=B):(l(q,B),B=Sm(K,q.mode,pe),B.return=q,q=B),b(q)):l(q,B)}return Xt}var hl=hv(!0),fv=hv(!1),xd=Gi(null),Sd=null,fl=null,Mp=null;function Vp(){Mp=fl=Sd=null}function Fp(s){var o=xd.current;Lt(xd),s._currentValue=o}function $p(s,o,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===l)break;s=s.return}}function pl(s,o){Sd=s,Mp=fl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(hr=!0),s.firstContext=null)}function Hr(s){var o=s._currentValue;if(Mp!==s)if(s={context:s,memoizedValue:o,next:null},fl===null){if(Sd===null)throw Error(n(308));fl=s,Sd.dependencies={lanes:0,firstContext:s}}else fl=fl.next=s;return o}var ea=null;function Up(s){ea===null?ea=[s]:ea.push(s)}function pv(s,o,l,d){var p=o.interleaved;return p===null?(l.next=l,Up(o)):(l.next=p.next,p.next=l),o.interleaved=l,fi(s,d)}function fi(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Qi=!1;function Bp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function pi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Yi(s,o,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(gt&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,fi(s,l)}return p=d.interleaved,p===null?(o.next=o,Up(d)):(o.next=p.next,p.next=o),d.interleaved=o,fi(s,l)}function kd(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,$i(s,l)}}function gv(s,o){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};w===null?p=w=b:w=w.next=b,l=l.next}while(l!==null);w===null?p=w=o:w=w.next=o}else p=w=o;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:w,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function Rd(s,o,l,d){var p=s.updateQueue;Qi=!1;var w=p.firstBaseUpdate,b=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var $=N,X=$.next;$.next=null,b===null?w=X:b.next=X,b=$;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,N=ue.lastBaseUpdate,N!==b&&(N===null?ue.firstBaseUpdate=X:N.next=X,ue.lastBaseUpdate=$))}if(w!==null){var de=p.baseState;b=0,ue=X=$=null,N=w;do{var le=N.lane,Ce=N.eventTime;if((d&le)===le){ue!==null&&(ue=ue.next={eventTime:Ce,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var Re=s,Ae=N;switch(le=o,Ce=l,Ae.tag){case 1:if(Re=Ae.payload,typeof Re=="function"){de=Re.call(Ce,de,le);break e}de=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ae.payload,le=typeof Re=="function"?Re.call(Ce,de,le):Re,le==null)break e;de=ne({},de,le);break e;case 2:Qi=!0}}N.callback!==null&&N.lane!==0&&(s.flags|=64,le=p.effects,le===null?p.effects=[N]:le.push(N))}else Ce={eventTime:Ce,lane:le,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ue===null?(X=ue=Ce,$=de):ue=ue.next=Ce,b|=le;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;le=N,N=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);if(ue===null&&($=de),p.baseState=$,p.firstBaseUpdate=X,p.lastBaseUpdate=ue,o=p.shared.interleaved,o!==null){p=o;do b|=p.lane,p=p.next;while(p!==o)}else w===null&&(p.shared.lanes=0);ra|=b,s.lanes=b,s.memoizedState=de}}function yv(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Oc={},Ds=Gi(Oc),jc=Gi(Oc),Lc=Gi(Oc);function ta(s){if(s===Oc)throw Error(n(174));return s}function zp(s,o){switch(Dt(Lc,o),Dt(jc,s),Dt(Ds,Oc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:kt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=kt(o,s)}Lt(Ds),Dt(Ds,o)}function ml(){Lt(Ds),Lt(jc),Lt(Lc)}function wv(s){ta(Lc.current);var o=ta(Ds.current),l=kt(o,s.type);o!==l&&(Dt(jc,s),Dt(Ds,l))}function Hp(s){jc.current===s&&(Lt(Ds),Lt(jc))}var Ht=Gi(0);function Pd(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var qp=[];function Wp(){for(var s=0;s<qp.length;s++)qp[s]._workInProgressVersionPrimary=null;qp.length=0}var Ad=J.ReactCurrentDispatcher,Gp=J.ReactCurrentBatchConfig,na=0,qt=null,gn=null,bn=null,Nd=!1,Mc=!1,Vc=0,XI=0;function Un(){throw Error(n(321))}function Kp(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!as(s[l],o[l]))return!1;return!0}function Jp(s,o,l,d,p,w){if(na=w,qt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ad.current=s===null||s.memoizedState===null?nx:rx,s=l(d,p),Mc){w=0;do{if(Mc=!1,Vc=0,25<=w)throw Error(n(301));w+=1,bn=gn=null,o.updateQueue=null,Ad.current=sx,s=l(d,p)}while(Mc)}if(Ad.current=jd,o=gn!==null&&gn.next!==null,na=0,bn=gn=qt=null,Nd=!1,o)throw Error(n(300));return s}function Qp(){var s=Vc!==0;return Vc=0,s}function Os(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?qt.memoizedState=bn=s:bn=bn.next=s,bn}function qr(){if(gn===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=gn.next;var o=bn===null?qt.memoizedState:bn.next;if(o!==null)bn=o,gn=s;else{if(s===null)throw Error(n(310));gn=s,s={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},bn===null?qt.memoizedState=bn=s:bn=bn.next=s}return bn}function Fc(s,o){return typeof o=="function"?o(s):o}function Yp(s){var o=qr(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=gn,p=d.baseQueue,w=l.pending;if(w!==null){if(p!==null){var b=p.next;p.next=w.next,w.next=b}d.baseQueue=p=w,l.pending=null}if(p!==null){w=p.next,d=d.baseState;var N=b=null,$=null,X=w;do{var ue=X.lane;if((na&ue)===ue)$!==null&&($=$.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),d=X.hasEagerState?X.eagerState:s(d,X.action);else{var de={lane:ue,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};$===null?(N=$=de,b=d):$=$.next=de,qt.lanes|=ue,ra|=ue}X=X.next}while(X!==null&&X!==w);$===null?b=d:$.next=N,as(d,o.memoizedState)||(hr=!0),o.memoizedState=d,o.baseState=b,o.baseQueue=$,l.lastRenderedState=d}if(s=l.interleaved,s!==null){p=s;do w=p.lane,qt.lanes|=w,ra|=w,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Xp(s){var o=qr(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=l.dispatch,p=l.pending,w=o.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do w=s(w,b.action),b=b.next;while(b!==p);as(w,o.memoizedState)||(hr=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),l.lastRenderedState=w}return[w,d]}function vv(){}function _v(s,o){var l=qt,d=qr(),p=o(),w=!as(d.memoizedState,p);if(w&&(d.memoizedState=p,hr=!0),d=d.queue,Zp(Cv.bind(null,l,d,s),[s]),d.getSnapshot!==o||w||bn!==null&&bn.memoizedState.tag&1){if(l.flags|=2048,$c(9,bv.bind(null,l,d,p,o),void 0,null),Cn===null)throw Error(n(349));(na&30)!==0||Ev(l,o,p)}return p}function Ev(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=qt.updateQueue,o===null?(o={lastEffect:null,stores:null},qt.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function bv(s,o,l,d){o.value=l,o.getSnapshot=d,Tv(o)&&Iv(s)}function Cv(s,o,l){return l(function(){Tv(o)&&Iv(s)})}function Tv(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!as(s,l)}catch{return!0}}function Iv(s){var o=fi(s,1);o!==null&&hs(o,s,1,-1)}function xv(s){var o=Os();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:s},o.queue=s,s=s.dispatch=tx.bind(null,qt,s),[o.memoizedState,s]}function $c(s,o,l,d){return s={tag:s,create:o,destroy:l,deps:d,next:null},o=qt.updateQueue,o===null?(o={lastEffect:null,stores:null},qt.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,o.lastEffect=s)),s}function Sv(){return qr().memoizedState}function Dd(s,o,l,d){var p=Os();qt.flags|=s,p.memoizedState=$c(1|o,l,void 0,d===void 0?null:d)}function Od(s,o,l,d){var p=qr();d=d===void 0?null:d;var w=void 0;if(gn!==null){var b=gn.memoizedState;if(w=b.destroy,d!==null&&Kp(d,b.deps)){p.memoizedState=$c(o,l,w,d);return}}qt.flags|=s,p.memoizedState=$c(1|o,l,w,d)}function kv(s,o){return Dd(8390656,8,s,o)}function Zp(s,o){return Od(2048,8,s,o)}function Rv(s,o){return Od(4,2,s,o)}function Pv(s,o){return Od(4,4,s,o)}function Av(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Nv(s,o,l){return l=l!=null?l.concat([s]):null,Od(4,4,Av.bind(null,o,s),l)}function em(){}function Dv(s,o){var l=qr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Kp(o,d[1])?d[0]:(l.memoizedState=[s,o],s)}function Ov(s,o){var l=qr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Kp(o,d[1])?d[0]:(s=s(),l.memoizedState=[s,o],s)}function jv(s,o,l){return(na&21)===0?(s.baseState&&(s.baseState=!1,hr=!0),s.memoizedState=l):(as(l,o)||(l=Fn(),qt.lanes|=l,ra|=l,s.baseState=!0),o)}function ZI(s,o){var l=ht;ht=l!==0&&4>l?l:4,s(!0);var d=Gp.transition;Gp.transition={};try{s(!1),o()}finally{ht=l,Gp.transition=d}}function Lv(){return qr().memoizedState}function ex(s,o,l){var d=to(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Mv(s))Vv(o,l);else if(l=pv(s,o,l,d),l!==null){var p=er();hs(l,s,d,p),Fv(l,o,d)}}function tx(s,o,l){var d=to(s),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mv(s))Vv(o,p);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var b=o.lastRenderedState,N=w(b,l);if(p.hasEagerState=!0,p.eagerState=N,as(N,b)){var $=o.interleaved;$===null?(p.next=p,Up(o)):(p.next=$.next,$.next=p),o.interleaved=p;return}}catch{}finally{}l=pv(s,o,p,d),l!==null&&(p=er(),hs(l,s,d,p),Fv(l,o,d))}}function Mv(s){var o=s.alternate;return s===qt||o!==null&&o===qt}function Vv(s,o){Mc=Nd=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Fv(s,o,l){if((l&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,$i(s,l)}}var jd={readContext:Hr,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},nx={readContext:Hr,useCallback:function(s,o){return Os().memoizedState=[s,o===void 0?null:o],s},useContext:Hr,useEffect:kv,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,Dd(4194308,4,Av.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Dd(4194308,4,s,o)},useInsertionEffect:function(s,o){return Dd(4,2,s,o)},useMemo:function(s,o){var l=Os();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var d=Os();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=ex.bind(null,qt,s),[d.memoizedState,s]},useRef:function(s){var o=Os();return s={current:s},o.memoizedState=s},useState:xv,useDebugValue:em,useDeferredValue:function(s){return Os().memoizedState=s},useTransition:function(){var s=xv(!1),o=s[0];return s=ZI.bind(null,s[1]),Os().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var d=qt,p=Os();if(Bt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),Cn===null)throw Error(n(349));(na&30)!==0||Ev(d,o,l)}p.memoizedState=l;var w={value:l,getSnapshot:o};return p.queue=w,kv(Cv.bind(null,d,w,s),[s]),d.flags|=2048,$c(9,bv.bind(null,d,w,l,o),void 0,null),l},useId:function(){var s=Os(),o=Cn.identifierPrefix;if(Bt){var l=hi,d=di;l=(d&~(1<<32-Jt(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=Vc++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=XI++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},rx={readContext:Hr,useCallback:Dv,useContext:Hr,useEffect:Zp,useImperativeHandle:Nv,useInsertionEffect:Rv,useLayoutEffect:Pv,useMemo:Ov,useReducer:Yp,useRef:Sv,useState:function(){return Yp(Fc)},useDebugValue:em,useDeferredValue:function(s){var o=qr();return jv(o,gn.memoizedState,s)},useTransition:function(){var s=Yp(Fc)[0],o=qr().memoizedState;return[s,o]},useMutableSource:vv,useSyncExternalStore:_v,useId:Lv,unstable_isNewReconciler:!1},sx={readContext:Hr,useCallback:Dv,useContext:Hr,useEffect:Zp,useImperativeHandle:Nv,useInsertionEffect:Rv,useLayoutEffect:Pv,useMemo:Ov,useReducer:Xp,useRef:Sv,useState:function(){return Xp(Fc)},useDebugValue:em,useDeferredValue:function(s){var o=qr();return gn===null?o.memoizedState=s:jv(o,gn.memoizedState,s)},useTransition:function(){var s=Xp(Fc)[0],o=qr().memoizedState;return[s,o]},useMutableSource:vv,useSyncExternalStore:_v,useId:Lv,unstable_isNewReconciler:!1};function cs(s,o){if(s&&s.defaultProps){o=ne({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function tm(s,o,l,d){o=s.memoizedState,l=l(d,o),l=l==null?o:ne({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Ld={isMounted:function(s){return(s=s._reactInternals)?Kt(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var d=er(),p=to(s),w=pi(d,p);w.payload=o,l!=null&&(w.callback=l),o=Yi(s,w,p),o!==null&&(hs(o,s,p,d),kd(o,s,p))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var d=er(),p=to(s),w=pi(d,p);w.tag=1,w.payload=o,l!=null&&(w.callback=l),o=Yi(s,w,p),o!==null&&(hs(o,s,p,d),kd(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=er(),d=to(s),p=pi(l,d);p.tag=2,o!=null&&(p.callback=o),o=Yi(s,p,d),o!==null&&(hs(o,s,d,l),kd(o,s,d))}};function $v(s,o,l,d,p,w,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,w,b):o.prototype&&o.prototype.isPureReactComponent?!xc(l,d)||!xc(p,w):!0}function Uv(s,o,l){var d=!1,p=Ki,w=o.contextType;return typeof w=="object"&&w!==null?w=Hr(w):(p=dr(o)?Yo:$n.current,d=o.contextTypes,w=(d=d!=null)?ll(s,p):Ki),o=new o(l,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ld,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=w),o}function Bv(s,o,l,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==s&&Ld.enqueueReplaceState(o,o.state,null)}function nm(s,o,l,d){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},Bp(s);var w=o.contextType;typeof w=="object"&&w!==null?p.context=Hr(w):(w=dr(o)?Yo:$n.current,p.context=ll(s,w)),p.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(tm(s,o,w,l),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Ld.enqueueReplaceState(p,p.state,null),Rd(s,l,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function gl(s,o){try{var l="",d=o;do l+=_e(d),d=d.return;while(d);var p=l}catch(w){p=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:p,digest:null}}function rm(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function sm(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var ix=typeof WeakMap=="function"?WeakMap:Map;function zv(s,o,l){l=pi(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){zd||(zd=!0,vm=d),sm(s,o)},l}function Hv(s,o,l){l=pi(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;l.payload=function(){return d(p)},l.callback=function(){sm(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(l.callback=function(){sm(s,o),typeof d!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),l}function qv(s,o,l){var d=s.pingCache;if(d===null){d=s.pingCache=new ix;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(l)||(p.add(l),s=vx.bind(null,s,o,l),o.then(s,s))}function Wv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Gv(s,o,l,d,p){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=pi(-1,1),o.tag=2,Yi(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var ox=J.ReactCurrentOwner,hr=!1;function Zn(s,o,l,d){o.child=s===null?fv(o,null,l,d):hl(o,s.child,l,d)}function Kv(s,o,l,d,p){l=l.render;var w=o.ref;return pl(o,p),d=Jp(s,o,l,d,w,p),l=Qp(),s!==null&&!hr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,mi(s,o,p)):(Bt&&l&&Np(o),o.flags|=1,Zn(s,o,d,p),o.child)}function Jv(s,o,l,d,p){if(s===null){var w=l.type;return typeof w=="function"&&!xm(w)&&w.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=w,Qv(s,o,w,d,p)):(s=Jd(l.type,null,d,o,o.mode,p),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&p)===0){var b=w.memoizedProps;if(l=l.compare,l=l!==null?l:xc,l(b,d)&&s.ref===o.ref)return mi(s,o,p)}return o.flags|=1,s=ro(w,d),s.ref=o.ref,s.return=o,o.child=s}function Qv(s,o,l,d,p){if(s!==null){var w=s.memoizedProps;if(xc(w,d)&&s.ref===o.ref)if(hr=!1,o.pendingProps=d=w,(s.lanes&p)!==0)(s.flags&131072)!==0&&(hr=!0);else return o.lanes=s.lanes,mi(s,o,p)}return im(s,o,l,d,p)}function Yv(s,o,l){var d=o.pendingProps,p=d.children,w=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(wl,kr),kr|=l;else{if((l&1073741824)===0)return s=w!==null?w.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Dt(wl,kr),kr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=w!==null?w.baseLanes:l,Dt(wl,kr),kr|=d}else w!==null?(d=w.baseLanes|l,o.memoizedState=null):d=l,Dt(wl,kr),kr|=d;return Zn(s,o,p,l),o.child}function Xv(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function im(s,o,l,d,p){var w=dr(l)?Yo:$n.current;return w=ll(o,w),pl(o,p),l=Jp(s,o,l,d,w,p),d=Qp(),s!==null&&!hr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,mi(s,o,p)):(Bt&&d&&Np(o),o.flags|=1,Zn(s,o,l,p),o.child)}function Zv(s,o,l,d,p){if(dr(l)){var w=!0;_d(o)}else w=!1;if(pl(o,p),o.stateNode===null)Vd(s,o),Uv(o,l,d),nm(o,l,d,p),d=!0;else if(s===null){var b=o.stateNode,N=o.memoizedProps;b.props=N;var $=b.context,X=l.contextType;typeof X=="object"&&X!==null?X=Hr(X):(X=dr(l)?Yo:$n.current,X=ll(o,X));var ue=l.getDerivedStateFromProps,de=typeof ue=="function"||typeof b.getSnapshotBeforeUpdate=="function";de||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==d||$!==X)&&Bv(o,b,d,X),Qi=!1;var le=o.memoizedState;b.state=le,Rd(o,d,b,p),$=o.memoizedState,N!==d||le!==$||ur.current||Qi?(typeof ue=="function"&&(tm(o,l,ue,d),$=o.memoizedState),(N=Qi||$v(o,l,N,d,le,$,X))?(de||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=$),b.props=d,b.state=$,b.context=X,d=N):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,mv(s,o),N=o.memoizedProps,X=o.type===o.elementType?N:cs(o.type,N),b.props=X,de=o.pendingProps,le=b.context,$=l.contextType,typeof $=="object"&&$!==null?$=Hr($):($=dr(l)?Yo:$n.current,$=ll(o,$));var Ce=l.getDerivedStateFromProps;(ue=typeof Ce=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==de||le!==$)&&Bv(o,b,d,$),Qi=!1,le=o.memoizedState,b.state=le,Rd(o,d,b,p);var Re=o.memoizedState;N!==de||le!==Re||ur.current||Qi?(typeof Ce=="function"&&(tm(o,l,Ce,d),Re=o.memoizedState),(X=Qi||$v(o,l,X,d,le,Re,$)||!1)?(ue||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,Re,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,Re,$)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Re),b.props=d,b.state=Re,b.context=$,d=X):(typeof b.componentDidUpdate!="function"||N===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),d=!1)}return om(s,o,l,d,w,p)}function om(s,o,l,d,p,w){Xv(s,o);var b=(o.flags&128)!==0;if(!d&&!b)return p&&sv(o,l,!1),mi(s,o,w);d=o.stateNode,ox.current=o;var N=b&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&b?(o.child=hl(o,s.child,null,w),o.child=hl(o,null,N,w)):Zn(s,o,N,w),o.memoizedState=d.state,p&&sv(o,l,!0),o.child}function e_(s){var o=s.stateNode;o.pendingContext?nv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&nv(s,o.context,!1),zp(s,o.containerInfo)}function t_(s,o,l,d,p){return dl(),Lp(p),o.flags|=256,Zn(s,o,l,d),o.child}var am={dehydrated:null,treeContext:null,retryLane:0};function lm(s){return{baseLanes:s,cachePool:null,transitions:null}}function n_(s,o,l){var d=o.pendingProps,p=Ht.current,w=!1,b=(o.flags&128)!==0,N;if((N=b)||(N=s!==null&&s.memoizedState===null?!1:(p&2)!==0),N?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Dt(Ht,p&1),s===null)return jp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(b=d.children,s=d.fallback,w?(d=o.mode,w=o.child,b={mode:"hidden",children:b},(d&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=b):w=Qd(b,d,0,null),s=aa(s,d,l,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=lm(l),o.memoizedState=am,s):cm(o,b));if(p=s.memoizedState,p!==null&&(N=p.dehydrated,N!==null))return ax(s,o,b,d,N,p,l);if(w){w=d.fallback,b=o.mode,p=s.child,N=p.sibling;var $={mode:"hidden",children:d.children};return(b&1)===0&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=$,o.deletions=null):(d=ro(p,$),d.subtreeFlags=p.subtreeFlags&14680064),N!==null?w=ro(N,w):(w=aa(w,b,l,null),w.flags|=2),w.return=o,d.return=o,d.sibling=w,o.child=d,d=w,w=o.child,b=s.child.memoizedState,b=b===null?lm(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},w.memoizedState=b,w.childLanes=s.childLanes&~l,o.memoizedState=am,d}return w=s.child,s=w.sibling,d=ro(w,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=d,o.memoizedState=null,d}function cm(s,o){return o=Qd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Md(s,o,l,d){return d!==null&&Lp(d),hl(o,s.child,null,l),s=cm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function ax(s,o,l,d,p,w,b){if(l)return o.flags&256?(o.flags&=-257,d=rm(Error(n(422))),Md(s,o,b,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=d.fallback,p=o.mode,d=Qd({mode:"visible",children:d.children},p,0,null),w=aa(w,p,b,null),w.flags|=2,d.return=o,w.return=o,d.sibling=w,o.child=d,(o.mode&1)!==0&&hl(o,s.child,null,b),o.child.memoizedState=lm(b),o.memoizedState=am,w);if((o.mode&1)===0)return Md(s,o,b,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var N=d.dgst;return d=N,w=Error(n(419)),d=rm(w,d,void 0),Md(s,o,b,d)}if(N=(b&s.childLanes)!==0,hr||N){if(d=Cn,d!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|b))!==0?0:p,p!==0&&p!==w.retryLane&&(w.retryLane=p,fi(s,p),hs(d,s,p,-1))}return Im(),d=rm(Error(n(421))),Md(s,o,b,d)}return p.data==="$?"?(o.flags|=128,o.child=s.child,o=_x.bind(null,s),p._reactRetry=o,null):(s=w.treeContext,Sr=Wi(p.nextSibling),xr=o,Bt=!0,ls=null,s!==null&&(Br[zr++]=di,Br[zr++]=hi,Br[zr++]=Xo,di=s.id,hi=s.overflow,Xo=o),o=cm(o,d.children),o.flags|=4096,o)}function r_(s,o,l){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),$p(s.return,o,l)}function um(s,o,l,d,p){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=l,w.tailMode=p)}function s_(s,o,l){var d=o.pendingProps,p=d.revealOrder,w=d.tail;if(Zn(s,o,d.children,l),d=Ht.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&r_(s,l,o);else if(s.tag===19)r_(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Dt(Ht,d),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)s=l.alternate,s!==null&&Pd(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),um(o,!1,p,l,w);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(s=p.alternate,s!==null&&Pd(s)===null){o.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}um(o,!0,l,null,w);break;case"together":um(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Vd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function mi(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),ra|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,l=ro(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=ro(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function lx(s,o,l){switch(o.tag){case 3:e_(o),dl();break;case 5:wv(o);break;case 1:dr(o.type)&&_d(o);break;case 4:zp(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;Dt(xd,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Dt(Ht,Ht.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?n_(s,o,l):(Dt(Ht,Ht.current&1),s=mi(s,o,l),s!==null?s.sibling:null);Dt(Ht,Ht.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(s.flags&128)!==0){if(d)return s_(s,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Dt(Ht,Ht.current),d)break;return null;case 22:case 23:return o.lanes=0,Yv(s,o,l)}return mi(s,o,l)}var i_,dm,o_,a_;i_=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},dm=function(){},o_=function(s,o,l,d){var p=s.memoizedProps;if(p!==d){s=o.stateNode,ta(Ds.current);var w=null;switch(l){case"input":p=De(s,p),d=De(s,d),w=[];break;case"select":p=ne({},p,{value:void 0}),d=ne({},d,{value:void 0}),w=[];break;case"textarea":p=St(s,p),d=St(s,d),w=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=yd)}Vo(l,d);var b;l=null;for(X in p)if(!d.hasOwnProperty(X)&&p.hasOwnProperty(X)&&p[X]!=null)if(X==="style"){var N=p[X];for(b in N)N.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in d){var $=d[X];if(N=p?.[X],d.hasOwnProperty(X)&&$!==N&&($!=null||N!=null))if(X==="style")if(N){for(b in N)!N.hasOwnProperty(b)||$&&$.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in $)$.hasOwnProperty(b)&&N[b]!==$[b]&&(l||(l={}),l[b]=$[b])}else l||(w||(w=[]),w.push(X,l)),l=$;else X==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,N=N?N.__html:void 0,$!=null&&N!==$&&(w=w||[]).push(X,$)):X==="children"?typeof $!="string"&&typeof $!="number"||(w=w||[]).push(X,""+$):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?($!=null&&X==="onScroll"&&jt("scroll",s),w||N===$||(w=[])):(w=w||[]).push(X,$))}l&&(w=w||[]).push("style",l);var X=w;(o.updateQueue=X)&&(o.flags|=4)}},a_=function(s,o,l,d){l!==d&&(o.flags|=4)};function Uc(s,o){if(!Bt)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Bn(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(o)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=l,o}function cx(s,o,l){var d=o.pendingProps;switch(Dp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(o),null;case 1:return dr(o.type)&&vd(),Bn(o),null;case 3:return d=o.stateNode,ml(),Lt(ur),Lt($n),Wp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Td(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ls!==null&&(bm(ls),ls=null))),dm(s,o),Bn(o),null;case 5:Hp(o);var p=ta(Lc.current);if(l=o.type,s!==null&&o.stateNode!=null)o_(s,o,l,d,p),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Bn(o),null}if(s=ta(Ds.current),Td(o)){d=o.stateNode,l=o.type;var w=o.memoizedProps;switch(d[Ns]=o,d[Ac]=w,s=(o.mode&1)!==0,l){case"dialog":jt("cancel",d),jt("close",d);break;case"iframe":case"object":case"embed":jt("load",d);break;case"video":case"audio":for(p=0;p<kc.length;p++)jt(kc[p],d);break;case"source":jt("error",d);break;case"img":case"image":case"link":jt("error",d),jt("load",d);break;case"details":jt("toggle",d);break;case"input":ye(d,w),jt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!w.multiple},jt("invalid",d);break;case"textarea":tt(d,w),jt("invalid",d)}Vo(l,w),p=null;for(var b in w)if(w.hasOwnProperty(b)){var N=w[b];b==="children"?typeof N=="string"?d.textContent!==N&&(w.suppressHydrationWarning!==!0&&gd(d.textContent,N,s),p=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(w.suppressHydrationWarning!==!0&&gd(d.textContent,N,s),p=["children",""+N]):i.hasOwnProperty(b)&&N!=null&&b==="onScroll"&&jt("scroll",d)}switch(l){case"input":Y(d),he(d,w,!0);break;case"textarea":Y(d),at(d);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(d.onclick=yd)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=lt(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=b.createElement(l,{is:d.is}):(s=b.createElement(l),l==="select"&&(b=s,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):s=b.createElementNS(s,l),s[Ns]=o,s[Ac]=d,i_(s,o,!1,!1),o.stateNode=s;e:{switch(b=Fo(l,d),l){case"dialog":jt("cancel",s),jt("close",s),p=d;break;case"iframe":case"object":case"embed":jt("load",s),p=d;break;case"video":case"audio":for(p=0;p<kc.length;p++)jt(kc[p],s);p=d;break;case"source":jt("error",s),p=d;break;case"img":case"image":case"link":jt("error",s),jt("load",s),p=d;break;case"details":jt("toggle",s),p=d;break;case"input":ye(s,d),p=De(s,d),jt("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=ne({},d,{value:void 0}),jt("invalid",s);break;case"textarea":tt(s,d),p=St(s,d),jt("invalid",s);break;default:p=d}Vo(l,p),N=p;for(w in N)if(N.hasOwnProperty(w)){var $=N[w];w==="style"?Mo(s,$):w==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&jo(s,$)):w==="children"?typeof $=="string"?(l!=="textarea"||$!=="")&&Es(s,$):typeof $=="number"&&Es(s,""+$):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?$!=null&&w==="onScroll"&&jt("scroll",s):$!=null&&z(s,w,$,b))}switch(l){case"input":Y(s),he(s,d,!1);break;case"textarea":Y(s),at(s);break;case"option":d.value!=null&&s.setAttribute("value",""+We(d.value));break;case"select":s.multiple=!!d.multiple,w=d.value,w!=null?Ze(s,!!d.multiple,w,!1):d.defaultValue!=null&&Ze(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=yd)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Bn(o),null;case 6:if(s&&o.stateNode!=null)a_(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(l=ta(Lc.current),ta(Ds.current),Td(o)){if(d=o.stateNode,l=o.memoizedProps,d[Ns]=o,(w=d.nodeValue!==l)&&(s=xr,s!==null))switch(s.tag){case 3:gd(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&gd(d.nodeValue,l,(s.mode&1)!==0)}w&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Ns]=o,o.stateNode=d}return Bn(o),null;case 13:if(Lt(Ht),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Bt&&Sr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)uv(),dl(),o.flags|=98560,w=!1;else if(w=Td(o),d!==null&&d.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ns]=o}else dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Bn(o),w=!1}else ls!==null&&(bm(ls),ls=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Ht.current&1)!==0?yn===0&&(yn=3):Im())),o.updateQueue!==null&&(o.flags|=4),Bn(o),null);case 4:return ml(),dm(s,o),s===null&&Rc(o.stateNode.containerInfo),Bn(o),null;case 10:return Fp(o.type._context),Bn(o),null;case 17:return dr(o.type)&&vd(),Bn(o),null;case 19:if(Lt(Ht),w=o.memoizedState,w===null)return Bn(o),null;if(d=(o.flags&128)!==0,b=w.rendering,b===null)if(d)Uc(w,!1);else{if(yn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(b=Pd(s),b!==null){for(o.flags|=128,Uc(w,!1),d=b.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)w=l,s=d,w.flags&=14680066,b=w.alternate,b===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=b.childLanes,w.lanes=b.lanes,w.child=b.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=b.memoizedProps,w.memoizedState=b.memoizedState,w.updateQueue=b.updateQueue,w.type=b.type,s=b.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Dt(Ht,Ht.current&1|2),o.child}s=s.sibling}w.tail!==null&&Rt()>vl&&(o.flags|=128,d=!0,Uc(w,!1),o.lanes=4194304)}else{if(!d)if(s=Pd(b),s!==null){if(o.flags|=128,d=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Uc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!b.alternate&&!Bt)return Bn(o),null}else 2*Rt()-w.renderingStartTime>vl&&l!==1073741824&&(o.flags|=128,d=!0,Uc(w,!1),o.lanes=4194304);w.isBackwards?(b.sibling=o.child,o.child=b):(l=w.last,l!==null?l.sibling=b:o.child=b,w.last=b)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=Rt(),o.sibling=null,l=Ht.current,Dt(Ht,d?l&1|2:l&1),o):(Bn(o),null);case 22:case 23:return Tm(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(kr&1073741824)!==0&&(Bn(o),o.subtreeFlags&6&&(o.flags|=8192)):Bn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function ux(s,o){switch(Dp(o),o.tag){case 1:return dr(o.type)&&vd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ml(),Lt(ur),Lt($n),Wp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Hp(o),null;case 13:if(Lt(Ht),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));dl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Lt(Ht),null;case 4:return ml(),null;case 10:return Fp(o.type._context),null;case 22:case 23:return Tm(),null;case 24:return null;default:return null}}var Fd=!1,zn=!1,dx=typeof WeakSet=="function"?WeakSet:Set,Se=null;function yl(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Qt(s,o,d)}else l.current=null}function hm(s,o,l){try{l()}catch(d){Qt(s,o,d)}}var l_=!1;function hx(s,o){if(Tp=zi,s=$w(),gp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var b=0,N=-1,$=-1,X=0,ue=0,de=s,le=null;t:for(;;){for(var Ce;de!==l||p!==0&&de.nodeType!==3||(N=b+p),de!==w||d!==0&&de.nodeType!==3||($=b+d),de.nodeType===3&&(b+=de.nodeValue.length),(Ce=de.firstChild)!==null;)le=de,de=Ce;for(;;){if(de===s)break t;if(le===l&&++X===p&&(N=b),le===w&&++ue===d&&($=b),(Ce=de.nextSibling)!==null)break;de=le,le=de.parentNode}de=Ce}l=N===-1||$===-1?null:{start:N,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ip={focusedElem:s,selectionRange:l},zi=!1,Se=o;Se!==null;)if(o=Se,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Se=s;else for(;Se!==null;){o=Se;try{var Re=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Ae=Re.memoizedProps,Xt=Re.memoizedState,q=o.stateNode,B=q.getSnapshotBeforeUpdate(o.elementType===o.type?Ae:cs(o.type,Ae),Xt);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){Qt(o,o.return,pe)}if(s=o.sibling,s!==null){s.return=o.return,Se=s;break}Se=o.return}return Re=l_,l_=!1,Re}function Bc(s,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var w=p.destroy;p.destroy=void 0,w!==void 0&&hm(o,l,w)}p=p.next}while(p!==d)}}function $d(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function fm(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function c_(s){var o=s.alternate;o!==null&&(s.alternate=null,c_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ns],delete o[Ac],delete o[Rp],delete o[KI],delete o[JI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function u_(s){return s.tag===5||s.tag===3||s.tag===4}function d_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||u_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pm(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=yd));else if(d!==4&&(s=s.child,s!==null))for(pm(s,o,l),s=s.sibling;s!==null;)pm(s,o,l),s=s.sibling}function mm(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(mm(s,o,l),s=s.sibling;s!==null;)mm(s,o,l),s=s.sibling}var Nn=null,us=!1;function Xi(s,o,l){for(l=l.child;l!==null;)h_(s,o,l),l=l.sibling}function h_(s,o,l){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(si,l)}catch{}switch(l.tag){case 5:zn||yl(l,o);case 6:var d=Nn,p=us;Nn=null,Xi(s,o,l),Nn=d,us=p,Nn!==null&&(us?(s=Nn,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Nn.removeChild(l.stateNode));break;case 18:Nn!==null&&(us?(s=Nn,l=l.stateNode,s.nodeType===8?kp(s.parentNode,l):s.nodeType===1&&kp(s,l),is(s)):kp(Nn,l.stateNode));break;case 4:d=Nn,p=us,Nn=l.stateNode.containerInfo,us=!0,Xi(s,o,l),Nn=d,us=p;break;case 0:case 11:case 14:case 15:if(!zn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var w=p,b=w.destroy;w=w.tag,b!==void 0&&((w&2)!==0||(w&4)!==0)&&hm(l,o,b),p=p.next}while(p!==d)}Xi(s,o,l);break;case 1:if(!zn&&(yl(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(N){Qt(l,o,N)}Xi(s,o,l);break;case 21:Xi(s,o,l);break;case 22:l.mode&1?(zn=(d=zn)||l.memoizedState!==null,Xi(s,o,l),zn=d):Xi(s,o,l);break;default:Xi(s,o,l)}}function f_(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new dx),o.forEach(function(d){var p=Ex.bind(null,s,d);l.has(d)||(l.add(d),d.then(p,p))})}}function ds(s,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var w=s,b=o,N=b;e:for(;N!==null;){switch(N.tag){case 5:Nn=N.stateNode,us=!1;break e;case 3:Nn=N.stateNode.containerInfo,us=!0;break e;case 4:Nn=N.stateNode.containerInfo,us=!0;break e}N=N.return}if(Nn===null)throw Error(n(160));h_(w,b,p),Nn=null,us=!1;var $=p.alternate;$!==null&&($.return=null),p.return=null}catch(X){Qt(p,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)p_(o,s),o=o.sibling}function p_(s,o){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ds(o,s),js(s),d&4){try{Bc(3,s,s.return),$d(3,s)}catch(Ae){Qt(s,s.return,Ae)}try{Bc(5,s,s.return)}catch(Ae){Qt(s,s.return,Ae)}}break;case 1:ds(o,s),js(s),d&512&&l!==null&&yl(l,l.return);break;case 5:if(ds(o,s),js(s),d&512&&l!==null&&yl(l,l.return),s.flags&32){var p=s.stateNode;try{Es(p,"")}catch(Ae){Qt(s,s.return,Ae)}}if(d&4&&(p=s.stateNode,p!=null)){var w=s.memoizedProps,b=l!==null?l.memoizedProps:w,N=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{N==="input"&&w.type==="radio"&&w.name!=null&&xe(p,w),Fo(N,b);var X=Fo(N,w);for(b=0;b<$.length;b+=2){var ue=$[b],de=$[b+1];ue==="style"?Mo(p,de):ue==="dangerouslySetInnerHTML"?jo(p,de):ue==="children"?Es(p,de):z(p,ue,de,X)}switch(N){case"input":me(p,w);break;case"textarea":ot(p,w);break;case"select":var le=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!w.multiple;var Ce=w.value;Ce!=null?Ze(p,!!w.multiple,Ce,!1):le!==!!w.multiple&&(w.defaultValue!=null?Ze(p,!!w.multiple,w.defaultValue,!0):Ze(p,!!w.multiple,w.multiple?[]:"",!1))}p[Ac]=w}catch(Ae){Qt(s,s.return,Ae)}}break;case 6:if(ds(o,s),js(s),d&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,w=s.memoizedProps;try{p.nodeValue=w}catch(Ae){Qt(s,s.return,Ae)}}break;case 3:if(ds(o,s),js(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{is(o.containerInfo)}catch(Ae){Qt(s,s.return,Ae)}break;case 4:ds(o,s),js(s);break;case 13:ds(o,s),js(s),p=s.child,p.flags&8192&&(w=p.memoizedState!==null,p.stateNode.isHidden=w,!w||p.alternate!==null&&p.alternate.memoizedState!==null||(wm=Rt())),d&4&&f_(s);break;case 22:if(ue=l!==null&&l.memoizedState!==null,s.mode&1?(zn=(X=zn)||ue,ds(o,s),zn=X):ds(o,s),js(s),d&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ue&&(s.mode&1)!==0)for(Se=s,ue=s.child;ue!==null;){for(de=Se=ue;Se!==null;){switch(le=Se,Ce=le.child,le.tag){case 0:case 11:case 14:case 15:Bc(4,le,le.return);break;case 1:yl(le,le.return);var Re=le.stateNode;if(typeof Re.componentWillUnmount=="function"){d=le,l=le.return;try{o=d,Re.props=o.memoizedProps,Re.state=o.memoizedState,Re.componentWillUnmount()}catch(Ae){Qt(d,l,Ae)}}break;case 5:yl(le,le.return);break;case 22:if(le.memoizedState!==null){y_(de);continue}}Ce!==null?(Ce.return=le,Se=Ce):y_(de)}ue=ue.sibling}e:for(ue=null,de=s;;){if(de.tag===5){if(ue===null){ue=de;try{p=de.stateNode,X?(w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(N=de.stateNode,$=de.memoizedProps.style,b=$!=null&&$.hasOwnProperty("display")?$.display:null,N.style.display=Lo("display",b))}catch(Ae){Qt(s,s.return,Ae)}}}else if(de.tag===6){if(ue===null)try{de.stateNode.nodeValue=X?"":de.memoizedProps}catch(Ae){Qt(s,s.return,Ae)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===s)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===s)break e;for(;de.sibling===null;){if(de.return===null||de.return===s)break e;ue===de&&(ue=null),de=de.return}ue===de&&(ue=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:ds(o,s),js(s),d&4&&f_(s);break;case 21:break;default:ds(o,s),js(s)}}function js(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(u_(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Es(p,""),d.flags&=-33);var w=d_(s);mm(s,w,p);break;case 3:case 4:var b=d.stateNode.containerInfo,N=d_(s);pm(s,N,b);break;default:throw Error(n(161))}}catch($){Qt(s,s.return,$)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function fx(s,o,l){Se=s,m_(s)}function m_(s,o,l){for(var d=(s.mode&1)!==0;Se!==null;){var p=Se,w=p.child;if(p.tag===22&&d){var b=p.memoizedState!==null||Fd;if(!b){var N=p.alternate,$=N!==null&&N.memoizedState!==null||zn;N=Fd;var X=zn;if(Fd=b,(zn=$)&&!X)for(Se=p;Se!==null;)b=Se,$=b.child,b.tag===22&&b.memoizedState!==null?w_(p):$!==null?($.return=b,Se=$):w_(p);for(;w!==null;)Se=w,m_(w),w=w.sibling;Se=p,Fd=N,zn=X}g_(s)}else(p.subtreeFlags&8772)!==0&&w!==null?(w.return=p,Se=w):g_(s)}}function g_(s){for(;Se!==null;){var o=Se;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:zn||$d(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!zn)if(l===null)d.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:cs(o.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&yv(o,w,d);break;case 3:var b=o.updateQueue;if(b!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}yv(o,b,l)}break;case 5:var N=o.stateNode;if(l===null&&o.flags&4){l=N;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&l.focus();break;case"img":$.src&&(l.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ue=X.memoizedState;if(ue!==null){var de=ue.dehydrated;de!==null&&is(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}zn||o.flags&512&&fm(o)}catch(le){Qt(o,o.return,le)}}if(o===s){Se=null;break}if(l=o.sibling,l!==null){l.return=o.return,Se=l;break}Se=o.return}}function y_(s){for(;Se!==null;){var o=Se;if(o===s){Se=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Se=l;break}Se=o.return}}function w_(s){for(;Se!==null;){var o=Se;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{$d(4,o)}catch($){Qt(o,l,$)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch($){Qt(o,p,$)}}var w=o.return;try{fm(o)}catch($){Qt(o,w,$)}break;case 5:var b=o.return;try{fm(o)}catch($){Qt(o,b,$)}}}catch($){Qt(o,o.return,$)}if(o===s){Se=null;break}var N=o.sibling;if(N!==null){N.return=o.return,Se=N;break}Se=o.return}}var px=Math.ceil,Ud=J.ReactCurrentDispatcher,gm=J.ReactCurrentOwner,Wr=J.ReactCurrentBatchConfig,gt=0,Cn=null,an=null,Dn=0,kr=0,wl=Gi(0),yn=0,zc=null,ra=0,Bd=0,ym=0,Hc=null,fr=null,wm=0,vl=1/0,gi=null,zd=!1,vm=null,Zi=null,Hd=!1,eo=null,qd=0,qc=0,_m=null,Wd=-1,Gd=0;function er(){return(gt&6)!==0?Rt():Wd!==-1?Wd:Wd=Rt()}function to(s){return(s.mode&1)===0?1:(gt&2)!==0&&Dn!==0?Dn&-Dn:YI.transition!==null?(Gd===0&&(Gd=Fn()),Gd):(s=ht,s!==0||(s=window.event,s=s===void 0?16:vc(s.type)),s)}function hs(s,o,l,d){if(50<qc)throw qc=0,_m=null,Error(n(185));Fi(s,l,d),((gt&2)===0||s!==Cn)&&(s===Cn&&((gt&2)===0&&(Bd|=l),yn===4&&no(s,Dn)),pr(s,d),l===1&&gt===0&&(o.mode&1)===0&&(vl=Rt()+500,Ed&&Ji()))}function pr(s,o){var l=s.callbackNode;Cr(s,o);var d=pn(s,s===Cn?Dn:0);if(d===0)l!==null&&zo(l),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(l!=null&&zo(l),o===1)s.tag===0?QI(__.bind(null,s)):iv(__.bind(null,s)),WI(function(){(gt&6)===0&&Ji()}),l=null;else{switch(Ui(d)){case 1:l=br;break;case 4:l=xs;break;case 16:l=ar;break;case 536870912:l=$a;break;default:l=ar}l=k_(l,v_.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function v_(s,o){if(Wd=-1,Gd=0,(gt&6)!==0)throw Error(n(327));var l=s.callbackNode;if(_l()&&s.callbackNode!==l)return null;var d=pn(s,s===Cn?Dn:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=Kd(s,d);else{o=d;var p=gt;gt|=2;var w=b_();(Cn!==s||Dn!==o)&&(gi=null,vl=Rt()+500,ia(s,o));do try{yx();break}catch(N){E_(s,N)}while(!0);Vp(),Ud.current=w,gt=p,an!==null?o=0:(Cn=null,Dn=0,o=yn)}if(o!==0){if(o===2&&(p=sn(s),p!==0&&(d=p,o=Em(s,p))),o===1)throw l=zc,ia(s,0),no(s,d),pr(s,Rt()),l;if(o===6)no(s,d);else{if(p=s.current.alternate,(d&30)===0&&!mx(p)&&(o=Kd(s,d),o===2&&(w=sn(s),w!==0&&(d=w,o=Em(s,w))),o===1))throw l=zc,ia(s,0),no(s,d),pr(s,Rt()),l;switch(s.finishedWork=p,s.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:oa(s,fr,gi);break;case 3:if(no(s,d),(d&130023424)===d&&(o=wm+500-Rt(),10<o)){if(pn(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){er(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=Sp(oa.bind(null,s,fr,gi),o);break}oa(s,fr,gi);break;case 4:if(no(s,d),(d&4194240)===d)break;for(o=s.eventTimes,p=-1;0<d;){var b=31-Jt(d);w=1<<b,b=o[b],b>p&&(p=b),d&=~w}if(d=p,d=Rt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*px(d/1960))-d,10<d){s.timeoutHandle=Sp(oa.bind(null,s,fr,gi),d);break}oa(s,fr,gi);break;case 5:oa(s,fr,gi);break;default:throw Error(n(329))}}}return pr(s,Rt()),s.callbackNode===l?v_.bind(null,s):null}function Em(s,o){var l=Hc;return s.current.memoizedState.isDehydrated&&(ia(s,o).flags|=256),s=Kd(s,o),s!==2&&(o=fr,fr=l,o!==null&&bm(o)),s}function bm(s){fr===null?fr=s:fr.push.apply(fr,s)}function mx(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],w=p.getSnapshot;p=p.value;try{if(!as(w(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function no(s,o){for(o&=~ym,o&=~Bd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-Jt(o),d=1<<l;s[l]=-1,o&=~d}}function __(s){if((gt&6)!==0)throw Error(n(327));_l();var o=pn(s,0);if((o&1)===0)return pr(s,Rt()),null;var l=Kd(s,o);if(s.tag!==0&&l===2){var d=sn(s);d!==0&&(o=d,l=Em(s,d))}if(l===1)throw l=zc,ia(s,0),no(s,o),pr(s,Rt()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,oa(s,fr,gi),pr(s,Rt()),null}function Cm(s,o){var l=gt;gt|=1;try{return s(o)}finally{gt=l,gt===0&&(vl=Rt()+500,Ed&&Ji())}}function sa(s){eo!==null&&eo.tag===0&&(gt&6)===0&&_l();var o=gt;gt|=1;var l=Wr.transition,d=ht;try{if(Wr.transition=null,ht=1,s)return s()}finally{ht=d,Wr.transition=l,gt=o,(gt&6)===0&&Ji()}}function Tm(){kr=wl.current,Lt(wl)}function ia(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,qI(l)),an!==null)for(l=an.return;l!==null;){var d=l;switch(Dp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&vd();break;case 3:ml(),Lt(ur),Lt($n),Wp();break;case 5:Hp(d);break;case 4:ml();break;case 13:Lt(Ht);break;case 19:Lt(Ht);break;case 10:Fp(d.type._context);break;case 22:case 23:Tm()}l=l.return}if(Cn=s,an=s=ro(s.current,null),Dn=kr=o,yn=0,zc=null,ym=Bd=ra=0,fr=Hc=null,ea!==null){for(o=0;o<ea.length;o++)if(l=ea[o],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,w=l.pending;if(w!==null){var b=w.next;w.next=p,d.next=b}l.pending=d}ea=null}return s}function E_(s,o){do{var l=an;try{if(Vp(),Ad.current=jd,Nd){for(var d=qt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Nd=!1}if(na=0,bn=gn=qt=null,Mc=!1,Vc=0,gm.current=null,l===null||l.return===null){yn=1,zc=o,an=null;break}e:{var w=s,b=l.return,N=l,$=o;if(o=Dn,N.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var X=$,ue=N,de=ue.tag;if((ue.mode&1)===0&&(de===0||de===11||de===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var Ce=Wv(b);if(Ce!==null){Ce.flags&=-257,Gv(Ce,b,N,w,o),Ce.mode&1&&qv(w,X,o),o=Ce,$=X;var Re=o.updateQueue;if(Re===null){var Ae=new Set;Ae.add($),o.updateQueue=Ae}else Re.add($);break e}else{if((o&1)===0){qv(w,X,o),Im();break e}$=Error(n(426))}}else if(Bt&&N.mode&1){var Xt=Wv(b);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),Gv(Xt,b,N,w,o),Lp(gl($,N));break e}}w=$=gl($,N),yn!==4&&(yn=2),Hc===null?Hc=[w]:Hc.push(w),w=b;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var q=zv(w,$,o);gv(w,q);break e;case 1:N=$;var B=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Zi===null||!Zi.has(K)))){w.flags|=65536,o&=-o,w.lanes|=o;var pe=Hv(w,N,o);gv(w,pe);break e}}w=w.return}while(w!==null)}T_(l)}catch(Oe){o=Oe,an===l&&l!==null&&(an=l=l.return);continue}break}while(!0)}function b_(){var s=Ud.current;return Ud.current=jd,s===null?jd:s}function Im(){(yn===0||yn===3||yn===2)&&(yn=4),Cn===null||(ra&268435455)===0&&(Bd&268435455)===0||no(Cn,Dn)}function Kd(s,o){var l=gt;gt|=2;var d=b_();(Cn!==s||Dn!==o)&&(gi=null,ia(s,o));do try{gx();break}catch(p){E_(s,p)}while(!0);if(Vp(),gt=l,Ud.current=d,an!==null)throw Error(n(261));return Cn=null,Dn=0,yn}function gx(){for(;an!==null;)C_(an)}function yx(){for(;an!==null&&!Fa();)C_(an)}function C_(s){var o=S_(s.alternate,s,kr);s.memoizedProps=s.pendingProps,o===null?T_(s):an=o,gm.current=null}function T_(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=cx(l,o,kr),l!==null){an=l;return}}else{if(l=ux(l,o),l!==null){l.flags&=32767,an=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{yn=6,an=null;return}}if(o=o.sibling,o!==null){an=o;return}an=o=s}while(o!==null);yn===0&&(yn=5)}function oa(s,o,l){var d=ht,p=Wr.transition;try{Wr.transition=null,ht=1,wx(s,o,l,d)}finally{Wr.transition=p,ht=d}return null}function wx(s,o,l,d){do _l();while(eo!==null);if((gt&6)!==0)throw Error(n(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=l.lanes|l.childLanes;if(Nt(s,w),s===Cn&&(an=Cn=null,Dn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Hd||(Hd=!0,k_(ar,function(){return _l(),null})),w=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||w){w=Wr.transition,Wr.transition=null;var b=ht;ht=1;var N=gt;gt|=4,gm.current=null,hx(s,l),p_(l,s),VI(Ip),zi=!!Tp,Ip=Tp=null,s.current=l,fx(l),gc(),gt=N,ht=b,Wr.transition=w}else s.current=l;if(Hd&&(Hd=!1,eo=s,qd=p),w=s.pendingLanes,w===0&&(Zi=null),Ua(l.stateNode),pr(s,Rt()),o!==null)for(d=s.onRecoverableError,l=0;l<o.length;l++)p=o[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(zd)throw zd=!1,s=vm,vm=null,s;return(qd&1)!==0&&s.tag!==0&&_l(),w=s.pendingLanes,(w&1)!==0?s===_m?qc++:(qc=0,_m=s):qc=0,Ji(),null}function _l(){if(eo!==null){var s=Ui(qd),o=Wr.transition,l=ht;try{if(Wr.transition=null,ht=16>s?16:s,eo===null)var d=!1;else{if(s=eo,eo=null,qd=0,(gt&6)!==0)throw Error(n(331));var p=gt;for(gt|=4,Se=s.current;Se!==null;){var w=Se,b=w.child;if((Se.flags&16)!==0){var N=w.deletions;if(N!==null){for(var $=0;$<N.length;$++){var X=N[$];for(Se=X;Se!==null;){var ue=Se;switch(ue.tag){case 0:case 11:case 15:Bc(8,ue,w)}var de=ue.child;if(de!==null)de.return=ue,Se=de;else for(;Se!==null;){ue=Se;var le=ue.sibling,Ce=ue.return;if(c_(ue),ue===X){Se=null;break}if(le!==null){le.return=Ce,Se=le;break}Se=Ce}}}var Re=w.alternate;if(Re!==null){var Ae=Re.child;if(Ae!==null){Re.child=null;do{var Xt=Ae.sibling;Ae.sibling=null,Ae=Xt}while(Ae!==null)}}Se=w}}if((w.subtreeFlags&2064)!==0&&b!==null)b.return=w,Se=b;else e:for(;Se!==null;){if(w=Se,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Bc(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,Se=q;break e}Se=w.return}}var B=s.current;for(Se=B;Se!==null;){b=Se;var K=b.child;if((b.subtreeFlags&2064)!==0&&K!==null)K.return=b,Se=K;else e:for(b=B;Se!==null;){if(N=Se,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:$d(9,N)}}catch(Oe){Qt(N,N.return,Oe)}if(N===b){Se=null;break e}var pe=N.sibling;if(pe!==null){pe.return=N.return,Se=pe;break e}Se=N.return}}if(gt=p,Ji(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(si,s)}catch{}d=!0}return d}finally{ht=l,Wr.transition=o}}return!1}function I_(s,o,l){o=gl(l,o),o=zv(s,o,1),s=Yi(s,o,1),o=er(),s!==null&&(Fi(s,1,o),pr(s,o))}function Qt(s,o,l){if(s.tag===3)I_(s,s,l);else for(;o!==null;){if(o.tag===3){I_(o,s,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Zi===null||!Zi.has(d))){s=gl(l,s),s=Hv(o,s,1),o=Yi(o,s,1),s=er(),o!==null&&(Fi(o,1,s),pr(o,s));break}}o=o.return}}function vx(s,o,l){var d=s.pingCache;d!==null&&d.delete(o),o=er(),s.pingedLanes|=s.suspendedLanes&l,Cn===s&&(Dn&l)===l&&(yn===4||yn===3&&(Dn&130023424)===Dn&&500>Rt()-wm?ia(s,0):ym|=l),pr(s,o)}function x_(s,o){o===0&&((s.mode&1)===0?o=1:(o=rt,rt<<=1,(rt&130023424)===0&&(rt=4194304)));var l=er();s=fi(s,o),s!==null&&(Fi(s,o,l),pr(s,l))}function _x(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),x_(s,l)}function Ex(s,o){var l=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),x_(s,l)}var S_;S_=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||ur.current)hr=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return hr=!1,lx(s,o,l);hr=(s.flags&131072)!==0}else hr=!1,Bt&&(o.flags&1048576)!==0&&ov(o,Cd,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Vd(s,o),s=o.pendingProps;var p=ll(o,$n.current);pl(o,l),p=Jp(null,o,d,s,p,l);var w=Qp();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,dr(d)?(w=!0,_d(o)):w=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Bp(o),p.updater=Ld,o.stateNode=p,p._reactInternals=o,nm(o,d,s,l),o=om(null,o,d,!0,w,l)):(o.tag=0,Bt&&w&&Np(o),Zn(null,o,p,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Vd(s,o),s=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=Cx(d),s=cs(d,s),p){case 0:o=im(null,o,d,s,l);break e;case 1:o=Zv(null,o,d,s,l);break e;case 11:o=Kv(null,o,d,s,l);break e;case 14:o=Jv(null,o,d,cs(d.type,s),l);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:cs(d,p),im(s,o,d,p,l);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:cs(d,p),Zv(s,o,d,p,l);case 3:e:{if(e_(o),s===null)throw Error(n(387));d=o.pendingProps,w=o.memoizedState,p=w.element,mv(s,o),Rd(o,d,null,l);var b=o.memoizedState;if(d=b.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){p=gl(Error(n(423)),o),o=t_(s,o,d,l,p);break e}else if(d!==p){p=gl(Error(n(424)),o),o=t_(s,o,d,l,p);break e}else for(Sr=Wi(o.stateNode.containerInfo.firstChild),xr=o,Bt=!0,ls=null,l=fv(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(dl(),d===p){o=mi(s,o,l);break e}Zn(s,o,d,l)}o=o.child}return o;case 5:return wv(o),s===null&&jp(o),d=o.type,p=o.pendingProps,w=s!==null?s.memoizedProps:null,b=p.children,xp(d,p)?b=null:w!==null&&xp(d,w)&&(o.flags|=32),Xv(s,o),Zn(s,o,b,l),o.child;case 6:return s===null&&jp(o),null;case 13:return n_(s,o,l);case 4:return zp(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=hl(o,null,d,l):Zn(s,o,d,l),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:cs(d,p),Kv(s,o,d,p,l);case 7:return Zn(s,o,o.pendingProps,l),o.child;case 8:return Zn(s,o,o.pendingProps.children,l),o.child;case 12:return Zn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,w=o.memoizedProps,b=p.value,Dt(xd,d._currentValue),d._currentValue=b,w!==null)if(as(w.value,b)){if(w.children===p.children&&!ur.current){o=mi(s,o,l);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var N=w.dependencies;if(N!==null){b=w.child;for(var $=N.firstContext;$!==null;){if($.context===d){if(w.tag===1){$=pi(-1,l&-l),$.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var ue=X.pending;ue===null?$.next=$:($.next=ue.next,ue.next=$),X.pending=$}}w.lanes|=l,$=w.alternate,$!==null&&($.lanes|=l),$p(w.return,l,o),N.lanes|=l;break}$=$.next}}else if(w.tag===10)b=w.type===o.type?null:w.child;else if(w.tag===18){if(b=w.return,b===null)throw Error(n(341));b.lanes|=l,N=b.alternate,N!==null&&(N.lanes|=l),$p(b,l,o),b=w.sibling}else b=w.child;if(b!==null)b.return=w;else for(b=w;b!==null;){if(b===o){b=null;break}if(w=b.sibling,w!==null){w.return=b.return,b=w;break}b=b.return}w=b}Zn(s,o,p.children,l),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,pl(o,l),p=Hr(p),d=d(p),o.flags|=1,Zn(s,o,d,l),o.child;case 14:return d=o.type,p=cs(d,o.pendingProps),p=cs(d.type,p),Jv(s,o,d,p,l);case 15:return Qv(s,o,o.type,o.pendingProps,l);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:cs(d,p),Vd(s,o),o.tag=1,dr(d)?(s=!0,_d(o)):s=!1,pl(o,l),Uv(o,d,p),nm(o,d,p,l),om(null,o,d,!0,s,l);case 19:return s_(s,o,l);case 22:return Yv(s,o,l)}throw Error(n(156,o.tag))};function k_(s,o){return ri(s,o)}function bx(s,o,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(s,o,l,d){return new bx(s,o,l,d)}function xm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Cx(s){if(typeof s=="function")return xm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===Ee)return 14}return 2}function ro(s,o){var l=s.alternate;return l===null?(l=Gr(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Jd(s,o,l,d,p,w){var b=2;if(d=s,typeof s=="function")xm(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case x:return aa(l.children,p,w,o);case I:b=8,p|=8;break;case k:return s=Gr(12,l,o,p|2),s.elementType=k,s.lanes=w,s;case R:return s=Gr(13,l,o,p),s.elementType=R,s.lanes=w,s;case ze:return s=Gr(19,l,o,p),s.elementType=ze,s.lanes=w,s;case Be:return Qd(l,p,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:b=10;break e;case D:b=9;break e;case F:b=11;break e;case Ee:b=14;break e;case He:b=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Gr(b,l,o,p),o.elementType=s,o.type=d,o.lanes=w,o}function aa(s,o,l,d){return s=Gr(7,s,d,o),s.lanes=l,s}function Qd(s,o,l,d){return s=Gr(22,s,d,o),s.elementType=Be,s.lanes=l,s.stateNode={isHidden:!1},s}function Sm(s,o,l){return s=Gr(6,s,null,o),s.lanes=l,s}function km(s,o,l){return o=Gr(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Tx(s,o,l,d,p){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vi(0),this.expirationTimes=Vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Rm(s,o,l,d,p,w,b,N,$){return s=new Tx(s,o,l,N,$),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Gr(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bp(w),s}function Ix(s,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:d==null?null:""+d,children:s,containerInfo:o,implementation:l}}function R_(s){if(!s)return Ki;s=s._reactInternals;e:{if(Kt(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(dr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(dr(l))return rv(s,l,o)}return o}function P_(s,o,l,d,p,w,b,N,$){return s=Rm(l,d,!0,s,p,w,b,N,$),s.context=R_(null),l=s.current,d=er(),p=to(l),w=pi(d,p),w.callback=o??null,Yi(l,w,p),s.current.lanes=p,Fi(s,p,d),pr(s,d),s}function Yd(s,o,l,d){var p=o.current,w=er(),b=to(p);return l=R_(l),o.context===null?o.context=l:o.pendingContext=l,o=pi(w,b),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Yi(p,o,b),s!==null&&(hs(s,p,b,w),kd(s,p,b)),b}function Xd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function A_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Pm(s,o){A_(s,o),(s=s.alternate)&&A_(s,o)}function xx(){return null}var N_=typeof reportError=="function"?reportError:function(s){console.error(s)};function Am(s){this._internalRoot=s}Zd.prototype.render=Am.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Yd(s,o,null,null)},Zd.prototype.unmount=Am.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;sa(function(){Yd(null,s,null,null)}),o[ci]=null}};function Zd(s){this._internalRoot=s}Zd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Zu();s={blockedOn:null,target:s,priority:o};for(var l=0;l<ks.length&&o!==0&&o<ks[l].priority;l++);ks.splice(l,0,s),l===0&&nd(s)}};function Nm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function eh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function D_(){}function Sx(s,o,l,d,p){if(p){if(typeof d=="function"){var w=d;d=function(){var X=Xd(b);w.call(X)}}var b=P_(o,d,s,0,null,!1,!1,"",D_);return s._reactRootContainer=b,s[ci]=b.current,Rc(s.nodeType===8?s.parentNode:s),sa(),b}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var N=d;d=function(){var X=Xd($);N.call(X)}}var $=Rm(s,0,!1,null,null,!1,!1,"",D_);return s._reactRootContainer=$,s[ci]=$.current,Rc(s.nodeType===8?s.parentNode:s),sa(function(){Yd(o,$,l,d)}),$}function th(s,o,l,d,p){var w=l._reactRootContainer;if(w){var b=w;if(typeof p=="function"){var N=p;p=function(){var $=Xd(b);N.call($)}}Yd(o,b,s,p)}else b=Sx(l,o,s,p,d);return Xd(b)}Yu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=$t(o.pendingLanes);l!==0&&($i(o,l|1),pr(o,Rt()),(gt&6)===0&&(vl=Rt()+500,Ji()))}break;case 13:sa(function(){var d=fi(s,1);if(d!==null){var p=er();hs(d,s,1,p)}}),Pm(s,1)}},Ha=function(s){if(s.tag===13){var o=fi(s,134217728);if(o!==null){var l=er();hs(o,s,134217728,l)}Pm(s,134217728)}},Xu=function(s){if(s.tag===13){var o=to(s),l=fi(s,o);if(l!==null){var d=er();hs(l,s,o,d)}Pm(s,o)}},Zu=function(){return ht},ed=function(s,o){var l=ht;try{return ht=s,o()}finally{ht=l}},Di=function(s,o,l){switch(o){case"input":if(me(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==s&&d.form===s.form){var p=wd(d);if(!p)throw Error(n(90));Te(d),me(d,p)}}}break;case"textarea":ot(s,l);break;case"select":o=l.value,o!=null&&Ze(s,!!l.multiple,o,!1)}},Ts=Cm,Oi=sa;var kx={usingClientEntryPoint:!1,Events:[Nc,ol,wd,Mr,$o,Cm]},Wc={findFiberByHostInstance:Qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rx={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Mi(s),s===null?null:s.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||xx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{si=nh.inject(Rx),Yn=nh}catch{}}return mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kx,mr.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nm(o))throw Error(n(200));return Ix(s,o,null,l)},mr.createRoot=function(s,o){if(!Nm(s))throw Error(n(299));var l=!1,d="",p=N_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=Rm(s,1,!1,null,null,l,!1,d,p),s[ci]=o.current,Rc(s.nodeType===8?s.parentNode:s),new Am(o)},mr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Mi(o),s=s===null?null:s.stateNode,s},mr.flushSync=function(s){return sa(s)},mr.hydrate=function(s,o,l){if(!eh(o))throw Error(n(200));return th(null,s,o,!0,l)},mr.hydrateRoot=function(s,o,l){if(!Nm(s))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,w="",b=N_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),o=P_(o,null,s,1,l??null,p,!1,w,b),s[ci]=o.current,Rc(s),d)for(s=0;s<d.length;s++)l=d[s],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new Zd(o)},mr.render=function(s,o,l){if(!eh(o))throw Error(n(200));return th(null,s,o,!1,l)},mr.unmountComponentAtNode=function(s){if(!eh(s))throw Error(n(40));return s._reactRootContainer?(sa(function(){th(null,null,s,!1,function(){s._reactRootContainer=null,s[ci]=null})}),!0):!1},mr.unstable_batchedUpdates=Cm,mr.unstable_renderSubtreeIntoContainer=function(s,o,l,d){if(!eh(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return th(s,o,l,!1,d)},mr.version="18.3.1-next-f1338f8080-20240426",mr}var U_;function Vx(){if(U_)return jm.exports;U_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jm.exports=Mx(),jm.exports}var B_;function Fx(){if(B_)return rh;B_=1;var t=Vx();return rh.createRoot=t.createRoot,rh.hydrateRoot=t.hydrateRoot,rh}var $x=Fx();const Ux=()=>{};var z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],c=t[n++],h=t[n++],f=((i&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|c&63)}}return e.join("")},gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],c=i+1<t.length,h=c?t[i+1]:0,f=i+2<t.length,g=f?t[i+2]:0,v=a>>2,E=(a&3)<<4|h>>4;let T=(h&15)<<2|g>>6,A=g&63;f||(A=64,c||(T=64)),r.push(n[v],n[E],n[T],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const E=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||g==null||E==null)throw new zx;const T=a<<2|h>>4;if(r.push(T),g!==64){const A=h<<4&240|g>>2;if(r.push(A),E!==64){const L=g<<6&192|E;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hx=function(t){const e=mb(t);return gb.encodeByteArray(e,!0)},jh=function(t){return Hx(t).replace(/\./g,"")},yb=function(t){try{return gb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=()=>qx().__FIREBASE_DEFAULTS__,Gx=()=>{if(typeof process>"u"||typeof z_>"u")return;const t=z_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Kx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yb(t[1]);return e&&JSON.parse(e)},Cf=()=>{try{return Ux()||Wx()||Gx()||Kx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wb=t=>Cf()?.emulatorHosts?.[t],vb=t=>{const e=wb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_b=()=>Cf()?.config,Eb=t=>Cf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jh(JSON.stringify(n)),jh(JSON.stringify(c)),""].join(".")}const iu={};function Qx(){const t={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?t.emulator.push(e):t.prod.push(e);return t}function Yx(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let H_=!1;function Yg(t,e){if(typeof window>"u"||typeof document>"u"||!ka(window.location.host)||iu[t]===e||iu[t]||H_)return;iu[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=Qx().prod.length>0;function c(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{H_=!0,c()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=Yx(r),A=n("text"),L=document.getElementById(A)||document.createElement("span"),U=n("learnmore"),O=document.getElementById(U)||document.createElement("a"),W=n("preprendIcon"),V=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;h(z),v(O,U);const J=g();f(V,W),z.append(V,L,O,J),document.body.appendChild(z)}a?(L.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function Zx(){const t=Cf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rS(){const t=Kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sS(){return!Zx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function oS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="FirebaseError";class Qs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aS,Object.setPrototypeOf(this,Qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?lS(a,r):"Error",h=`${this.serviceName}: ${c} (${i}).`;return new Qs(i,h,r)}}function lS(t,e){return t.replace(cS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cS=/\{\$([^}]+)}/g;function uS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ti(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],c=e[i];if(q_(a)&&q_(c)){if(!Ti(a,c))return!1}else if(a!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function q_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function eu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dS(t,e){const n=new hS(t,e);return n.subscribe.bind(n)}class hS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fS(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vm),i.error===void 0&&(i.error=Vm),i.complete===void 0&&(i.complete=Vm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class Io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gS(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mS(t){return t===ca?void 0:t}function gS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const wS={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},vS=ct.INFO,_S={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},ES=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_S[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xg{constructor(e){this.name=e,this._logLevel=vS,this._logHandler=ES,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const bS=(t,e)=>e.some(n=>t instanceof n);let W_,G_;function CS(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TS(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cb=new WeakMap,cg=new WeakMap,Tb=new WeakMap,Fm=new WeakMap,Zg=new WeakMap;function IS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(vo(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Cb.set(n,t)}).catch(()=>{}),Zg.set(e,t),e}function xS(t){if(cg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});cg.set(t,e)}let ug={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Tb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SS(t){ug=t(ug)}function kS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($m(this),e,...n);return Tb.set(r,e.sort?e.sort():[e]),vo(r)}:TS().includes(t)?function(...e){return t.apply($m(this),e),vo(Cb.get(this))}:function(...e){return vo(t.apply($m(this),e))}}function RS(t){return typeof t=="function"?kS(t):(t instanceof IDBTransaction&&xS(t),bS(t,CS())?new Proxy(t,ug):t)}function vo(t){if(t instanceof IDBRequest)return IS(t);if(Fm.has(t))return Fm.get(t);const e=RS(t);return e!==t&&(Fm.set(t,e),Zg.set(e,t)),e}const $m=t=>Zg.get(t);function PS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(t,e),h=vo(c);return r&&c.addEventListener("upgradeneeded",f=>{r(vo(c.result),f.oldVersion,f.newVersion,vo(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const AS=["get","getKey","getAll","getAllKeys","count"],NS=["put","add","delete","clear"],Um=new Map;function K_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=NS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AS.includes(n)))return;const a=async function(c,...h){const f=this.transaction(c,i?"readwrite":"readonly");let g=f.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),i&&f.done]))[0]};return Um.set(e,a),a}SS(t=>({...t,get:(e,n,r)=>K_(e,n)||t.get(e,n,r),has:(e,n)=>!!K_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OS(t){return t.getComponent()?.type==="VERSION"}const dg="@firebase/app",J_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Xg("@firebase/app"),jS="@firebase/app-compat",LS="@firebase/analytics-compat",MS="@firebase/analytics",VS="@firebase/app-check-compat",FS="@firebase/app-check",$S="@firebase/auth",US="@firebase/auth-compat",BS="@firebase/database",zS="@firebase/data-connect",HS="@firebase/database-compat",qS="@firebase/functions",WS="@firebase/functions-compat",GS="@firebase/installations",KS="@firebase/installations-compat",JS="@firebase/messaging",QS="@firebase/messaging-compat",YS="@firebase/performance",XS="@firebase/performance-compat",ZS="@firebase/remote-config",ek="@firebase/remote-config-compat",tk="@firebase/storage",nk="@firebase/storage-compat",rk="@firebase/firestore",sk="@firebase/ai",ik="@firebase/firestore-compat",ok="firebase",ak="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="[DEFAULT]",lk={[dg]:"fire-core",[jS]:"fire-core-compat",[MS]:"fire-analytics",[LS]:"fire-analytics-compat",[FS]:"fire-app-check",[VS]:"fire-app-check-compat",[$S]:"fire-auth",[US]:"fire-auth-compat",[BS]:"fire-rtdb",[zS]:"fire-data-connect",[HS]:"fire-rtdb-compat",[qS]:"fire-fn",[WS]:"fire-fn-compat",[GS]:"fire-iid",[KS]:"fire-iid-compat",[JS]:"fire-fcm",[QS]:"fire-fcm-compat",[YS]:"fire-perf",[XS]:"fire-perf-compat",[ZS]:"fire-rc",[ek]:"fire-rc-compat",[tk]:"fire-gcs",[nk]:"fire-gcs-compat",[rk]:"fire-fst",[ik]:"fire-fst-compat",[sk]:"fire-vertex","fire-js":"fire-js",[ok]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,ck=new Map,fg=new Map;function Q_(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(fg.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;fg.set(e,t);for(const n of Lh.values())Q_(n,t);for(const n of ck.values())Q_(n,t);return!0}function Tf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new xu("app","Firebase",uk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=ak;function Ib(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:hg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw _o.create("bad-app-name",{appName:String(i)});if(n||(n=_b()),!n)throw _o.create("no-options");const a=Lh.get(i);if(a){if(Ti(n,a.options)&&Ti(r,a.config))return a;throw _o.create("duplicate-app",{appName:i})}const c=new yS(i);for(const f of fg.values())c.addComponent(f);const h=new dk(n,r,c);return Lh.set(i,h),h}function ey(t=hg){const e=Lh.get(t);if(!e&&t===hg&&_b())return Ib();if(!e)throw _o.create("no-app",{appName:t});return e}function Us(t,e,n){let r=lk[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(c.join(" "));return}ya(new Io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="firebase-heartbeat-database",fk=1,mu="firebase-heartbeat-store";let Bm=null;function xb(){return Bm||(Bm=PS(hk,fk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw _o.create("idb-open",{originalErrorMessage:t.message})})),Bm}async function pk(t){try{const n=(await xb()).transaction(mu),r=await n.objectStore(mu).get(Sb(t));return await n.done,r}catch(e){if(e instanceof Qs)Ii.warn(e.message);else{const n=_o.create("idb-get",{originalErrorMessage:e?.message});Ii.warn(n.message)}}}async function Y_(t,e){try{const r=(await xb()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,Sb(t)),await r.done}catch(n){if(n instanceof Qs)Ii.warn(n.message);else{const r=_o.create("idb-set",{originalErrorMessage:n?.message});Ii.warn(r.message)}}}function Sb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=1024,gk=30;class yk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>gk){const i=_k(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ii.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=X_(),{heartbeatsToSend:n,unsentEntries:r}=wk(this._heartbeatsCache.heartbeats),i=jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ii.warn(e),""}}}function X_(){return new Date().toISOString().substring(0,10)}function wk(t,e=mk){const n=[];let r=t.slice();for(const i of t){const a=n.find(c=>c.agent===i.agent);if(a){if(a.dates.push(i.date),Z_(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Z_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?oS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Z_(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}function _k(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t){ya(new Io("platform-logger",e=>new DS(e),"PRIVATE")),ya(new Io("heartbeat",e=>new yk(e),"PRIVATE")),Us(dg,J_,t),Us(dg,J_,"esm2020"),Us("fire-js","")}Ek("");function kb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bk=kb,Rb=new xu("auth","Firebase",kb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Xg("@firebase/auth");function Ck(t,...e){Mh.logLevel<=ct.WARN&&Mh.warn(`Auth (${Ra}): ${t}`,...e)}function yh(t,...e){Mh.logLevel<=ct.ERROR&&Mh.error(`Auth (${Ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,...e){throw ny(t,...e)}function Kr(t,...e){return ny(t,...e)}function ty(t,e,n){const r={...bk(),[e]:n};return new xu("auth","Firebase",r).create(e,{appName:t.name})}function _i(t){return ty(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jr(t,"argument-error"),ty(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ny(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Rb.create(t,...e)}function Ke(t,e,...n){if(!t)throw ny(e,...n)}function wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yh(e),new Error(e)}function xi(t,e){t||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){return typeof self<"u"&&self.location?.href||""}function Tk(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tk()||tS()||"connection"in navigator)?navigator.onLine:!0}function xk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=Xx()||nS()}get(){return Ik()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rk=new ku(3e4,6e4);function Pi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ws(t,e,n,r,i={}){return Nb(t,i,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const h=Su({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:f,...a};return eS()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&ka(t.emulatorConfig.host)&&(g.credentials="include"),Ab.fetch()(await Db(t,t.config.apiHost,n,h),g)})}async function Nb(t,e,n){t._canInitEmulator=!1;const r={...Sk,...e};try{const i=new Ak(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw sh(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw sh(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw sh(t,"user-disabled",c);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ty(t,v,g);Jr(t,v)}}catch(i){if(i instanceof Qs)throw i;Jr(t,"network-request-failed",{message:String(i)})}}async function Ru(t,e,n,r,i={}){const a=await ws(t,e,n,r,i);return"mfaPendingCredential"in a&&Jr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Db(t,e,n,r){const i=`${e}${n}?${r}`,a=t,c=a.config.emulator?ry(t.config,i):`${t.config.apiScheme}://${i}`;return kk.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function Pk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ak{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),Rk.get())})}}function sh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kr(t,e,r);return i.customData._tokenResponse=n,i}function t0(t){return t!==void 0&&t.enterprise!==void 0}class Nk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Pk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Dk(t,e){return ws(t,"GET","/v2/recaptchaConfig",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(t,e){return ws(t,"POST","/v1/accounts:delete",e)}async function Vh(t,e){return ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jk(t,e=!1){const n=At(t),r=await n.getIdToken(e),i=sy(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,c=a?.sign_in_provider;return{claims:i,token:r,authTime:ou(zm(i.auth_time)),issuedAtTime:ou(zm(i.iat)),expirationTime:ou(zm(i.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function zm(t){return Number(t)*1e3}function sy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const i=yb(n);return i?JSON.parse(i):(yh("Failed to decode base64 JWT payload"),null)}catch(i){return yh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function n0(t){const e=sy(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qs&&Lk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Lk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t){const e=t.auth,n=await t.getIdToken(),r=await wa(t,Vh(e,{idToken:n}));Ke(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?Ob(i.providerUserInfo):[],c=Fk(t.providerData,a),h=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!c?.length,g=h?f:!1,v={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new mg(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function Vk(t){const e=At(t);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ob(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(t,e){const n=await Nb(t,{},async()=>{const r=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,c=await Db(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&ka(t.emulatorConfig.host)&&(f.credentials="include"),Ab.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Uk(t,e){return ws(t,"POST","/v2/accounts:revokeToken",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=n0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await $k(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,c=new Rl;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),a&&(Ke(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Mk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wa(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jk(this,e)}reload(){return Vk(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await wa(this,Ok(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:A,providerData:L,stsTokenManager:U}=n;Ke(E&&U,e,"internal-error");const O=Rl.fromJSON(this.name,U);Ke(typeof E=="string",e,"internal-error"),io(r,e.name),io(i,e.name),Ke(typeof T=="boolean",e,"internal-error"),Ke(typeof A=="boolean",e,"internal-error"),io(a,e.name),io(c,e.name),io(h,e.name),io(f,e.name),io(g,e.name),io(v,e.name);const W=new fs({uid:E,auth:e,email:i,emailVerified:T,displayName:r,isAnonymous:A,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:O,createdAt:g,lastLoginAt:v});return L&&Array.isArray(L)&&(W.providerData=L.map(V=>({...V}))),f&&(W._redirectEventId=f),W}static async _fromIdTokenResponse(e,n,r=!1){const i=new Rl;i.updateFromServerResponse(n);const a=new fs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Ob(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!a?.length,h=new Rl;h.updateFromIdToken(r);const f=new fs({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new mg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new Map;function vi(t){xi(t instanceof Function,"Expected a class definition");let e=r0.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,r0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jb.type="NONE";const s0=jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t,e,n){return`firebase:${t}:${e}:${n}`}class Pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=wh(this.userKey,i.apiKey,a),this.fullPersistenceKey=wh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?fs._fromGetAccountInfoResponse(this.auth,n,e):null}return fs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pl(vi(s0),e,r);const i=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=i[0]||vi(s0);const c=wh(r,e.config.apiKey,e.name);let h=null;for(const g of n)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const T=await Vh(e,{idToken:v}).catch(()=>{});if(!T)break;E=await fs._fromGetAccountInfoResponse(e,T,v)}else E=fs._fromJSON(e,v);g!==a&&(h=E),a=g;break}}catch{}const f=i.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Pl(a,e,r):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==a)try{await g._remove(c)}catch{}})),new Pl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ub(e))return"Blackberry";if(Bb(e))return"Webos";if(Mb(e))return"Safari";if((e.includes("chrome/")||Vb(e))&&!e.includes("edge/"))return"Chrome";if($b(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Lb(t=Kn()){return/firefox\//i.test(t)}function Mb(t=Kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vb(t=Kn()){return/crios\//i.test(t)}function Fb(t=Kn()){return/iemobile/i.test(t)}function $b(t=Kn()){return/android/i.test(t)}function Ub(t=Kn()){return/blackberry/i.test(t)}function Bb(t=Kn()){return/webos/i.test(t)}function iy(t=Kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Bk(t=Kn()){return iy(t)&&!!window.navigator?.standalone}function zk(){return rS()&&document.documentMode===10}function zb(t=Kn()){return iy(t)||$b(t)||Bb(t)||Ub(t)||/windows phone/i.test(t)||Fb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t,e=[]){let n;switch(t){case"Browser":n=i0(Kn());break;case"Worker":n=`${i0(Kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(t,e={}){return ws(t,"GET","/v2/passwordPolicy",Pi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=6;class Gk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Wk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o0(this),this.idTokenSubscription=new o0(this),this.beforeStateQueue=new Hk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),r=await fs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(_i(this));const n=e?At(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qk(this),n=new Gk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Uk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Ck(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ai(t){return At(t)}class o0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dS(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jk(t){If=t}function qb(t){return If.loadJS(t)}function Qk(){return If.recaptchaEnterpriseScript}function Yk(){return If.gapiScript}function Xk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Zk{constructor(){this.enterprise=new eR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tR="recaptcha-enterprise",Wb="NO_RECAPTCHA";class nR{constructor(e){this.type=tR,this.auth=Ai(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{Dk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new Nk(f);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,c(g.siteKey)}}).catch(f=>{h(f)})})}function i(a,c,h){const f=window.grecaptcha;t0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(g=>{c(g)}).catch(()=>{c(Wb)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zk().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(h=>{if(!n&&t0(window.grecaptcha))i(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Qk();f.length!==0&&(f+=h),qb(f).then(()=>{i(h,a,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function a0(t,e,n,r=!1,i=!1){const a=new nR(t);let c;if(i)c=Wb;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function $h(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await a0(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await a0(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e){const n=Tf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Ti(a,e??{}))return i;Jr(i,"already-initialized")}return n.initialize({options:e})}function sR(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function iR(t,e,n){const r=Ai(t);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=Gb(e),{host:c,port:h}=oR(e),f=h===null?"":`:${h}`,g={url:`${a}//${c}${f}/`},v=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(Ti(g,r.config.emulator)&&Ti(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ka(c)?(Qg(`${a}//${c}${f}`),Yg("Auth",!0)):aR()}function Gb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oR(t){const e=Gb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:l0(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:l0(c)}}}function l0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,n){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function lR(t,e){return ws(t,"POST","/v1/accounts:update",e)}async function cR(t,e){return ws(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(t,e){return Ru(t,"POST","/v1/accounts:signInWithPassword",Pi(t,e))}async function dR(t,e){return ws(t,"POST","/v1/accounts:sendOobCode",Pi(t,e))}async function hR(t,e){return dR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}async function pR(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends oy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $h(e,n,"signInWithPassword",uR);case"emailLink":return fR(e,{email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $h(e,r,"signUpPassword",cR);case"emailLink":return pR(e,{idToken:n,email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e){return Ru(t,"POST","/v1/accounts:signInWithIdp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="http://localhost";class va extends oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const c=new va(r,i);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Al(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Al(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Al(e,n)}buildRequest(){const e={requestUri:mR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yR(t){const e=Zc(eu(t)).link,n=e?Zc(eu(e)).deep_link_id:null,r=Zc(eu(t)).deep_link_id;return(r?Zc(eu(r)).link:null)||r||n||e||t}class ay{constructor(e){const n=Zc(eu(e)),r=n.apiKey??null,i=n.oobCode??null,a=gR(n.mode??null);Ke(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yR(e);try{return new ay(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(e,n){return gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ay.parseLink(n);return Ke(r,"argument-error"),gu._fromEmailAndCode(e,r.code,r.tenantId)}}Pa.PROVIDER_ID="password";Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends xf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Pu{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return va._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Pu{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Pu{constructor(){super("twitter.com")}static credential(e,n){return va._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(t,e){return Ru(t,"POST","/v1/accounts:signUp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await fs._fromIdTokenResponse(e,r,i),c=c0(r);return new _a({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=c0(r);return new _a({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function c0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Qs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Uh(e,n,r,i)}}function Kb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(t,a,e,r):a})}async function vR(t,e,n=!1){const r=await wa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _a._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(t,e,n=!1){const{auth:r}=t;if(tr(r.app))return Promise.reject(_i(r));const i="reauthenticate";try{const a=await wa(t,Kb(r,i,e,t),n);Ke(a.idToken,r,"internal-error");const c=sy(a.idToken);Ke(c,r,"internal-error");const{sub:h}=c;return Ke(t.uid===h,r,"user-mismatch"),_a._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Jr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(t,e,n=!1){if(tr(t.app))return Promise.reject(_i(t));const r="signIn",i=await Kb(t,r,e),a=await _a._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function _R(t,e){return Qb(Ai(t),e)}async function ER(t,e){return Jb(At(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(t){const e=Ai(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Xb(t,e,n){const r=Ai(t);await $h(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hR)}async function bR(t,e,n){if(tr(t.app))return Promise.reject(_i(t));const r=Ai(t),c=await $h(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Yb(t),f}),h=await _a._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function CR(t,e,n){return tr(t.app)?Promise.reject(_i(t)):_R(At(t),Pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Yb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e){return ws(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=At(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await wa(r,TR(r.auth,a));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function IR(t,e){return xR(At(t),null,e)}async function xR(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const c=await wa(t,lR(r,a));await t._updateTokensIfNecessary(c,!0)}function SR(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function kR(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function u0(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function Au(t){return At(t).signOut()}async function RR(t){return At(t).delete()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=1e3,AR=10;class t1 extends e1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);zk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,AR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t1.type="LOCAL";const NR=t1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends e1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n1.type="SESSION";const r1=n1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(c).map(async g=>g(n.origin,a)),f=await DR(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const g=ly("",20);i.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(){return window}function jR(t){Bs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return typeof Bs().WorkerGlobalScope<"u"&&typeof Bs().importScripts=="function"}async function LR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MR(){return navigator?.serviceWorker?.controller||null}function VR(){return s1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="firebaseLocalStorageDb",FR=1,zh="firebaseLocalStorage",o1="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kf(t,e){return t.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function $R(){const t=indexedDB.deleteDatabase(i1);return new Nu(t).toPromise()}function gg(){const t=indexedDB.open(i1,FR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zh,{keyPath:o1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zh)?e(r):(r.close(),await $R(),e(await gg()))})})}async function d0(t,e,n){const r=kf(t,!0).put({[o1]:e,value:n});return new Nu(r).toPromise()}async function UR(t,e){const n=kf(t,!1).get(e),r=await new Nu(n).toPromise();return r===void 0?null:r.value}function h0(t,e){const n=kf(t,!0).delete(e);return new Nu(n).toPromise()}const BR=800,zR=3;class a1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(VR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LR(),!this.activeServiceWorker)return;this.sender=new OR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gg();return await d0(e,Bh,"1"),await h0(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=kf(i,!1).getAll();return new Nu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a1.type="LOCAL";const HR=a1;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t,e){return e?vi(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qR(t){return Qb(t.auth,new uy(t),t.bypassAuthState)}function WR(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),Jb(n,new uy(t),t.bypassAuthState)}async function GR(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),vR(n,new uy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qR;case"linkViaPopup":case"linkViaRedirect":return GR;case"reauthViaPopup":case"reauthViaRedirect":return WR;default:Jr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new ku(2e3,1e4);async function JR(t,e,n){if(tr(t.app))return Promise.reject(Kr(t,"operation-not-supported-in-this-environment"));const r=Ai(t);Pb(t,e,xf);const i=cy(r,n);return new po(r,"signInViaPopup",e,i).executeNotNull()}async function QR(t,e,n){const r=At(t);if(tr(r.auth.app))return Promise.reject(Kr(r.auth,"operation-not-supported-in-this-environment"));Pb(r.auth,e,xf);const i=cy(r.auth,n);return new po(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}class po extends l1{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KR.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="pendingRedirect",vh=new Map;class XR extends l1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await ZR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZR(t,e){const n=nP(e),r=tP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function eP(t,e){vh.set(t._key(),e)}function tP(t){return vi(t._redirectPersistence)}function nP(t){return wh(YR,t.config.apiKey,t.name)}async function rP(t,e,n=!1){if(tr(t.app))return Promise.reject(_i(t));const r=Ai(t),i=cy(r,e),c=await new XR(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=600*1e3;class iP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!c1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Kr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sP&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(e))}saveEventToCache(e){this.cachedEventUids.add(f0(e)),this.lastProcessedEventTime=Date.now()}}function f0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function c1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function oP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e={}){return ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cP=/^https?/;async function uP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aP(t);for(const n of e)try{if(dP(n))return}catch{}Jr(t,"unauthorized-domain")}function dP(t){const e=pg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!cP.test(n))return!1;if(lP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new ku(3e4,6e4);function p0(){const t=Bs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fP(t){return new Promise((e,n)=>{function r(){p0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p0(),n(Kr(t,"network-request-failed"))},timeout:hP.get()})}if(Bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bs().gapi?.load)r();else{const i=Xk("iframefcb");return Bs()[i]=()=>{gapi.load?r():n(Kr(t,"network-request-failed"))},qb(`${Yk()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw _h=null,e})}let _h=null;function pP(t){return _h=_h||fP(t),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new ku(5e3,15e3),gP="__/auth/iframe",yP="emulator/auth/iframe",wP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _P(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ry(e,yP):`https://${t.config.authDomain}/${gP}`,r={apiKey:e.apiKey,appName:t.name,v:Ra},i=vP.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Su(r).slice(1)}`}async function EP(t){const e=await pP(t),n=Bs().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:_P(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wP,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const c=Kr(t,"network-request-failed"),h=Bs().setTimeout(()=>{a(c)},mP.get());function f(){Bs().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CP=500,TP=600,IP="_blank",xP="http://localhost";class m0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SP(t,e,n,r=CP,i=TP){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...bP,width:r.toString(),height:i.toString(),top:a,left:c},g=Kn().toLowerCase();n&&(h=Vb(g)?IP:n),Lb(g)&&(e=e||xP,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[A,L])=>`${T}${A}=${L},`,"");if(Bk(g)&&h!=="_self")return kP(e||"",h),new m0(null);const E=window.open(e||"",h,v);Ke(E,t,"popup-blocked");try{E.focus()}catch{}return new m0(E)}function kP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="__/auth/handler",PP="emulator/auth/handler",AP=encodeURIComponent("fac");async function g0(t,e,n,r,i,a){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ra,eventId:i};if(e instanceof xf){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",uS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof Pu){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await t._getAppCheckToken(),g=f?`#${AP}=${encodeURIComponent(f)}`:"";return`${NP(t)}?${Su(h).slice(1)}${g}`}function NP({config:t}){return t.emulator?ry(t,PP):`https://${t.authDomain}/${RP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class DP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r1,this._completeRedirectFn=rP,this._overrideRedirectResult=eP}async _openPopup(e,n,r,i){xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await g0(e,n,r,pg(),i);return SP(e,a,ly())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await g0(e,n,r,pg(),i);return jR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(xi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EP(e),r=new iP(e);return n.register("authEvent",i=>(Ke(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},i=>{const a=i?.[0]?.[Hm];a!==void 0&&n(!!a),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zb()||Mb()||iy()}}const OP=DP;var y0="@firebase/auth",w0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MP(t){ya(new Io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Ke(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hb(t)},g=new Kk(r,i,a,f);return sR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ya(new Io("auth-internal",e=>{const n=Ai(e.getProvider("auth").getImmediate());return(r=>new jP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Us(y0,w0,LP(t)),Us(y0,w0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=300,FP=Eb("authIdTokenMaxAge")||VP;let v0=null;const $P=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FP)return;const i=n?.token;v0!==i&&(v0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function es(t=ey()){const e=Tf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rR(t,{popupRedirectResolver:OP,persistence:[HR,NR,r1]}),r=Eb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=$P(a.toString());kR(n,c,()=>c(n.currentUser)),SR(n,h=>c(h))}}const i=wb("auth");return i&&iR(n,`http://${i}`),n}function UP(){return document.getElementsByTagName("head")?.[0]??document}Jk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Kr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",UP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MP("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eo,u1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function k(){}k.prototype=I.prototype,x.D=I.prototype,x.prototype=new k,x.prototype.constructor=x,x.C=function(P,D,F){for(var R=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)R[ze-2]=arguments[ze];return I.prototype[D].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,I,k){k||(k=0);var P=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)P[D]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(D=0;16>D;++D)P[D]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=x.g[0],k=x.g[1],D=x.g[2];var F=x.g[3],R=I+(F^k&(D^F))+P[0]+3614090360&4294967295;I=k+(R<<7&4294967295|R>>>25),R=F+(D^I&(k^D))+P[1]+3905402710&4294967295,F=I+(R<<12&4294967295|R>>>20),R=D+(k^F&(I^k))+P[2]+606105819&4294967295,D=F+(R<<17&4294967295|R>>>15),R=k+(I^D&(F^I))+P[3]+3250441966&4294967295,k=D+(R<<22&4294967295|R>>>10),R=I+(F^k&(D^F))+P[4]+4118548399&4294967295,I=k+(R<<7&4294967295|R>>>25),R=F+(D^I&(k^D))+P[5]+1200080426&4294967295,F=I+(R<<12&4294967295|R>>>20),R=D+(k^F&(I^k))+P[6]+2821735955&4294967295,D=F+(R<<17&4294967295|R>>>15),R=k+(I^D&(F^I))+P[7]+4249261313&4294967295,k=D+(R<<22&4294967295|R>>>10),R=I+(F^k&(D^F))+P[8]+1770035416&4294967295,I=k+(R<<7&4294967295|R>>>25),R=F+(D^I&(k^D))+P[9]+2336552879&4294967295,F=I+(R<<12&4294967295|R>>>20),R=D+(k^F&(I^k))+P[10]+4294925233&4294967295,D=F+(R<<17&4294967295|R>>>15),R=k+(I^D&(F^I))+P[11]+2304563134&4294967295,k=D+(R<<22&4294967295|R>>>10),R=I+(F^k&(D^F))+P[12]+1804603682&4294967295,I=k+(R<<7&4294967295|R>>>25),R=F+(D^I&(k^D))+P[13]+4254626195&4294967295,F=I+(R<<12&4294967295|R>>>20),R=D+(k^F&(I^k))+P[14]+2792965006&4294967295,D=F+(R<<17&4294967295|R>>>15),R=k+(I^D&(F^I))+P[15]+1236535329&4294967295,k=D+(R<<22&4294967295|R>>>10),R=I+(D^F&(k^D))+P[1]+4129170786&4294967295,I=k+(R<<5&4294967295|R>>>27),R=F+(k^D&(I^k))+P[6]+3225465664&4294967295,F=I+(R<<9&4294967295|R>>>23),R=D+(I^k&(F^I))+P[11]+643717713&4294967295,D=F+(R<<14&4294967295|R>>>18),R=k+(F^I&(D^F))+P[0]+3921069994&4294967295,k=D+(R<<20&4294967295|R>>>12),R=I+(D^F&(k^D))+P[5]+3593408605&4294967295,I=k+(R<<5&4294967295|R>>>27),R=F+(k^D&(I^k))+P[10]+38016083&4294967295,F=I+(R<<9&4294967295|R>>>23),R=D+(I^k&(F^I))+P[15]+3634488961&4294967295,D=F+(R<<14&4294967295|R>>>18),R=k+(F^I&(D^F))+P[4]+3889429448&4294967295,k=D+(R<<20&4294967295|R>>>12),R=I+(D^F&(k^D))+P[9]+568446438&4294967295,I=k+(R<<5&4294967295|R>>>27),R=F+(k^D&(I^k))+P[14]+3275163606&4294967295,F=I+(R<<9&4294967295|R>>>23),R=D+(I^k&(F^I))+P[3]+4107603335&4294967295,D=F+(R<<14&4294967295|R>>>18),R=k+(F^I&(D^F))+P[8]+1163531501&4294967295,k=D+(R<<20&4294967295|R>>>12),R=I+(D^F&(k^D))+P[13]+2850285829&4294967295,I=k+(R<<5&4294967295|R>>>27),R=F+(k^D&(I^k))+P[2]+4243563512&4294967295,F=I+(R<<9&4294967295|R>>>23),R=D+(I^k&(F^I))+P[7]+1735328473&4294967295,D=F+(R<<14&4294967295|R>>>18),R=k+(F^I&(D^F))+P[12]+2368359562&4294967295,k=D+(R<<20&4294967295|R>>>12),R=I+(k^D^F)+P[5]+4294588738&4294967295,I=k+(R<<4&4294967295|R>>>28),R=F+(I^k^D)+P[8]+2272392833&4294967295,F=I+(R<<11&4294967295|R>>>21),R=D+(F^I^k)+P[11]+1839030562&4294967295,D=F+(R<<16&4294967295|R>>>16),R=k+(D^F^I)+P[14]+4259657740&4294967295,k=D+(R<<23&4294967295|R>>>9),R=I+(k^D^F)+P[1]+2763975236&4294967295,I=k+(R<<4&4294967295|R>>>28),R=F+(I^k^D)+P[4]+1272893353&4294967295,F=I+(R<<11&4294967295|R>>>21),R=D+(F^I^k)+P[7]+4139469664&4294967295,D=F+(R<<16&4294967295|R>>>16),R=k+(D^F^I)+P[10]+3200236656&4294967295,k=D+(R<<23&4294967295|R>>>9),R=I+(k^D^F)+P[13]+681279174&4294967295,I=k+(R<<4&4294967295|R>>>28),R=F+(I^k^D)+P[0]+3936430074&4294967295,F=I+(R<<11&4294967295|R>>>21),R=D+(F^I^k)+P[3]+3572445317&4294967295,D=F+(R<<16&4294967295|R>>>16),R=k+(D^F^I)+P[6]+76029189&4294967295,k=D+(R<<23&4294967295|R>>>9),R=I+(k^D^F)+P[9]+3654602809&4294967295,I=k+(R<<4&4294967295|R>>>28),R=F+(I^k^D)+P[12]+3873151461&4294967295,F=I+(R<<11&4294967295|R>>>21),R=D+(F^I^k)+P[15]+530742520&4294967295,D=F+(R<<16&4294967295|R>>>16),R=k+(D^F^I)+P[2]+3299628645&4294967295,k=D+(R<<23&4294967295|R>>>9),R=I+(D^(k|~F))+P[0]+4096336452&4294967295,I=k+(R<<6&4294967295|R>>>26),R=F+(k^(I|~D))+P[7]+1126891415&4294967295,F=I+(R<<10&4294967295|R>>>22),R=D+(I^(F|~k))+P[14]+2878612391&4294967295,D=F+(R<<15&4294967295|R>>>17),R=k+(F^(D|~I))+P[5]+4237533241&4294967295,k=D+(R<<21&4294967295|R>>>11),R=I+(D^(k|~F))+P[12]+1700485571&4294967295,I=k+(R<<6&4294967295|R>>>26),R=F+(k^(I|~D))+P[3]+2399980690&4294967295,F=I+(R<<10&4294967295|R>>>22),R=D+(I^(F|~k))+P[10]+4293915773&4294967295,D=F+(R<<15&4294967295|R>>>17),R=k+(F^(D|~I))+P[1]+2240044497&4294967295,k=D+(R<<21&4294967295|R>>>11),R=I+(D^(k|~F))+P[8]+1873313359&4294967295,I=k+(R<<6&4294967295|R>>>26),R=F+(k^(I|~D))+P[15]+4264355552&4294967295,F=I+(R<<10&4294967295|R>>>22),R=D+(I^(F|~k))+P[6]+2734768916&4294967295,D=F+(R<<15&4294967295|R>>>17),R=k+(F^(D|~I))+P[13]+1309151649&4294967295,k=D+(R<<21&4294967295|R>>>11),R=I+(D^(k|~F))+P[4]+4149444226&4294967295,I=k+(R<<6&4294967295|R>>>26),R=F+(k^(I|~D))+P[11]+3174756917&4294967295,F=I+(R<<10&4294967295|R>>>22),R=D+(I^(F|~k))+P[2]+718787259&4294967295,D=F+(R<<15&4294967295|R>>>17),R=k+(F^(D|~I))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+F&4294967295}r.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var k=I-this.blockSize,P=this.B,D=this.h,F=0;F<I;){if(D==0)for(;F<=k;)i(this,x,F),F+=this.blockSize;if(typeof x=="string"){for(;F<I;)if(P[D++]=x.charCodeAt(F++),D==this.blockSize){i(this,P),D=0;break}}else for(;F<I;)if(P[D++]=x[F++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var k=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=k&255,k/=256;for(this.u(x),x=Array(16),I=k=0;4>I;++I)for(var P=0;32>P;P+=8)x[k++]=this.g[I]>>>P&255;return x};function a(x,I){var k=h;return Object.prototype.hasOwnProperty.call(k,x)?k[x]:k[x]=I(x)}function c(x,I){this.h=I;for(var k=[],P=!0,D=x.length-1;0<=D;D--){var F=x[D]|0;P&&F==I||(k[D]=F,P=!1)}this.g=k}var h={};function f(x){return-128<=x&&128>x?a(x,function(I){return new c([I|0],0>I?-1:0)}):new c([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return E;if(0>x)return O(g(-x));for(var I=[],k=1,P=0;x>=k;P++)I[P]=x/k|0,k*=4294967296;return new c(I,0)}function v(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return O(v(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=g(Math.pow(I,8)),P=E,D=0;D<x.length;D+=8){var F=Math.min(8,x.length-D),R=parseInt(x.substring(D,D+F),I);8>F?(F=g(Math.pow(I,F)),P=P.j(F).add(g(R))):(P=P.j(k),P=P.add(g(R)))}return P}var E=f(0),T=f(1),A=f(16777216);t=c.prototype,t.m=function(){if(U(this))return-O(this).m();for(var x=0,I=1,k=0;k<this.g.length;k++){var P=this.i(k);x+=(0<=P?P:4294967296+P)*I,I*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(L(this))return"0";if(U(this))return"-"+O(this).toString(x);for(var I=g(Math.pow(x,6)),k=this,P="";;){var D=J(k,I).g;k=W(k,D.j(I));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(x);if(k=D,L(k))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function L(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function U(x){return x.h==-1}t.l=function(x){return x=W(this,x),U(x)?-1:L(x)?0:1};function O(x){for(var I=x.g.length,k=[],P=0;P<I;P++)k[P]=~x.g[P];return new c(k,~x.h).add(T)}t.abs=function(){return U(this)?O(this):this},t.add=function(x){for(var I=Math.max(this.g.length,x.g.length),k=[],P=0,D=0;D<=I;D++){var F=P+(this.i(D)&65535)+(x.i(D)&65535),R=(F>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);P=R>>>16,F&=65535,R&=65535,k[D]=R<<16|F}return new c(k,k[k.length-1]&-2147483648?-1:0)};function W(x,I){return x.add(O(I))}t.j=function(x){if(L(this)||L(x))return E;if(U(this))return U(x)?O(this).j(O(x)):O(O(this).j(x));if(U(x))return O(this.j(O(x)));if(0>this.l(A)&&0>x.l(A))return g(this.m()*x.m());for(var I=this.g.length+x.g.length,k=[],P=0;P<2*I;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<x.g.length;D++){var F=this.i(P)>>>16,R=this.i(P)&65535,ze=x.i(D)>>>16,Ee=x.i(D)&65535;k[2*P+2*D]+=R*Ee,V(k,2*P+2*D),k[2*P+2*D+1]+=F*Ee,V(k,2*P+2*D+1),k[2*P+2*D+1]+=R*ze,V(k,2*P+2*D+1),k[2*P+2*D+2]+=F*ze,V(k,2*P+2*D+2)}for(P=0;P<I;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=I;P<2*I;P++)k[P]=0;return new c(k,0)};function V(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function z(x,I){this.g=x,this.h=I}function J(x,I){if(L(I))throw Error("division by zero");if(L(x))return new z(E,E);if(U(x))return I=J(O(x),I),new z(O(I.g),O(I.h));if(U(I))return I=J(x,O(I)),new z(O(I.g),I.h);if(30<x.g.length){if(U(x)||U(I))throw Error("slowDivide_ only works with positive integers.");for(var k=T,P=I;0>=P.l(x);)k=se(k),P=se(P);var D=Q(k,1),F=Q(P,1);for(P=Q(P,2),k=Q(k,2);!L(P);){var R=F.add(P);0>=R.l(x)&&(D=D.add(k),F=R),P=Q(P,1),k=Q(k,1)}return I=W(x,D.j(I)),new z(D,I)}for(D=E;0<=x.l(I);){for(k=Math.max(1,Math.floor(x.m()/I.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=g(k),R=F.j(I);U(R)||0<R.l(x);)k-=P,F=g(k),R=F.j(I);L(F)&&(F=T),D=D.add(F),x=W(x,R)}return new z(D,x)}t.A=function(x){return J(this,x).h},t.and=function(x){for(var I=Math.max(this.g.length,x.g.length),k=[],P=0;P<I;P++)k[P]=this.i(P)&x.i(P);return new c(k,this.h&x.h)},t.or=function(x){for(var I=Math.max(this.g.length,x.g.length),k=[],P=0;P<I;P++)k[P]=this.i(P)|x.i(P);return new c(k,this.h|x.h)},t.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),k=[],P=0;P<I;P++)k[P]=this.i(P)^x.i(P);return new c(k,this.h^x.h)};function se(x){for(var I=x.g.length+1,k=[],P=0;P<I;P++)k[P]=x.i(P)<<1|x.i(P-1)>>>31;return new c(k,x.h)}function Q(x,I){var k=I>>5;I%=32;for(var P=x.g.length-k,D=[],F=0;F<P;F++)D[F]=0<I?x.i(F+k)>>>I|x.i(F+k+1)<<32-I:x.i(F+k);return new c(D,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Eo=c}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d1,tu,h1,Eh,yg,f1,p1,m1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,y,_){return u==Array.prototype||u==Object.prototype||(u[y]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var y=0;y<u.length;++y){var _=u[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(u,y){if(y)e:{var _=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var H=u[S];if(!(H in _))break e;_=_[H]}u=u[u.length-1],S=_[u],y=y(S),y!=S&&y!=null&&e(_,u,{configurable:!0,writable:!0,value:y})}}function a(u,y){u instanceof String&&(u+="");var _=0,S=!1,H={next:function(){if(!S&&_<u.length){var Z=_++;return{value:y(Z,u[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(u){return u||function(){return a(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var y=typeof u;return y=y!="object"?y:u?Array.isArray(u)?"array":y:"null",y=="array"||y=="object"&&typeof u.length=="number"}function g(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function v(u,y,_){return u.call.apply(u.bind,arguments)}function E(u,y,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),u.apply(y,H)}}return function(){return u.apply(y,arguments)}}function T(u,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function A(u,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function L(u,y){function _(){}_.prototype=y.prototype,u.aa=y.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,H,Z){for(var ge=Array(arguments.length-2),It=2;It<arguments.length;It++)ge[It-2]=arguments[It];return y.prototype[H].apply(S,ge)}}function U(u){const y=u.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=u[S];return _}return[]}function O(u,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const H=u.length||0,Z=S.length||0;u.length=H+Z;for(let ge=0;ge<Z;ge++)u[H+ge]=S[ge]}else u.push(S)}}class W{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(u){return/^[\s\xa0]*$/.test(u)}function z(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function J(u){return J[" "](u),u}J[" "]=function(){};var se=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Q(u,y,_){for(const S in u)y.call(_,u[S],S,u)}function x(u,y){for(const _ in u)y.call(void 0,u[_],_,u)}function I(u){const y={};for(const _ in u)y[_]=u[_];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,y){let _,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(_ in S)u[_]=S[_];for(let Z=0;Z<k.length;Z++)_=k[Z],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function D(u){var y=1;u=u.split(":");const _=[];for(;0<y&&u.length;)_.push(u.shift()),y--;return u.length&&_.push(u.join(":")),_}function F(u){h.setTimeout(()=>{throw u},0)}function R(){var u=ie;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class ze{constructor(){this.h=this.g=null}add(y,_){const S=Ee.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ee=new W(()=>new He,u=>u.reset());class He{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,ee=!1,ie=new ze,ne=()=>{const u=h.Promise.resolve(void 0);Be=()=>{u.then(M)}};var M=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){F(_)}var y=Ee;y.j(u),100>y.h&&(y.h++,u.next=y.g,y.g=u)}ee=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ce=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return u})();function _e(u,y){if(ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget){if(se){e:{try{J(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=u.fromElement:_=="mouseout"&&(y=u.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ke[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&_e.aa.h.call(this)}}L(_e,ae);var ke={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),We=0;function Xe(u,y,_,S,H){this.listener=u,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=H,this.key=++We,this.da=this.fa=!1}function Et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Y(u){this.src=u,this.g={},this.h=0}Y.prototype.add=function(u,y,_,S,H){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var ge=ve(u,y,S,H);return-1<ge?(y=u[ge],_||(y.fa=!1)):(y=new Xe(y,this.src,Z,!!S,H),y.fa=_,u.push(y)),y};function Te(u,y){var _=y.type;if(_ in u.g){var S=u.g[_],H=Array.prototype.indexOf.call(S,y,void 0),Z;(Z=0<=H)&&Array.prototype.splice.call(S,H,1),Z&&(Et(y),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ve(u,y,_,S){for(var H=0;H<u.length;++H){var Z=u[H];if(!Z.da&&Z.listener==y&&Z.capture==!!_&&Z.ha==S)return H}return-1}var De="closure_lm_"+(1e6*Math.random()|0),ye={};function xe(u,y,_,S,H){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)xe(u,y[Z],_,S,H);return null}return _=at(_),u&&u[Je]?u.K(y,_,g(S)?!!S.capture:!1,H):me(u,y,_,!1,S,H)}function me(u,y,_,S,H,Z){if(!y)throw Error("Invalid event type");var ge=g(H)?!!H.capture:!!H,It=tt(u);if(It||(u[De]=It=new Y(u)),_=It.add(y,_,S,ge,Z),_.proxy)return _;if(S=he(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)ce||(H=ge),H===void 0&&(H=!1),u.addEventListener(y.toString(),S,H);else if(u.attachEvent)u.attachEvent(Ze(y.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function he(){function u(_){return y.call(u.src,u.listener,_)}const y=St;return u}function Le(u,y,_,S,H){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)Le(u,y[Z],_,S,H);else S=g(S)?!!S.capture:!!S,_=at(_),u&&u[Je]?(u=u.i,y=String(y).toString(),y in u.g&&(Z=u.g[y],_=ve(Z,_,S,H),-1<_&&(Et(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete u.g[y],u.h--)))):u&&(u=tt(u))&&(y=u.g[y.toString()],u=-1,y&&(u=ve(y,_,S,H)),(_=-1<u?y[u]:null)&&be(_))}function be(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Je])Te(y.i,u);else{var _=u.type,S=u.proxy;y.removeEventListener?y.removeEventListener(_,S,u.capture):y.detachEvent?y.detachEvent(Ze(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=tt(y))?(Te(_,u),_.h==0&&(_.src=null,y[De]=null)):Et(u)}}}function Ze(u){return u in ye?ye[u]:ye[u]="on"+u}function St(u,y){if(u.da)u=!0;else{y=new _e(y,this);var _=u.listener,S=u.ha||u.src;u.fa&&be(u),u=_.call(S,y)}return u}function tt(u){return u=u[De],u instanceof Y?u:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function at(u){return typeof u=="function"?u:(u[ot]||(u[ot]=function(y){return u.handleEvent(y)}),u[ot])}function lt(){G.call(this),this.i=new Y(this),this.M=this,this.F=null}L(lt,G),lt.prototype[Je]=!0,lt.prototype.removeEventListener=function(u,y,_,S){Le(this,u,y,_,S)};function kt(u,y){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=y.type||y,typeof y=="string")y=new ae(y,u);else if(y instanceof ae)y.target=y.target||u;else{var H=y;y=new ae(S,u),P(y,H)}if(H=!0,_)for(var Z=_.length-1;0<=Z;Z--){var ge=y.g=_[Z];H=vr(ge,S,!0,y)&&H}if(ge=y.g=u,H=vr(ge,S,!0,y)&&H,H=vr(ge,S,!1,y)&&H,_)for(Z=0;Z<_.length;Z++)ge=y.g=_[Z],H=vr(ge,S,!1,y)&&H}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,y;for(y in u.g){for(var _=u.g[y],S=0;S<_.length;S++)Et(_[S]);delete u.g[y],u.h--}}this.F=null},lt.prototype.K=function(u,y,_,S){return this.i.add(String(u),y,!1,_,S)},lt.prototype.L=function(u,y,_,S){return this.i.add(String(u),y,!0,_,S)};function vr(u,y,_,S){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Z=0;Z<y.length;++Z){var ge=y[Z];if(ge&&!ge.da&&ge.capture==_){var It=ge.listener,mn=ge.ha||ge.src;ge.fa&&Te(u.i,ge),H=It.call(mn,S)!==!1&&H}}return H&&!S.defaultPrevented}function jo(u,y,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(u,y||0)}function Es(u){u.g=jo(()=>{u.g=null,u.i&&(u.i=!1,Es(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class bs extends G{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Es(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(u){G.call(this),this.h=u,this.g={}}L(Cs,G);var Lo=[];function Mo(u){Q(u.g,function(y,_){this.g.hasOwnProperty(_)&&be(y)},u),u.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Mo(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=h.JSON.stringify,Vo=h.JSON.parse,Fo=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Xs(){}Xs.prototype.h=null;function Zs(u){return u.h||(u.h=u.i())}function Di(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){ae.call(this,"d")}L(_r,ae);function Lr(){ae.call(this,"c")}L(Lr,ae);var Mr={},$o=null;function Ts(){return $o=$o||new lt}Mr.La="serverreachability";function Oi(u){ae.call(this,Mr.La,u)}L(Oi,ae);function Vr(u){const y=Ts();kt(y,new Oi(y))}Mr.STAT_EVENT="statevent";function ji(u,y){ae.call(this,Mr.STAT_EVENT,u),this.stat=y}L(ji,ae);function Ft(u){const y=Ts();kt(y,new ji(y,u))}Mr.Ma="timingevent";function ei(u,y){ae.call(this,Mr.Ma,u),this.size=y}L(ei,ae);function ir(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},y)}function Is(){this.g=!0}Is.prototype.xa=function(){this.g=!1};function ti(u,y,_,S,H,Z){u.info(function(){if(u.g)if(Z)for(var ge="",It=Z.split("&"),mn=0;mn<It.length;mn++){var ft=It[mn].split("=");if(1<ft.length){var En=ft[0];ft=ft[1];var on=En.split("_");ge=2<=on.length&&on[1]=="type"?ge+(En+"="+ft+"&"):ge+(En+"=redacted&")}}else ge=null;else ge=Z;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+y+`
`+_+`
`+ge})}function Li(u,y,_,S,H,Z,ge){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+y+`
`+_+`
`+Z+" "+ge})}function rn(u,y,_,S){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Uo(u,_)+(S?" "+S:"")})}function Rn(u,y){u.info(function(){return"TIMEOUT: "+y})}Is.prototype.info=function(){};function Uo(u,y){if(!u.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var Z=H[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ge=1;ge<H.length;ge++)H[ge]=""}}}}return Ni(_)}catch{return y}}var ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kt;function or(){}L(or,Xs),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},Kt=new or;function Er(u,y,_,S){this.j=u,this.i=y,this.l=_,this.R=S||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fr}function Fr(){this.i=null,this.g="",this.h=!1}var Mi={},ts={};function ri(u,y,_){u.L=1,u.v=$i(sn(y)),u.m=_,u.P=!0,zo(u,null)}function zo(u,y){u.F=Date.now(),Rt(u),u.A=sn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Bi(_.i,"t",S),u.C=0,_=u.j.J,u.h=new Fr,u.g=ld(u.j,_?y:null,!u.m),0<u.O&&(u.M=new bs(T(u.Y,u,u.g),u.O)),y=u.U,_=u.g,S=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(Lo[0]=H.toString()),H=Lo);for(var Z=0;Z<H.length;Z++){var ge=xe(_,H[Z],S||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,y)):(u.u="GET",u.g.ea(u.A,u.u,null,y)),Vr(),ti(u.i,u.u,u.A,u.l,u.R,u.m)}Er.prototype.ca=function(u){u=u.target;const y=this.M;y&&cr(u)==3?y.j():this.Y(u)},Er.prototype.Y=function(u){try{if(u==this.g)e:{const on=cr(this.g);var y=this.g.Ba();const Ur=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||_c(this.g)))){this.J||on!=4||y==7||(y==8||0>=Ur?Vr(3):Vr(2)),br(this);var _=this.g.Z();this.X=_;t:if(Fa(this)){var S=_c(this.g);u="";var H=S.length,Z=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ar(this),xs(this);var ge="";break t}this.h.i=new h.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,u+=this.h.i.decode(S[y],{stream:!(Z&&y==H-1)});S.length=0,this.h.g+=u,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=_==200,Li(this.i,this.u,this.A,this.l,this.R,on,_),this.o){if(this.T&&!this.K){t:{if(this.g){var It,mn=this.g;if((It=mn.g?mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(It)){var ft=It;break t}}ft=null}if(_=ft)rn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ho(this,_);else{this.o=!1,this.s=3,Ft(12),ar(this),xs(this);break e}}if(this.P){_=!0;let Ir;for(;!this.J&&this.C<ge.length;)if(Ir=gc(this,ge),Ir==ts){on==4&&(this.s=4,Ft(14),_=!1),rn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ir==Mi){this.s=4,Ft(15),rn(this.i,this.l,ge,"[Invalid Chunk]"),_=!1;break}else rn(this.i,this.l,Ir,null),Ho(this,Ir);if(Fa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||ge.length!=0||this.h.h||(this.s=1,Ft(16),_=!1),this.o=this.o&&_,!_)rn(this.i,this.l,ge,"[Invalid Chunked Response]"),ar(this),xs(this);else if(0<ge.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),bc(En),En.M=!0,Ft(11))}}else rn(this.i,this.l,ge,null),Ho(this,ge);on==4&&ar(this),this.o&&!this.J&&(on==4?Xa(this.j,this):(this.o=!1,Rt(this)))}else Ga(this.g),_==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),ar(this),xs(this)}}}catch{}finally{}};function Fa(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function gc(u,y){var _=u.C,S=y.indexOf(`
`,_);return S==-1?ts:(_=Number(y.substring(_,S)),isNaN(_)?Mi:(S+=1,S+_>y.length?ts:(y=y.slice(S,S+_),u.C=S+_,y)))}Er.prototype.cancel=function(){this.J=!0,ar(this)};function Rt(u){u.S=Date.now()+u.I,Yt(u,u.I)}function Yt(u,y){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ir(T(u.ba,u),y)}function br(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Er.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Rn(this.i,this.A),this.L!=2&&(Vr(),Ft(17)),ar(this),this.s=2,xs(this)):Yt(this,this.S-u)};function xs(u){u.j.G==0||u.J||Xa(u.j,u)}function ar(u){br(u);var y=u.M;y&&typeof y.ma=="function"&&y.ma(),u.M=null,Mo(u.U),u.g&&(y=u.g,u.g=null,y.abort(),y.ma())}function Ho(u,y){try{var _=u.j;if(_.G!=0&&(_.g==u||Jt(_.h,u))){if(!u.K&&Jt(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ya(_),os(_);else break e;Qa(_),Ft(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=ir(T(_.Za,_),6e3));if(1>=Ua(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else li(_,11)}else if((u.K||_.g==u)&&Ya(_),!V(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let ft=H[y];if(_.T=ft[0],ft=ft[1],_.G==2)if(ft[0]=="c"){_.K=ft[1],_.ia=ft[2];const En=ft[3];En!=null&&(_.la=En,_.j.info("VER="+_.la));const on=ft[4];on!=null&&(_.Aa=on,_.j.info("SVER="+_.Aa));const Ur=ft[5];Ur!=null&&typeof Ur=="number"&&0<Ur&&(S=1.5*Ur,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ir=u.g;if(Ir){const Jo=Ir.g?Ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jo){var Z=S.h;Z.g||Jo.indexOf("spdy")==-1&&Jo.indexOf("quic")==-1&&Jo.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(qo(Z,Z.h),Z.h=null))}if(S.D){const el=Ir.g?Ir.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(S.ya=el,Nt(S.I,S.D,el))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ge=u;if(S.qa=ad(S,S.J?S.ia:null,S.W),ge.K){Ba(S.h,ge);var It=ge,mn=S.L;mn&&(It.I=mn),It.B&&(br(It),Rt(It)),S.g=ge}else Ko(S);0<_.i.length&&Ps(_)}else ft[0]!="stop"&&ft[0]!="close"||li(_,7);else _.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?li(_,7):An(_):ft[0]!="noop"&&_.l&&_.l.ta(ft),_.v=0)}}Vr(4)}catch{}}var $a=class{constructor(u,y){this.g=u,this.map=y}};function si(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ua(u){return u.h?1:u.g?u.g.size:0}function Jt(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function qo(u,y){u.g?u.g.add(y):u.h=y}function Ba(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}si.prototype.cancel=function(){if(this.i=za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function za(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const _ of u.g.values())y=y.concat(_.D);return y}return U(u.i)}function Me(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var y=[],_=u.length,S=0;S<_;S++)y.push(u[S]);return y}y=[],_=0;for(S in u)y[_++]=u[S];return y}function rt(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var y=[];u=u.length;for(var _=0;_<u;_++)y.push(_);return y}y=[],_=0;for(const S in u)y[_++]=S;return y}}}function $t(u,y){if(u.forEach&&typeof u.forEach=="function")u.forEach(y,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,y,void 0);else for(var _=rt(u),S=Me(u),H=S.length,Z=0;Z<H;Z++)y.call(void 0,S[Z],_&&_[Z],u)}var pn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qe(u,y){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),H=null;if(0<=S){var Z=u[_].substring(0,S);H=u[_].substring(S+1)}else Z=u[_];y(Z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Cr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Cr){this.h=u.h,Fn(this,u.j),this.o=u.o,this.g=u.g,Vi(this,u.s),this.l=u.l;var y=u.i,_=new Ss;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Fi(this,_),this.m=u.m}else u&&(y=String(u).match(pn))?(this.h=!1,Fn(this,y[1]||"",!0),this.o=ht(y[2]||""),this.g=ht(y[3]||"",!0),Vi(this,y[4]),this.l=ht(y[5]||"",!0),Fi(this,y[6]||"",!0),this.m=ht(y[7]||"")):(this.h=!1,this.i=new Ss(null,this.h))}Cr.prototype.toString=function(){var u=[],y=this.j;y&&u.push(Ui(y,Ha,!0),":");var _=this.g;return(_||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Ui(y,Ha,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ui(_,_.charAt(0)=="/"?Zu:Xu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ui(_,yc)),u.join("")};function sn(u){return new Cr(u)}function Fn(u,y,_){u.j=_?ht(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Vi(u,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);u.s=y}else u.s=null}function Fi(u,y,_){y instanceof Ss?(u.i=y,ks(u.i,u.h)):(_||(y=Ui(y,ed)),u.i=new Ss(y,u.h))}function Nt(u,y,_){u.i.set(y,_)}function $i(u){return Nt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ht(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ui(u,y,_){return typeof u=="string"?(u=encodeURI(u).replace(y,Yu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Yu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ha=/[#\/\?@]/g,Xu=/[#\?:]/g,Zu=/[#\?]/g,ed=/[#\?@]/g,yc=/#/g;function Ss(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Pn(u){u.g||(u.g=new Map,u.h=0,u.i&&qe(u.i,function(y,_){u.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}t=Ss.prototype,t.add=function(u,y){Pn(this),this.i=null,u=$r(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(y),this.h+=1,this};function ns(u,y){Pn(u),y=$r(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function rs(u,y){return Pn(u),y=$r(u,y),u.g.has(y)}t.forEach=function(u,y){Pn(this),this.g.forEach(function(_,S){_.forEach(function(H){u.call(y,H,S,this)},this)},this)},t.na=function(){Pn(this);const u=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const H=u[S];for(let Z=0;Z<H.length;Z++)_.push(y[S])}return _},t.V=function(u){Pn(this);let y=[];if(typeof u=="string")rs(this,u)&&(y=y.concat(this.g.get($r(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)y=y.concat(u[_])}return y},t.set=function(u,y){return Pn(this),this.i=null,u=$r(this,u),rs(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},t.get=function(u,y){return u?(u=this.V(u),0<u.length?String(u[0]):y):y};function Bi(u,y,_){ns(u,y),0<_.length&&(u.i=null,u.g.set($r(u,y),U(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Z=encodeURIComponent(String(S)),ge=this.V(S);for(S=0;S<ge.length;S++){var H=Z;ge[S]!==""&&(H+="="+encodeURIComponent(String(ge[S]))),u.push(H)}}return this.i=u.join("&")};function $r(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function ks(u,y){y&&!u.j&&(Pn(u),u.i=null,u.g.forEach(function(_,S){var H=S.toLowerCase();S!=H&&(ns(this,S),Bi(this,H,_))},u)),u.j=y}function up(u,y){const _=new Is;if(h.Image){const S=new Image;S.onload=A(lr,_,"TestLoadImage: loaded",!0,y,S),S.onerror=A(lr,_,"TestLoadImage: error",!1,y,S),S.onabort=A(lr,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=A(lr,_,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else y(!1)}function td(u,y){const _=new Is,S=new AbortController,H=setTimeout(()=>{S.abort(),lr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:S.signal}).then(Z=>{clearTimeout(H),Z.ok?lr(_,"TestPingServer: ok",!0,y):lr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),lr(_,"TestPingServer: error",!1,y)})}function lr(u,y,_,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(_)}catch{}}function dp(){this.g=new Fo}function nd(u,y,_){const S=_||"";try{$t(u,function(H,Z){let ge=H;g(H)&&(ge=Ni(H)),y.push(S+Z+"="+encodeURIComponent(ge))})}catch(H){throw y.push(S+"type="+encodeURIComponent("_badmap")),H}}function ii(u){this.l=u.Ub||null,this.j=u.eb||!1}L(ii,Xs),ii.prototype.g=function(){return new Wo(this.l,this.j)},ii.prototype.i=(function(u){return function(){return u}})({});function Wo(u,y){lt.call(this),this.D=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Wo,lt),t=Wo.prototype,t.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=y,this.readyState=1,is(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(y.body=u),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ss(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rd(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function rd(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?ss(this):is(this),this.readyState==3&&rd(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ss(this))},t.Qa=function(u){this.g&&(this.response=u,ss(this))},t.ga=function(){this.g&&ss(this)};function ss(u){u.readyState=4,u.l=null,u.j=null,u.v=null,is(u)}t.setRequestHeader=function(u,y){this.u.append(u,y)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=y.next();return u.join(`\r
`)};function is(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function oi(u){let y="";return Q(u,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function zi(u,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=oi(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Nt(u,y,_))}function Ut(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ut,lt);var hp=/^https?$/i,wc=["POST","PUT"];t=Ut.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kt.g(),this.v=this.o?Zs(this.o):Zs(Kt),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(Z){Go(this,Z);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)_.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())_.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),H=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(wc,y,void 0))||S||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ge]of _)this.g.setRequestHeader(Z,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){Go(this,Z)}};function Go(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.m=5,qa(u),Tr(u)}function qa(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,kt(this,"complete"),kt(this,"abort"),Tr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),Ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vc(this):this.bb())},t.bb=function(){vc(this)};function vc(u){if(u.h&&typeof c<"u"&&(!u.v[1]||cr(u)!=4||u.Z()!=2)){if(u.u&&cr(u)==4)jo(u.Ea,0,u);else if(kt(u,"readystatechange"),cr(u)==4){u.h=!1;try{const ge=u.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ge===0){var H=String(u.D).match(pn)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),S=!hp.test(H?H.toLowerCase():"")}_=S}if(_)kt(u,"complete"),kt(u,"success");else{u.m=6;try{var Z=2<cr(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",qa(u)}}finally{Tr(u)}}}}function Tr(u,y){if(u.g){Wa(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,y||kt(u,"ready");try{_.onreadystatechange=S}catch{}}}function Wa(u){u.I&&(h.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function cr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Vo(y)}};function _c(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ga(u){const y={};u=(u.g&&2<=cr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(V(u[S]))continue;var _=D(u[S]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=y[H]||[];y[H]=Z,Z.push(_)}x(y,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(u,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||y}function Ec(u){this.Aa=0,this.i=[],this.j=new Is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,u),this.cb=Rs("retryDelaySeedMs",1e4,u),this.Wa=Rs("forwardChannelMaxRetries",2,u),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new si(u&&u.concurrentRequestLimit),this.Da=new dp,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ec.prototype,t.la=8,t.G=1,t.connect=function(u,y,_,S){Ft(0),this.W=u,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ad(this,null,this.W),Ps(this)};function An(u){if(Ka(u),u.G==3){var y=u.U++,_=sn(u.I);if(Nt(_,"SID",u.K),Nt(_,"RID",y),Nt(_,"TYPE","terminate"),ai(u,_),y=new Er(u,u.j,y),y.L=2,y.v=$i(sn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.v,_=!0),_||(y.g=ld(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Rt(y)}od(u)}function os(u){u.g&&(bc(u),u.g.cancel(),u.g=null)}function Ka(u){os(u),u.u&&(h.clearTimeout(u.u),u.u=null),Ya(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Ps(u){if(!Yn(u.h)&&!u.s){u.s=!0;var y=u.Ga;Be||ne(),ee||(Be(),ee=!0),ie.add(y,u),u.B=0}}function fp(u,y){return Ua(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=y.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ir(T(u.Ga,u,y),id(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new Er(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=I(Z),P(Z,this.S)):Z=this.S),this.m!==null||this.O||(H.H=Z,Z=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Hi(this,H,y),_=sn(this.I),Nt(_,"RID",u),Nt(_,"CVER",22),this.D&&Nt(_,"X-HTTP-Session-Id",this.D),ai(this,_),Z&&(this.O?y="headers="+encodeURIComponent(String(oi(Z)))+"&"+y:this.m&&zi(_,this.m,Z)),qo(this.h,H),this.Ua&&Nt(_,"TYPE","init"),this.P?(Nt(_,"$req",y),Nt(_,"SID","null"),H.T=!0,ri(H,_,null)):ri(H,_,y),this.G=2}}else this.G==3&&(u?Ja(this,u):this.i.length==0||Yn(this.h)||Ja(this))};function Ja(u,y){var _;y?_=y.l:_=u.U++;const S=sn(u.I);Nt(S,"SID",u.K),Nt(S,"RID",_),Nt(S,"AID",u.T),ai(u,S),u.m&&u.o&&zi(S,u.m,u.o),_=new Er(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),y&&(u.i=y.D.concat(u.i)),y=Hi(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qo(u.h,_),ri(_,S,y)}function ai(u,y){u.H&&Q(u.H,function(_,S){Nt(y,S,_)}),u.l&&$t({},function(_,S){Nt(y,S,_)})}function Hi(u,y,_){_=Math.min(u.i.length,_);var S=u.l?T(u.l.Na,u.l,u):null;e:{var H=u.i;let Z=-1;for(;;){const ge=["count="+_];Z==-1?0<_?(Z=H[0].g,ge.push("ofs="+Z)):Z=0:ge.push("ofs="+Z);let It=!0;for(let mn=0;mn<_;mn++){let ft=H[mn].g;const En=H[mn].map;if(ft-=Z,0>ft)Z=Math.max(0,H[mn].g-100),It=!1;else try{nd(En,ge,"req"+ft+"_")}catch{S&&S(En)}}if(It){S=ge.join("&");break e}}}return u=u.i.splice(0,_),y.D=u,S}function Ko(u){if(!u.g&&!u.u){u.Y=1;var y=u.Fa;Be||ne(),ee||(Be(),ee=!0),ie.add(y,u),u.v=0}}function Qa(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ir(T(u.Fa,u),id(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,sd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ir(T(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),os(this),sd(this))};function bc(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function sd(u){u.g=new Er(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var y=sn(u.qa);Nt(y,"RID","rpc"),Nt(y,"SID",u.K),Nt(y,"AID",u.T),Nt(y,"CI",u.F?"0":"1"),!u.F&&u.ja&&Nt(y,"TO",u.ja),Nt(y,"TYPE","xmlhttp"),ai(u,y),u.m&&u.o&&zi(y,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=$i(sn(y)),_.m=null,_.P=!0,zo(_,u)}t.Za=function(){this.C!=null&&(this.C=null,os(this),Qa(this),Ft(19))};function Ya(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Xa(u,y){var _=null;if(u.g==y){Ya(u),bc(u),u.g=null;var S=2}else if(Jt(u.h,y))_=y.D,Ba(u.h,y),S=1;else return;if(u.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=u.B;S=Ts(),kt(S,new ei(S,_)),Ps(u)}else Ko(u);else if(H=y.s,H==3||H==0&&0<y.X||!(S==1&&fp(u,y)||S==2&&Qa(u)))switch(_&&0<_.length&&(y=u.h,y.i=y.i.concat(_)),H){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}}function id(u,y){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*y}function li(u,y){if(u.j.info("Error code "+y),y==2){var _=T(u.fb,u),S=u.Xa;const H=!S;S=new Cr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Fn(S,"https"),$i(S),H?up(S.toString(),_):td(S.toString(),_)}else Ft(2);u.G=0,u.l&&u.l.sa(y),od(u),Ka(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function od(u){if(u.G=0,u.ka=[],u.l){const y=za(u.h);(y.length!=0||u.i.length!=0)&&(O(u.ka,y),O(u.ka,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.ra()}}function ad(u,y,_){var S=_ instanceof Cr?sn(_):new Cr(_);if(S.g!="")y&&(S.g=y+"."+S.g),Vi(S,S.s);else{var H=h.location;S=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Z=new Cr(null);S&&Fn(Z,S),y&&(Z.g=y),H&&Vi(Z,H),_&&(Z.l=_),S=Z}return _=u.D,y=u.ya,_&&y&&Nt(S,_,y),Nt(S,"VER",u.la),ai(u,S),S}function ld(u,y,_){if(y&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Ca&&!u.pa?new Ut(new ii({eb:_})):new Ut(u.pa),y.Ha(u.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}t=Cc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Za(){}Za.prototype.g=function(u,y){return new Xn(u,y)};function Xn(u,y){lt.call(this),this.g=new Ec(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(u?u["X-WebChannel-Client-Profile"]=y.va:u={"X-WebChannel-Client-Profile":y.va}),this.g.S=u,(u=y&&y.Sb)&&!V(u)&&(this.g.m=u),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.D=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new As(this)}L(Xn,lt),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){An(this.g)},Xn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ni(u),u=_);y.i.push(new $a(y.Ya++,u)),y.G==3&&Ps(y)},Xn.prototype.N=function(){this.g.l=null,delete this.j,An(this.g),delete this.g,Xn.aa.N.call(this)};function cd(u){_r.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const _ in y){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}L(cd,_r);function ud(){Lr.call(this),this.status=1}L(ud,Lr);function As(u){this.g=u}L(As,Cc),As.prototype.ua=function(){kt(this.g,"a")},As.prototype.ta=function(u){kt(this.g,new cd(u))},As.prototype.sa=function(u){kt(this.g,new ud)},As.prototype.ra=function(){kt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,m1=function(){return new Za},p1=function(){return Ts()},f1=Mr,yg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ni.NO_ERROR=0,ni.TIMEOUT=8,ni.HTTP_ERROR=6,Eh=ni,Bo.COMPLETE="complete",h1=Bo,Di.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,tu=Di,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,d1=Ut}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const E0="@firebase/firestore",b0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Xg("@firebase/firestore");function Cl(){return Ea.logLevel}function Ie(t,...e){if(Ea.logLevel<=ct.DEBUG){const n=e.map(dy);Ea.debug(`Firestore (${tc}): ${t}`,...n)}}function Si(t,...e){if(Ea.logLevel<=ct.ERROR){const n=e.map(dy);Ea.error(`Firestore (${tc}): ${t}`,...n)}}function jl(t,...e){if(Ea.logLevel<=ct.WARN){const n=e.map(dy);Ea.warn(`Firestore (${tc}): ${t}`,...n)}}function dy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,g1(t,r,n)}function g1(t,e,n){let r=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Si(r),new Error(r)}function mt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||g1(e,i,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(qn.UNAUTHENTICATED)))}shutdown(){}}class zP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class HP{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zs,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new y1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new qn(e)}}class qP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new qP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const r=a=>{a.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,Ie("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=KP(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function wg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return qm(i)===qm(a)?ut(i,a):qm(i)?1:-1}return ut(t.length,e.length)}const JP=55296,QP=57343;function qm(t){const e=t.charCodeAt(0);return e>=JP&&e<=QP}function Ll(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="__name__";class Ls{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ls?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ls.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ut(e.length,n.length)}static compareSegments(e,n){const r=Ls.isNumericId(e),i=Ls.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ls.extractNumericId(e).compare(Ls.extractNumericId(n)):wg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}}class Pt extends Ls{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const YP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends Ls{construct(e,n,r){return new Ln(e,n,r)}static isValidIdentifier(e){return YP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T0}static keyField(){return new Ln([T0])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(c=!c,i++):h!=="."||c?(r+=h,i++):(a(),i++)}if(a(),c)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(n)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Pt.fromString(e))}static fromName(e){return new je(Pt.fromString(e).popFirst(5))}static empty(){return new je(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t,e,n){if(!n)throw new we(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XP(t,e,n,r){if(e===!0&&r===!0)throw new we(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function I0(t){if(!je.isDocumentKey(t))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x0(t){if(je.isDocumentKey(t))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function v1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Rf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rf(t);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Du(t,e){if(!v1(t))throw new we(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new we(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=-62135596800,k0=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*k0);return new Vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<S0)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Du(e,Vt._jsonSchema))return new Vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-S0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vt._jsonSchemaVersion="firestore/timestamp/1.0",Vt._jsonSchema={type:fn("string",Vt._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Vt(0,0))}static max(){return new Ge(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function ZP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new xo(i,je.empty(),e)}function eA(t){return new xo(t.readTime,t.key,yu)}class xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xo(Ge.min(),je.empty(),yu)}static max(){return new xo(Ge.max(),je.empty(),yu)}}function tA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==nA)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let i=0,a=0,c=!1;e.forEach((h=>{++i,h.next((()=>{++a,c&&a===i&&n()}),(f=>r(f)))})),c=!0,a===i&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((i=>i?oe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,i)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const g=f;n(e[g]).next((v=>{c[g]=v,++h,h===a&&r(c)}),(v=>i(v)))}}))}static doWhile(e,n){return new oe(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function sA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=-1;function Ou(t){return t==null}function Hh(t){return t===0&&1/t==-1/0}function iA(t){return typeof t=="number"&&Number.isInteger(t)&&!Hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="";function oA(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=R0(e)),e=aA(t.get(n),e);return R0(e)}function aA(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case _1:n+="";break;default:n+=a}}return n}function R0(t){return t+_1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??jn.RED,this.left=i??jn.EMPTY,this.right=a??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new jn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(e){return new A0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new vn(this.comparator);return n.data=e,n}}class A0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new vn(Ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new b1("Invalid base64 string: "+a):a}})(e);return new Mn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a})(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const lA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=lA.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ko(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="server_timestamp",T1="__type__",I1="__previous_value__",x1="__local_write_time__";function py(t){return(t?.mapValue?.fields||{})[T1]?.stringValue===C1}function Af(t){const e=t.mapValue.fields[I1];return py(e)?Af(e):e}function wu(t){const e=So(t.mapValue.fields[x1].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,r,i,a,c,h,f,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=v}}const qh="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="__type__",uA="__max__",ah={mapValue:{}},k1="__vector__",Wh="value";function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?py(t)?4:hA(t)?9007199254740991:dA(t)?10:11:Ve(28295,{value:t})}function Gs(t,e){if(t===e)return!0;const n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wu(t).isEqual(wu(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=So(i.timestampValue),h=So(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ko(i.bytesValue).isEqual(ko(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return en(i.geoPointValue.latitude)===en(a.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return en(i.integerValue)===en(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=en(i.doubleValue),h=en(a.doubleValue);return c===h?Hh(c)===Hh(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Ll(t.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:case 11:return(function(i,a){const c=i.mapValue.fields||{},h=a.mapValue.fields||{};if(P0(c)!==P0(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Gs(c[f],h[f])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function _u(t,e){return(t.values||[]).find((n=>Gs(n,e)))!==void 0}function Ml(t,e){if(t===e)return 0;const n=Ro(t),r=Ro(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=en(a.integerValue||a.doubleValue),f=en(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return N0(t.timestampValue,e.timestampValue);case 4:return N0(wu(t),wu(e));case 5:return wg(t.stringValue,e.stringValue);case 6:return(function(a,c){const h=ko(a),f=ko(c);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const v=ut(h[g],f[g]);if(v!==0)return v}return ut(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=ut(en(a.latitude),en(c.latitude));return h!==0?h:ut(en(a.longitude),en(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return D0(t.arrayValue,e.arrayValue);case 10:return(function(a,c){const h=a.fields||{},f=c.fields||{},g=h[Wh]?.arrayValue,v=f[Wh]?.arrayValue,E=ut(g?.values?.length||0,v?.values?.length||0);return E!==0?E:D0(g,v)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===ah.mapValue&&c===ah.mapValue)return 0;if(a===ah.mapValue)return 1;if(c===ah.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),g=c.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const T=wg(f[E],v[E]);if(T!==0)return T;const A=Ml(h[f[E]],g[v[E]]);if(A!==0)return A}return ut(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function N0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=So(t),r=So(e),i=ut(n.seconds,r.seconds);return i!==0?i:ut(n.nanos,r.nanos)}function D0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ml(n[i],r[i]);if(a)return a}return ut(n.length,r.length)}function Vl(t){return vg(t)}function vg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=So(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ko(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=vg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const c of r)a?a=!1:i+=",",i+=`${c}:${vg(n.fields[c])}`;return i+"}"})(t.mapValue):Ve(61005,{value:t})}function bh(t){switch(Ro(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(t);return e?16+bh(e):16;case 5:return 2*t.stringValue.length;case 6:return ko(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+bh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return No(r.fields,((a,c)=>{i+=a.length+bh(c)})),i})(t.mapValue);default:throw Ve(13486,{value:t})}}function O0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _g(t){return!!t&&"integerValue"in t}function my(t){return!!t&&"arrayValue"in t}function j0(t){return!!t&&"nullValue"in t}function L0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ch(t){return!!t&&"mapValue"in t}function dA(t){return(t?.mapValue?.fields||{})[S1]?.stringValue===k1}function au(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return No(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=au(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(t.arrayValue.values[n]);return e}return{...t}}function hA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=Ln.emptyPath(),r={},i=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=h.popLast()}c?r[h.lastSegment()]=au(c):i.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ch(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){No(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new nr(au(this.value))}}function R1(t){const e=[];return No(t.fields,((n,r)=>{const i=new Ln([n]);if(Ch(r)){const a=R1(r.mapValue).fields;if(a.length===0)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)})),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,r,i,a,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Sn(e,0,Ge.min(),Ge.min(),Ge.min(),nr.empty(),0)}static newFoundDocument(e,n,r,i){return new Sn(e,1,n,Ge.min(),r,i,0)}static newNoDocument(e,n){return new Sn(e,2,n,Ge.min(),Ge.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,Ge.min(),Ge.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.position=e,this.inclusive=n}}function M0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],c=t.position[i];if(a.field.isKeyField()?r=je.comparator(je.fromName(c.referenceValue),n.key):r=Ml(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function V0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function fA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{}class dn extends P1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mA(e,n,r):n==="array-contains"?new wA(e,r):n==="in"?new vA(e,r):n==="not-in"?new _A(e,r):n==="array-contains-any"?new EA(e,r):new dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gA(e,r):new yA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ml(n,this.value)):n!==null&&Ro(this.value)===Ro(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gs extends P1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gs(e,n)}matches(e){return A1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A1(t){return t.op==="and"}function N1(t){return pA(t)&&A1(t)}function pA(t){for(const e of t.filters)if(e instanceof gs)return!1;return!0}function Eg(t){if(t instanceof dn)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(N1(t))return t.filters.map((e=>Eg(e))).join(",");{const e=t.filters.map((n=>Eg(n))).join(",");return`${t.op}(${e})`}}function D1(t,e){return t instanceof dn?(function(r,i){return i instanceof dn&&r.op===i.op&&r.field.isEqual(i.field)&&Gs(r.value,i.value)})(t,e):t instanceof gs?(function(r,i){return i instanceof gs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,c,h)=>a&&D1(c,i.filters[h])),!0):!1})(t,e):void Ve(19439)}function O1(t){return t instanceof dn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Vl(n.value)}`})(t):t instanceof gs?(function(n){return n.op.toString()+" {"+n.getFilters().map(O1).join(" ,")+"}"})(t):"Filter"}class mA extends dn{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class gA extends dn{constructor(e,n){super(e,"in",n),this.keys=j1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yA extends dn{constructor(e,n){super(e,"not-in",n),this.keys=j1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function j1(t,e){return(e.arrayValue?.values||[]).map((n=>je.fromName(n.referenceValue)))}class wA extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return my(n)&&_u(n.arrayValue,this.value)}}class vA extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}}class _A extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_u(this.value.arrayValue,n)}}class EA extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!my(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_u(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n=null,r=[],i=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function F0(t,e=null,n=[],r=[],i=null,a=null,c=null){return new bA(t,e,n,r,i,a,c)}function gy(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Eg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Ou(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Vl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Vl(r))).join(",")),e.Te=n}return e.Te}function yy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V0(t.startAt,e.startAt)&&V0(t.endAt,e.endAt)}function bg(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n=null,r=[],i=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CA(t,e,n,r,i,a,c,h){return new ju(t,e,n,r,i,a,c,h)}function Nf(t){return new ju(t)}function $0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function L1(t){return t.collectionGroup!==null}function lu(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new vn(Ln.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Kh(a,r))})),n.has(Ln.keyField().canonicalString())||e.Ie.push(new Kh(Ln.keyField(),r))}return e.Ie}function Hs(t){const e=Ye(t);return e.Ee||(e.Ee=TA(e,lu(t))),e.Ee}function TA(t,e){if(t.limitType==="F")return F0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Kh(i.field,a)}));const n=t.endAt?new Gh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gh(t.startAt.position,t.startAt.inclusive):null;return F0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cg(t,e){const n=t.filters.concat([e]);return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Df(t,e){return yy(Hs(t),Hs(e))&&t.limitType===e.limitType}function M1(t){return`${gy(Hs(t))}|lt:${t.limitType}`}function Tl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>O1(i))).join(", ")}]`),Ou(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Vl(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Vl(i))).join(",")),`Target(${r})`})(Hs(t))}; limitType=${t.limitType})`}function Of(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of lu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,h,f){const g=M0(c,h,f);return c.inclusive?g<=0:g<0})(r.startAt,lu(r),i)||r.endAt&&!(function(c,h,f){const g=M0(c,h,f);return c.inclusive?g>=0:g>0})(r.endAt,lu(r),i))})(t,e)}function IA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V1(t){return(e,n)=>{let r=!1;for(const i of lu(t)){const a=xA(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function xA(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):(function(a,c,h){const f=c.data.field(a),g=h.data.field(a);return f!==null&&g!==null?Ml(f,g):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return E1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new Gt(je.comparator);function ki(){return SA}const F1=new Gt(je.comparator);function nu(...t){let e=F1;for(const n of t)e=e.insert(n.key,n);return e}function $1(t){let e=F1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function da(){return cu()}function U1(){return cu()}function cu(){return new Aa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const kA=new Gt(je.comparator),RA=new vn(je.comparator);function dt(...t){let e=RA;for(const n of t)e=e.add(n);return e}const PA=new vn(ut);function AA(){return PA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function B1(t){return{integerValue:""+t}}function z1(t,e){return iA(e)?B1(e):wy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this._=void 0}}function NA(t,e,n){return t instanceof Eu?(function(i,a){const c={fields:{[T1]:{stringValue:C1},[x1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&py(a)&&(a=Af(a)),a&&(c.fields[I1]=a),{mapValue:c}})(n,e):t instanceof Fl?q1(t,e):t instanceof $l?W1(t,e):(function(i,a){const c=H1(i,a),h=U0(c)+U0(i.Ae);return _g(c)&&_g(i.Ae)?B1(h):wy(i.serializer,h)})(t,e)}function DA(t,e,n){return t instanceof Fl?q1(t,e):t instanceof $l?W1(t,e):n}function H1(t,e){return t instanceof bu?(function(r){return _g(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Eu extends jf{}class Fl extends jf{constructor(e){super(),this.elements=e}}function q1(t,e){const n=G1(e);for(const r of t.elements)n.some((i=>Gs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class $l extends jf{constructor(e){super(),this.elements=e}}function W1(t,e){let n=G1(e);for(const r of t.elements)n=n.filter((i=>!Gs(i,r)));return{arrayValue:{values:n}}}class bu extends jf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function U0(t){return en(t.integerValue||t.doubleValue)}function G1(t){return my(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.field=e,this.transform=n}}function OA(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Fl&&i instanceof Fl||r instanceof $l&&i instanceof $l?Ll(r.elements,i.elements,Gs):r instanceof bu&&i instanceof bu?Gs(r.Ae,i.Ae):r instanceof Eu&&i instanceof Eu})(t.transform,e.transform)}class jA{constructor(e,n){this.version=e,this.transformResults=n}}class hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hn}static exists(e){return new hn(void 0,e)}static updateTime(e){return new hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mf{}function K1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mu(t.key,hn.none()):new Lu(t.key,t.data,hn.none());{const n=t.data,r=nr.empty();let i=new vn(Ln.comparator);for(let a of e.fields)if(!i.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),i=i.add(a)}return new Do(t.key,r,new Ar(i.toArray()),hn.none())}}function LA(t,e,n){t instanceof Lu?(function(i,a,c){const h=i.value.clone(),f=z0(i.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Do?(function(i,a,c){if(!Th(i.precondition,a))return void a.convertToUnknownDocument(c.version);const h=z0(i.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(J1(i)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function uu(t,e,n,r){return t instanceof Lu?(function(a,c,h,f){if(!Th(a.precondition,c))return h;const g=a.value.clone(),v=H0(a.fieldTransforms,f,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,r):t instanceof Do?(function(a,c,h,f){if(!Th(a.precondition,c))return h;const g=H0(a.fieldTransforms,f,c),v=c.data;return v.setAll(J1(a)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(t,e,n,r):(function(a,c,h){return Th(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function MA(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=H1(r.transform,i||null);a!=null&&(n===null&&(n=nr.empty()),n.set(r.field,a))}return n||null}function B0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ll(r,i,((a,c)=>OA(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lu extends Mf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Do extends Mf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function J1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function z0(t,e,n){const r=new Map;mt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],c=a.transform,h=e.data.field(a.field);r.set(a.field,DA(c,h,n[i]))}return r}function H0(t,e,n){const r=new Map;for(const i of t){const a=i.transform,c=n.data.field(i.field);r.set(i.field,NA(a,c,e))}return r}class Mu extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q1 extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&LA(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=U1();return this.mutations.forEach((i=>{const a=e.get(i.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=n.has(i.key)?null:h;const f=K1(c,h);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),dt())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,((n,r)=>B0(n,r)))&&Ll(this.baseMutations,e.baseMutations,((n,r)=>B0(n,r)))}}class vy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return kA})();const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new vy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,pt;function Y1(t){switch(t){case re.OK:return Ve(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function X1(t){if(t===void 0)return Si("GRPC error has no .code"),re.UNKNOWN;switch(t){case ln.OK:return re.OK;case ln.CANCELLED:return re.CANCELLED;case ln.UNKNOWN:return re.UNKNOWN;case ln.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case ln.INTERNAL:return re.INTERNAL;case ln.UNAVAILABLE:return re.UNAVAILABLE;case ln.UNAUTHENTICATED:return re.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case ln.NOT_FOUND:return re.NOT_FOUND;case ln.ALREADY_EXISTS:return re.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return re.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case ln.ABORTED:return re.ABORTED;case ln.OUT_OF_RANGE:return re.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return re.UNIMPLEMENTED;case ln.DATA_LOSS:return re.DATA_LOSS;default:return Ve(39323,{code:t})}}(pt=ln||(ln={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new Eo([4294967295,4294967295],0);function q0(t){const e=UA().encode(t),n=new u1;return n.update(e),new Uint8Array(n.digest())}function W0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Eo([n,r],0),new Eo([i,a],0)]}class _y{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Eo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Eo.fromNumber(r)));return i.compare(BA)===1&&(i=new Eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=q0(e),[r,i]=W0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,i,a);if(!this.we(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new _y(a,i,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=q0(e),[r,i]=W0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,i,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vf(Ge.min(),i,new Gt(ut),ki(),dt())}}class Vu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vu(r,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Z1{constructor(e,n){this.targetId=e,this.Ce=n}}class eC{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class G0{constructor(){this.ve=0,this.Fe=K0(),this.Me=Mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),r=dt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ve(38017,{changeType:a})}})),new Vu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=K0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zA{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.Je=lh(),this.He=lh(),this.Ye=new Gt(ut)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(bg(a))if(r===0){const c=new je(a.path);this.et(n,c,Sn.newNoDocument(c,Ge.min()))}else mt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(n);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let c,h;try{c=ko(r).toUint8Array()}catch(f){if(f instanceof b1)return jl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new _y(c,i,a)}catch(f){return jl(f instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&bg(h.target)){const f=new je(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,Sn.newNoDocument(f,e))}a.Be&&(n.set(c,a.ke()),a.qe())}}));let r=dt();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const i=new Vf(e,n,this.Ye,this.je,r);return this.je=ki(),this.Je=lh(),this.He=lh(),this.Ye=new Gt(ut),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new G0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vn(ut),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vn(ut),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new G0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lh(){return new Gt(je.comparator)}function K0(){return new Gt(je.comparator)}const HA={asc:"ASCENDING",desc:"DESCENDING"},qA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WA={and:"AND",or:"OR"};class GA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ig(t,e){return t.useProto3Json||Ou(e)?e:{value:e}}function Jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KA(t,e){return Jh(t,e.toTimestamp())}function Nr(t){return mt(!!t,49232),Ge.fromTimestamp((function(n){const r=So(n);return new Vt(r.seconds,r.nanos)})(t))}function Ey(t,e){return xg(t,e).canonicalString()}function xg(t,e){const n=(function(i){return new Pt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function nC(t){const e=Pt.fromString(t);return mt(lC(e),10190,{key:e.toString()}),e}function Qh(t,e){return Ey(t.databaseId,e.path)}function du(t,e){const n=nC(e);if(n.get(1)!==t.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(sC(n))}function rC(t,e){return Ey(t.databaseId,e)}function JA(t){const e=nC(t);return e.length===4?Pt.emptyPath():sC(e)}function Sg(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sC(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function J0(t,e,n){return{name:Qh(t,e),fields:n.value.mapValue.fields}}function QA(t,e){return"found"in e?(function(r,i){mt(!!i.found,43571),i.found.name,i.found.updateTime;const a=du(r,i.found.name),c=Nr(i.found.updateTime),h=i.found.createTime?Nr(i.found.createTime):Ge.min(),f=new nr({mapValue:{fields:i.found.fields}});return Sn.newFoundDocument(a,c,h,f)})(t,e):"missing"in e?(function(r,i){mt(!!i.missing,3894),mt(!!i.readTime,22933);const a=du(r,i.missing),c=Nr(i.readTime);return Sn.newNoDocument(a,c)})(t,e):Ve(7234,{result:e})}function YA(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(g,v){return g.useProto3Json?(mt(v===void 0||typeof v=="string",58123),Mn.fromBase64String(v||"")):(mt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Mn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const v=g.code===void 0?re.UNKNOWN:X1(g.code);return new we(v,g.message||"")})(c);n=new eC(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=du(t,r.document.name),a=Nr(r.document.updateTime),c=r.document.createTime?Nr(r.document.createTime):Ge.min(),h=new nr({mapValue:{fields:r.document.fields}}),f=Sn.newFoundDocument(i,a,c,h),g=r.targetIds||[],v=r.removedTargetIds||[];n=new Ih(g,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=du(t,r.document),a=r.readTime?Nr(r.readTime):Ge.min(),c=Sn.newNoDocument(i,a),h=r.removedTargetIds||[];n=new Ih([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=du(t,r.document),a=r.removedTargetIds||[];n=new Ih([],a,i,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,c=new $A(i,a),h=r.targetId;n=new Z1(h,c)}}return n}function iC(t,e){let n;if(e instanceof Lu)n={update:J0(t,e.key,e.value)};else if(e instanceof Mu)n={delete:Qh(t,e.key)};else if(e instanceof Do)n={update:J0(t,e.key,e.data),updateMask:o2(e.fieldMask)};else{if(!(e instanceof Q1))return Ve(16599,{Vt:e.type});n={verify:Qh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const h=c.transform;if(h instanceof Eu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof $l)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof bu)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ve(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:KA(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ve(27497)})(t,e.precondition)),n}function XA(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map((n=>(function(i,a){let c=i.updateTime?Nr(i.updateTime):Nr(a);return c.isEqual(Ge.min())&&(c=Nr(a)),new jA(c,i.transformResults||[])})(n,e)))):[]}function ZA(t,e){return{documents:[rC(t,e.path)]}}function e2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rC(t,i);const a=(function(g){if(g.length!==0)return aC(gs.create(g,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(g){if(g.length!==0)return g.map((v=>(function(T){return{field:Il(T.field),direction:r2(T.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Ig(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:i}}function t2(t){let e=JA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mt(r===1,65062);const v=n.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=(function(E){const T=oC(E);return T instanceof gs&&N1(T)?T.getFilters():[T]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((T=>(function(L){return new Kh(xl(L.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(E){let T;return T=typeof E=="object"?E.value:E,Ou(T)?null:T})(n.limit));let f=null;n.startAt&&(f=(function(E){const T=!!E.before,A=E.values||[];return new Gh(A,T)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const T=!E.before,A=E.values||[];return new Gh(A,T)})(n.endAt)),CA(e,i,c,a,h,"F",f,g)}function n2(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xl(n.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xl(n.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=xl(n.unaryFilter.field);return dn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xl(n.unaryFilter.field);return dn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return dn.create(xl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return gs.create(n.compositeFilter.filters.map((r=>oC(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function r2(t){return HA[t]}function s2(t){return qA[t]}function i2(t){return WA[t]}function Il(t){return{fieldPath:t.canonicalString()}}function xl(t){return Ln.fromServerFormat(t.fieldPath)}function aC(t){return t instanceof dn?(function(n){if(n.op==="=="){if(L0(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NAN"}};if(j0(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L0(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NAN"}};if(j0(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(n.field),op:s2(n.op),value:n.value}}})(t):t instanceof gs?(function(n){const r=n.getFilters().map((i=>aC(i)));return r.length===1?r[0]:{compositeFilter:{op:i2(n.op),filters:r}}})(t):Ve(54877,{filter:t})}function o2(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,r,i,a=Ge.min(),c=Ge.min(),h=Mn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.yt=e}}function l2(t){const e=t2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.Cn=new u2}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(xo.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class u2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vn(Pt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cC=41943040;class gr{static withCacheSize(e){return new gr(e,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(cC,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ul(0)}static cr(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="LruGarbageCollector",d2=1048576;function X0([t,e],[n,r]){const i=ut(t,n);return i===0?ut(e,r):i}class h2{constructor(e){this.Ir=e,this.buffer=new vn(X0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();X0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class f2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ie(Y0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rc(n)?Ie(Y0,"Ignoring IndexedDB error during garbage collection: ",n):await nc(n)}await this.Vr(3e5)}))}}class p2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Pf.ce);const r=new h2(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Q0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,c,h,f,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),i=this.params.maximumSequenceNumbersToCollect):i=E,c=Date.now(),this.nthSequenceNumber(e,i)))).next((E=>(r=E,h=Date.now(),this.removeTargets(e,r,n)))).next((E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(g=Date.now(),Cl()<=ct.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${i} in `+(h-c)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${E} documents in `+(g-f)+`ms
Total Duration: ${g-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:E}))))}}function m2(t,e){return new p2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.changes=new Aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&uu(r.mutation,i,Ar.empty(),Vt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=dt()){const i=da();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let c=nu();return a.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=da();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,dt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,i){let a=ki();const c=cu(),h=(function(){return cu()})();return n.forEach(((f,g)=>{const v=r.get(g.key);i.has(g.key)&&(v===void 0||v.mutation instanceof Do)?a=a.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),uu(v.mutation,g,v.mutation.getFieldMask(),Vt.now())):c.set(g.key,Ar.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>h.set(g,new y2(v,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=cu();let i=new Gt(((c,h)=>c-h)),a=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((f=>{const g=n.get(f);if(g===null)return;let v=r.get(f)||Ar.empty();v=h.applyToLocalView(g,v),r.set(f,v);const E=(i.get(h.batchId)||dt()).add(f);i=i.insert(h.batchId,E)}))})).next((()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,v=f.value,E=U1();v.forEach((T=>{if(!a.has(T)){const A=K1(n.get(T),r.get(T));A!==null&&E.set(T,A),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return oe.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return je.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):oe.resolve(da());let h=yu,f=a;return c.next((g=>oe.forEach(g,((v,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,f,g,dt()))).next((v=>({batchId:h,changes:$1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((r=>{let i=nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let c=nu();return this.indexManager.getCollectionParents(e,a).next((h=>oe.forEach(h,(f=>{const g=(function(E,T){return new ju(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,i).next((v=>{v.forEach(((E,T)=>{c=c.insert(E,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((c=>{a.forEach(((f,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Sn.newInvalidDocument(v)))}));let h=nu();return c.forEach(((f,g)=>{const v=a.get(f);v!==void 0&&uu(v.mutation,g,Ar.empty(),Vt.now()),Of(n,g)&&(h=h.insert(f,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Nr(i.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:l2(i.bundledQuery),readTime:Nr(i.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.overlays=new Gt(je.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=da();return oe.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=da(),a=n.length+1,c=new je(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Gt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let v=a.get(g.largestBatchId);v===null&&(v=da(),a=a.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=da(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,v)=>h.set(g,v))),!(h.size()>=i)););return oe.resolve(h)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new FA(n,r));let a=this.qr.get(n);a===void 0&&(a=dt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.Qr=new vn(In.$r),this.Ur=new vn(In.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new In(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new In(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new je(new Pt([])),r=new In(n,e),i=new In(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new je(new Pt([])),r=new In(n,e),i=new In(n,e+1);let a=dt();return this.Ur.forEachInRange([r,i],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new In(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class In{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return je.comparator(e.key,n.key)||ut(e.Yr,n.Yr)}static Kr(e,n){return ut(e.Yr,n.Yr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vn(In.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new VA(a,n,r,i);this.mutationQueue.push(c);for(const h of i)this.Zr=this.Zr.add(new In(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?fy:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new In(n,0),i=new In(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(c=>{const h=this.Xr(c.Yr);a.push(h)})),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vn(ut);return n.forEach((i=>{const a=new In(i,0),c=new In(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{r=r.add(h.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const c=new In(new je(a),0);let h=new vn(ut);return this.Zr.forEachWhile((f=>{const g=f.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(h=h.add(f.Yr)),!0)}),c),oe.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(i=>{const a=new In(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new In(n,0),i=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.ri=e,this.docs=(function(){return new Gt(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let r=ki();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Sn.newInvalidDocument(i))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ki();const c=n.path,h=new je(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:v}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||tA(eA(v),r)<=0||(i.has(v.key)||Of(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ve(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new T2(this)}getSize(e){return oe.resolve(this.size)}}class T2 extends g2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.persistence=e,this.si=new Aa((n=>gy(n)),yy),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new by,this.targetCount=0,this.ai=Ul.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ul(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),oe.waitFor(a).next((()=>i))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((c=>{a.push(i.markPotentiallyOrphaned(e,c))})),oe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pf(0),this.li=!1,this.li=!0,this.hi=new E2,this.referenceDelegate=e(this),this.Pi=new I2(this),this.indexManager=new c2,this.remoteDocumentCache=(function(i){return new C2(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new a2(n),this.Ii=new v2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new b2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ie("MemoryPersistence","Starting transaction:",e);const i=new x2(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class x2 extends rA{constructor(e){super(),this.currentSequenceNumber=e}}class Cy{constructor(e){this.persistence=e,this.Ri=new by,this.Vi=null}static mi(e){return new Cy(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const i=je.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Ge.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yh{constructor(e,n){this.persistence=e,this.pi=new Aa((r=>oA(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=m2(this,n)}static mi(e,n){return new Yh(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?oe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(c=>this.br(e,c,n).next((h=>{h||(r++,a.removeEntry(c,Ge.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=dt(),i=dt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Ty(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sS()?8:sA(Kn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new S2;return this.Ss(e,n,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Cl()<=ct.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",Tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Cl()<=ct.DEBUG&&Ie("QueryEngine","Query:",Tl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Cl()<=ct.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",Tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hs(n))):oe.resolve())}ys(e,n){if($0(n))return oe.resolve(null);let r=Hs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Tg(n,null,"F"),r=Hs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=dt(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const g=this.Ds(n,h);return this.Cs(n,g,c,f.readTime)?this.ys(e,Tg(n,null,"F")):this.vs(e,g,n,f)}))))})))))}ws(e,n,r,i){return $0(n)||i.isEqual(Ge.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(n,a);return this.Cs(n,c,r,i)?oe.resolve(null):(Cl()<=ct.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tl(n)),this.vs(e,c,n,ZP(i,yu)).next((h=>h)))}))}Ds(e,n){let r=new vn(V1(e));return n.forEach(((i,a)=>{Of(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Cl()<=ct.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",Tl(n)),this.ps.getDocumentsMatchingQuery(e,n,xo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="LocalStore",R2=3e8;class P2{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Gt(ut),this.xs=new Aa((a=>gy(a)),yy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function A2(t,e,n,r){return new P2(t,e,n,r)}async function dC(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],h=[];let f=dt();for(const g of i){c.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}for(const g of a){h.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(r,f).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function N2(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,g,v){const E=g.batch,T=E.keys();let A=oe.resolve();return T.forEach((L=>{A=A.next((()=>v.getEntry(f,L))).next((U=>{const O=g.docVersions.get(L);mt(O!==null,48541),U.version.compareTo(O)<0&&(E.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,E)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=dt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function hC(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function D2(t,e){const n=Ye(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const h=[];e.targetChanges.forEach(((v,E)=>{const T=i.get(E);if(!T)return;h.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(a,v.addedDocuments,E))));let A=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(Mn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),i=i.insert(E,A),(function(U,O,W){return U.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=R2?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(T,A,v)&&h.push(n.Pi.updateTargetData(a,A))}));let f=ki(),g=dt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(O2(a,c,e.documentUpdates).next((v=>{f=v.ks,g=v.qs}))),!r.isEqual(Ge.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next((E=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(v)}return oe.waitFor(h).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,g))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function O2(t,e,n){let r=dt(),i=dt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let c=ki();return n.forEach(((h,f)=>{const g=a.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Ge.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):Ie(Iy,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{ks:c,qs:i}}))}function j2(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=fy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function L2(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,oe.resolve(i)):n.Pi.allocateTargetId(r).next((c=>(i=new mo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function kg(t,e,n){const r=Ye(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!rc(c))throw c;Ie(Iy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Z0(t,e,n){const r=Ye(t);let i=Ge.min(),a=dt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,v){const E=Ye(f),T=E.xs.get(v);return T!==void 0?oe.resolve(E.Ms.get(T)):E.Pi.getTargetData(g,v)})(r,c,Hs(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?i:Ge.min(),n?a:dt()))).next((h=>(M2(r,IA(e),h),{documents:h,Qs:a})))))}function M2(t,e,n){let r=t.Os.get(e)||Ge.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class eE{constructor(){this.activeTargetIds=AA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V2{constructor(){this.Mo=new eE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="ConnectivityMonitor";class nE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ie(tE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ie(tE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function Rg(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="RestConnection",$2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const c=Rg(),h=this.zo(e,n.toUriEncodedString());Ie(Wm,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:g}=new URL(h),v=ka(g);return this.Jo(e,h,f,r,v).then((E=>(Ie(Wm,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw jl(Wm,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",r),E}))}Ho(e,n,r,i,a,c){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=$2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class z2 extends U2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const c=Rg();return new Promise(((h,f)=>{const g=new d1;g.setWithCredentials(!0),g.listenOnce(h1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Eh.NO_ERROR:const E=g.getResponseJson();Ie(Hn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case Eh.TIMEOUT:Ie(Hn,`RPC '${e}' ${c} timed out`),f(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const T=g.getStatus();if(Ie(Hn,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const L=A?.error;if(L&&L.status&&L.message){const U=(function(W){const V=W.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(V)>=0?V:re.UNKNOWN})(L.status);f(new we(U,L.message))}else f(new we(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new we(re.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ie(Hn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(i);Ie(Hn,`RPC '${e}' ${c} sending request:`,i),g.send(n,"POST",v,r,15)}))}T_(e,n,r){const i=Rg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=m1(),h=p1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const v=a.join("");Ie(Hn,`Creating RPC '${e}' stream ${i}: ${v}`,f);const E=c.createWebChannel(v,f);this.I_(E);let T=!1,A=!1;const L=new B2({Yo:O=>{A?Ie(Hn,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(T||(Ie(Hn,`Opening RPC '${e}' stream ${i} transport.`),E.open(),T=!0),Ie(Hn,`RPC '${e}' stream ${i} sending:`,O),E.send(O))},Zo:()=>E.close()}),U=(O,W,V)=>{O.listen(W,(z=>{try{V(z)}catch(J){setTimeout((()=>{throw J}),0)}}))};return U(E,tu.EventType.OPEN,(()=>{A||(Ie(Hn,`RPC '${e}' stream ${i} transport opened.`),L.o_())})),U(E,tu.EventType.CLOSE,(()=>{A||(A=!0,Ie(Hn,`RPC '${e}' stream ${i} transport closed`),L.a_(),this.E_(E))})),U(E,tu.EventType.ERROR,(O=>{A||(A=!0,jl(Hn,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),L.a_(new we(re.UNAVAILABLE,"The operation could not be completed")))})),U(E,tu.EventType.MESSAGE,(O=>{if(!A){const W=O.data[0];mt(!!W,16349);const V=W,z=V?.error||V[0]?.error;if(z){Ie(Hn,`RPC '${e}' stream ${i} received error:`,z);const J=z.status;let se=(function(I){const k=ln[I];if(k!==void 0)return X1(k)})(J),Q=z.message;se===void 0&&(se=re.INTERNAL,Q="Unknown error status: "+J+" with message "+z.message),A=!0,L.a_(new we(se,Q)),E.close()}else Ie(Hn,`RPC '${e}' stream ${i} received:`,W),L.u_(W)}})),U(h,f1.STAT_EVENT,(O=>{O.stat===yg.PROXY?Ie(Hn,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===yg.NOPROXY&&Ie(Hn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){return new GA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="PersistentStream";class fC{constructor(e,n,r,i,a,c,h,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xy(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new we(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ie(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ie(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H2 extends fC{constructor(e,n,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YA(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ge.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ge.min():c.readTime?Nr(c.readTime):Ge.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Sg(this.serializer),n.addTarget=(function(a,c){let h;const f=c.target;if(h=bg(f)?{documents:ZA(a,f)}:{query:e2(a,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=tC(a,c.resumeToken);const g=Ig(a,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ge.min())>0){h.readTime=Jh(a,c.snapshotVersion.toTimestamp());const g=Ig(a,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=n2(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Sg(this.serializer),n.removeTarget=e,this.q_(n)}}class q2 extends fC{constructor(e,n,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=XA(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Sg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>iC(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{}class G2 extends W2{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,xg(n,r),i,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(re.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,xg(n,r),i,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class K2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(n),this.aa=!1):Ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class J2{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Na(this)&&(Ie(ba,"Restarting streams for network reachability change."),await(async function(f){const g=Ye(f);g.Ea.add(4),await Fu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await $f(g)})(this))}))})),this.Ra=new K2(r,i)}}async function $f(t){if(Na(t))for(const e of t.da)await e(!0)}async function Fu(t){for(const e of t.da)await e(!1)}function pC(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Py(n)?Ry(n):sc(n).O_()&&ky(n,e))}function Sy(t,e){const n=Ye(t),r=sc(n);n.Ia.delete(e),r.O_()&&mC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Na(n)&&n.Ra.set("Unknown"))}function ky(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sc(t).Y_(e)}function mC(t,e){t.Va.Ue(e),sc(t).Z_(e)}function Ry(t){t.Va=new zA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),sc(t).start(),t.Ra.ua()}function Py(t){return Na(t)&&!sc(t).x_()&&t.Ia.size>0}function Na(t){return Ye(t).Ea.size===0}function gC(t){t.Va=void 0}async function Q2(t){t.Ra.set("Online")}async function Y2(t){t.Ia.forEach(((e,n)=>{ky(t,e)}))}async function X2(t,e){gC(t),Py(t)?(t.Ra.ha(e),Ry(t)):t.Ra.set("Unknown")}async function Z2(t,e,n){if(t.Ra.set("Online"),e instanceof eC&&e.state===2&&e.cause)try{await(async function(i,a){const c=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,c),i.Ia.delete(h),i.Va.removeTarget(h))})(t,e)}catch(r){Ie(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xh(t,r)}else if(e instanceof Ih?t.Va.Ze(e):e instanceof Z1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ge.min()))try{const r=await hC(t.localStore);n.compareTo(r)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(g);v&&a.Ia.set(g,v.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,g)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(Mn.EMPTY_BYTE_STRING,v.snapshotVersion)),mC(a,f);const E=new mo(v.target,f,g,v.sequenceNumber);ky(a,E)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){Ie(ba,"Failed to raise snapshot:",r),await Xh(t,r)}}async function Xh(t,e,n){if(!rc(e))throw e;t.Ea.add(1),await Fu(t),t.Ra.set("Offline"),n||(n=()=>hC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ie(ba,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $f(t)}))}function yC(t,e){return e().catch((n=>Xh(t,n,e)))}async function Uf(t){const e=Ye(t),n=Po(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fy;for(;eN(e);)try{const i=await j2(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,tN(e,i)}catch(i){await Xh(e,i)}wC(e)&&vC(e)}function eN(t){return Na(t)&&t.Ta.length<10}function tN(t,e){t.Ta.push(e);const n=Po(t);n.O_()&&n.X_&&n.ea(e.mutations)}function wC(t){return Na(t)&&!Po(t).x_()&&t.Ta.length>0}function vC(t){Po(t).start()}async function nN(t){Po(t).ra()}async function rN(t){const e=Po(t);for(const n of t.Ta)e.ea(n.mutations)}async function sN(t,e,n){const r=t.Ta.shift(),i=vy.from(r,e,n);await yC(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Uf(t)}async function iN(t,e){e&&Po(t).X_&&await(async function(r,i){if((function(c){return Y1(c)&&c!==re.ABORTED})(i.code)){const a=r.Ta.shift();Po(r).B_(),await yC(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Uf(r)}})(t,e),wC(t)&&vC(t)}async function sE(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Ie(ba,"RemoteStore received new credentials");const r=Na(n);n.Ea.add(3),await Fu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $f(n)}async function oN(t,e){const n=Ye(t);e?(n.Ea.delete(2),await $f(n)):e||(n.Ea.add(2),await Fu(n),n.Ra.set("Unknown"))}function sc(t){return t.ma||(t.ma=(function(n,r,i){const a=Ye(n);return a.sa(),new H2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Q2.bind(null,t),t_:Y2.bind(null,t),r_:X2.bind(null,t),H_:Z2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Py(t)?Ry(t):t.Ra.set("Unknown")):(await t.ma.stop(),gC(t))}))),t.ma}function Po(t){return t.fa||(t.fa=(function(n,r,i){const a=Ye(n);return a.sa(),new q2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:nN.bind(null,t),r_:iN.bind(null,t),ta:rN.bind(null,t),na:sN.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Uf(t)):(await t.fa.stop(),t.Ta.length>0&&(Ie(ba,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const c=Date.now()+r,h=new Ay(e,n,c,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ny(t,e){if(Si("AsyncQueue",`${e}: ${t}`),rc(t))return new we(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=nu(),this.sortedSet=new Gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.ga=new Gt(je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Bl{constructor(e,n,r,i,a,c,h,f,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,i,a){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Bl(e,n,Nl.emptySet(n),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lN{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ye(n),a=i.queries;i.queries=oE(),a.forEach(((c,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new we(re.ABORTED,"Firestore shutting down"))}}function oE(){return new Aa((t=>M1(t)),Df)}async function Dy(t,e){const n=Ye(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new aN,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const h=Ny(c,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&jy(n)}async function Oy(t,e){const n=Ye(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cN(t,e){const n=Ye(t);let r=!1;for(const i of e){const a=i.query,c=n.queries.get(a);if(c){for(const h of c.Sa)h.Fa(i)&&(r=!0);c.wa=i}}r&&jy(n)}function uN(t,e,n){const r=Ye(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function jy(t){t.Ca.forEach((e=>{e.next()}))}var Pg,aE;(aE=Pg||(Pg={})).Ma="default",aE.Cache="cache";class Ly{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.key=e}}class EC{constructor(e){this.key=e}}class dN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dt(),this.mutatedKeys=dt(),this.eu=V1(e),this.tu=new Nl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new iE,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((v,E)=>{const T=i.get(v),A=Of(this.query,E)?E:null,L=!!T&&this.mutatedKeys.has(T.key),U=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;T&&A?T.data.isEqual(A.data)?L!==U&&(r.track({type:3,doc:A}),O=!0):this.su(T,A)||(r.track({type:2,doc:A}),O=!0,(f&&this.eu(A,f)>0||g&&this.eu(A,g)<0)&&(h=!0)):!T&&A?(r.track({type:0,doc:A}),O=!0):T&&!A&&(r.track({type:1,doc:T}),O=!0,(f||g)&&(h=!0)),O&&(A?(c=c.add(A),a=U?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,E)=>(function(A,L){const U=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:O})}};return U(A)-U(L)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),i=i??!1;const h=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,g=f!==this.Za;return this.Za=f,c.length!==0||g?{snapshot:new Bl(this.query,e.tu,a,c,e.mutatedKeys,f===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new EC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new _C(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const My="SyncEngine";class hN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fN{constructor(e){this.key=e,this.hu=!1}}class pN{constructor(e,n,r,i,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Aa((h=>M1(h)),Df),this.Iu=new Map,this.Eu=new Set,this.du=new Gt(je.comparator),this.Au=new Map,this.Ru=new by,this.Vu={},this.mu=new Map,this.fu=Ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mN(t,e,n=!0){const r=SC(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await bC(r,e,n,!0),i}async function gN(t,e){const n=SC(t);await bC(n,e,!0,!1)}async function bC(t,e,n,r){const i=await L2(t.localStore,Hs(e)),a=i.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await yN(t,e,a,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&pC(t.remoteStore,i),h}async function yN(t,e,n,r,i){t.pu=(E,T,A)=>(async function(U,O,W,V){let z=O.view.ru(W);z.Cs&&(z=await Z0(U.localStore,O.query,!1).then((({documents:x})=>O.view.ru(x,z))));const J=V&&V.targetChanges.get(O.targetId),se=V&&V.targetMismatches.get(O.targetId)!=null,Q=O.view.applyChanges(z,U.isPrimaryClient,J,se);return cE(U,O.targetId,Q.au),Q.snapshot})(t,E,T,A);const a=await Z0(t.localStore,e,!0),c=new dN(e,a.Qs),h=c.ru(a.documents),f=Vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),g=c.applyChanges(h,t.isPrimaryClient,f);cE(t,n,g.au);const v=new hN(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function wN(t,e,n){const r=Ye(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((c=>!Df(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sy(r.remoteStore,i.targetId),Ag(r,i.targetId)})).catch(nc)):(Ag(r,i.targetId),await kg(r.localStore,i.targetId,!0))}async function vN(t,e){const n=Ye(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sy(n.remoteStore,r.targetId))}async function _N(t,e,n){const r=SN(t);try{const i=await(function(c,h){const f=Ye(c),g=Vt.now(),v=h.reduce(((A,L)=>A.add(L.key)),dt());let E,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let L=ki(),U=dt();return f.Ns.getEntries(A,v).next((O=>{L=O,L.forEach(((W,V)=>{V.isValidDocument()||(U=U.add(W))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,L))).next((O=>{E=O;const W=[];for(const V of h){const z=MA(V,E.get(V.key).overlayedDocument);z!=null&&W.push(new Do(V.key,z,R1(z.value.mapValue),hn.exists(!0)))}return f.mutationQueue.addMutationBatch(A,g,W,h)})).next((O=>{T=O;const W=O.applyToLocalDocumentSet(E,U);return f.documentOverlayCache.saveOverlays(A,O.batchId,W)}))})).then((()=>({batchId:T.batchId,changes:$1(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,h,f){let g=c.Vu[c.currentUser.toKey()];g||(g=new Gt(ut)),g=g.insert(h,f),c.Vu[c.currentUser.toKey()]=g})(r,i.batchId,n),await $u(r,i.changes),await Uf(r.remoteStore)}catch(i){const a=Ny(i,"Failed to persist write");n.reject(a)}}async function CC(t,e){const n=Ye(t);try{const r=await D2(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const c=n.Au.get(a);c&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?mt(c.hu,14607):i.removedDocuments.size>0&&(mt(c.hu,42227),c.hu=!1))})),await $u(n,r,e)}catch(r){await nc(r)}}function lE(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(c,h){const f=Ye(c);f.onlineState=h;let g=!1;f.queries.forEach(((v,E)=>{for(const T of E.Sa)T.va(h)&&(g=!0)})),g&&jy(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EN(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let c=new Gt(je.comparator);c=c.insert(a,Sn.newNoDocument(a,Ge.min()));const h=dt().add(a),f=new Vf(Ge.min(),new Map,new Gt(ut),c,h);await CC(r,f),r.du=r.du.remove(a),r.Au.delete(e),Vy(r)}else await kg(r.localStore,e,!1).then((()=>Ag(r,e,n))).catch(nc)}async function bN(t,e){const n=Ye(t),r=e.batch.batchId;try{const i=await N2(n.localStore,e);IC(n,r,null),TC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $u(n,i)}catch(i){await nc(i)}}async function CN(t,e,n){const r=Ye(t);try{const i=await(function(c,h){const f=Ye(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return f.mutationQueue.lookupMutationBatch(g,h).next((E=>(mt(E!==null,37113),v=E.keys(),f.mutationQueue.removeMutationBatch(g,E)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>f.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);IC(r,e,n),TC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $u(r,i)}catch(i){await nc(i)}}function TC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function IC(t,e,n){const r=Ye(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||xC(t,r)}))}function xC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Sy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Vy(t))}function cE(t,e,n){for(const r of n)r instanceof _C?(t.Ru.addReference(r.key,e),TN(t,r)):r instanceof EC?(Ie(My,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||xC(t,r.key)):Ve(19791,{wu:r})}function TN(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ie(My,"New document in limbo: "+n),t.Eu.add(r),Vy(t))}function Vy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new je(Pt.fromString(e)),r=t.fu.next();t.Au.set(r,new fN(n)),t.du=t.du.insert(n,r),pC(t.remoteStore,new mo(Hs(Nf(n.path)),r,"TargetPurposeLimboResolution",Pf.ce))}}async function $u(t,e,n){const r=Ye(t),i=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(g){i.push(g);const v=Ty.As(f.targetId,g);a.push(v)}})))})),await Promise.all(c),r.Pu.H_(i),await(async function(f,g){const v=Ye(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>oe.forEach(g,(T=>oe.forEach(T.Es,(A=>v.persistence.referenceDelegate.addReference(E,T.targetId,A))).next((()=>oe.forEach(T.ds,(A=>v.persistence.referenceDelegate.removeReference(E,T.targetId,A)))))))))}catch(E){if(!rc(E))throw E;Ie(Iy,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const A=v.Ms.get(T),L=A.snapshotVersion,U=A.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(T,U)}}})(r.localStore,a))}async function IN(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Ie(My,"User change. New user:",e.toKey());const r=await dC(n.localStore,e);n.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new we(re.CANCELLED,c))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $u(n,r.Ls)}}function xN(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return dt().add(r.key);{let i=dt();const a=n.Iu.get(e);if(!a)return i;for(const c of a){const h=n.Tu.get(c);i=i.unionWith(h.view.nu)}return i}}function SC(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EN.bind(null,e),e.Pu.H_=cN.bind(null,e.eventManager),e.Pu.yu=uN.bind(null,e.eventManager),e}function SN(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CN.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return A2(this.persistence,new k2,e.initialUser,this.serializer)}Cu(e){return new uC(Cy.mi,this.serializer)}Du(e){return new V2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class kN extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){mt(this.persistence.referenceDelegate instanceof Yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new f2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new uC((r=>Yh.mi(r,n)),this.serializer)}}class Ng{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IN.bind(null,this.syncEngine),await oN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lN})()}createDatastore(e){const n=Ff(e.databaseInfo.databaseId),r=(function(a){return new z2(a)})(e.databaseInfo);return(function(a,c,h,f){return new G2(a,c,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,c,h){return new J2(r,i,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>lE(this.syncEngine,n,0)),(function(){return nE.v()?new nE:new F2})())}createSyncEngine(e,n){return(function(i,a,c,h,f,g,v){const E=new pN(i,a,c,h,f,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ye(n);Ie(ba,"RemoteStore shutting down."),r.Ea.add(5),await Fu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ng.provider={build:()=>new Ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new we(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,a){const c=Ye(i),h={documents:a.map((E=>Qh(c.serializer,E)))},f=await c.Ho("BatchGetDocuments",c.serializer.databaseId,Pt.emptyPath(),h,a.length),g=new Map;f.forEach((E=>{const T=QA(c.serializer,E);g.set(T.key.toString(),T)}));const v=[];return a.forEach((E=>{const T=g.get(E.toString());mt(!!T,55234,{key:E}),v.push(T)})),v})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=je.fromPath(r);this.mutations.push(new Q1(i,this.precondition(i)))})),await(async function(r,i){const a=Ye(r),c={writes:i.map((h=>iC(a.serializer,h)))};await a.Go("Commit",a.serializer.databaseId,Pt.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ve(50498,{Gu:e.constructor.name});n=Ge.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new we(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ge.min())?hn.exists(!1):hn.updateTime(n):hn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ge.min()))throw new we(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hn.updateTime(n)}return hn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new xy(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new RN(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Ou(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Y1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="FirestoreClient";class AN{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=hy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{Ie(Ao,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ie(Ao,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ny(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Km(t,e){t.asyncQueue.verifyOperationInProgress(),Ie(Ao,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await dC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function uE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NN(t);Ie(Ao,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>sE(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>sE(e.remoteStore,i))),t._onlineComponents=e}async function NN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie(Ao,"Using user provided OfflineComponentProvider");try{await Km(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;jl("Error using user provided cache. Falling back to memory cache: "+n),await Km(t,new Zh)}}else Ie(Ao,"Using default OfflineComponentProvider"),await Km(t,new kN(void 0));return t._offlineComponents}async function $y(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie(Ao,"Using user provided OnlineComponentProvider"),await uE(t,t._uninitializedComponentsProvider._online)):(Ie(Ao,"Using default OnlineComponentProvider"),await uE(t,new Ng))),t._onlineComponents}function DN(t){return $y(t).then((e=>e.syncEngine))}function ON(t){return $y(t).then((e=>e.datastore))}async function ef(t){const e=await $y(t),n=e.eventManager;return n.onListen=mN.bind(null,e.syncEngine),n.onUnlisten=wN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vN.bind(null,e.syncEngine),n}function jN(t,e,n={}){const r=new zs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,g){const v=new Fy({next:T=>{v.Nu(),c.enqueueAndForget((()=>Oy(a,E)));const A=T.docs.has(h);!A&&T.fromCache?g.reject(new we(re.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&f&&f.source==="server"?g.reject(new we(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new Ly(Nf(h.path),v,{includeMetadataChanges:!0,qa:!0});return Dy(a,E)})(await ef(t),t.asyncQueue,e,n,r))),r.promise}function LN(t,e,n={}){const r=new zs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,g){const v=new Fy({next:T=>{v.Nu(),c.enqueueAndForget((()=>Oy(a,E))),T.fromCache&&f.source==="server"?g.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new Ly(h,v,{includeMetadataChanges:!0,qa:!0});return Dy(a,E)})(await ef(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firestore.googleapis.com",hE=!0;class fE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RC,this.ssl=hE}else this.host=e.host,this.ssl=e.ssl??hE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d2)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new BP;switch(r.type){case"firstParty":return new WP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=dE.get(n);r&&(Ie("ComponentProvider","Removing Datastore"),dE.delete(n),r.terminate())})(this),Promise.resolve()}}function MN(t,e,n,r={}){t=Gn(t,Bf);const i=ka(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(Qg(`https://${h}`),Yg("Firestore",!0)),a.host!==RC&&a.host!==h&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:i,emulatorOptions:r};if(!Ti(f,c)&&(t._setSettings(f),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=qn.MOCK_USER;else{g=bb(r.mockUserToken,t._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new qn(E)}t._authCredentials=new zP(new y1(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Du(n,Wt._jsonSchema))return new Wt(e,r||null,new je(Pt.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:fn("string",Wt._jsonSchemaVersion),referencePath:fn("string")};class bo extends Da{constructor(e,n,r){super(e,n,Nf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new je(e))}withConverter(e){return new bo(this.firestore,e,this._path)}}function tn(t,e,...n){if(t=At(t),w1("collection","path",e),t instanceof Bf){const r=Pt.fromString(e,...n);return x0(r),new bo(t,null,r)}{if(!(t instanceof Wt||t instanceof bo))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return x0(r),new bo(t.firestore,null,r)}}function Pe(t,e,...n){if(t=At(t),arguments.length===1&&(e=hy.newId()),w1("doc","path",e),t instanceof Bf){const r=Pt.fromString(e,...n);return I0(r),new Wt(t,null,new je(r))}{if(!(t instanceof Wt||t instanceof bo))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return I0(r),new Wt(t.firestore,t instanceof bo?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="AsyncQueue";class mE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xy(this,"async_queue_retry"),this._c=()=>{const r=Gm();r&&Ie(pE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!rc(e))throw e;Ie(pE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",gE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ay.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ve(47125,{Pc:gE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class ys extends Bf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mE,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mE(e),this._firestoreClient=void 0,await e}}}function wr(t,e){const n=typeof t=="object"?t:ey(),r=typeof t=="string"?t:qh,i=Tf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=vb("firestore");a&&MN(i,...a)}return i}function ic(t){if(t._terminated)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VN(t),t._firestoreClient}function VN(t){const e=t._freezeSettings(),n=(function(i,a,c,h){return new cA(i,a,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new AN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pr(Mn.fromBase64String(e))}catch(n){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pr(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Du(e,Pr._jsonSchema))return Pr.fromBase64String(e.bytes)}}Pr._jsonSchemaVersion="firestore/bytes/1.0",Pr._jsonSchema={type:fn("string",Pr._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qs._jsonSchemaVersion}}static fromJSON(e){if(Du(e,qs._jsonSchema))return new qs(e.latitude,e.longitude)}}qs._jsonSchemaVersion="firestore/geoPoint/1.0",qs._jsonSchema={type:fn("string",qs._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ws._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Du(e,Ws._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ws(e.vectorValues);throw new we(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ws._jsonSchemaVersion="firestore/vectorValue/1.0",Ws._jsonSchema={type:fn("string",Ws._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=/^__.*__$/;class $N{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Do(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(e,this.data,n,this.fieldTransforms)}}class PC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Do(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class zf{constructor(e,n,r,i,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AC(this.Ac)&&FN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ff(e)}Cc(e,n,r,i=!1){return new zf({Ac:e,methodName:n,Dc:r,path:Ln.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ac(t){const e=t._freezeSettings(),n=Ff(t._databaseId);return new UN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Hf(t,e,n,r,i,a={}){const c=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);Gy("Data must be an object, but it was:",c,r);const h=DC(r,c);let f,g;if(a.merge)f=new Ar(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const T=Dg(e,E,n);if(!c.contains(T))throw new we(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);jC(v,T)||v.push(T)}f=new Ar(v),g=c.fieldTransforms.filter((E=>f.covers(E.field)))}else f=null,g=c.fieldTransforms;return new $N(new nr(h),f,g)}class qf extends Oa{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}function NC(t,e,n){return new zf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Uy extends Oa{_toFieldTransform(e){return new Lf(e.path,new Eu)}isEqual(e){return e instanceof Uy}}class By extends Oa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=NC(this,e,!0),r=this.vc.map((a=>ja(a,n))),i=new Fl(r);return new Lf(e.path,i)}isEqual(e){return e instanceof By&&Ti(this.vc,e.vc)}}class zy extends Oa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=NC(this,e,!0),r=this.vc.map((a=>ja(a,n))),i=new $l(r);return new Lf(e.path,i)}isEqual(e){return e instanceof zy&&Ti(this.vc,e.vc)}}class Hy extends Oa{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new bu(e.serializer,z1(e.serializer,this.Fc));return new Lf(e.path,n)}isEqual(e){return e instanceof Hy&&this.Fc===e.Fc}}function qy(t,e,n,r){const i=t.Cc(1,e,n);Gy("Data must be an object, but it was:",i,r);const a=[],c=nr.empty();No(r,((f,g)=>{const v=Ky(e,f,n);g=At(g);const E=i.yc(v);if(g instanceof qf)a.push(v);else{const T=ja(g,E);T!=null&&(a.push(v),c.set(v,T))}}));const h=new Ar(a);return new PC(c,h,i.fieldTransforms)}function Wy(t,e,n,r,i,a){const c=t.Cc(1,e,n),h=[Dg(e,r,n)],f=[i];if(a.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(Dg(e,a[T])),f.push(a[T+1]);const g=[],v=nr.empty();for(let T=h.length-1;T>=0;--T)if(!jC(g,h[T])){const A=h[T];let L=f[T];L=At(L);const U=c.yc(A);if(L instanceof qf)g.push(A);else{const O=ja(L,U);O!=null&&(g.push(A),v.set(A,O))}}const E=new Ar(g);return new PC(v,E,c.fieldTransforms)}function BN(t,e,n,r=!1){return ja(n,t.Cc(r?4:3,e))}function ja(t,e){if(OC(t=At(t)))return Gy("Unsupported field value:",e,t),DC(t,e);if(t instanceof Oa)return(function(r,i){if(!AC(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let c=0;for(const h of r){let f=ja(h,i.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Vt.fromDate(r);return{timestampValue:Jh(i.serializer,a)}}if(r instanceof Vt){const a=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(i.serializer,a)}}if(r instanceof qs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pr)return{bytesValue:tC(i.serializer,r._byteString)};if(r instanceof Wt){const a=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw i.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ey(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ws)return(function(c,h){return{mapValue:{fields:{[S1]:{stringValue:k1},[Wh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return wy(h.serializer,g)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Rf(r)}`)})(t,e)}function DC(t,e){const n={};return E1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,((r,i)=>{const a=ja(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function OC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof qs||t instanceof Pr||t instanceof Wt||t instanceof Oa||t instanceof Ws)}function Gy(t,e,n){if(!OC(n)||!v1(n)){const r=Rf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Dg(t,e,n){if((e=At(e))instanceof oc)return e._internalPath;if(typeof e=="string")return Ky(t,e);throw tf("Field path arguments must be of type string or ",t,!1,void 0,n)}const zN=new RegExp("[~\\*/\\[\\]]");function Ky(t,e,n){if(e.search(zN)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oc(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tf(t,e,n,r,i){const a=r&&!r.isEmpty(),c=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new we(re.INVALID_ARGUMENT,h+t+f)}function jC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HN extends nf{data(){return super.data()}}function Jy(t,e){return typeof e=="string"?Ky(t,e):e instanceof oc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qy{}class qN extends Qy{}function $s(t,e,...n){let r=[];e instanceof Qy&&r.push(e),r=r.concat(n),(function(a){const c=a.filter((f=>f instanceof Yy)).length,h=a.filter((f=>f instanceof Wf)).length;if(c>1||c>0&&h>0)throw new we(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Wf extends qN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wf(e,n,r)}_apply(e){const n=this._parse(e);return MC(e._query,n),new Da(e.firestore,e.converter,Cg(e._query,n))}_parse(e){const n=ac(e.firestore);return(function(a,c,h,f,g,v,E){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new we(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){vE(E,v);const L=[];for(const U of E)L.push(wE(f,a,U));T={arrayValue:{values:L}}}else T=wE(f,a,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||vE(E,v),T=BN(h,c,E,v==="in"||v==="not-in");return dn.create(g,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ei(t,e,n){const r=e,i=Jy("where",t);return Wf._create(i,r,n)}class Yy extends Qy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:gs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let c=i;const h=a.getFlattenedFilters();for(const f of h)MC(c,f),c=Cg(c,f)})(e._query,n),new Da(e.firestore,e.converter,Cg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function wE(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new we(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L1(e)&&n.indexOf("/")!==-1)throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!je.isDocumentKey(r))throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return O0(t,new je(r))}if(n instanceof Wt)return O0(t,n._key);throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rf(n)}.`)}function vE(t,e){if(!Array.isArray(t)||t.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MC(t,e){const n=(function(i,a){for(const c of i)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VC{convertValue(e,n="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return No(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Wh].arrayValue?.values?.map((r=>en(r.doubleValue)));return new Ws(n)}convertGeoPoint(e){return new qs(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=So(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);mt(lC(r),9688,{name:e});const i=new vu(r.get(1),r.get(3)),a=new je(r.popFirst(5));return i.isEqual(n)||Si(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class WN extends VC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}class Sl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Co extends nf{constructor(e,n,r,i,a,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Co._jsonSchemaVersion="firestore/documentSnapshot/1.0",Co._jsonSchema={type:fn("string",Co._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class xh extends Co{data(e={}){return super.data(e)}}class fa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new xh(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((h=>{const f=new xh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Sl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new xh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Sl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:GN(h.type),doc:f,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){t=Gn(t,Wt);const e=Gn(t.firestore,ys);return jN(ic(e),t._key).then((n=>FC(e,t,n)))}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:fn("string",fa._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class Kf extends VC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function Qr(t){t=Gn(t,Da);const e=Gn(t.firestore,ys),n=ic(e),r=new Kf(e);return LC(t._query),LN(n,t._query).then((i=>new fa(e,r,t,i)))}function zl(t,e,n){t=Gn(t,Wt);const r=Gn(t.firestore,ys),i=Gf(t.converter,e,n);return Uu(r,[Hf(ac(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hn.none())])}function xt(t,e,n,...r){t=Gn(t,Wt);const i=Gn(t.firestore,ys),a=ac(i);let c;return c=typeof(e=At(e))=="string"||e instanceof oc?Wy(a,"updateDoc",t._key,e,n,r):qy(a,"updateDoc",t._key,e),Uu(i,[c.toMutation(t._key,hn.exists(!0))])}function Xy(t){return Uu(Gn(t.firestore,ys),[new Mu(t._key,hn.none())])}function rf(t,e){const n=Gn(t.firestore,ys),r=Pe(t),i=Gf(t.converter,e);return Uu(n,[Hf(ac(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hn.exists(!1))]).then((()=>r))}function Kc(t,...e){t=At(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||yE(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yE(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,c,h;if(t instanceof Wt)c=Gn(t.firestore,ys),h=Nf(t._key.path),a={next:f=>{e[r]&&e[r](FC(c,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Gn(t,Da);c=Gn(f.firestore,ys),h=f._query;const g=new Kf(c);a={next:v=>{e[r]&&e[r](new fa(c,g,f,v))},error:e[r+1],complete:e[r+2]},LC(t._query)}return(function(g,v,E,T){const A=new Fy(T),L=new Ly(v,A,E);return g.asyncQueue.enqueueAndForget((async()=>Dy(await ef(g),L))),()=>{A.Nu(),g.asyncQueue.enqueueAndForget((async()=>Oy(await ef(g),L)))}})(ic(c),h,i,a)}function Uu(t,e){return(function(r,i){const a=new zs;return r.asyncQueue.enqueueAndForget((async()=>_N(await DN(r),i,a))),a.promise})(ic(t),e)}function FC(t,e,n){const r=n.docs.get(e._key),i=new Kf(t);return new Co(t,i,e._key,r,new Sl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ac(e)}set(e,n,r){this._verifyNotCommitted();const i=go(e,this._firestore),a=Gf(i.converter,n,r),c=Hf(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,hn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=go(e,this._firestore);let c;return c=typeof(n=At(n))=="string"||n instanceof oc?Wy(this._dataReader,"WriteBatch.update",a._key,n,r,i):qy(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(c.toMutation(a._key,hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=go(e,this._firestore);return this._mutations=this._mutations.concat(new Mu(n._key,hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function go(t,e){if((t=At(t)).firestore!==e)throw new we(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=ac(e)}get(e){const n=go(e,this._firestore),r=new WN(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Ve(24041);const a=i[0];if(a.isFoundDocument())return new nf(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new nf(this._firestore,r,n._key,null,n.converter);throw Ve(18433,{doc:a})}))}set(e,n,r){const i=go(e,this._firestore),a=Gf(i.converter,n,r),c=Hf(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,c),this}update(e,n,r,...i){const a=go(e,this._firestore);let c;return c=typeof(n=At(n))=="string"||n instanceof oc?Wy(this._dataReader,"Transaction.update",a._key,n,r,i):qy(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,c),this}delete(e){const n=go(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN extends QN{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=go(e,this._firestore),r=new Kf(this._firestore);return super.get(e).then((i=>new Co(this._firestore,r,n._key,i._document,new Sl(!1,!1),n.converter)))}}function Zy(t,e,n){t=Gn(t,ys);const r={...KN,...n};return(function(a){if(a.maxAttempts<1)throw new we(re.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,c,h){const f=new zs;return a.asyncQueue.enqueueAndForget((async()=>{const g=await ON(a);new PN(a.asyncQueue,g,h,c,f).ju()})),f.promise})(ic(t),(i=>e(new YN(t,i))),r)}function Jf(){return new Uy("serverTimestamp")}function Qf(...t){return new By("arrayUnion",t)}function Ca(...t){return new zy("arrayRemove",t)}function Hl(t){return new Hy("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){return ic(t=Gn(t,ys)),new JN(t,(e=>Uu(t,e)))}(function(e,n=!0){(function(i){tc=i})(Ra),ya(new Io("firestore",((r,{instanceIdentifier:i,options:a})=>{const c=r.getProvider("app").getImmediate(),h=new ys(new HP(r.getProvider("auth-internal")),new GP(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(g.options.projectId,v)})(c,i),c);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Us(E0,b0,e),Us(E0,b0,"esm2020")})();var ZN="firebase",eD="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us(ZN,eD,"app");const tD={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},Vn=Ib(tD),nD=wr(Vn);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _E="popstate";function rD(t={}){function e(i,a){let{pathname:c="/",search:h="",hash:f=""}=La(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Og("",{pathname:c,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let c=i.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=i.location.href,g=f.indexOf("#");h=g===-1?f:f.slice(0,g)}return h+"#"+(typeof a=="string"?a:Cu(a))}function r(i,a){Yr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return iD(e,n,r,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sD(){return Math.random().toString(36).substring(2,10)}function EE(t,e){return{usr:t.state,key:t.key,idx:e}}function Og(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:n,key:e&&e.key||r||sD()}}function Cu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function La(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function iD(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,h="POP",f=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function E(){h="POP";let O=v(),W=O==null?null:O-g;g=O,f&&f({action:h,location:U.location,delta:W})}function T(O,W){h="PUSH";let V=Og(U.location,O,W);n&&n(V,O),g=v()+1;let z=EE(V,g),J=U.createHref(V);try{c.pushState(z,"",J)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;i.location.assign(J)}a&&f&&f({action:h,location:U.location,delta:1})}function A(O,W){h="REPLACE";let V=Og(U.location,O,W);n&&n(V,O),g=v();let z=EE(V,g),J=U.createHref(V);c.replaceState(z,"",J),a&&f&&f({action:h,location:U.location,delta:0})}function L(O){return oD(O)}let U={get action(){return h},get location(){return t(i,c)},listen(O){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(_E,E),f=O,()=>{i.removeEventListener(_E,E),f=null}},createHref(O){return e(i,O)},createURL:L,encodeLocation(O){let W=L(O);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:A,go(O){return c.go(O)}};return U}function oD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Cu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $C(t,e,n="/"){return aD(t,e,n,!1)}function aD(t,e,n,r){let i=typeof e=="string"?La(e):e,a=Ri(i.pathname||"/",n);if(a==null)return null;let c=UC(t);lD(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=vD(a);h=yD(c[f],g,r)}return h}function UC(t,e=[],n=[],r="",i=!1){let a=(c,h,f=i,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;zt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let E=bi([r,v.relativePath]),T=n.concat(v);c.children&&c.children.length>0&&(zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),UC(c.children,e,T,E,f)),!(c.path==null&&!c.index)&&e.push({path:E,score:mD(E,c.index),routesMeta:T})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))a(c,h);else for(let f of BC(c.path))a(c,h,!0,f)}),e}function BC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=BC(r.join("/")),h=[];return h.push(...c.map(f=>f===""?a:[a,f].join("/"))),i&&h.push(...c),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function lD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cD=/^:[\w-]+$/,uD=3,dD=2,hD=1,fD=10,pD=-2,bE=t=>t==="*";function mD(t,e){let n=t.split("/"),r=n.length;return n.some(bE)&&(r+=pD),e&&(r+=dD),n.filter(i=>!bE(i)).reduce((i,a)=>i+(cD.test(a)?uD:a===""?hD:fD),r)}function gD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yD(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",c=[];for(let h=0;h<r.length;++h){let f=r[h],g=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",E=sf({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},v),T=f.route;if(!E&&g&&n&&!r[r.length-1].route.index&&(E=sf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!E)return null;Object.assign(i,E.params),c.push({params:i,pathname:bi([a,E.pathname]),pathnameBase:CD(bi([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=bi([a,E.pathnameBase]))}return c}function sf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:E},T)=>{if(v==="*"){let L=h[T]||"";c=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const A=h[T];return E&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:t}}function wD(t,e=!1,n=!0){Yr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function vD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ri(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _D(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?La(t):t;return{pathname:n?n.startsWith("/")?n:ED(n,e):e,search:TD(r),hash:ID(i)}}function ED(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ew(t){let e=bD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function tw(t,e,n,r=!1){let i;typeof t=="string"?i=La(t):(i={...t},zt(!i.pathname||!i.pathname.includes("?"),Jm("?","pathname","search",i)),zt(!i.pathname||!i.pathname.includes("#"),Jm("#","pathname","hash",i)),zt(!i.search||!i.search.includes("#"),Jm("#","search","hash",i)));let a=t===""||i.pathname==="",c=a?"/":i.pathname,h;if(c==null)h=n;else{let E=e.length-1;if(!r&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;i.pathname=T.join("/")}h=E>=0?e[E]:"/"}let f=_D(i,h),g=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(g||v)&&(f.pathname+="/"),f}var bi=t=>t.join("/").replace(/\/\/+/g,"/"),CD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ID=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var zC=["POST","PUT","PATCH","DELETE"];new Set(zC);var SD=["GET",...zC];new Set(SD);var lc=C.createContext(null);lc.displayName="DataRouter";var Yf=C.createContext(null);Yf.displayName="DataRouterState";C.createContext(!1);var HC=C.createContext({isTransitioning:!1});HC.displayName="ViewTransition";var kD=C.createContext(new Map);kD.displayName="Fetchers";var RD=C.createContext(null);RD.displayName="Await";var vs=C.createContext(null);vs.displayName="Navigation";var Bu=C.createContext(null);Bu.displayName="Location";var _s=C.createContext({outlet:null,matches:[],isDataRoute:!1});_s.displayName="Route";var nw=C.createContext(null);nw.displayName="RouteError";function PD(t,{relative:e}={}){zt(cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(vs),{hash:i,pathname:a,search:c}=zu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:bi([n,a])),r.createHref({pathname:h,search:c,hash:i})}function cc(){return C.useContext(Bu)!=null}function Oo(){return zt(cc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Bu).location}var qC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WC(t){C.useContext(vs).static||C.useLayoutEffect(t)}function rw(){let{isDataRoute:t}=C.useContext(_s);return t?HD():AD()}function AD(){zt(cc(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(lc),{basename:e,navigator:n}=C.useContext(vs),{matches:r}=C.useContext(_s),{pathname:i}=Oo(),a=JSON.stringify(ew(r)),c=C.useRef(!1);return WC(()=>{c.current=!0}),C.useCallback((f,g={})=>{if(Yr(c.current,qC),!c.current)return;if(typeof f=="number"){n.go(f);return}let v=tw(f,JSON.parse(a),i,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:bi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,a,i,t])}C.createContext(null);function ND(){let{matches:t}=C.useContext(_s),e=t[t.length-1];return e?e.params:{}}function zu(t,{relative:e}={}){let{matches:n}=C.useContext(_s),{pathname:r}=Oo(),i=JSON.stringify(ew(n));return C.useMemo(()=>tw(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function DD(t,e){return GC(t,e)}function GC(t,e,n,r,i){zt(cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=C.useContext(vs),{matches:c}=C.useContext(_s),h=c[c.length-1],f=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let V=E&&E.path||"";KC(g,!E||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let T=Oo(),A;if(e){let V=typeof e=="string"?La(e):e;zt(v==="/"||V.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${V.pathname}" was given in the \`location\` prop.`),A=V}else A=T;let L=A.pathname||"/",U=L;if(v!=="/"){let V=v.replace(/^\//,"").split("/");U="/"+L.replace(/^\//,"").split("/").slice(V.length).join("/")}let O=$C(t,{pathname:U});Yr(E||O!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Yr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=VD(O&&O.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:bi([v,a.encodeLocation?a.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?v:bi([v,a.encodeLocation?a.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),c,n,r,i);return e&&W?C.createElement(Bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},W):W}function OD(){let t=zD(),e=xD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,c)}var jD=C.createElement(OD,null),LD=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(_s.Provider,{value:this.props.routeContext},C.createElement(nw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MD({routeContext:t,match:e,children:n}){let r=C.useContext(lc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(_s.Provider,{value:t},n)}function VD(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n?.errors;if(c!=null){let g=a.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);zt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,f=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:E,errors:T}=n,A=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||A){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((g,v,E)=>{let T,A=!1,L=null,U=null;n&&(T=c&&v.route.id?c[v.route.id]:void 0,L=v.route.errorElement||jD,h&&(f<0&&E===0?(KC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,U=null):f===E&&(A=!0,U=v.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,E+1)),W=()=>{let V;return T?V=L:A?V=U:v.route.Component?V=C.createElement(v.route.Component,null):v.route.element?V=v.route.element:V=g,C.createElement(MD,{match:v,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:V})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?C.createElement(LD,{location:n.location,revalidation:n.revalidation,component:L,error:T,children:W(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:r}):W()},null)}function sw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FD(t){let e=C.useContext(lc);return zt(e,sw(t)),e}function $D(t){let e=C.useContext(Yf);return zt(e,sw(t)),e}function UD(t){let e=C.useContext(_s);return zt(e,sw(t)),e}function iw(t){let e=UD(t),n=e.matches[e.matches.length-1];return zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function BD(){return iw("useRouteId")}function zD(){let t=C.useContext(nw),e=$D("useRouteError"),n=iw("useRouteError");return t!==void 0?t:e.errors?.[n]}function HD(){let{router:t}=FD("useNavigate"),e=iw("useNavigate"),n=C.useRef(!1);return WC(()=>{n.current=!0}),C.useCallback(async(i,a={})=>{Yr(n.current,qC),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var CE={};function KC(t,e,n){!e&&!CE[t]&&(CE[t]=!0,Yr(!1,n))}C.memo(qD);function qD({routes:t,future:e,state:n,unstable_onError:r}){return GC(t,void 0,n,r,e)}function El({to:t,replace:e,state:n,relative:r}){zt(cc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(vs);Yr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(_s),{pathname:c}=Oo(),h=rw(),f=tw(t,ew(a),c,r==="path"),g=JSON.stringify(f);return C.useEffect(()=>{h(JSON.parse(g),{replace:e,state:n,relative:r})},[h,g,r,e,n]),null}function ao(t){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){zt(!cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:c,navigator:i,static:a,future:{}}),[c,i,a]);typeof n=="string"&&(n=La(n));let{pathname:f="/",search:g="",hash:v="",state:E=null,key:T="default"}=n,A=C.useMemo(()=>{let L=Ri(f,c);return L==null?null:{location:{pathname:L,search:g,hash:v,state:E,key:T},navigationType:r}},[c,f,g,v,E,T,r]);return Yr(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:C.createElement(vs.Provider,{value:h},C.createElement(Bu.Provider,{children:e,value:A}))}function GD({children:t,location:e}){return DD(jg(t),e)}function jg(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let a=[...e,i];if(r.type===C.Fragment){n.push.apply(n,jg(r.props.children,a));return}zt(r.type===ao,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=jg(r.props.children,a)),n.push(c)}),n}var Sh="get",kh="application/x-www-form-urlencoded";function Xf(t){return t!=null&&typeof t.tagName=="string"}function KD(t){return Xf(t)&&t.tagName.toLowerCase()==="button"}function JD(t){return Xf(t)&&t.tagName.toLowerCase()==="form"}function QD(t){return Xf(t)&&t.tagName.toLowerCase()==="input"}function YD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XD(t,e){return t.button===0&&(!e||e==="_self")&&!YD(t)}var uh=null;function ZD(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var eO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qm(t){return t!=null&&!eO.has(t)?(Yr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kh}"`),null):t}function tO(t,e){let n,r,i,a,c;if(JD(t)){let h=t.getAttribute("action");r=h?Ri(h,e):null,n=t.getAttribute("method")||Sh,i=Qm(t.getAttribute("enctype"))||kh,a=new FormData(t)}else if(KD(t)||QD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ri(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Sh,i=Qm(t.getAttribute("formenctype"))||Qm(h.getAttribute("enctype"))||kh,a=new FormData(h,t),!ZD()){let{name:g,type:v,value:E}=t;if(v==="image"){let T=g?`${g}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else g&&a.append(g,E)}}else{if(Xf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sh,r=null,i=kh,c=t}return a&&i==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ow(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nO(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ri(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function rO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iO(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let c=await rO(a,n);return c.links?c.links():[]}return[]}));return cO(r.flat(1).filter(sO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function TE(t,e,n,r,i,a){let c=(f,g)=>n[g]?f.route.id!==n[g].route.id:!0,h=(f,g)=>n[g].pathname!==f.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,g)=>c(f,g)||h(f,g)):a==="data"?e.filter((f,g)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function oO(t,e,{includeHydrateFallback:n}={}){return aO(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function aO(t){return[...new Set(t)]}function lO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function cO(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(lO(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function JC(){let t=C.useContext(lc);return ow(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uO(){let t=C.useContext(Yf);return ow(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var aw=C.createContext(void 0);aw.displayName="FrameworkContext";function QC(){let t=C.useContext(aw);return ow(t,"You must render this element inside a <HydratedRouter> element"),t}function dO(t,e){let n=C.useContext(aw),[r,i]=C.useState(!1),[a,c]=C.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,T=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let U=W=>{W.forEach(V=>{c(V.isIntersecting)})},O=new IntersectionObserver(U,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[t]),C.useEffect(()=>{if(r){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[r]);let A=()=>{i(!0)},L=()=>{i(!1),c(!1)};return n?t!=="intent"?[a,T,{}]:[a,T,{onFocus:Jc(h,A),onBlur:Jc(f,L),onMouseEnter:Jc(g,A),onMouseLeave:Jc(v,L),onTouchStart:Jc(E,A)}]:[!1,T,{}]}function Jc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function hO({page:t,...e}){let{router:n}=JC(),r=C.useMemo(()=>$C(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(pO,{page:t,matches:r,...e}):null}function fO(t){let{manifest:e,routeModules:n}=QC(),[r,i]=C.useState([]);return C.useEffect(()=>{let a=!1;return iO(t,e,n).then(c=>{a||i(c)}),()=>{a=!0}},[t,e,n]),r}function pO({page:t,matches:e,...n}){let r=Oo(),{manifest:i,routeModules:a}=QC(),{basename:c}=JC(),{loaderData:h,matches:f}=uO(),g=C.useMemo(()=>TE(t,e,f,i,r,"data"),[t,e,f,i,r]),v=C.useMemo(()=>TE(t,e,f,i,r,"assets"),[t,e,f,i,r]),E=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let L=new Set,U=!1;if(e.forEach(W=>{let V=i.routes[W.route.id];!V||!V.hasLoader||(!g.some(z=>z.route.id===W.route.id)&&W.route.id in h&&a[W.route.id]?.shouldRevalidate||V.hasClientLoader?U=!0:L.add(W.route.id))}),L.size===0)return[];let O=nO(t,c,"data");return U&&L.size>0&&O.searchParams.set("_routes",e.filter(W=>L.has(W.route.id)).map(W=>W.route.id).join(",")),[O.pathname+O.search]},[c,h,r,i,g,e,t,a]),T=C.useMemo(()=>oO(v,i),[v,i]),A=fO(v);return C.createElement(C.Fragment,null,E.map(L=>C.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),T.map(L=>C.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),A.map(({key:L,link:U})=>C.createElement("link",{key:L,nonce:n.nonce,...U})))}function mO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YC&&(window.__reactRouterVersion="7.8.2")}catch{}function gO({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=rD({window:n,v5Compat:!0}));let i=r.current,[a,c]=C.useState({action:i.action,location:i.location}),h=C.useCallback(f=>{C.startTransition(()=>c(f))},[c]);return C.useLayoutEffect(()=>i.listen(h),[i,h]),C.createElement(WD,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var XC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:c,state:h,target:f,to:g,preventScrollReset:v,viewTransition:E,...T},A){let{basename:L}=C.useContext(vs),U=typeof g=="string"&&XC.test(g),O,W=!1;if(typeof g=="string"&&U&&(O=g,YC))try{let k=new URL(window.location.href),P=g.startsWith("//")?new URL(k.protocol+g):new URL(g),D=Ri(P.pathname,L);P.origin===k.origin&&D!=null?g=D+P.search+P.hash:W=!0}catch{Yr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=PD(g,{relative:i}),[z,J,se]=dO(r,T),Q=_O(g,{replace:c,state:h,target:f,preventScrollReset:v,relative:i,viewTransition:E});function x(k){e&&e(k),k.defaultPrevented||Q(k)}let I=C.createElement("a",{...T,...se,href:O||V,onClick:W||a?e:x,ref:mO(A,J),target:f,"data-discover":!U&&n==="render"?"true":void 0});return z&&!U?C.createElement(C.Fragment,null,I,C.createElement(hO,{page:V})):I});vt.displayName="Link";var yO=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:c,viewTransition:h,children:f,...g},v){let E=zu(c,{relative:g.relative}),T=Oo(),A=C.useContext(Yf),{navigator:L,basename:U}=C.useContext(vs),O=A!=null&&IO(E)&&h===!0,W=L.encodeLocation?L.encodeLocation(E).pathname:E.pathname,V=T.pathname,z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(V=V.toLowerCase(),z=z?z.toLowerCase():null,W=W.toLowerCase()),z&&U&&(z=Ri(z,U)||z);const J=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let se=V===W||!i&&V.startsWith(W)&&V.charAt(J)==="/",Q=z!=null&&(z===W||!i&&z.startsWith(W)&&z.charAt(W.length)==="/"),x={isActive:se,isPending:Q,isTransitioning:O},I=se?e:void 0,k;typeof r=="function"?k=r(x):k=[r,se?"active":null,Q?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(x):a;return C.createElement(vt,{...g,"aria-current":I,className:k,ref:v,style:P,to:c,viewTransition:h},typeof f=="function"?f(x):f)});yO.displayName="NavLink";var wO=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:c=Sh,action:h,onSubmit:f,relative:g,preventScrollReset:v,viewTransition:E,...T},A)=>{let L=CO(),U=TO(h,{relative:g}),O=c.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&XC.test(h),V=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let J=z.nativeEvent.submitter,se=J?.getAttribute("formmethod")||c;L(J||z.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:i,state:a,relative:g,preventScrollReset:v,viewTransition:E})};return C.createElement("form",{ref:A,method:O,action:U,onSubmit:r?f:V,...T,"data-discover":!W&&t==="render"?"true":void 0})});wO.displayName="Form";function vO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZC(t){let e=C.useContext(lc);return zt(e,vO(t)),e}function _O(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:c}={}){let h=rw(),f=Oo(),g=zu(t,{relative:a});return C.useCallback(v=>{if(XD(v,e)){v.preventDefault();let E=n!==void 0?n:Cu(f)===Cu(g);h(t,{replace:E,state:r,preventScrollReset:i,relative:a,viewTransition:c})}},[f,h,g,n,r,e,t,i,a,c])}var EO=0,bO=()=>`__${String(++EO)}__`;function CO(){let{router:t}=ZC("useSubmit"),{basename:e}=C.useContext(vs),n=BD();return C.useCallback(async(r,i={})=>{let{action:a,method:c,encType:h,formData:f,body:g}=tO(r,e);if(i.navigate===!1){let v=i.fetcherKey||bO();await t.fetch(v,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:g,formMethod:i.method||c,formEncType:i.encType||h,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:g,formMethod:i.method||c,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function TO(t,{relative:e}={}){let{basename:n}=C.useContext(vs),r=C.useContext(_s);zt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...zu(t||".",{relative:e})},c=Oo();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(E=>E).forEach(E=>h.append("index",E));let v=h.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:bi([n,a.pathname])),Cu(a)}function IO(t,{relative:e}={}){let n=C.useContext(HC);zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZC("useViewTransitionState"),i=zu(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ri(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ri(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sf(i.pathname,c)!=null||sf(i.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function eT(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function xO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function IE(t,e){return t.get(eT(t,e))}function SO(t,e,n){xO(t,e),e.set(t,n)}function kO(t,e,n){return t.set(eT(t,e),n),n}const RO=100,Ue={},PO=()=>{Ue.previousActiveElement instanceof HTMLElement?(Ue.previousActiveElement.focus(),Ue.previousActiveElement=null):document.body&&document.body.focus()},AO=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;Ue.restoreFocusTimeout=setTimeout(()=>{PO(),e()},RO),window.scrollTo(n,r)}),tT="swal2-",NO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],te=NO.reduce((t,e)=>(t[e]=tT+e,t),{}),DO=["success","warning","info","question","error"],of=DO.reduce((t,e)=>(t[e]=tT+e,t),{}),nT="SweetAlert2:",lw=t=>t.charAt(0).toUpperCase()+t.slice(1),rr=t=>{console.warn(`${nT} ${typeof t=="object"?t.join(" "):t}`)},Ma=t=>{console.error(`${nT} ${t}`)},xE=[],OO=t=>{xE.includes(t)||(xE.push(t),rr(t))},rT=(t,e=null)=>{OO(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Zf=t=>typeof t=="function"?t():t,cw=t=>t&&typeof t.toPromise=="function",Hu=t=>cw(t)?t.toPromise():Promise.resolve(t),uw=t=>t&&Promise.resolve(t)===t,sr=()=>document.body.querySelector(`.${te.container}`),qu=t=>{const e=sr();return e?e.querySelector(t):null},Or=t=>qu(`.${t}`),wt=()=>Or(te.popup),uc=()=>Or(te.icon),jO=()=>Or(te["icon-content"]),sT=()=>Or(te.title),dw=()=>Or(te["html-container"]),iT=()=>Or(te.image),hw=()=>Or(te["progress-steps"]),ep=()=>Or(te["validation-message"]),Ks=()=>qu(`.${te.actions} .${te.confirm}`),dc=()=>qu(`.${te.actions} .${te.cancel}`),Va=()=>qu(`.${te.actions} .${te.deny}`),LO=()=>Or(te["input-label"]),hc=()=>qu(`.${te.loader}`),Wu=()=>Or(te.actions),oT=()=>Or(te.footer),tp=()=>Or(te["timer-progress-bar"]),fw=()=>Or(te.close),MO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,pw=()=>{const t=wt();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,c)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(c.getAttribute("tabindex")||"0");return h>f?1:h<f?-1:0}),r=t.querySelectorAll(MO),i=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(i))].filter(a=>yr(a))},mw=()=>Ci(document.body,te.shown)&&!Ci(document.body,te["toast-shown"])&&!Ci(document.body,te["no-backdrop"]),np=()=>{const t=wt();return t?Ci(t,te.toast):!1},VO=()=>{const t=wt();return t?t.hasAttribute("data-loading"):!1},jr=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),i=r.querySelector("head");i&&Array.from(i.childNodes).forEach(c=>{t.appendChild(c)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?t.appendChild(c.cloneNode(!0)):t.appendChild(c)})}},Ci=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},FO=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(te).includes(n)&&!Object.values(of).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Dr=(t,e,n)=>{if(FO(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){rr(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}_t(t,r)}},rp=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${te.popup} > .${te[e]}`);case"checkbox":return t.querySelector(`.${te.popup} > .${te.checkbox} input`);case"radio":return t.querySelector(`.${te.popup} > .${te.radio} input:checked`)||t.querySelector(`.${te.popup} > .${te.radio} input:first-child`);case"range":return t.querySelector(`.${te.popup} > .${te.range} input`);default:return t.querySelector(`.${te.popup} > .${te.input}`)}},aT=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},lT=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(i=>{n?i.classList.add(r):i.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},_t=(t,e)=>{lT(t,e,!0)},Xr=(t,e)=>{lT(t,e,!1)},yo=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const i=n[r];if(i instanceof HTMLElement&&Ci(i,e))return i}},pa=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},kn=(t,e="flex")=>{t&&(t.style.display=e)},Jn=t=>{t&&(t.style.display="none")},gw=(t,e="block")=>{t&&new MutationObserver(()=>{Gu(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},SE=(t,e,n,r)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,r)},Gu=(t,e,n="flex")=>{e?kn(t,n):Jn(t)},yr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),$O=()=>!yr(Ks())&&!yr(Va())&&!yr(dc()),Lg=t=>t.scrollHeight>t.clientHeight,UO=(t,e)=>{let n=t;for(;n&&n!==e;){if(Lg(n))return!0;n=n.parentElement}return!1},cT=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},yw=(t,e=!1)=>{const n=tp();n&&yr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},BO=()=>{const t=tp();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},zO=()=>typeof window>"u"||typeof document>"u",HO=`
 <div aria-labelledby="${te.title}" aria-describedby="${te["html-container"]}" class="${te.popup}" tabindex="-1">
   <button type="button" class="${te.close}"></button>
   <ul class="${te["progress-steps"]}"></ul>
   <div class="${te.icon}"></div>
   <img class="${te.image}" />
   <h2 class="${te.title}" id="${te.title}"></h2>
   <div class="${te["html-container"]}" id="${te["html-container"]}"></div>
   <input class="${te.input}" id="${te.input}" />
   <input type="file" class="${te.file}" />
   <div class="${te.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${te.select}" id="${te.select}"></select>
   <div class="${te.radio}"></div>
   <label class="${te.checkbox}">
     <input type="checkbox" id="${te.checkbox}" />
     <span class="${te.label}"></span>
   </label>
   <textarea class="${te.textarea}" id="${te.textarea}"></textarea>
   <div class="${te["validation-message"]}" id="${te["validation-message"]}"></div>
   <div class="${te.actions}">
     <div class="${te.loader}"></div>
     <button type="button" class="${te.confirm}"></button>
     <button type="button" class="${te.deny}"></button>
     <button type="button" class="${te.cancel}"></button>
   </div>
   <div class="${te.footer}"></div>
   <div class="${te["timer-progress-bar-container"]}">
     <div class="${te["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),qO=()=>{const t=sr();return t?(t.remove(),Xr([document.documentElement,document.body],[te["no-backdrop"],te["toast-shown"],te["has-column"]]),!0):!1},la=()=>{Ue.currentInstance.resetValidationMessage()},WO=()=>{const t=wt(),e=yo(t,te.input),n=yo(t,te.file),r=t.querySelector(`.${te.range} input`),i=t.querySelector(`.${te.range} output`),a=yo(t,te.select),c=t.querySelector(`.${te.checkbox} input`),h=yo(t,te.textarea);e.oninput=la,n.onchange=la,a.onchange=la,c.onchange=la,h.oninput=la,r.oninput=()=>{la(),i.value=r.value},r.onchange=()=>{la(),i.value=r.value}},GO=t=>typeof t=="string"?document.querySelector(t):t,KO=t=>{const e=wt();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},JO=t=>{window.getComputedStyle(t).direction==="rtl"&&_t(sr(),te.rtl)},QO=t=>{const e=qO();if(zO()){Ma("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=te.container,e&&_t(n,te["no-transition"]),jr(n,HO),n.dataset.swal2Theme=t.theme;const r=GO(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),KO(t),JO(r),WO()},ww=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?YO(t,e):t&&jr(e,t)},YO=(t,e)=>{t.jquery?XO(e,t):jr(e,t.toString())},XO=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},ZO=(t,e)=>{const n=Wu(),r=hc();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Jn(n):kn(n),Dr(n,e,"actions"),ej(n,r,e),jr(r,e.loaderHtml||""),Dr(r,e,"loader"))};function ej(t,e,n){const r=Ks(),i=Va(),a=dc();!r||!i||!a||(Xm(r,"confirm",n),Xm(i,"deny",n),Xm(a,"cancel",n),tj(r,i,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(i,r)):(t.insertBefore(a,e),t.insertBefore(i,e),t.insertBefore(r,e))))}function tj(t,e,n,r){if(!r.buttonsStyling){Xr([t,e,n],te.styled);return}_t([t,e,n],te.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Ym(t),Ym(e),Ym(n)}function Ym(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Xm(t,e,n){const r=lw(e);Gu(t,n[`show${r}Button`],"inline-block"),jr(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=te[e],Dr(t,n,`${e}Button`)}const nj=(t,e)=>{const n=fw();n&&(jr(n,e.closeButtonHtml||""),Dr(n,e,"closeButton"),Gu(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},rj=(t,e)=>{const n=sr();n&&(sj(n,e.backdrop),ij(n,e.position),oj(n,e.grow),Dr(n,e,"container"))};function sj(t,e){typeof e=="string"?t.style.background=e:e||_t([document.documentElement,document.body],te["no-backdrop"])}function ij(t,e){e&&(e in te?_t(t,te[e]):(rr('The "position" parameter is not valid, defaulting to "center"'),_t(t,te.center)))}function oj(t,e){e&&_t(t,te[`grow-${e}`])}var Ot={innerParams:new WeakMap,domCache:new WeakMap};const aj=["input","file","range","select","radio","checkbox","textarea"],lj=(t,e)=>{const n=wt();if(!n)return;const r=Ot.innerParams.get(t),i=!r||e.input!==r.input;aj.forEach(a=>{const c=yo(n,te[a]);c&&(dj(a,e.inputAttributes),c.className=te[a],i&&Jn(c))}),e.input&&(i&&cj(e),hj(e))},cj=t=>{if(!t.input)return;if(!Zt[t.input]){Ma(`Unexpected type of input! Expected ${Object.keys(Zt).join(" | ")}, got "${t.input}"`);return}const e=uT(t.input);if(!e)return;const n=Zt[t.input](e,t);kn(e),t.inputAutoFocus&&setTimeout(()=>{aT(n)})},uj=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},dj=(t,e)=>{const n=wt();if(!n)return;const r=rp(n,t);if(r){uj(r);for(const i in e)r.setAttribute(i,e[i])}},hj=t=>{if(!t.input)return;const e=uT(t.input);e&&Dr(e,t,"input")},vw=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Ku=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=te["input-label"];r.setAttribute("for",t.id),r.className=i,typeof n.customClass=="object"&&_t(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},uT=t=>{const e=wt();if(e)return yo(e,te[t]||te.input)},af=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:uw(e)||rr(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Zt={};Zt.text=Zt.email=Zt.password=Zt.number=Zt.tel=Zt.url=Zt.search=Zt.date=Zt["datetime-local"]=Zt.time=Zt.week=Zt.month=(t,e)=>(af(t,e.inputValue),Ku(t,t,e),vw(t,e),t.type=e.input,t);Zt.file=(t,e)=>(Ku(t,t,e),vw(t,e),t);Zt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return af(n,e.inputValue),n.type=e.input,af(r,e.inputValue),Ku(n,t,e),t};Zt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");jr(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Ku(t,t,e),t};Zt.radio=t=>(t.textContent="",t);Zt.checkbox=(t,e)=>{const n=rp(wt(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return jr(r,e.inputPlaceholder||e.inputLabel),n};Zt.textarea=(t,e)=>{af(t,e.inputValue),vw(t,e),Ku(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(wt()).width),i=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?wt().style.width=`${a}px`:pa(wt(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const fj=(t,e)=>{const n=dw();n&&(gw(n),Dr(n,e,"htmlContainer"),e.html?(ww(e.html,n),kn(n,"block")):e.text?(n.textContent=e.text,kn(n,"block")):Jn(n),lj(t,e))},pj=(t,e)=>{const n=oT();n&&(gw(n),Gu(n,e.footer,"block"),e.footer&&ww(e.footer,n),Dr(n,e,"footer"))},mj=(t,e)=>{const n=Ot.innerParams.get(t),r=uc();if(!r)return;if(n&&e.icon===n.icon){RE(r,e),kE(r,e);return}if(!e.icon&&!e.iconHtml){Jn(r);return}if(e.icon&&Object.keys(of).indexOf(e.icon)===-1){Ma(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Jn(r);return}kn(r),RE(r,e),kE(r,e),_t(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",dT)},kE=(t,e)=>{for(const[n,r]of Object.entries(of))e.icon!==n&&Xr(t,r);_t(t,e.icon&&of[e.icon]),wj(t,e),dT(),Dr(t,e,"icon")},dT=()=>{const t=wt();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},gj=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,yj=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,RE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=PE(e.iconHtml):e.icon==="success"?(r=gj(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=yj:e.icon&&(r=PE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&jr(t,r)},wj=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])SE(t,n,"background-color",e.iconColor);SE(t,".swal2-success-ring","border-color",e.iconColor)}},PE=t=>`<div class="${te["icon-content"]}">${t}</div>`,vj=(t,e)=>{const n=iT();if(n){if(!e.imageUrl){Jn(n);return}kn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),pa(n,"width",e.imageWidth),pa(n,"height",e.imageHeight),n.className=te.image,Dr(n,e,"image")}};let _w=!1,hT=0,fT=0,pT=0,mT=0;const _j=t=>{t.addEventListener("mousedown",lf),document.body.addEventListener("mousemove",cf),t.addEventListener("mouseup",uf),t.addEventListener("touchstart",lf),document.body.addEventListener("touchmove",cf),t.addEventListener("touchend",uf)},Ej=t=>{t.removeEventListener("mousedown",lf),document.body.removeEventListener("mousemove",cf),t.removeEventListener("mouseup",uf),t.removeEventListener("touchstart",lf),document.body.removeEventListener("touchmove",cf),t.removeEventListener("touchend",uf)},lf=t=>{const e=wt();if(t.target===e||uc().contains(t.target)){_w=!0;const n=gT(t);hT=n.clientX,fT=n.clientY,pT=parseInt(e.style.insetInlineStart)||0,mT=parseInt(e.style.insetBlockStart)||0,_t(e,"swal2-dragging")}},cf=t=>{const e=wt();if(_w){let{clientX:n,clientY:r}=gT(t);e.style.insetInlineStart=`${pT+(n-hT)}px`,e.style.insetBlockStart=`${mT+(r-fT)}px`}},uf=()=>{const t=wt();_w=!1,Xr(t,"swal2-dragging")},gT=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},bj=(t,e)=>{const n=sr(),r=wt();if(!(!n||!r)){if(e.toast){pa(n,"width",e.width),r.style.width="100%";const i=hc();i&&r.insertBefore(i,uc())}else pa(r,"width",e.width);pa(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Jn(ep()),Cj(r,e),e.draggable&&!e.toast?(_t(r,te.draggable),_j(r)):(Xr(r,te.draggable),Ej(r))}},Cj=(t,e)=>{const n=e.showClass||{};t.className=`${te.popup} ${yr(t)?n.popup:""}`,e.toast?(_t([document.documentElement,document.body],te["toast-shown"]),_t(t,te.toast)):_t(t,te.modal),Dr(t,e,"popup"),typeof e.customClass=="string"&&_t(t,e.customClass),e.icon&&_t(t,te[`icon-${e.icon}`])},Tj=(t,e)=>{const n=hw();if(!n)return;const{progressSteps:r,currentProgressStep:i}=e;if(!r||r.length===0||i===void 0){Jn(n);return}kn(n),n.textContent="",i>=r.length&&rr("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,c)=>{const h=Ij(a);if(n.appendChild(h),c===i&&_t(h,te["active-progress-step"]),c!==r.length-1){const f=xj(e);n.appendChild(f)}})},Ij=t=>{const e=document.createElement("li");return _t(e,te["progress-step"]),jr(e,t),e},xj=t=>{const e=document.createElement("li");return _t(e,te["progress-step-line"]),t.progressStepsDistance&&pa(e,"width",t.progressStepsDistance),e},Sj=(t,e)=>{const n=sT();n&&(gw(n),Gu(n,e.title||e.titleText,"block"),e.title&&ww(e.title,n),e.titleText&&(n.innerText=e.titleText),Dr(n,e,"title"))},yT=(t,e)=>{bj(t,e),rj(t,e),Tj(t,e),mj(t,e),vj(t,e),Sj(t,e),nj(t,e),fj(t,e),ZO(t,e),pj(t,e);const n=wt();typeof e.didRender=="function"&&n&&e.didRender(n),Ue.eventEmitter.emit("didRender",n)},kj=()=>yr(wt()),wT=()=>{var t;return(t=Ks())===null||t===void 0?void 0:t.click()},Rj=()=>{var t;return(t=Va())===null||t===void 0?void 0:t.click()},Pj=()=>{var t;return(t=dc())===null||t===void 0?void 0:t.click()},fc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),vT=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Aj=(t,e,n)=>{vT(t),e.toast||(t.keydownHandler=r=>Dj(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:wt(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Mg=(t,e)=>{var n;const r=pw();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=wt())===null||n===void 0||n.focus()},_T=["ArrowRight","ArrowDown"],Nj=["ArrowLeft","ArrowUp"],Dj=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?Oj(e,t):e.key==="Tab"?jj(e):[..._T,...Nj].includes(e.key)?Lj(e.key):e.key==="Escape"&&Mj(e,t,n)))},Oj=(t,e)=>{if(!Zf(e.allowEnterKey))return;const n=rp(wt(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;wT(),t.preventDefault()}},jj=t=>{const e=t.target,n=pw();let r=-1;for(let i=0;i<n.length;i++)if(e===n[i]){r=i;break}t.shiftKey?Mg(r,-1):Mg(r,1),t.stopPropagation(),t.preventDefault()},Lj=t=>{const e=Wu(),n=Ks(),r=Va(),i=dc();if(!e||!n||!r||!i)return;const a=[n,r,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const c=_T.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let f=0;f<e.children.length;f++){if(h=h[c],!h)return;if(h instanceof HTMLButtonElement&&yr(h))break}h instanceof HTMLButtonElement&&h.focus()}},Mj=(t,e,n)=>{t.preventDefault(),Zf(e.allowEscapeKey)&&n(fc.esc)};var ql={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Vj=()=>{const t=sr();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},ET=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},bT=typeof window<"u"&&!!window.GestureEvent,Fj=()=>{if(bT&&!Ci(document.body,te.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,_t(document.body,te.iosfix),$j()}},$j=()=>{const t=sr();if(!t)return;let e;t.ontouchstart=n=>{e=Uj(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},Uj=t=>{const e=t.target,n=sr(),r=dw();return!n||!r||Bj(t)||zj(t)?!1:e===n||!Lg(n)&&e instanceof HTMLElement&&!UO(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Lg(r)&&r.contains(e))},Bj=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",zj=t=>t.touches&&t.touches.length>1,Hj=()=>{if(Ci(document.body,te.iosfix)){const t=parseInt(document.body.style.top,10);Xr(document.body,te.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},qj=()=>{const t=document.createElement("div");t.className=te["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Dl=null;const Wj=t=>{Dl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Dl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Dl+qj()}px`)},Gj=()=>{Dl!==null&&(document.body.style.paddingRight=`${Dl}px`,Dl=null)};function CT(t,e,n,r){np()?AE(t,r):(AO(n).then(()=>AE(t,r)),vT(Ue)),bT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),mw()&&(Gj(),Hj(),ET()),Kj()}function Kj(){Xr([document.documentElement,document.body],[te.shown,te["height-auto"],te["no-backdrop"],te["toast-shown"]])}function wo(t){t=Qj(t);const e=ql.swalPromiseResolve.get(this),n=Jj(this);this.isAwaitingPromise?t.isDismissed||(Ju(this),e(t)):n&&e(t)}const Jj=t=>{const e=wt();if(!e)return!1;const n=Ot.innerParams.get(t);if(!n||Ci(e,n.hideClass.popup))return!1;Xr(e,n.showClass.popup),_t(e,n.hideClass.popup);const r=sr();return Xr(r,n.showClass.backdrop),_t(r,n.hideClass.backdrop),Yj(t,e,n),!0};function TT(t){const e=ql.swalPromiseReject.get(this);Ju(this),e&&e(t)}const Ju=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Ot.innerParams.get(t)||t._destroy())},Qj=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),Yj=(t,e,n)=>{var r;const i=sr(),a=cT(e);typeof n.willClose=="function"&&n.willClose(e),(r=Ue.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?Xj(t,e,i,n.returnFocus,n.didClose):CT(t,i,n.returnFocus,n.didClose)},Xj=(t,e,n,r,i)=>{Ue.swalCloseEventFinishedCallback=CT.bind(null,t,n,r,i);const a=function(c){if(c.target===e){var h;(h=Ue.swalCloseEventFinishedCallback)===null||h===void 0||h.call(Ue),delete Ue.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},AE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Ue.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Wl=t=>{let e=wt();if(e||new Ne,e=wt(),!e)return;const n=hc();np()?Jn(uc()):Zj(e,t),kn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Zj=(t,e)=>{const n=Wu(),r=hc();!n||!r||(!e&&yr(Ks())&&(e=Ks()),kn(n),e&&(Jn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),_t([t,n],te.loading))},eL=(t,e)=>{e.input==="select"||e.input==="radio"?iL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(cw(e.inputValue)||uw(e.inputValue))&&(Wl(Ks()),oL(t,e))},tL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return nL(n);case"radio":return rL(n);case"file":return sL(n);default:return e.inputAutoTrim?n.value.trim():n.value}},nL=t=>t.checked?1:0,rL=t=>t.checked?t.value:null,sL=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,iL=(t,e)=>{const n=wt();if(!n)return;const r=i=>{e.input==="select"?aL(n,df(i),e):e.input==="radio"&&lL(n,df(i),e)};cw(e.inputOptions)||uw(e.inputOptions)?(Wl(Ks()),Hu(e.inputOptions).then(i=>{t.hideLoading(),r(i)})):typeof e.inputOptions=="object"?r(e.inputOptions):Ma(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},oL=(t,e)=>{const n=t.getInput();n&&(Jn(n),Hu(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,kn(n),n.focus(),t.hideLoading()}).catch(r=>{Ma(`Error in inputValue promise: ${r}`),n.value="",kn(n),n.focus(),t.hideLoading()}))};function aL(t,e,n){const r=yo(t,te.select);if(!r)return;const i=(a,c,h)=>{const f=document.createElement("option");f.value=h,jr(f,c),f.selected=IT(h,n.inputValue),a.appendChild(f)};e.forEach(a=>{const c=a[0],h=a[1];if(Array.isArray(h)){const f=document.createElement("optgroup");f.label=c,f.disabled=!1,r.appendChild(f),h.forEach(g=>i(f,g[1],g[0]))}else i(r,h,c)}),r.focus()}function lL(t,e,n){const r=yo(t,te.radio);if(!r)return;e.forEach(a=>{const c=a[0],h=a[1],f=document.createElement("input"),g=document.createElement("label");f.type="radio",f.name=te.radio,f.value=c,IT(c,n.inputValue)&&(f.checked=!0);const v=document.createElement("span");jr(v,h),v.className=te.label,g.appendChild(f),g.appendChild(v),r.appendChild(g)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}const df=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let i=n;typeof i=="object"&&(i=df(i)),e.push([r,i])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=df(r)),e.push([n,r])}),e},IT=(t,e)=>!!e&&e.toString()===t.toString(),cL=t=>{const e=Ot.innerParams.get(t);t.disableButtons(),e.input?xT(t,"confirm"):bw(t,!0)},uL=t=>{const e=Ot.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?xT(t,"deny"):Ew(t,!1)},dL=(t,e)=>{t.disableButtons(),e(fc.cancel)},xT=(t,e)=>{const n=Ot.innerParams.get(t);if(!n.input){Ma(`The "input" parameter is needed to be set when using returnInputValueOn${lw(e)}`);return}const r=t.getInput(),i=tL(t,n);n.inputValidator?hL(t,i,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?Ew(t,i):bw(t,i)},hL=(t,e,n)=>{const r=Ot.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Hu(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?Ew(t,e):bw(t,e)})},Ew=(t,e)=>{const n=Ot.innerParams.get(t||void 0);n.showLoaderOnDeny&&Wl(Va()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Hu(n.preDeny(e,n.validationMessage))).then(i=>{i===!1?(t.hideLoading(),Ju(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>ST(t||void 0,i))):t.close({isDenied:!0,value:e})},NE=(t,e)=>{t.close({isConfirmed:!0,value:e})},ST=(t,e)=>{t.rejectPromise(e)},bw=(t,e)=>{const n=Ot.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Wl(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Hu(n.preConfirm(e,n.validationMessage))).then(i=>{yr(ep())||i===!1?(t.hideLoading(),Ju(t)):NE(t,typeof i>"u"?e:i)}).catch(i=>ST(t||void 0,i))):NE(t,e)};function hf(){const t=Ot.innerParams.get(this);if(!t)return;const e=Ot.domCache.get(this);Jn(e.loader),np()?t.icon&&kn(uc()):fL(e),Xr([e.popup,e.actions],te.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const fL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?kn(e[0],"inline-block"):$O()&&Jn(t.actions)};function kT(){const t=Ot.innerParams.get(this),e=Ot.domCache.get(this);return e?rp(e.popup,t.input):null}function RT(t,e,n){const r=Ot.domCache.get(t);e.forEach(i=>{r[i].disabled=n})}function PT(t,e){const n=wt();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${te.radio}"]`);for(let i=0;i<r.length;i++)r[i].disabled=e}else t.disabled=e}function AT(){RT(this,["confirmButton","denyButton","cancelButton"],!1)}function NT(){RT(this,["confirmButton","denyButton","cancelButton"],!0)}function DT(){PT(this.getInput(),!1)}function OT(){PT(this.getInput(),!0)}function jT(t){const e=Ot.domCache.get(this),n=Ot.innerParams.get(this);jr(e.validationMessage,t),e.validationMessage.className=te["validation-message"],n.customClass&&n.customClass.validationMessage&&_t(e.validationMessage,n.customClass.validationMessage),kn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",te["validation-message"]),aT(r),_t(r,te.inputerror))}function LT(){const t=Ot.domCache.get(this);t.validationMessage&&Jn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Xr(e,te.inputerror))}const Ol={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},pL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],mL={allowEnterKey:void 0},gL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],MT=t=>Object.prototype.hasOwnProperty.call(Ol,t),VT=t=>pL.indexOf(t)!==-1,FT=t=>mL[t],yL=t=>{MT(t)||rr(`Unknown parameter "${t}"`)},wL=t=>{gL.includes(t)&&rr(`The parameter "${t}" is incompatible with toasts`)},vL=t=>{const e=FT(t);e&&rT(t,e)},$T=t=>{t.backdrop===!1&&t.allowOutsideClick&&rr('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&rr(`Invalid theme "${t.theme}"`);for(const e in t)yL(e),t.toast&&wL(e),vL(e)};function UT(t){const e=sr(),n=wt(),r=Ot.innerParams.get(this);if(!n||Ci(n,r.hideClass.popup)){rr("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=_L(t),a=Object.assign({},r,i);$T(a),e.dataset.swal2Theme=a.theme,yT(this,a),Ot.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const _L=t=>{const e={};return Object.keys(t).forEach(n=>{VT(n)?e[n]=t[n]:rr(`Invalid parameter to update: ${n}`)}),e};function BT(){const t=Ot.domCache.get(this),e=Ot.innerParams.get(this);if(!e){zT(this);return}t.popup&&Ue.swalCloseEventFinishedCallback&&(Ue.swalCloseEventFinishedCallback(),delete Ue.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Ue.eventEmitter.emit("didDestroy"),EL(this)}const EL=t=>{zT(t),delete t.params,delete Ue.keydownHandler,delete Ue.keydownTarget,delete Ue.currentInstance},zT=t=>{t.isAwaitingPromise?(Zm(Ot,t),t.isAwaitingPromise=!0):(Zm(ql,t),Zm(Ot,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Zm=(t,e)=>{for(const n in t)t[n].delete(e)};var bL=Object.freeze({__proto__:null,_destroy:BT,close:wo,closeModal:wo,closePopup:wo,closeToast:wo,disableButtons:NT,disableInput:OT,disableLoading:hf,enableButtons:AT,enableInput:DT,getInput:kT,handleAwaitingPromise:Ju,hideLoading:hf,rejectPromise:TT,resetValidationMessage:LT,showValidationMessage:jT,update:UT});const CL=(t,e,n)=>{t.toast?TL(t,e,n):(xL(e),SL(e),kL(t,e,n))},TL=(t,e,n)=>{e.popup.onclick=()=>{t&&(IL(t)||t.timer||t.input)||n(fc.close)}},IL=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let ff=!1;const xL=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(ff=!0)}}},SL=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(ff=!0)}}},kL=(t,e,n)=>{e.container.onclick=r=>{if(ff){ff=!1;return}r.target===e.container&&Zf(t.allowOutsideClick)&&n(fc.backdrop)}},RL=t=>typeof t=="object"&&t.jquery,DE=t=>t instanceof Element||RL(t),PL=t=>{const e={};return typeof t[0]=="object"&&!DE(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const i=t[r];typeof i=="string"||DE(i)?e[n]=i:i!==void 0&&Ma(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)}),e};function AL(...t){return new this(...t)}function NL(t){class e extends this{_main(r,i){return super._main(r,Object.assign({},t,i))}}return e}const DL=()=>Ue.timeout&&Ue.timeout.getTimerLeft(),HT=()=>{if(Ue.timeout)return BO(),Ue.timeout.stop()},qT=()=>{if(Ue.timeout){const t=Ue.timeout.start();return yw(t),t}},OL=()=>{const t=Ue.timeout;return t&&(t.running?HT():qT())},jL=t=>{if(Ue.timeout){const e=Ue.timeout.increase(t);return yw(e,!0),e}},LL=()=>!!(Ue.timeout&&Ue.timeout.isRunning());let OE=!1;const Vg={};function ML(t="data-swal-template"){Vg[t]=this,OE||(document.body.addEventListener("click",VL),OE=!0)}const VL=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Vg){const r=e.getAttribute(n);if(r){Vg[n].fire({template:r});return}}};class FL{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...i)=>{this.removeListener(e,r),n.apply(this,i)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(i){console.error(i)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),i=r.indexOf(n);i>-1&&r.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Ue.eventEmitter=new FL;const $L=(t,e)=>{Ue.eventEmitter.on(t,e)},UL=(t,e)=>{Ue.eventEmitter.once(t,e)},BL=(t,e)=>{if(!t){Ue.eventEmitter.reset();return}e?Ue.eventEmitter.removeListener(t,e):Ue.eventEmitter.removeAllListeners(t)};var zL=Object.freeze({__proto__:null,argsToParams:PL,bindClickHandler:ML,clickCancel:Pj,clickConfirm:wT,clickDeny:Rj,enableLoading:Wl,fire:AL,getActions:Wu,getCancelButton:dc,getCloseButton:fw,getConfirmButton:Ks,getContainer:sr,getDenyButton:Va,getFocusableElements:pw,getFooter:oT,getHtmlContainer:dw,getIcon:uc,getIconContent:jO,getImage:iT,getInputLabel:LO,getLoader:hc,getPopup:wt,getProgressSteps:hw,getTimerLeft:DL,getTimerProgressBar:tp,getTitle:sT,getValidationMessage:ep,increaseTimer:jL,isDeprecatedParameter:FT,isLoading:VO,isTimerRunning:LL,isUpdatableParameter:VT,isValidParameter:MT,isVisible:kj,mixin:NL,off:BL,on:$L,once:UL,resumeTimer:qT,showLoading:Wl,stopTimer:HT,toggleTimer:OL});class HL{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const WT=["swal-title","swal-html","swal-footer"],qL=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return ZL(n),Object.assign(WL(n),GL(n),KL(n),JL(n),QL(n),YL(n),XL(n,WT))},WL=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Ta(r,["name","value"]);const i=r.getAttribute("name"),a=r.getAttribute("value");!i||!a||(typeof Ol[i]=="boolean"?e[i]=a!=="false":typeof Ol[i]=="object"?e[i]=JSON.parse(a):e[i]=a)}),e},GL=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const i=r.getAttribute("name"),a=r.getAttribute("value");!i||!a||(e[i]=new Function(`return ${a}`)())}),e},KL=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Ta(r,["type","color","aria-label"]);const i=r.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=r.innerHTML,e[`show${lw(i)}Button`]=!0,r.hasAttribute("color")&&(e[`${i}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},JL=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ta(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},QL=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ta(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},YL=t=>{const e={},n=t.querySelector("swal-input");n&&(Ta(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(i=>{Ta(i,["value"]);const a=i.getAttribute("value");if(!a)return;const c=i.innerHTML;e.inputOptions[a]=c})),e},XL=(t,e)=>{const n={};for(const r in e){const i=e[r],a=t.querySelector(i);a&&(Ta(a,[]),n[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},ZL=t=>{const e=WT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||rr(`Unrecognized element <${r}>`)})},Ta=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&rr([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},GT=10,eM=t=>{const e=sr(),n=wt();typeof t.willOpen=="function"&&t.willOpen(n),Ue.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;rM(e,n,t),setTimeout(()=>{tM(e,n)},GT),mw()&&(nM(e,t.scrollbarPadding,i),Vj()),!np()&&!Ue.previousActiveElement&&(Ue.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Ue.eventEmitter.emit("didOpen",n),Xr(e,te["no-transition"])},pf=t=>{const e=wt();if(t.target!==e)return;const n=sr();e.removeEventListener("animationend",pf),e.removeEventListener("transitionend",pf),n.style.overflowY="auto"},tM=(t,e)=>{cT(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",pf),e.addEventListener("transitionend",pf)):t.style.overflowY="auto"},nM=(t,e,n)=>{Fj(),e&&n!=="hidden"&&Wj(n),setTimeout(()=>{t.scrollTop=0})},rM=(t,e,n)=>{_t(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),kn(e,"grid"),setTimeout(()=>{_t(e,n.showClass.popup),e.style.removeProperty("opacity")},GT)):kn(e,"grid"),_t([document.documentElement,document.body],te.shown),n.heightAuto&&n.backdrop&&!n.toast&&_t([document.documentElement,document.body],te["height-auto"])};var jE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function sM(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=jE.email),t.input==="url"&&(t.inputValidator=jE.url))}function iM(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(rr('Target parameter is not valid, defaulting to "body"'),t.target="body")}function oM(t){sM(t),t.showLoaderOnConfirm&&!t.preConfirm&&rr(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),iM(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),QO(t)}let Ms;var dh=new WeakMap;class nn{constructor(...e){if(SO(this,dh,void 0),typeof window>"u")return;Ms=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,kO(dh,this,this._main(Ms.params))}_main(e,n={}){if($T(Object.assign({},n,e)),Ue.currentInstance){const a=ql.swalPromiseResolve.get(Ue.currentInstance),{isAwaitingPromise:c}=Ue.currentInstance;Ue.currentInstance._destroy(),c||a({isDismissed:!0}),mw()&&ET()}Ue.currentInstance=Ms;const r=lM(e,n);oM(r),Object.freeze(r),Ue.timeout&&(Ue.timeout.stop(),delete Ue.timeout),clearTimeout(Ue.restoreFocusTimeout);const i=cM(Ms);return yT(Ms,r),Ot.innerParams.set(Ms,r),aM(Ms,i,r)}then(e){return IE(dh,this).then(e)}finally(e){return IE(dh,this).finally(e)}}const aM=(t,e,n)=>new Promise((r,i)=>{const a=c=>{t.close({isDismissed:!0,dismiss:c})};ql.swalPromiseResolve.set(t,r),ql.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{cL(t)},e.denyButton.onclick=()=>{uL(t)},e.cancelButton.onclick=()=>{dL(t,a)},e.closeButton.onclick=()=>{a(fc.close)},CL(n,e,a),Aj(Ue,n,a),eL(t,n),eM(n),uM(Ue,n,a),dM(e,n),setTimeout(()=>{e.container.scrollTop=0})}),lM=(t,e)=>{const n=qL(t),r=Object.assign({},Ol,e,n,t);return r.showClass=Object.assign({},Ol.showClass,r.showClass),r.hideClass=Object.assign({},Ol.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},cM=t=>{const e={popup:wt(),container:sr(),actions:Wu(),confirmButton:Ks(),denyButton:Va(),cancelButton:dc(),loader:hc(),closeButton:fw(),validationMessage:ep(),progressSteps:hw()};return Ot.domCache.set(t,e),e},uM=(t,e,n)=>{const r=tp();Jn(r),e.timer&&(t.timeout=new HL(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(kn(r),Dr(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&yw(e.timer)})))},dM=(t,e)=>{if(!e.toast){if(!Zf(e.allowEnterKey)){rT("allowEnterKey"),pM();return}hM(t)||fM(t,e)||Mg(-1,1)}},hM=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&yr(n))return n.focus(),!0;return!1},fM=(t,e)=>e.focusDeny&&yr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&yr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&yr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,pM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};nn.prototype.disableButtons=NT;nn.prototype.enableButtons=AT;nn.prototype.getInput=kT;nn.prototype.disableInput=OT;nn.prototype.enableInput=DT;nn.prototype.hideLoading=hf;nn.prototype.disableLoading=hf;nn.prototype.showValidationMessage=jT;nn.prototype.resetValidationMessage=LT;nn.prototype.close=wo;nn.prototype.closePopup=wo;nn.prototype.closeModal=wo;nn.prototype.closeToast=wo;nn.prototype.rejectPromise=TT;nn.prototype.update=UT;nn.prototype._destroy=BT;Object.assign(nn,zL);Object.keys(bL).forEach(t=>{nn[t]=function(...e){return Ms&&Ms[t]?Ms[t](...e):null}});nn.DismissReason=fc;nn.version="11.23.0";const Ne=nn;Ne.default=Ne;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Ia="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",Ct="/Fantasy-Casadillos/SinPerfil.jpg",mM="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",gM="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",yM="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",wM="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",Qc=es(Vn),eg=wr(Vn),vM=new Fs,_M=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(!1),[i,a]=C.useState(mM),c=rw();C.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async v=>{v.preventDefault();const E=new FormData(v.currentTarget),T=E.get("email"),A=E.get("password");if(n)try{const L=E.get("nick"),U=tn(eg,"usuarios"),O=$s(U,Ei("nick","==",L));if(!(await Qr(O)).empty){Ne.fire({icon:"error",title:"Nick en uso",text:"Ese nombre de usuario ya está ocupado. Elige otro."});return}const{user:V}=await bR(Qc,T,A);await Zb(Qc.currentUser,{displayName:L});const z={nick:L,correo:T,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await zl(Pe(eg,"usuarios",V.uid),z,{merge:!0})}catch(L){console.error("Error registrando usuario:",L);let U="No se pudo crear la cuenta. Revisa los datos.";L.code==="auth/email-already-in-use"?U="Ya existe una cuenta con este correo.":L.code==="auth/weak-password"?U="La contraseña debe tener al menos 6 caracteres.":L.code==="auth/invalid-email"?U="El correo electrónico no es válido.":U=`Error desconocido: ${L.code}`,Ne.fire({icon:"error",title:"Error",text:U})}else try{await CR(Qc,T,A),console.log("Inicio de sesión exitoso"),c("/home")}catch(L){console.error("Error iniciando sesión:",L);let U="Error al iniciar sesión.";(L.code==="auth/invalid-credential"||L.code==="auth/wrong-password"||L.code==="auth/user-not-found")&&(U="Correo o contraseña incorrectos."),Ne.fire({icon:"error",title:"Error al iniciar sesión",text:U})}},f=async()=>{const{value:v}=await Ne.fire({title:"Recuperar contraseña",input:"email",inputLabel:"Introduce tu correo electrónico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:E=>{if(!E)return"El correo es obligatorio"}});if(v)try{await Xb(Qc,v),Ne.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(E){Ne.fire("Error",E.message,"error")}},g=async()=>{try{const v=await JR(Qc,vM);if(!v?.user)throw new Error("No se obtuvo el usuario de Google.");const E=v.user,T=Pe(eg,"usuarios",E.uid);(await Tt(T)).exists()||await zl(T,{nick:E.displayName||"",correo:E.email,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(v){if(v.code==="auth/popup-closed-by-user"||v.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",v),Ne.fire({icon:"error",title:"Error",text:v.message||"No se pudo iniciar sesión con Google"})}};return m.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${Ia})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),m.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[m.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),m.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:m.jsx("label",{style:{cursor:"default",display:"inline-block"},children:m.jsx("img",{src:i,alt:"Foto de Logo",className:"estilo-profile"})})}),m.jsxs("form",{onSubmit:h,children:[m.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&m.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),m.jsxs("div",{className:"cajaContainerContraseña",children:[m.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contraseña",className:"cajacontraseña",required:!0}),m.jsx("img",{src:t?yM:wM,alt:"Mostrar contraseña",className:"toggle-password-icon",onClick:()=>e(v=>!v)})]}),!n&&m.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:m.jsx("button",{type:"button",onClick:f,className:"link-style",children:"¿Has olvidado la contraseña?"})}),n?m.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[m.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesión"}),m.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),m.jsxs("button",{type:"button",onClick:g,className:"btn-google",style:{width:"auto"},children:[m.jsx("img",{src:gM,alt:"Google"}),"Google"]})]})]}),m.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",m.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesión":"Regístrate"})]})]})]})},Fg={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebasestorage.googleapis.com",EM="storageBucket",bM=120*1e3,CM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Qs{constructor(e,n,r=0){super(tg(e),`Firebase Storage: ${n} (${tg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ys.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Js;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Js||(Js={}));function tg(t){return"storage/"+t}function TM(){const t="An unknown error occurred, please check the error payload for server response.";return new Ys(Js.UNKNOWN,t)}function IM(){return new Ys(Js.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xM(){return new Ys(Js.CANCELED,"User canceled the upload/download.")}function SM(t){return new Ys(Js.INVALID_URL,"Invalid URL '"+t+"'.")}function kM(t){return new Ys(Js.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function LE(t){return new Ys(Js.INVALID_ARGUMENT,t)}function JT(){return new Ys(Js.APP_DELETED,"The Firebase app was deleted.")}function RM(t){return new Ys(Js.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ps.makeFromUrl(e,n)}catch{return new ps(e,"")}if(r.path==="")return r;throw kM(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+i+c,"i"),f={bucket:1,path:3};function g(J){J.path_=decodeURIComponent(J.path)}const v="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",A=new RegExp(`^https?://${E}/${v}/b/${i}/o${T}`,"i"),L={bucket:1,path:3},U=n===KT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",W=new RegExp(`^https?://${U}/${i}/${O}`,"i"),z=[{regex:h,indices:f,postModify:a},{regex:A,indices:L,postModify:g},{regex:W,indices:{bucket:1,path:2},postModify:g}];for(let J=0;J<z.length;J++){const se=z[J],Q=se.regex.exec(e);if(Q){const x=Q[se.indices.bucket];let I=Q[se.indices.path];I||(I=""),r=new ps(x,I),se.postModify(r);break}}if(r==null)throw SM(e);return r}}class PM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e,n){let r=1,i=null,a=null,c=!1,h=0;function f(){return h===2}let g=!1;function v(...O){g||(g=!0,e.apply(null,O))}function E(O){i=setTimeout(()=>{i=null,t(A,f())},O)}function T(){a&&clearTimeout(a)}function A(O,...W){if(g){T();return}if(O){T(),v.call(null,O,...W);return}if(f()||c){T(),v.call(null,O,...W);return}r<64&&(r*=2);let z;h===1?(h=2,z=0):z=(r+Math.random())*1e3,E(z)}let L=!1;function U(O){L||(L=!0,T(),!g&&(i!==null?(O||(h=2),clearTimeout(i),E(0)):O||(h=1)))}return E(0),a=setTimeout(()=>{c=!0,U(!0)},n),U}function NM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){return t!==void 0}function ME(t,e,n,r){if(r<e)throw LE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw LE(`Invalid value for '${t}'. Expected ${n} or less.`)}function OM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var mf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mf||(mf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n,r,i,a,c,h,f,g,v,E,T=!0,A=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=E,this.retry=T,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,U)=>{this.resolve_=L,this.reject_=U,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new hh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const f=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,g)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===mf.NO_ERROR,f=a.getStatus();if(!h||jM(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===mf.ABORT;r(!1,new hh(!1,null,v));return}const g=this.successCodes_.indexOf(f)!==-1;r(!0,new hh(g,a))})},n=(r,i)=>{const a=this.resolve_,c=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());DM(f)?a(f):a()}catch(f){c(f)}else if(h!==null){const f=TM();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(i.canceled){const f=this.appDelete_?JT():xM();c(f)}else{const f=IM();c(f)}};this.canceled_?n(!1,new hh(!1,null,!0)):this.backoffId_=AM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function MM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function VM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $M(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function UM(t,e,n,r,i,a,c=!0,h=!1){const f=OM(t.urlParams),g=t.url+f,v=Object.assign({},t.headers);return FM(v,e),MM(v,n),VM(v,a),$M(v,r),new LM(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this._service=e,n instanceof ps?this._location=n:this._location=ps.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gf(e,n)}get root(){const e=new ps(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zM(this._location.path)}get storage(){return this._service}get parent(){const e=BM(this._location.path);if(e===null)return null;const n=new ps(this._location.bucket,e);return new gf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw RM(e)}}function VE(t,e){const n=e?.[EM];return n==null?null:ps.makeFromBucketSpec(n,t)}function HM(t,e,n,r={}){t.host=`${e}:${n}`;const i=ka(e);i&&(Qg(`https://${t.host}/b`),Yg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:bb(a,t.app.options.projectId))}class qM{constructor(e,n,r,i,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=KT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bM,this._maxUploadRetryTime=CM,this._requests=new Set,i!=null?this._bucket=ps.makeFromBucketSpec(i,this._host):this._bucket=VE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ps.makeFromBucketSpec(this._url,e):this._bucket=VE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ME("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ME("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gf(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new PM(JT());{const c=UM(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const FE="@firebase/storage",$E="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="storage";function Qu(t=ey(),e){t=At(t);const r=Tf(t,QT).getImmediate({identifier:e}),i=vb("storage");return i&&WM(r,...i),r}function WM(t,e,n,r={}){HM(t,e,n,r)}function GM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new qM(n,r,i,e,Ra)}function KM(){ya(new Io(QT,GM,"PUBLIC").setMultipleInstances(!0)),Us(FE,$E,""),Us(FE,$E,"esm2020")}KM();function Gl({usuario:t,openModal:e,setOpenModal:n}){const r=es(),i=wr();Qu();const a=t?.fotoPerfil||Ct,[c,h]=C.useState(!1),[f,g]=C.useState(!1),[v,E]=C.useState(a),[T,A]=C.useState(null),[L,U]=C.useState(t.nick),[O,W]=C.useState(t.correo),[V,z]=C.useState(""),[J,se]=C.useState(!1),[Q,x]=C.useState(""),[I,k]=C.useState(""),P=C.useRef();C.useEffect(()=>{e&&(E(t.fotoPerfil),A(null),U(t.nick),W(t.correo),z(""),x(t.nick),k(t.correo))},[e,t]),C.useEffect(()=>{const ee=L!==Q||O!==I||V.length>0||T!==null;g(ee)},[L,O,V,T,Q,I]);const D=async()=>{const ee=r.currentUser?.email;if(!ee){Ne.fire("Error","No se encontró un correo asociado al usuario","error");return}try{await Xb(r,ee),await Ne.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(ie){Ne.fire("Error",ie.message,"error")}},F=ee=>ee.toLocaleString("es-ES")+"€",R=ee=>{ee.target===P.current&&n(!1)},ze=ee=>{const ie=ee.target.files[0];if(!ie)return;A(ie);const ne=new FileReader;ne.onloadend=()=>E(ne.result),ne.readAsDataURL(ie)},Ee=async()=>{try{se(!0);const ee=r.currentUser;let ie=t.fotoPerfil;if(T){if(T.size>1*1024*1024){await Ne.fire({icon:"error",title:"Error",text:"La imagen es demasiado grande (máx. 1 MB)."});return}const M=new FormData;M.append("file",T),M.append("upload_preset","perfil_preset");const _e=await(await fetch("https://api.cloudinary.com/v1_1/drmoefeeq/image/upload",{method:"POST",body:M})).json();if(_e.secure_url)ie=_e.secure_url;else{Ne.fire({icon:"error",title:"Error",text:"Error subiendo a Cloudinary"});return}}L!==t.nick&&await Zb(ee,{displayName:L}),V&&await IR(ee,V);const ne=Pe(i,"usuarios",ee.uid);await xt(ne,{fotoPerfil:ie,nick:L}),await Ne.fire("Datos actualizados","Se han guardado sus modificaciones correctamente.","success")}catch(ee){console.error("Error guardando perfil:",ee),alert("No se pudo guardar los cambios: "+ee.message)}finally{se(!1),window.location.reload()}},He=async()=>{const ee=r.currentUser;if(!ee)throw new Error("No hay usuario autenticado.");const ie=ee.uid;if(ee.providerData[0].providerId==="password"){const{value:ce}=await Ne.fire({title:"Confirma tu contraseña",input:"password",inputLabel:"Introduce tu contraseña para continuar",inputPlaceholder:"Tu contraseña",inputAttributes:{autocapitalize:"off",autocorrect:"off"},showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"});if(!ce)throw new Error("Se canceló la reautenticación");const _e=Pa.credential(ee.email,ce);await ER(ee,_e)}else if(ee.providerData[0].providerId==="google.com"){const ce=new Fs;await QR(ee,ce)}else throw new Error("Proveedor no soportado para reautenticación.");const ne=$s(tn(i,"jugadores"),Ei("dueños","array-contains",ie)),G=(await Qr(ne)).docs.map(async ce=>{const _e=ce.ref;await xt(_e,{stockLibre:Hl(1),dueños:Ca(ie)})});await Promise.all(G);const ae=Pe(i,"usuarios",ie);await Xy(ae),await RR(ee)},Be=async()=>{if((await Ne.fire({title:"¿Estás seguro?",text:"Esta acción eliminará tu cuenta permanentemente. No podrás deshacerlo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, borrar cuenta",cancelButtonText:"Cancelar"})).isConfirmed)try{se(!0),await He(),await Ne.fire("Cuenta eliminada","Tu cuenta ha sido borrada exitosamente.","success")}catch(ie){console.error("Error al borrar la cuenta:",ie),Ne.fire("Error","No se pudo borrar la cuenta: "+ie.message,"error")}finally{se(!1)}};return e?m.jsx("div",{className:"modal-overlay",ref:P,onClick:R,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsxs("label",{className:"modal-avatar",children:[m.jsx("img",{src:v,alt:"Perfil"}),m.jsx("input",{type:"file",accept:"image/*",onChange:ze}),m.jsx("span",{className:"modal-avatar-overlay",children:"Editar"})]}),m.jsxs("div",{className:"modal-userinfo",children:[m.jsx("h2",{children:t.nick}),m.jsx("small",{children:t.correo}),m.jsxs("small",{children:["Dinero: ",m.jsx("span",{className:"dinero-verde",children:F(t.dinero)})]}),m.jsx("div",{className:"ultimas-jornadas",children:t.puntuaciones&&t.puntuaciones.length>0?t.puntuaciones.slice(-5).map((ee,ie,ne)=>{const M=ee??"-",G=ne.length<5?ie+1:t.puntuaciones.length-5+ie+1;let ae="";return typeof ee=="number"&&(ee>=36?ae="verde":ee<28?ae="rojo":ae="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",G]}),m.jsx("div",{className:`jornada-cuadro ${ae}`,children:M})]},ie)}):[...Array(5)].map((ee,ie)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",ie+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},ie))})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-body",children:[m.jsxs("div",{className:"field-group",children:[m.jsxs("label",{children:["Nick ",m.jsx("small",{children:"(Recomendado máximo 12 caracteres)"})]}),m.jsxs("div",{className:"field-with-icon",children:[m.jsx("input",{type:"text",value:L,onChange:ee=>U(ee.target.value),disabled:!c}),m.jsx("button",{className:"icon-pencil",onClick:()=>h(!c),title:"Editar nick",children:"✎"})]})]}),m.jsx("div",{style:{textAlign:"left"},children:m.jsx("button",{type:"button",onClick:D,className:"link-style",children:"Cambiar contraseña"})})]}),m.jsxs("div",{className:"modal-footer",children:[f&&m.jsx("button",{className:"modal-save-btn",onClick:Ee,disabled:J,children:J?"Guardando…":"Guardar cambios"}),m.jsx("button",{className:"modal-delete-btn",onClick:Be,disabled:J,children:"Borrar cuenta"})]})]})}):null}function JM({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,user:i,edicionActiva:a}){const c=es(),h=wr(Vn);Qu();const f=t?.foto||Ct,[g,v]=C.useState(null),E=c.currentUser,[T,A]=C.useState(!1);C.useEffect(()=>{const Q=async()=>{try{const x=Pe(h,"mercadoUsuarios","actual"),I=await Tt(x);if(!I.exists()){A(!1);return}const D=(I.data().jugadores||[]).some(F=>F.jugadorId===t.id);A(D)}catch(x){console.error("Error al comprobar venta:",x),A(!1)}};t?.id&&Q()},[t]);const L=async()=>{if(!t||!i)return;if(!a){await Ne.fire({icon:"error",title:"Jornada Empezada",text:"No se puede vender con la jornada empezada.",confirmButtonText:"Ok"});return}const Q=Math.round(t.precio*.6),x=Pe(h,"usuarios",i.uid),I=Pe(h,"jugadores",t.id);try{await xt(x,{dinero:Hl(Q)}),await xt(I,{stockLibre:Hl(1),dueños:Ca(i.uid)});const k=await Tt(x);if(k.exists()){const P=k.data(),D=P.equipo.titulares.map(R=>R.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:R),F=P.equipo.banquillo.map(R=>R.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:R);await xt(x,{"equipo.titulares":D,"equipo.banquillo":F})}await rf(tn(h,"historial"),{tipo:"venta directa",vendedorUid:E.uid,vendedorNick:i.nick,jugadorId:t.id,jugadorNombre:t.nombre,precio:Q,fecha:new Date}),await Ne.fire({icon:"success",title:"¡Jugador vendido!",html:`Has recibido <strong>${Q.toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"}),window.location.reload()}catch(k){console.error("Error en la venta:",k),await Ne.fire({icon:"error",title:"Error",text:"No se pudo completar la venta.",confirmButtonText:"Ok"})}},U=async(Q,x)=>{try{const I=c.currentUser;if(!I)throw new Error("Usuario no autenticado");const k=Pe(h,"usuarios",I.uid),D=(await Tt(k)).data();if(!D)throw new Error("No se encontró el usuario en Firestore");const F={jugadorId:Q.id,precioVenta:x,vendedorUid:I.uid,vendedorNick:D.nick,fecha:new Date().toISOString()},R=Pe(h,"mercadoUsuarios","actual");await zl(R,{jugadores:Qf(F),ultimaActualizacion:Jf()},{merge:!0}),await Ne.fire({icon:"success",title:"¡Jugador puesto en venta!",confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"})}catch(I){console.error("Error al poner en mercado:",I)}},O=()=>{const Q=Math.round(t.precio*.6);Ne.fire({title:"¿Cómo quieres vender?",showDenyButton:!0,confirmButtonText:"💰 Poner en el Mercado",denyButtonText:`Venta Directa
(<span style="color:#2ecc71">+${Q.toLocaleString("es-ES")}€</span>)`,confirmButtonColor:"#28a745",denyButtonColor:"#4878a4ff",background:"#1e1e1e",scrollbarPadding:!1,color:"#fff"}).then(async x=>{if(x.isConfirmed){const{value:I}=await Ne.fire({title:"Introduce el precio de venta",input:"number",inputLabel:"Precio en €",inputPlaceholder:"Ej: 5.000.000",confirmButtonText:"Poner en venta",cancelButtonText:"Cancelar",showCancelButton:!0,background:"#1e1e1e",scrollbarPadding:!1,color:"#fff",inputValidator:k=>{if(!k||k<=0)return"Debes introducir un precio válido";if(k<t.precio)return"Debes introducir un precio que sea mínimo superior al valor de mercado"}});I&&(console.log("Venta en mercado por",I),U(t,parseInt(I,10)))}else x.isDenied&&(console.log("Venta directa por",Q),L())})},W=Q=>{switch(Q){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return Q||"Sin posición"}},V=C.useRef();C.useEffect(()=>{(async()=>{if(!i)return;const x=Pe(h,"usuarios",i.uid),I=await Tt(x);if(I.exists()){const k=I.data();v(k.equipo?.capitan||null)}})()},[i,h,n]);const z=async Q=>{try{const x=Pe(h,"usuarios",i.uid);await xt(x,{"equipo.capitan":Q}),v(Q),await Ne.fire({icon:"success",title:"¡Capitán asignado!",text:`${t.nombre} ahora es tu capitán.`,confirmButtonColor:"#28a745"})}catch(x){console.error("Error al asignar capitán:",x),Ne.fire({icon:"error",title:"Error",text:"No se pudo asignar el capitán, inténtalo de nuevo."})}finally{window.location.reload()}},J=Q=>{Q.target===V.current&&r(!1)},se=Q=>Q.toLocaleString("es-ES")+"€";return n?m.jsx("div",{className:"modal-overlay",ref:V,onClick:J,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:f,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:W(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",se(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const Q=t.historialPrecios||[];if(Q.length===0)return m.jsx("small",{children:"(±0€)"});const x=Q[Q.length-1].precio||0,I=t.precio-x,k=I>0?"+":I<0?"-":"±";return m.jsxs("small",{className:I>0?"subida":I<0?"bajada":"igual",children:["(",k,se(Math.abs(I)),")"]})})()})]}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",se(e)]})}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Media de puntos:"})," ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(Q=>typeof Q=="number").reduce((Q,x,I,k)=>Q+x/k.length,0).toFixed(2):"-"]})})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((Q,x,I)=>{const k=Q??"-",P=I.length<5?x+1:t.puntosPorJornada.length-5+x+1;let D="";return typeof Q=="number"&&(Q>=9?D="verde":Q<7?D="rojo":D="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",P]}),m.jsx("div",{className:`jornada-cuadro ${D}`,children:k})]},x)}):[...Array(5)].map((Q,x)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",x+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},x))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoración"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:a?m.jsxs(m.Fragment,{children:[T?m.jsx("button",{className:"btn-accion",disabled:!0,children:"Ya está en venta"}):m.jsx("button",{className:"btn-accion",onClick:()=>O(),children:"Vender"}),m.jsx("button",{className:"btn-capitan",disabled:g===t.id,onClick:()=>z(t.id),children:g===t.id?"Ya es capitán":"Nombrar capitán"})]}):m.jsx("button",{className:"btn-accion",disabled:!0,children:"🔒 Jornada empezada"})})]})}):null}const cn=wr(Vn),QM=async()=>{try{const t=Pe(cn,"mercado","actual"),e=await Tt(t);if(!e.exists())return;let n=e.data().jugadores||[];if(n.length===0)return;let r=0;for(const{idJugador:i,nombre:a}of[...n]){const c=await Qr($s(tn(cn,"ofertas"),Ei("jugadorId","==",i)));if(c.empty)continue;const h=c.docs.map(g=>{const v=g.data(),E=Number(v.oferta??v.precioOferta??v.precio??0)||0;return{id:g.id,ref:g.ref,data:v,monto:E}}).sort((g,v)=>v.monto-g.monto);if(h.length===0)continue;const f=h[0];for(const g of h)await Zy(cn,async v=>{const E=Pe(cn,"jugadores",i),T=await v.get(E);if(!T.exists())throw new Error("JUGADOR_NO_EXISTE");const A=T.data()||{},L=g.data.compradorUid;if(!L)throw new Error("OFERTA_SIN_COMPRADOR");const U=Pe(cn,"usuarios",L),O=await v.get(U);if(!O.exists())throw new Error("COMPRADOR_NO_EXISTE");const W=O.data()||{},V=Number(W.dinero??0);if(L!==f.compradorUid)v.update(U,{dinero:V+g.monto});else{const z=W.equipo||{},J=Array.isArray(z.titulares)?[...z.titulares]:[],se=Array.isArray(z.banquillo)?[...z.banquillo]:[],Q=Ee=>{if(Ee==null)return!0;if(typeof Ee!="object")return!1;const He=Ee.jugadorId;return He==null||He===""||He===void 0||He==="null"||He==="undefined"};let x=!1,I=null,k=-1;for(let Ee=0;Ee<J.length;Ee++)if(Q(J[Ee])){I="titulares",k=Ee,x=!0;break}if(!x){for(let Ee=0;Ee<se.length;Ee++)if(Q(se[Ee])){I="banquillo",k=Ee,x=!0;break}}if(!x)throw new Error("NO_SLOT");const P={jugadorId:i,clausulaPersonal:A.precioClausula};I==="titulares"?J[k]=P:se[k]=P,v.update(U,{"equipo.titulares":J,"equipo.banquillo":se});const F=(Array.isArray(A.dueños)?[...A.dueños]:[]).filter(Ee=>Ee!=="mercado");F.includes(L)||F.push(L),v.update(E,{dueños:F});const R=Pe(tn(cn,"historial")),ze=g.data.comprador??W.nick??W.displayName??L;v.set(R,{jugadorId:i,jugadorNombre:a??A.nombre??"",comprador:ze,compradorUid:L,vendedorUid:g.data.vendedorUid??"system",vendedorNick:g.data.vendedorNick??"Fantasy Casadillos",precio:g.monto,fecha:Jf(),tipo:"venta_mercado"})}v.delete(Pe(cn,"ofertas",g.id))});n=n.filter(g=>g.idJugador!==i);try{await xt(t,{jugadores:n})}catch{}r++}return console.log(`🎯 Ofertas adjudicadas con éxito: ${r}`),{adjudicadas:r}}catch(t){throw console.error("❌ Error adjudicando ofertas pendientes:",t),t}},YM=async()=>{try{const t=Pe(cn,"mercado","actual"),e=await Tt(t),n=e.exists()?e.data().jugadores||[]:[],r=Array.from(new Set(n.map(f=>f&&f.idJugador).filter(Boolean)));if(r.length===0)return console.log("ℹ️ No había jugadores previos en mercado/actual.jugadores"),{procesados:0,reparados:0,noExistentes:0,sinMercado:0};let i=0,a=0,c=0,h=0;console.log(`↩️ Devolviendo ${r.length} jugadores al stock (si procede)...`);for(const f of r){const g=Pe(cn,"jugadores",f);await Zy(cn,async v=>{const E=await v.get(g);if(h++,!E.exists()){console.warn(`⚠️ Jugador ${f} no existe (se omite).`),a++;return}const T=E.data()||{};if(!(Array.isArray(T.dueños)?T.dueños:[]).includes("mercado")){console.log(`ℹ️ ${f} no tenía 'mercado' en dueños — sin cambios.`),c++;return}v.update(g,{stockLibre:Hl(1),dueños:Ca("mercado")}),i++,console.log(`✅ ${f}: stockLibre +1 y 'mercado' eliminado de dueños.`)})}return console.log("✅ Procesado completo de devolverJugadoresPrevioAlMercado"),{procesados:h,reparados:i,noExistentes:a,sinMercado:c}}catch(t){throw console.error("❌ Error en devolverJugadoresPrevioAlMercado:",t),t}},XM=async()=>{const t=Pe(cn,"mercado","actual"),r=(await Qr(tn(cn,"jugadores"))).docs.map(c=>({idJugador:c.id,...c.data()})).filter(c=>(c.stockLibre??0)>0&&!(c.dueños||[]).includes("mercado"));for(let c=r.length-1;c>0;c--){const h=Math.floor(Math.random()*(c+1));[r[c],r[h]]=[r[h],r[c]]}const i=r.slice(0,15);console.log(`🆕 Seleccionados ${i.length} jugadores para el nuevo mercado.`);const a=XN(cn);for(const c of i){const h=Pe(cn,"jugadores",c.idJugador);a.update(h,{stockLibre:Hl(-1),dueños:Qf("mercado")})}a.set(t,{jugadores:i.map(c=>({idJugador:c.idJugador,nombre:c.nombre||""})),ultimaActualizacion:Jf()}),await a.commit(),console.log("✅ Mercado actualizado correctamente.")},YT=async()=>{try{return console.log("🔁 Iniciando proceso completo de refresco de mercado..."),await QM(),await YM(),await XM(),console.log("🎉 Refresco de mercado completado con éxito."),!0}catch(t){throw console.error("❌ Error durante el refresco de mercado:",t),t}},ZM=async()=>{try{const t=Pe(cn,"mercado","actual"),e=await Tt(t);if(!e.exists())return console.warn("El documento mercado/actual no existía, se ha creado vacío."),await zl(t,{jugadores:[],ultimaActualizacion:null}),!0;const n=e.data();for(const a of n.jugadores||[])if(a.vendedor==="Fantasy Casadillos"){const c=Pe(cn,"jugadores",a.idJugador);await xt(c,{stockLibre:Hl(a.stock||1),dueños:Ca("mercado")})}const r=tn(cn,"mercado/actual/usuarios"),i=await Qr(r);for(const a of i.docs)await Xy(a.ref);return await xt(t,{jugadores:[],ultimaActualizacion:null}),console.log("✅ Mercado reseteado correctamente"),!0}catch(t){throw console.error("Error al resetear mercado:",t),t}},eV=async()=>{const t=Pe(cn,"mercadoUsuarios","actual"),e=await Tt(t);if(!e.exists())return;const{jugadores:n=[]}=e.data();for(const r of n){const i=Pe(cn,"jugadores",r.jugadorId),a=await Tt(i);if(!a.exists())continue;const h=a.data().precio,f=Math.random()<.5?-1:1,g=.1*h,v=Math.floor(h+f*(Math.random()*g));await rf(tn(cn,"ofertas"),{jugadorId:r.jugadorId,vendedorUid:r.vendedorUid,vendedorNick:r.vendedorNick,precioVenta:r.precioVenta,oferta:v,comprador:"Fantasy Casadillos",compradorUid:"system",fecha:new Date})}};function Kl({user:t,openModal:e,setOpenModal:n}){es();const r=wr();Qu();const i=C.useRef(),[a,c]=C.useState(!1),[h,f]=C.useState(!1),g=v=>{v.target===i.current&&n(!1)};return e?m.jsx("div",{className:"modal-overlay",ref:i,onClick:g,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),m.jsxs("div",{className:"modal-footer-grid",children:[m.jsx("button",{type:"button",className:"modal-admin-btn",disabled:a,onClick:async()=>{c(!0);try{await YT(),(await Ne.fire({title:"Mercado actualizado",text:"Se ha refrescado el mercado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch(v){console.error(v),await Ne.fire({title:"Error",text:"No se pudo actualizar el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{c(!1)}},children:a?"⏳ Cargando...":"🔄 Actualizar mercado"}),m.jsx("button",{type:"button",className:"modal-admin-btn",disabled:h,onClick:async()=>{f(!0);try{await ZM(),(await Ne.fire({title:"Éxito",text:"El mercado se ha reseteado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch{await Ne.fire({title:"Error",text:"No se pudo resetear el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{f(!1)}},children:h?"⏳ Reseteando...":"♻️ Resetear mercado"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Pe(r,"admin","controles");await xt(v,{edicionActiva:!1}),await Ne.fire({title:"Jornada iniciada",text:"Se han bloqueado los cambios de formaciones y mercado",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al empezar jornada:",v),await Ne.fire({title:"Error",text:"No se pudo empezar la jornada",icon:"error",confirmButtonText:"Aceptar"})}},children:"⏱️ Empezar jornada"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Pe(r,"admin","controles");await xt(v,{edicionActiva:!0}),await xt(v,{clausulaPermitida:!0}),await Ne.fire({title:"Jornada finalizada",text:"Se han repartido los puntos y desbloqueado la edición",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al finalizar la jornada:",v),await Ne.fire({title:"Error",text:"No se pudo acabar la jornada",icon:"error",confirmButtonText:"Aceptar"})}},children:"📊 Repartir puntos"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Pe(r,"admin","controles");await xt(v,{clausulaPermitida:!0}),await Ne.fire({title:"Cláusulas activadas",text:"Los jugadores pueden ser comprados por cláusula",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al activar cláusulas:",v),await Ne.fire({title:"Error",text:"No se pudo activar la cláusula",icon:"error",confirmButtonText:"Aceptar"})}},children:"📝 Activar cláusulas"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Pe(r,"admin","controles");await xt(v,{clausulaPermitida:!1}),await Ne.fire({title:"Cláusulas desactivadas",text:"Las cláusulas de rescisión han sido bloqueadas",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al desactivar cláusulas:",v),await Ne.fire({title:"Error",text:"No se pudo desactivar la cláusula",icon:"error",confirmButtonText:"Aceptar"})}},children:"🚫 Bloquear cláusulas"})]})]})}):null}const oo=wr(Vn),UE=es(Vn),tV={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function BE(t,e,n){let r="white",i=null;if(!t)return{style:{borderColor:r},status:i};const a=tV[n]?.[e];if(!a)return{style:{borderColor:r},status:i};const c=t.posicion;return c==="POR"?r=a==="POR"?"green":"red":c==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":c==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":c==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),i=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:i}}function nV({usuario:t}){const[e,n]=C.useState(!1),[r,i]=C.useState(null),[a,c]=C.useState(!1),h=t?.fotoPerfil||Ct,f=t?.equipo?.titulares||[],g=t?.equipo?.banquillo||[],[v,E]=C.useState(f),[T,A]=C.useState(g),[L,U]=C.useState([]),[O,W]=C.useState(null),V=t?.equipo?.capitan||"",z=Object.keys(Fg),[J,se]=C.useState(t?.equipo?.formacion||"2-1-1"),[Q,x]=C.useState(J),[I,k]=C.useState(!1),[P,D]=C.useState(!1),[F,R]=C.useState(t?.equipocreado),[ze,Ee]=C.useState(!1),[He,Be]=C.useState(!1),[ee,ie]=C.useState(!1),[ne,M]=C.useState(!1),G=C.useRef(null),ae=()=>Au(UE),[ce,_e]=C.useState(!1),[ke,Je]=C.useState(null),[We,Xe]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const he=Pe(oo,"admin","controles"),Le=await Tt(he);if(Le.exists()){const be=Le.data();Xe(be.edicionActiva===!0)}}catch(he){console.error("Error al obtener estado de edición:",he)}})()},[]);const Et=()=>{_e(!ce),Je(null)},Y=(me,he,Le)=>{if(ce)if(Le==="titulares"?[...v]:[...T],!ke)Je({jugadorId:me,index:he,tipo:Le});else{const{index:be,tipo:Ze}=ke,St=Ze==="titulares"?v[be]:T[be],tt=Le==="titulares"?v[he]:T[he];if(St===null&&tt===null){Je(null);return}if(Ze==="titulares"&&Le==="titulares"){const ot=[...v];[ot[be],ot[he]]=[ot[he],ot[be]],E(ot)}else if(Ze==="banquillo"&&Le==="banquillo"){const ot=[...T];[ot[be],ot[he]]=[ot[he],ot[be]],A(ot)}else{const ot=[...v],at=[...T];Ze==="titulares"?[ot[be],at[he]]=[at[he],ot[be]]:[at[be],ot[he]]=[ot[he],at[be]],E(ot),A(at)}D(!0),Je(null)}};C.useEffect(()=>{const me=he=>{G.current&&!G.current.contains(he.target)&&M(!1)};return document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[]);const Te=me=>{x(me.target.value)},ve=async()=>{try{k(!0);const me=Pe(oo,"usuarios",t.uid);await xt(me,{"equipo.formacion":Q,"equipo.titulares":v,"equipo.banquillo":T}),se(Q),D(!1)}catch(me){console.error("Error al guardar formación:",me)}finally{k(!1),_e(!1)}},De=()=>{c(!a)},ye=me=>me.toLocaleString("es-ES")+"€",xe=async()=>{try{k(!0);const me=await Qr(tn(oo,"jugadores"));let he=[];if(me.forEach(at=>{const lt=at.data();lt.stockLibre>0&&he.push({id:at.id,...lt})}),he.length<4){await Ne.fire({icon:"warning",title:"No hay suficientes jugadores disponibles",text:"Se necesitan al menos 4 jugadores con stock para crear un equipo.",confirmButtonText:"Entendido"}),k(!1);return}const Le=he.filter(at=>at.precio>15e6&&at.precio<=4e7),be=he.filter(at=>at.precio<=15e6);let Ze=[],St=0;if(Le.length>=1&&be.length>=3){const at=Math.floor(Math.random()*Le.length);Ze.push(Le[at]);for(let lt=0;lt<3;lt++){const kt=Math.floor(Math.random()*be.length);Ze.push(be[kt]),be.splice(kt,1)}}else{const at=he.filter(lt=>lt.precio<=4e7);if(at.length<4){await Ne.fire({icon:"error",title:"No hay jugadores válidos",text:"No hay suficiente stock para crear un equipo bajo las condiciones establecidas.",confirmButtonText:"Ok"}),k(!1);return}for(let lt=0;lt<4;lt++){const kt=Math.floor(Math.random()*at.length);Ze.push(at[kt]),at.splice(kt,1)}Ze.every(lt=>lt.precio<15e6)&&(St=1e7)}const tt=Ze.map(async at=>{const lt=Pe(oo,"jugadores",at.id);return xt(lt,{stockLibre:at.stockLibre-1,dueños:Qf(t.uid)})});await Promise.all(tt);const ot=Pe(oo,"usuarios",t.uid);await xt(ot,{"equipo.titulares":Ze.map(at=>({jugadorId:at.id,clausulaPersonal:at.precioClausula})),"equipo.banquillo":[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],equipocreado:!0,...St>0&&{dinero:increment(St)}}),R(!0)}catch(me){console.error("Error al crear equipo:",me),await Ne.fire({icon:"error",title:"Error al crear el equipo",text:"Inténtalo de nuevo más tarde."})}finally{k(!1),window.location.reload()}};return C.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const he=setTimeout(async()=>{try{const Le=Pe(oo,"usuarios",UE.currentUser.uid);await xt(Le,{onboarding:!0}),window.location.reload()}catch(Le){console.error("Error actualizando onboarding:",Le)}},500);return()=>clearTimeout(he)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const he=Pe(oo,"usuarios",t.uid);Tt(he).then(Le=>{Le.exists()&&i(Le.data().dinero)})}(async()=>{const he=[...f?.map(tt=>tt?.jugadorId)||[],...g?.map(tt=>tt?.jugadorId)||[]].filter(Boolean);if(he.length===0)return;const Le=tn(oo,"jugadores"),be=[];for(let tt=0;tt<he.length;tt+=10){const ot=he.slice(tt,tt+10),at=$s(Le,Ei("__name__","in",ot));be.push(Qr(at))}const St=(await Promise.all(be)).flatMap(tt=>tt.docs.map(ot=>({id:ot.id,...ot.data()})));U(St)})()},[t],[f,g]),F?m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:me=>{me.currentTarget.onerror=null,me.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>M(!ne),onMouseEnter:()=>M(!0)}),ne&&m.jsxs("div",{className:"perfil-bocadillo",ref:G,onMouseLeave:()=>M(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{Ee(!0),M(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:ae,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{ie(!0),M(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:ye(r)})]})]})]}),m.jsx("button",{onClick:De,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ia})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),ze&&m.jsx(Gl,{usuario:t,openModal:ze,setOpenModal:Ee}),ee&&m.jsx(Kl,{usuario:t,openModal:ee,setOpenModal:ie}),He&&O&&m.jsx(JM,{jugador:O,clausulaPersonal:t?.equipo?.titulares?.find(me=>me.jugadorId===O.id)?.clausulaPersonal??t?.equipo?.banquillo?.find(me=>me.jugadorId===O.id)?.clausulaPersonal,openModal:He,setOpenModal:Be,user:t,edicionActiva:We}),m.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[m.jsxs("div",{className:"formacion-selector",children:[m.jsx("label",{htmlFor:"formacion-select",children:"Formación:"}),m.jsx("select",{id:"formacion-select",value:Q,onChange:Te,disabled:!We,children:z.map(me=>m.jsx("option",{value:me,children:me},me))}),(Q!==J||P)&&m.jsx("button",{onClick:ve,disabled:I,children:I?"Guardando...":"Guardar"})]}),m.jsx("div",{className:"modo-edicion-buttons",children:m.jsx("button",{onClick:Et,disabled:!We,children:We?ce?"Desactivar modo edición":"Activar modo edición":"🔒 Jornada Empezada"})}),m.jsx("div",{className:"campo",children:Fg[Q]?.map((me,he)=>{const Le=v[he],be=Le?.jugadorId||null;Le?.clausulaPersonal;const Ze=L.find(tt=>tt.id===be),St=ke?.index===he&&ke?.tipo==="titulares";return m.jsxs("div",{className:`jugador ${ce?"modo-edicion":""} ${St?"seleccionado":""}`,style:{position:"absolute",top:me.top,left:me.left,transform:"translate(-50%, -50%)"},onClick:()=>{ce?Y(Ze?.id||null,he,"titulares"):Ze&&(Be(!0),W(Ze))},children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:Ze?.foto||Ct,alt:Ze?.nombre||"Vacío",className:"jugador-img",style:BE(Ze,he,Q).style}),(()=>{const{status:tt}=BE(Ze,he,Q);if(!tt)return null;if(tt==="green")return m.jsx("div",{className:"status-badge green",children:"✓"});if(tt==="orange")return m.jsx("div",{className:"status-badge orange",children:"!"});if(tt==="red")return m.jsx("div",{className:"status-badge red",children:"✕"})})(),V===Ze?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!Ze?.puntosPorJornada?.length)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const tt=Ze.puntosPorJornada[Ze.puntosPorJornada.length-1];if(tt==null)return null;let ot=tt==="-"?"gray":tt<7?"red":tt<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${ot}`,children:tt})})()]}),m.jsx("p",{className:"jugador-nombre",children:Ze?.nombre||"Vacío"})]},Ze?.id||he)})}),m.jsxs("div",{className:"banquillo-section",children:[m.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),m.jsx("div",{className:"banquillo-container",children:T.map((me,he)=>{const Le=me?.jugadorId||null,be=L.find(St=>St.id===Le),Ze=ke?.index===he&&ke?.tipo==="banquillo";return m.jsx("div",{className:`banquillo-slot ${ce?"modo-edicion":""} ${Ze?"seleccionado":""}`,onClick:()=>{ce?Y(be?.id||null,he,"banquillo"):be&&(Be(!0),W(be))},children:be?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:be?.foto||Ct,alt:be?.nombre||"Vacío",className:"jugador-img"}),V===be?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!be?.puntosPorJornada?.length)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const St=be.puntosPorJornada[be.puntosPorJornada.length-1];if(St==null)return null;let tt=St==="-"?"gray":St<7?"red":St<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${tt}`,children:St})})()]}),m.jsx("p",{className:"jugador-nombre-banquillo",children:be?.nombre})]}):m.jsx(vt,{to:ce?"#":"/mercado",className:`banquillo-add ${ce?"disabled":""}`,onClick:St=>{ce&&St.preventDefault()},children:"+"})},be?.id||he)})})]})]})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]}):m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:me=>{me.currentTarget.onerror=null,me.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>M(!ne),onMouseEnter:()=>M(!0)}),ne&&m.jsxs("div",{className:"perfil-bocadillo",ref:G,onMouseLeave:()=>M(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{Ee(!0),M(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:ae,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{ie(!0),M(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:ye(r)})]})]})]}),m.jsx("button",{onClick:De,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ia})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),ze&&m.jsx(Gl,{usuario:t,openModal:ze,setOpenModal:Ee}),ee&&m.jsx(Kl,{usuario:t,openModal:ee,setOpenModal:ie}),m.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:m.jsx("div",{className:"campo",children:m.jsx("button",{className:"crear-equipo-btn",onClick:xe,disabled:I,children:I?"Creando equipo...":"Crear equipo"})})})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}function rV({jugador:t,openModal:e,setOpenModal:n}){es(),wr(),Qu();const r=t?.foto||Ct,i=f=>{switch(f){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return f||"Sin posición"}},a=C.useRef(),c=f=>{f.target===a.current&&n(!1)},h=f=>typeof f!="number"||isNaN(f)?"—":f.toLocaleString("es-ES")+"€";return e?m.jsx("div",{className:"modal-overlay",ref:a,onClick:c,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:r,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:i(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",h(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const f=t.historialPrecios||[];if(f.length===0)return m.jsx("small",{children:"(±0€)"});const g=f[f.length-1].precio||0,v=t.precio-g,E=v>0?"+":v<0?"-":"±";return m.jsxs("small",{className:v>0?"subida":v<0?"bajada":"igual",children:["(",E,h(Math.abs(v)),")"]})})()})]}),m.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",m.jsx("span",{className:"vendedor",children:t?.vendedor})]}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos: ",m.jsxs("span",{className:"media",children:[" ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(f=>typeof f=="number").reduce((f,g,v,E)=>f+g/E.length,0).toFixed(2):"-"]})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((f,g,v)=>{const E=f??"-",T=v.length<5?g+1:t.puntosPorJornada.length-5+g+1;let A="";return typeof f=="number"&&(f>=9?A="verde":f<7?A="rojo":A="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",T]}),m.jsx("div",{className:`jornada-cuadro ${A}`,children:E})]},g)}):[...Array(5)].map((f,g)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",g+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},g))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoración"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]})]})}):null}function sV(){const[t,e]=C.useState("");return C.useEffect(()=>{const n=()=>{const i=new Date,a=new Date;a.setHours(24,0,0,0);const c=a-i,h=Math.floor(c/(1e3*60*60)),f=Math.floor(c%(1e3*60*60)/(1e3*60)),g=Math.floor(c%(1e3*60)/1e3);e(`${h.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`)};n();const r=setInterval(n,1e3);return()=>clearInterval(r)},[]),m.jsx("div",{className:"temporizador",children:m.jsxs("p",{children:["Refrescar Mercado - ",t]})})}const On=wr(Vn),Yc=es(Vn);function iV({usuario:t}){const[e,n]=C.useState(!1),[r,i]=C.useState(null),[a,c]=C.useState(!1),h=t?.fotoPerfil||Ct,[f,g]=C.useState(t?.equipocreado);t?.equipo?.titulares;const[v,E]=C.useState(!1);t?.equipo?.banquillo;const[T,A]=C.useState([]),[L,U]=C.useState([]),[O,W]=C.useState([]),[V,z]=C.useState([]),[J,se]=C.useState(!1),[Q,x]=C.useState(!1),[I,k]=C.useState(!1),[P,D]=C.useState(null),[F,R]=C.useState(!1),[ze,Ee]=C.useState(!1),[He,Be]=C.useState({}),[ee,ie]=C.useState([]),ne=C.useRef(null),[M,G]=C.useState("mercado"),ae=()=>Au(Yc),ce=Y=>typeof Y!="number"||isNaN(Y)?"—":Y.toLocaleString("es-ES")+"€",_e=Y=>{switch(Y){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return Y||"Sin posición"}};C.useEffect(()=>{const Y=Pe(On,"mercado","actual"),Te=Kc(Y,async ve=>{const De=ve.exists()?ve.data().jugadores||[]:[];try{const ye=await Promise.all(De.map(async xe=>{const me=Pe(On,"jugadores",xe.idJugador),he=await Tt(me),Le=he.exists()?he.data():{};return{source:"system",idJugador:xe.idJugador,nombre:Le.nombre||xe.nombre||"Sin nombre",foto:Le.foto||xe.foto||Ct,posicion:Le.posicion||xe.posicion||"—",precio:typeof xe.precio=="number"?xe.precio:Number(xe.precio)||Le.precio||0,stock:xe.stock??1,historialPrecios:Le.historialPrecios||xe.historialPrecios||[],puntosPorJornada:Le.puntosPorJornada||xe.puntosPorJornada||[],vendedor:xe.vendedor||"Fantasy Casadillos",goles:Le.goles,asistencias:Le.asistencias,partidos:Le.partidos,valoracion:Le.valoracion,nota:Le.nota,puntosTotales:Le.puntosTotales,_raw:xe}}));A(ye.filter(Boolean))}catch(ye){console.error("Error enriqueciendo mercado sistema:",ye),A([])}});return()=>Te()},[]),C.useEffect(()=>{const Y=Pe(On,"mercadoUsuarios","actual"),Te=Kc(Y,async ve=>{const De=ve.exists()?ve.data().jugadores||[]:[];try{const xe=(await Promise.all(De.map(async me=>{if(!me||!me.jugadorId)return null;const he=Pe(On,"jugadores",me.jugadorId),Le=await Tt(he),be=Le.exists()?Le.data():null;return be?{source:"user",idJugador:me.jugadorId,nombre:be.nombre||"Sin nombre",foto:be.foto||Ct,posicion:be.posicion||"—",precio:be.precio||0,precioVenta:typeof me.precioVenta=="number"?me.precioVenta:Number(me.precioVenta),historialPrecios:be.historialPrecios||[],puntosPorJornada:be.puntosPorJornada||[],vendedor:me.vendedorNick||"Usuario",vendedorUid:me.vendedorUid,goles:be.goles,asistencias:be.asistencias,partidos:be.partidos,valoracion:be.valoracion,nota:be.nota,puntosTotales:be.puntosTotales,fecha:me.fecha||null}:{source:"user",idJugador:me.jugadorId,nombre:"Jugador no encontrado",foto:Ct,posicion:"—",precio:me.precioVenta??0,historialPrecios:[],puntosPorJornada:[],vendedor:me.vendedorNick||"Usuario",vendedorUid:me.vendedorUid,fecha:me.fecha||null}}))).filter(Boolean);U(xe),t&&t.uid?z(xe.filter(me=>me.vendedorUid===t.uid)):z([])}catch(ye){console.error("Error enriqueciendo mercado usuarios:",ye),U([]),z([])}});return()=>Te()},[t]),C.useEffect(()=>{if(!t?.uid){ie([]);return}const Y=$s(tn(On,"ofertas"),Ei("compradorUid","==",t.uid)),Te=Kc(Y,async ve=>{const De=[];for(const ye of ve.docs){const xe=ye.data();if(!xe.jugadorId)continue;const me=await Tt(Pe(On,"jugadores",xe.jugadorId)),he=me.exists()?me.data():{};De.push({id:ye.id,idJugador:xe.jugadorId,nombre:he.nombre||"Jugador no encontrado",foto:he.foto||Ct,posicion:he.posicion||"—",precio:he.precio||0,precioOferta:xe.precio||0,vendedorUid:xe.vendedorUid,vendedorNick:xe.vendedorNick,fecha:xe.fecha||null,puntosPorJornada:he.puntosPorJornada||[]})}ie(De)});return()=>Te()},[t]),C.useEffect(()=>{W([...T,...L])},[T,L]),C.useEffect(()=>{(async()=>{try{const Te=Pe(On,"admin","controles"),ve=await Tt(Te);if(ve.exists()){const De=ve.data();Ee(De.edicionActiva===!0)}}catch(Te){console.error("Error al obtener estado de edición:",Te)}})()},[]),C.useEffect(()=>{if(!t?.uid)return;const Y=$s(tn(On,"ofertas"),Ei("compradorUid","==",t.uid)),Te=Kc(Y,ve=>{const De=ve.docs.map(ye=>({id:ye.id,...ye.data()}));console.log("📦 Ofertas detectadas para el usuario:",De),ie(De)});return()=>Te()},[t]),C.useEffect(()=>{const Y=$s(tn(On,"ofertas")),Te=Kc(Y,ve=>{const De={};ve.forEach(ye=>{const xe=ye.data(),me=`${xe.jugadorId}-${xe.source}-${xe.vendedorUid||"system"}`;De[me]=(De[me]||0)+1}),Be(De)});return()=>Te()},[]);const ke=async(Y,Te)=>{const ve=Yc.currentUser;if(!ve){Ne.fire("⚠️ Atención","Debes iniciar sesión para hacer una oferta.","warning");return}try{await Zy(On,async De=>{const ye=Pe(On,"usuarios",ve.uid),xe=await De.get(ye);if(!xe.exists())throw new Error("Usuario no encontrado.");const he=xe.data().dinero??0;if(he<Te)throw new Error("Saldo insuficiente para hacer esta oferta.");const Le=he-Te;De.update(ye,{dinero:Le});const be=tn(On,"ofertas");De.set(Pe(be),{jugadorId:Y.idJugador,source:Y.source||"system",vendedorUid:Y.vendedorUid||null,compradorUid:ve.uid,precioOferta:Te,fecha:Jf(),estado:"pendiente"})}),await Ne.fire("✅ Oferta realizada",`Has hecho una oferta por ${Y.nombre}`,"success"),window.location.reload()}catch(De){console.error("Error creando oferta:",De),Ne.fire("❌ Error",De.message||"Ocurrió un problema al hacer la oferta","error")}},Je=async Y=>{try{const Te=Pe(On,"mercadoUsuarios","actual");await xt(Te,{jugadores:Ca({jugadorId:Y.idJugador,precioVenta:Y.precioVenta,vendedorNick:Y.vendedor,vendedorUid:Y.vendedorUid,fecha:Y.fecha})}),Ne.fire("✅ Venta retirada",`${Y.nombre} se ha retirado del mercado.`,"success")}catch(Te){console.error(Te),Ne.fire("❌ Error","No se pudo retirar la venta","error")}},We=async Y=>{const Te=$s(tn(On,"ofertas"),Ei("jugadorId","==",Y.idJugador)),De=(await Qr(Te)).docs.map(xe=>xe.data());if(De.length===0){Ne.fire("ℹ️ Sin ofertas","Todavía no hay ofertas para este jugador.","info");return}let ye=De.map(xe=>`<p><b>${xe.precioOferta.toLocaleString("es-ES")}€</b> - Comprador: ${xe.compradorUid}</p>`).join("");Ne.fire({title:`Ofertas para ${Y.nombre}`,html:ye,confirmButtonText:"Cerrar"})},Xe=async Y=>{const{value:Te}=await Ne.fire({title:`Oferta por ${Y.nombre}`,input:"number",inputLabel:"Introduce tu oferta (€)",inputPlaceholder:"Ej: 5.000.000",showCancelButton:!0,confirmButtonText:"Enviar oferta"});Te&&await ke(Y,Number(Te))},Et=async Y=>{try{await deleteDoc(Pe(On,"ofertas",Y.id)),Ne.fire("✅ Oferta retirada","Tu oferta ha sido retirada","success")}catch(Te){console.error(Te),Ne.fire("❌ Error","No se pudo retirar la oferta","error")}};return C.useEffect(()=>{const Y=Te=>{ne.current&&!ne.current.contains(Te.target)&&R(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]),C.useEffect(()=>{if(t){if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t?.onboarding===!1){n(!0);const Y=setTimeout(async()=>{try{const Te=Pe(On,"usuarios",t.uid);await xt(Te,{onboarding:!0}),window.location.reload()}catch(Te){console.error(Te)}},500);return()=>clearTimeout(Y)}(async()=>{try{const Y=Pe(On,"usuarios",t.uid),Te=await Tt(Y);Te.exists()&&i(Te.data().dinero)}catch{}})()}},[t]),m.jsxs("div",{style:{backgroundColor:"black"},children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:Y=>{Y.currentTarget.onerror=null,Y.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>R(!F),onMouseEnter:()=>R(!0)}),F&&m.jsxs("div",{className:"perfil-bocadillo",ref:ne,onMouseLeave:()=>R(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{se(!0),R(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:ae,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{k(!0),R(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:ce(r)})]})]})]}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera-mercado",style:{backgroundImage:`url(${Ia})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),J&&m.jsx(Gl,{usuario:t,openModal:J,setOpenModal:se}),I&&m.jsx(Kl,{usuario:t,openModal:I,setOpenModal:k}),Q&&P&&m.jsx(rV,{jugador:P,openModal:Q,setOpenModal:x}),m.jsx("div",{className:"temporizador",children:m.jsx(sV,{})}),m.jsxs("div",{className:"tabs-wrapper",children:[m.jsxs("div",{className:"tabs-container",children:[m.jsx("button",{className:`tab-btn ${M==="mercado"?"active":""}`,onClick:()=>G("mercado"),children:"Mercado"}),m.jsx("button",{className:`tab-btn ${M==="operaciones"?"active":""}`,onClick:()=>G("operaciones"),children:"Mis operaciones"})]}),M==="mercado"&&m.jsx("div",{className:"mercado-jugadores",children:O.length===0?m.jsx("div",{className:"sin-mercado",children:m.jsx("p",{children:"No hay mercado disponible"})}):m.jsx("ul",{className:"lista-jugadores",children:O.map(Y=>{const Te=`${Y.idJugador}-${Y.source}-${Y.vendedorUid||"system"}`;return m.jsx("li",{className:"jugador-card",onClick:()=>{D(Y),x(!0)},children:m.jsxs("div",{className:"jugador-perfil",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:Y.foto||Ct,alt:Y.nombre,onError:ve=>{ve.currentTarget.onerror=null,ve.currentTarget.src=Ct}})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:Y.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${Y.posicion||""}`,children:m.jsx("small",{children:_e(Y.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",Number(Y.precio)?ce(Number(Y.precio)):"—"]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const ve=Y.historialPrecios||[];if(ve.length===0)return m.jsx("small",{children:"(±0€)"});const De=ve[ve.length-1]?.precio||0,ye=(Y.precio||0)-De,xe=ye>0?"+":ye<0?"-":"±";return m.jsxs("small",{className:ye>0?"subida":ye<0?"bajada":"igual",children:["(",xe,ce(Math.abs(ye)),")"]})})()})]}),m.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",m.jsx("span",{className:"vendedor",children:Y.vendedor})]}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos: ",m.jsx("span",{className:"media",children:Y.puntosPorJornada&&Y.puntosPorJornada.length>0?Y.puntosPorJornada.filter(ve=>typeof ve=="number").reduce((ve,De,ye,xe)=>ve+De/xe.length,0).toFixed(2):"-"})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:(Y.puntosPorJornada||[]).slice(-5).map((ve,De)=>{const ye=ve??"-",xe=Y.puntosPorJornada?Y.puntosPorJornada.length:0,me=Math.max(1,xe-5+De+1);let he="";return typeof ve=="number"&&(ve>=9?he="verde":ve<7&&(he="rojo")),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",me]}),m.jsx("div",{className:`jornada-cuadro ${he}`,children:ye})]},De)})})})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:m.jsx("button",{className:"btn-comprar",disabled:!ze||Y.vendedorUid===Yc.currentUser?.uid||!f,onClick:async ve=>{ve.stopPropagation();const{value:De}=await Ne.fire({title:"Introduce el precio de venta",input:"number",inputLabel:"Precio en €",inputPlaceholder:"Ej: 5.000.000",confirmButtonText:"Hacer oferta",cancelButtonText:"Cancelar",showCancelButton:!0,scrollbarPadding:!1,background:"#1e1e1e",color:"#fff",inputValidator:ye=>{if(!ye||ye<=0)return"Debes introducir un precio válido";if(ye<Y.precio)return"Debes introducir un precio que sea mínimo superior al valor de mercado"}});De&&(console.log("Venta en mercado por",De),ke(Y,parseInt(De,10)))},children:Y.vendedorUid===Yc.currentUser?.uid?"Es tu venta":`Hacer oferta - (${He[`${Y.idJugador}-${Y.source}-${Y.vendedorUid||"system"}`]||0})`})})]})},Te)})})}),M==="operaciones"&&m.jsxs("div",{className:"mercado-jugadores",children:[V.length===0&&ee.length===0?m.jsx("div",{className:"sin-mercado",children:m.jsx("p",{children:"No tienes operaciones activas."})}):m.jsx("ul",{className:"lista-jugadores",children:V.map((Y,Te)=>{const ve=`${Y.idJugador}-${Te}-${Y.vendedorUid||"yo"}`,De=Y.vendedorUid===Yc.currentUser?.uid;return m.jsx("li",{className:"jugador-card",onClick:()=>{D(Y),x(!0)},children:m.jsxs("div",{className:"jugador-perfil",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:Y.foto||Ct,alt:Y.nombre,onError:ye=>{ye.currentTarget.onerror=null,ye.currentTarget.src=Ct}})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:Y.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${Y.posicion||""}`,children:m.jsx("small",{children:_e(Y.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",Number(Y.precio)?ce(Number(Y.precio)):"—"]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const ye=Y.historialPrecios||[];if(ye.length===0)return m.jsx("small",{children:"(±0€)"});const xe=ye[ye.length-1]?.precio||0,me=(Y.precio||0)-xe,he=me>0?"+":me<0?"-":"±";return m.jsxs("small",{className:me>0?"subida":me<0?"bajada":"igual",children:["(",he,ce(Math.abs(me)),")"]})})()})]}),m.jsx("div",{className:"precio-container",children:m.jsxs("small",{className:"precio",children:[m.jsx("span",{className:"texto-blanco",children:"Precio Venta:"})," ",Number(Y.precioVenta)?ce(Number(Y.precioVenta)):"—"," "]})}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos: ",m.jsx("span",{className:"media",children:Y.puntosPorJornada&&Y.puntosPorJornada.length>0?Y.puntosPorJornada.filter(ye=>typeof ye=="number").reduce((ye,xe,me,he)=>ye+xe/he.length,0).toFixed(2):"-"})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:(Y.puntosPorJornada||[]).slice(-5).map((ye,xe)=>{const me=ye??"-",he=Y.puntosPorJornada?Y.puntosPorJornada.length:0,Le=Math.max(1,he-5+xe+1);let be="";return typeof ye=="number"&&(ye>=9?be="verde":ye<7&&(be="rojo")),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",Le]}),m.jsx("div",{className:`jornada-cuadro ${be}`,children:me})]},xe)})})})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:De?m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:"btn-comprar",onClick:ye=>{ye.stopPropagation(),We(Y)},disabled:!f,children:["Ver ofertas - (",He[`${Y.idJugador}-${Y.vendedorUid}`]||0,")"]}),m.jsx("button",{className:"btn-cancelar",onClick:ye=>{ye.stopPropagation(),Je(Y)},disabled:!f,children:"Retirar venta"})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn-comprar",disabled:!f,onClick:ye=>{ye.stopPropagation(),Xe(Y)},children:"Hacer oferta"}),m.jsxs("button",{className:"btn-comprar",disabled:!f,onClick:ye=>{ye.stopPropagation(),We(Y)},children:["Ver ofertas - (",He[`${Y.idJugador}-${Y.vendedorUid}`]||0,")"]})]})})]})},ve)})}),ee.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"titulo-seccion",children:"Mis ofertas activas"}),m.jsx("ul",{className:"lista-jugadores",children:ee.map((Y,Te)=>m.jsx("li",{className:"jugador-card",children:m.jsxs("div",{className:"jugador-perfil",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:Y.foto||Ct,alt:Y.nombre})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:Y.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${Y.posicion||""}`,children:m.jsx("small",{children:_e(Y.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",Number(Y.precio)?ce(Number(Y.precio)):"—"]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const ve=Y.historialPrecios||[];if(ve.length===0)return m.jsx("small",{children:"(±0€)"});const De=ve[ve.length-1]?.precio||0,ye=(Y.precio||0)-De,xe=ye>0?"+":ye<0?"-":"±";return m.jsxs("small",{className:ye>0?"subida":ye<0?"bajada":"igual",children:["(",xe,ce(Math.abs(ye)),")"]})})()})]}),m.jsx("div",{className:"precio-container",children:m.jsxs("small",{className:"precio",children:[m.jsx("span",{className:"texto-blanco",children:"Precio Venta:"})," ",Number(Y.precioVenta)?ce(Number(j.precioVenta)):"—"," "]})}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos: ",m.jsx("span",{className:"media",children:Y.puntosPorJornada&&Y.puntosPorJornada.length>0?Y.puntosPorJornada.filter(ve=>typeof ve=="number").reduce((ve,De,ye,xe)=>ve+De/xe.length,0).toFixed(2):"-"})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:(Y.puntosPorJornada||[]).slice(-5).map((ve,De)=>{const ye=ve??"-",xe=Y.puntosPorJornada?Y.puntosPorJornada.length:0,me=Math.max(1,xe-5+De+1);let he="";return typeof ve=="number"&&(ve>=9?he="verde":ve<7&&(he="rojo")),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",me]}),m.jsx("div",{className:`jornada-cuadro ${he}`,children:ye})]},De)})})})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:m.jsx("button",{className:"btn-cancelar",disabled:!f,onClick:ve=>{ve.stopPropagation(),Et(Y)},children:"Retirar oferta"})})]})},Y.id))})]})]})]})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}var Wn=function(){return Wn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wn.apply(this,arguments)};function yf(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Mt="-ms-",hu="-moz-",bt="-webkit-",XT="comm",sp="rule",Cw="decl",oV="@import",ZT="@keyframes",aV="@layer",eI=Math.abs,Tw=String.fromCharCode,$g=Object.assign;function lV(t,e){return xn(t,0)^45?(((e<<2^xn(t,0))<<2^xn(t,1))<<2^xn(t,2))<<2^xn(t,3):0}function tI(t){return t.trim()}function yi(t,e){return(t=e.exec(t))?t[0]:t}function et(t,e,n){return t.replace(e,n)}function Rh(t,e,n){return t.indexOf(e,n)}function xn(t,e){return t.charCodeAt(e)|0}function Jl(t,e,n){return t.slice(e,n)}function Vs(t){return t.length}function nI(t){return t.length}function su(t,e){return e.push(t),t}function cV(t,e){return t.map(e).join("")}function zE(t,e){return t.filter(function(n){return!yi(n,e)})}var ip=1,Ql=1,rI=0,Zr=0,un=0,pc="";function op(t,e,n,r,i,a,c,h){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:ip,column:Ql,length:c,return:"",siblings:h}}function lo(t,e){return $g(op("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function bl(t){for(;t.root;)t=lo(t.root,{children:[t]});su(t,t.siblings)}function uV(){return un}function dV(){return un=Zr>0?xn(pc,--Zr):0,Ql--,un===10&&(Ql=1,ip--),un}function ms(){return un=Zr<rI?xn(pc,Zr++):0,Ql++,un===10&&(Ql=1,ip++),un}function ma(){return xn(pc,Zr)}function Ph(){return Zr}function ap(t,e){return Jl(pc,t,e)}function Ug(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hV(t){return ip=Ql=1,rI=Vs(pc=t),Zr=0,[]}function fV(t){return pc="",t}function ng(t){return tI(ap(Zr-1,Bg(t===91?t+2:t===40?t+1:t)))}function pV(t){for(;(un=ma())&&un<33;)ms();return Ug(t)>2||Ug(un)>3?"":" "}function mV(t,e){for(;--e&&ms()&&!(un<48||un>102||un>57&&un<65||un>70&&un<97););return ap(t,Ph()+(e<6&&ma()==32&&ms()==32))}function Bg(t){for(;ms();)switch(un){case t:return Zr;case 34:case 39:t!==34&&t!==39&&Bg(un);break;case 40:t===41&&Bg(t);break;case 92:ms();break}return Zr}function gV(t,e){for(;ms()&&t+un!==57;)if(t+un===84&&ma()===47)break;return"/*"+ap(e,Zr-1)+"*"+Tw(t===47?t:ms())}function yV(t){for(;!Ug(ma());)ms();return ap(t,Zr)}function wV(t){return fV(Ah("",null,null,null,[""],t=hV(t),0,[0],t))}function Ah(t,e,n,r,i,a,c,h,f){for(var g=0,v=0,E=c,T=0,A=0,L=0,U=1,O=1,W=1,V=0,z="",J=i,se=a,Q=r,x=z;O;)switch(L=V,V=ms()){case 40:if(L!=108&&xn(x,E-1)==58){Rh(x+=et(ng(V),"&","&\f"),"&\f",eI(g?h[g-1]:0))!=-1&&(W=-1);break}case 34:case 39:case 91:x+=ng(V);break;case 9:case 10:case 13:case 32:x+=pV(L);break;case 92:x+=mV(Ph()-1,7);continue;case 47:switch(ma()){case 42:case 47:su(vV(gV(ms(),Ph()),e,n,f),f);break;default:x+="/"}break;case 123*U:h[g++]=Vs(x)*W;case 125*U:case 59:case 0:switch(V){case 0:case 125:O=0;case 59+v:W==-1&&(x=et(x,/\f/g,"")),A>0&&Vs(x)-E&&su(A>32?qE(x+";",r,n,E-1,f):qE(et(x," ","")+";",r,n,E-2,f),f);break;case 59:x+=";";default:if(su(Q=HE(x,e,n,g,v,i,h,z,J=[],se=[],E,a),a),V===123)if(v===0)Ah(x,e,Q,Q,J,a,E,h,se);else switch(T===99&&xn(x,3)===110?100:T){case 100:case 108:case 109:case 115:Ah(t,Q,Q,r&&su(HE(t,Q,Q,0,0,i,h,z,i,J=[],E,se),se),i,se,E,h,r?J:se);break;default:Ah(x,Q,Q,Q,[""],se,0,h,se)}}g=v=A=0,U=W=1,z=x="",E=c;break;case 58:E=1+Vs(x),A=L;default:if(U<1){if(V==123)--U;else if(V==125&&U++==0&&dV()==125)continue}switch(x+=Tw(V),V*U){case 38:W=v>0?1:(x+="\f",-1);break;case 44:h[g++]=(Vs(x)-1)*W,W=1;break;case 64:ma()===45&&(x+=ng(ms())),T=ma(),v=E=Vs(z=x+=yV(Ph())),V++;break;case 45:L===45&&Vs(x)==2&&(U=0)}}return a}function HE(t,e,n,r,i,a,c,h,f,g,v,E){for(var T=i-1,A=i===0?a:[""],L=nI(A),U=0,O=0,W=0;U<r;++U)for(var V=0,z=Jl(t,T+1,T=eI(O=c[U])),J=t;V<L;++V)(J=tI(O>0?A[V]+" "+z:et(z,/&\f/g,A[V])))&&(f[W++]=J);return op(t,e,n,i===0?sp:h,f,g,v,E)}function vV(t,e,n,r){return op(t,e,n,XT,Tw(uV()),Jl(t,2,-2),0,r)}function qE(t,e,n,r,i){return op(t,e,n,Cw,Jl(t,0,r),Jl(t,r+1,-1),r,i)}function sI(t,e,n){switch(lV(t,e)){case 5103:return bt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+t+t;case 4789:return hu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+t+hu+t+Mt+t+t;case 5936:switch(xn(t,e+11)){case 114:return bt+t+Mt+et(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return bt+t+Mt+et(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return bt+t+Mt+et(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return bt+t+Mt+t+t;case 6165:return bt+t+Mt+"flex-"+t+t;case 5187:return bt+t+et(t,/(\w+).+(:[^]+)/,bt+"box-$1$2"+Mt+"flex-$1$2")+t;case 5443:return bt+t+Mt+"flex-item-"+et(t,/flex-|-self/g,"")+(yi(t,/flex-|baseline/)?"":Mt+"grid-row-"+et(t,/flex-|-self/g,""))+t;case 4675:return bt+t+Mt+"flex-line-pack"+et(t,/align-content|flex-|-self/g,"")+t;case 5548:return bt+t+Mt+et(t,"shrink","negative")+t;case 5292:return bt+t+Mt+et(t,"basis","preferred-size")+t;case 6060:return bt+"box-"+et(t,"-grow","")+bt+t+Mt+et(t,"grow","positive")+t;case 4554:return bt+et(t,/([^-])(transform)/g,"$1"+bt+"$2")+t;case 6187:return et(et(et(t,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),t,"")+t;case 5495:case 3959:return et(t,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return et(et(t,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+Mt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+t+t;case 4200:if(!yi(t,/flex-|baseline/))return Mt+"grid-column-align"+Jl(t,e)+t;break;case 2592:case 3360:return Mt+et(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,yi(r.props,/grid-\w+-end/)})?~Rh(t+(n=n[e].value),"span",0)?t:Mt+et(t,"-start","")+t+Mt+"grid-row-span:"+(~Rh(n,"span",0)?yi(n,/\d+/):+yi(n,/\d+/)-+yi(t,/\d+/))+";":Mt+et(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return yi(r.props,/grid-\w+-start/)})?t:Mt+et(et(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return et(t,/(.+)-inline(.+)/,bt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vs(t)-1-e>6)switch(xn(t,e+1)){case 109:if(xn(t,e+4)!==45)break;case 102:return et(t,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+hu+(xn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Rh(t,"stretch",0)?sI(et(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return et(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,a,c,h,f,g){return Mt+i+":"+a+g+(c?Mt+i+"-span:"+(h?f:+f-+a)+g:"")+t});case 4949:if(xn(t,e+6)===121)return et(t,":",":"+bt)+t;break;case 6444:switch(xn(t,xn(t,14)===45?18:11)){case 120:return et(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+bt+(xn(t,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+Mt+"$2box$3")+t;case 100:return et(t,":",":"+Mt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return et(t,"scroll-","scroll-snap-")+t}return t}function wf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function _V(t,e,n,r){switch(t.type){case aV:if(t.children.length)break;case oV:case Cw:return t.return=t.return||t.value;case XT:return"";case ZT:return t.return=t.value+"{"+wf(t.children,r)+"}";case sp:if(!Vs(t.value=t.props.join(",")))return""}return Vs(n=wf(t.children,r))?t.return=t.value+"{"+n+"}":""}function EV(t){var e=nI(t);return function(n,r,i,a){for(var c="",h=0;h<e;h++)c+=t[h](n,r,i,a)||"";return c}}function bV(t){return function(e){e.root||(e=e.return)&&t(e)}}function CV(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Cw:t.return=sI(t.value,t.length,n);return;case ZT:return wf([lo(t,{value:et(t.value,"@","@"+bt)})],r);case sp:if(t.length)return cV(n=t.props,function(i){switch(yi(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":bl(lo(t,{props:[et(i,/:(read-\w+)/,":"+hu+"$1")]})),bl(lo(t,{props:[i]})),$g(t,{props:zE(n,r)});break;case"::placeholder":bl(lo(t,{props:[et(i,/:(plac\w+)/,":"+bt+"input-$1")]})),bl(lo(t,{props:[et(i,/:(plac\w+)/,":"+hu+"$1")]})),bl(lo(t,{props:[et(i,/:(plac\w+)/,Mt+"input-$1")]})),bl(lo(t,{props:[i]})),$g(t,{props:zE(n,r)});break}return""})}}var TV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Rr={},Yl=typeof process<"u"&&Rr!==void 0&&(Rr.REACT_APP_SC_ATTR||Rr.SC_ATTR)||"data-styled",iI="active",oI="data-styled-version",lp="6.1.19",Iw=`/*!sc*/
`,vf=typeof window<"u"&&typeof document<"u",IV=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Rr!==void 0&&Rr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Rr.REACT_APP_SC_DISABLE_SPEEDY!==""?Rr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Rr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Rr!==void 0&&Rr.SC_DISABLE_SPEEDY!==void 0&&Rr.SC_DISABLE_SPEEDY!==""&&Rr.SC_DISABLE_SPEEDY!=="false"&&Rr.SC_DISABLE_SPEEDY),cp=Object.freeze([]),Xl=Object.freeze({});function xV(t,e,n){return n===void 0&&(n=Xl),t.theme!==n.theme&&t.theme||e||n.theme}var aI=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),SV=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,kV=/(^-|-$)/g;function WE(t){return t.replace(SV,"-").replace(kV,"")}var RV=/(a)(d)/gi,fh=52,GE=function(t){return String.fromCharCode(t+(t>25?39:97))};function zg(t){var e,n="";for(e=Math.abs(t);e>fh;e=e/fh|0)n=GE(e%fh)+n;return(GE(e%fh)+n).replace(RV,"$1-$2")}var rg,lI=5381,kl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},cI=function(t){return kl(lI,t)};function PV(t){return zg(cI(t)>>>0)}function AV(t){return t.displayName||t.name||"Component"}function sg(t){return typeof t=="string"&&!0}var uI=typeof Symbol=="function"&&Symbol.for,dI=uI?Symbol.for("react.memo"):60115,NV=uI?Symbol.for("react.forward_ref"):60112,DV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},OV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jV=((rg={})[NV]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rg[dI]=hI,rg);function KE(t){return("type"in(e=t)&&e.type.$$typeof)===dI?hI:"$$typeof"in t?jV[t.$$typeof]:DV;var e}var LV=Object.defineProperty,MV=Object.getOwnPropertyNames,JE=Object.getOwnPropertySymbols,VV=Object.getOwnPropertyDescriptor,FV=Object.getPrototypeOf,QE=Object.prototype;function fI(t,e,n){if(typeof e!="string"){if(QE){var r=FV(e);r&&r!==QE&&fI(t,r,n)}var i=MV(e);JE&&(i=i.concat(JE(e)));for(var a=KE(t),c=KE(e),h=0;h<i.length;++h){var f=i[h];if(!(f in OV||n&&n[f]||c&&f in c||a&&f in a)){var g=VV(e,f);try{LV(t,f,g)}catch{}}}}return t}function xa(t){return typeof t=="function"}function xw(t){return typeof t=="object"&&"styledComponentId"in t}function ha(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function YE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Tu(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Hg(t,e,n){if(n===void 0&&(n=!1),!n&&!Tu(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Hg(t[r],e[r]);else if(Tu(e))for(var r in e)t[r]=Hg(t[r],e[r]);return t}function Sw(t,e){Object.defineProperty(t,"toString",{value:e})}function Sa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var $V=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,a=i;e>=a;)if((a<<=1)<0)throw Sa(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var c=i;c<a;c++)this.groupSizes[c]=0}for(var h=this.indexOfGroup(e+1),f=(c=0,n.length);c<f;c++)this.tag.insertRule(h,n[c])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var a=r;a<i;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),a=i+r,c=i;c<a;c++)n+="".concat(this.tag.getRule(c)).concat(Iw);return n},t})(),Nh=new Map,_f=new Map,Dh=1,ph=function(t){if(Nh.has(t))return Nh.get(t);for(;_f.has(Dh);)Dh++;var e=Dh++;return Nh.set(t,e),_f.set(e,t),e},UV=function(t,e){Dh=e+1,Nh.set(t,e),_f.set(e,t)},BV="style[".concat(Yl,"][").concat(oI,'="').concat(lp,'"]'),zV=new RegExp("^".concat(Yl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),HV=function(t,e,n){for(var r,i=n.split(","),a=0,c=i.length;a<c;a++)(r=i[a])&&t.registerName(e,r)},qV=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Iw),i=[],a=0,c=r.length;a<c;a++){var h=r[a].trim();if(h){var f=h.match(zV);if(f){var g=0|parseInt(f[1],10),v=f[2];g!==0&&(UV(v,g),HV(t,v,f[3]),t.getTag().insertRules(g,i)),i.length=0}else i.push(h)}}},XE=function(t){for(var e=document.querySelectorAll(BV),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Yl)!==iI&&(qV(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function WV(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var pI=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=(function(h){var f=Array.from(h.querySelectorAll("style[".concat(Yl,"]")));return f[f.length-1]})(n),a=i!==void 0?i.nextSibling:null;r.setAttribute(Yl,iI),r.setAttribute(oI,lp);var c=WV();return c&&r.setAttribute("nonce",c),n.insertBefore(r,a),r},GV=(function(){function t(e){this.element=pI(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,a=r.length;i<a;i++){var c=r[i];if(c.ownerNode===n)return c}throw Sa(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),KV=(function(){function t(e){this.element=pI(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),JV=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),ZE=vf,QV={isServer:!vf,useCSSOMInjection:!IV},mI=(function(){function t(e,n,r){e===void 0&&(e=Xl),n===void 0&&(n={});var i=this;this.options=Wn(Wn({},QV),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&vf&&ZE&&(ZE=!1,XE(this)),Sw(this,function(){return(function(a){for(var c=a.getTag(),h=c.length,f="",g=function(E){var T=(function(W){return _f.get(W)})(E);if(T===void 0)return"continue";var A=a.names.get(T),L=c.getGroup(E);if(A===void 0||!A.size||L.length===0)return"continue";var U="".concat(Yl,".g").concat(E,'[id="').concat(T,'"]'),O="";A!==void 0&&A.forEach(function(W){W.length>0&&(O+="".concat(W,","))}),f+="".concat(L).concat(U,'{content:"').concat(O,'"}').concat(Iw)},v=0;v<h;v++)g(v);return f})(i)})}return t.registerId=function(e){return ph(e)},t.prototype.rehydrate=function(){!this.server&&vf&&XE(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Wn(Wn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new JV(i):r?new GV(i):new KV(i)})(this.options),new $V(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(ph(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(ph(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(ph(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),YV=/&/g,XV=/^\s*\/\/.*$/gm;function gI(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=gI(n.children,e)),n})}function ZV(t){var e,n,r,i=Xl,a=i.options,c=a===void 0?Xl:a,h=i.plugins,f=h===void 0?cp:h,g=function(T,A,L){return L.startsWith(n)&&L.endsWith(n)&&L.replaceAll(n,"").length>0?".".concat(e):T},v=f.slice();v.push(function(T){T.type===sp&&T.value.includes("&")&&(T.props[0]=T.props[0].replace(YV,n).replace(r,g))}),c.prefix&&v.push(CV),v.push(_V);var E=function(T,A,L,U){A===void 0&&(A=""),L===void 0&&(L=""),U===void 0&&(U="&"),e=U,n=A,r=new RegExp("\\".concat(n,"\\b"),"g");var O=T.replace(XV,""),W=wV(L||A?"".concat(L," ").concat(A," { ").concat(O," }"):O);c.namespace&&(W=gI(W,c.namespace));var V=[];return wf(W,EV(v.concat(bV(function(z){return V.push(z)})))),V};return E.hash=f.length?f.reduce(function(T,A){return A.name||Sa(15),kl(T,A.name)},lI).toString():"",E}var e5=new mI,qg=ZV(),yI=nt.createContext({shouldForwardProp:void 0,styleSheet:e5,stylis:qg});yI.Consumer;nt.createContext(void 0);function eb(){return C.useContext(yI)}var t5=(function(){function t(e,n){var r=this;this.inject=function(i,a){a===void 0&&(a=qg);var c=r.name+a.hash;i.hasNameForId(r.id,c)||i.insertRules(r.id,c,a(r.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Sw(this,function(){throw Sa(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=qg),this.name+e.hash},t})(),n5=function(t){return t>="A"&&t<="Z"};function tb(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;n5(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var wI=function(t){return t==null||t===!1||t===""},vI=function(t){var e,n,r=[];for(var i in t){var a=t[i];t.hasOwnProperty(i)&&!wI(a)&&(Array.isArray(a)&&a.isCss||xa(a)?r.push("".concat(tb(i),":"),a,";"):Tu(a)?r.push.apply(r,yf(yf(["".concat(i," {")],vI(a),!1),["}"],!1)):r.push("".concat(tb(i),": ").concat((e=i,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in TV||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ga(t,e,n,r){if(wI(t))return[];if(xw(t))return[".".concat(t.styledComponentId)];if(xa(t)){if(!xa(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var i=t(e);return ga(i,e,n,r)}var a;return t instanceof t5?n?(t.inject(n,r),[t.getName(r)]):[t]:Tu(t)?vI(t):Array.isArray(t)?Array.prototype.concat.apply(cp,t.map(function(c){return ga(c,e,n,r)})):[t.toString()]}function r5(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(xa(n)&&!xw(n))return!1}return!0}var s5=cI(lp),i5=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&r5(e),this.componentId=n,this.baseHash=kl(s5,n),this.baseStyle=r,mI.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=ha(i,this.staticRulesId);else{var a=YE(ga(this.rules,e,n,r)),c=zg(kl(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,c)){var h=r(a,".".concat(c),void 0,this.componentId);n.insertRules(this.componentId,c,h)}i=ha(i,c),this.staticRulesId=c}else{for(var f=kl(this.baseHash,r.hash),g="",v=0;v<this.rules.length;v++){var E=this.rules[v];if(typeof E=="string")g+=E;else if(E){var T=YE(ga(E,e,n,r));f=kl(f,T+v),g+=T}}if(g){var A=zg(f>>>0);n.hasNameForId(this.componentId,A)||n.insertRules(this.componentId,A,r(g,".".concat(A),void 0,this.componentId)),i=ha(i,A)}}return i},t})(),Ef=nt.createContext(void 0);Ef.Consumer;function o5(t){var e=nt.useContext(Ef),n=C.useMemo(function(){return(function(r,i){if(!r)throw Sa(14);if(xa(r)){var a=r(i);return a}if(Array.isArray(r)||typeof r!="object")throw Sa(8);return i?Wn(Wn({},i),r):r})(t.theme,e)},[t.theme,e]);return t.children?nt.createElement(Ef.Provider,{value:n},t.children):null}var ig={};function a5(t,e,n){var r=xw(t),i=t,a=!sg(t),c=e.attrs,h=c===void 0?cp:c,f=e.componentId,g=f===void 0?(function(J,se){var Q=typeof J!="string"?"sc":WE(J);ig[Q]=(ig[Q]||0)+1;var x="".concat(Q,"-").concat(PV(lp+Q+ig[Q]));return se?"".concat(se,"-").concat(x):x})(e.displayName,e.parentComponentId):f,v=e.displayName,E=v===void 0?(function(J){return sg(J)?"styled.".concat(J):"Styled(".concat(AV(J),")")})(t):v,T=e.displayName&&e.componentId?"".concat(WE(e.displayName),"-").concat(e.componentId):e.componentId||g,A=r&&i.attrs?i.attrs.concat(h).filter(Boolean):h,L=e.shouldForwardProp;if(r&&i.shouldForwardProp){var U=i.shouldForwardProp;if(e.shouldForwardProp){var O=e.shouldForwardProp;L=function(J,se){return U(J,se)&&O(J,se)}}else L=U}var W=new i5(n,T,r?i.componentStyle:void 0);function V(J,se){return(function(Q,x,I){var k=Q.attrs,P=Q.componentStyle,D=Q.defaultProps,F=Q.foldedComponentIds,R=Q.styledComponentId,ze=Q.target,Ee=nt.useContext(Ef),He=eb(),Be=Q.shouldForwardProp||He.shouldForwardProp,ee=xV(x,Ee,D)||Xl,ie=(function(_e,ke,Je){for(var We,Xe=Wn(Wn({},ke),{className:void 0,theme:Je}),Et=0;Et<_e.length;Et+=1){var Y=xa(We=_e[Et])?We(Xe):We;for(var Te in Y)Xe[Te]=Te==="className"?ha(Xe[Te],Y[Te]):Te==="style"?Wn(Wn({},Xe[Te]),Y[Te]):Y[Te]}return ke.className&&(Xe.className=ha(Xe.className,ke.className)),Xe})(k,x,ee),ne=ie.as||ze,M={};for(var G in ie)ie[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&ie.theme===ee||(G==="forwardedAs"?M.as=ie.forwardedAs:Be&&!Be(G,ne)||(M[G]=ie[G]));var ae=(function(_e,ke){var Je=eb(),We=_e.generateAndInjectStyles(ke,Je.styleSheet,Je.stylis);return We})(P,ie),ce=ha(F,R);return ae&&(ce+=" "+ae),ie.className&&(ce+=" "+ie.className),M[sg(ne)&&!aI.has(ne)?"class":"className"]=ce,I&&(M.ref=I),C.createElement(ne,M)})(z,J,se)}V.displayName=E;var z=nt.forwardRef(V);return z.attrs=A,z.componentStyle=W,z.displayName=E,z.shouldForwardProp=L,z.foldedComponentIds=r?ha(i.foldedComponentIds,i.styledComponentId):"",z.styledComponentId=T,z.target=r?i.target:t,Object.defineProperty(z,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(J){this._foldedDefaultProps=r?(function(se){for(var Q=[],x=1;x<arguments.length;x++)Q[x-1]=arguments[x];for(var I=0,k=Q;I<k.length;I++)Hg(se,k[I],!0);return se})({},i.defaultProps,J):J}}),Sw(z,function(){return".".concat(z.styledComponentId)}),a&&fI(z,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),z}function nb(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var rb=function(t){return Object.assign(t,{isCss:!0})};function _n(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xa(t)||Tu(t))return rb(ga(nb(cp,yf([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ga(r):rb(ga(nb(r,e)))}function Wg(t,e,n){if(n===void 0&&(n=Xl),!e)throw Sa(1,e);var r=function(i){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];return t(e,n,_n.apply(void 0,yf([i],a,!1)))};return r.attrs=function(i){return Wg(t,e,Wn(Wn({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Wg(t,e,Wn(Wn({},n),i))},r}var _I=function(t){return Wg(a5,t)},it=_I;aI.forEach(function(t){it[t]=_I(t)});var To;function Zl(t,e){return t[e]}function l5(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function c5(t=[],e,n="id"){const r=t.slice(),i=Zl(e,n);return i?r.splice(r.findIndex((a=>Zl(a,n)===i)),1):r.splice(r.findIndex((a=>a===e)),1),r}function sb(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function fu(t,e){return Math.ceil(t/e)}function og(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(To||(To={}));const wn=()=>null;function EI(t,e=[],n=[]){let r={},i=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(i=[...i,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:i.join(" ")}}function Oh(t,e=[],n="id"){const r=Zl(t,n);return r?e.some((i=>Zl(i,n)===r)):e.some((i=>i===t))}function mh(t,e){return e?t.findIndex((n=>pu(n.id,e))):-1}function pu(t,e){return t==e}function u5(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:i,rowCount:a,mergeSelections:c}=e,h=!t.allSelected,f=!t.toggleOnSelectedRowsChange;if(c){const g=h?[...t.selectedRows,...i.filter((v=>!Oh(v,t.selectedRows,r)))]:t.selectedRows.filter((v=>!Oh(v,i,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:g.length,selectedRows:g,toggleOnSelectedRowsChange:f})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?i:[],toggleOnSelectedRowsChange:f})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:i,isSelected:a,rowCount:c,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[i],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:c5(t.selectedRows,i,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===c,selectedRows:l5(t.selectedRows,i),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:i,totalRows:a,mergeSelections:c}=e;if(c){const h=[...t.selectedRows,...i.filter((f=>!Oh(f,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:i.length,allSelected:i.length===a,selectedRows:i,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:i,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:i,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:i,visibleOnly:a,persistSelectedOnPageChange:c}=e,h=i&&c,f=i&&!c||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),f&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:i}=e;return Object.assign(Object.assign({},t),{currentPage:i,rowsPerPage:r})}}}const d5=_n`
	pointer-events: none;
	opacity: 0.4;
`,h5=it.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&d5};
	${({theme:t})=>t.table.style};
`,f5=_n`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,p5=it.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&f5};
	${({theme:t})=>t.head.style};
`,m5=it.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,bI=(t,...e)=>_n`
		@media screen and (max-width: ${599}px) {
			${_n(t,...e)}
		}
	`,g5=(t,...e)=>_n`
		@media screen and (max-width: ${959}px) {
			${_n(t,...e)}
		}
	`,y5=(t,...e)=>_n`
		@media screen and (max-width: ${1280}px) {
			${_n(t,...e)}
		}
	`,w5=t=>(e,...n)=>_n`
			@media screen and (max-width: ${t}px) {
				${_n(e,...n)}
			}
		`,mc=it.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,CI=it(mc)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&_n`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&bI`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&g5`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&y5`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&w5(t)`
    display: none;
  `};
`,v5=_n`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,_5=it(CI).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&v5};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var E5=C.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:i,isDragging:a,onDragStart:c,onDragOver:h,onDragEnd:f,onDragEnter:g,onDragLeave:v}){const{conditionalStyle:E,classNames:T}=EI(n,e.conditionalCellStyles,["rdt_TableCell"]);return C.createElement(_5,{id:t,"data-column-id":e.id,role:"cell",className:T,"data-tag":i,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:E,$isDragging:a,onDragStart:c,onDragOver:h,onDragEnd:f,onDragEnter:g,onDragLeave:v},!e.cell&&C.createElement("div",{"data-tag":i},(function(A,L,U,O){return L?U&&typeof U=="function"?U(A,O):L(A,O):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const ib="input";var TI=C.memo((function({name:t,component:e=ib,componentOptions:n={style:{}},indeterminate:r=!1,checked:i=!1,disabled:a=!1,onClick:c=wn}){const h=e,f=h!==ib?n.style:(v=>Object.assign(Object.assign({fontSize:"18px"},!v&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),g=C.useMemo((()=>(function(v,...E){let T;return Object.keys(v).map((A=>v[A])).forEach(((A,L)=>{typeof A=="function"&&(T=Object.assign(Object.assign({},v),{[Object.keys(v)[L]]:A(...E)}))})),T||v})(n,r)),[n,r]);return C.createElement(h,Object.assign({type:"checkbox",ref:v=>{v&&(v.indeterminate=r)},style:f,onClick:a?wn:c,name:t,"aria-label":t,checked:i,disabled:a},g,{onChange:wn}))}));const b5=it(mc)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function C5({name:t,keyField:e,row:n,rowCount:r,selected:i,selectableRowsComponent:a,selectableRowsComponentProps:c,selectableRowsSingle:h,selectableRowDisabled:f,onSelectedRow:g}){const v=!(!f||!f(n));return C.createElement(b5,{onClick:E=>E.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},C.createElement(TI,{name:t,component:a,componentOptions:c,checked:i,"aria-checked":i,onClick:()=>{g({type:"SELECT_SINGLE_ROW",row:n,isSelected:i,keyField:e,rowCount:r,singleSelect:h})},disabled:v}))}const T5=it.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function I5({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:i,onToggled:a}){const c=e?n.expanded:n.collapsed;return C.createElement(T5,{"aria-disabled":t,onClick:()=>a&&a(i),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},c)}const x5=it(mc)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function S5({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:i,disabled:a=!1}){return C.createElement(x5,{onClick:c=>c.stopPropagation(),$noPadding:!0},C.createElement(I5,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:i}))}const k5=it.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var R5=C.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:i}){const a=["rdt_ExpanderRow",...i.split(" ").filter((c=>c!=="rdt_TableRow"))].join(" ");return C.createElement(k5,{className:a,$extendedRowStyle:r},C.createElement(e,Object.assign({data:t},n)))}));const ag="allowRowEvents";var bf,Gg,ob;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(bf||(bf={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(Gg||(Gg={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(ob||(ob={}));const P5=_n`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,A5=_n`
	&:hover {
		cursor: pointer;
	}
`,N5=it.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&P5};
	${({$pointerOnHover:t})=>t&&A5};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function D5({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:i=!1,expandableIcon:a,expandableRows:c=!1,expandableRowsComponent:h,expandableRowsComponentProps:f,expandableRowsHideExpander:g,expandOnRowClicked:v=!1,expandOnRowDoubleClicked:E=!1,highlightOnHover:T=!1,id:A,expandableInheritConditionalStyles:L,keyField:U,onRowClicked:O=wn,onRowDoubleClicked:W=wn,onRowMouseEnter:V=wn,onRowMouseLeave:z=wn,onRowExpandToggled:J=wn,onSelectedRow:se=wn,pointerOnHover:Q=!1,row:x,rowCount:I,rowIndex:k,selectableRowDisabled:P=null,selectableRows:D=!1,selectableRowsComponent:F,selectableRowsComponentProps:R,selectableRowsHighlight:ze=!1,selectableRowsSingle:Ee=!1,selected:He,striped:Be=!1,draggingColumnId:ee,onDragStart:ie,onDragOver:ne,onDragEnd:M,onDragEnter:G,onDragLeave:ae}){const[ce,_e]=C.useState(n);C.useEffect((()=>{_e(n)}),[n]);const ke=C.useCallback((()=>{_e(!ce),J(!ce,x)}),[ce,J,x]),Je=Q||c&&(v||E),We=C.useCallback((he=>{he.target.getAttribute("data-tag")===ag&&(O(x,he),!r&&c&&v&&ke())}),[r,v,c,ke,O,x]),Xe=C.useCallback((he=>{he.target.getAttribute("data-tag")===ag&&(W(x,he),!r&&c&&E&&ke())}),[r,E,c,ke,W,x]),Et=C.useCallback((he=>{V(x,he)}),[V,x]),Y=C.useCallback((he=>{z(x,he)}),[z,x]),Te=Zl(x,U),{conditionalStyle:ve,classNames:De}=EI(x,e,["rdt_TableRow"]),ye=ze&&He,xe=L?ve:{},me=Be&&k%2==0;return C.createElement(C.Fragment,null,C.createElement(N5,{id:`row-${A}`,role:"row",$striped:me,$highlightOnHover:T,$pointerOnHover:!r&&Je,$dense:i,onClick:We,onDoubleClick:Xe,onMouseEnter:Et,onMouseLeave:Y,className:De,$selected:ye,$conditionalStyle:ve},D&&C.createElement(C5,{name:`select-row-${Te}`,keyField:U,row:x,rowCount:I,selected:He,selectableRowsComponent:F,selectableRowsComponentProps:R,selectableRowDisabled:P,selectableRowsSingle:Ee,onSelectedRow:se}),c&&!g&&C.createElement(S5,{id:Te,expandableIcon:a,expanded:ce,row:x,onToggled:ke,disabled:r}),t.map((he=>he.omit?null:C.createElement(E5,{id:`cell-${he.id}-${Te}`,key:`cell-${he.id}-${Te}`,dataTag:he.ignoreRowClick||he.button?null:ag,column:he,row:x,rowIndex:k,isDragging:pu(ee,he.id),onDragStart:ie,onDragOver:ne,onDragEnd:M,onDragEnter:G,onDragLeave:ae})))),c&&ce&&C.createElement(R5,{key:`expander-${Te}`,data:x,extendedRowStyle:xe,extendedClassNames:De,ExpanderComponent:h,expanderComponentProps:f}))}const O5=it.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,j5=({sortActive:t,sortDirection:e})=>nt.createElement(O5,{$sortActive:t,$sortDirection:e},"▲"),L5=it(CI)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,M5=_n`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&_n`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,V5=it.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&M5};
`,F5=it.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var $5=C.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:i,sortIcon:a,sortServer:c,pagination:h,paginationServer:f,persistSelectedOnSort:g,selectableRowsVisibleOnly:v,onSort:E,onDragStart:T,onDragOver:A,onDragEnd:L,onDragEnter:U,onDragLeave:O}){C.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[W,V]=C.useState(!1),z=C.useRef(null);if(C.useEffect((()=>{z.current&&V(z.current.scrollWidth>z.current.clientWidth)}),[W]),t.omit)return null;const J=()=>{if(!t.sortable&&!t.selector)return;let R=i;pu(r.id,t.id)&&(R=i===To.ASC?To.DESC:To.ASC),E({type:"SORT_CHANGE",sortDirection:R,selectedColumn:t,clearSelectedOnSort:h&&f&&!g||c||v})},se=R=>C.createElement(j5,{sortActive:R,sortDirection:i}),Q=()=>C.createElement("span",{className:[i,"__rdt_custom_sort_icon__"].join(" ")},a),x=!(!t.sortable||!pu(r.id,t.id)),I=!t.sortable||e,k=t.sortable&&!a&&!t.right,P=t.sortable&&!a&&t.right,D=t.sortable&&a&&!t.right,F=t.sortable&&a&&t.right;return C.createElement(L5,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:pu(t.id,n),onDragStart:T,onDragOver:A,onDragEnd:L,onDragEnter:U,onDragLeave:O},t.name&&C.createElement(V5,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:I?void 0:J,onKeyPress:I?void 0:R=>{R.key==="Enter"&&J()},$sortActive:!I&&x,disabled:I},!I&&F&&Q(),!I&&P&&se(x),typeof t.name=="string"?C.createElement(F5,{title:W?t.name:void 0,ref:z,"data-column-id":t.id},t.name):t.name,!I&&D&&Q(),!I&&k&&se(x)))}));const U5=it(mc)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function B5({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:i,selectedRows:a,selectableRowsComponent:c,selectableRowsComponentProps:h,selectableRowDisabled:f,onSelectAllRows:g}){const v=a.length>0&&!r,E=f?e.filter((L=>!f(L))):e,T=E.length===0,A=Math.min(e.length,E.length);return C.createElement(U5,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},C.createElement(TI,{name:"select-all-rows",component:c,componentOptions:h,onClick:()=>{g({type:"SELECT_ALL_ROWS",rows:E,rowCount:A,mergeSelections:i,keyField:n})},checked:r,indeterminate:v,disabled:T}))}function II(t=bf.AUTO){const e=typeof window=="object",[n,r]=C.useState(!1);return C.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const i=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],c=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||c.dir==="rtl";r(i&&h)}}),[t,e]),n}const z5=it.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,H5=it.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,ab=it.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function q5({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:i}){const a=II(i),c=r>0;return n?C.createElement(ab,{$visible:c},C.cloneElement(n,{selectedCount:r})):C.createElement(ab,{$visible:c,$rtl:a},C.createElement(z5,null,((h,f,g)=>{if(f===0)return null;const v=f===1?h.singular:h.plural;return g?`${f} ${h.message||""} ${v}`:`${f} ${v} ${h.message||""}`})(t,r,a)),C.createElement(H5,null,e))}const W5=it.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,G5=it.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,K5=it.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,J5=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:i,selectedCount:a,direction:c,showMenu:h=!0})=>C.createElement(W5,{className:"rdt_TableHeader",role:"heading","aria-level":1},C.createElement(G5,null,t),e&&C.createElement(K5,null,e),h&&C.createElement(q5,{contextMessage:n,contextActions:r,contextComponent:i,direction:c,selectedCount:a}));function xI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const Q5={left:"flex-start",right:"flex-end",center:"center"},Y5=it.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>Q5[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,X5=t=>{var{align:e="right",wrapContent:n=!0}=t,r=xI(t,["align","wrapContent"]);return C.createElement(Y5,Object.assign({align:e,$wrapContent:n},r))},Z5=it.div`
	display: flex;
	flex-direction: column;
`,e4=it.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&_n`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&_n`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,lb=it.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,t4=it.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,n4=it(mc)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,r4=it.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,s4=()=>nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},nt.createElement("path",{d:"M7 10l5 5 5-5z"}),nt.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),i4=it.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,o4=it.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,a4=t=>{var{defaultValue:e,onChange:n}=t,r=xI(t,["defaultValue","onChange"]);return C.createElement(o4,null,C.createElement(i4,Object.assign({onChange:n,defaultValue:e},r)),C.createElement(s4,null))},fe={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return nt.createElement("div",null,"To add an expander pass in a component instance via ",nt.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:nt.createElement((()=>nt.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},nt.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),nt.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:nt.createElement((()=>nt.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},nt.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),nt.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:nt.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:nt.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Gg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:nt.createElement((()=>nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},nt.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),nt.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:nt.createElement((()=>nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},nt.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),nt.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:nt.createElement((()=>nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},nt.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),nt.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:nt.createElement((()=>nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},nt.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),nt.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:bf.AUTO,onChangePage:wn,onChangeRowsPerPage:wn,onRowClicked:wn,onRowDoubleClicked:wn,onRowMouseEnter:wn,onRowMouseLeave:wn,onRowExpandToggled:wn,onSelectedRowsChange:wn,onSort:wn,onColumnOrderChange:wn},l4={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},c4=it.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,gh=it.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,u4=it.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${bI`
    width: 100%;
    justify-content: space-around;
  `};
`,SI=it.span`
	flex-shrink: 1;
	user-select: none;
`,d4=it(SI)`
	margin: 0 24px;
`,h4=it(SI)`
	margin: 0 4px;
`;var f4=C.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=fe.direction,paginationRowsPerPageOptions:i=fe.paginationRowsPerPageOptions,paginationIconLastPage:a=fe.paginationIconLastPage,paginationIconFirstPage:c=fe.paginationIconFirstPage,paginationIconNext:h=fe.paginationIconNext,paginationIconPrevious:f=fe.paginationIconPrevious,paginationComponentOptions:g=fe.paginationComponentOptions,onChangeRowsPerPage:v=fe.onChangeRowsPerPage,onChangePage:E=fe.onChangePage}){const T=(()=>{const R=typeof window=="object";function ze(){return{width:R?window.innerWidth:void 0,height:R?window.innerHeight:void 0}}const[Ee,He]=C.useState(ze);return C.useEffect((()=>{if(!R)return()=>null;function Be(){He(ze())}return window.addEventListener("resize",Be),()=>window.removeEventListener("resize",Be)}),[]),Ee})(),A=II(r),L=T.width&&T.width>599,U=fu(e,t),O=n*t,W=O-t+1,V=n===1,z=n===U,J=Object.assign(Object.assign({},l4),g),se=n===U?`${W}-${e} ${J.rangeSeparatorText} ${e}`:`${W}-${O} ${J.rangeSeparatorText} ${e}`,Q=C.useCallback((()=>E(n-1)),[n,E]),x=C.useCallback((()=>E(n+1)),[n,E]),I=C.useCallback((()=>E(1)),[E]),k=C.useCallback((()=>E(fu(e,t))),[E,e,t]),P=C.useCallback((R=>v(Number(R.target.value),n)),[n,v]),D=i.map((R=>C.createElement("option",{key:R,value:R},R)));J.selectAllRowsItem&&D.push(C.createElement("option",{key:-1,value:e},J.selectAllRowsItemText));const F=C.createElement(a4,{onChange:P,defaultValue:t,"aria-label":J.rowsPerPageText},D);return C.createElement(c4,{className:"rdt_Pagination"},!J.noRowsPerPage&&L&&C.createElement(C.Fragment,null,C.createElement(h4,null,J.rowsPerPageText),F),L&&C.createElement(d4,null,se),C.createElement(u4,null,C.createElement(gh,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":V,onClick:I,disabled:V,$isRTL:A},c),C.createElement(gh,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":V,onClick:Q,disabled:V,$isRTL:A},f),!J.noRowsPerPage&&!L&&F,C.createElement(gh,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":z,onClick:x,disabled:z,$isRTL:A},h),C.createElement(gh,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":z,onClick:k,disabled:z,$isRTL:A},a)))}));const ua=(t,e)=>{const n=C.useRef(!0);C.useEffect((()=>{n.current?n.current=!1:t()}),e)};function p4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m4=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===g4})(e)})(t)},g4=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Iu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ec((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function y4(t,e,n){return t.concat(e).map((function(r){return Iu(r,n)}))}function cb(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function ub(t,e){try{return e in t}catch{return!1}}function w4(t,e,n){var r={};return n.isMergeableObject(t)&&cb(t).forEach((function(i){r[i]=Iu(t[i],n)})),cb(e).forEach((function(i){(function(a,c){return ub(a,c)&&!(Object.hasOwnProperty.call(a,c)&&Object.propertyIsEnumerable.call(a,c))})(t,i)||(ub(t,i)&&n.isMergeableObject(e[i])?r[i]=(function(a,c){if(!c.customMerge)return ec;var h=c.customMerge(a);return typeof h=="function"?h:ec})(i,n)(t[i],e[i],n):r[i]=Iu(e[i],n))})),r}function ec(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||y4,n.isMergeableObject=n.isMergeableObject||m4,n.cloneUnlessOtherwiseSpecified=Iu;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):w4(t,e,n):Iu(e,n)}ec.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return ec(n,r,e)}),{})};var Kg=p4(ec);const db={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},co={default:db,light:db,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function v4(t="default",e,n="default"){return co[t]||(co[t]=Kg(co[n],e||{})),co[t]=Kg(co[t],e||{}),co[t]}function _4(t,e,n,r){const[i,a]=C.useState((()=>sb(t))),[c,h]=C.useState(""),f=C.useRef("");ua((()=>{a(sb(t))}),[t]);const g=C.useCallback((O=>{var W,V,z;const{attributes:J}=O.target,se=(W=J.getNamedItem("data-column-id"))===null||W===void 0?void 0:W.value;se&&(f.current=((z=(V=i[mh(i,se)])===null||V===void 0?void 0:V.id)===null||z===void 0?void 0:z.toString())||"",h(f.current))}),[i]),v=C.useCallback((O=>{var W;const{attributes:V}=O.target,z=(W=V.getNamedItem("data-column-id"))===null||W===void 0?void 0:W.value;if(z&&f.current&&z!==f.current){const J=mh(i,f.current),se=mh(i,z),Q=[...i];Q[J]=i[se],Q[se]=i[J],a(Q),e(Q)}}),[e,i]),E=C.useCallback((O=>{O.preventDefault()}),[]),T=C.useCallback((O=>{O.preventDefault()}),[]),A=C.useCallback((O=>{O.preventDefault(),f.current="",h("")}),[]),L=(function(O=!1){return O?To.ASC:To.DESC})(r),U=C.useMemo((()=>i[mh(i,n?.toString())]||{}),[n,i]);return{tableColumns:i,draggingColumnId:c,handleDragStart:g,handleDragEnter:v,handleDragOver:E,handleDragLeave:T,handleDragEnd:A,defaultSortDirection:L,defaultSortColumn:U}}var E4=C.memo((function(t){const{data:e=fe.data,columns:n=fe.columns,title:r=fe.title,actions:i=fe.actions,keyField:a=fe.keyField,striped:c=fe.striped,highlightOnHover:h=fe.highlightOnHover,pointerOnHover:f=fe.pointerOnHover,dense:g=fe.dense,selectableRows:v=fe.selectableRows,selectableRowsSingle:E=fe.selectableRowsSingle,selectableRowsHighlight:T=fe.selectableRowsHighlight,selectableRowsNoSelectAll:A=fe.selectableRowsNoSelectAll,selectableRowsVisibleOnly:L=fe.selectableRowsVisibleOnly,selectableRowSelected:U=fe.selectableRowSelected,selectableRowDisabled:O=fe.selectableRowDisabled,selectableRowsComponent:W=fe.selectableRowsComponent,selectableRowsComponentProps:V=fe.selectableRowsComponentProps,onRowExpandToggled:z=fe.onRowExpandToggled,onSelectedRowsChange:J=fe.onSelectedRowsChange,expandableIcon:se=fe.expandableIcon,onChangeRowsPerPage:Q=fe.onChangeRowsPerPage,onChangePage:x=fe.onChangePage,paginationServer:I=fe.paginationServer,paginationServerOptions:k=fe.paginationServerOptions,paginationTotalRows:P=fe.paginationTotalRows,paginationDefaultPage:D=fe.paginationDefaultPage,paginationResetDefaultPage:F=fe.paginationResetDefaultPage,paginationPerPage:R=fe.paginationPerPage,paginationRowsPerPageOptions:ze=fe.paginationRowsPerPageOptions,paginationIconLastPage:Ee=fe.paginationIconLastPage,paginationIconFirstPage:He=fe.paginationIconFirstPage,paginationIconNext:Be=fe.paginationIconNext,paginationIconPrevious:ee=fe.paginationIconPrevious,paginationComponent:ie=fe.paginationComponent,paginationComponentOptions:ne=fe.paginationComponentOptions,responsive:M=fe.responsive,progressPending:G=fe.progressPending,progressComponent:ae=fe.progressComponent,persistTableHead:ce=fe.persistTableHead,noDataComponent:_e=fe.noDataComponent,disabled:ke=fe.disabled,noTableHead:Je=fe.noTableHead,noHeader:We=fe.noHeader,fixedHeader:Xe=fe.fixedHeader,fixedHeaderScrollHeight:Et=fe.fixedHeaderScrollHeight,pagination:Y=fe.pagination,subHeader:Te=fe.subHeader,subHeaderAlign:ve=fe.subHeaderAlign,subHeaderWrap:De=fe.subHeaderWrap,subHeaderComponent:ye=fe.subHeaderComponent,noContextMenu:xe=fe.noContextMenu,contextMessage:me=fe.contextMessage,contextActions:he=fe.contextActions,contextComponent:Le=fe.contextComponent,expandableRows:be=fe.expandableRows,onRowClicked:Ze=fe.onRowClicked,onRowDoubleClicked:St=fe.onRowDoubleClicked,onRowMouseEnter:tt=fe.onRowMouseEnter,onRowMouseLeave:ot=fe.onRowMouseLeave,sortIcon:at=fe.sortIcon,onSort:lt=fe.onSort,sortFunction:kt=fe.sortFunction,sortServer:vr=fe.sortServer,expandableRowsComponent:jo=fe.expandableRowsComponent,expandableRowsComponentProps:Es=fe.expandableRowsComponentProps,expandableRowDisabled:bs=fe.expandableRowDisabled,expandableRowsHideExpander:Cs=fe.expandableRowsHideExpander,expandOnRowClicked:Lo=fe.expandOnRowClicked,expandOnRowDoubleClicked:Mo=fe.expandOnRowDoubleClicked,expandableRowExpanded:Ni=fe.expandableRowExpanded,expandableInheritConditionalStyles:Vo=fe.expandableInheritConditionalStyles,defaultSortFieldId:Fo=fe.defaultSortFieldId,defaultSortAsc:Xs=fe.defaultSortAsc,clearSelectedRows:Zs=fe.clearSelectedRows,conditionalRowStyles:Di=fe.conditionalRowStyles,theme:Qn=fe.theme,customStyles:_r=fe.customStyles,direction:Lr=fe.direction,onColumnOrderChange:Mr=fe.onColumnOrderChange,className:$o,ariaLabel:Ts}=t,{tableColumns:Oi,draggingColumnId:Vr,handleDragStart:ji,handleDragEnter:Ft,handleDragOver:ei,handleDragLeave:ir,handleDragEnd:Is,defaultSortDirection:ti,defaultSortColumn:Li}=_4(n,Mr,Fo,Xs),[{rowsPerPage:rn,currentPage:Rn,selectedRows:Uo,allSelected:ni,selectedCount:Bo,selectedColumn:Kt,sortDirection:or,toggleOnSelectedRowsChange:Er},Fr]=C.useReducer(u5,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Li,toggleOnSelectedRowsChange:!1,sortDirection:ti,currentPage:D,rowsPerPage:R,selectedRowsFlag:!1,contextMessage:fe.contextMessage}),{persistSelectedOnSort:Mi=!1,persistSelectedOnPageChange:ts=!1}=k,ri=!(!I||!ts&&!Mi),zo=Y&&!G&&e.length>0,Fa=ie||f4,gc=C.useMemo((()=>((Me={},rt="default",$t="default")=>{const pn=co[rt]?rt:$t;return Kg({table:{style:{color:(qe=co[pn]).text.primary,backgroundColor:qe.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:qe.text.primary,backgroundColor:qe.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:qe.background.default,minHeight:"52px"}},head:{style:{color:qe.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:qe.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:qe.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:qe.context.background,fontSize:"18px",fontWeight:400,color:qe.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:qe.text.primary,backgroundColor:qe.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:qe.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:qe.selected.text,backgroundColor:qe.selected.default,borderBottomColor:qe.background.default}},highlightOnHoverStyle:{color:qe.highlightOnHover.text,backgroundColor:qe.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:qe.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:qe.background.default},stripedStyle:{color:qe.striped.text,backgroundColor:qe.striped.default}},expanderRow:{style:{color:qe.text.primary,backgroundColor:qe.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:qe.button.default,fill:qe.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:qe.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:qe.button.hover},"&:focus":{outline:"none",backgroundColor:qe.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:qe.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:qe.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:qe.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:qe.button.default,fill:qe.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:qe.button.disabled,fill:qe.button.disabled},"&:hover:not(:disabled)":{backgroundColor:qe.button.hover},"&:focus":{outline:"none",backgroundColor:qe.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:qe.text.primary,backgroundColor:qe.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:qe.text.primary,backgroundColor:qe.background.default}}},Me);var qe})(_r,Qn)),[_r,Qn]),Rt=C.useMemo((()=>Object.assign({},Lr!=="auto"&&{dir:Lr})),[Lr]),Yt=C.useMemo((()=>{if(vr)return e;if(Kt?.sortFunction&&typeof Kt.sortFunction=="function"){const Me=Kt.sortFunction,rt=or===To.ASC?Me:($t,pn)=>-1*Me($t,pn);return[...e].sort(rt)}return(function(Me,rt,$t,pn){return rt?pn&&typeof pn=="function"?pn(Me.slice(0),rt,$t):Me.slice(0).sort(((qe,Cr)=>{const sn=rt(qe),Fn=rt(Cr);if($t==="asc"){if(sn<Fn)return-1;if(sn>Fn)return 1}if($t==="desc"){if(sn>Fn)return-1;if(sn<Fn)return 1}return 0})):Me})(e,Kt?.selector,or,kt)}),[vr,Kt,or,e,kt]),br=C.useMemo((()=>{if(Y&&!I){const Me=Rn*rn,rt=Me-rn;return Yt.slice(rt,Me)}return Yt}),[Rn,Y,I,rn,Yt]),xs=C.useCallback((Me=>{Fr(Me)}),[]),ar=C.useCallback((Me=>{Fr(Me)}),[]),Ho=C.useCallback((Me=>{Fr(Me)}),[]),$a=C.useCallback(((Me,rt)=>Ze(Me,rt)),[Ze]),si=C.useCallback(((Me,rt)=>St(Me,rt)),[St]),Yn=C.useCallback(((Me,rt)=>tt(Me,rt)),[tt]),Ua=C.useCallback(((Me,rt)=>ot(Me,rt)),[ot]),Jt=C.useCallback((Me=>Fr({type:"CHANGE_PAGE",page:Me,paginationServer:I,visibleOnly:L,persistSelectedOnPageChange:ts})),[I,ts,L]),qo=C.useCallback((Me=>{const rt=fu(P||br.length,Me),$t=og(Rn,rt);I||Jt($t),Fr({type:"CHANGE_ROWS_PER_PAGE",page:$t,rowsPerPage:Me})}),[Rn,Jt,I,P,br.length]);if(Y&&!I&&Yt.length>0&&br.length===0){const Me=fu(Yt.length,rn),rt=og(Rn,Me);Jt(rt)}ua((()=>{J({allSelected:ni,selectedCount:Bo,selectedRows:Uo.slice(0)})}),[Er]),ua((()=>{lt(Kt,or,Yt.slice(0))}),[Kt,or]),ua((()=>{x(Rn,P||Yt.length)}),[Rn]),ua((()=>{Q(rn,Rn)}),[rn]),ua((()=>{Jt(D)}),[D,F]),ua((()=>{if(Y&&I&&P>0){const Me=fu(P,rn),rt=og(Rn,Me);Rn!==rt&&Jt(rt)}}),[P]),C.useEffect((()=>{Fr({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Zs})}),[E,Zs]),C.useEffect((()=>{if(!U)return;const Me=Yt.filter(($t=>U($t))),rt=E?Me.slice(0,1):Me;Fr({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:rt,totalRows:Yt.length,mergeSelections:ri})}),[e,U]);const Ba=L?br:Yt,za=ts||E||A;return C.createElement(o5,{theme:gc},!We&&(!!r||!!i)&&C.createElement(J5,{title:r,actions:i,showMenu:!xe,selectedCount:Bo,direction:Lr,contextActions:he,contextComponent:Le,contextMessage:me}),Te&&C.createElement(X5,{align:ve,wrapContent:De},ye),C.createElement(e4,Object.assign({$responsive:M,$fixedHeader:Xe,$fixedHeaderScrollHeight:Et,className:$o},Rt),C.createElement(t4,null,G&&!ce&&C.createElement(lb,null,ae),C.createElement(h5,Object.assign({disabled:ke,className:"rdt_Table",role:"table"},Ts&&{"aria-label":Ts}),!Je&&(!!ce||Yt.length>0&&!G)&&C.createElement(p5,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:Xe},C.createElement(m5,{className:"rdt_TableHeadRow",role:"row",$dense:g},v&&(za?C.createElement(mc,{style:{flex:"0 0 48px"}}):C.createElement(B5,{allSelected:ni,selectedRows:Uo,selectableRowsComponent:W,selectableRowsComponentProps:V,selectableRowDisabled:O,rowData:Ba,keyField:a,mergeSelections:ri,onSelectAllRows:ar})),be&&!Cs&&C.createElement(n4,null),Oi.map((Me=>C.createElement($5,{key:Me.id,column:Me,selectedColumn:Kt,disabled:G||Yt.length===0,pagination:Y,paginationServer:I,persistSelectedOnSort:Mi,selectableRowsVisibleOnly:L,sortDirection:or,sortIcon:at,sortServer:vr,onSort:xs,onDragStart:ji,onDragOver:ei,onDragEnd:Is,onDragEnter:Ft,onDragLeave:ir,draggingColumnId:Vr}))))),!Yt.length&&!G&&C.createElement(r4,null,_e),G&&ce&&C.createElement(lb,null,ae),!G&&Yt.length>0&&C.createElement(Z5,{className:"rdt_TableBody",role:"rowgroup"},br.map(((Me,rt)=>{const $t=Zl(Me,a),pn=(function(Fn=""){return typeof Fn!="number"&&(!Fn||Fn.length===0)})($t)?rt:$t,qe=Oh(Me,Uo,a),Cr=!!(be&&Ni&&Ni(Me)),sn=!!(be&&bs&&bs(Me));return C.createElement(D5,{id:pn,key:pn,keyField:a,"data-row-id":pn,columns:Oi,row:Me,rowCount:Yt.length,rowIndex:rt,selectableRows:v,expandableRows:be,expandableIcon:se,highlightOnHover:h,pointerOnHover:f,dense:g,expandOnRowClicked:Lo,expandOnRowDoubleClicked:Mo,expandableRowsComponent:jo,expandableRowsComponentProps:Es,expandableRowsHideExpander:Cs,defaultExpanderDisabled:sn,defaultExpanded:Cr,expandableInheritConditionalStyles:Vo,conditionalRowStyles:Di,selected:qe,selectableRowsHighlight:T,selectableRowsComponent:W,selectableRowsComponentProps:V,selectableRowDisabled:O,selectableRowsSingle:E,striped:c,onRowExpandToggled:z,onRowClicked:$a,onRowDoubleClicked:si,onRowMouseEnter:Yn,onRowMouseLeave:Ua,onSelectedRow:Ho,draggingColumnId:Vr,onDragStart:ji,onDragOver:ei,onDragEnd:Is,onDragEnter:Ft,onDragLeave:ir})})))))),zo&&C.createElement("div",null,C.createElement(Fa,{onChangePage:Jt,onChangeRowsPerPage:qo,rowCount:P||Yt.length,currentPage:Rn,rowsPerPage:rn,direction:Lr,paginationRowsPerPageOptions:ze,paginationIconLastPage:Ee,paginationIconFirstPage:He,paginationIconNext:Be,paginationIconPrevious:ee,paginationComponentOptions:ne})))}));const hb=wr(Vn),b4=es(Vn);v4("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function C4({usuario:t}){const[e,n]=C.useState(!1),[r,i]=C.useState(null),[a,c]=C.useState(!1),[h,f]=C.useState(!1),[g,v]=C.useState(!1),[E,T]=C.useState(!1),A=C.useRef(null),L=()=>Au(b4);C.useEffect(()=>{const P=D=>{A.current&&!A.current.contains(D.target)&&T(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const U=P=>parseInt(P),O=t?.fotoPerfil||Ct,W=[{when:P=>P.pos==="1º",style:{background:"linear-gradient(135deg, rgb(255, 215, 0), rgb(218, 165, 32))",boxShadow:"0 0 8px rgba(255, 215, 0, 0.7), inset 0 0 4px rgba(255, 255, 255, 0.6)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:P=>P.pos==="2º",style:{background:"linear-gradient(135deg, rgb(192,192,192), rgb(169,169,169))",boxShadow:"0 0 8px rgba(192,192,192, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.5)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:P=>P.pos==="3º",style:{background:"linear-gradient(135deg, rgb(205, 127, 50), rgb(139, 69, 19))",boxShadow:"0 0 8px rgba(205, 127, 50, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.4)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:P=>U(P.pos)>3&&U(P.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:P=>U(P.pos)>3&&U(P.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],V=[{name:"Pos.",selector:P=>P.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:P=>P.jugador,cell:P=>m.jsxs(vt,{to:P.id===t.uid?"/home":`/equipo/${P.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit",cursor:"pointer"},children:[m.jsx("img",{src:P.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"1px solid black"}}),m.jsx("span",{children:P.jugador})]})},{name:"Puntos",selector:P=>P.puntos,width:"5.5rem",center:!0}],z=()=>{c(!a)},J=P=>P.toLocaleString("es-ES")+"€";C.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const P=Pe(hb,"usuarios",t.uid);Tt(P).then(D=>{D.exists()&&i(D.data().dinero)})}},[t]);const[se,Q]=C.useState([]),[x,I]=C.useState(!1);C.useEffect(()=>{(async()=>{I(!0);try{const D=tn(hb,"usuarios");let ze=(await Qr(D)).docs.map(Ee=>({id:Ee.id,...Ee.data()})).sort((Ee,He)=>(He.puntos||0)-(Ee.puntos||0)).map((Ee,He)=>({id:Ee.id,pos:`${He+1}º`,jugador:Ee.nick||"Sin nombre",puntos:Ee.puntos||0,fotoPerfil:Ee.fotoPerfil||Ct}));Q(ze)}catch(D){console.error("Error al cargar usuarios:",D)}finally{I(!1)}})()},[]);const k={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:O,onError:P=>{P.currentTarget.onerror=null,P.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>T(!E),onMouseEnter:()=>T(!0)}),E&&m.jsxs("div",{className:"perfil-bocadillo",ref:A,onMouseLeave:()=>T(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{f(!0),T(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:L,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{v(!0),T(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:J(r)})]})]})]}),m.jsx("button",{onClick:z,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ia})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&m.jsx(Gl,{usuario:t,openModal:h,setOpenModal:f}),g&&m.jsx(Kl,{usuario:t,openModal:g,setOpenModal:v}),m.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:m.jsx(E4,{title:"CLASIFICACIÓN",columns:V,data:se,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:x,progressComponent:m.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:W,customStyles:k,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:m.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}function T4({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,idUsuario:i}){const a=es(),c=wr();Qu();const h=t?.foto||Ct,[f,g]=C.useState(!1),[v,E]=C.useState(!1),T=async()=>{if(!t||!a.currentUser)return;if(!v||!f){await Ne.fire({icon:"error",title:"Jornada Empezada",text:"No se puede pagar clausulas un día antes de la jornada.",confirmButtonText:"Ok"});return}const V=a.currentUser,z=Pe(c,"usuarios",V.uid),J=Pe(c,"usuarios",i),se=Pe(c,"jugadores",t.id);try{const[Q,x]=await Promise.all([Tt(z),Tt(J)]);if(!Q.exists()||!x.exists())throw new Error("Usuario no encontrado en la base de datos");const I=Q.data(),k=x.data(),P=I.equipo.titulares.findIndex(ie=>ie.jugadorId===null),D=I.equipo.banquillo.findIndex(ie=>ie.jugadorId===null);if(P===-1&&D===-1){await Ne.fire({icon:"error",title:"Equipo completo",text:"No tienes hueco en tu plantilla para fichar a este jugador.",confirmButtonText:"Ok"});return}if(I.dinero<e){await Ne.fire({icon:"error",title:"Fondos insuficientes",text:"No tienes suficiente dinero para pagar esta cláusula.",confirmButtonText:"Ok"});return}await xt(z,{dinero:I.dinero-e}),await xt(J,{dinero:k.dinero+e});let F=[...I.equipo.titulares],R=[...I.equipo.banquillo];P!==-1?F[P]={jugadorId:t.id,clausulaPersonal:Math.round(e*1.5)}:R[D]={jugadorId:t.id,clausulaPersonal:Math.round(e*1.5)},await xt(z,{"equipo.titulares":F,"equipo.banquillo":R});let ze=[...k.equipo.titulares],Ee=[...k.equipo.banquillo];ze=ze.map(ie=>ie.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:ie),Ee=Ee.map(ie=>ie.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:ie),await xt(J,{"equipo.titulares":ze,"equipo.banquillo":Ee}),await xt(se,{dueños:Ca(i)}),await xt(se,{dueños:Qf(V.uid)}),await rf(tn(c,"historial"),{tipo:"clausulazo",compradorUid:V.uid,compradorNombre:I.nick,vendedorUid:i,vendedorNombre:k.nick,jugadorId:t.id,jugadorNombre:t.nombre,precio:e,fecha:new Date}),await Ne.fire({icon:"success",title:"¡Cláusula pagada!",html:`Has fichado a <strong>${t.nombre}</strong> por <strong>${e.toLocaleString("es-ES")}€</strong><br/>Nueva cláusula: <strong>${Math.round(e*1.5).toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"});const He=tn(c,"mercado/usuarios"),Be=$s(He,Ei("jugadorId","==",t.id)),ee=await Qr(Be);for(const ie of ee.docs)await Xy(Pe(c,"mercado/usuarios",ie.id));window.location.reload()}catch(Q){console.error("Error al pagar cláusula:",Q),await Ne.fire({icon:"error",title:"Error",text:"No se pudo completar el pago de la cláusula.",confirmButtonText:"Ok"})}},A=async()=>{if(!t||!user)return;if(!f){await Ne.fire({icon:"error",title:"Jornada Empezada",text:"No se puede vender con la jornada empezada.",confirmButtonText:"Ok"});return}const V=Math.round(t.precio*.6),z=Pe(c,"usuarios",user.uid),J=Pe(c,"jugadores",t.id);try{await xt(z,{dinero:increment(V)}),await xt(J,{stockLibre:increment(1),dueños:Ca(user.uid)});const se=await Tt(z);if(se.exists()){const Q=se.data(),x=Q.equipo.titulares.map(k=>k.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:k),I=Q.equipo.banquillo.map(k=>k.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:k);await xt(z,{"equipo.titulares":x,"equipo.banquillo":I})}await rf(tn(c,"historial"),{tipo:"venta directa",vendedorNombre:user.nick,compradorNombre:"",jugadorNombre:t.nombre,fotoJugador:t?.foto,precio:V,fecha:new Date}),await Ne.fire({icon:"success",title:"¡Jugador vendido!",html:`Has recibido <strong>${V.toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"}),window.location.reload()}catch(se){console.error("Error en la venta:",se),await Ne.fire({icon:"error",title:"Error",text:"No se pudo completar la venta.",confirmButtonText:"Ok"})}};C.useEffect(()=>{(async()=>{try{const z=Pe(c,"admin","controles"),J=await Tt(z);if(J.exists()){const se=J.data();g(se.edicionActiva===!0),E(se.clausulaPermitida===!0)}}catch(z){console.error("Error al obtener estado de edición:",z)}})()},[]);const L=V=>{switch(V){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return V||"Sin posición"}},U=C.useRef(),O=V=>{V.target===U.current&&r(!1)},W=V=>V.toLocaleString("es-ES")+"€";return n?m.jsx("div",{className:"modal-overlay",ref:U,onClick:O,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:h,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:L(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",W(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const V=t.historialPrecios||[];if(V.length===0)return m.jsx("small",{children:"(±0€)"});const z=V[V.length-1].precio||0,J=t.precio-z,se=J>0?"+":J<0?"-":"±";return m.jsxs("small",{className:J>0?"subida":J<0?"bajada":"igual",children:["(",se,W(Math.abs(J)),")"]})})()})]}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",W(e)]})}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Media de puntos:"})," ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(V=>typeof V=="number").reduce((V,z,J,se)=>V+z/se.length,0).toFixed(2):"-"]})})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((V,z,J)=>{const se=V??"-",Q=J.length<5?z+1:t.puntosPorJornada.length-5+z+1;let x="";return typeof V=="number"&&(V>=9?x="verde":V<7?x="rojo":x="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",Q]}),m.jsx("div",{className:`jornada-cuadro ${x}`,children:se})]},z)}):[...Array(5)].map((V,z)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",z+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},z))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoración"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-footer",children:[m.jsxs("button",{className:"btn-accion",disabled:!v||!f,onClick:()=>{T()},children:["Pagar Cláusula",m.jsxs("small",{className:"precio-compra",children:["(-",W(t.precioClausula),")"]})]}),m.jsx("button",{className:"btn-accion",disabled:!f,onClick:()=>{A()},children:"Hacer oferta"})]})]})}):null}const lg=wr(Vn),I4=es(Vn),x4={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function fb(t,e,n){let r="white",i=null;if(!t)return{style:{borderColor:r},status:i};const a=x4[n]?.[e];if(!a)return{style:{borderColor:r},status:i};const c=t.posicion;return c==="POR"?r=a==="POR"?"green":"red":c==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":c==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":c==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),i=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:i}}function S4({usuario:t}){const{jugadorId:e}=ND(),[n,r]=C.useState(!0),[i,a]=C.useState(null),[c,h]=C.useState(!1),[f,g]=C.useState(!1),[v,E]=C.useState(null),T=t?.fotoPerfil||Ct,A=i?.equipo?.titulares||[],L=i?.equipo?.banquillo||[],[U,O]=C.useState([]),W=i?.equipo?.capitan||"",[V,z]=C.useState(i?.equipo?.formacion||"2-1-1"),[J,se]=C.useState(V);C.useEffect(()=>{i?.equipo?.formacion&&(z(i.equipo.formacion),se(i.equipo.formacion))},[i]);const[Q,x]=C.useState(!1),[I,k]=C.useState(!1),[P,D]=C.useState(!1),[F,R]=C.useState(null),[ze,Ee]=C.useState(!1),He=C.useRef(null),Be=()=>Au(I4);C.useEffect(()=>{const ne=M=>{He.current&&!He.current.contains(M.target)&&Ee(!1)};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[]),C.useEffect(()=>{if(window.particlesJS&&document.getElementById("particles-js")&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const ne=Pe(lg,"usuarios",t.uid);Tt(ne).then(M=>{M.exists()&&E(M.data().dinero)})}},[t]),C.useEffect(()=>{(async()=>{if(e){r(!0);try{const M=await Tt(Pe(lg,"usuarios",e));M.exists()?a({id:M.id,...M.data()}):a(null)}catch(M){console.error("Error fetching jugador:",M)}finally{r(!1)}}})()},[e]),C.useEffect(()=>{(async()=>{if(i?.equipo)try{const M=[...(i.equipo.titulares||[]).map(ke=>ke?.jugadorId).filter(Boolean),...(i.equipo.banquillo||[]).map(ke=>ke?.jugadorId).filter(Boolean)];if(M.length===0){O([]);return}const G=tn(lg,"jugadores"),ae=$s(G,Ei("__name__","in",M)),_e=(await Qr(ae)).docs.map(ke=>({id:ke.id,...ke.data()}));O(_e)}catch(M){console.error("Error cargando jugadores:",M)}})()},[i]);const ee=()=>{h(!c)},ie=ne=>ne.toLocaleString("es-ES")+"€";return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:T,onError:ne=>{ne.currentTarget.onerror=null,ne.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>Ee(!ze),onMouseEnter:()=>Ee(!0)}),ze&&m.jsxs("div",{className:"perfil-bocadillo",ref:He,onMouseLeave:()=>Ee(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{x(!0),Ee(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:Be,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{D(!0),Ee(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),v!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:ie(v)})]})]})]}),m.jsx("button",{onClick:ee,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${c?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ia})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Q&&m.jsx(Gl,{usuario:t,openModal:Q,setOpenModal:x}),P&&m.jsx(Kl,{usuario:t,openModal:P,setOpenModal:D}),I&&F&&m.jsx(T4,{jugador:F,clausulaPersonal:i?.equipo?.titulares?.find(ne=>ne.jugadorId===F.id)?.clausulaPersonal??i?.equipo?.banquillo?.find(ne=>ne.jugadorId===F.id)?.clausulaPersonal,openModal:I,setOpenModal:k,idUsuario:i?.id}),m.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1,marginTop:"0rem"},children:[m.jsxs("div",{className:"datos-equipo",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Formación:"})," ",m.jsx("small",{children:J})," "]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Dinero:"})," ",m.jsx("small",{children:m.jsx("span",{className:"verde",children:ie(i?.dinero||0)})})]})]}),m.jsx("div",{className:"ultimas-jornadas-equipo-jugador",children:i?.puntuaciones&&i?.puntuaciones.length>0?i?.puntuaciones.slice(-5).map((ne,M,G)=>{const ae=ne??"-",ce=G.length<5?M+1:i?.puntuaciones.length-5+M+1;let _e="";return typeof ne=="number"&&(ne>=36?_e="verde":ne<28?_e="rojo":_e="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",ce]}),m.jsx("div",{className:`jornada-cuadro ${_e}`,children:ae})]},M)}):[...Array(5)].map((ne,M)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",M+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},M))}),m.jsx("div",{className:"campo",children:Fg[J]?.map((ne,M)=>{const G=A[M],ae=U.find(ce=>ce.id===G?.jugadorId);return m.jsxs("div",{className:"jugador",style:{position:"absolute",top:ne.top,left:ne.left,transform:"translate(-50%, -50%)"},children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:ae?.foto||Ct,alt:ae?.nombre||"Vacío",className:"jugador-img",style:fb(ae,M,J).style,onClick:()=>{k(!0),R(ae)}}),(()=>{const{status:ce}=fb(ae,M,J);return console.log(ce),ce?ce==="green"?m.jsx("div",{className:"status-badge green",children:"✓"}):ce==="orange"?m.jsx("div",{className:"status-badge orange",children:"!"}):ce==="red"?m.jsx("div",{className:"status-badge red",children:"✕"}):null:null})(),W===ae?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(ae?.puntosPorJornada.length===0)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const ce=ae?.puntosPorJornada?.length?ae?.puntosPorJornada[ae?.puntosPorJornada.length-1]:null;if(ce==null)return null;let _e=ce==="-"?"gray":ce<7?"red":ce<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${_e}`,children:ce})})()]}),m.jsx("p",{className:"jugador-nombre",children:ae?.nombre||"Vacío"})]},ae?.id||M)})}),m.jsxs("div",{className:"banquillo-section",children:[m.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),m.jsx("div",{className:"banquillo-container",children:L.map((ne,M)=>{const G=U.find(ae=>ae.id===ne?.jugadorId);return m.jsx("div",{className:"banquillo-slot",children:G?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:G?.foto||Ct,alt:G?.nombre||"Vacío",className:"jugador-img",onClick:()=>{k(!0),R(G)}}),(()=>{if(G?.puntosPorJornada?.length===0)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const ae=G?.puntosPorJornada?.length?G?.puntosPorJornada[G?.puntosPorJornada.length-1]:null;if(ae==null)return null;let ce=ae==="-"?"gray":ae<7?"red":ae<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${ce}`,children:ae})})()]}),m.jsx("p",{className:"jugador-nombre-banquillo",children:G?.nombre})]}):m.jsx(vt,{className:"banquillo-add",children:"+"})})})})]})]})]}),f&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}const Xc=wr(Vn),k4=es(Vn);function R4({usuario:t}){const[e,n]=C.useState([]),[r,i]=C.useState(!1),a=C.useRef(null),[c,h]=C.useState(null),[f,g]=C.useState(!1),[v,E]=C.useState(!1),[T,A]=C.useState(!1),L=t?.fotoPerfil||Ct,U=()=>Au(k4);C.useEffect(()=>{const V=z=>{a.current&&!a.current.contains(z.target)&&A(!1)};return document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[]),C.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const z=Pe(Xc,"usuarios",t.uid);Tt(z).then(J=>{J.exists()&&h(J.data().dinero)})}(async()=>{try{const z=await Qr(tn(Xc,"historial"));if(z.empty)n([]);else{const J=z.docs.map(x=>({id:x.id,...x.data()})),Q=(await Promise.all(J.map(async x=>{let I={},k={},P={};if(x.jugadorId){const D=Pe(Xc,"jugadores",x.jugadorId),F=await Tt(D);F.exists()&&(I=F.data())}if(x.compradorUid){const D=Pe(Xc,"usuarios",x.compradorUid),F=await Tt(D);F.exists()&&(k=F.data())}if(x.vendedorUid){const D=Pe(Xc,"usuarios",x.vendedorUid),F=await Tt(D);F.exists()&&(P=F.data())}return{...x,jugadorNombre:I?.nombre||"Jugador desconocido",fotoJugador:I?.foto||Ct,compradorNombre:k?.nick||"Desconocido",vendedorNombre:P?.nick||"Fantasy Casadillos"}}))).sort((x,I)=>(I.fecha?.toMillis?.()||0)-(x.fecha?.toMillis?.()||0));n(Q)}}catch(z){console.error("Error cargando historial:",z),n([])}})()},[t]);const O=V=>typeof V!="number"||isNaN(V)?"—":V.toLocaleString("es-ES")+"€",W=()=>{i(!r)};return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:L,onError:V=>{V.currentTarget.onerror=null,V.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>A(!T),onMouseEnter:()=>A(!0)}),T&&m.jsxs("div",{className:"perfil-bocadillo",ref:a,onMouseLeave:()=>A(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{g(!0),A(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:U,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{E(!0),A(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),c!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:O(c)})]})]})]}),m.jsx("button",{onClick:W,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${r?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(vt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ia})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),f&&m.jsx(Gl,{usuario:t,openModal:f,setOpenModal:g}),v&&m.jsx(Kl,{usuario:t,openModal:v,setOpenModal:E}),m.jsxs("div",{className:"tabs-wrapper",children:[m.jsx("div",{className:"tabs-container",children:m.jsx("button",{className:"tab-btn active",children:"Historial de transacciones"})}),m.jsx("div",{className:"historial-container",children:e.length===0?m.jsx("div",{className:"sin-historial",children:m.jsx("p",{children:"🕒 Todavía no ha habido ninguna transacción"})}):m.jsx("ul",{className:"lista-historial",children:e.map(V=>{let z,J="#2c2c2c";return V.tipo==="venta directa"?(J="rgba(59, 1, 1, 0.64)",z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:{color:"white"},children:V.vendedorNombre})," ha vendido de forma rápida a"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:V.jugadorNombre})," por"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:O(V.precio)})]})):V.tipo==="clausulazo"?(J="rgba(0, 67, 6, 0.64)",z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:{color:"white"},children:V.compradorNombre})," ha pagado la cláusula de"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:V.jugadorNombre})," a"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:V.vendedorNombre})," por"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:O(V.precio)})]})):(J="rgba(0, 0, 0, 0.65)",z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:{color:"white"},children:V.compradorNombre})," ha pagado"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:O(V.precio)})," por"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:V.jugadorNombre})," a"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:V.vendedorNombre})]})),m.jsx("li",{className:"historial-item",style:{backgroundColor:J},children:m.jsxs("div",{className:"historial-card",children:[m.jsx("img",{src:V.fotoJugador,alt:V.jugadorNombre,className:"historial-foto"}),m.jsxs("div",{className:"historial-info",children:[m.jsx("p",{children:z}),m.jsx("small",{children:V.fecha?.toDate?V.fecha.toDate().toLocaleString("es-ES"):""})]})]})},V.id)})})})]})]})]})}function P4({usuario:t}){return m.jsx("main",{className:"fallback-root",role:"main",children:m.jsxs("div",{className:"fallback-card","aria-live":"polite",children:[m.jsx("div",{className:"fallback-illustration","aria-hidden":"true",children:m.jsxs("svg",{viewBox:"0 0 600 400",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"g1",x1:"0",x2:"1",children:[m.jsx("stop",{offset:"0",stopColor:"#06202a"}),m.jsx("stop",{offset:"1",stopColor:"#072f34"})]})}),m.jsx("rect",{width:"100%",height:"100%",rx:"16",fill:"url(#g1)",opacity:"0.12"}),m.jsxs("g",{transform:"translate(50,40)",fill:"none",stroke:"#bfe7e8",strokeOpacity:"0.08",strokeWidth:"6",children:[m.jsx("path",{d:"M0 150 C 120 10, 360 10, 480 150",strokeLinecap:"round"}),m.jsx("circle",{cx:"120",cy:"120",r:"18"}),m.jsx("circle",{cx:"360",cy:"120",r:"18"})]})]})}),m.jsxs("div",{className:"fallback-body",children:[m.jsx("h1",{className:"fallback-title",children:"Página no encontrada"}),m.jsxs("p",{className:"fallback-sub",children:["Lo sentimos, la ruta que buscas no existe o ha sido movida.",t?" Vamos a llevarte a tu panel.":" Usa el botón para volver al inicio."]}),m.jsxs("div",{className:"fallback-actions",children:[m.jsx(vt,{to:t?"/home":"/",className:"btn-primary",children:"Volver al inicio"}),t&&m.jsx(vt,{to:"/mercado",className:"btn-ghost",children:"Ir al mercado"})]}),m.jsx("small",{className:"fallback-hint",children:"Si crees que esto es un error, revisa la URL o contacta con soporte."})]})]})})}async function A4(t){const e=Pe(nD,"admin","mercado"),n=await Tt(e),r=new Date,i=new Date;if(i.setHours(0,0,0,0),!n.exists()){await zl(e,{ultimaActualizacion:i,ultimaActualizacionHora:r}),await t();return}const c=n.data().ultimaActualizacion?.toDate?.()||null;(!c||c<i)&&(await t(),await zl(e,{ultimaActualizacion:i,ultimaActualizacionHora:r}))}const pb=es(Vn),N4=wr(Vn);function D4(){const[t,e]=C.useState(null),[n,r]=C.useState(!0);return C.useEffect(()=>{const i=u0(pb,async a=>{if(a)try{const c=await Tt(Pe(N4,"usuarios",a.uid));c.exists()?e({uid:a.uid,...c.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(c){console.error("Error obteniendo datos de usuario:",c),e(null)}else e(null);r(!1)});return()=>i()},[]),C.useEffect(()=>{const i=async()=>{await A4(YT)&&await eV()},a=u0(pb,async c=>{c&&await i()});return()=>a()},[]),n?m.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):m.jsx(gO,{children:m.jsxs(GD,{children:[m.jsx(ao,{path:"/",element:t?m.jsx(El,{to:"/home",replace:!0}):m.jsx(_M,{})}),m.jsx(ao,{path:"/home",element:t?m.jsx(nV,{usuario:t}):m.jsx(El,{to:"/",replace:!0})}),m.jsx(ao,{path:"/mercado",element:t?m.jsx(iV,{usuario:t}):m.jsx(El,{to:"/",replace:!0})}),m.jsx(ao,{path:"/clasificacion",element:t?m.jsx(C4,{usuario:t}):m.jsx(El,{to:"/",replace:!0})}),m.jsx(ao,{path:"/equipo/:jugadorId",element:t?m.jsx(S4,{usuario:t}):m.jsx(El,{to:"/",replace:!0})}),m.jsx(ao,{path:"/historial",element:t?m.jsx(R4,{usuario:t}):m.jsx(El,{to:"/",replace:!0})}),m.jsx(ao,{path:"*",element:m.jsx(P4,{usuario:t})})]})})}$x.createRoot(document.getElementById("root")).render(m.jsx(C.StrictMode,{children:m.jsx(D4,{})}));
